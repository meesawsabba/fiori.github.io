sap.ui.define([],function(){'use strict';function g(){return{"changeHandler":{},"layers":{"VENDOR":true,"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};}var P={"changeHandler":{applyChange:function(C,p,m){var a=m.appComponent.getRootControl();var d=a.getController();d.appendIncomingDeltaChange(C);return;},completeChangeContent:function(C,s,p){return;},revertChange:function(C,o,p){return;}},"layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};var U={"changeHandler":"default","layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};var H=g();var b=g();H.changeHandler.applyChange=function(C,o,p){return c(C,o,p,false);};H.changeHandler.revertChange=function(C,o,p){return _(C,o,p,true);};H.changeHandler.completeChangeContent=function(C,s,p){C.setContent(s.removedElement);};b.changeHandler.applyChange=function(C,o,p){return c(C,o,p,true);};b.changeHandler.revertChange=function(C,o,p){return _(C,o,p,false);};b.changeHandler.completeChangeContent=function(C,s,p){C.setContent({"id":s.revealedElementId});};function _(C,o,p,v){var m=p.modifier,a=p.appComponent,M=a.getRootControl(),d=M.getController(),u=d.getUIModel(),l=d.getLayout(),s=a.createId(C.getRevertData()),e=m.bySelector(s);m.setVisible(e,v);C.resetRevertData();if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:v}]);}l.rerender();return true;}function c(C,o,p,v){var m=p.modifier,M=p.appComponent.getRootControl();if(!M){throw new Error("Main view is not initialized yet.");}var d=M.getController(),u=d.getUIModel(),l=d.getLayout(),s=C.getContent().id,A=p.appComponent,e=A.createId(s),S={id:e,isLocalId:false},f=m.bySelector(S,A,M);var h=d.deltaChanges.filter(function(a){return a._oDefinition.selector.id===C._oDefinition.content.id&&a._oDefinition.changeType==="visibility";});if(d.aManifestOrderedCards){for(var i=0;i<d.aManifestOrderedCards.length;i++){var j=C._oDefinition.content.id;var k=j.indexOf("---")+3;var n=j.substring(k);if(d.aManifestOrderedCards[i].id===n.split("--")[1]){d.oView.oController.aManifestOrderedCards[i].visibility=C._oDefinition.changeType==="hideCardContainer"?false:true;}}}if(!d.aManifestOrderedCards||h.length===0){C.setRevertData(e);m.setVisible(f,v);if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();if(L.aCards){L.updateCardVisibility([{id:L.getCardIdFromComponent(e),visibility:v}]);}d.appendIncomingDeltaChange(C);}if(v){var q=M.byId(e);if(!q.getComponentInstance()&&d.bFinishedCardsCreationProcess){var r=d._getCardFromManifest(d._getCardId(e));d.recreateRTAClonedCard(r);}}l.rerender();return true;}return false;}return{HideCardContainer:H,UnhideCardContainer:b,PersonalizationDefaultConfig:P,UnhideControlConfig:U};});
