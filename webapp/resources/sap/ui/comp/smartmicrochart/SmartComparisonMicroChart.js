/*
 * ! SAPUI5
 * (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/comp/library","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/ComparisonMicroChartData","sap/ui/core/Control","sap/ui/model/odata/CountMode","sap/ui/core/format/DateFormat","sap/m/library","sap/base/Log","sap/ui/comp/smartmicrochart/SmartMicroChartBase","./SmartMicroChartRenderer"],function(C,a,b,c,d,D,m,L,S,e){"use strict";var f=S.extend("sap.ui.comp.smartmicrochart.SmartComparisonMicroChart",{metadata:{library:"sap.ui.comp",designtime:"sap/ui/comp/designtime/smartmicrochart/SmartComparisonMicroChart.designtime"},renderer:e});f.prototype._CHART_TYPE=["Comparison"];f.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this.setProperty("chartType","Comparison",true);this.setAggregation("_chart",new a(),true);};f.prototype.onBeforeRendering=function(){var o=this.getAggregation("_chart");o.setSize(this.getSize(),true);o.setWidth(this.getWidth(),true);o.setHeight(this.getHeight(),true);};f.prototype._createAndBindInnerChart=function(){if(!(this._oDataPointAnnotations.Value&&this._oDataPointAnnotations.Value.Path)){L.error("Value DataPoint annotation missing! Cannot create the SmartComparisonMicroChart");return;}var o=this.getAggregation("_chart"),B=new b({value:{path:this._oDataPointAnnotations.Value.Path,type:"sap.ui.model.odata.type.Decimal"}});if(this._oDataPointAnnotations.Criticality&&this._oDataPointAnnotations.Criticality.Path){B.bindProperty("color",{path:this._oDataPointAnnotations.Criticality.Path,formatter:this._mapCriticalityTypeWithColor.bind(this)});}if(this._oDataPointAnnotations.Title&&this._oDataPointAnnotations.Title.Path){B.bindProperty("title",this._oDataPointAnnotations.Title.Path);}var A=this._getPropertyAnnotation.call(this,this._oDataPointAnnotations.Value.Path);var g=A["com.sap.vocabularies.Common.v1.Text"];if(g&&g.Path){B.bindProperty("displayValue",g.Path);}o.bindAggregation("data",{path:this._getBindingPath(),template:B,events:{change:this._onBindingDataChange.bind(this)}});};f.prototype._onBindingDataChange=function(){var o=this.getAggregation("_chart").getBinding("data");this._updateAssociations(o);};return f;});
