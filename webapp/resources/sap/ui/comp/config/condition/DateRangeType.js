/*
 * ! SAPUI5
 * (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/thirdparty/jquery",'sap/ui/comp/config/condition/Type','sap/ui/Device','sap/ui/core/library','sap/m/library','sap/m/Input','sap/m/DatePicker','sap/m/Text','sap/m/Select','sap/ui/core/ListItem','sap/m/Label','sap/ui/core/date/UniversalDate','sap/ui/core/format/DateFormat','sap/ui/core/Locale','sap/ui/core/LocaleData','sap/ui/model/type/Integer','sap/ui/model/Sorter','sap/ui/model/Filter',"sap/base/Log","sap/ui/core/date/UniversalDateUtils","sap/m/DynamicDateRange","sap/m/DynamicDateUtil","sap/m/DynamicDateFormat","sap/m/CustomDynamicDateOption",'sap/m/DynamicDateValueHelpUIType','sap/base/util/UriParameters',"sap/ui/dom/jquery/cursorPos"],function(q,T,D,c,l,I,a,b,S,L,d,U,e,f,g,h,m,j,k,o,p,r,t,C,u,v){"use strict";var V=c.ValueState;var P=l.PlacementType;var w=l.StandardDynamicDateRangeKeys.concat(["LAST2WEEKS","LAST3WEEKS","LAST4WEEKS","LAST5WEEKS","NEXT2WEEKS","NEXT3WEEKS","NEXT4WEEKS","NEXT5WEEKS"]);var R;var x;var B;var N=h.extend("sap.ui.model.type.NullableInteger",{parseValue:function(i,s){if(this.getPrimitiveType(s)=="string"){if(i===""){return null;}}return h.prototype.parseValue.apply(this,arguments);}});var y=T.extend("sap.ui.comp.config.condition.DateRangeType",{constructor:function(F,i,n){T.apply(this,[F,i,n]);this.oDateFormat=i&&i._oDateFormatSettings?i._oDateFormatSettings:{UTC:true};this._bIgnoreTime=false;this._maxIntValue=10000;this.bMandatory=this.oFieldMetadata?this.oFieldMetadata.isMandatory:false;}});y.prototype.applySettings=function(s){T.prototype.applySettings.apply(this,arguments);if(s&&s.ignoreTime){this._bIgnoreTime=s.ignoreTime;}};y.setStartTime=function(i){i=y.toUniversalDate(i);return o.resetStartTime(i);};y.setEndTime=function(i,n){i=y.toUniversalDate(i);if(!n){return o.resetEndTime(i);}else{return o.resetStartTime(i);}};y.toUniversalDate=function(i){if(i instanceof Date){return U.getInstance(i);}if(!i){return U.getInstance();}if(!(i instanceof U)){return y.toUniversalDate(new Date(i));}return i;};y.getWeekStartDate=function(i){return o.getWeekStartDate(i);};y.getMonthStartDate=function(i){return o.getMonthStartDate(i);};y.getQuarterStartDate=function(i){return o.getQuarterStartDate(i);};y.getYearStartDate=function(i){return o.getYearStartDate(i);};y.getDateRange=function(i,s,n,A,E){if(n===true){A=true;n=null;}if(!n){n=new U();}else{n=new U(n);}if(A){switch(s){case"DAY":break;case"WEEK":n=o.getWeekStartDate(n);break;case"MONTH":n=o.getMonthStartDate(n);break;case"QUARTER":n=o.getQuarterStartDate(n);break;case"YEAR":n=o.getYearStartDate(n);break;}}if(!E&&i>0){if(i!==0&&!isNaN(i)){var F=-1;switch(s){case"DAY":n.setDate(n.getDate()+F);break;case"WEEK":n.setDate(n.getDate()+(F*7));break;case"MONTH":n.setMonth(n.getMonth()+F);break;case"QUARTER":n.setMonth(n.getMonth()+(F*3));break;case"YEAR":n.setFullYear(n.getFullYear()+F);break;}}}return o.getRange(i,s,n,false);};y.getTextField=function(n,E){var s=T._createStableId(n,"text");if(n._oOperationSelect){var A=n._oOperationSelect.getAriaLabelledBy();var F=false;for(var i=0;i<A.length;i++){if(s===A[i]){F=true;break;}}if(!F){n._oOperationSelect.addAriaLabelledBy(s);}}if(E){return new b(s,{text:"{path: '$smartEntityFilter>value1', type:'sap.ui.model.type.Date', formatOptions:"+JSON.stringify({style:n.oDateFormat.style,pattern:n.oDateFormat.pattern})+"} - {path: '$smartEntityFilter>value2', type:'sap.ui.model.type.Date', formatOptions:"+JSON.stringify({style:n.oDateFormat.style,pattern:n.oDateFormat.pattern})+"}"});}else{return new b(s,{text:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Date',formatOptions:{style:n.oDateFormat.style,pattern:n.oDateFormat.pattern}}});}};y.getIntField=function(i){return new I(T._createStableId(i,"field"),{ariaLabelledBy:i._oOperationSelect||null,value:{path:"$smartEntityFilter>value1",type:new N({},{minimum:0,maximum:i._maxIntValue})},textAlign:"End",width:"100%"});};y.getIntFromToField=function(i,n,O){var s=new d({text:T.getTranslatedText("CONDITION_DATERANGETYPE_DATERANGE_LABELFROM")});s.addStyleClass("sapUiCompFilterBarCTPaddingTop");n.push(s);var A=i._createIntFromToControl(i,"fieldFrom","value1");s.setLabelFor(A);n.push(A);s=new d({text:T.getTranslatedText("CONDITION_DATERANGETYPE_DATERANGE_LABELTO")});s.addStyleClass("sapUiCompFilterBarCTPaddingTop");n.push(s);var E=i._createIntFromToControl(i,"fieldTo","value2");s.setLabelFor(E);n.push(E);i._setIntControlBinding(A,O,"value1");i._setIntControlBinding(E,O,"value2");};y.ControlFactory=function(i,n,O){if(O.type==="range"){var s=y.getTextField(i,O.display!=="start");s.addStyleClass("sapUiCompFilterBarCTPaddingTop");n.push(s);return;}if(O.type==="int"){var s=y.getIntField(i);n.push(s);if(O.descriptionTextKeys){s.setFieldWidth("auto");s.bindProperty("description",{path:"$smartEntityFilter>value1",type:"sap.ui.model.type.Integer",formatter:function(){var A=O.descriptionTextKeys[0];var E=O.descriptionTextKeys[1];if(this.getBinding("description").getValue()===1){return T.getTranslatedText(A);}else{return T.getTranslatedText(E||A);}}});}}if(O.type==="[int,int]"){y.getIntFromToField(i,n,O);}};y._defaultOnChangeHandler=function(s,i){if(s.toLowerCase()===this.languageText.toLowerCase()){i.oModel.setProperty("/condition/operation",this.key);i.oModel.setProperty("inputstate","NONE",i.getContext());if(this.category.indexOf("FIXED")!==0){i.oModel.setProperty("inputstate","ERROR",i.getContext());}return true;}return false;};y._IntOnChangeHandler=function(s,i){if(this.basicLanguageText.indexOf("{0}")>=0){var n=new RegExp(this.basicLanguageText.replace("+","\\+").replace("{0}","([a-zA-Z0-9_]+)")+"$",'i');if(s.match(n)){var s=s.match(n)[1];if(s){var A=parseInt(s);if(!isNaN(A)&&A<=i._maxIntValue){i.oModel.setProperty("/condition/operation",this.key);i.oModel.setProperty("/condition/value1",A);i.oModel.setProperty("inputstate","NONE",i.getContext());}else{i.oModel.setProperty("inputstate","ERROR",i.getContext());}return true;}}}return false;};y._IntFromToOnChangeHandler=function(s,i){if(this.basicLanguageText.indexOf("- {0}")>=0&&this.basicLanguageText.indexOf("+ {1}")>=0){var n=new RegExp(this.basicLanguageText.replace("/","\\/").replace("- {0}","(\\- (\\()?((-)?([a-zA-Z0-9_]+))(\\))?)").replace("+ {1}","(\\+ (\\()?((-)?([a-zA-Z0-9_]+))(\\))?)")+"$",'i');var A=s.match(n);if(A){var E=A[3];var F=A[9];if(E&&F){var G=parseInt(E);var H=parseInt(F);if(i._isValidFromToPeriod(G,H)){i.oModel.setProperty("/condition/operation",this.key);i.oModel.setProperty("/condition/value1",G);i.oModel.setProperty("/condition/value2",H);i.oModel.setProperty("inputstate","NONE",i.getContext());}else{i.oModel.setProperty("inputstate","ERROR",i.getContext());}return true;}}}return false;};y._DateOnChangeHandler=function(i,n){if(i.toLowerCase().indexOf(this.languageText.toLowerCase())===0){var s=i.slice(this.languageText.length);if(s.length>0&&s[0]===" "){s=s.trim();if(s[0]==="("&&s[s.length-1]===")"){s=s.slice(1,s.length-1);}var A=n._getDateFormatter(true);var E=A.parse(s);if(E){n.oModel.setProperty("/condition/operation",this.key);n.oModel.setProperty("/condition/value1",E);n.oModel.setProperty("inputstate","NONE",n.getContext());}else{n.oModel.setProperty("inputstate","ERROR",n.getContext());}return true;}}return false;};y._DateWithDefaultsOnChangeHandler=function(s,i){var n,A,E,F,G,H=s.toLowerCase().indexOf(this.languageText.toLowerCase())===0;if(H){n=i._getDateFormatter(true);A=typeof this.defaultValues==="function"&&this.defaultValues();E=A[0]&&A[0].oDate;if(s.indexOf(this.languageText+" ")===0){F=s.slice(this.languageText.length+1);if(F[0]==="("&&F[F.length-1]===")"){F=F.slice(1,F.length-1);}}G=n.parse(F);if(G instanceof Date&&G.getTime()!==E.getTime()){return false;}}return y._DateOnChangeHandler.apply(this,arguments);};y._DateRangeOnChangeHandler=function(i,n){if(i.toLowerCase().indexOf(this.languageText.toLowerCase())===0){var s=i.slice(this.languageText.length).trim();if(s[0]==="("&&s[s.length-1]===")"){s=s.slice(1,s.length-1);}var A=s.split("-")[0];var E=s.split("-")[1];var F=n._getDateFormatter(true);var G=F.parse(A);var H=F.parse(E);if(G&&H){n.oModel.setProperty("/condition/operation",this.key);n.oModel.setProperty("/condition/value1",G);n.oModel.setProperty("/condition/value2",H);n.oModel.setProperty("inputstate","NONE",n.getContext());}else{n.oModel.setProperty("inputstate","ERROR",n.getContext());}return true;}return false;};y._MonthOnChangeHandler=function(s,i){var M;var n=false;if(s.toLowerCase().indexOf(this.languageText.toLowerCase())===0){M=s.slice(this.languageText.length).trim();if(M.indexOf("(")==0){M=M.slice(1);M=M.slice(0,M.length-1);}n=true;}else{M=s;}var A=this.getValueList();var E=-1;A.some(function(F,G){var n=F.text.toLowerCase()===M.toLowerCase();if(n){E=G;}return n;});if(E>-1){i.oModel.setProperty("/condition/operation",this.key);i.oModel.setProperty("/condition/value1",E);i.oModel.setProperty("inputstate","NONE",i.getContext());return true;}else{if(n){i.oModel.setProperty("inputstate","ERROR",i.getContext());}return n;}};y._DefaultFilterSuggestItem=function(s,n,A){var M=false;if(this.languageText.toLowerCase().startsWith(s.toLowerCase())){M=true;}else{var W=this.languageText.split(" ");for(var i=0;i<W.length;i++){var E=W[i];if(E.toLowerCase().startsWith(s.toLowerCase())){M=true;}}}n.setAdditionalText(this.textValue);n.setText(this.languageText);return M;};y._HideFilterSuggestItem=function(s,i,n){return false;};y._IntFilterSuggestItem=function(s,i,n){if(!this.basicLanguageText){this.basicLanguageText=n.basicLanguageText;}if(!this.basicLanguageText){this.basicLanguageText=this.languageText||T.getTranslatedText(this.textKey);}var A=this.basicLanguageText.indexOf("{0}");var E;var F;if(A>=0){E=this.basicLanguageText.slice(0,A).trim();F=this.basicLanguageText.slice(A+3).trim();}var G=s.split(" ");if(G.length<1||G.length>3){return false;}var M=false;var H;var J=function(s){return!!s.match(/(^[0-9]+$)/)&&parseInt(s)>=0;};if(E.toLowerCase().startsWith(G[0].toLowerCase())){if(G[1]){if(J(G[1])){H=G[1];if(G[2]){if(F.toLowerCase().startsWith(G[2].toLowerCase())){M=true;}}else{M=true;}}}else{M=true;}}else if(J(G[0])&&G.length<3){H=G[0];if(G[1]){if(F.toLowerCase().startsWith(G[1].toLowerCase())){M=true;}}else{M=true;}}else if(F.toLowerCase().startsWith(G[0].toLowerCase())&&G.length==1){M=true;}if(M&&H){var K;switch(this.category){case"DYNAMIC.DATE.INT":K="DAY";break;case"DYNAMIC.WEEK.INT":K="WEEK";break;case"DYNAMIC.MONTH.INT":K="MONTH";break;case"DYNAMIC.QUARTER.INT":K="QUARTER";break;case"DYNAMIC.YEAR.INT":K="YEAR";break;default:K="DAY";break;}var O=parseInt(H),Q=true;if(!n._maxIntValue){n._maxIntValue=n.getControls(n.key)[0].getBindingInfo('value').type.oConstraints.maximum;}if(O>n._maxIntValue){M=false;}if(this.key.startsWith("LAST")){O=O*-1;Q=false;}var W;if(this.getDateRange){var X=this.getDateRange({operation:this.key,value1:O});W=[X.value1,X.value2];}else{W=y.getDateRange(O,K,true,Q,Q);}var Y=n._getDateFormatter(true);if(Math.abs(O)===1&&this.singulareBasicLanguageText){i.setText(this.singulareBasicLanguageText);if(K!=="DAY"){i.setAdditionalText(Y.format(W[0])+" - "+Y.format(W[1]));}else{i.setAdditionalText(Y.format(W[0]));}}else{i.setText(n._fillNumberToText(this.basicLanguageText,H));i.setAdditionalText(Y.format(W[0])+" - "+Y.format(W[1]));}i._value1=parseInt(H);}else{i.setAdditionalText(null);i.setText(this.languageText);i._value1=null;}return M;};y._IntFromToFilterSuggestItem=function(s,i,n){var A=new RegExp("(\\- ([0-9]+))",'i'),E=new RegExp("(\\+ ([0-9]+))",'i'),F=new RegExp("(\\- ((\\(-)?([0-9]+)(\\)))?)",'i'),G=new RegExp("(\\+ ((\\(-)?([0-9]+)(\\)))?)",'i'),H=s.match(A),J=s.match(E),K=s.match(F),M=s.match(G);if((!H&&!K)||(!J&&!M)){i.setAdditionalText(null);i.setText(this.languageText);i._value1=null;i._value2=null;return false;}var O=function($,a1){if($&&!isNaN($[2])){return parseInt($[2]);}else if(a1&&a1[2]){var s=a1[2].replace("(","").replace(")","");if(!isNaN(s)){return parseInt(s);}}return null;},Q,W;Q=O(H,K);W=O(J,M);if(!n._isValidFromToPeriod(Q,W)){i.setAdditionalText(null);i.setText(this.languageText);i._value1=null;i._value2=null;return false;}var X=n._getDateFormatter(true),Y,Z;Y=n._getTodayFromToValueFrom(Q);Z=n._getTodayFromToValueTo(W);i.setText(n._fillNumberToText(this.basicLanguageText,Q,W));i.setAdditionalText(X.format(Y)+" - "+X.format(Z));i._value1=Q;i._value2=W;return true;};y._DateFilterSuggestItem=function(s,i,n){var A=n._getDateFormatter(true);var E=A.parse(s);if(E){i.setText(this.languageText+" ("+A.format(E)+")");i._value1=E;return true;}else{i.setText(this.languageText);i._value1=null;return false;}};y._DateRangeFilterSuggestItem=function(s,i,n){var A=n._getDateFormatter(true);var E,F;var G="-";var H=false;var J=s.split(G);if(J.length===2){if(J[0].slice(J[0].length-1,J[0].length)==" "){J[0]=J[0].slice(0,J[0].length-1);}if(J[1].slice(0,1)==" "){J[1]=J[1].slice(1);}}else{J=s.split(" "+G+" ");}if(J.length<2){var K=s.split(" ");if(K.length===2){J=K;}}if(J.length>=1&&J.length<=2){E=A.parse(J[0]);if(E){i._value1=E;if(J.length==2&&J[1]===""){J.splice(1,1);}if(J.length==2){F=A.parse(J[1]);if(F){i._value2=F;H=true;i.setText(this.languageText+" ("+A.format(E)+" "+G+" "+A.format(F)+")");}}else{H=true;i.setText(this.languageText+" ("+A.format(E)+" "+G+")");}}}if(!H){i.setText(this.languageText);i._value1=null;i._value2=null;}return H;};y._MonthFilterSuggestItem=function(s,n,A){var M=false;n._value1=null;var E=this.getValueList();for(var i=0;i<E.length;i++){var F=E[i];M=F.text.toLowerCase().startsWith(s.toLowerCase());if(M){n.setText(this.languageText+" ("+F.text+")");n._value1=i;break;}}return M;};y._DefaultOnItemSelected=function(s,i,n){n.oModel.setProperty("/condition/operation",this.key);if("value1"in this){n.oModel.setProperty("/condition/value1",i._value1);}if("value2"in this){n.oModel.setProperty("/condition/value2",i._value2);}n.oModel.setProperty("inputstate","NONE",n.getContext());n._bSuggestItemSelected=true;};y._IntOnItemSelected=function(s,i,n){var A=i._value1;n.oModel.setProperty("/condition/operation",this.key);n.oModel.setProperty("/condition/value1",A);n.oModel.setProperty("inputstate","NONE",n.getContext());n._bSuggestItemSelected=true;};y._IntOnItemsSelected=function(s,i,n){var A=i._value1;var E=i._value2;n.oModel.setProperty("/condition/operation",this.key);n.oModel.setProperty("/condition/value1",A);n.oModel.setProperty("/condition/value2",E);n.oModel.setProperty("inputstate","NONE",n.getContext());n._bSuggestItemSelected=true;};y.getFixedRangeOperation=function(K,s,i,n,F,O){return{key:K,textKey:s,category:i,order:O||100,defaultValues:n||null,type:"range",display:"range",filterSuggestItem:F||y._DefaultFilterSuggestItem,onItemSelected:y._DefaultOnItemSelected,getControls:y.ControlFactory};};y.createSingleIntRangeOperation=function(K,s,i,n,A,E,O,Z){return{key:K,textKey:s,singularTextKey:i,zeroNumberTextKey:Z,category:n,order:O,defaultValues:[A],value1:null,type:"int",descriptionTextKeys:E,onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory,_getInitialValues:function(F){return[F.value1,F.value2];}};};y.Operations={DATERANGE:{key:"DATERANGE",textKey:"CONDITION_DATERANGETYPE_DATERANGE",category:"DYNAMIC.DATERANGE",order:2,defaultOperation:true,defaultValues:[null,null],value1:null,value2:null,onChange:y._DateRangeOnChangeHandler,filterSuggestItem:y._DateRangeFilterSuggestItem,onItemSelected:y._DefaultOnItemSelected,getControls:function(i,n){var s=false,A=false,E=new d({text:T.getTranslatedText("CONDITION_DATERANGETYPE_DATERANGE_LABELFROM")});E.addStyleClass("sapUiCompFilterBarCTPaddingTop");n.push(E);var F=new a(T._createStableId(i,"field1"),{dateValue:{path:"$smartEntityFilter>value1"},maxDate:{path:"$smartEntityFilter>value2"},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||"",change:function(H){var J=H.getSource(),K=H.getParameter("valid");J.setValueState(K?V.None:V.Error);if(!s){s=true;J.getBinding("maxDate").attachChange(function(H){i.datePickerValidateLastValue(J);});}}});E.setLabelFor(F);n.push(F);E=new d({text:T.getTranslatedText("CONDITION_DATERANGETYPE_DATERANGE_LABELTO")});E.addStyleClass("sapUiCompFilterBarCTPaddingTop");n.push(E);var G=new a(T._createStableId(i,"field2"),{dateValue:{path:"$smartEntityFilter>value2"},minDate:{path:"$smartEntityFilter>value1"},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||"",change:function(H){var J=H.getSource(),K=H.getParameter("valid");J.setValueState(K?V.None:V.Error);if(!A){A=true;J.getBinding("minDate").attachChange(function(H){i.datePickerValidateLastValue(J);});}}});E.setLabelFor(G);n.push(G);}},DATE:{key:"DATE",textKey:"CONDITION_DATERANGETYPE_DATE",category:"DYNAMIC.DATE",order:0,defaultValues:[null],value1:null,onChange:y._DateOnChangeHandler,filterSuggestItem:y._DateFilterSuggestItem,onItemSelected:y._DefaultOnItemSelected,getControls:function(i,n){var s=new a(T._createStableId(i,"field"),{ariaLabelledBy:i._oOperationSelect||null,dateValue:{path:"$smartEntityFilter>value1"},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||"",change:function(E){var A=E.getParameter("valid");if(A){this.getModel("$smartEntityFilter").setProperty("inputstate","NONE",this.getModel("$smartEntityFilter").getContext("/"));}else{this.getModel("$smartEntityFilter").setProperty("inputstate","ERROR",this.getModel("$smartEntityFilter").getContext("/"));}}});n.push(s);}},FROM:{key:"FROM",textKey:"CONDITION_DATERANGETYPE_FROM",category:"DYNAMIC.DATE",order:0,defaultValues:[null],value1:null,onChange:y._DateOnChangeHandler,filterSuggestItem:y._DateFilterSuggestItem,onItemSelected:y._DefaultOnItemSelected,getControls:function(i,n){var s=new a(T._createStableId(i,"field"),{ariaLabelledBy:i._oOperationSelect||null,dateValue:{path:"$smartEntityFilter>value1"},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||"",change:function(E){var A=E.getParameter("valid");if(A){this.getModel("$smartEntityFilter").setProperty("inputstate","NONE",this.getModel("$smartEntityFilter").getContext("/"));}else{this.getModel("$smartEntityFilter").setProperty("inputstate","ERROR",this.getModel("$smartEntityFilter").getContext("/"));}}});n.push(s);}},TO:{key:"TO",textKey:"CONDITION_DATERANGETYPE_TO",category:"DYNAMIC.DATE",order:1,defaultValues:[null],value1:null,onChange:y._DateOnChangeHandler,filterSuggestItem:y._DateFilterSuggestItem,onItemSelected:y._DefaultOnItemSelected,getControls:function(i,n,O){var s=new a(T._createStableId(i,"field"),{ariaLabelledBy:i._oOperationSelect||null,dateValue:{path:"$smartEntityFilter>value1"},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||"",change:function(E){var A=E.getParameter("valid");if(A){this.getModel("$smartEntityFilter").setProperty("inputstate","NONE",this.getModel("$smartEntityFilter").getContext("/"));}else{this.getModel("$smartEntityFilter").setProperty("inputstate","ERROR",this.getModel("$smartEntityFilter").getContext("/"));}}});n.push(s);}},LASTDAYS:y.createSingleIntRangeOperation("LASTDAYS","CONDITION_DATERANGETYPE_LASTDAYS","CONDITION_DATERANGETYPE_YESTERDAY","DYNAMIC.DATE.INT",1,["CONDITION_DATERANGETYPE_SINGLE_DAY","CONDITION_DATERANGETYPE_MULTIPLE_DAYS"],4,"CONDITION_DATERANGETYPE_TODAY"),LASTWEEKS:y.createSingleIntRangeOperation("LASTWEEKS","CONDITION_DATERANGETYPE_LASTWEEKS","CONDITION_DATERANGETYPE_LASTWEEK","DYNAMIC.WEEK.INT",1,["CONDITION_DATERANGETYPE_SINGLE_WEEK","CONDITION_DATERANGETYPE_MULTIPLE_WEEKS"],8,"CONDITION_DATERANGETYPE_THISWEEK"),LASTMONTHS:{key:"LASTMONTHS",textKey:"CONDITION_DATERANGETYPE_LASTMONTHS",singularTextKey:"CONDITION_DATERANGETYPE_LASTMONTH",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISMONTH",category:"DYNAMIC.MONTH.INT",order:14,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_MONTH","CONDITION_DATERANGETYPE_MULTIPLE_MONTHS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},LASTQUARTERS:{key:"LASTQUARTERS",textKey:"CONDITION_DATERANGETYPE_LASTQUARTERS",singularTextKey:"CONDITION_DATERANGETYPE_LASTQUARTER",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISQUARTER",category:"DYNAMIC.QUARTER.INT",order:19,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_QUARTER","CONDITION_DATERANGETYPE_MULTIPLE_QUARTERS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},LASTYEARS:{key:"LASTYEARS",textKey:"CONDITION_DATERANGETYPE_LASTYEARS",singularTextKey:"CONDITION_DATERANGETYPE_LASTYEAR",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISYEAR",category:"DYNAMIC.YEAR.INT",order:28,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_YEAR","CONDITION_DATERANGETYPE_MULTIPLE_YEARS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},NEXTDAYS:{key:"NEXTDAYS",textKey:"CONDITION_DATERANGETYPE_NEXTDAYS",singularTextKey:"CONDITION_DATERANGETYPE_TOMORROW",zeroNumberTextKey:"CONDITION_DATERANGETYPE_TODAY",category:"DYNAMIC.DATE.INT",order:5,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_DAY","CONDITION_DATERANGETYPE_MULTIPLE_DAYS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},NEXTWEEKS:{key:"NEXTWEEKS",textKey:"CONDITION_DATERANGETYPE_NEXTWEEKS",singularTextKey:"CONDITION_DATERANGETYPE_NEXTWEEK",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISWEEK",category:"DYNAMIC.WEEK.INT",order:10,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_WEEK","CONDITION_DATERANGETYPE_MULTIPLE_WEEKS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},NEXTMONTHS:{key:"NEXTMONTHS",textKey:"CONDITION_DATERANGETYPE_NEXTMONTHS",singularTextKey:"CONDITION_DATERANGETYPE_NEXTMONTH",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISMONTH",category:"DYNAMIC.MONTH.INT",order:16,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_MONTH","CONDITION_DATERANGETYPE_MULTIPLE_MONTHS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},NEXTQUARTERS:{key:"NEXTQUARTERS",textKey:"CONDITION_DATERANGETYPE_NEXTQUARTERS",singularTextKey:"CONDITION_DATERANGETYPE_NEXTQUARTER",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISQUARTER",category:"DYNAMIC.QUARTER.INT",order:21,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_QUARTER","CONDITION_DATERANGETYPE_MULTIPLE_QUARTERS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},NEXTYEARS:{key:"NEXTYEARS",textKey:"CONDITION_DATERANGETYPE_NEXTYEARS",singularTextKey:"CONDITION_DATERANGETYPE_NEXTYEAR",zeroNumberTextKey:"CONDITION_DATERANGETYPE_THISYEAR",category:"DYNAMIC.YEAR.INT",order:30,defaultValues:[1],value1:null,type:"int",descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_YEAR","CONDITION_DATERANGETYPE_MULTIPLE_YEARS"],onChange:y._IntOnChangeHandler,filterSuggestItem:y._IntFilterSuggestItem,onItemSelected:y._IntOnItemSelected,getControls:y.ControlFactory},SPECIFICMONTH:{key:"SPECIFICMONTH",textKey:"CONDITION_DATERANGETYPE_SPECIFICMONTH",category:"DYNAMIC.MONTH",order:11,defaultValues:function(){var i=new U();return[i.getMonth()];},value1:null,onChange:y._MonthOnChangeHandler,onItemSelected:y._DefaultOnItemSelected,filterSuggestItem:y._MonthFilterSuggestItem,getControls:function(i,n,O){var s=new S(T._createStableId(i,"field"),{ariaLabelledBy:i._oOperationSelect||null,width:"100%",selectedKey:{path:"$smartEntityFilter>value1",type:"sap.ui.model.type.Integer"}});s.bindAggregation("items",{path:"$smartEntityFilter>/currentoperation/valueList",template:new L({text:{path:"$smartEntityFilter>text"},key:{path:"$smartEntityFilter>key"}}),templateShareable:false});n.push(s);},getValueList:function(){var n=new U(),M=[],F=e.getDateInstance({pattern:"LLLL"});n.setDate(15);n.setMonth(0);for(var i=0;i<12;i++){M.push({text:F.format(n),key:i});n.setMonth(n.getMonth()+1);}return M;}},YESTERDAY:{key:"YESTERDAY",textKey:"CONDITION_DATERANGETYPE_YESTERDAY",category:"FIXED.DATE",order:3.1,defaultValues:function(){return o.ranges.yesterday();},type:"range",display:"start",onChange:y._DateWithDefaultsOnChangeHandler,onItemSelected:y._DefaultOnItemSelected,getControls:y.ControlFactory},TODAY:{key:"TODAY",textKey:"CONDITION_DATERANGETYPE_TODAY",category:"FIXED.DATE",order:3,defaultValues:function(){return o.ranges.today();},type:"range",display:"start",onChange:y._DateWithDefaultsOnChangeHandler,onItemSelected:y._DefaultOnItemSelected,getControls:y.ControlFactory},TOMORROW:{key:"TOMORROW",textKey:"CONDITION_DATERANGETYPE_TOMORROW",category:"FIXED.DATE",order:3.2,defaultValues:function(){var i=o.ranges.tomorrow();return i;},type:"range",display:"start",onChange:y._DateWithDefaultsOnChangeHandler,onItemSelected:y._DefaultOnItemSelected,getControls:y.ControlFactory},THISWEEK:y.getFixedRangeOperation("THISWEEK","CONDITION_DATERANGETYPE_THISWEEK","FIXED.WEEK",function(){return o.ranges.currentWeek();},y._DefaultFilterSuggestItem,6),LASTWEEK:y.getFixedRangeOperation("LASTWEEK","CONDITION_DATERANGETYPE_LASTWEEK","FIXED.WEEK",function(){return o.ranges.lastWeek();},y._DefaultFilterSuggestItem,7),LAST2WEEKS:y.getFixedRangeOperation("LAST2WEEKS","CONDITION_DATERANGETYPE_LAST2WEEKS","FIXED.WEEK",function(){return o.ranges.lastWeeks(-2);},y._HideFilterSuggestItem,-1),LAST3WEEKS:y.getFixedRangeOperation("LAST3WEEKS","CONDITION_DATERANGETYPE_LAST3WEEKS","FIXED.WEEK",function(){return o.ranges.lastWeeks(-3);},y._HideFilterSuggestItem,-1),LAST4WEEKS:y.getFixedRangeOperation("LAST4WEEKS","CONDITION_DATERANGETYPE_LAST4WEEKS","FIXED.WEEK",function(){return o.ranges.lastWeeks(-4);},y._HideFilterSuggestItem,-1),LAST5WEEKS:y.getFixedRangeOperation("LAST5WEEKS","CONDITION_DATERANGETYPE_LAST5WEEKS","FIXED.WEEK",function(){return o.ranges.lastWeeks(-5);},y._HideFilterSuggestItem,-1),NEXTWEEK:y.getFixedRangeOperation("NEXTWEEK","CONDITION_DATERANGETYPE_NEXTWEEK","FIXED.WEEK",function(){return o.ranges.nextWeek();},y._DefaultFilterSuggestItem,9),NEXT2WEEKS:y.getFixedRangeOperation("NEXT2WEEKS","CONDITION_DATERANGETYPE_NEXT2WEEKS","FIXED.WEEK",function(){return o.ranges.nextWeeks(2);},y._HideFilterSuggestItem,-1),NEXT3WEEKS:y.getFixedRangeOperation("NEXT3WEEKS","CONDITION_DATERANGETYPE_NEXT3WEEKS","FIXED.WEEK",function(){return o.ranges.nextWeeks(3);},y._HideFilterSuggestItem,-1),NEXT4WEEKS:y.getFixedRangeOperation("NEXT4WEEKS","CONDITION_DATERANGETYPE_NEXT4WEEKS","FIXED.WEEK",function(){return o.ranges.nextWeeks(4);},y._HideFilterSuggestItem,-1),NEXT5WEEKS:y.getFixedRangeOperation("NEXT5WEEKS","CONDITION_DATERANGETYPE_NEXT5WEEKS","FIXED.WEEK",function(){return o.ranges.nextWeeks(5);},y._HideFilterSuggestItem,-1),THISMONTH:y.getFixedRangeOperation("THISMONTH","CONDITION_DATERANGETYPE_THISMONTH","FIXED.MONTH",function(){return o.ranges.currentMonth();},y._DefaultFilterSuggestItem,12),LASTMONTH:y.getFixedRangeOperation("LASTMONTH","CONDITION_DATERANGETYPE_LASTMONTH","FIXED.MONTH",function(){return o.ranges.lastMonth();},y._DefaultFilterSuggestItem,13),NEXTMONTH:y.getFixedRangeOperation("NEXTMONTH","CONDITION_DATERANGETYPE_NEXTMONTH","FIXED.MONTH",function(){return o.ranges.nextMonth();},y._DefaultFilterSuggestItem,15),THISQUARTER:y.getFixedRangeOperation("THISQUARTER","CONDITION_DATERANGETYPE_THISQUARTER","FIXED.QUARTER",function(){return o.ranges.currentQuarter();},y._DefaultFilterSuggestItem,17),LASTQUARTER:y.getFixedRangeOperation("LASTQUARTER","CONDITION_DATERANGETYPE_LASTQUARTER","FIXED.QUARTER",function(){return o.ranges.lastQuarter();},y._DefaultFilterSuggestItem,18),NEXTQUARTER:y.getFixedRangeOperation("NEXTQUARTER","CONDITION_DATERANGETYPE_NEXTQUARTER","FIXED.QUARTER",function(){return o.ranges.nextQuarter();},y._DefaultFilterSuggestItem,20),YEARTODATE:y.getFixedRangeOperation("YEARTODATE","CONDITION_DATERANGETYPE_YEARTODATE","FIXED.YEAR",function(){return o.ranges.yearToDate();},y._DefaultFilterSuggestItem,31),THISYEAR:y.getFixedRangeOperation("THISYEAR","CONDITION_DATERANGETYPE_THISYEAR","FIXED.YEAR",function(){return o.ranges.currentYear();},y._DefaultFilterSuggestItem,26),LASTYEAR:y.getFixedRangeOperation("LASTYEAR","CONDITION_DATERANGETYPE_LASTYEAR","FIXED.YEAR",function(){return o.ranges.lastYear();},y._DefaultFilterSuggestItem,27),NEXTYEAR:y.getFixedRangeOperation("NEXTYEAR","CONDITION_DATERANGETYPE_NEXTYEAR","FIXED.YEAR",function(){return o.ranges.nextYear();},y._DefaultFilterSuggestItem,29),QUARTER1:y.getFixedRangeOperation("QUARTER1","CONDITION_DATERANGETYPE_QUARTER1","FIXED.QUARTER",function(){return o.ranges.quarter(1);},y._DefaultFilterSuggestItem,22),QUARTER2:y.getFixedRangeOperation("QUARTER2","CONDITION_DATERANGETYPE_QUARTER2","FIXED.QUARTER",function(){return o.ranges.quarter(2);},y._DefaultFilterSuggestItem,23),QUARTER3:y.getFixedRangeOperation("QUARTER3","CONDITION_DATERANGETYPE_QUARTER3","FIXED.QUARTER",function(){return o.ranges.quarter(3);},y._DefaultFilterSuggestItem,24),QUARTER4:y.getFixedRangeOperation("QUARTER4","CONDITION_DATERANGETYPE_QUARTER4","FIXED.QUARTER",function(){return o.ranges.quarter(4);},y._DefaultFilterSuggestItem,25),TODAYFROMTO:{key:"TODAYFROMTO",textKey:"CONDITION_DATERANGETYPE_TODAYFROMTO",singularTextKey:"CONDITION_DATERANGETYPE_TODAYFROMTO",category:"DYNAMIC.DATE.INT",order:3.3,defaultValues:[1,1],type:"[int,int]",display:"int",value1:null,value2:null,descriptionTextKeys:["CONDITION_DATERANGETYPE_SINGLE_DAY","CONDITION_DATERANGETYPE_MULTIPLE_DAYS"],onChange:y._IntFromToOnChangeHandler,filterSuggestItem:y._IntFromToFilterSuggestItem,onItemSelected:y._IntOnItemsSelected,getControls:y.ControlFactory}};y.prototype.getControls=function(O){var i=[];if(!O){return;}O.getControls(this,i,O);return i;};y.prototype.setIgnoreTime=function(i){this._bIgnoreTime=i;};T.prototype.getIgnoreTime=function(i){return this._bIgnoreTime;};y.prototype.getDefaultValues=function(O){if(!O){return[];}var i=O.defaultValues||[];if(typeof i==="function"){i=O.defaultValues();}var n=this.getCondition(),s=i[0]||null,A=i[1]||null;if(O.key==="DATERANGE"&&n&&n.value1&&n.value2&&(n.value1 instanceof Date&&n.value2 instanceof Date||n.value1.oDate&&n.value2.oDate)){s=n.value1.oDate||n.value1;A=n.value2.oDate||n.value2;}else{if(s instanceof Date){s=new U(s);}if(A instanceof Date){A=new U(A);}}return[s,A];};y.prototype.getOperations=function(){var O=[];for(var n in y.Operations){var i=y.Operations[n];if(this._filterOperation(i)){O.push(i);}}return O;};y.prototype._updateOperation=function(O){T.prototype._updateOperation.apply(this,[O]);if(O.languageText&&!O.basicLanguageText){O.basicLanguageText=O.languageText;if(!O.singulareBasicLanguageText&&O.singularTextKey){O.singulareBasicLanguageText=this.getTranslatedText(O.singularTextKey);}if(!O.zeroNumberLanguageText&&O.zeroNumberTextKey){O.zeroNumberLanguageText=this.getTranslatedText(O.zeroNumberTextKey);}O.languageText=this._fillNumberToText(O.languageText);}if(O.display){var i=this.getDefaultValues(O);var n=this._getDateFormatter(false);if(O.display==="start"&&i[0]!==null){O.textValue=n.format(i[0].oDate);}else if(O.display==="range"&&i&&i[0]&&i[1]){O.textValue=n.format(i[0].oDate)+" - "+n.format(i[1].oDate);}}O.suggestText=O.languageText;};y.prototype.isValidCondition=function(){var i=this.getCondition(),O=this.getOperation(i.operation);if(O&&i&&i.key&&i.operation){if("value1"in O&&"value2"in O){return"value1"in i&&i.value1!==null&&"value2"in i&&i.value2!==null;}else if("value1"in O){return"value1"in i&&i.value1!==null;}else if("value2"in O){return"value2"in i&&i.value2!==null;}else if(!("value1"in O)&&!("value2"in O)){return true;}}return false;};y.prototype.hasSemanticDate=function(J){var O=this.getOperations();if(J.ranges[0].semantic&&J.ranges[0].semantic.operation){var i=0;for(i=0;i<O.length;i++){if(O[i].key.indexOf(J.ranges[0].semantic.operation)!==-1){return true;}}return false;}};y.prototype.providerDataUpdated=function(i,n){};y.prototype.initialize=function(J){T.prototype.initialize.apply(this,[J]);this.oModel.suspend();var O=Object.assign({},J,true),s,i;var n=(new U()).getCalendarType();if(!J.conditionTypeInfo){if(J.ranges&&J.ranges.length==1){var A;if(this.hasSemanticDate(J)){A=J.ranges[0].semantic.operation;if(J.ranges[0].semantic.value1||J.ranges[0].semantic.value1==0){s=J.ranges[0].semantic.value1;}if(J.ranges[0].semantic.value2||J.ranges[0].semantic.value2==0){i=J.ranges[0].semantic.value2;}if(this.getDefaultOperation().key===A){var E=this.getOperation(A),F=E&&E._getInitialValues?E._getInitialValues(J):null;if(!F){F=this.getDefaultValues(E);}if((F[0]&&F[0].oDate&&F[0].oDate.toISOString()!==J.ranges[0].value1)||(F[1]&&F[1].oDate&&F[1].oDate.toISOString()!==J.ranges[0].value2)){A="DATERANGE";}}}else{A="DATERANGE";}if(J.ranges[0].operation==="GE"){A="FROM";}if(J.ranges[0].operation==="LE"){A="TO";}J.conditionTypeInfo={name:this.getName(),data:{key:this.sFieldName,operation:A,value1:(s||s==0)?s:J.ranges[0].value1,value2:(i||i==0)?i:J.ranges[0].value2,calendarType:n}};}else{var E=this.getDefaultOperation(),K=E?E.key:"";J.conditionTypeInfo={name:this.getName(),data:{key:this.sFieldName,operation:K,calendarType:n}};}}if(J.conditionTypeInfo){J=J.conditionTypeInfo;}if(J.name&&J.data){if(J.name!==this.getName()){k.debug("ConditionType "+this.getName()+" tries to deserialize data from "+J.name);}J=J.data;}if(!J.operation){return;}if(this.getOperation(J.operation)&&this.getOperation(J.operation).order<0){var G=["LAST2WEEKS","LAST3WEEKS","LAST4WEEKS","LAST5WEEKS"].indexOf(J.operation);if(G>=0){J.operation="LASTWEEKS";J.value1=G+2;}G=["NEXT2WEEKS","NEXT3WEEKS","NEXT4WEEKS","NEXT5WEEKS"].indexOf(J.operation);if(G>=0){J.operation="NEXTWEEKS";J.value1=G+2;}}var H=this.getOperation(J.operation);if(!H){if(this.getAsync()){this.setPending(true);var M=this,Q=function($){if($.getParameter("pending")===false){M.oFilterProvider.detachPendingChange(Q);M.initialize(O);}};this.oFilterProvider.attachPendingChange(Q);this.oModel.resume();return;}}var W;if(n!==J.calendarType&&(J.calendarType==="Islamic"||n==="Islamic")&&J.operation==="SPECIFICMONTH"){J.operation="DATERANGE";var X=parseInt(J.value1),Y=U.getInstance(new Date(),J.calendarType);Y.setMonth(X);Y=o.getMonthStartDate(Y);W=o.getRange(0,"MONTH",Y);J.value1=W[0].oDate.toISOString();J.value2=W[1].oDate.toISOString();}var Z=this.getConditionContext().getObject();Z.operation=J.operation;Z.key=J.key;Z.value1=null;Z.value2=null;if(J.operation==="DATERANGE"){if(typeof J.value1==="string"){J.value1=J.value1===""?null:(new U(J.value1)).oDate;}if(typeof J.value2==="string"){J.value2=J.value2===""?null:(new U(J.value2)).oDate;}Z.value1=J.value1;Z.value2=J.value2;}else if(["DATE","FROM","TO"].indexOf(J.operation)!==-1){if(typeof J.value1==="string"){J.value1=J.value1===""?null:(new U(J.value1)).oDate;}Z.value1=J.value1;}else if(["LASTDAYS","LASTWEEKS","LASTMONTHS","LASTQUARTERS","LASTYEARS","NEXTDAYS","NEXTWEEKS","NEXTMONTHS","NEXTQUARTERS","NEXTYEARS"].indexOf(J.operation)>-1){Z.value1=J.value1;}else if(J.operation==="SPECIFICMONTH"){Z.value1=J.value1+"";}else if(J.operation==="TODAYFROMTO"){Z.value1=J.value1;Z.value2=J.value2;}else{H=this.getOperation(J.operation);W=H&&H._getInitialValues?H._getInitialValues(J):null;if(!W){W=this._getValuesFromCurrentOperation(J);}if(!W){W=this.getDefaultValues(H);}Z.value1=W[0];Z.value2=W[1];}this.bIgnoreBindingChange=true;this.oModel.resume();delete this.bIgnoreBindingChange;this.serialize(true,false);this._setDDROperation.call(this,J);};y.prototype._getValuesFromCurrentOperation=function(i){var n=[];if(i.value1){n.push(i.value1);}if(i.value2){n.push(i.value2);}if(n.length>0){return n;}return null;};y.prototype.serialize=function(i,F){var J={},n=this.getCondition();if(!n.operation){return null;}var O=this.getOperation(n.operation);if(!O||!("value1"in O)){n.value1=null;}if(!O||!("value2"in O)){n.value2=null;}n.calendarType=(new U()).getCalendarType();J.conditionTypeInfo={name:this.getName(),data:n};if(this.iChangeTimer){clearTimeout(this.iChangeTimer);delete this.iChangeTimer;}if(i){this._updateProvider(J,true,F);}else{this.iChangeTimer=setTimeout(this._updateProvider.bind(this,J,false,F),0);}return J;};y.prototype._updateProvider=function(J,s,F){J.ranges=this.getFilterRanges();J.items=[];var i=false;var n=0;var A=0;var E=0;var G=this.oModel.getData(),H=G.currentoperation;if(H.languageText){var K=H.languageText;if(this._isIntIntInterval(H)){if(J.conditionTypeInfo.data.value1!=null&&J.conditionTypeInfo.data.value1!==""&&J.conditionTypeInfo.data.value2!=null&&J.conditionTypeInfo.data.value2!==""){K=this._formatIntIntInterval(H,J);}this.oModel.setProperty("inputstate","NONE",this.getContext());if(!this._isValidFromToPeriod(J.conditionTypeInfo.data.value1,J.conditionTypeInfo.data.value2)){this.oModel.setProperty("inputstate","ERROR",this.getContext());}}else if(this._isIntInterval(H)){if(J.conditionTypeInfo.data.value1!==null&&J.conditionTypeInfo.data.value1!==""){K=this._formatIntInterval(H,J);this.oModel.setProperty("inputstate","NONE",this.getContext());}else if(this._bSuggestItemSelected){K=this._fillNumberToText(H.basicLanguageText);var M=H.basicLanguageText.indexOf("{0}");n=M+1;A=M;E=M+1;i=true;}else{K="";this.oModel.setProperty("inputstate","NONE",this.getContext());}}else if(this._isFixedRange(H)){K=this._formatFixedRange(H,H.textValue);this.oModel.setProperty("inputstate","NONE",this.getContext());}else{if(J.conditionTypeInfo.data.value1!==null&&J.conditionTypeInfo.data.value1!==""){var O=this._calculateDateRangeValueText(H,J);var Q=O.value;i=O.bSetCursor;if(Q){K=this._formatFixedRange(H,Q);n=K.length-1;this.oModel.setProperty("inputstate","NONE",this.getContext());}else{K="";}}else{K="";}}this._bSuggestItemSelected=false;this.oModel.setProperty("/formattedText",K);if(i&&!(this._oPopup&&this._oPopup.isOpen())&&this._oInput){this._oInput.$("inner").cursorPos(n);if(A<E){this._oInput.selectText(A,E);}this._oInput._lastValue="";}}if(this.oFilterProvider){this.oFilterProvider.oModel.setProperty("/"+this.sFieldName,J);this.oFilterProvider.setFilterData({},false,this.sFieldName);if(F&&this.oFilterProvider._oSmartFilter){this.oFilterProvider._oSmartFilter.fireFilterChange();}}};y.prototype.getFilterRanges=function(){var i=this.getCondition(),n=[],s;if(i.operation==="LASTDAYS"){if(!isNaN(i.value1)){n=o.ranges.lastDays(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="LASTWEEKS"){if(!isNaN(i.value1)){n=o.ranges.lastWeeks(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="LASTMONTHS"){if(!isNaN(i.value1)){n=o.ranges.lastMonths(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="LASTQUARTERS"){if(!isNaN(i.value1)){n=o.ranges.lastQuarters(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="LASTYEARS"){if(!isNaN(i.value1)){n=o.ranges.lastYears(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="NEXTDAYS"){if(!isNaN(i.value1)){n=o.ranges.nextDays(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="NEXTWEEKS"){if(!isNaN(i.value1)){n=o.ranges.nextWeeks(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="NEXTMONTHS"){if(!isNaN(i.value1)){n=o.ranges.nextMonths(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="NEXTQUARTERS"){if(!isNaN(i.value1)){n=o.ranges.nextQuarters(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="NEXTYEARS"){if(!isNaN(i.value1)){n=o.ranges.nextYears(i.value1);}i.value1=n[0];i.value2=n[1];}else if(i.operation==="SPECIFICMONTH"){var A=parseInt(i.value1),E=new U();E.setMonth(A);E=o.getMonthStartDate(E);n=o.getRange(0,"MONTH",E);i.value1=n[0];i.value2=n[1];}else if(i.operation==="TODAYFROMTO"){if(!isNaN(parseInt(i.value1))){i.value1=this._getTodayFromToValueFrom(i.value1);}if(!isNaN(parseInt(i.value2))){i.value2=this._getTodayFromToValueTo(i.value2);}}else{var O=this.getOperation(i.operation);if(O&&O.getDateRange){s=O.getDateRange(i);if(!s){return[];}i.value1=s&&s.value1?s.value1:null;i.value2=s&&s.value2?s.value2:null;}}if(i.value1 instanceof U){i.value1=i.value1.oDate;}if(i.value2 instanceof U){i.value2=i.value2.oDate;}if(i.operation==="DATE"){if(!(this.isValidCondition()&&i.value1)){return[];}i.operation="BT";i.value2=i.value1;i.value1=y.setStartTime(i.value1).oDate;i.value2=y.setEndTime(i.value2,this._bIgnoreTime,this._Precision).oDate;}else if(i.operation==="FROM"){if(!(this.isValidCondition()&&i.value1)){return[];}i.operation="GE";delete i.value2;}else if(i.operation==="TO"){if(!(this.isValidCondition()&&i.value1)){return[];}i.operation="LE";delete i.value2;i.value1=y.setEndTime(i.value1,this._bIgnoreTime).oDate;}else{if(s){i.operation=s.operation;i.value1=i.value1?y.setStartTime(i.value1).oDate:null;i.value2=i.value2?y.setEndTime(i.value2,this._bIgnoreTime).oDate:null;}else{if(!(this.isValidCondition()&&i.value1&&i.value2)){return[];}i.operation="BT";i.value1=y.setStartTime(i.value1).oDate;i.value2=y.setEndTime(i.value2,this._bIgnoreTime).oDate;}}i.exclude=false;i.keyField=i.key;delete i.key;return[i];};y.prototype.getTokenText=function(){return"";};y.prototype.getName=function(){return this.getMetadata().getName();};y.prototype.getType=function(){return"Edm.Date";};y.prototype._bindValueState=function(i){i.bindProperty("valueState",{path:"$smartEntityFilter>inputstate",formatter:function(){if(this.getBinding("valueState").getValue()==="ERROR"){return V.Error;}else{return V.None;}}});};y.prototype.initializeFilterItem=function(){if(this._isNewDynamicDateRangeEnabled()){return this._initializeFilterItemNew.apply(this,arguments);}return this._initializeFilterItemOld.apply(this,arguments);};y.prototype._initializeFilterItemOld=function(){this._oInput=new I(T._createStableId(this),{value:"{$smartEntityFilter>formattedText}",showValueHelp:true,showSuggestion:true,maxSuggestionWidth:"auto",valueHelpRequest:this._toggleOpen.bind(this)});this._oInput._highlightListText=function(){var i,n,s=this._oList.$().find('.sapMDLILabel, .sapMSLITitleOnly');for(i=0;i<s.length;i++){n=s[i];n.innerHTML=this._createHighlightedText(n);}};this._bindValueState(this._oInput);this._oInput.bindAggregation("suggestionItems",{path:"$smartEntityFilter>operations",sorter:new m("order",false,false),filters:new j("order",function(i){return i!==undefined&&i>-1;}),template:new L({key:{path:"$smartEntityFilter>key"}}),templateShareable:false});this._oInput.setFilterFunction(function(s,i){if(this._oPopup&&this._oPopup.isOpen()){return false;}var O=this.getOperation(i.getKey());s=s.trim();if(s==="?"){y._DefaultFilterSuggestItem.call(O,s,i,this);return O.category!=="DYNAMIC.DATERANGE"&&O.category!=="DYNAMIC.DATE";}if(O.filterSuggestItem){return O.filterSuggestItem(s,i,this);}else{return y._DefaultFilterSuggestItem.call(O,s,i,this);}}.bind(this));this._oInput.attachSuggestionItemSelected(function(E){var i=E.getParameter("selectedItem");if(!i){return;}var O=i.getKey();var n=this.getOperation(O);var s=E.oSource.getValue().trim();if(n.onItemSelected){n.onItemSelected(s,i,this);return;}else{y._DefaultOnItemSelected.call(n,s,i,this);}}.bind(this));this._oInput.attachChange(function(E){var s=E.getParameter("value");if(s){var O=this.getOperations();var H=O.some(function(i){if(i.onChange){return i.onChange(s,this);}else{return y._defaultOnChangeHandler.call(i,s,this);}},this);if(!H){this.oModel.setProperty("inputstate","ERROR",this.getContext());}}else{this.setCondition({key:this.sFieldName,operation:"FROM",value1:null,value2:null});this.oModel.setProperty("inputstate","NONE",this.getContext());}}.bind(this));this._oInput.attachBrowserEvent("focusin",function(E){if(q(E.target).hasClass("sapMInputBaseInner")&&this._oPopup&&this._oPopup.isOpen()){this._oPopup.close();}}.bind(this));this._oInput.setBindingContext(this.getContext(),"$smartEntityFilter");this._oInput.setModel(this.getModel(),"$smartEntityFilter");this.bFireFilterChange=false;this.getModel().checkUpdate(true);this.bFireFilterChange=true;return this._oInput;};y.prototype._toggleOpen=function(E){if(!this._oPopup){if((!R||!x||(D.system.phone&&!B))&&!this._bPopoverRequested){R=sap.ui.require("sap/m/ResponsivePopover");x=sap.ui.require("sap/m/VBox");if(D.system.phone){B=sap.ui.require("sap/m/Button");if(!R||!x||!B){sap.ui.require(["sap/m/ResponsivePopover","sap/m/VBox","sap/m/Button"],_.bind(this));this._bPopoverRequested=true;}}else if(!R||!x){sap.ui.require(["sap/m/ResponsivePopover","sap/m/VBox"],_.bind(this));this._bPopoverRequested=true;}}if(!R||!x||(D.system.phone&&!B)){return;}this._oPopupLayout=new x();this._oPopupLayout.addStyleClass("sapUiCompDateRangeType");this._initializeFilterItemPopoverContent(this._oPopupLayout);this._oPopup=new R({showCloseButton:false,showArrow:true,showHeader:false,horizontalScrolling:false,placement:P.VerticalPreferedBottom,content:this._oPopupLayout,contentWidth:"18rem",afterClose:function(){if(z(this._oPopup)){this._oPopup.getModel("$smartEntityFilter").refresh(true);}if(this.oFilterProvider._oSmartFilter.getLiveMode()){var i=sap.ui.require("sap/ui/comp/smartfilterbar/SmartFilterBar");this.oFilterProvider._oSmartFilter.triggerSearch(i.LIVE_MODE_INTERVAL);}}.bind(this)});this._oPopup.addAriaLabelledBy(this._oOperationLabel);if(D.system.phone){this._oPopup.setBeginButton(new B({text:T.getTranslatedText("CONDITION_DATERANGETYPE_POPOVER_CLOSEBUTTON"),type:"Emphasized",press:function(E){this._oPopup.close();}.bind(this)}));}sap.ui.getCore().getMessageManager().registerObject(this._oPopup,true);this._oPopup.setModel(this.getModel(),"$smartEntityFilter");this._oPopup._oControl.oPopup.setAutoCloseAreas([this._oInput.getDomRef()]);}if(!this._oPopup.isOpen()){this._oPopup.openBy(this._oInput._getValueHelpIcon());}else{this._oPopup.close();}};function _(i,n,s){R=i;x=n;B=s;this._bPopoverRequested=false;if(!this._bIsBeingDestroyed){this._toggleOpen();}}function z(n){var i,s,H=false,A=n.getContent()[0].getItems();for(i=0;i<A.length;i++){s=A[i];if(s.getMetadata().getName()==="sap.m.DatePicker"&&s.getValueState()!==V.None){H=true;break;}}return H;}y.prototype.datePickerValidateLastValue=function(i){var s;if(!i.isValidValue()){s=i.getValue();i.resetProperty("value");i.setValue(s);if(i.isValidValue()){i.setValueState(i.isValidValue()?V.None:V.Error);}}};y.prototype._getDateFormatter=function(s){var F={style:this.oDateFormat.style,pattern:this.oDateFormat.pattern,strictParsing:s};if(JSON.stringify(F)!==this._sFormatSettings){this._sFormatSettings=JSON.stringify(F);this._oDateFormatter=e.getInstance(F);}return this._oDateFormatter;};y.prototype._fillNumberToText=function(s,n,i){var A="X",E="Y";if(n||n===0){A=String(n);}if(i||i===0){E=String(i);if(n<0){A="("+A+")";}if(i<0){E="("+E+")";}}s=s.replace("{0}",A);s=s.replace("{1}",E);return s;};y.prototype._setIntControlBinding=function(i,O,s){i.setFieldWidth("auto");i.bindProperty("description",{path:"$smartEntityFilter>"+s,type:"sap.ui.model.type.Integer",formatter:function(){var n=O.descriptionTextKeys[0];var A=O.descriptionTextKeys[1];if(this.getBinding("description").getValue()===1){return T.getTranslatedText(n);}else{return T.getTranslatedText(A||n);}}});};y.prototype._createIntFromToControl=function(i,s,n){return new I(T._createStableId(i,s),{value:{path:"$smartEntityFilter>"+n,type:new N({},{minimum:-i._maxIntValue,maximum:i._maxIntValue})},ariaLabelledBy:i._oOperationSelect||null,textAlign:"End",width:"100%"});};y.prototype._isValidFromToPeriod=function(i,n){if((!i&&i!==0)||isNaN(i)){return false;}if((!n&&n!==0)||isNaN(n)){return false;}if(i<-this._maxIntValue||i>this._maxIntValue){return false;}if(n<-this._maxIntValue||n>this._maxIntValue){return false;}if((i<0&&Math.abs(i)>Math.abs(n))||(i===0&&n<0)||(n<0&&Math.abs(n)>Math.abs(i))||(n===0&&i<0)||(i<0&&n<0)){return false;}return true;};y.prototype._getTodayFromToValueFrom=function(i){if(i<0){var n=o.getRange((-1*i),"DAY")[1];n.setHours(0,0,0);return n;}return o.getRange(-i,"DAY")[0];};y.prototype._getTodayFromToValueTo=function(i){if(i<0){var n=o.getRange(i,"DAY")[0];n.setHours(23,59,59);return n;}return o.getRange(i,"DAY")[1];};y.prototype.destroy=function(){if(this.iChangeTimer){clearTimeout(this.iChangeTimer);delete this.iChangeTimer;}if(this._oPopup){sap.ui.getCore().getMessageManager().unregisterObject(this._oPopup);this._oPopup.destroy();}T.prototype.destroy.apply(this,arguments);};y.prototype._initializeFilterItemNew=function(){this._createCustomDDOptions(this.getOperations());var F={style:this.oDateFormat.style,pattern:this.oDateFormat.pattern,strictParsing:false};this._oInput=new p(T._createStableId(this),{name:this.sFieldName,formatter:t.getInstance({date:F}),options:{path:"$smartEntityFilter>/operations",formatter:function(O){return O.map(function(i){if(w.includes(i.key)){return i.key;}return this._getCustomDDOptionName(i.key);}.bind(this));}.bind(this)},value:this._getDefaultValueDDR(),change:this._onDDRChange.bind(this)});this._bindValueState(this._oInput);this._oInput._reApplyFocusToElement=this._reApplyFocusToElement.bind(this._oInput,this);this._oInput.setBindingContext(this.getContext(),"$smartEntityFilter");this._oInput.setModel(this.getModel(),"$smartEntityFilter");this.bFireFilterChange=false;this.getModel().checkUpdate(true);this.bFireFilterChange=true;return this._oInput;};y.prototype.updateOperations=function(){var O=this.getOperations();for(var i=0;i<O.length;i++){this._updateOperation(O[i]);}if(this._isNewDynamicDateRangeEnabled()){this._createCustomDDOptions(O);}return this.oModel.setProperty("operations",O,this.getContext(),true);};y.prototype.setCondition=function(i){T.prototype.setCondition.apply(this,arguments);this._setDDROperation.call(this,i);return this;};y.prototype._onDDRChange=function(E){var O,i,n=E.getParameter("value"),s=E.getParameter("valid");if(s&&n){var A=this._getOptionName(n.operator);O=this.getOperation(A);i=this._prepareDDRValues(O,n,A);this.oModel.setProperty("/currentoperation",O);this.oModel.setProperty("/condition/operation",A);this.oModel.setProperty("/condition/value1",i[0]);this.oModel.setProperty("/condition/value2",i[1]);}else if(s){O=this.getOperation("DATERANGE");this.oModel.setProperty("/currentoperation",O);this.oModel.setProperty("/condition/operation","DATERANGE");this.oModel.setProperty("/condition/value1",null);this.oModel.setProperty("/condition/value2",null);}this.oModel.setProperty("inputstate",s?"NONE":"ERROR",this.getContext());};y.prototype._reApplyFocusToElement=function(i,n,s){var A,O=this._oNavContainer.getPages()[0],E=i.getDefaultOperation()||y.Operations["DATERANGE"];if(n!==O||s){return;}var F=this._oOptionsList.getItems().find(function(G){if(!G.isA("sap.m.DynamicDateRangeListItem")){return false;}var H=G.getOptionKey();if(H==="DATERANGE"){A=G;}return H===E.key;});if(!F){F=A||q(n.getDomRef().querySelector("section")).firstFocusableDomRef();}F.focus();};y.prototype._getDefaultValueDDR=function(){var i=this.getDefaultOperation(),O=i&&i.key;if(!this._getDDROption(O)){return null;}var n=typeof i.defaultValues==="function"?i.defaultValues():i.defaultValues;if(!w.includes(O)){O=this._getCustomDDOptionName(O);}if(Array.isArray(n)&&n.length>0&&n[0]!==null){return{operator:O,values:n};}return null;};y.prototype._getDDROption=function(n){if(w.includes(n)){return r.getOption(n);}return r.getOption(this._getCustomDDOptionName(n));};y.prototype._getCustomDDOptionName=function(n){return this.sFieldName+"__custom__"+n;};y.prototype._getOptionName=function(n){var i=n.split("__custom__");if(i.length>1){return i[1];}return i[0];};y.prototype._createCustomDDOptions=function(O){O.forEach(this._createCustomDDOption,this);};y.prototype._createCustomDDOption=function(i){if(w.includes(i.key)){return;}var n;var s=typeof i.category==="object"?i.category.key:i.category;if(s.toLowerCase().startsWith("fixed")||i.type==="range"){n=this._createCustomFixedDDOption(i);}else{n=this._createCustomDynamicDDOption(i);}n.getGroupHeader=function(){if(typeof i.category==="object"){var A=i.category.bundle;var E=i.category.key;if(sap.ui.getCore().getLibraryResourceBundle(A).hasText(E)){return sap.ui.getCore().getLibraryResourceBundle(A).getText(E);}}if(sap.ui.getCore().getLibraryResourceBundle("sap.ui.comp").hasText(i.category)){return sap.ui.getCore().getLibraryResourceBundle("sap.ui.comp").getText(i.category);}if(sap.ui.getCore().getLibraryResourceBundle("sap.m").hasText(i.category)){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText(i.category);}return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("DDR_OPTIONS_GROUP_0");};n.getGroup=function(){return i.order;};r.addOption(n);};y.prototype._createCustomFixedDDOption=function(i){var n=this;var s=new C({key:this._getCustomDDOptionName(i.key),getText:function(){return i.languageText||T.getTranslatedText(i.textKey);},getValueHelpUITypes:function(){return[];},enhanceFormattedValue:function(){if(!n.getOperation(n._getOptionName(i.key))){return false;}if(i.category.toUpperCase().startsWith('FIXED.')&&i.type==="int"){return false;}return true;},format:this._customDDOptionFormatter.bind(this),toDates:function(){var A=i.defaultValues;if(typeof A==="function"){A=A();}return A;},parse:function(A){var E=i.basicLanguageText||i.languageText||T.getTranslatedText(i.textKey);if(A&&E&&E.toLowerCase().startsWith(A.toLowerCase())){return{operator:this.getKey(),values:this.toDates()};}return null;}});return s;};y.prototype._createCustomDynamicDDOption=function(n){var s=this;var A=new sap.m.CustomDynamicDateOption({key:this._getCustomDDOptionName(n.key),getText:function(){var i=(n.languageText||T.getTranslatedText(n.textKey));if(i.indexOf("{0}")>=0){return s._fillNumberToText(i);}return i;},getValueHelpUITypes:function(){if(n.type==="int"){return[new u({type:"int"})];}else if(n.type==="[int,int]"){return[new u({type:"int"}),new u({type:"int"})];}},createValueHelpUI:function(i,E){i.aControlsByParameters={};i.aControlsByParameters[this.getKey()]=[];s.setControls([]);var F=s.getControls(n),G=n.defaultValues.length,H=n.defaultValues;if(typeof H==="function"){H=H();}F.forEach(function(J){if(!J.getValue()&&H&&H[0]){if(typeof H==="function"){H=H();}J.setValue(H[0]);H.shift();s.oModel.setProperty("/condition/value"+(G-H.length),J.getValue());}if(typeof E==="function"){J.attachChange(function(){E(this);},this);}i.aControlsByParameters[this.getKey()].push(J);},this);s.setControls(F);return F;},format:this._customDDOptionFormatter.bind(this),toDates:function(i){var E=s.oModel.getProperty("",s.oConditionContext),O=E.operation,F=E.value1,G=E.value2;E.operation=s._getOptionName(i.operator);E.value1=!isNaN(i.values[0])?parseInt(i.values[0]):i.values[0];E.value2=!isNaN(i.values[1])?parseInt(i.values[1]):i.values[1];var H=s.getFilterRanges();E.operation=O;E.value1=F;E.value2=G;if(H.length===0){return[];}return[H[0].value1,H[0].value2];},parse:function(i){var E=new L({key:n.key}),M=n.filterSuggestItem.call(n,i,E,s);if(M){return{operator:this.getKey(),values:[E._value1,E._value2||null]};}return null;},validateValueHelpUI:function(E){var F=function(J){var K=J.getValue(),M=this._maxIntValue,O=-this._maxIntValue;if((!K&&K!==0)||isNaN(K)){return false;}if(H&&H.getBindingInfo('value')&&H.getBindingInfo('value').type&&H.getBindingInfo('value').type.oConstraints){if(H.getBindingInfo('value').type.oConstraints.hasOwnProperty("minimum")){O=H.getBindingInfo('value').type.oConstraints.minimum;}if(H.getBindingInfo('value').type.oConstraints.hasOwnProperty("maximum")){M=H.getBindingInfo('value').type.oConstraints.maximum;}}if(K<O||K>M){return false;}return true;};var G=this.getValueHelpUITypes();for(var i=0;i<G.length;i++){var H=E.aControlsByParameters[this.getKey()][i];switch(G[i].getType()){case"int":return F.call(s,H);case"month":case"date":case"daterange":if(!H.getSelectedDates()||H.getSelectedDates().length==0){return false;}break;case"options":if(H.getSelectedIndex()<0){return false;}break;}}return true;}});return A;};y.prototype._customDDOptionFormatter=function(i){var O=this._getOptionName(i.operator),n=this.getOperation(O);if(!n){this.oModel.setProperty("/condition/value1",null);this.oModel.setProperty("/condition/value2",null);return"";}var s=this._prepareDDRValues(n,i,O);var J={conditionTypeInfo:{data:{value1:s[0],value2:s[1]}}};if(n.languageText){var F=n.languageText;if(this._isIntIntInterval(n)){if(J.conditionTypeInfo.data.value1!=null&&J.conditionTypeInfo.data.value1!==""&&J.conditionTypeInfo.data.value2!=null&&J.conditionTypeInfo.data.value2!==""){F=this._formatIntIntInterval(n,J);}}else if(this._isIntInterval(n)){if(J.conditionTypeInfo.data.value1!==null&&J.conditionTypeInfo.data.value1!==""){F=this._formatIntInterval(n,J);}else{F="";}}else if(this._isFixedRange(n)){F=this._formatFixedRange(n,n.textValue);}else{if(J.conditionTypeInfo.data.value1!==null&&J.conditionTypeInfo.data.value1!==""){var A=this._calculateDateRangeValueText(n,J);var E=A.value;if(E){F=this._formatFixedRange(n,E);}else{F="";}}else{F="";}}}return F;};y.prototype._isNewDynamicDateRangeEnabled=function(){return v.fromQuery(window.location.search).get("sap-ui-xx-smartFilterBarDynamicDateRange");};y.prototype._isIntInterval=function(i){return i.basicLanguageText.indexOf("{0}")>=0;};y.prototype._formatIntInterval=function(i,J){if(J.conditionTypeInfo.data.value1===0&&i.zeroNumberTextKey){return i.zeroNumberLanguageText;}if(J.conditionTypeInfo.data.value1===1&&i.singulareBasicLanguageText){return i.singulareBasicLanguageText;}return this._fillNumberToText(i.basicLanguageText,J.conditionTypeInfo.data.value1);};y.prototype._isIntIntInterval=function(i){return i.basicLanguageText.indexOf("{0}")>=0&&i.basicLanguageText.indexOf("{1}")>=0;};y.prototype._formatIntIntInterval=function(i,J){return this._fillNumberToText(i.basicLanguageText,J.conditionTypeInfo.data.value1,J.conditionTypeInfo.data.value2);};y.prototype._isFixedRange=function(i){return i.textValue;};y.prototype._formatFixedRange=function(i,s){if(this._isNewDynamicDateRangeEnabled()){return i.languageText;}return i.languageText+" ("+s+")";};y.prototype._calculateDateRangeValueText=function(i,J){var n=J.conditionTypeInfo.data.value1;var s=J.conditionTypeInfo.data.value2;var A;var E=false;if((typeof n==="number"||typeof n==="string"&&!isNaN(parseInt(n)))&&i.valueList){A=i.valueList[n].text;}else if(n instanceof Date){var F=this._getDateFormatter(false);if(J.conditionTypeInfo.data.operation!=="DATERANGE"&&(n&&!s)){A=F.format(n);}else if(J.conditionTypeInfo.data.operation==="DATERANGE"&&n&&s){A=F.format(n)+" - "+F.format(s);}else if(J.conditionTypeInfo.data.operation==="DATERANGE"&&n&&!s&&!(this._oPopup&&this._oPopup.isOpen())){A=F.format(n)+" - ";E=true;}else{A="";}}else{A=J.conditionTypeInfo.data.value1;}return{value:A,bSetCursor:E};};y.prototype._convertUniversalDateToDate=function(i){return i.map(function(n){if(n.getJSDate){return n.getJSDate();}return n;});};y.prototype._prepareDDRValues=function(O,i,s){var n=typeof O.category==="object"?O.category.key:O.category;if(O.type==="int"&&!n.toUpperCase().startsWith('FIXED.')){return[parseInt(i.values[0]),null];}if(O.type==="[int,int]"){return[parseInt(i.values[0]),parseInt(i.values[1])];}var A=this._getDDROption(s).toDates(i);return this._convertUniversalDateToDate(A);};y.prototype._setDDROperation=function(i){if(this._isNewDynamicDateRangeEnabled()&&this._oInput&&i.key&&i.operation){var n=[];if(i.value1||i.value1===0){n[0]=i.value1;if(i.value2||i.value2===0){n[1]=i.value2;}}var O=this._getDDROption(i.operation),s=this.getOperation(i.operation),A=function(s,n){if(!s){return false;}if(s.hasOwnProperty("value1")&&!n[0]){return false;}if(s.hasOwnProperty("value2")&&!n[1]){return false;}return true;};if(A(s,n)){this._oInput.setValue({key:i.key,operator:O.getKey(),values:n});}else{this._oInput.setValue(null);this._oInput._oInput.setValue(null);}}};return y;});
