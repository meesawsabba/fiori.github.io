/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/util/ObjectPath","./Scene","./ViewStateManagerBase","sap/ui/core/Core"],function(O,S,V,c){"use strict";var a=V.extend("sap.ui.vk.ViewStateManager",{metadata:{}});var b=a.getMetadata().getParent().getClass().prototype;a.prototype.init=function(){if(b.init){b.init.call(this);}this._implementation=null;};a.prototype.exit=function(){this._destroyImplementation();if(b.exit){b.exit.call(this);}};a.prototype._destroyImplementation=function(){if(this._implementation){this._implementation.destroy();this._implementation=null;}return this;};a.prototype.getImplementation=function(){return this._implementation;};a.prototype._setContent=function(d){var s=null;if(d&&d instanceof S){s=d;}this._setScene(s);return this;};a.prototype._setScene=function(s){if(s&&s instanceof S){var d=s.getMetadata().getName(),i=this._implementation&&this._implementation.getMetadata().getName(),r=d==="sap.ui.vk.dvl.Scene"&&i==="sap.ui.vk.dvl.ViewStateManager"||d==="sap.ui.vk.threejs.Scene"&&i==="sap.ui.vk.threejs.ViewStateManager"||d==="sap.ui.vk.svg.Scene"&&i==="sap.ui.vk.svg.ViewStateManager";if(!r){this._destroyImplementation();var n;if(d==="sap.ui.vk.dvl.Scene"){n="sap.ui.vk.dvl.ViewStateManager";}else if(d==="sap.ui.vk.threejs.Scene"){n="sap.ui.vk.threejs.ViewStateManager";}else if(d==="sap.ui.vk.svg.Scene"){n="sap.ui.vk.svg.ViewStateManager";}if(n){var t=this;var C=O.get(n);this._implementation=new C({shouldTrackVisibilityChanges:this.getShouldTrackVisibilityChanges(),recursiveSelection:this.getRecursiveSelection(),contentConnector:this.getContentConnector(),viewManager:this.getViewManager(),visibilityChanged:function(f){t.fireVisibilityChanged({visible:f.getParameter("visible"),hidden:f.getParameter("hidden")});},selectionChanged:function(f){t.fireSelectionChanged({selected:f.getParameter("selected"),unselected:f.getParameter("unselected")});},outliningChanged:function(f){t.fireOutliningChanged({outlined:f.getParameter("outlined"),unoutlined:f.getParameter("unoutlined")});},opacityChanged:function(f){t.fireOpacityChanged({changed:f.getParameter("changed"),opacity:f.getParameter("opacity")});},tintColorChanged:function(f){t.fireTintColorChanged({changed:f.getParameter("changed"),tintColor:f.getParameter("tintColor"),tintColorABGR:f.getParameter("tintColorABGR")});},nodeHierarchyReplaced:function(f){t.fireNodeHierarchyReplaced({oldNodeHierarchy:f.getParameter("oldNodeHierarchy"),newNodeHierarchy:f.getParameter("newNodeHierarchy")});},viewStateApplying:function(f){t.fireViewStateApplying({view:f.getParameter("view")});},viewStateApplied:function(f){t.fireViewStateApplied({view:f.getParameter("view")});},transformationChanged:function(f){t.fireTransformationChanged(f.getParameters());},highlightColorChanged:function(f){t.fireHighlightColorChanged(f.getParameters());}});var v=c.byId(this.getViewManager());if(v){var e=c.byId(v.getAnimationPlayer());if(e){e.setViewStateManager(this._implementation);}}}}}else{this._destroyImplementation();}return this;};a.prototype.getAnimationPlayer=function(){var d;var v=c.byId(this.getViewManager());if(v){d=c.byId(v.getAnimationPlayer());}return d;};a.prototype.getNodeHierarchy=function(){return this._implementation&&this._implementation.getNodeHierarchy();};a.prototype.getVisibilityChanges=function(){return this._implementation&&this._implementation.getVisibilityChanges();};a.prototype.getVisibilityComplete=function(){return this._implementation&&this._implementation.getVisibilityComplete();};a.prototype.getVisibilityState=function(n){return this._implementation&&this._implementation.getVisibilityState(n);};a.prototype.setVisibilityState=function(n,v,r,f){if(this._implementation){this._implementation.setVisibilityState(n,v,r,f);}return this;};a.prototype.resetVisibility=function(){return this._implementation&&this._implementation.resetVisibility();};a.prototype.enumerateSelection=function(d){if(this._implementation){this._implementation.enumerateSelection(d);}return this;};a.prototype.enumerateOutlinedNodes=function(d){if(this._implementation&&this._implementation.enumerateOutlinedNodes){this._implementation.enumerateOutlinedNodes(d);}return this;};a.prototype.setShowSelectionBoundingBox=function(v){if(this._implementation){this._implementation.setShowSelectionBoundingBox(v);}};a.prototype.getShowSelectionBoundingBox=function(){if(this._implementation){return this._implementation.getShowSelectionBoundingBox();}};a.prototype.getSelectionState=function(n){return this._implementation&&this._implementation.getSelectionState(n);};a.prototype.setSelectionState=function(n,s,r,d){if(this._implementation){this._implementation.setSelectionState(n,s,r,d);}return this;};a.prototype.setSelectionStates=function(s,u,r,d){if(this._implementation){this._implementation.setSelectionStates(s,u,r,d);}return this;};a.prototype.getOutliningState=function(n){if(this._implementation&&this._implementation.getOutliningState){return this._implementation.getOutliningState(n);}else{return false;}};a.prototype.setOutliningStates=function(o,u,r){if(this._implementation&&this._implementation.setOutliningStates){this._implementation.setOutliningStates(o,u,r);}return this;};a.prototype.getJoints=function(){if(this._implementation&&this._implementation.getJoints){return this._implementation.getJoints();}return undefined;};a.prototype.setJoints=function(j,p){if(this._implementation&&this._implementation.setJoints){this._implementation.setJoints(j,p);}return this;};a.prototype.getOpacity=function(n){return this._implementation&&this._implementation.getOpacity(n);};a.prototype.setOpacity=function(n,o,r){if(this._implementation){this._implementation.setOpacity(n,o,r);}return this;};a.prototype.getTotalOpacity=function(n){if(this._implementation&&this._implementation.getTotalOpacity){return this._implementation.getTotalOpacity(n);}return 1;};a.prototype.setTotalOpacity=function(n,t){if(this._implementation&&this._implementation.setTotalOpacity){return this._implementation.setTotalOpacity(n,t);}return null;};a.prototype.getRestOpacity=function(n){if(this._implementation&&this._implementation.getRestOpacity){return this._implementation.getRestOpacity(n);}return null;};a.prototype.setRestOpacity=function(n,o){if(this._implementation&&this._implementation.setRestOpacity){this._implementation.setRestOpacity(n,o);}return this;};a.prototype.restoreRestOpacity=function(n){if(this._implementation&&this._implementation.restoreRestOpacity){this._implementation.restoreRestOpacity(n);}return this;};a.prototype.updateRestOpacity=function(n){if(this._implementation&&this._implementation.updateRestOpacity){this._implementation.updateRestOpacity(n);}return this;};a.prototype.getTintColor=function(n,i){return this._implementation&&this._implementation.getTintColor(n,i);};a.prototype.setTintColor=function(n,t,r){if(this._implementation){this._implementation.setTintColor(n,t,r);}return this;};a.prototype.setHighlightColor=function(d){if(this._implementation&&this._implementation.setHighlightColor){this._implementation.setHighlightColor(d);}return this;};a.prototype.getHighlightColor=function(i){if(this._implementation&&this._implementation.getHighlightColor){return this._implementation.getHighlightColor(i);}};a.prototype.setOutlineColor=function(d){if(this._implementation&&this._implementation.setOutlineColor){this._implementation.setOutlineColor(d);}return this;};a.prototype.getOutlineColor=function(i){if(this._implementation&&this._implementation.getOutlineColor){return this._implementation.getOutlineColor(i);}else{return null;}};a.prototype.setOutlineWidth=function(w){if(this._implementation&&this._implementation.setOutlineWidth){this._implementation.setOutlineWidth(w);}return this;};a.prototype.getOutlineWidth=function(){if(this._implementation&&this._implementation.getOutlineWidth){return this._implementation.getOutlineWidth();}else{return 0.0;}};a.prototype.setRecursiveOutlining=function(p){this.setProperty("recursiveOutlining",p,true);if(this._implementation&&this._implementation.setRecursiveOutlining){this._implementation.setRecursiveOutlining(p);}return this;};a.prototype.setRecursiveSelection=function(p){this.setProperty("recursiveSelection",p,true);if(this._implementation){this._implementation.setRecursiveSelection(p);}return this;};a.prototype.setHighlightDisplayState=function(s){if(this._implementation&&this._implementation.setHighlightDisplayState){this._implementation.setHighlightDisplayState(s);}return this;};a.prototype.setTransformation=function(n,t){if(this._implementation&&this._implementation.setTransformation){this._implementation.setTransformation(n,t);}return this;};a.prototype.getTransformation=function(n){if(this._implementation&&this._implementation.getTransformation){return this._implementation.getTransformation(n);}return null;};a.prototype.getTransformationWorld=function(n){if(this._implementation&&this._implementation.getTransformationWorld){return this._implementation.getTransformationWorld(n);}return null;};a.prototype.getRestTransformationWorld=function(n){if(this._implementation&&this._implementation.getRestTransformationWorld){return this._implementation.getRestTransformationWorld(n);}return null;};a.prototype.getRestTransformationUsingJoint=function(n){if(this._implementation&&this._implementation.getRestTransformationUsingJoint){return this._implementation.getRestTransformationUsingJoint(n);}return null;};a.prototype.updateRestTransformation=function(n){if(this._implementation&&this._implementation.updateRestTransformation){this._implementation.updateRestTransformation(n);}return this;};a.prototype.restoreRestTransformation=function(n){if(this._implementation&&this._implementation.restoreRestTransformation){this._implementation.restoreRestTransformation(n);}return this;};a.prototype.setRestTransformation=function(n,t,q,s){if(this._implementation&&this._implementation.setRestTransformation){this._implementation.setRestTransformation(n,t,q,s);}return this;};a.prototype.getRelativeTransformation=function(n){if(this._implementation&&this._implementation.getRelativeTransformation){return this._implementation.getRelativeTransformation(n);}return null;};a.prototype.getRestTransformation=function(n){if(this._implementation&&this._implementation.getRestTransformation){return this._implementation.getRestTransformation(n);}return null;};a.prototype.setInterpolatedRelativeValues=function(n,v){if(this._implementation&&this._implementation.setInterpolatedRelativeValues){return this._implementation.setInterpolatedRelativeValues(n,v);}return null;};a.prototype._getEndPropertyInLastPlayback=function(n,p){if(this._implementation&&this._implementation._getEndPropertyInLastPlayback){return this._implementation._getEndPropertyInLastPlayback(n,p);}return null;};a.prototype._getEndPropertyInPreviousPlayback=function(n,p,d){if(this._implementation&&this._implementation._getEndPropertyInPreviousPlayback){return this._implementation._getEndPropertyInPreviousPlayback(n,p,d);}return null;};a.prototype._convertTracksToRelative=function(s){if(this._implementation&&this._implementation._convertTracksToRelative){this._implementation._convertTracksToRelative(s);}return this;};a.prototype._setJointNodeOffsets=function(n,t){if(this._implementation&&this._implementation._setJointNodeOffsets){this._implementation._setJointNodeOffsets(n,t);}return this;};a.prototype._setJointNodeMatrix=function(){if(this._implementation&&this._implementation._setJointNodeMatrix){this._implementation._setJointNodeMatrix();}return this;};a.prototype._propagateOpacityToJointChildren=function(n,o){if(this._implementation&&this._implementation._propagateOpacityToJointChildren){this._implementation._propagateOpacityToJointChildren(n,o);}return this;};a.prototype.setTranslationKey=function(n,t,p,d){if(this._implementation&&this._implementation.setTranslationKey){this._implementation.setTranslationKey(n,t,p,d);}return this;};a.prototype.setScaleKey=function(n,t,p,d){if(this._implementation&&this._implementation.setScaleKey){this._implementation.setScaleKey(n,t,p,d);}return this;};a.prototype.setRotationKey=function(n,t,e,p,d){if(this._implementation&&this._implementation.setRotationKey){this._implementation.setRotationKey(n,t,e,p,d);}return this;};a.prototype.setOpacityKey=function(n,t,p,d){if(this._implementation&&this._implementation.setOpacityKey){this._implementation.setOpacityKey(n,t,p,d);}return this;};a.prototype.getSymbolNodes=function(n){if(this._implementation&&this._implementation.getSymbolNodes){return this._implementation.getSymbolNodes(n);}return[];};a.prototype.getBackgroundImageType=function(){if(this._implementation&&this._implementation.getBackgroundImageType){return this._implementation.getBackgroundImageType();}return null;};a.prototype.setBackgroundImageType=function(i){if(this._implementation&&this._implementation.setBackgroundImageType){return this._implementation.setBackgroundImageType(i);}return undefined;};return a;});
