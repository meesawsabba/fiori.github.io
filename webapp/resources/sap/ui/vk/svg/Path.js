/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/Log","./Element"],function(L,E){"use strict";var P=function(p){p=p||{};E.call(this,p);this.type="Path";this.segments=p.segments||[];this.setMaterial(p.material);};P.prototype=Object.assign(Object.create(E.prototype),{constructor:P});P.prototype.tagName=function(){return"path";};P.prototype._expandBoundingBox=function(d,m){if(this.domRef){var f=this.domRef.getBBox();if(f){this._expandBoundingBoxCE(d,m,f.x+f.width*0.5,f.y+f.height*0.5,f.width*0.5,f.height*0.5);return;}}var s=isNaN(this.strokeWidth)?0:this.strokeWidth*0.5;var x=0,y=0;for(var g=0,h=this.segments.length;g<h;g++){var j=this.segments[g];var p=j.points;var k=j.dimension||2,i,l;switch(j.type){case"arc":if(j.relative){x+=p[0];y+=p[1];}else{x=p[0];y=p[1];}this._expandBoundingBoxCE(d,m,x,y,s,s);break;case"move":x=p[0];y=p[1];this._expandBoundingBoxCE(d,m,x,y,s,s);for(i=k,l=p.length-1;i<l;i+=k){if(j.relative){x+=p[i];y+=p[i+1];}else{x=p[i];y=p[i+1];}this._expandBoundingBoxCE(d,m,x,y,s,s);}break;case"line":for(i=0,l=p.length-1;i<l;i+=k){if(j.relative){x+=p[i];y+=p[i+1];}else{x=p[i];y=p[i+1];}this._expandBoundingBoxCE(d,m,x,y,s,s);}break;case"bezier":var n=j.degree||2;for(i=0,l=p.length-1;i<l;i+=k){if(j.relative){this._expandBoundingBoxCE(d,m,x+p[i],y+p[i+1],s,s);if((i/k)%n===n-1){x+=p[i];y+=p[i+1];}}else{x=p[i];y=p[i+1];this._expandBoundingBoxCE(d,m,x,y,s,s);}}break;default:break;}}};function a(d,s){var i,l;var p=s.points;switch(s.degree||2){case 2:for(i=0,l=p.length-3;i<l;i+=4){d.push(s.relative?"q":"Q",p[i],p[i+1],p[i+2],p[i+3]);}break;case 3:if(!s.smooth){for(i=0,l=p.length-5;i<l;i+=6){d.push(s.relative?"c":"C",p[i],p[i+1],p[i+2],p[i+3],p[i+4],p[i+5]);}}else{for(i=0,l=p.length-3;i<l;i+=4){d.push(s.relative?"s":"S",p[i],p[i+1],p[i+2],p[i+3]);}}break;default:L.warning("Unsupported bezier segment degree:",s.type);break;}}function b(d,s){var p=s.points;d.push("M",p[0],p[1]);var f=s.dimension||2;for(var i=f,l=p.length-1;i<l;i+=f){d.push("L",p[i],p[i+1]);}}function c(d,s){var p=s.points;var f=s.dimension||2;for(var i=0,l=p.length-1;i<l;i+=f){d.push(s.relative?"l":"L",p[i],p[i+1]);}}function e(d,s){d.push(s.relative?"a":"A",s.major,s.minor,"0",s.short===false?"1":"0",s.clockwise===false?"0":"1",s.points[0],s.points[1]);}P.prototype._setSpecificAttributes=function(s){var d=[];this.segments.forEach(function(f){switch(f.type){case"move":b(d,f);break;case"line":c(d,f);break;case"close":d.push("Z");break;case"arc":e(d,f);break;case"bezier":a(d,f);break;default:L.warning("Unsupported path segment type:",f.type,JSON.stringify(f));break;}});if(d.length>0){s("d",d.join(" "));}};P.prototype._getParametricShape=function(f,l,t){var p=E.prototype._getParametricShape.call(this,f,l,t);p.type="path";p.segments=this.segments;return p;};P.prototype.copy=function(s,r){E.prototype.copy.call(this,s,r);for(var i=0,l=s.segments.length;i<l;i++){var d=s.segments[i];var f={type:d.type};if(d.points!==undefined){f.points=d.points.slice();}if(d.dimension!==undefined){f.dimension=d.dimension;}if(d.degree!==undefined){f.degree=d.degree;}if(d.smooth!==undefined){f.smooth=d.smooth;}if(d.relative!==undefined){f.relative=d.relative;}if(d.major!==undefined){f.major=d.major;}if(d.minor!==undefined){f.minor=d.minor;}if(d.short!==undefined){f.short=d.short;}if(d.clockwise!==undefined){f.clockwise=d.clockwise;}this.segments.push(f);}return this;};return P;});
