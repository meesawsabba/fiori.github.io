/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff3100.system.ui","sap/zen/dsh/firefly/ff8000.quasar","sap/zen/dsh/firefly/ff4200.olap.api","sap/zen/dsh/firefly/ff5500.story","sap/zen/dsh/firefly/ff8010.olap.ui"],function(f){"use strict";f.AuGdsContants={GDF_FILE_EXTENSION:"gdf",GDF_FILE_DOC_TYPE:"docType",GDF_FILE_DOC_NAME:"docName",GDF_DOC_TYPE_PROJECT:"project",GDF_DOC_TYPE_QUERY_DESIGNER:"querydesigner",GDF_DEFAULT_SAVE_DIR:"${ff_sdk}/production/queries/gds/"};f.AuGdsQdDimensionViewModel=function(){};f.AuGdsQdDimensionViewModel.prototype=new f.XObject();f.AuGdsQdDimensionViewModel.prototype._ff_c="AuGdsQdDimensionViewModel";f.AuGdsQdDimensionViewModel.createStructureForNavPanel=function(s,m,l,r,c,a){var o=new f.AuGdsQdDimensionViewModel();o.setupExt(s,m,f.UiContextDummy.getSingleton(),l,r,c,a);return o;};f.AuGdsQdDimensionViewModel.createStructureForBuildPanel=function(s,m,l){var o=new f.AuGdsQdDimensionViewModel();var d=f.UiContextDummy.getSingleton();o.setupExt(s,m,d,l,d,d,d);return o;};f.AuGdsQdDimensionViewModel.createDimensionForNavPanel=function(d,r,l,a,c){var o=new f.AuGdsQdDimensionViewModel();o.setupExt(d,f.XList.create(),r,l,a,c,f.UiContextDummy.getSingleton());return o;};f.AuGdsQdDimensionViewModel.createDimensionForBuildPanel=function(d,l){var o=new f.AuGdsQdDimensionViewModel();var a=f.UiContextDummy.getSingleton();o.setupExt(d,f.XList.create(),a,l,a,a,a);return o;};f.AuGdsQdDimensionViewModel.prototype.m_dimension=null;f.AuGdsQdDimensionViewModel.prototype.m_members=null;f.AuGdsQdDimensionViewModel.prototype.m_root=null;f.AuGdsQdDimensionViewModel.prototype.m_label=null;f.AuGdsQdDimensionViewModel.prototype.m_allCb=null;f.AuGdsQdDimensionViewModel.prototype.m_rowIco=null;f.AuGdsQdDimensionViewModel.prototype.m_colIco=null;f.AuGdsQdDimensionViewModel.prototype.setupExt=function(d,m,r,l,a,c,b){this.m_dimension=d;this.m_root=r;this.m_label=l;this.m_allCb=b;this.m_rowIco=a;this.m_colIco=c;this.m_members=m;};f.AuGdsQdDimensionViewModel.prototype.releaseObject=function(){this.m_dimension=null;this.m_label=null;this.m_allCb=null;this.m_rowIco=null;this.m_colIco=null;f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_members);f.XObject.prototype.releaseObject.call(this);};f.AuGdsQdDimensionViewModel.prototype.getDimension=function(){return this.m_dimension;};f.AuGdsQdDimensionViewModel.prototype.getRoot=function(){return this.m_root;};f.AuGdsQdDimensionViewModel.prototype.getLabel=function(){return this.m_label;};f.AuGdsQdDimensionViewModel.prototype.getAllCb=function(){return this.m_allCb;};f.AuGdsQdDimensionViewModel.prototype.getRowIcon=function(){return this.m_rowIco;};f.AuGdsQdDimensionViewModel.prototype.getColumnIcon=function(){return this.m_colIco;};f.AuGdsQdDimensionViewModel.prototype.getMembers=function(){return this.m_members;};f.AuGdsQdMemberViewModel=function(){};f.AuGdsQdMemberViewModel.prototype=new f.XObject();f.AuGdsQdMemberViewModel.prototype._ff_c="AuGdsQdMemberViewModel";f.AuGdsQdMemberViewModel.createMemberForNavPanel=function(m,r,l,c){var o=new f.AuGdsQdMemberViewModel();o.setupExt(m,r,l,c);return o;};f.AuGdsQdMemberViewModel.createMemberForBuildPanel=function(m,l){var o=new f.AuGdsQdMemberViewModel();o.setupExt(m,f.UiContextDummy.getSingleton(),l,f.UiContextDummy.getSingleton());return o;};f.AuGdsQdMemberViewModel.prototype.m_member=null;f.AuGdsQdMemberViewModel.prototype.m_root=null;f.AuGdsQdMemberViewModel.prototype.m_label=null;f.AuGdsQdMemberViewModel.prototype.m_checkbox=null;f.AuGdsQdMemberViewModel.prototype.setupExt=function(m,r,l,c){this.m_member=m;this.m_root=r;this.m_label=l;this.m_checkbox=c;};f.AuGdsQdMemberViewModel.prototype.releaseObject=function(){this.m_member=null;this.m_label=null;this.m_checkbox=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsQdMemberViewModel.prototype.getMember=function(){return this.m_member;};f.AuGdsQdMemberViewModel.prototype.getRoot=function(){return this.m_root;};f.AuGdsQdMemberViewModel.prototype.getLabel=function(){return this.m_label;};f.AuGdsQdMemberViewModel.prototype.getCheckbox=function(){return this.m_checkbox;};f.AuGdsLambdaDialogCloseListener=function(){};f.AuGdsLambdaDialogCloseListener.prototype=new f.XObject();f.AuGdsLambdaDialogCloseListener.prototype._ff_c="AuGdsLambdaDialogCloseListener";f.AuGdsLambdaDialogCloseListener.create=function(o,a){var r=new f.AuGdsLambdaDialogCloseListener();r.m_closeProcedure=a;r.m_okProcedure=o;return r;};f.AuGdsLambdaDialogCloseListener.prototype.m_closeProcedure=null;f.AuGdsLambdaDialogCloseListener.prototype.m_okProcedure=null;f.AuGdsLambdaDialogCloseListener.prototype.onDataCellOk=function(){if(f.notNull(this.m_okProcedure)){this.m_okProcedure();}};f.AuGdsLambdaDialogCloseListener.prototype.onDataCellClose=function(){if(f.notNull(this.m_closeProcedure)){this.m_closeProcedure();}};f.AuGdsLambdaDialogCloseListener.prototype.onSubmit=function(){if(f.notNull(this.m_okProcedure)){this.m_okProcedure();}};f.AuGdsLambdaDialogCloseListener.prototype.onClose=function(){if(f.notNull(this.m_closeProcedure)){this.m_closeProcedure();}};f.AuGdsLambdaDialogCloseListener.prototype.releaseObject=function(){this.m_closeProcedure=null;this.m_okProcedure=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaFdCloseListener=function(){};f.AuGdsLambdaFdCloseListener.prototype=new f.XObject();f.AuGdsLambdaFdCloseListener.prototype._ff_c="AuGdsLambdaFdCloseListener";f.AuGdsLambdaFdCloseListener.create=function(o,a){var r=new f.AuGdsLambdaFdCloseListener();r.m_closeProcedure=a;r.m_okProcedure=o;return r;};f.AuGdsLambdaFdCloseListener.prototype.m_closeProcedure=null;f.AuGdsLambdaFdCloseListener.prototype.m_okProcedure=null;f.AuGdsLambdaFdCloseListener.prototype.onFilterDialogOk=function(s){if(f.notNull(this.m_okProcedure)){this.m_okProcedure(s);}};f.AuGdsLambdaFdCloseListener.prototype.onFilterDialogCancel=function(){if(f.notNull(this.m_closeProcedure)){this.m_closeProcedure();}};f.AuGdsLambdaFdCloseListener.prototype.releaseObject=function(){this.m_closeProcedure=null;this.m_okProcedure=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaSetParameterListener=function(){};f.AuGdsLambdaSetParameterListener.prototype=new f.XObject();f.AuGdsLambdaSetParameterListener.prototype._ff_c="AuGdsLambdaSetParameterListener";f.AuGdsLambdaSetParameterListener.create=function(b){var o=new f.AuGdsLambdaSetParameterListener();o.m_function=b;return o;};f.AuGdsLambdaSetParameterListener.prototype.m_function=null;f.AuGdsLambdaSetParameterListener.prototype.setObject=function(p,o){if(f.notNull(this.m_function)){this.m_function(f.XStringValue.create(p),o);}};f.AuGdsLambdaSetParameterListener.prototype.releaseObject=function(){this.m_function=null;f.XObject.prototype.releaseObject.call(this);};f.ShCell=function(){};f.ShCell.prototype=new f.XObject();f.ShCell.prototype._ff_c="ShCell";f.ShCell.create=function(d,x,y){var c=new f.ShCell();c.setPosition(x,y);c.m_document=d;return c;};f.ShCell.convertToAZ=function(c){var b=f.XStringBuffer.create();if(c<26){b.appendChar(65+c);}else{b.append("ZZ");}return b;};f.ShCell.prototype.m_x=0;f.ShCell.prototype.m_y=0;f.ShCell.prototype.m_name=null;f.ShCell.prototype.m_key=null;f.ShCell.prototype.m_value=null;f.ShCell.prototype.m_text=null;f.ShCell.prototype.m_expression=null;f.ShCell.prototype.m_int=0;f.ShCell.prototype.m_double=0.0;f.ShCell.prototype.m_type=null;f.ShCell.prototype.m_document=null;f.ShCell.prototype.setPosition=function(x,y){this.m_x=x;this.m_y=y;var b=f.ShCell.convertToAZ(this.m_x);b.appendInt(this.m_y);this.m_name=b.toString();var a=f.XStringBuffer.create();a.appendInt(this.m_x);a.append("_");a.appendInt(this.m_y);this.m_key=a.toString();};f.ShCell.prototype.setInteger=function(v){this.m_int=v;this.m_value=f.XInteger.convertToString(this.m_int);this.m_type=f.XValueType.INTEGER;return this;};f.ShCell.prototype.getInteger=function(){return this.m_int;};f.ShCell.prototype.setDouble=function(v){this.m_double=v;this.m_value=f.XDouble.convertToString(this.m_double);this.m_type=f.XValueType.DOUBLE;return this;};f.ShCell.prototype.getDouble=function(){return this.m_double;};f.ShCell.prototype.setText=function(t){this.m_text=t;this.m_value=this.m_text;this.m_type=f.XValueType.STRING;return this;};f.ShCell.prototype.setExpression=function(e){this.m_expression=e;this.m_value=this.m_expression;this.m_type=f.XComponentType._DATASOURCE;return this;};f.ShCell.prototype.getName=function(){return this.m_name;};f.ShCell.prototype.getKey=function(){return this.m_key;};f.ShCell.prototype.hasExpression=function(){return f.notNull(this.m_expression);};f.ShCell.prototype.hasNumber=function(){return this.m_type.isTypeOf(f.XValueType.NUMBER);};f.ShCell.prototype.getValueType=function(){return this.m_type;};f.ShCell.prototype.getExpression=function(){return this.m_expression;};f.ShCell.prototype.beforeScriptExecution=function(i){};f.ShCell.prototype.afterScriptExecution=function(i){};f.ShCell.prototype.nativeCall=function(a,n,r,s,p){var o=s.size()-p;var b=null;var c=s.get(o);var d;if(f.XString.isEqual("set",n)){if(f.notNull(c)){d=c.getComponentType();if(d===f.XValueType.STRING){this.setText(c.getString());}else if(d===f.XValueType.INTEGER){var e=c;this.setInteger(e.getInteger());}}}else if(f.XString.isEqual("sum",n)){if(f.notNull(c)){d=c.getComponentType();if(d===f.XValueType.STRING){var g=c.getString();var h=this.parseSelection(g);var j=this.m_document.select(h);var t=0.0;for(var i=0;i<j.size();i++){var k=j.get(i);var v=k.getValueType();if(v===f.XValueType.INTEGER){var l=k.getInteger();t=t+l;}else if(v===f.XValueType.DOUBLE){var m=k.getDouble();t=t+m;}}this.setDouble(t);}}}return b;};f.ShCell.prototype.parseSelection=function(q){var s=f.XString.indexOf(q,":");var a=null;var b=null;if(s!==-1){a=f.XString.substring(q,0,s);b=f.XString.substring(q,s+1,-1);}else{a=q;}var c=f.ShSelection.create();var d=this.parsePosition(a);c.setStart(d);if(f.notNull(b)){var e=this.parsePosition(b);c.setEnd(e);}return c;};f.ShCell.prototype.parsePosition=function(v){var l=f.XString.getCharAt(v,0);var n=f.XString.getCharAt(v,1);var x=l-65;var y=n-49;return f.ShPosition.create(x,y);};f.ShCell.prototype.toString=function(){return this.m_value;};f.ShDocument=function(){};f.ShDocument.prototype=new f.XObject();f.ShDocument.prototype._ff_c="ShDocument";f.ShDocument.create=function(){var n=new f.ShDocument();n.setup();return n;};f.ShDocument.prototype.m_rowCount=0;f.ShDocument.prototype.m_colCount=0;f.ShDocument.prototype.m_emptyCell=null;f.ShDocument.prototype.m_cells=null;f.ShDocument.prototype.setup=function(){f.XObject.prototype.setup.call(this);this.m_emptyCell=f.ShCell.create(this,0,0);this.m_cells=f.XHashMapByString.create();};f.ShDocument.prototype.newCell=function(x,y){var c=f.ShCell.create(this,x,y);var k=c.getKey();this.m_cells.put(k,c);if(x>=this.m_colCount){this.m_colCount=x+1;}if(y>=this.m_rowCount){this.m_rowCount=y+1;}return c;};f.ShDocument.prototype.getCell=function(x,y){var k=f.XStringBuffer.create().appendInt(x).append("_").appendInt(y).toString();var c=this.m_cells.getByKey(k);if(f.isNull(c)){c=this.m_emptyCell;}return c;};f.ShDocument.prototype.evaluate=function(){var c=this.m_cells.getIterator();var a=f.XList.create();while(c.hasNext()){var b=c.next();if(b.hasExpression()){a.add(b);}}for(var i=0;i<a.size();i++){var d=a.get(i);this.evaluateCell(d);}};f.ShDocument.prototype.evaluateCell=function(c){var s=c.getExpression();var i=f.ScriptEngine.create();i.setVmCallback(c);i.compile(s);if(i.isValid()){i.execute();}};f.ShDocument.prototype.select=function(s){var c=f.XList.create();var a=s.getStartX();var b=s.getStartX();var e=s.getEndX();var d=s.getEndY();if(a===-1){a=0;}if(b===-1){b=0;}if(e===-1){e=this.m_colCount-1;}if(d===-1){d=this.m_rowCount-1;}var g;for(var y=b;y<=d;y++){for(var x=a;x<=e;x++){g=this.getCell(x,y);c.add(g);}}return c;};f.ShDocument.prototype.toGridStructure=function(){var m=f.PrFactory.createStructure();m.putInteger("RowCount",this.m_rowCount+1);m.putInteger("ColCount",this.m_colCount+1);var c=m.putNewList("Cells");for(var y=0;y<this.m_rowCount+1;y++){for(var x=0;x<this.m_colCount+1;x++){var a=c.addNewStructure();a.putString("Type","Text");if(x>0&&y>0){var b=this.getCell(x-1,y-1);a.putString("Value",b.toString());a.putString("Color","#AABBCC");}else if(x===0&&y>0){a.putString("Value",f.XInteger.convertToString(y));a.putString("Color","#AABB00");}else if(y===0&&x>0){a.putString("Value",f.ShCell.convertToAZ(x-1).toString());a.putString("Color","#00BB00");}else{a.putString("Value","");a.putString("Color","#00BB00");}}}return m;};f.ShDocument.prototype.toString=function(){var c;var a;var s;var b=f.XArrayOfInt.create(this.m_colCount+1);for(var y=0;y<this.m_rowCount+1;y++){for(var x=0;x<this.m_colCount+1;x++){if(x>0&&y>0){c=this.getCell(x-1,y-1);a=c.toString();}else if(x===0&&y>0){a=f.XInteger.convertToString(y);}else if(y===0&&x>0){a=f.ShCell.convertToAZ(x-1).toString();}else{a="";}if(f.isNull(a)){s=0;}else{s=f.XString.size(a);}if(s>b.get(x)){b.set(x,s);}}}var d=f.XStringBuffer.create();for(var i=0;i<this.m_rowCount+1;i++){if(i>0){d.appendNewLine();}for(var j=0;j<this.m_colCount+1;j++){if(j>0){d.append(" | ");}if(j>0&&i>0){c=this.getCell(j-1,i-1);a=c.toString();}else if(j===0&&i>0){a=f.XInteger.convertToString(i);}else if(i===0&&j>0){a=f.ShCell.convertToAZ(j-1).toString();}else{a="";}if(f.isNull(a)){s=0;}else{s=f.XString.size(a);}var e=b.get(j)-s;for(var k=0;k<e;k++){d.append(" ");}d.append(a);}}return d.toString();};f.ShPosition=function(){};f.ShPosition.prototype=new f.XObject();f.ShPosition.prototype._ff_c="ShPosition";f.ShPosition.create=function(x,y){var n=new f.ShPosition();n.m_x=x;n.m_y=y;return n;};f.ShPosition.prototype.m_x=0;f.ShPosition.prototype.m_y=0;f.ShPosition.prototype.getX=function(){return this.m_x;};f.ShPosition.prototype.getY=function(){return this.m_y;};f.ShPosition.prototype.toString=function(){return f.XStringBuffer.create().append("X: ").appendInt(this.m_x).append(" Y: ").appendInt(this.m_y).toString();};f.ShSelection=function(){};f.ShSelection.prototype=new f.XObject();f.ShSelection.prototype._ff_c="ShSelection";f.ShSelection.create=function(){var n=new f.ShSelection();n.setup();return n;};f.ShSelection.prototype.m_startX=0;f.ShSelection.prototype.m_startY=0;f.ShSelection.prototype.m_endX=0;f.ShSelection.prototype.m_endY=0;f.ShSelection.prototype.setup=function(){this.m_startX=-1;this.m_startY=-1;this.m_endX=-1;this.m_endY=-1;};f.ShSelection.prototype.setStart=function(p){this.m_startX=p.getX();this.m_startY=p.getY();};f.ShSelection.prototype.setEnd=function(p){this.m_endX=p.getX();this.m_endY=p.getY();};f.ShSelection.prototype.getStartX=function(){return this.m_startX;};f.ShSelection.prototype.getStartY=function(){return this.m_startY;};f.ShSelection.prototype.getEndX=function(){return this.m_endX;};f.ShSelection.prototype.getEndY=function(){return this.m_endY;};f.GyrosNumberFormatter=function(){};f.GyrosNumberFormatter.prototype=new f.XObject();f.GyrosNumberFormatter.prototype._ff_c="GyrosNumberFormatter";f.GyrosNumberFormatter.create=function(){return new f.GyrosNumberFormatter();};f.GyrosNumberFormatter.prototype.format=function(v){try{return f.XNumberFormatter.formatDoubleToString(f.XDouble.convertFromString(v),"#,#.###");}catch(e){return v;}};f.GyrosNumberFormatter.prototype.parseFormattedNumber=function(v){if(f.XStringUtils.isNullOrEmpty(v)){return v;}var p=f.XString.replace(v,",","");try{var V=f.XDouble.convertFromString(p);return f.XDouble.convertToString(V);}catch(e){return null;}};f.GyrosNumberFormatter.prototype.formatTextForDateTimeKey=function(t,k,a){if(f.notNull(k)&&!f.XString.isEqual(t,"#")&&a===f.XValueType.TIME||a===f.XValueType.DATE){return f.XStringUtils.concatenate4(t," [GyrosFormatted:",k,"]");}return t;};f.UiFeatureToggleDialog=function(){};f.UiFeatureToggleDialog.prototype=new f.XObject();f.UiFeatureToggleDialog.prototype._ff_c="UiFeatureToggleDialog";f.UiFeatureToggleDialog.createFeatureDialog=function(s,u,l){var o=new f.UiFeatureToggleDialog();o.setupExt(s,u,l);return o;};f.UiFeatureToggleDialog.prototype.m_dialog=null;f.UiFeatureToggleDialog.prototype.m_okBtn=null;f.UiFeatureToggleDialog.prototype.m_cancelBtn=null;f.UiFeatureToggleDialog.prototype.m_featureList=null;f.UiFeatureToggleDialog.prototype.m_listener=null;f.UiFeatureToggleDialog.prototype.m_selectedToggles=null;f.UiFeatureToggleDialog.prototype.setupExt=function(s,u,l){this.m_listener=l;this.m_dialog=u.newControl(f.UiType.DIALOG);this.m_dialog.setTitle("FeatureToggles");this.m_dialog.registerOnAfterClose(this);this.m_okBtn=this.m_dialog.addNewDialogButton();this.m_okBtn.setName("featureToggleOk");this.m_okBtn.setText("Ok");this.m_okBtn.registerOnPress(this);this.m_cancelBtn=this.m_dialog.addNewDialogButton();this.m_cancelBtn.setName("featureToggleCancel");this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);var d=f.UiGenesis.create(this.m_dialog,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);this.m_featureList=f.UiFeatureToggleList.createFeatureList(s);this.m_featureList.buildUi(d);this.m_dialog.setWidth(f.UiCssLength.create("40%"));};f.UiFeatureToggleDialog.prototype.open=function(){return this.m_dialog.open();};f.UiFeatureToggleDialog.prototype.onAfterClose=function(e){this.m_listener.onFeatureToggleDialogClose(this.m_selectedToggles);};f.UiFeatureToggleDialog.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_okBtn){this.m_selectedToggles=this.m_featureList.getSelectedToggles();this.m_dialog.close();}else if(c===this.m_cancelBtn){this.m_selectedToggles=null;this.m_dialog.close();}};f.UiFeatureToggleDialog.prototype.releaseObject=function(){this.m_dialog=f.XObjectExt.release(this.m_dialog);this.m_okBtn=null;this.m_cancelBtn=null;this.m_featureList=f.XObjectExt.release(this.m_featureList);this.m_selectedToggles=f.XObjectExt.release(this.m_selectedToggles);this.m_listener=null;f.XObject.prototype.releaseObject.call(this);};f.UiFeatureToggleList=function(){};f.UiFeatureToggleList.prototype=new f.XObject();f.UiFeatureToggleList.prototype._ff_c="UiFeatureToggleList";f.UiFeatureToggleList.createFeatureList=function(s){var o=new f.UiFeatureToggleList();o.setupExt(s);return o;};f.UiFeatureToggleList.prototype.m_session=null;f.UiFeatureToggleList.prototype.m_layout=null;f.UiFeatureToggleList.prototype.m_searchField=null;f.UiFeatureToggleList.prototype.m_list=null;f.UiFeatureToggleList.prototype.m_allToggles=null;f.UiFeatureToggleList.prototype.m_selectedToggles=null;f.UiFeatureToggleList.prototype.setupExt=function(s){this.m_session=s;this.m_allToggles=f.FeatureToggleOlap.getAllFeatureToggles();this.m_selectedToggles=f.XSetOfNameObject.create();var i=this.m_allToggles.getIterator();while(i.hasNext()){var t=i.next();if(this.m_session.hasFeature(t)){this.m_selectedToggles.add(t);}}};f.UiFeatureToggleList.prototype.buildUi=function(g){this.m_layout=g.newRoot(f.UiType.FLEX_LAYOUT);this.m_layout.setDirection(f.UiFlexDirection.COLUMN);this.m_layout.setHeight(f.UiCssLength.create("650px"));this.m_layout.setMargin(f.UiCssBoxEdges.create("4px"));this.m_searchField=this.m_layout.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_searchField.registerOnSearch(this);var i=this.m_layout.addNewItemOfType(f.UiType.FLEX_LAYOUT);i.setMargin(f.UiCssBoxEdges.create("6px"));i.setFlex("0 0 auto");i.addNewItemOfType(f.UiType.ICON).setIcon("message-information");i.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("12px"));i.addNewItemOfType(f.UiType.LABEL).setText("Toggles past the current XVersion cannot be disabled anymore.");var s=this.m_layout.addNewItemOfType(f.UiType.SCROLL_CONTAINER);s.setFlex("1 1 auto");this.m_list=s.setNewContent(f.UiType.LIST);this.m_list.setName("featureToggleList");this.m_list.setSelectionMode(f.UiSelectionMode.MULTI_SELECT);this.m_list.setBorderWidth(f.UiCssBoxEdges.create("0px"));this.m_list.registerOnSelectionChange(this);this.update(this.m_allToggles);};f.UiFeatureToggleList.prototype.update=function(t){this.m_list.clearItems();var i=t.getKeysAsIteratorOfString();while(i.hasNext()){var a=t.getByKey(i.next());var l=this.m_list.addNewItem();l.setText(a.getName());l.setCustomObject(a);l.setEnabled(a.getMaxXVersion()>this.m_session.getXVersion());l.setSelected(this.m_selectedToggles.contains(a));}f.XObjectExt.release(i);};f.UiFeatureToggleList.prototype.getSelectedToggles=function(){return this.m_selectedToggles;};f.UiFeatureToggleList.prototype.onSearch=function(e){var c=e.getParameters().getBooleanByKeyExt(f.UiControlEvent.PARAM_CLEAR_BUTTON_PRESSED,false);if(c){this.update(this.m_allToggles);}else{var s=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_SEARCH_TEXT,"");var t=f.XSetOfNameObject.create();var i=this.m_allToggles.getIterator();while(i.hasNext()){var a=i.next();if(f.XString.containsString(f.XString.toLowerCase(a.getName()),f.XString.toLowerCase(s))){t.add(a);}}f.XObjectExt.release(i);this.update(t);}};f.UiFeatureToggleList.prototype.onSelectionChange=function(e){var d=this.m_list.getItems();var s=this.m_list.getSelectedItems();for(var i=0;i<d.size();i++){var a=d.get(i);var t=a.getCustomObject();if(s.contains(a)){this.m_selectedToggles.add(t);}else{this.m_selectedToggles.removeElement(t);}}};f.UiFeatureToggleList.prototype.releaseObject=function(){this.m_session=null;this.m_list=null;this.m_searchField=null;this.m_layout=f.XObjectExt.release(this.m_layout);this.m_selectedToggles=f.XObjectExt.release(this.m_selectedToggles);this.m_allToggles=null;f.XObject.prototype.releaseObject.call(this);};f.OqdController=function(){};f.OqdController.prototype=new f.XObject();f.OqdController.prototype._ff_c="OqdController";f.OqdController.create=function(a,u,l){var o=new f.OqdController();o.setupController(a,u,l);return o;};f.OqdController.prototype.m_application=null;f.OqdController.prototype.m_uiManager=null;f.OqdController.prototype.m_listener=null;f.OqdController.prototype.m_openQueryDialog=null;f.OqdController.prototype.m_cancelBtn=null;f.OqdController.prototype.m_systemsCombobox=null;f.OqdController.prototype.m_queryListTable=null;f.OqdController.prototype.m_searchInput=null;f.OqdController.prototype.m_fullQueryNames=null;f.OqdController.prototype.setupController=function(a,u,l){if(f.isNull(a)){throw f.XException.createRuntimeException("Cannot create a Open Query Dialog instance without an application. Please sepcify a application!");}if(f.isNull(u)){throw f.XException.createRuntimeException("Cannot create a Open Query Dialog instance without a uiManager. Please sepcify a uiManager!");}this.m_application=a;this.m_uiManager=u;this.m_listener=l;this.m_fullQueryNames=f.XHashMapOfStringByString.create();var i=this.m_uiManager.getLocalization();var b=this.m_uiManager.getFreeGenesis();this.m_openQueryDialog=b.newControl(f.UiType.DIALOG);this.m_openQueryDialog.setName("OpenQueryDialog");this.m_openQueryDialog.setTitle(i.getText(f.OpenQueryDialogI18n.I18N_OD_TITLE));this.m_openQueryDialog.setHeight(f.UiCssLength.createExt(50,f.UiCssSizeUnit.PERCENT));this.m_openQueryDialog.setWidth(f.UiCssLength.createExt(800,f.UiCssSizeUnit.PIXEL));this.m_openQueryDialog.setPadding(f.UiCssBoxEdges.create("20px"));this.m_openQueryDialog.registerOnBeforeOpen(this);this.m_openQueryDialog.registerOnAfterOpen(this);this.m_cancelBtn=this.m_openQueryDialog.addNewDialogButton();this.m_cancelBtn.setText(i.getText(f.OlapUiI18n.I18N_CANCEL));this.m_cancelBtn.setName("OpenQueryDialogCancelBtn");this.m_cancelBtn.registerOnPress(this);this.createDialogContent(this.m_openQueryDialog,i);};f.OqdController.prototype.createDialogContent=function(d,i){var m=d.setNewContent(f.UiType.FLEX_LAYOUT);m.setHeight(f.UiCssLength.create("100%"));m.setDirection(f.UiFlexDirection.COLUMN);var h=m.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setHeight(f.UiCssLength.create("40px"));h.setAlignItems(f.UiFlexAlignItems.CENTER);h.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);var H=h.addNewItemOfType(f.UiType.LABEL);H.setText(i.getText(f.OpenQueryDialogI18n.I18N_OD_QUERIES));H.setFontSize(f.UiCssLength.create("20px"));var s=h.addNewItemOfType(f.UiType.HORIZONTAL_LAYOUT);this.m_systemsCombobox=s.addNewItemOfType(f.UiType.COMBO_BOX);this.m_systemsCombobox.setWidth(f.UiCssLength.create("230px"));var S=this.m_application.getSystemLandscape().getSystemNames();var M=this.m_application.getSystemLandscape().getMasterSystemName();for(var I=0;I<S.size();++I){var a=S.get(I);var b=this.m_systemsCombobox.addNewItem();b.setName(f.XString.toLowerCase(a));b.setText(a);if(f.XString.isEqual(a,M)){this.m_systemsCombobox.setSelectedItem(b);}}var c=s.addNewItemOfType(f.UiType.SPACER);c.setWidth(f.UiCssLength.create("10px"));this.m_searchInput=s.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_searchInput.setWidth(f.UiCssLength.create("230px"));this.m_searchInput.setPlaceholder(i.getText(f.OpenQueryDialogI18n.I18N_OD_SEARCH_DESCR_PLACEHOLDER));this.m_searchInput.setTooltip(i.getText(f.OpenQueryDialogI18n.I18N_OD_SEARCH));this.m_searchInput.registerOnSearch(this);this.m_queryListTable=m.addNewItemOfType(f.UiType.TABLE);this.m_queryListTable.setWidth(f.UiCssLength.create("100%"));this.m_queryListTable.setHeight(f.UiCssLength.create("100%"));this.m_queryListTable.setFlex("auto");this.m_queryListTable.setVisibleRowCountMode(f.UiVisibleRowCountMode.AUTO);this.m_queryListTable.setMinRowCount(2);this.m_queryListTable.setSelectionBehavior(f.UiSelectionBehavior.ROW_ONLY);this.m_queryListTable.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT);this.m_queryListTable.registerOnSelect(this);this.m_queryListTable.addNewColumn().setTitle(i.getText(f.OpenQueryDialogI18n.I18N_OD_KEY));this.m_queryListTable.addNewColumn().setTitle(i.getText(f.OpenQueryDialogI18n.I18N_OD_DESCRIPTION));};f.OqdController.prototype.releaseObject=function(){this.m_application=null;this.m_uiManager=null;this.m_listener=null;this.m_openQueryDialog=f.XObjectExt.release(this.m_openQueryDialog);this.m_fullQueryNames=f.XObjectExt.release(this.m_fullQueryNames);this.m_cancelBtn=f.XObjectExt.release(this.m_cancelBtn);this.m_systemsCombobox=f.XObjectExt.release(this.m_systemsCombobox);this.m_queryListTable=f.XObjectExt.release(this.m_queryListTable);this.m_searchInput=f.XObjectExt.release(this.m_searchInput);f.XObject.prototype.releaseObject.call(this);};f.OqdController.prototype.isOpen=function(){return this.m_openQueryDialog.isOpen();};f.OqdController.prototype.open=function(){this.m_openQueryDialog.open();};f.OqdController.prototype.close=function(){this.m_openQueryDialog.close();};f.OqdController.prototype.onBeforeOpen=function(e){this.search();};f.OqdController.prototype.onAfterOpen=function(e){};f.OqdController.prototype.onPress=function(e){this.m_openQueryDialog.close();if(f.notNull(this.m_listener)){this.m_listener.onQuerySelectCancel();}};f.OqdController.prototype.onSelect=function(e){this.m_openQueryDialog.close();if(f.notNull(this.m_listener)){var s=this.m_systemsCombobox.getSelectedItem().getText();var q=e.getSelectedItem().getCell(0).getText();var a=this.m_fullQueryNames.getByKey(q);this.m_listener.onQuerySelect(s,q,a);}};f.OqdController.prototype.onSearch=function(e){this.search();};f.OqdController.prototype.search=function(){var s=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.m_application);if(this.m_systemsCombobox.getSelectedItem()===null){return;}this.m_queryListTable.setBusy(true);s.setSystemName(this.m_systemsCombobox.getSelectedItem().getText());s.processOlapCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.OqdController.prototype.onOlapCatalogManagerCreated=function(e,o,c){if(e.hasErrors()){throw f.XException.createRuntimeException(e.getSummary());}var a=e.getData();a.setResultOffset(0);a.setResultMaxSize(10000);a.setSelectedType(f.MetaObjectType.QUERY);if(this.m_searchInput.getText()!==null&&f.XString.compare(this.m_searchInput.getText(),"")!==0){a.setSearchOnText(true);a.setSearchFilter(f.XStringUtils.concatenate2(this.m_searchInput.getText(),"*"));}a.processGetResult(f.SyncType.NON_BLOCKING,this,null);};f.OqdController.prototype.onOlapCatalogResult=function(e,r,c){if(e.hasErrors()){throw f.XException.createRuntimeException(e.getSummary());}this.m_queryListTable.clearRows();this.m_fullQueryNames.clear();var a=r.getObjectsList();for(var i=0;i<a.size();i++){var t=a.get(i);var R=this.m_queryListTable.addNewRow();R.addNewCell().setText(t.getName());R.addNewCell().setText(t.getText());this.m_fullQueryNames.put(t.getName(),t.getFullQualifiedName());}this.m_queryListTable.setBusy(false);};f.SuTextEntryDialog=function(){};f.SuTextEntryDialog.prototype=new f.XObject();f.SuTextEntryDialog.prototype._ff_c="SuTextEntryDialog";f.SuTextEntryDialog.createDialog=function(g,t,c,a,l){if(f.isNull(g)){throw f.XException.createRuntimeException("Cannot create a Chiron dialog instance without a genesis. Please sepcify a genesis!");}var n=new f.SuTextEntryDialog();n.setupDialog(g,t,c,a,l);return n;};f.SuTextEntryDialog.prototype.m_textEntryDialog=null;f.SuTextEntryDialog.prototype.m_codeEditor=null;f.SuTextEntryDialog.prototype.m_genesis=null;f.SuTextEntryDialog.prototype.m_title=null;f.SuTextEntryDialog.prototype.m_codeType=null;f.SuTextEntryDialog.prototype.m_text=null;f.SuTextEntryDialog.prototype.m_listener=null;f.SuTextEntryDialog.prototype.releaseObject=function(){this.m_codeEditor=f.XObjectExt.release(this.m_codeEditor);this.m_textEntryDialog=f.XObjectExt.release(this.m_textEntryDialog);this.m_listener=f.XObjectExt.release(this.m_listener);this.m_genesis=null;f.XObject.prototype.releaseObject.call(this);};f.SuTextEntryDialog.prototype.setupDialog=function(g,t,c,a,l){this.m_genesis=g;this.m_title=t;this.m_codeType=c;this.m_text=a;this.m_listener=l;if(f.XStringUtils.isNullOrEmpty(this.m_title)){this.m_title="Text entry";}if(f.XStringUtils.isNullOrEmpty(this.m_codeType)){this.m_codeType="text";}this.buildDialogUi(this.m_genesis);};f.SuTextEntryDialog.prototype.buildDialogUi=function(g){this.m_textEntryDialog=this.m_genesis.newControl(f.UiType.DIALOG);this.m_textEntryDialog.setName("chironTextEntryDialog");this.m_textEntryDialog.setTitle(this.m_title);this.m_textEntryDialog.setWidth(f.UiCssLength.create("70vw"));this.m_textEntryDialog.setHeight(f.UiCssLength.create("60vh"));this.m_textEntryDialog.setPadding(f.UiCssBoxEdges.create("20px"));this.m_textEntryDialog.registerOnAfterOpen(this);var c=this.m_textEntryDialog.addNewDialogButton();c.setName("closeTextEntryDialogBtn");c.setText("Close");c.registerOnPress(this);var a=this.m_textEntryDialog.addNewDialogButton();a.setName("applyTextEntryDialogBtn");a.setText("Apply");a.setButtonType(f.UiButtonType.PRIMARY);a.registerOnPress(this);this.m_codeEditor=this.m_textEntryDialog.setNewContent(f.UiType.CODE_EDITOR);this.m_codeEditor.setName("textEntryDialogCodeEditor");this.m_codeEditor.setWidth(f.UiCssLength.create("100%"));this.m_codeEditor.setHeight(f.UiCssLength.create("100%"));this.m_codeEditor.setCodeType(this.m_codeType);this.m_codeEditor.setText(this.m_text);};f.SuTextEntryDialog.prototype.openDialog=function(){this.m_textEntryDialog.open();};f.SuTextEntryDialog.prototype.onPress=function(e){var n=e.getControl().getName();if(f.XString.isEqual("closeTextEntryDialogBtn",n)){this.m_textEntryDialog.close();if(f.notNull(this.m_listener)){this.m_listener.onTextEntryCancel();}}if(f.XString.isEqual("applyTextEntryDialogBtn",n)){this.m_textEntryDialog.close();if(f.notNull(this.m_listener)){this.m_listener.onTextEntryFinished(this.m_codeEditor.getText());}}};f.SuTextEntryDialog.prototype.onAfterOpen=function(e){this.m_codeEditor.focus();};f.FilterDialogProgramLayout=function(){};f.FilterDialogProgramLayout.prototype=new f.XObject();f.FilterDialogProgramLayout.prototype._ff_c="FilterDialogProgramLayout";f.FilterDialogProgramLayout.create=function(g,t,o,a){var l=new f.FilterDialogProgramLayout();l.m_genesis=g;l.m_toolbar=t;l.m_onPressListener=o;l.m_onSelectListener=a;return l;};f.FilterDialogProgramLayout.prototype.m_genesis=null;f.FilterDialogProgramLayout.prototype.m_toolbar=null;f.FilterDialogProgramLayout.prototype.m_onPressListener=null;f.FilterDialogProgramLayout.prototype.m_onSelectListener=null;f.FilterDialogProgramLayout.prototype.m_changeDataSourceBtn=null;f.FilterDialogProgramLayout.prototype.m_editToggleBtn=null;f.FilterDialogProgramLayout.prototype.m_setVariablesBtn=null;f.FilterDialogProgramLayout.prototype.m_openFilterDialogBtn=null;f.FilterDialogProgramLayout.prototype.m_dataObjectDimensionRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_dataObjectVariableRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_dimensionDropdown=null;f.FilterDialogProgramLayout.prototype.m_variableDropdown=null;f.FilterDialogProgramLayout.prototype.m_hierarchyInput=null;f.FilterDialogProgramLayout.prototype.m_entryPointDefaultRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_entryPointSacRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_useDynamicFilterCheckbox=null;f.FilterDialogProgramLayout.prototype.m_displayInfoDropdown=null;f.FilterDialogProgramLayout.prototype.m_pageSizeInput=null;f.FilterDialogProgramLayout.prototype.m_multiSelectionModeCheckbox=null;f.FilterDialogProgramLayout.prototype.m_showSelectionContainerCheckBox=null;f.FilterDialogProgramLayout.prototype.m_nonBlockingCheckbox=null;f.FilterDialogProgramLayout.prototype.m_selectionTextArea=null;f.FilterDialogProgramLayout.prototype.m_outputTextArea=null;f.FilterDialogProgramLayout.prototype.m_featureToggleReadMode=null;f.FilterDialogProgramLayout.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_toolbar=null;this.m_onPressListener=null;this.m_onSelectListener=null;this.m_changeDataSourceBtn=f.XObjectExt.release(this.m_changeDataSourceBtn);this.m_editToggleBtn=f.XObjectExt.release(this.m_editToggleBtn);this.m_setVariablesBtn=f.XObjectExt.release(this.m_setVariablesBtn);this.m_openFilterDialogBtn=f.XObjectExt.release(this.m_openFilterDialogBtn);this.m_dimensionDropdown=f.XObjectExt.release(this.m_dimensionDropdown);this.m_variableDropdown=f.XObjectExt.release(this.m_variableDropdown);this.m_dataObjectDimensionRadioBtn=f.XObjectExt.release(this.m_dataObjectDimensionRadioBtn);this.m_dataObjectVariableRadioBtn=f.XObjectExt.release(this.m_dataObjectVariableRadioBtn);this.m_hierarchyInput=f.XObjectExt.release(this.m_hierarchyInput);this.m_entryPointDefaultRadioBtn=f.XObjectExt.release(this.m_entryPointDefaultRadioBtn);this.m_entryPointSacRadioBtn=f.XObjectExt.release(this.m_entryPointSacRadioBtn);this.m_useDynamicFilterCheckbox=f.XObjectExt.release(this.m_useDynamicFilterCheckbox);this.m_displayInfoDropdown=f.XObjectExt.release(this.m_displayInfoDropdown);this.m_pageSizeInput=f.XObjectExt.release(this.m_pageSizeInput);this.m_multiSelectionModeCheckbox=f.XObjectExt.release(this.m_multiSelectionModeCheckbox);this.m_showSelectionContainerCheckBox=f.XObjectExt.release(this.m_showSelectionContainerCheckBox);this.m_nonBlockingCheckbox=f.XObjectExt.release(this.m_nonBlockingCheckbox);this.m_selectionTextArea=f.XObjectExt.release(this.m_selectionTextArea);this.m_outputTextArea=f.XObjectExt.release(this.m_outputTextArea);this.m_featureToggleReadMode=f.XObjectExt.release(this.m_featureToggleReadMode);};f.FilterDialogProgramLayout.prototype.showActivityIndicator=function(){this.m_genesis.clearUi();this.m_genesis.newRoot(f.UiType.ACTIVITY_INDICATOR).useMaxSpace();};f.FilterDialogProgramLayout.prototype.showErrorToast=function(m){var t=this.m_genesis.newControl(f.UiType.TOAST);t.setText(m);t.setMessageType(f.UiMessageType.ERROR);t.open();};f.FilterDialogProgramLayout.prototype.showUi=function(q,a,d,h,v){this.m_genesis.clearUi();this.setupToolbar(q,a);var r=this.m_genesis.newControl(f.UiType.FLEX_LAYOUT);r.setDirection(f.UiFlexDirection.COLUMN);this.m_genesis.setRoot(r);r.addNewItemOfType(f.UiType.SPACER).setHeight(f.UiCssLength.create("5px"));this.m_openFilterDialogBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_openFilterDialogBtn.setName("openBtn").setText("Open Filter Dialog").setButtonType(f.UiButtonType.PRIMARY);this.m_openFilterDialogBtn.registerOnPress(this.m_onPressListener);r.addNewItemOfType(f.UiType.SPACER).setHeight(f.UiCssLength.create("5px"));var c=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.ROW);c.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);c.setPadding(f.UiCssBoxEdges.create("5px"));c.setFlex("1 0 auto");this.setupLeftLayout(c,q,d,h,v);c.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("20px"));this.setupRightLayout(c);};f.FilterDialogProgramLayout.prototype.setupToolbar=function(q,a){this.m_toolbar.clearItems();this.m_changeDataSourceBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON);this.m_changeDataSourceBtn.setName("changeDataSourceBtn").setText(a);this.m_changeDataSourceBtn.registerOnPress(this.m_onPressListener);this.m_editToggleBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON);this.m_editToggleBtn.setName("editTogglesBtn").setText("Edit Feature Toggles");this.m_editToggleBtn.registerOnPress(this.m_onPressListener);this.m_setVariablesBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON);this.m_setVariablesBtn.setName("setVariablesBtn").setText("Set variables");this.m_setVariablesBtn.registerOnPress(this.m_onPressListener);this.m_setVariablesBtn.setEnabled(q.hasVariables());};f.FilterDialogProgramLayout.prototype.setupLeftLayout=function(p,q,d,h,v){var l=p.addNewItemOfType(f.UiType.FLEX_LAYOUT);l.setDirection(f.UiFlexDirection.COLUMN);l.setWidth(f.UiCssLength.create("35%"));this.addSectionLabel(l,"Data Object",false);var a=f.notNull(q)&&q.hasVariables();var b=l.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);b.setColumnCount(2);this.m_dataObjectDimensionRadioBtn=b.addNewRadioButton();this.m_dataObjectDimensionRadioBtn.setName("dataObjectDimension").setText("Dimension");this.m_dataObjectDimensionRadioBtn.registerOnChange(this);this.m_dataObjectDimensionRadioBtn.setSelected(f.XStringUtils.isNotNullAndNotEmpty(d)||!a||f.XStringUtils.isNullOrEmpty(v));this.m_dimensionDropdown=this.createItem(l,"Dimension",f.UiType.DROPDOWN);this.m_dimensionDropdown.registerOnSelect(this.m_onSelectListener);this.m_dimensionDropdown.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.fillDimensionDropdown(q,d);this.m_hierarchyInput=this.createItem(l,"Hierarchy",f.UiType.INPUT);this.m_hierarchyInput.setText(h);this.m_hierarchyInput.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.m_dataObjectVariableRadioBtn=b.addNewRadioButton();this.m_dataObjectVariableRadioBtn.setName("dataObjectVariable").setText("Variable");this.m_dataObjectVariableRadioBtn.registerOnChange(this);this.m_dataObjectVariableRadioBtn.setEnabled(a);if(!this.m_dataObjectDimensionRadioBtn.isSelected()){this.m_dataObjectVariableRadioBtn.setSelected(true);}this.m_variableDropdown=this.createItem(l,"Variable",f.UiType.DROPDOWN);this.m_variableDropdown.registerOnSelect(this.m_onSelectListener);this.m_variableDropdown.getParent().setVisible(this.m_dataObjectVariableRadioBtn.isSelected());this.fillVariableDropdown(q,v);this.addSectionLabel(l,"Entry Point",true);var e=l.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);e.setColumnCount(2);this.m_entryPointDefaultRadioBtn=e.addNewRadioButton();this.m_entryPointDefaultRadioBtn.setName("entryPointDefault").setText("Default");this.m_entryPointDefaultRadioBtn.registerOnChange(this);this.m_entryPointDefaultRadioBtn.setSelected(true);this.m_useDynamicFilterCheckbox=this.createItem(l,"Use Dynamic Filter",f.UiType.CHECKBOX);this.m_entryPointSacRadioBtn=e.addNewRadioButton();this.m_entryPointSacRadioBtn.setName("entryPointSac").setText("SAC");this.m_entryPointSacRadioBtn.registerOnChange(this);this.addSectionLabel(l,"Filter Dialog Configuration",true);this.m_displayInfoDropdown=this.createItem(l,"Display Info",f.UiType.DROPDOWN);this.m_displayInfoDropdown.addNewItem().setText("Dimension default");this.m_displayInfoDropdown.addNewItem().setText("Description").setCustomObject(f.FdDimensionDisplayInfo.DESCRIPTION);this.m_displayInfoDropdown.addNewItem().setText("ID").setCustomObject(f.FdDimensionDisplayInfo.ID);this.m_displayInfoDropdown.addNewItem().setText("ID and Description").setCustomObject(f.FdDimensionDisplayInfo.ID_AND_DESCRIPTION);this.m_pageSizeInput=this.createItem(l,"Page Size",f.UiType.INPUT);this.m_pageSizeInput.setText(f.XInteger.convertToString(f.FdConfiguration.DEFAULT_PAGE_SIZE));this.m_multiSelectionModeCheckbox=this.createItem(l,"MultiSelect",f.UiType.CHECKBOX).setChecked(true);this.m_showSelectionContainerCheckBox=this.createItem(l,"Show Selection Container",f.UiType.CHECKBOX).setChecked(false);this.m_nonBlockingCheckbox=this.createItem(l,"NonBlocking",f.UiType.CHECKBOX);this.m_featureToggleReadMode=this.createItem(l,"ReadModeSwitch",f.UiType.CHECKBOX).setChecked(true);};f.FilterDialogProgramLayout.prototype.addSectionLabel=function(l,a,s){if(s){l.addNewItemOfType(f.UiType.SPACER);}l.addNewItemOfType(f.UiType.LABEL).setText(a).setFontWeight(f.UiFontWeight.BOLD).setHeight(f.UiCssLength.create("20px"));};f.FilterDialogProgramLayout.prototype.createItem=function(p,n,t){var c=p.addNewItemOfType(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.ROW);c.setAlignItems(f.UiFlexAlignItems.CENTER);c.addNewItemOfType(f.UiType.LABEL).setText(n).setWidth(f.UiCssLength.create("180px"));return c.addNewItemOfType(t).useMaxWidth().setName(f.XString.replace(n," ",""));};f.FilterDialogProgramLayout.prototype.fillDimensionDropdown=function(q,d){this.m_dimensionDropdown.clearItems();if(f.notNull(q)){var a=q.getDimensionAccessor().getDimensions();for(var i=0;i<a.size();i++){var b=a.get(i);if(!b.isUniversalDisplayHierarchyDimension()){this.m_dimensionDropdown.addNewItem().setName(b.getName()).setText(b.getName());}}var c=d;if(f.XStringUtils.isNullOrEmpty(c)||q.getDimensionAccessor().getDimensionByName(c)===null){c=a.get(0).getName();}this.m_dimensionDropdown.setSelectedName(c);}};f.FilterDialogProgramLayout.prototype.fillVariableDropdown=function(q,v){this.m_variableDropdown.clearItems();if(f.notNull(q)&&q.hasVariables()){var a=q.getInputEnabledAndNonTechnicalVariables();for(var i=0;i<a.size();i++){var b=a.get(i);this.m_variableDropdown.addNewItem().setName(b.getName()).setText(b.getName());}var _=v;if(f.XStringUtils.isNullOrEmpty(_)||q.getVariable(_)===null){_=a.get(0).getName();}this.m_variableDropdown.setSelectedName(_);}};f.FilterDialogProgramLayout.prototype.onChange=function(e){this.m_useDynamicFilterCheckbox.getParent().setVisible(this.m_entryPointDefaultRadioBtn.isSelected());this.m_dimensionDropdown.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.m_hierarchyInput.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.m_variableDropdown.getParent().setVisible(this.m_dataObjectVariableRadioBtn.isSelected());this.m_displayInfoDropdown.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());this.m_pageSizeInput.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());this.m_multiSelectionModeCheckbox.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());this.m_showSelectionContainerCheckBox.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());};f.FilterDialogProgramLayout.prototype.setupRightLayout=function(p){var r=p.addNewItemOfType(f.UiType.FLEX_LAYOUT);r.setDirection(f.UiFlexDirection.COLUMN);r.setWidth(f.UiCssLength.create("65%"));var t=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);t.setDirection(f.UiFlexDirection.COLUMN);t.setFlex("1 1 auto");t.addNewItemOfType(f.UiType.LABEL).setText("Selection:").setHeight(f.UiCssLength.create("20px"));this.m_selectionTextArea=t.addNewItemOfType(f.UiType.TEXT_AREA);this.m_selectionTextArea.setName("SelectionData");this.m_selectionTextArea.setBackgroundColor(f.UiColor.WHITE);this.m_selectionTextArea.setSize(f.UiSize.createByCss("100%","100%"));r.addNewItemOfType(f.UiType.SPACER);var a=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);a.setFlex("4 1 auto");a.addNewItemOfType(f.UiType.LABEL).setText("Output:").setHeight(f.UiCssLength.create("20px"));this.m_outputTextArea=a.addNewItemOfType(f.UiType.TEXT_AREA);this.m_outputTextArea.setName("OutputData");this.m_outputTextArea.setBackgroundColor(f.UiColor.WHITE);this.m_outputTextArea.setSize(f.UiSize.createByCss("100%","100%"));};f.FilterDialogProgramLayout.prototype.showChangeDataSourceButton=function(){this.m_genesis.clearUi();this.m_changeDataSourceBtn=this.m_genesis.newControl(f.UiType.BUTTON);this.m_changeDataSourceBtn.setName("changeDataSourceBtn").setText("Change data source").useMaxSpace();this.m_changeDataSourceBtn.registerOnPress(this.m_onPressListener);this.m_genesis.setRoot(this.m_changeDataSourceBtn);};f.FilterDialogProgramLayout.prototype.getOpenFilterDialogBtn=function(){return this.m_openFilterDialogBtn;};f.FilterDialogProgramLayout.prototype.getChangeDataSourceBtn=function(){return this.m_changeDataSourceBtn;};f.FilterDialogProgramLayout.prototype.getFeatureTogglesBtn=function(){return this.m_editToggleBtn;};f.FilterDialogProgramLayout.prototype.getSetVariablesBtn=function(){return this.m_setVariablesBtn;};f.FilterDialogProgramLayout.prototype.getDataObjectDimensionRadioBtn=function(){return this.m_dataObjectDimensionRadioBtn;};f.FilterDialogProgramLayout.prototype.getDataObjectVariableRadioBtn=function(){return this.m_dataObjectVariableRadioBtn;};f.FilterDialogProgramLayout.prototype.getDimensionDropdown=function(){return this.m_dimensionDropdown;};f.FilterDialogProgramLayout.prototype.getVariableDropdown=function(){return this.m_variableDropdown;};f.FilterDialogProgramLayout.prototype.getHierarchyInput=function(){return this.m_hierarchyInput;};f.FilterDialogProgramLayout.prototype.getDisplayInfoDropdown=function(){return this.m_displayInfoDropdown;};f.FilterDialogProgramLayout.prototype.getPageSizeInput=function(){return this.m_pageSizeInput;};f.FilterDialogProgramLayout.prototype.getMultiSelectionModeCheckbox=function(){return this.m_multiSelectionModeCheckbox;};f.FilterDialogProgramLayout.prototype.getShowSelectionContainerCheckBox=function(){return this.m_showSelectionContainerCheckBox;};f.FilterDialogProgramLayout.prototype.getNonBlockingCheckbox=function(){return this.m_nonBlockingCheckbox;};f.FilterDialogProgramLayout.prototype.getUseDynamicFilterCheckbox=function(){return this.m_useDynamicFilterCheckbox;};f.FilterDialogProgramLayout.prototype.getEntryPointDefaultRadioBtn=function(){return this.m_entryPointDefaultRadioBtn;};f.FilterDialogProgramLayout.prototype.getEntryPointSacRadioBtn=function(){return this.m_entryPointSacRadioBtn;};f.FilterDialogProgramLayout.prototype.getSelectionTextArea=function(){return this.m_selectionTextArea;};f.FilterDialogProgramLayout.prototype.getOutputTextArea=function(){return this.m_outputTextArea;};f.FilterDialogProgramLayout.prototype.getFeatureToggleReadMode=function(){return this.m_featureToggleReadMode;};f.AuGdsQdHomeView=function(){};f.AuGdsQdHomeView.prototype=new f.XObject();f.AuGdsQdHomeView.prototype._ff_c="AuGdsQdHomeView";f.AuGdsQdHomeView.GDS_HW_LARGE_FONT_SIZE="22px";f.AuGdsQdHomeView.GDS_HW_MIDDLE_FONT_SIZE="16px";f.AuGdsQdHomeView.GDS_HW_SMALL_FONT_SIZE="14px";f.AuGdsQdHomeView.GDS_HW_WELCOME_BG="#eff4f9";f.AuGdsQdHomeView.GDS_HW_SELECTION_ICON_FONT_SIZE="42px";f.AuGdsQdHomeView.GDS_HW_SELECTION_ICON_COLOR="#bfbfbf";f.AuGdsQdHomeView.GDS_HW_SELECTION_TILE_MARGIN="8px 24px 8px 1px";f.AuGdsQdHomeView.GDS_HW_SELECT_DATA_SOURCE_TILE="gdsHvSelectDataSourceTile";f.AuGdsQdHomeView.GDS_HW_SELECT_FROM_MODEK_TILE="gdsHvSelectFromModelTile";f.AuGdsQdHomeView.GDS_HW_RECENT_FILES_TABLE_NAME="gdsHvRecentFileTable";f.AuGdsQdHomeView.GDS_HW_RECENT_FILES_ITEM_TAG="gdsHvRecentFileItem";f.AuGdsQdHomeView.create=function(g,l){var n=new f.AuGdsQdHomeView();if(f.isNull(g)){throw f.XException.createIllegalStateException("Missing genesis object! Cannot create a gds home view!");}n.setupInternal(g,l);return n;};f.AuGdsQdHomeView.prototype.m_genesis=null;f.AuGdsQdHomeView.prototype.m_listener=null;f.AuGdsQdHomeView.prototype.m_mainView=null;f.AuGdsQdHomeView.prototype.m_recentFileTable=null;f.AuGdsQdHomeView.prototype.m_recentFileLabel=null;f.AuGdsQdHomeView.prototype.releaseObject=function(){this.m_genesis=null;this.m_listener=null;this.m_recentFileTable=f.XObjectExt.release(this.m_recentFileTable);this.m_recentFileLabel=f.XObjectExt.release(this.m_recentFileLabel);this.m_mainView=f.XObjectExt.release(this.m_mainView);f.XObject.prototype.releaseObject.call(this);};f.AuGdsQdHomeView.prototype.setupInternal=function(g,l){this.m_genesis=g;this.m_listener=l;this.prepareUi(g);};f.AuGdsQdHomeView.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsQdHomeView.prototype.getView=function(){return this.m_mainView;};f.AuGdsQdHomeView.prototype.prepareUi=function(g){this.m_mainView=g.newControl(f.UiType.FLEX_LAYOUT);this.m_mainView.setDirection(f.UiFlexDirection.COLUMN);this.m_mainView.setAlignItems(f.UiFlexAlignItems.START);this.m_mainView.useMaxSpace();this.createHeader();this.createContent();this.createRecentFilesFooter();};f.AuGdsQdHomeView.prototype.createHeader=function(){var h=this.m_mainView.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setFlex("0 0 auto");h.setDirection(f.UiFlexDirection.COLUMN);h.setBackgroundColor(f.UiColor.create(f.AuGdsQdHomeView.GDS_HW_WELCOME_BG));h.useMaxWidth();h.setPadding(f.UiCssBoxEdges.create("10px 0px 0px 32px"));var a=h.addNewItemOfType(f.UiType.LABEL);a.setText("Welcome to Galaxy Data Studio!");a.setFontSize(f.UiCssLength.create(f.AuGdsQdHomeView.GDS_HW_LARGE_FONT_SIZE));a.setTextAlign(f.UiTextAlign.LEFT);a.setMargin(f.UiCssBoxEdges.create("10px"));var b=h.addNewItemOfType(f.UiType.LABEL);b.setText("Instantly explore your data");b.setFontSize(f.UiCssLength.create(f.AuGdsQdHomeView.GDS_HW_SMALL_FONT_SIZE));b.setMargin(f.UiCssBoxEdges.create("0px 10px 10px 10px"));b.setTextAlign(f.UiTextAlign.LEFT);var c=this.m_mainView.addNewItemOfType(f.UiType.SPACER);c.setHeight(f.UiCssLength.create("2px"));c.useMaxWidth().setBackgroundColor(f.UiColor.create("#d1e0ee"));};f.AuGdsQdHomeView.prototype.createContent=function(){var c=this.m_mainView.addNewItemOfType(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.COLUMN);c.setAlignItems(f.UiFlexAlignItems.START);c.useMaxWidth();c.setFlex("0 0 auto");c.setPadding(f.UiCssBoxEdges.create("24px 32px"));var a=c.addNewItemOfType(f.UiType.LABEL);a.setText("Start New");a.setFontSize(f.UiCssLength.create(f.AuGdsQdHomeView.GDS_HW_MIDDLE_FONT_SIZE));var d=c.addNewItemOfType(f.UiType.FLEX_LAYOUT);d.setDirection(f.UiFlexDirection.ROW);var s=this.createSelectionTile(f.AuGdsQdHomeView.GDS_HW_SELECT_DATA_SOURCE_TILE,"From a Data Source","database",this);d.addItem(s);var b=this.createSelectionTile(f.AuGdsQdHomeView.GDS_HW_SELECT_FROM_MODEK_TILE,"From a Model","database",this);b.setLoadState(f.UiLoadState.DISABLED);d.addItem(b);};f.AuGdsQdHomeView.prototype.createRecentFilesFooter=function(){this.m_recentFileTable=this.m_mainView.addNewItemOfType(f.UiType.RESPONSIVE_TABLE);this.m_recentFileTable.setFlex("1 1 250px");this.m_recentFileTable.addNewResponsiveTableColumn().setTitle("Name");this.m_recentFileTable.addNewResponsiveTableColumn().setTitle("Description");this.m_recentFileTable.registerOnSelect(this);this.m_recentFileTable.setName(f.AuGdsQdHomeView.GDS_HW_RECENT_FILES_TABLE_NAME);this.m_recentFileTable.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT_MASTER);var t=this.m_recentFileTable.setNewHeader(f.UiType.FLEX_LAYOUT);t.useMaxSpace();t.setAlignItems(f.UiFlexAlignItems.CENTER);this.m_recentFileLabel=t.addNewItemOfType(f.UiType.LABEL);this.m_recentFileLabel.setText("Recent Files (0)");this.m_recentFileLabel.setFontSize(f.UiCssLength.create(f.AuGdsQdHomeView.GDS_HW_MIDDLE_FONT_SIZE));this.m_recentFileLabel.useMaxWidth();var s=t.addNewItemOfType(f.UiType.SEARCH_FIELD);s.setWidth(f.UiCssLength.create("320px"));s.setPlaceholder("Search in: Recent Files");};f.AuGdsQdHomeView.prototype.createSelectionTile=function(n,t,i,l){var a=this.getGenesis().newControl(f.UiType.FLEX_LAYOUT);a.useMaxSpace();a.setDirection(f.UiFlexDirection.COLUMN);a.setAlignItems(f.UiFlexAlignItems.CENTER);a.setJustifyContent(f.UiFlexJustifyContent.CENTER);var b=a.addNewItemOfType(f.UiType.ICON);b.setIcon(i);b.setEnabled(false);b.setIconSize(f.UiCssLength.create(f.AuGdsQdHomeView.GDS_HW_SELECTION_ICON_FONT_SIZE));b.setColor(f.UiColor.create(f.AuGdsQdHomeView.GDS_HW_SELECTION_ICON_COLOR));b.useMaxWidth();b.setMargin(f.UiCssBoxEdges.create("0px 0px 5px 0px"));var c=a.addNewItemOfType(f.UiType.LABEL);c.setText(t);c.setFontSize(f.UiCssLength.create(f.AuGdsQdHomeView.GDS_HW_SMALL_FONT_SIZE));var d=this.getGenesis().newControl(f.UiType.TILE);d.setName(n);d.setContent(a);d.setFrameType(f.UiFrameType.ONE_BY_HALF);d.setMargin(f.UiCssBoxEdges.create(f.AuGdsQdHomeView.GDS_HW_SELECTION_TILE_MARGIN));d.registerOnPress(l);return d;};f.AuGdsQdHomeView.prototype.updateRecentFilesList=function(r){if(f.notNull(this.m_recentFileTable)){this.m_recentFileTable.clearResponsiveTableRows();var a=r.getIterator();while(a.hasNext()){var b=a.next();var t=this.m_recentFileTable.addNewResponsiveTableRow();t.setTag(f.AuGdsQdHomeView.GDS_HW_RECENT_FILES_ITEM_TAG);var c=t.addNewResponsiveTableCell();c.setText(b);c=t.addNewResponsiveTableCell();c.setText("");}this.updateRecentFilesCount(r.size());}};f.AuGdsQdHomeView.prototype.selectDataSourcePressed=function(){if(f.notNull(this.m_listener)){this.m_listener.onGdsHvSelectDataSourcePress(this);}};f.AuGdsQdHomeView.prototype.recentFileSelected=function(s){if(f.notNull(this.m_listener)&&f.notNull(s)){this.m_listener.onGdsHvRecentFileSelect(this,s.getResponsiveTableCell(0).getText());}};f.AuGdsQdHomeView.prototype.updateRecentFilesCount=function(c){if(f.notNull(this.m_recentFileLabel)){var t=f.XStringUtils.concatenate3("Recent Files (",f.XInteger.convertToString(c),")");this.m_recentFileLabel.setText(t);}};f.AuGdsQdHomeView.prototype.onSelect=function(e){var c=e.getControl();if(f.XString.isEqual(c.getName(),f.AuGdsQdHomeView.GDS_HW_RECENT_FILES_TABLE_NAME)){var t=e.getSelectedItem();this.recentFileSelected(t);}};f.AuGdsQdHomeView.prototype.onPress=function(e){var c=e.getControl();if(f.XString.isEqual(c.getName(),f.AuGdsQdHomeView.GDS_HW_SELECT_DATA_SOURCE_TILE)){this.selectDataSourcePressed();}};f.AuGdsLambdaDropListener=function(){};f.AuGdsLambdaDropListener.prototype=new f.XObject();f.AuGdsLambdaDropListener.prototype._ff_c="AuGdsLambdaDropListener";f.AuGdsLambdaDropListener.create=function(c){var o=new f.AuGdsLambdaDropListener();o.m_consumer=c;return o;};f.AuGdsLambdaDropListener.prototype.m_consumer=null;f.AuGdsLambdaDropListener.prototype.onDrop=function(e){this.m_consumer(e);};f.AuGdsLambdaDropListener.prototype.releaseObject=function(){this.m_consumer=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaHierarchyCatalogManagerCreatedListener=function(){};f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.prototype=new f.XObject();f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.prototype._ff_c="AuGdsLambdaHierarchyCatalogManagerCreatedListener";f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.create=function(c){var o=new f.AuGdsLambdaHierarchyCatalogManagerCreatedListener();o.m_consumer=c;return o;};f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.prototype.m_consumer=null;f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.prototype.onHierarchyCatalogManagerCreated=function(e,h,c){if(f.notNull(this.m_consumer)){this.m_consumer(e);}};f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.prototype.releaseObject=function(){this.m_consumer=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaListener=function(){};f.AuGdsLambdaListener.prototype=new f.XObject();f.AuGdsLambdaListener.prototype._ff_c="AuGdsLambdaListener";f.AuGdsLambdaListener.create=function(p){var o=new f.AuGdsLambdaListener();o.m_action=p;return o;};f.AuGdsLambdaListener.prototype.m_action=null;f.AuGdsLambdaListener.prototype.releaseObject=function(){this.m_action=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaListener.prototype.onPress=function(e){this.m_action();};f.AuGdsLambdaListener.prototype.onChange=function(e){this.m_action();};f.AuGdsLambdaListener.prototype.onContextMenu=function(e){this.m_action();};f.AuGdsLambdaListener.prototype.onSearch=function(e){this.m_action();};f.AuGdsLambdaListener.prototype.onLiveChange=function(e){this.m_action();};f.AuGdsLambdaListenerWithEvent=function(){};f.AuGdsLambdaListenerWithEvent.prototype=new f.XObject();f.AuGdsLambdaListenerWithEvent.prototype._ff_c="AuGdsLambdaListenerWithEvent";f.AuGdsLambdaListenerWithEvent.create=function(a){var o=new f.AuGdsLambdaListenerWithEvent();o.m_action=a;return o;};f.AuGdsLambdaListenerWithEvent.prototype.m_action=null;f.AuGdsLambdaListenerWithEvent.prototype.releaseObject=function(){this.m_action=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaListenerWithEvent.prototype.onPress=function(e){this.m_action(e);};f.AuGdsLambdaListenerWithEvent.prototype.onChange=function(e){this.m_action(e);};f.AuGdsLambdaListenerWithEvent.prototype.onContextMenu=function(e){this.m_action(e);};f.AuGdsLambdaListenerWithEvent.prototype.onSearch=function(e){this.m_action(e);};f.AuGdsLambdaListenerWithEvent.prototype.onLiveChange=function(e){this.m_action(e);};f.AuGdsLambdaSyncListener=function(){};f.AuGdsLambdaSyncListener.prototype=new f.XObject();f.AuGdsLambdaSyncListener.prototype._ff_c="AuGdsLambdaSyncListener";f.AuGdsLambdaSyncListener.create=function(p){var o=new f.AuGdsLambdaSyncListener();o.m_action=p;return o;};f.AuGdsLambdaSyncListener.prototype.m_action=null;f.AuGdsLambdaSyncListener.prototype.releaseObject=function(){this.m_action=null;f.XObject.prototype.releaseObject.call(this);};f.AuGdsLambdaSyncListener.prototype.onSynchronized=function(m,d,c){this.m_action(m,d);};f.ScAtlasDashboardView=function(){};f.ScAtlasDashboardView.prototype=new f.XObject();f.ScAtlasDashboardView.prototype._ff_c="ScAtlasDashboardView";f.ScAtlasDashboardView.createDashboardView=function(g,a,s,w,n){if(f.isNull(g)){throw f.XException.createRuntimeException("You need to specify a genesis instance in order to create a Atlas Dashboard View!");}if(f.isNull(a)){throw f.XException.createRuntimeException("You need to specify a application instance in order to create a Atlas Dashboard View!");}if(f.isNull(s)){var e="Missing story. Cannot create Atlas Dashboard View!";g.showErrorToast(e);throw f.XException.createRuntimeException(e);}var b=new f.ScAtlasDashboardView();b.setupInternal(g,a,s,w,n);return b;};f.ScAtlasDashboardView.prototype.m_genesis=null;f.ScAtlasDashboardView.prototype.m_story=null;f.ScAtlasDashboardView.prototype.m_application=null;f.ScAtlasDashboardView.prototype.m_widgetIdsList=null;f.ScAtlasDashboardView.prototype.m_dashboardName=null;f.ScAtlasDashboardView.prototype.m_viewPage=null;f.ScAtlasDashboardView.prototype.m_flexLayout=null;f.ScAtlasDashboardView.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_application=null;this.m_story=null;this.m_widgetIdsList=null;this.m_viewPage=f.XObjectExt.release(this.m_viewPage);};f.ScAtlasDashboardView.prototype.setupInternal=function(g,a,s,w,n){this.m_genesis=g;this.m_application=a;this.m_story=s;this.m_widgetIdsList=w;this.m_dashboardName=n;this.createView(g);};f.ScAtlasDashboardView.prototype.getPage=function(){return this.m_viewPage;};f.ScAtlasDashboardView.prototype.createView=function(g){this.m_viewPage=g.newControl(f.UiType.PAGE);this.m_viewPage.setName("scAtlasDashboardViewPage");this.m_viewPage.setShowHeader(true);this.m_viewPage.setText(f.XStringUtils.isNotNullAndNotEmpty(this.m_dashboardName)?this.m_dashboardName:this.m_story.getName());this.m_viewPage.useMaxSpace();this.m_flexLayout=this.m_viewPage.setNewContent(f.UiType.FLEX_LAYOUT);this.m_viewPage.setName("scAtlasDashboardViewTileContainer");this.m_flexLayout.setPadding(f.UiCssBoxEdges.create("10px"));this.m_flexLayout.useMaxSpace();this.renderDashboard();};f.ScAtlasDashboardView.prototype.renderDashboard=function(){var q=f.OcQuasarStory.create(this.m_story);q.setQuasarChartType(f.OcChartType.MICRO_CHART);var m=q.getMessages();if(m.hasErrors()){var e=m.getFirstError();this.m_genesis.showErrorToast(e.getText());}else if(m.getMessages().hasElements()){var a=m.getFirstWithSeverity(f.Severity.WARNING);if(f.notNull(a)){this.m_genesis.showWarningToast(a.getText());}}if(f.notNull(this.m_widgetIdsList)&&this.m_widgetIdsList.size()>0){var w=this.m_widgetIdsList.getIterator();while(w.hasNext()){var b=w.next();var c=q.getQuasarWidgetDocument(b);if(f.notNull(c)){var t=this.m_flexLayout.addNewItemOfType(f.UiType.TILE);t.setTitle(this.m_story.getName());t.setSubtitle(b);t.setMargin(f.UiCssBoxEdges.create("10px"));var d=f.QuasarEngine.create(this.m_application);var g=f.UiGenesis.create(t,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);d.setDocument(c);d.renderUi(g);}}}else{var h=this.m_viewPage.setNewContent(f.UiType.TEXT);h.setText("No widgets found!");h.useMaxSpace();h.setBackgroundColor(f.UiColor.create("#cc0033"));h.setFontColor(f.UiColor.create("#ffffff"));h.setFontSize(f.UiCssLength.createExt(15,f.UiCssSizeUnit.PIXEL));}};f.ScAtlasDashboardView.prototype.onSelect=function(e){};f.ScAtlasDashboardView.prototype.onLiveChange=function(e){};f.ScAtlasDashboardView.prototype.onSearch=function(e){};f.ScAtlasDashboardView.prototype.onPress=function(e){this.m_genesis.showInfoToast("Works!");};f.ScAtlasStoryListView=function(){};f.ScAtlasStoryListView.prototype=new f.XObject();f.ScAtlasStoryListView.prototype._ff_c="ScAtlasStoryListView";f.ScAtlasStoryListView.createStoryListView=function(g,s,l){if(f.isNull(g)){throw f.XException.createRuntimeException("You need to specify a genesis instance in order to create a Atlas Story List View!");}if(f.isNull(s)){var e="Missing story catalog. Cannot create Atlas Story List View!";g.showErrorToast(e);throw f.XException.createRuntimeException(e);}var n=new f.ScAtlasStoryListView();n.setupInternal(g,s,l);return n;};f.ScAtlasStoryListView.prototype.m_genesis=null;f.ScAtlasStoryListView.prototype.m_storyCatalog=null;f.ScAtlasStoryListView.prototype.m_viewPage=null;f.ScAtlasStoryListView.prototype.m_storyList=null;f.ScAtlasStoryListView.prototype.m_storySearchField=null;f.ScAtlasStoryListView.prototype.m_allStoryListItems=null;f.ScAtlasStoryListView.prototype.m_storyCatalogItemSelectListener=null;f.ScAtlasStoryListView.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_storyCatalog=null;this.m_storyCatalogItemSelectListener=null;this.m_storySearchField=f.XObjectExt.release(this.m_storySearchField);if(f.notNull(this.m_allStoryListItems)){this.m_allStoryListItems.clear();this.m_allStoryListItems=f.XObjectExt.release(this.m_allStoryListItems);}this.m_storyList=f.XObjectExt.release(this.m_storyList);this.m_viewPage=f.XObjectExt.release(this.m_viewPage);};f.ScAtlasStoryListView.prototype.setupInternal=function(g,s,l){this.m_genesis=g;this.m_storyCatalog=s;this.m_storyCatalogItemSelectListener=l;this.m_allStoryListItems=f.XList.create();this.createView(g);};f.ScAtlasStoryListView.prototype.createView=function(g){this.m_viewPage=g.newControl(f.UiType.PAGE);this.m_viewPage.setName("scAtlasStoryListViewPage");this.m_viewPage.setShowHeader(true);this.m_viewPage.setText("All stories");this.m_viewPage.useMaxSpace();this.m_storySearchField=this.m_viewPage.setNewSubHeader(f.UiType.SEARCH_FIELD);this.m_storySearchField.setName("scAtlasStoryListViewSearchField");this.m_storySearchField.setPlaceholder("Search story...");this.m_storySearchField.registerOnSearch(this);this.m_storySearchField.registerOnLiveChange(this);this.m_storySearchField.setDebounceTime(1000);var r=this.m_viewPage.addNewPageButton();r.setName("scAtlasStoryListViewPageRefreshList");r.setText("Refresh");r.setIcon("refresh");r.registerOnPress(this);var a=this.m_viewPage.addNewPageButton();a.setName("scAtlasStoryListViewPageGetFavorites");a.setText("Favorites");a.setIcon("favorite");a.registerOnPress(this);this.m_storyList=this.m_viewPage.setNewContent(f.UiType.LIST);this.m_storyList.setName("scAtlasStoryListViewStoryList");this.m_storyList.setSelectionMode(f.UiSelectionMode.NONE);this.m_storyList.useMaxSpace();this.fillStoryList();this.m_genesis.showInfoToast("Story catalog loaded!");};f.ScAtlasStoryListView.prototype.getPage=function(){return this.m_viewPage;};f.ScAtlasStoryListView.prototype.fillStoryList=function(){if(f.notNull(this.m_storyList)){this.m_storyList.clearItems();this.m_allStoryListItems.clear();var i=this.m_storyCatalog.getCatalogItems().getIterator();while(i.hasNext()){var t=i.next();var d=t.getDescription();var m=t.getModifiedByDisplayName();if(f.XStringUtils.isNullOrEmpty(m)){m=t.getModifiedBy();}var a=f.XStringUtils.concatenate2(f.XStringUtils.concatenate2("Modified: ",t.getModifiedTime()),f.XStringUtils.concatenate2(" by ",m));var b=f.XStringUtils.concatenate3(a,"\n",d);var l=this.m_storyList.addNewItem();l.setText(t.getName());l.setListItemType(f.UiListType.NAVIGATION);l.registerOnPress(this);l.setDescription(b);l.setCustomObject(t);l.setIcon("business-objects-experience");this.m_allStoryListItems.add(l);}}};f.ScAtlasStoryListView.prototype.filterStoryList=function(s,c){if(f.notNull(this.m_storyList)){this.m_storyList.clearItems();if(c===false){for(var a=0;a<this.m_allStoryListItems.size();a++){var t=this.m_allStoryListItems.get(a);if(f.XString.containsString(f.XString.toLowerCase(t.getText()),f.XString.toLowerCase(s))){this.m_storyList.addItem(t);}}}else{this.m_storyList.addAllItems(this.m_allStoryListItems);}}};f.ScAtlasStoryListView.prototype.onSelect=function(e){};f.ScAtlasStoryListView.prototype.onLiveChange=function(e){if(e.getControl()===this.m_storySearchField){this.filterStoryList(e.getControl().getText(),false);}};f.ScAtlasStoryListView.prototype.onSearch=function(e){var d=e.getParameters().getBooleanByKeyExt(f.UiControlEvent.PARAM_CLEAR_BUTTON_PRESSED,false);var s=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_SEARCH_TEXT,"");this.filterStoryList(s,d);};f.ScAtlasStoryListView.prototype.onPress=function(e){var s=e.getControl().getCustomObject();if(f.notNull(this.m_storyCatalogItemSelectListener)&&f.notNull(s)){this.m_storyCatalogItemSelectListener.onStoryCatalogItemSelected(s);}};f.ScAtlasStoryView=function(){};f.ScAtlasStoryView.prototype=new f.XObject();f.ScAtlasStoryView.prototype._ff_c="ScAtlasStoryView";f.ScAtlasStoryView.createStoryView=function(g,a,s,l,c){if(f.isNull(g)){throw f.XException.createRuntimeException("You need to specify a genesis instance in order to create a Atlas Story View!");}if(f.isNull(a)){throw f.XException.createRuntimeException("You need to specify a application instance in order to create a Atlas Story View!");}if(f.isNull(s)){var e="Missing story. Cannot create Atlas Story View!";g.showErrorToast(e);throw f.XException.createRuntimeException(e);}var n=new f.ScAtlasStoryView();n.setupInternal(g,a,s,l,c);return n;};f.ScAtlasStoryView.prototype.m_genesis=null;f.ScAtlasStoryView.prototype.m_story=null;f.ScAtlasStoryView.prototype.m_layoutType=null;f.ScAtlasStoryView.prototype.m_chartType=null;f.ScAtlasStoryView.prototype.m_application=null;f.ScAtlasStoryView.prototype.m_viewPage=null;f.ScAtlasStoryView.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_application=null;this.m_story=null;this.m_layoutType=null;this.m_chartType=null;this.m_viewPage=f.XObjectExt.release(this.m_viewPage);};f.ScAtlasStoryView.prototype.setupInternal=function(g,a,s,l,c){this.m_genesis=g;this.m_application=a;this.m_story=s;this.m_layoutType=f.notNull(l)?l:f.OcLayoutType.CANVAS;this.m_chartType=f.notNull(c)?c:f.OcChartType.HIGHCHARTS;this.createView(g);};f.ScAtlasStoryView.prototype.getPage=function(){return this.m_viewPage;};f.ScAtlasStoryView.prototype.createView=function(g){this.m_viewPage=g.newControl(f.UiType.PAGE);this.m_viewPage.setName("scAtlasStoryViewPage");this.m_viewPage.setShowHeader(true);this.m_viewPage.setText(this.m_story.getName());this.m_viewPage.useMaxSpace();this.renderStory();};f.ScAtlasStoryView.prototype.renderStory=function(){var q=f.OcQuasarStory.create(this.m_story);q.setQuasarMainLayoutType(this.m_layoutType);q.setQuasarChartType(this.m_chartType);var p=q.getQuasarPages();var m=q.getMessages();if(m.hasErrors()){var e=m.getFirstError();this.m_genesis.showErrorToast(e.getText());}else if(m.getMessages().hasElements()){var a=m.getFirstWithSeverity(f.Severity.WARNING);if(f.notNull(a)){this.m_genesis.showWarningToast(a.getText());}}var b=p.size();if(b>0){var t=this.m_viewPage.setNewContent(f.UiType.ICON_TAB_BAR);t.useMaxSpace();t.setName(q.getName());t.setCustomObject(q);t.registerOnSelect(this);for(var c=0;c<b;c++){var n=p.get(c);var d=t.addNew(f.UiType.ICON_TAB_BAR_ITEM);d.setName(n.getId());d.setText(n.getName());d.setIcon("document");d.setNewContent(f.UiType.ACTIVITY_INDICATOR).setText("Loading page...").useMaxSpace();var s=n.getPageContent();if(f.isNull(s)){var g=this.m_viewPage.setNewContent(f.UiType.TEXT).setText("This page has no widgets!");g.setBackgroundColor(f.UiColor.create("#cc0033"));g.setFontColor(f.UiColor.create("#ffffff"));g.setFontSize(f.UiCssLength.createExt(15,f.UiCssSizeUnit.PIXEL));}else{var h=f.QuasarEngine.create(this.m_application);var i=f.UiGenesis.create(d,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);h.setDocument(s);h.renderUi(i);}}}else{var j=this.m_viewPage.setNewContent(f.UiType.TEXT).setText("This story has no content!");j.setBackgroundColor(f.UiColor.create("#cc0033"));j.setFontColor(f.UiColor.create("#ffffff"));j.setFontSize(f.UiCssLength.createExt(15,f.UiCssSizeUnit.PIXEL));}};f.ScAtlasStoryView.prototype.onSelect=function(e){};f.ScAtlasStoryView.prototype.onLiveChange=function(e){};f.ScAtlasStoryView.prototype.onSearch=function(e){};f.ScAtlasStoryView.prototype.onPress=function(e){this.m_genesis.showInfoToast("Works!");};f.OpenQueryDialogI18n=function(){};f.OpenQueryDialogI18n.prototype=new f.OlapUiI18n();f.OpenQueryDialogI18n.prototype._ff_c="OpenQueryDialogI18n";f.OpenQueryDialogI18n.I18N_OD_TITLE="I18N_OD_TITLE";f.OpenQueryDialogI18n.I18N_OD_KEY="I18N_OD_KEY";f.OpenQueryDialogI18n.I18N_OD_DESCRIPTION="I18N_OD_DESCRIPTION";f.OpenQueryDialogI18n.I18N_OD_SEARCH_KEY_PLACEHOLDER="I18N_OD_SEARCH_KEY_PLACEHOLDER";f.OpenQueryDialogI18n.I18N_OD_SEARCH_DESCR_PLACEHOLDER="I18N_OD_SEARCH_DESCR_PLACEHOLDER";f.OpenQueryDialogI18n.I18N_OD_SEARCH="I18N_OD_SEARCH";f.OpenQueryDialogI18n.I18N_OD_SYSTEM="I18N_OD_SYSTEM";f.OpenQueryDialogI18n.I18N_OD_QUERIES="I18N_OD_QUERIES";f.OpenQueryDialogI18n.createOpenQueryDialogI18n=function(){return new f.OpenQueryDialogI18n();};f.OpenQueryDialogI18n.staticSetupOqd=function(){f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_TITLE,"Open Query");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_DESCRIPTION,"Description");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_KEY,"Technical Name");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SEARCH_KEY_PLACEHOLDER,"Search by Technical Name");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SEARCH_DESCR_PLACEHOLDER,"Search by Description");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SEARCH,"Search");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SYSTEM,"System");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_QUERIES,"Queries");};f.AuGdsDfDocument=function(){};f.AuGdsDfDocument.prototype=new f.XObjectExt();f.AuGdsDfDocument.prototype._ff_c="AuGdsDfDocument";f.AuGdsDfDocument.prototype.m_controller=null;f.AuGdsDfDocument.prototype.m_genesis=null;f.AuGdsDfDocument.prototype.m_listener=null;f.AuGdsDfDocument.prototype.m_documentSubApplication=null;f.AuGdsDfDocument.prototype.m_containerTabItem=null;f.AuGdsDfDocument.prototype.m_menuButtons=null;f.AuGdsDfDocument.prototype.m_toolbarItems=null;f.AuGdsDfDocument.prototype.m_uuid=null;f.AuGdsDfDocument.prototype.m_file=null;f.AuGdsDfDocument.prototype.m_docName=null;f.AuGdsDfDocument.prototype.m_statusMesseage=null;f.AuGdsDfDocument.prototype.m_statusMessageType=null;f.AuGdsDfDocument.prototype.setupDocument=function(c,l){if(f.isNull(c)){throw f.XException.createRuntimeException("Error while creating a gds document. Missing controller!");}this.m_uuid=f.XGuid.getGuid();this.m_controller=c;this.m_listener=l;var m=c.getProcess().getApplication();this.m_documentSubApplication=m.newSubApplication(c.getProcess().newChildProcess(f.ProcessType.SERVICE));this.m_menuButtons=f.XList.create();this.m_toolbarItems=f.XList.create();this.createTabItem(c.getGenesis());if(f.notNull(this.m_containerTabItem)){var i=f.UiGenesis.create(this.m_containerTabItem,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);this.buildUi(i);}this.log(this.getProcess().getProcessId());};f.AuGdsDfDocument.prototype.releaseObject=function(){this.m_documentSubApplication=null;this.m_controller=null;this.m_listener=null;this.m_containerTabItem=null;this.m_file=null;this.m_statusMessageType=null;this.m_genesis=f.XObjectExt.release(this.m_genesis);this.m_menuButtons=f.XObjectExt.release(this.m_menuButtons);this.m_toolbarItems=f.XObjectExt.release(this.m_toolbarItems);f.XObjectExt.prototype.releaseObject.call(this);};f.AuGdsDfDocument.prototype.getUuid=function(){return this.m_uuid;};f.AuGdsDfDocument.prototype.getTitle=function(){var t=null;if(f.notNull(this.m_containerTabItem)){t=this.m_containerTabItem.getText();}return t;};f.AuGdsDfDocument.prototype.getStatusMessage=function(){return this.m_statusMesseage;};f.AuGdsDfDocument.prototype.getStatusMessageType=function(){return this.m_statusMessageType;};f.AuGdsDfDocument.prototype.getMenuButtons=function(){return this.m_menuButtons;};f.AuGdsDfDocument.prototype.getToolbarItems=function(){return this.m_toolbarItems;};f.AuGdsDfDocument.prototype.hasUndoSteps=function(){return this.getApplication()!==null&&this.getApplication().getUndoManager().getAvailableUndoStepCount()>0;};f.AuGdsDfDocument.prototype.hasRedoSteps=function(){return this.getApplication()!==null&&this.getApplication().getUndoManager().getAvailableRedoStepCount()>0;};f.AuGdsDfDocument.prototype.getFile=function(){return this.m_file;};f.AuGdsDfDocument.prototype.setFile=function(a){this.m_file=a;if(f.notNull(a)){this.getController().updateFileArgument(a.getVfsUri().getPath());if(f.notNull(this.m_containerTabItem)){this.m_containerTabItem.setTooltip(a.getVfsUri().getPath());}}};f.AuGdsDfDocument.prototype.hasFile=function(){return f.notNull(this.m_file);};f.AuGdsDfDocument.prototype.executeSave=function(){if(this.hasFile()&&this.hasSaveData()){var a=f.XContent.createJsonObjectContent(f.ContentType.JSON,this.getSaveData());this.getController().saveContentToGdfFile(this.getFile(),a);}};f.AuGdsDfDocument.prototype.executeSaveAs=function(){if(this.hasSaveData()){var s=this.getSaveFileName();s=f.XStringUtils.concatenate2(f.AuGdsContants.GDF_DEFAULT_SAVE_DIR,s);this.getController().presentSaveAsPopup(s,function(t){this.handleSaveAs(t);}.bind(this));}};f.AuGdsDfDocument.prototype.isPristine=function(){return!this.getTabItem().isModified();};f.AuGdsDfDocument.prototype.isDirty=function(){return this.getTabItem().isModified();};f.AuGdsDfDocument.prototype.buildUi=function(g){this.m_genesis=g;};f.AuGdsDfDocument.prototype.setDocumentName=function(d){this.m_docName=d;if(f.XStringUtils.isNotNullAndNotEmpty(d)){this.setTitle(d);}};f.AuGdsDfDocument.prototype.getDocumentName=function(){return this.m_docName;};f.AuGdsDfDocument.prototype.setTitle=function(t){if(f.notNull(this.m_containerTabItem)){this.m_containerTabItem.setText(t);if(f.notNull(this.m_listener)){this.m_listener.onDocumentTitleChanged(this,t);}}};f.AuGdsDfDocument.prototype.setIcon=function(i){if(f.notNull(this.m_containerTabItem)){this.m_containerTabItem.setIcon(i);}};f.AuGdsDfDocument.prototype.setStatus=function(n,a){this.m_statusMesseage=n;this.m_statusMessageType=a;if(f.notNull(this.m_listener)){this.m_listener.onDocumentStatusChanged(this,n,a);}};f.AuGdsDfDocument.prototype.getUserSettings=function(){return this.getProcess().getUserManager().getUserSettings();};f.AuGdsDfDocument.prototype.addMenuBarButton=function(n,t,a,i,l){if(this.getGenesis()!==null){var b=this.getGenesis().newControl(f.UiType.BUTTON);b.setButtonType(f.UiButtonType.TRANSPARENT);b.setName(n);b.setTag(t);b.setText(a);b.setIcon(i);b.registerOnPress(l);this.m_menuButtons.add(b);return b;}return null;};f.AuGdsDfDocument.prototype.addToolbarItem=function(n){if(f.notNull(this.m_toolbarItems)&&f.notNull(n)){this.m_toolbarItems.add(n);}};f.AuGdsDfDocument.prototype.addToolbarSectionSeparator=function(){if(f.notNull(this.m_toolbarItems)&&this.getController()!==null){this.m_toolbarItems.add(this.getController().newToolbarSeparator());}};f.AuGdsDfDocument.prototype.markPristine=function(){this.getTabItem().setModified(false);};f.AuGdsDfDocument.prototype.markDirty=function(){this.getTabItem().setModified(true);};f.AuGdsDfDocument.prototype.notifySaveStateChanged=function(){if(f.notNull(this.m_listener)){this.m_listener.onUndoSaveDataStateChanged(this,this.hasSaveData(),this.getSaveData());}};f.AuGdsDfDocument.prototype.notifyUndoRedoStateChanged=function(){if(f.notNull(this.m_listener)){this.m_listener.onUndoRedoStateChanged(this,this.hasUndoSteps(),this.hasRedoSteps());}};f.AuGdsDfDocument.prototype.resetStatusMessage=function(){this.setStatus(null,null);};f.AuGdsDfDocument.prototype.setStatusWarning=function(m){this.setStatus(m,f.UiMessageType.WARNING);};f.AuGdsDfDocument.prototype.setStatusError=function(m){this.setStatus(m,f.UiMessageType.ERROR);};f.AuGdsDfDocument.prototype.setStatusInfo=function(m){this.setStatus(m,f.UiMessageType.INFORMATION);};f.AuGdsDfDocument.prototype.setStatusSuccess=function(m){this.setStatus(m,f.UiMessageType.SUCCESS);};f.AuGdsDfDocument.prototype.onFileSavedSuccessfully=function(a){this.setFile(a);this.markPristine();};f.AuGdsDfDocument.prototype.showNetworkActivityIndicator=function(){this.getController().setNetworkActivityIndicatorVisible(true);};f.AuGdsDfDocument.prototype.hideNetworkActivityIndicator=function(){this.getController().setNetworkActivityIndicatorVisible(false);};f.AuGdsDfDocument.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsDfDocument.prototype.getTabItem=function(){return this.m_containerTabItem;};f.AuGdsDfDocument.prototype.getController=function(){return this.m_controller;};f.AuGdsDfDocument.prototype.getProcess=function(){return this.m_controller.getProcess();};f.AuGdsDfDocument.prototype.getApplication=function(){return this.m_documentSubApplication;};f.AuGdsDfDocument.prototype.getSession=function(){return this.getProcess();};f.AuGdsDfDocument.prototype.createTabItem=function(g){if(f.notNull(g)){this.m_containerTabItem=g.newControl(f.UiType.TAB_BAR_ITEM);this.m_containerTabItem.setName(this.m_uuid);this.m_containerTabItem.setText("Unnamed");}};f.AuGdsDfDocument.prototype.handleSaveAs=function(p){if(f.XStringUtils.isNotNullAndNotEmpty(p)){var t=this.getController().createFileByPath(p);if(f.notNull(t)){var a=f.XContent.createJsonObjectContent(f.ContentType.JSON,this.getSaveData());var s=this.getController().saveContentToGdfFile(t,a);if(s){this.onFileSavedSuccessfully(t);}}}else{this.getGenesis().showWarningToast("Cannot save! No file specified!");}};f.AuGdsPanel=function(){};f.AuGdsPanel.prototype=new f.XObjectExt();f.AuGdsPanel.prototype._ff_c="AuGdsPanel";f.AuGdsPanel.GDS_PANEL_TARGET_WIDTH="370px";f.AuGdsPanel.GDS_PANEL_FLEX="0 5 370px";f.AuGdsPanel.GDS_PANEL_HEADER_FLEX="0 0 42px";f.AuGdsPanel.GDS_PANEL_HEADER_PADDING="0px 12px";f.AuGdsPanel.GDS_PANEL_HEADER_FONT_SIZE="16px";f.AuGdsPanel.GDS_PANEL_HEADER_ICON_SIZE="18px";f.AuGdsPanel.GDS_PANEL_BG_COLOR="#427cac";f.AuGdsPanel.createPanel=function(g,l){var o=new f.AuGdsPanel();o.setupExt(g,l);return o;};f.AuGdsPanel.prototype.m_genesis=null;f.AuGdsPanel.prototype.m_listener=null;f.AuGdsPanel.prototype.m_content=null;f.AuGdsPanel.prototype.m_mainLayout=null;f.AuGdsPanel.prototype.m_contentContainer=null;f.AuGdsPanel.prototype.m_headerWrapper=null;f.AuGdsPanel.prototype.m_titleLbl=null;f.AuGdsPanel.prototype.m_headerIcon=null;f.AuGdsPanel.prototype.m_moreIcon=null;f.AuGdsPanel.prototype.releaseObject=function(){this.m_genesis=null;this.m_listener=null;this.m_content=null;this.m_moreIcon=f.XObjectExt.release(this.m_moreIcon);this.m_titleLbl=f.XObjectExt.release(this.m_titleLbl);this.m_headerIcon=f.XObjectExt.release(this.m_headerIcon);this.m_headerWrapper=f.XObjectExt.release(this.m_headerWrapper);this.m_contentContainer=f.XObjectExt.release(this.m_contentContainer);this.m_mainLayout=f.XObjectExt.release(this.m_mainLayout);f.XObjectExt.prototype.releaseObject.call(this);};f.AuGdsPanel.prototype.setupExt=function(g,l){this.m_genesis=g;this.m_listener=l;this.m_mainLayout=this.m_genesis.newControl(f.UiType.FLEX_LAYOUT);this.m_mainLayout.useMaxHeight();this.m_mainLayout.setWidth(f.UiCssLength.create(f.AuGdsPanel.GDS_PANEL_TARGET_WIDTH));this.m_mainLayout.setFlex(f.AuGdsPanel.GDS_PANEL_FLEX);this.m_mainLayout.setDirection(f.UiFlexDirection.COLUMN);this.m_mainLayout.setBorderStyle(f.UiBorderStyle.SOLID);this.m_mainLayout.setBorderWidth(f.UiCssBoxEdges.create("1px"));this.m_mainLayout.setBorderColor(f.UiColor.GREY.newBrighterColor(0.2));this.m_headerWrapper=this.m_mainLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_headerWrapper.useMaxWidth();this.m_headerWrapper.setFlex(f.AuGdsPanel.GDS_PANEL_HEADER_FLEX);this.m_headerWrapper.setPadding(f.UiCssBoxEdges.create(f.AuGdsPanel.GDS_PANEL_HEADER_PADDING));this.m_headerWrapper.setDirection(f.UiFlexDirection.ROW);this.m_headerWrapper.setAlignItems(f.UiFlexAlignItems.CENTER);this.m_headerWrapper.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);this.m_headerWrapper.setBackgroundColor(f.UiColor.create(f.AuGdsPanel.GDS_PANEL_BG_COLOR));var i=this.m_headerWrapper.addNewItemOfType(f.UiType.FLEX_LAYOUT);i.setDirection(f.UiFlexDirection.ROW);i.setAlignItems(f.UiFlexAlignItems.CENTER);this.m_headerIcon=i.addNewItemOfType(f.UiType.ICON);this.m_headerIcon.setColor(f.UiColor.WHITE);this.m_headerIcon.setIconSize(f.UiCssLength.create(f.AuGdsPanel.GDS_PANEL_HEADER_ICON_SIZE));this.m_headerIcon.setVisible(false);this.m_headerIcon.setEnabled(false);var a=i.addNewItemOfType(f.UiType.SPACER);a.setWidth(f.UiCssLength.create("10px"));this.m_titleLbl=i.addNewItemOfType(f.UiType.LABEL);this.m_titleLbl.setFontColor(f.UiColor.WHITE);this.m_titleLbl.setFontSize(f.UiCssLength.create(f.AuGdsPanel.GDS_PANEL_HEADER_FONT_SIZE));if(f.notNull(this.m_listener)){this.createMoreIconIfNeeded();}this.m_contentContainer=this.m_mainLayout.addNewItemOfType(f.UiType.SCROLL_CONTAINER);this.m_contentContainer.useMaxSpace();};f.AuGdsPanel.prototype.getView=function(){return this.m_mainLayout;};f.AuGdsPanel.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsPanel.prototype.setTitle=function(t){if(f.notNull(this.m_titleLbl)){this.m_titleLbl.setText(t);}};f.AuGdsPanel.prototype.setIcon=function(i){if(f.notNull(this.m_headerIcon)){this.m_headerIcon.setVisible(f.XStringUtils.isNotNullAndNotEmpty(i));this.m_headerIcon.setIcon(i);}};f.AuGdsPanel.prototype.setContent=function(c){this.m_content=c;if(f.notNull(this.m_contentContainer)){this.m_contentContainer.setContent(this.m_content);}};f.AuGdsPanel.prototype.registerOnPanelActionsListener=function(l){this.m_listener=l;if(f.notNull(this.m_listener)){this.createMoreIconIfNeeded();}};f.AuGdsPanel.prototype.createMoreIconIfNeeded=function(){if(f.notNull(this.m_headerWrapper)&&f.isNull(this.m_moreIcon)){this.m_moreIcon=this.m_headerWrapper.addNewItemOfType(f.UiType.ICON);this.m_moreIcon.setIcon("overflow");this.m_moreIcon.setTooltip("More");this.m_moreIcon.setColor(f.UiColor.WHITE);this.m_moreIcon.setIconSize(f.UiCssLength.create(f.AuGdsPanel.GDS_PANEL_HEADER_FONT_SIZE));this.m_moreIcon.registerOnPress(this);}};f.AuGdsPanel.prototype.onPress=function(e){if(f.notNull(this.m_listener)){this.m_listener.onMoreButtonPressed(this,this.m_moreIcon);}};f.AuGdsQdUserActionItem=function(){};f.AuGdsQdUserActionItem.prototype=new f.XObjectExt();f.AuGdsQdUserActionItem.prototype._ff_c="AuGdsQdUserActionItem";f.AuGdsQdUserActionItem.prototype.m_name=null;f.AuGdsQdUserActionItem.prototype.m_text=null;f.AuGdsQdUserActionItem.prototype.m_icon=null;f.AuGdsQdUserActionItem.prototype.m_enablementSupplier=null;f.AuGdsQdUserActionItem.prototype.m_visibilitySupplier=null;f.AuGdsQdUserActionItem.prototype.getName=function(){return this.m_name;};f.AuGdsQdUserActionItem.prototype.setName=function(n){this.m_name=n;};f.AuGdsQdUserActionItem.prototype.getText=function(){return this.m_text;};f.AuGdsQdUserActionItem.prototype.setText=function(t){this.m_text=t;};f.AuGdsQdUserActionItem.prototype.getActionGroup=function(){return null;};f.AuGdsQdUserActionItem.prototype.getActionLeaf=function(){return null;};f.AuGdsQdUserActionItem.prototype.getIcon=function(){return this.m_icon;};f.AuGdsQdUserActionItem.prototype.setIcon=function(i){this.m_icon=i;};f.AuGdsQdUserActionItem.prototype.getEnablementSupplier=function(){return this.m_enablementSupplier;};f.AuGdsQdUserActionItem.prototype.setEnablementSupplier=function(e){this.m_enablementSupplier=e;};f.AuGdsQdUserActionItem.prototype.getVisibilitySupplier=function(){return this.m_visibilitySupplier;};f.AuGdsQdUserActionItem.prototype.setVisibilitySupplier=function(v){this.m_visibilitySupplier=v;};f.AuGdsQdContextMenuUtil=function(){};f.AuGdsQdContextMenuUtil.prototype=new f.XObjectExt();f.AuGdsQdContextMenuUtil.prototype._ff_c="AuGdsQdContextMenuUtil";f.AuGdsQdContextMenuUtil.renderSubMenuItems=function(m,u){var s=u.getSubItems();var a=true;for(var i=0;i<s.size();i++){var b=s.get(i);if(b.getVisibilitySupplier()===null||b.getVisibilitySupplier()().getBoolean()){var g=b.getActionGroup();if(f.notNull(g)&&f.XStringUtils.isNullOrEmpty(g.getName())){f.AuGdsQdContextMenuUtil.renderSubMenuItems(m,g);a=true;}else{var c=m.addNewItem();c.setSectionStart(a);a=false;c.setName(b.getName());c.setText(b.getText());c.setIcon(b.getIcon());c.setEnabled(b.getEnablementSupplier()===null||b.getEnablementSupplier()().getBoolean());if(f.notNull(g)){f.AuGdsQdContextMenuUtil.renderSubMenuItems(c,g);}var l=b.getActionLeaf();if(f.notNull(l)){c.registerOnPress(f.AuGdsLambdaListener.create(l.getCommand()));if(b.getIcon()===null&&l.getStatusSupplier()!==null){if(l.getStatusSupplier()().getBoolean()){c.setIcon("accept");}}}}}}};f.AuGdsQdContextMenuUtil.renderToolbarItems=function(t,u){var s=u.getSubItems();for(var i=0;i<s.size();i++){var a=s.get(i);if(a.getVisibilitySupplier()===null||a.getVisibilitySupplier()().getBoolean()){var g=a.getActionGroup();var l=a.getActionLeaf();if(f.notNull(g)){f.AuGdsQdContextMenuUtil.renderToolbarItems(t,g);}else if(f.notNull(l)){if(i===0){t.addNewItemOfType(f.UiType.SPACER);}var b;if(l.getStatusSupplier()!==null){b=t.addNewItemOfType(f.UiType.TOGGLE_BUTTON).setPressed(l.getStatusSupplier()().getBoolean());}else{b=t.addNewItemOfType(f.UiType.BUTTON);}b.setName(a.getName());b.setTooltip(a.getText());b.setIcon(a.getIcon());b.setEnabled(a.getEnablementSupplier()===null||a.getEnablementSupplier()().getBoolean());b.registerOnPress(f.AuGdsLambdaListener.create(l.getCommand()));}}}};f.AuGdsQdFilterPanel=function(){};f.AuGdsQdFilterPanel.prototype=new f.XObjectExt();f.AuGdsQdFilterPanel.prototype._ff_c="AuGdsQdFilterPanel";f.AuGdsQdFilterPanel.createFilterPanel=function(g){var o=new f.AuGdsQdFilterPanel();o.setupExt(g);return o;};f.AuGdsQdFilterPanel.prototype.m_genesis=null;f.AuGdsQdFilterPanel.prototype.m_filterList=null;f.AuGdsQdFilterPanel.prototype.m_queryManager=null;f.AuGdsQdFilterPanel.prototype.m_panel=null;f.AuGdsQdFilterPanel.prototype.m_editActionListeners=null;f.AuGdsQdFilterPanel.prototype.setupExt=function(g){this.m_genesis=g;this.m_editActionListeners=f.XList.create();this.m_filterList=this.m_genesis.newControl(f.UiType.LIST);this.m_filterList.useMaxSpace();this.m_filterList.setSelectionMode(f.UiSelectionMode.NONE);this.m_filterList.setBorderWidth(f.UiCssBoxEdges.create("0px"));this.m_panel=f.AuGdsPanel.createPanel(this.m_genesis,null);this.m_panel.setTitle("Filters");this.m_panel.setIcon("filter");this.m_panel.setContent(this.m_filterList);};f.AuGdsQdFilterPanel.prototype.releaseObject=function(){this.m_editActionListeners.clear();this.m_editActionListeners=f.XObjectExt.release(this.m_editActionListeners);this.m_queryManager=null;this.m_genesis=null;this.m_filterList=f.XObjectExt.release(this.m_filterList);this.m_panel=f.XObjectExt.release(this.m_panel);f.XObjectExt.prototype.releaseObject.call(this);};f.AuGdsQdFilterPanel.prototype.addEditActionListener=function(e){this.m_editActionListeners.add(e);};f.AuGdsQdFilterPanel.prototype.removeEditActionListener=function(e){this.m_editActionListeners.removeElement(e);};f.AuGdsQdFilterPanel.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsQdFilterPanel.prototype.getView=function(){return this.m_panel.getView();};f.AuGdsQdFilterPanel.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsQdFilterPanel.prototype.setQueryManager=function(m){if(f.notNull(this.m_queryManager)){this.m_queryManager.getQueryModel().getFilter().unregisterChangedListener(this);}this.m_queryManager=m;this.m_queryManager.getQueryModel().getFilter().registerChangedListener(this,null);this.m_filterList.clearItems();if(!this.m_queryManager.isSubmitNeeded()){this.updateFilterPanel();}};f.AuGdsQdFilterPanel.prototype.updateFilterPanel=function(){this.m_filterList.clearItems();if(f.isNull(this.m_queryManager)){return;}var a=this.m_queryManager.getQueryModel().getFilter();var d=a.getDynamicFilter();if(d.isCartesianProduct()&&d.getCartesianProduct()!==null){var c=d.getCartesianProduct();for(var i=0;i<c.size();i++){var b=c.getCartesianChild(i);var e=this.createDimensionEntry(c,b);this.m_filterList.addItem(e);for(var j=0;j<b.size();j++){var g=b.getOp(j);var h=this.createFilterEntry(c,b,g);if(f.isNull(h)){continue;}this.m_filterList.addItem(h);}}}};f.AuGdsQdFilterPanel.prototype.createDimensionEntry=function(p,c){var d=c.getDimension();var a=this.m_genesis.newControl(f.UiType.CUSTOM_LIST_ITEM);var b=a.setNewContent(f.UiType.FLEX_LAYOUT);b.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);b.setAlignContent(f.UiFlexAlignContent.CENTER);b.useMaxWidth();b.setHeight(f.UiCssLength.create("48px"));b.setPadding(f.UiCssBoxEdges.create("5px"));b.setBackgroundColor(f.UiColor.GREY.newBrighterColor(0.3));var t=b.addNewItemOfType(f.UiType.LABEL);t.setText(d.getText());t.setFontWeight(f.UiFontWeight.BOLD);t.setMargin(f.UiCssBoxEdges.create("5px"));var e=b.addNewItemOfType(f.UiType.ICON);e.setIcon("sys-cancel");e.setTooltip("Remove all dimension filters");e.setColor(f.UiColor.RED.newDarkerColor(0.2));e.setSize(f.UiSize.createByCss("16px","16px"));e.registerOnPress(f.AuGdsLambdaListener.create(function(){p.removeElement(c);this.notifyEditActionListeners();}.bind(this)));return a;};f.AuGdsQdFilterPanel.prototype.createFilterEntry=function(g,p,e){var d=p.getDimension();var a=this.m_genesis.newControl(f.UiType.CUSTOM_LIST_ITEM);var c=a.setNewContent(f.UiType.FLEX_LAYOUT);c.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);c.setAlignContent(f.UiFlexAlignContent.CENTER);c.setHeight(f.UiCssLength.create("32px"));c.setPadding(f.UiCssBoxEdges.create("5px"));var s=c.addNewItemOfType(f.UiType.SPACER);s.setFlex("0 0 20px");var b=e.getComparisonOperator();if(f.isNull(b)){return null;}var h=e.getSetSign();if(h===f.SetSign.EXCLUDING){if(b===f.ComparisonOperator.EQUAL){b=f.ComparisonOperator.NOT_EQUAL;}if(b===f.ComparisonOperator.BETWEEN){b=f.ComparisonOperator.NOT_BETWEEN;}}var o=c.addNewItemOfType(f.UiType.LABEL);o.setText(b.getName());o.setFlex("1 0 40%");var l=c.addNewItemOfType(f.UiType.LABEL);l.setFlex("1 1 30%");var i=e.getLow();var j=this.getDisplayText(d,i);if(f.notNull(j)){l.setText(j);}var k=c.addNewItemOfType(f.UiType.LABEL);k.setFlex("1 1 30%");var m=e.getHigh();var n=this.getDisplayText(d,m);if(f.notNull(n)){k.setText(n);}var q=c.addNewItemOfType(f.UiType.ICON);q.setIcon("sys-cancel");q.setTooltip("Remove filter");q.setColor(f.UiColor.ORANGE.newDarkerColor(0.2));q.setHeight(f.UiCssLength.create("16px"));q.setFlex("0 0 16px");q.registerOnPress(f.AuGdsLambdaListener.create(function(){p.removeElement(e);if(p.size()===0){g.removeElement(p);}this.notifyEditActionListeners();}.bind(this)));return a;};f.AuGdsQdFilterPanel.prototype.notifyEditActionListeners=function(){for(var i=0;i<this.m_editActionListeners.size();i++){this.m_editActionListeners.get(i).notifyEditAction();}};f.AuGdsQdFilterPanel.prototype.getDisplayText=function(d,b){var t=d.getTextField();if(f.notNull(t)){var a=b.getSupplementValueString(t.getName());if(f.XStringUtils.isNotNullAndNotEmpty(a)){return a;}}var v=b.getValue();if(f.notNull(v)){return v.getStringRepresentation();}return null;};f.AuGdsQdFilterPanel.prototype.onModelComponentChanged=function(m,c){this.updateFilterPanel();};f.AuGdsQdFilterPanel.prototype.clearEditActionListeners=function(){this.m_editActionListeners.clear();};f.AuGdsQdTableConfig=function(){};f.AuGdsQdTableConfig.prototype=new f.XObjectExt();f.AuGdsQdTableConfig.prototype._ff_c="AuGdsQdTableConfig";f.AuGdsQdTableConfig.create=function(){var i=new f.AuGdsQdTableConfig();i.setShowDimensionTitles(true);i.setShowTableDetails(false);i.setShowTableTitle(false);i.setShowSubTitle(false);i.setWidth(1257);i.setHeight(451);return i;};f.AuGdsQdTableConfig.prototype.m_freezeRows=false;f.AuGdsQdTableConfig.prototype.m_freezeColumns=false;f.AuGdsQdTableConfig.prototype.m_showGrid=false;f.AuGdsQdTableConfig.prototype.m_showTableTitle=false;f.AuGdsQdTableConfig.prototype.m_showSubTitle=false;f.AuGdsQdTableConfig.prototype.m_showTableDetails=false;f.AuGdsQdTableConfig.prototype.m_showFreezeLines=false;f.AuGdsQdTableConfig.prototype.m_title=null;f.AuGdsQdTableConfig.prototype.m_totalLevel6Color=null;f.AuGdsQdTableConfig.prototype.m_totalLevel5Color=null;f.AuGdsQdTableConfig.prototype.m_totalLevel4Color=null;f.AuGdsQdTableConfig.prototype.m_totalLevel3Color=null;f.AuGdsQdTableConfig.prototype.m_totalLevel2Color=null;f.AuGdsQdTableConfig.prototype.m_totalLevel1Color=null;f.AuGdsQdTableConfig.prototype.m_totalLevel0Color=null;f.AuGdsQdTableConfig.prototype.m_headerColor=null;f.AuGdsQdTableConfig.prototype.m_showFormulas=false;f.AuGdsQdTableConfig.prototype.m_showDimensionTitles=false;f.AuGdsQdTableConfig.prototype.m_showReferences=false;f.AuGdsQdTableConfig.prototype.m_showCoordinateHeader=false;f.AuGdsQdTableConfig.prototype.m_repetitiveMemberNames=false;f.AuGdsQdTableConfig.prototype.m_width=0;f.AuGdsQdTableConfig.prototype.m_height=0;f.AuGdsQdTableConfig.prototype.isFreezeRows=function(){return this.m_freezeRows;};f.AuGdsQdTableConfig.prototype.setFreezeRows=function(a){this.m_freezeRows=a;};f.AuGdsQdTableConfig.prototype.isFreezeColumns=function(){return this.m_freezeColumns;};f.AuGdsQdTableConfig.prototype.setFreezeColumns=function(a){this.m_freezeColumns=a;};f.AuGdsQdTableConfig.prototype.isFreeze=function(){return this.m_freezeColumns||this.m_freezeRows;};f.AuGdsQdTableConfig.prototype.setFreeze=function(a){this.m_freezeColumns=a;this.m_freezeRows=a;};f.AuGdsQdTableConfig.prototype.isShowGrid=function(){return this.m_showGrid;};f.AuGdsQdTableConfig.prototype.setShowGrid=function(s){this.m_showGrid=s;};f.AuGdsQdTableConfig.prototype.isShowTableTitle=function(){return this.m_showTableTitle;};f.AuGdsQdTableConfig.prototype.setShowTableTitle=function(s){this.m_showTableTitle=s;};f.AuGdsQdTableConfig.prototype.isShowSubTitle=function(){return this.m_showSubTitle;};f.AuGdsQdTableConfig.prototype.setShowSubTitle=function(s){this.m_showSubTitle=s;};f.AuGdsQdTableConfig.prototype.isShowTableDetails=function(){return this.m_showTableDetails;};f.AuGdsQdTableConfig.prototype.setShowTableDetails=function(s){this.m_showTableDetails=s;};f.AuGdsQdTableConfig.prototype.isShowFormulas=function(){return this.m_showFormulas;};f.AuGdsQdTableConfig.prototype.setShowFormulas=function(s){this.m_showFormulas=s;};f.AuGdsQdTableConfig.prototype.isShowDimensionTitles=function(){return this.m_showDimensionTitles;};f.AuGdsQdTableConfig.prototype.setShowDimensionTitles=function(s){this.m_showDimensionTitles=s;};f.AuGdsQdTableConfig.prototype.isShowCoordinateHeader=function(){return this.m_showCoordinateHeader;};f.AuGdsQdTableConfig.prototype.setShowCoordinateHeader=function(s){this.m_showCoordinateHeader=s;};f.AuGdsQdTableConfig.prototype.isColorateDimensionTitles=function(){return f.XStringUtils.isNotNullAndNotEmpty(this.m_headerColor);};f.AuGdsQdTableConfig.prototype.setColorateDimensionTitles=function(c){this.m_headerColor=c?"rgba(173, 212, 216, 1)":null;};f.AuGdsQdTableConfig.prototype.isColorateTotals=function(){return f.XStringUtils.isNotNullAndNotEmpty(this.m_totalLevel0Color)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_totalLevel1Color)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_totalLevel2Color)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_totalLevel3Color)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_totalLevel4Color)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_totalLevel5Color);};f.AuGdsQdTableConfig.prototype.setColorateTotals=function(c){this.m_totalLevel5Color=c?"rgba(220,220,150,0,3)":null;this.m_totalLevel4Color=c?"rgba(230,230,150,0,4)":null;this.m_totalLevel3Color=c?"rgba(220,220,135,0.4)":null;this.m_totalLevel2Color=c?"rgba(220,220,135,0.5)":null;this.m_totalLevel1Color=c?"rgba(220,220,220,1)":null;this.m_totalLevel0Color=c?"rgba(204,204,204,1)":null;};f.AuGdsQdTableConfig.prototype.isRepetitiveMemberNames=function(){return this.m_repetitiveMemberNames;};f.AuGdsQdTableConfig.prototype.setRepetitiveMemberNames=function(r){this.m_repetitiveMemberNames=r;};f.AuGdsQdTableConfig.prototype.isShowFreezeLines=function(){return this.m_showFreezeLines;};f.AuGdsQdTableConfig.prototype.setShowFreezeLines=function(s){this.m_showFreezeLines=s;};f.AuGdsQdTableConfig.prototype.isShowReferences=function(){return this.m_showReferences;};f.AuGdsQdTableConfig.prototype.setShowReferences=function(s){this.m_showReferences=s;};f.AuGdsQdTableConfig.prototype.getWidth=function(){return this.m_width;};f.AuGdsQdTableConfig.prototype.setWidth=function(w){this.m_width=w;};f.AuGdsQdTableConfig.prototype.getHeight=function(){return this.m_height;};f.AuGdsQdTableConfig.prototype.setHeight=function(h){this.m_height=h;};f.AuGdsQdTableConfig.prototype.getTotalLevel6Color=function(){return this.m_totalLevel6Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel6Color=function(t){this.m_totalLevel6Color=t;};f.AuGdsQdTableConfig.prototype.getTotalLevel5Color=function(){return this.m_totalLevel5Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel5Color=function(t){this.m_totalLevel5Color=t;};f.AuGdsQdTableConfig.prototype.getTotalLevel4Color=function(){return this.m_totalLevel4Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel4Color=function(t){this.m_totalLevel4Color=t;};f.AuGdsQdTableConfig.prototype.getTotalLevel3Color=function(){return this.m_totalLevel3Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel3Color=function(t){this.m_totalLevel3Color=t;};f.AuGdsQdTableConfig.prototype.getTotalLevel2Color=function(){return this.m_totalLevel2Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel2Color=function(t){this.m_totalLevel2Color=t;};f.AuGdsQdTableConfig.prototype.getTotalLevel1Color=function(){return this.m_totalLevel1Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel1Color=function(t){this.m_totalLevel1Color=t;};f.AuGdsQdTableConfig.prototype.getTotalLevel0Color=function(){return this.m_totalLevel0Color;};f.AuGdsQdTableConfig.prototype.setTotalLevel0Color=function(t){this.m_totalLevel0Color=t;};f.AuGdsQdTableConfig.prototype.getHeaderColor=function(){return this.m_headerColor;};f.AuGdsQdTableConfig.prototype.setHeaderColor=function(m){this.m_headerColor=m;};f.AuGdsQdTableConfig.prototype.getTitle=function(){return this.m_title;};f.AuGdsQdTableConfig.prototype.setTitle=function(t){this.m_title=t;};f.AuGdsQdTableConfig.prototype.serializeToStructure=function(){var r=f.PrFactory.createStructure();r.putBoolean(f.SacTableConstants.B_FREEZE_ROWS,this.m_freezeRows);r.putBoolean(f.SacTableConstants.B_FREEZE_COLUMNS,this.m_freezeColumns);r.putBoolean(f.SacTableConstants.B_SHOW_FREEZE_LINES,this.m_showFreezeLines);r.putBoolean(f.SacTableConstants.B_SHOW_GRID,this.m_showGrid);r.putBoolean(f.SacTableConstants.B_SHOW_TABLE_TITLE,this.m_showTableTitle);r.putBoolean(f.SacTableConstants.B_SHOW_TABLE_DETAILS,this.m_showTableDetails);r.putBoolean(f.SacTableConstants.B_SHOW_SUBTITLE,this.m_showSubTitle);r.putBoolean(f.SacTableConstants.B_SHOW_FORMULAS,this.m_showFormulas);r.putBoolean(f.SacTableConstants.B_DIMENSION_TITLES,this.m_showDimensionTitles);r.putBoolean(f.SacTableConstants.B_REPETITIVE_MEMBER_NAMES,this.m_repetitiveMemberNames);r.putBoolean(f.SacTableConstants.B_COORDINATE_HEADER,this.m_showCoordinateHeader);r.putBoolean(f.SacTableConstants.B_SHOW_REFERENCES,this.m_showCoordinateHeader);r.putInteger(f.SacTableConstants.I_WIDTH,this.m_width);r.putInteger(f.SacTableConstants.I_HEIGHT,this.m_height);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_HEADER_COLOR,this.m_headerColor);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_6_COLOR,this.m_totalLevel6Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_5_COLOR,this.m_totalLevel5Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_4_COLOR,this.m_totalLevel4Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_3_COLOR,this.m_totalLevel3Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_2_COLOR,this.m_totalLevel2Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_1_COLOR,this.m_totalLevel1Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TOTAL_LEVEL_0_COLOR,this.m_totalLevel0Color);r.putStringNotNullAndNotEmpty(f.SacTableConstants.S_TITLE,this.m_title);return r;};f.AuGdsQdTableConfig.prototype.serializeToString=function(){return f.PrUtils.serialize(this.serializeToStructure(),true,false,0);};f.AuGdsQdTableConfig.prototype.deserializeFromString=function(s){return this.deserializeFromStructre(f.JsonParserFactory.createFromString(s).asStructure());};f.AuGdsQdTableConfig.prototype.deserializeFromStructre=function(s){this.m_freezeRows=s.getBooleanByKey(f.SacTableConstants.B_FREEZE_ROWS);this.m_freezeColumns=s.getBooleanByKey(f.SacTableConstants.B_FREEZE_COLUMNS);this.m_showFreezeLines=s.getBooleanByKey(f.SacTableConstants.B_SHOW_FREEZE_LINES);this.m_showGrid=s.getBooleanByKey(f.SacTableConstants.B_SHOW_GRID);this.m_showTableTitle=s.getBooleanByKeyExt(f.SacTableConstants.B_SHOW_TABLE_TITLE,true);this.m_showTableDetails=s.getBooleanByKeyExt(f.SacTableConstants.B_SHOW_TABLE_DETAILS,false);this.m_showSubTitle=s.getBooleanByKeyExt(f.SacTableConstants.B_SHOW_SUBTITLE,false);this.m_showFormulas=s.getBooleanByKey(f.SacTableConstants.B_SHOW_FORMULAS);this.m_showDimensionTitles=s.getBooleanByKeyExt(f.SacTableConstants.B_DIMENSION_TITLES,true);this.m_repetitiveMemberNames=s.getBooleanByKey(f.SacTableConstants.B_REPETITIVE_MEMBER_NAMES);this.m_showCoordinateHeader=s.getBooleanByKey(f.SacTableConstants.B_COORDINATE_HEADER);this.m_showCoordinateHeader=s.getBooleanByKey(f.SacTableConstants.B_SHOW_REFERENCES);this.m_headerColor=s.getStringByKey(f.SacTableConstants.S_HEADER_COLOR);this.m_totalLevel6Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_6_COLOR);this.m_totalLevel5Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_5_COLOR);this.m_totalLevel4Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_4_COLOR);this.m_totalLevel3Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_3_COLOR);this.m_totalLevel2Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_2_COLOR);this.m_totalLevel1Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_1_COLOR);this.m_totalLevel0Color=s.getStringByKey(f.SacTableConstants.S_TOTAL_LEVEL_0_COLOR);this.m_title=s.getStringByKey(f.SacTableConstants.S_TITLE);this.m_width=s.getIntegerByKeyExt(f.SacTableConstants.I_WIDTH,1257);this.m_height=s.getIntegerByKeyExt(f.SacTableConstants.I_HEIGHT,451);return this;};f.AuGdsQdTableConfig.prototype.setSacStyle=function(){this.setColorateTotals(false);this.setColorateDimensionTitles(false);this.setShowSubTitle(true);this.setShowTableDetails(true);this.setShowDimensionTitles(true);this.setRepetitiveMemberNames(false);this.setShowFormulas(false);this.setShowGrid(false);this.setShowFreezeLines(false);this.setFreezeRows(false);this.setFreezeColumns(false);this.setShowCoordinateHeader(false);};f.AuGdsQdTableConfig.prototype.setSpreadsheetStyle=function(){this.setColorateTotals(false);this.setColorateDimensionTitles(false);this.setShowSubTitle(false);this.setShowTableDetails(false);this.setShowDimensionTitles(true);this.setRepetitiveMemberNames(true);this.setShowFormulas(false);this.setShowGrid(true);this.setShowFreezeLines(false);this.setFreezeRows(false);this.setFreezeColumns(false);this.setShowCoordinateHeader(true);};f.AuGdsQdTableConfig.prototype.setFinanceStyle=function(){this.setColorateTotals(true);this.setColorateDimensionTitles(true);this.setShowSubTitle(false);this.setShowTableDetails(false);this.setShowDimensionTitles(false);this.setRepetitiveMemberNames(false);this.setShowFormulas(false);this.setShowGrid(false);this.setShowFreezeLines(true);this.setFreezeRows(true);this.setFreezeColumns(true);this.setShowCoordinateHeader(false);};f.AuGdsQdInteractiveTableContextActionsHelper=function(){};f.AuGdsQdInteractiveTableContextActionsHelper.prototype=new f.XObjectExt();f.AuGdsQdInteractiveTableContextActionsHelper.prototype._ff_c="AuGdsQdInteractiveTableContextActionsHelper";f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_CONTEXT_MENU="moveContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.HIERARCHY_CONTEXT_MENU="hierarchyContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_CONTEXT_MENU="totalsContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SORT_CONTEXT_MENU="sortContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.GRID_SETTINGS_MENU="GRID_SETTINGS_MENU";f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_ROWS_MENU="FREEZE_ROWS";f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_ALL_MENU="FREEZE_ALL";f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_COLUMNS_MENU="FREEZE_COLUMNS";f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_MENU="freezeMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_HIDE_MENU="showHideMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_GRID_MENU="SHOW_GRID";f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_TABLE_TITLE_MENU="SHOW_TABLE_TITLE";f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_TABLE_DETAILS_MENU="SHOW_TABLE_DETAILS";f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSION_TITLES_MENU="SHOW_DIMENSION_TITLES";f.AuGdsQdInteractiveTableContextActionsHelper.REPETITIVE_MEMBER_NAMES_MENU="SHOW_REPETITIVE_MEMBER_NAMES";f.AuGdsQdInteractiveTableContextActionsHelper.COORDINATE_HEADER_MENU="SHOW_COORDINATE_HEADER";f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_LINES_MENU="freezeLinesMenu";f.AuGdsQdInteractiveTableContextActionsHelper.COLORATE_DIMENSION_TITLES_MENU="colorateDimensionTitlesMenu";f.AuGdsQdInteractiveTableContextActionsHelper.COLORATE_TOTALS_MENU="colorateTotalsMenu";f.AuGdsQdInteractiveTableContextActionsHelper.THEME_MENU="ThemeMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SELECT_CONVERSION_MENU="selectConversionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SAC_STYLE_MENU="SACStyleMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SPREADSHEET_STYLE_MENU="SpreadSheetStyleMenu";f.AuGdsQdInteractiveTableContextActionsHelper.AUDITORS_STYLE_MENU="AuditorsSheetStyleMenu";f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_MENU="expand";f.AuGdsQdInteractiveTableContextActionsHelper.DRILL_MENU="drill";f.AuGdsQdInteractiveTableContextActionsHelper.COLLAPSE_MENU="collapse";f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSION_CONTEXT_MENU="dimensionContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.LAYOUT_BTN="layoutBtn";f.AuGdsQdInteractiveTableContextActionsHelper.MEASURE_SETTINGS_MENU="measureSettings";f.AuGdsQdInteractiveTableContextActionsHelper.SECONDARY_STRUCTURE_MEMBER_SETTINGS_MENU="secondaryStructureMemberSettings";f.AuGdsQdInteractiveTableContextActionsHelper.ACTIVATE_UDH_MENU="activateUdhMenu";f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_ABOVE_MENU="totalsAboveMenu";f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_ABOVE_AND_BELOW_MENU="totalsAboveAndBelowMenu";f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_BELOW_MENU="totalsBelowMenu";f.AuGdsQdInteractiveTableContextActionsHelper.HIDE_TOTALS_MENU="hideTotalsMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SUPPRESS_ZEROS_MENU="suppressZerosMenu";f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_TO_COL_MENU="moveToColMenu";f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_TO_ROW_MENU="moveToRowMenu";f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_TO_FREE_MENU="moveToFreeMenu";f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_UP_MENU="levelUpMenu";f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_DOWN_MENU="levelDownMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_CONTEXT_MENU="filterContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_SELECTION_CONTEXT_MENU="filterSelectionContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_CLEAR_MENU="filterClearMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SORT_ASC_MENU="sortAscMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SORT_DESC_MENU="sortDescMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SORT_DEFAULT_MENU="sortDefaultMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FLAT_PRESENTATION_MENU="flatPresentationMenu";f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_BOTTOM_UP_MENU="expandBottomUpMenu";f.AuGdsQdInteractiveTableContextActionsHelper.ACTIVATE_NODE_CONDENSATION_MENU="activateNodeCondensationMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_POSTED_NODES_MENU="showPostedNodesMenu";f.AuGdsQdInteractiveTableContextActionsHelper.MEMBER_TO_LEFT_MENU="memberLeftMenu";f.AuGdsQdInteractiveTableContextActionsHelper.MEMBER_TO_RIGHT_MENU="memberRightMenu";f.AuGdsQdInteractiveTableContextActionsHelper.SWAP_AXIS="swapAxis";f.AuGdsQdInteractiveTableContextActionsHelper.ROW_CONTEXT_MENU="rowContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.COLUMN_CONTEXT_MENU="columnContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU="queryContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.READMODE_CONTEXT_MENU="readmodeContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.PRESENTATION_MENU="presentationMenu";f.AuGdsQdInteractiveTableContextActionsHelper.PRESENTATION_SORT_MENU="presentationSortMenu";f.AuGdsQdInteractiveTableContextActionsHelper.NO_PRESENTATION="noPresentation";f.AuGdsQdInteractiveTableContextActionsHelper.KEY_PRESENTATION="keyPresentation";f.AuGdsQdInteractiveTableContextActionsHelper.TEXT_PRESENTATION="textPresentation";f.AuGdsQdInteractiveTableContextActionsHelper.KEY_TEXT_PRESENTATION="keyTextPresentation";f.AuGdsQdInteractiveTableContextActionsHelper.TEXT_KEY_PRESENTATION="textKeyPresentation";f.AuGdsQdInteractiveTableContextActionsHelper.KEY_VIEWS="keyViews";f.AuGdsQdInteractiveTableContextActionsHelper.TEXT_VIEWS="textViews";f.AuGdsQdInteractiveTableContextActionsHelper.ATTRIBUTES_MENU="attributesMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FIELD_MENU="fieldsMenu";f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSIONS_CONTEXT_MENU="DimensionsContextMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FULL_EXPANSION_MENU="fullExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.ROOT_NODE_EXPANSION_MENU="rootNodeExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.L1_NODE_EXPANSION_MENU="l1NodeExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.L2_NODE_EXPANSION_MENU="l2NodeExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.L3_NODE_EXPANSION_MENU="l3NodeExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.L4_NODE_EXPANSION_MENU="l4NodeExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.L5_NODE_EXPANSION_MENU="l5NodeExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.FULL_P_EXPANSION_MENU="fullPExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_SUBMENU="udhSubmenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_FULL_EXPAND_MENU="udhFullExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_ROOT_EXPAND_MENU="udhRootExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L1_EXPAND_MENU="udhL1ExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L2_EXPAND_MENU="udhL2ExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L3_EXPAND_MENU="udhL3ExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L4_EXPAND_MENU="udhL4ExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L5_EXPAND_MENU="udhL5ExpansionMenu";f.AuGdsQdInteractiveTableContextActionsHelper.HIERARCHY_DIALOG="hierarchyDialog";f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_MENU_LEVEL="expandMenuLevel";f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_MENU_UDH="expandMenuUdh";f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_MENU="filterMenu";f.AuGdsQdInteractiveTableContextActionsHelper.MAX_PAGE_SIZE=15;f.AuGdsQdInteractiveTableContextActionsHelper.remap=function(t,d){return f.XStream.of(d).map(function(o){return t.getQueryManager().getQueryModel().getDimensionByName(o.getName());}.bind(this)).collect(f.XStreamCollector.toList());};f.AuGdsQdInteractiveTableContextActionsHelper.getStandaloneDimensionMenu=function(a,c,d,u){var s=f.AuGdsQdUserActionGroup.create();var b=s.addNewGroup();var e=f.XList.create();e.add(d);f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMenu(a,c,b,e,e,d.getKeyField().getName(),false,u,null,true);var q=c.getQueryModel();f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus(a,c,d.getAxisType(),s,q,u);b=s.addNewGroup();b.setText("Query");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU);b.setIcon("overview-chart");f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu(a,q,b,u);return s;};f.AuGdsQdInteractiveTableContextActionsHelper.getStandaloneAxisMenu=function(a,c,b,u){var s=f.AuGdsQdUserActionGroup.create();var d;var q=c.getQueryModel();f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus(a,c,b.getType(),s,q,u);d=s.addNewGroup();d.setText("Query");d.setName(f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU);d.setIcon("overview-chart");f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu(a,q,d,u);return s;};f.AuGdsQdInteractiveTableContextActionsHelper.getStandaloneQueryMenu=function(a,c,u){var s=f.AuGdsQdUserActionGroup.create();var b=s.addNewGroup();var q=c.getQueryModel();f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus(a,c,null,b,q,u);b=s.addNewGroup();b.setText("Query");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU);b.setIcon("overview-chart");f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu(a,q,b,u);return s;};f.AuGdsQdInteractiveTableContextActionsHelper.getStandaloneMeasureMenu=function(a,c,m,u){var s=f.AuGdsQdUserActionGroup.create();var b=s.addNewGroup();f.AuGdsQdInteractiveTableContextActionsHelper.createCellMenu(a,c,b,m,null,u);return s;};f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus=function(a,c,b,s,q,u){var d;if(b!==f.AxisType.COLUMNS){d=s.addNewGroup();d.setText("Rows");d.setName(f.AuGdsQdInteractiveTableContextActionsHelper.ROW_CONTEXT_MENU);d.setIcon("table-row");f.AuGdsQdInteractiveTableContextActionsHelper.createAxisMenu(a,c,d,q.getRowsAxis(),u);}if(b!==f.AxisType.ROWS){d=s.addNewGroup();d.setText("Columns");d.setName(f.AuGdsQdInteractiveTableContextActionsHelper.COLUMN_CONTEXT_MENU);d.setIcon("table-column");f.AuGdsQdInteractiveTableContextActionsHelper.createAxisMenu(a,c,d,q.getColumnsAxis(),u);}};f.AuGdsQdInteractiveTableContextActionsHelper.getTableContextMenu=function(t){var a=t.getApplication();var c=t.getQueryManager();var q=c.getQueryModel();var u=function(){t.updateTable();}.bind(this);var i=t.isIsMultiSelectWithGaps();var d;var b;var e;var g=t.getColumnTuplesLastSelected();var r=t.getRowTuplesLastSelected();var h;var j;if(t.isOnHeaderRows()&&!t.isOnEmptyHeaderSection()){d=f.AuGdsQdInteractiveTableContextActionsHelper.remap(t,t.getColumnDimensionsLastSelected());b=f.AuGdsQdInteractiveTableContextActionsHelper.remap(t,t.getColumnDimensionsLastSelected());e=t.getColumnTupleElementsAllSelected();j=t.getSelectedColumnTupleFieldName();h=t.getColumnFieldNamesLastSelected();}else if(t.isOnHeaderColumns()&&!t.isOnHeaderRows()&&!t.isOnEmptyHeaderSection()){d=f.AuGdsQdInteractiveTableContextActionsHelper.remap(t,t.getRowDimensionsLastSelected());b=f.AuGdsQdInteractiveTableContextActionsHelper.remap(t,t.getRowDimensionsAllSelected());e=t.getRowTupleElementsAllSelected();j=t.getSelectedRowTupleFieldName();h=t.getRowFieldNamesLastSelected();}else{d=null;b=null;e=null;j=null;h=null;}var k=f.AuGdsQdUserActionGroup.create();var s;var l;var m=t.getSelectedMeasure();s=k.addNewGroup();if(t.isOnDataColumns()&&t.isOnDataRows()||f.XCollectionUtils.hasElements(b)&&d.size()===1&&d.get(0).isStructure()){f.AuGdsQdInteractiveTableContextActionsHelper.createCellMenu(a,c,s,m,t.getSelectedSecondaryStructureMember(),u);}if(f.XCollectionUtils.hasElements(e)&&f.XCollectionUtils.hasElements(b)&&b.size()===1){var n=b.get(0);f.AuGdsQdInteractiveTableContextActionsHelper.createTupleElementMenu(a,c,k,e,n,j,m,i,u);l=k.addNewGroup();if(!i&&f.XCollectionUtils.hasElements(b)&&b.size()===1&&f.XCollectionUtils.hasElements(h)){f.AuGdsQdInteractiveTableContextActionsHelper.createAttributeOrFieldMenu(a,c,l,b.get(0),h,u);}l=k.addNewGroup();s=l.addNewGroup();s.setText(f.AuGdsQdInteractiveTableContextActionsHelper.mapDimensionType(n.getDimensionType()));s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSION_CONTEXT_MENU);s.setIcon("dimension");f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMenu(a,c,s,b,d,j,i,u,h,false);f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus(a,c,n.getAxisType(),l,q,u);s=l.addNewGroup();s.setText("Query");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU);s.setIcon("overview-chart");f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu(a,q,s,u);}else if(f.XCollectionUtils.hasElements(b)&&(!f.XCollectionUtils.hasElements(r)||r.size()===1)&&(!f.XCollectionUtils.hasElements(g)||g.size()===1)){if(!i&&f.XCollectionUtils.hasElements(b)&&b.size()===1&&f.XCollectionUtils.hasElements(h)){f.AuGdsQdInteractiveTableContextActionsHelper.createAttributeOrFieldMenu(a,c,s,b.get(0),h,u);}f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMenu(a,c,k,b,d,j,i,u,h,true);l=k.addNewGroup();f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus(a,c,d.get(0).getAxisType(),l,q,u);s=l.addNewGroup();s.setText("Query");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU);s.setIcon("overview-chart");f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu(a,q,s,u);}else{if(!i&&f.XCollectionUtils.hasElements(b)&&b.size()===1&&f.XCollectionUtils.hasElements(h)){f.AuGdsQdInteractiveTableContextActionsHelper.createAttributeOrFieldMenu(a,c,s,b.get(0),h,u);}l=k.addNewGroup();f.AuGdsQdInteractiveTableContextActionsHelper.createSubAxisMenus(a,c,null,l,q,u);s=l.addNewGroup();s.setText("Query");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.QUERY_CONTEXT_MENU);s.setIcon("overview-chart");f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu(a,q,s,u);}s=k.addNewGroup();f.AuGdsQdInteractiveTableContextActionsHelper.getGridSettingsMenu(t,s);return k;};f.AuGdsQdInteractiveTableContextActionsHelper.createMemberMoveMenu=function(a,c,r,s,u){var b=c.getModelCapabilities();if(f.notNull(s)&&b.supportsDimensionSorting(s.getDimension(),f.SortType.MEMBER_KEY)){var d=s.getDimension();var e=d.getStructureLayout();var g=e.size();if(g>1){var h=r.addNewGroup();h.setText("Move");h.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_CONTEXT_MENU);h.setIcon("move");var i=e.getIndex(s);var l;l=h.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(i>0);}.bind(this));if(d.getAxisType()===f.AxisType.COLUMNS){l.setText("Left");l.setIcon("arrow-left");}else{l.setText("Up");l.setIcon("arrow-top");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MEMBER_TO_LEFT_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveStructureMember(c,s,-1);u();}.bind(this));l=h.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(i<g-1);}.bind(this));if(d.getAxisType()===f.AxisType.COLUMNS){l.setText("Right");l.setIcon("arrow-right");}else{l.setText("Down");l.setIcon("arrow-bottom");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MEMBER_TO_RIGHT_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveStructureMember(c,s,+1);u();}.bind(this));}}};f.AuGdsQdInteractiveTableContextActionsHelper.createTupleElementMenu=function(a,c,r,t,d,b,s,i,u){var e=f.XStream.of(t).filter(function(n){return n.getDimensionMember().getMemberType()!==f.MemberType.RESULT;}.bind(this)).collect(f.XStreamCollector.toList());var l;var g=r.addNewGroup();if(f.XCollectionUtils.hasElements(e)){if(!d.isUniversalDisplayHierarchyDimension()){l=g.addNewLeaf();l.setText(e.size()>1?"Filter Members":"Filter Member");l.setIcon("filter");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_SELECTION_CONTEXT_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.filterOnSelection(c,e);u();}.bind(this));f.AuGdsQdInteractiveTableContextActionsHelper.createReadModeMenu(a,c,g,d,u);}else{var h=f.XStream.of(t).filter(function(n){return f.AuGdsQdInteractiveTableView.supportsTupleElementExpand(n);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(h)&&h.size()>1){l=g.addNewLeaf();l.setText("Expand");l.setIcon("expand-all");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.applyDrillToElements(h,f.DrillState.EXPANDED);u();}.bind(this));}var j=f.XStream.of(t).filter(function(n){return f.AuGdsQdInteractiveTableView.supportsTupleElementDrill(n);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(j)&&j.size()>1){l=g.addNewLeaf();l.setText("Drill");l.setIcon("expand-all");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DRILL_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.applyDrillToElements(j,f.DrillState.DRILLED);u();}.bind(this));}var k=f.XStream.of(t).filter(function(n){return f.AuGdsQdInteractiveTableView.supportsTupleElementCollapse(n);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(k)&&k.size()>1){l=g.addNewLeaf();l.setText("Collapse");l.setIcon("collapse-all");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.COLLAPSE_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.applyDrillToElements(k,f.DrillState.COLLAPSED);u();}.bind(this));}}}if(f.XCollectionUtils.hasElements(t)&&t.size()===1){f.AuGdsQdInteractiveTableContextActionsHelper.createSortingMenu(a,c,r,d,b,t.getValuesAsReadOnlyList().get(0).getFirstTuple(),s,u);}if(!f.XCollectionUtils.hasElements(e)&&!d.isUniversalDisplayHierarchyDimension()){var m=d.getResultStructureController();f.AuGdsQdInteractiveTableContextActionsHelper.createTotalsMenu(a,c,r,m,d.getAxisType(),u);}};f.AuGdsQdInteractiveTableContextActionsHelper.createSortingMenu=function(a,c,r,d,b,t,s,u){var e=c.getModelCapabilities();var g;var h;var j;if(f.notNull(t)){g=null;if(e.supportsDataCellSorting()){j=null;h=f.XStream.of(t.getTupleElementAt(t.getElements().size()-1).getDrillPath()).map(function(x){return x;}.bind(this)).collect(f.XStreamCollector.toList());}else{h=null;if(e.supportsMeasureSorting()&&t.getElements().size()===1&&t.getElements().get(0).getDimension().isMeasureStructure()){j=s;}else{j=null;}}}else{j=null;h=null;g=d.getFieldByName(b);}var k=r.addNewGroup();if(f.notNull(g)&&(e.supportsFieldSorting(g)||e.supportsDimensionSorting(g.getDimension(),g.getPresentationType().isTypeOf(f.PresentationType.ABSTRACT_TEXT)?f.SortType.MEMBER_TEXT:f.SortType.MEMBER_KEY)&&g.getAttribute()===g.getDimension().getMainAttribute())||f.notNull(j)&&e.supportsMeasureSorting()||f.notNull(h)&&e.supportsDataCellSorting()){f.AuGdsQdInteractiveTableContextActionsHelper.createSortingSubMenu(c,k,g,h,j,u);}var l=k.addNewGroup();if(f.notNull(g)){var m;var n=d.getKeyField();var o=f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection(c,n,h,j);var p=d.getTextField();var q=f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection(c,p,h,j);if(!e.supportsFieldSorting(d.getKeyField())&&e.supportsDimensionSorting(d,f.SortType.MEMBER_KEY)){m=l.addNewLeaf();m.setText("Ascending by Key");m.setStatusSupplier(function(){return f.XBooleanValue.create(o===f.XSortDirection.ASCENDING);}.bind(this));m.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.ASCENDING,n,h,j);u();}.bind(this));m.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_ASC_MENU);m=l.addNewLeaf();m.setText("Descending by Key");m.setStatusSupplier(function(){return f.XBooleanValue.create(o===f.XSortDirection.DESCENDING);}.bind(this));m.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.DESCENDING,n,h,j);u();}.bind(this));m.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_DESC_MENU);}if(!e.supportsFieldSorting(d.getTextField())&&e.supportsDimensionSorting(d,f.SortType.MEMBER_TEXT)){m=l.addNewLeaf();m.setText("Ascending by Text");m.setStatusSupplier(function(){return f.XBooleanValue.create(q===f.XSortDirection.ASCENDING);}.bind(this));m.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.ASCENDING,p,h,j);u();}.bind(this));m.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_ASC_MENU);m=l.addNewLeaf();m.setText("Descending by Text");m.setStatusSupplier(function(){return f.XBooleanValue.create(q===f.XSortDirection.DESCENDING);}.bind(this));m.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.DESCENDING,p,h,j);u();}.bind(this));m.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_DESC_MENU);}if(f.XCollectionUtils.hasElements(l.getSubItems())){m=l.addNewLeaf();m.setText("Default Order");m.setStatusSupplier(function(){return f.XBooleanValue.create(o===f.XSortDirection.DEFAULT_VALUE&&q===f.XSortDirection.DEFAULT_VALUE);}.bind(this));m.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.DEFAULT_VALUE,p,h,j);f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.DEFAULT_VALUE,n,h,j);u();}.bind(this));m.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_ASC_MENU);}var v=d.getFields();for(var i=0;i<v.size();i++){g=v.get(i);if(e.supportsFieldSorting(g)){var w=l.addNewGroup();w.setText(g.getText());w.setName(g.getName());f.AuGdsQdInteractiveTableContextActionsHelper.createSortingSubMenu(c,w,g,null,null,u);}}}if(k.getSubItems().size()+l.getSubItems().size()>1){if(k.getSubItems().size()>1&&f.XCollectionUtils.hasElements(l.getSubItems())){l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.PRESENTATION_SORT_MENU);l.setText("Advanced");l.setIcon("sort");}k.setText("Sorting");k.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_CONTEXT_MENU);k.setIcon("sort");}};f.AuGdsQdInteractiveTableContextActionsHelper.createSortingSubMenu=function(c,s,a,b,d,u){var l=s.addNewLeaf();l.setText("Ascending");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection(c,a,b,d)===f.XSortDirection.ASCENDING);}.bind(this));l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.ASCENDING,a,b,d);u();}.bind(this));l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_ASC_MENU);l=s.addNewLeaf();l.setText("Descending");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection(c,a,b,d)===f.XSortDirection.DESCENDING);}.bind(this));l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.DESCENDING,a,b,d);u();}.bind(this));l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_DESC_MENU);l=s.addNewLeaf();l.setText("Default Order");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection(c,a,b,d)===f.XSortDirection.DEFAULT_VALUE);}.bind(this));l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(c,f.XSortDirection.DEFAULT_VALUE,a,b,d);u();}.bind(this));l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SORT_DEFAULT_MENU);};f.AuGdsQdInteractiveTableContextActionsHelper.createReadModeMenu=function(a,c,r,d,u){var s=r.addNewGroup();s.setText("Read Mode");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.READMODE_CONTEXT_MENU);var b=d.getSupportedReadModes(f.QContextType.RESULT_SET).getIterator();while(b.hasNext()){var e=b.next();f.AuGdsQdInteractiveTableContextActionsHelper.addReadModeAction(s,d,e,u);}};f.AuGdsQdInteractiveTableContextActionsHelper.addReadModeAction=function(s,d,r,u){var l=s.addNewLeaf();var i=d.getReadMode(f.QContextType.RESULT_SET)===r;var a=function(){return f.XBooleanValue.create(i);}.bind(this);l.setName(r.getName());l.setText(f.AuGdsQdInteractiveTableContextActionsHelper.mapReadMode(r));l.setStatusSupplier(a);l.setCommand(function(){d.setReadModeGraceful(f.QContextType.RESULT_SET,r);u();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createTotalsMenu=function(a,c,r,b,d,u){var i=r.addNewGroup();var e=c.getModelCapabilities();i.setIcon("sum");i.setText("Totals");i.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_CONTEXT_MENU);var s;var l;if(b.supportsResultAlignment()){var g=c.getModelCapabilities().getSupportedResultAlignments();var h=b.getResultAlignment();s=i.addNewGroup();if(f.XCollectionUtils.hasElements(g)&&g.size()>1){if(g.contains(f.ResultAlignment.BOTTOM)){l=s.addNewLeaf();if(d!==f.AxisType.COLUMNS){l.setText("Bottom");}else{l.setText("Right");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_BELOW_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(b.getResultAlignment()===f.ResultAlignment.BOTTOM);}.bind(this));l.setCommand(function(){b.setResultAlignment(f.ResultAlignment.BOTTOM);u();}.bind(this));}if(g.contains(f.ResultAlignment.TOP)){l=s.addNewLeaf();if(d!==f.AxisType.COLUMNS){l.setText("Top");}else{l.setText("Left");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_ABOVE_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(b.getResultAlignment()===f.ResultAlignment.TOP);}.bind(this));l.setCommand(function(){b.setResultAlignment(f.ResultAlignment.TOP);u();}.bind(this));}if(g.contains(f.ResultAlignment.TOPBOTTOM)){l=s.addNewLeaf();if(d!==f.AxisType.COLUMNS){l.setText("Top & Bottom");}else{l.setText("Left & Right");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TOTALS_ABOVE_AND_BELOW_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(h===f.ResultAlignment.TOPBOTTOM);}.bind(this));l.setCommand(function(){b.setResultAlignment(f.ResultAlignment.TOPBOTTOM);u();}.bind(this));}l=s.addNewLeaf();l.setText("Hide Totals");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.HIDE_TOTALS_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(b.getResultAlignment()===f.ResultAlignment.NONE);}.bind(this));l.setCommand(function(){b.setResultAlignment(f.ResultAlignment.NONE);u();}.bind(this));}}f.AuGdsQdInteractiveTableContextActionsHelper.hideOrShowTotalsMenuSection(e,b,f.ResultStructureElement.TOTAL,i,u);if(e.supportsConditionalResults()){var j=e.getSupportedConditionalResults();if(j.contains(f.ResultStructureElement.TOTAL_INCLUDED_MEMBERS)){s=i.addNewGroup();s.setName(f.ResultStructureElement.TOTAL_INCLUDED_MEMBERS.getName());s.setText("Totals Including");f.AuGdsQdInteractiveTableContextActionsHelper.hideOrShowTotalsMenuSection(e,b,f.ResultStructureElement.TOTAL_INCLUDED_MEMBERS,s,u);}if(j.contains(f.ResultStructureElement.TOTAL_REMAINING_MEMBERS)){s=i.addNewGroup();s.setName(f.ResultStructureElement.TOTAL_REMAINING_MEMBERS.getName());s.setText("Totals Remaining");f.AuGdsQdInteractiveTableContextActionsHelper.hideOrShowTotalsMenuSection(e,b,f.ResultStructureElement.TOTAL_REMAINING_MEMBERS,s,u);}}};f.AuGdsQdInteractiveTableContextActionsHelper.hideOrShowTotalsMenuSection=function(c,r,t,i,u){var a=r.getResultVisibilityByElement(t);var s=i.addNewGroup();var l=s.addNewLeaf();l.setText("Visible Always");l.setStatusSupplier(function(){return f.XBooleanValue.create(a===f.ResultVisibility.ALWAYS);}.bind(this));l.setCommand(function(){r.setResultVisibilityByElement(t,f.ResultVisibility.ALWAYS);u();}.bind(this));if(c.supportsConditionalResultVisibility()){l=s.addNewLeaf();l.setText("Visible if More than One Member");l.setStatusSupplier(function(){return f.XBooleanValue.create(a===f.ResultVisibility.CONDITIONAL);}.bind(this));l.setCommand(function(){r.setResultVisibilityByElement(t,f.ResultVisibility.CONDITIONAL);u();}.bind(this));}l=s.addNewLeaf();l.setText("Suppress");l.setStatusSupplier(function(){return f.XBooleanValue.create(a===f.ResultVisibility.HIDDEN);}.bind(this));l.setCommand(function(){r.setResultVisibilityByElement(t,f.ResultVisibility.HIDDEN);u();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMenu=function(a,c,r,d,b,e,g,u,h,j){if(f.XCollectionUtils.hasElements(b)&&!b.get(0).isUniversalDisplayHierarchyDimension()){var l;var s;var k=b.get(0);if(b.size()===1){var m=f.AuGdsQdInteractiveTableContextActionsHelper.mapDimensionType(k.getDimensionType());f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionDialogMenu(a,r,k,j?m:"Properties","dimension",u);}else{for(var i=0;i<b.size();i++){s=r.addNewGroup();s.setText("Dimensions");s.setIcon("dimension");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSION_CONTEXT_MENU);var n=b.get(i);f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionDialogMenu(a,s,n,n.getText(),null,u);}}f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMoveMenu(a,c,r,d,b,g,u,h);if(b.size()===1){var o=k.getAxisType()===f.AxisType.ROWS||k.getAxisType()===f.AxisType.COLUMNS;if(o){f.AuGdsQdInteractiveTableContextActionsHelper.createSortingMenu(a,c,r,k,e,null,null,u);f.AuGdsQdInteractiveTableContextActionsHelper.createTotalsMenu(a,c,r,k.getResultStructureController(),k.getAxisType(),u);f.AuGdsQdInteractiveTableContextActionsHelper.createPresentationMenu(a,c,r,k,k.getAxisType(),u);}if(o){f.AuGdsQdInteractiveTableContextActionsHelper.createReadModeMenu(a,c,r,k,u);if(k.supportsHierarchy()){f.AuGdsQdInteractiveTableContextActionsHelper.createHierarchyMenu(a,c,r,k,u);}}s=r.addNewGroup();if(o){f.AuGdsQdInteractiveTableContextActionsHelper.createFieldsOrAttributesMenu(a,c,s,k,k.getAxisType(),u);}var p=s.addNewGroup();p.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_MENU);p.setText("Filter");p.setIcon("filter");l=p.addNewLeaf();l.setText("Edit ...");l.setIcon("add-filter");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_CONTEXT_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openFilterDialog(a,c,k,u);}.bind(this));l=p.addNewLeaf();l.setText("Clear");l.setIcon("clear-filter");l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.AuGdsQdInteractiveTableContextActionsHelper.hasFilterOnDimension(c,k));}.bind(this));l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FILTER_CLEAR_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.clearFilter(c,k);u();}.bind(this));}}};f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionDialogMenu=function(a,r,d,l,i,u){var b=r.addNewLeaf();b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSION_CONTEXT_MENU);b.setText(f.XStringUtils.concatenate2(l," ..."));b.setIcon(i);b.setCommand(function(){f.DdEntryPoint.createEntryPoint(a).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,f.AuGdsLambdaDialogCloseListener.create(u,null));}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createPresentationMenu=function(b,c,r,d,e,u){var i=r.addNewGroup();i.setName(f.AuGdsQdInteractiveTableContextActionsHelper.PRESENTATION_MENU);i.setText("Presentations");i.setIcon("show");var m;var g=d.getMainAttribute();if(f.isNull(g)){m=f.DdModelFieldContainer.createFromFieldContainer(d,null,null);}else{m=f.DdModelFieldContainer.createFromFieldContainer(g,null,null);var h=f.XStream.of(d.getResultSetAttributes()).filter(function(a){return f.XString.isEqual(a.getName(),g.getName());}.bind(this)).findAny();h.ifPresent(function(a){m.applyResultSetSettings(a);}.bind(this));}if(d.getFieldLayoutType()===f.FieldLayoutType.FIELD_BASED){f.AuGdsQdInteractiveTableContextActionsHelper.createPresentationSubMenu(c,d,m,i,u);}else{f.AuGdsQdInteractiveTableContextActionsHelper.createPresentationSubMenu(c,d,m,i,u);}};f.AuGdsQdInteractiveTableContextActionsHelper.createFieldsOrAttributesMenu=function(b,c,r,d,e,u){var m;var g=d.getMainAttribute();if(f.isNull(g)){m=f.DdModelFieldContainer.createFromFieldContainer(d,null,null);}else{m=f.DdModelFieldContainer.createFromFieldContainer(g,null,null);var h=f.XStream.of(d.getResultSetAttributes()).filter(function(a){return f.XString.isEqual(a.getName(),g.getName());}.bind(this)).findAny();h.ifPresent(function(a){m.applyResultSetSettings(a);}.bind(this));}var j;var i;if(d.getFieldLayoutType()===f.FieldLayoutType.FIELD_BASED){j=r.addNewGroup();var k=f.XStream.of(d.getFields()).collect(f.XStreamCollector.toSetOfString(function(a){return a.getText();}.bind(this))).size()===d.getFields().size();var n=f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributeFields(m,d);for(i=0;i<n.size();i++){var l=n.get(i);f.AuGdsQdInteractiveTableContextActionsHelper.addFieldAction(j,c,d,l,k,u);}if(j.getSubItems().size()>0){j.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FIELD_MENU);j.setText("Fields");}}else{j=r.addNewGroup();var o=f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributes(d);for(i=0;i<o.size();i++){var p=o.get(i);var s=j.addNewGroup();s.setName(p.getComponentName());var t=p.getComponentText();if(f.XStringUtils.isNullOrEmpty(t)){t=p.getComponentName();}s.setText(t);f.AuGdsQdInteractiveTableContextActionsHelper.createPresentationSubMenu(c,d,p,s,u);}if(j.getSubItems().size()>0){j.setName(f.AuGdsQdInteractiveTableContextActionsHelper.ATTRIBUTES_MENU);j.setText("Attributes");}}};f.AuGdsQdInteractiveTableContextActionsHelper.addFieldAction=function(d,c,a,r,u,b){var l=d.addNewLeaf();l.setName(r.getName());var e=r.getText();if(!u||f.XStringUtils.isNullOrEmpty(e)){e=r.getName();}l.setText(e);var i=f.XStream.of(a.getResultSetFields()).anyMatch(function(g){return f.XString.isEqual(g.getName(),r.getName());}.bind(this));l.setStatusSupplier(function(){return f.XBooleanValue.create(i);}.bind(this));l.setCommand(function(){if(i){c.getQueryModel().getConvenienceCommands().removeField(a.getDimensionType(),a.getName(),r.getPresentationType(),r.getName(),f.QContextType.RESULT_SET);}else{c.getQueryModel().getConvenienceCommands().addField(a.getDimensionType(),a.getName(),r.getPresentationType(),r.getName(),f.QContextType.RESULT_SET);}b();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.getKeyFieldName=function(m,d){var k=m.getKeyView();var a=d.getFieldByPresentationType(k);if(f.isNull(a)){a=d.getDisplayKeyField();}if(f.isNull(a)){a=d.getKeyField();}var b=null;if(f.notNull(a)){b=a.getName();}return b;};f.AuGdsQdInteractiveTableContextActionsHelper.getTextFieldName=function(m,d){var t=m.getTextView();var a=d.getFieldByPresentationType(t);if(f.isNull(a)){a=d.getTextField();}var b=null;if(f.notNull(a)){b=a.getName();}return b;};f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributes=function(d){var r=f.XStream.of(d.getResultSetAttributes()).filter(function(c){return c!==d.getMainAttribute();}.bind(this)).collect(f.XStreamCollector.toList());var a=f.XStream.of(d.getAttributes()).filter(function(c){return!r.contains(c)&&c!==d.getMainAttribute();}.bind(this)).collect(f.XStreamCollector.toList());var b=f.XList.create();b.addAll(f.XStream.of(r).map(function(m){var c=f.DdModelFieldContainer.createFromFieldContainer(m,null,null);c.applyResultSetSettings(m);return c;}.bind(this)).collect(f.XStreamCollector.toList()));b.addAll(f.XStream.of(a).map(function(m){var c=f.DdModelFieldContainer.createFromFieldContainer(m,null,null);return c;}.bind(this)).collect(f.XStreamCollector.toList()));return b;};f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributeFields=function(m,d){var r=f.XList.create();var l=f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributeRsFields(m,d);var a=f.XStream.of(d.getFields()).filter(function(b){return!l.contains(b)&&!f.XString.isEqual(f.AuGdsQdInteractiveTableContextActionsHelper.getKeyFieldName(m,d),b.getName())&&!f.XString.isEqual(f.AuGdsQdInteractiveTableContextActionsHelper.getTextFieldName(m,d),b.getName());}.bind(this)).collect(f.XStreamCollector.toList());r.addAll(l);r.addAll(a);return r;};f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributeRsFields=function(m,d){return f.XStream.of(d.getResultSetFields()).filter(function(a){return!f.XString.isEqual(f.AuGdsQdInteractiveTableContextActionsHelper.getKeyFieldName(m,d),a.getName())&&!f.XString.isEqual(f.AuGdsQdInteractiveTableContextActionsHelper.getTextFieldName(m,d),a.getName());}.bind(this)).collect(f.XStreamCollector.toList());};f.AuGdsQdInteractiveTableContextActionsHelper.applyMainAttributeForFieldLayout=function(c,d,m){var t;var k;d.setFieldLayoutType(f.FieldLayoutType.FIELD_BASED);var n=f.AuGdsQdInteractiveTableContextActionsHelper.getNonMainAttributeRsFields(m,d);var a=c.getQueryModel().getConvenienceCommands();a.clearAllResultSetFields(d.getName());if(m.isDisplayKey()&&m.isDisplayText()){t=f.AuGdsQdInteractiveTableContextActionsHelper.getTextFieldName(m,d);k=f.AuGdsQdInteractiveTableContextActionsHelper.getKeyFieldName(m,d);if(!m.isDisplayKeyBeforeText()){if(f.XStringUtils.isNotNullAndNotEmpty(t)){a.addField(null,d.getName(),null,t,f.QContextType.RESULT_SET);}if(f.XStringUtils.isNotNullAndNotEmpty(k)){a.addField(null,d.getName(),null,k,f.QContextType.RESULT_SET);}}else if(m.isDisplayKey()&&m.isDisplayText()){if(f.XStringUtils.isNotNullAndNotEmpty(k)){a.addField(null,d.getName(),null,k,f.QContextType.RESULT_SET);}if(f.XStringUtils.isNotNullAndNotEmpty(t)){a.addField(null,d.getName(),null,t,f.QContextType.RESULT_SET);}}}else if(m.isDisplayKey()){k=f.AuGdsQdInteractiveTableContextActionsHelper.getKeyFieldName(m,d);if(f.XStringUtils.isNotNullAndNotEmpty(k)){a.addField(null,d.getName(),null,k,f.QContextType.RESULT_SET);}}else if(m.isDisplayText()){t=f.AuGdsQdInteractiveTableContextActionsHelper.getTextFieldName(m,d);if(f.XStringUtils.isNotNullAndNotEmpty(t)){a.addField(null,d.getName(),null,t,f.QContextType.RESULT_SET);}}for(var i=0;i<n.size();i++){a.addField(null,d.getName(),null,n.get(i).getName(),f.QContextType.RESULT_SET);}};f.AuGdsQdInteractiveTableContextActionsHelper.createPresentationSubMenu=function(c,d,m,a,u){var s=a.addNewGroup();var l=s.addNewLeaf();var b=d.getFieldLayoutType()===f.FieldLayoutType.FIELD_BASED;l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.NO_PRESENTATION);l.setText("No Display");l.setStatusSupplier(function(){return f.XBooleanValue.create(m.getDisplayAs()===f.DdDisplayAs.NO_DISPLAY);}.bind(this));l.setCommand(function(){m.setDisplayAs(f.DdDisplayAs.NO_DISPLAY);f.AuGdsQdInteractiveTableContextActionsHelper.applyAttribute(c,d,m,b);u();}.bind(this));if(m.isMayDisplayKey()){l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.KEY_PRESENTATION);l.setText("Key");l.setStatusSupplier(function(){return f.XBooleanValue.create(m.getDisplayAs()===f.DdDisplayAs.KEY);}.bind(this));l.setCommand(function(){m.setDisplayAs(f.DdDisplayAs.KEY);f.AuGdsQdInteractiveTableContextActionsHelper.applyAttribute(c,d,m,b);u();}.bind(this));}if(m.isMayDisplayText()){l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TEXT_PRESENTATION);l.setText("Text");l.setStatusSupplier(function(){return f.XBooleanValue.create(m.getDisplayAs()===f.DdDisplayAs.TEXT);}.bind(this));l.setCommand(function(){m.setDisplayAs(f.DdDisplayAs.TEXT);f.AuGdsQdInteractiveTableContextActionsHelper.applyAttribute(c,d,m,b);u();}.bind(this));}if(m.isMayDisplayKey()&&m.isMayDisplayText()){l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.KEY_TEXT_PRESENTATION);l.setText("Key and Text");l.setStatusSupplier(function(){return f.XBooleanValue.create(m.getDisplayAs()===f.DdDisplayAs.KEY_AND_TEXT);}.bind(this));l.setCommand(function(){m.setDisplayAs(f.DdDisplayAs.KEY_AND_TEXT);f.AuGdsQdInteractiveTableContextActionsHelper.applyAttribute(c,d,m,b);u();}.bind(this));l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TEXT_KEY_PRESENTATION);l.setText("Text and Key");l.setStatusSupplier(function(){return f.XBooleanValue.create(m.getDisplayAs()===f.DdDisplayAs.TEXT_AND_KEY);}.bind(this));l.setCommand(function(){m.setDisplayAs(f.DdDisplayAs.TEXT_AND_KEY);m.applyToQueryModel(c.getQueryModel(),d.getName());f.AuGdsQdInteractiveTableContextActionsHelper.applyAttribute(c,d,m,b);u();}.bind(this));}var i;if(!b){var k=m.getKeyViewsAvailable();if(m.isDisplayKey()&&f.XCollectionUtils.hasElements(k)&&k.size()>1){s=a.addNewGroup();s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.KEY_VIEWS);s.setText("Key Type");for(i=0;i<k.size();i++){var e=k.get(i);f.AuGdsQdInteractiveTableContextActionsHelper.addPresentationsKeyViewSubMenu(s,c,d,e,m,u);}}var t=m.getTextViewsAvailable();if(m.isDisplayText()&&f.XCollectionUtils.hasElements(t)&&t.size()>1){s=a.addNewGroup();s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.TEXT_VIEWS);s.setText("Text Type");for(i=0;i<t.size();i++){var g=t.get(i);f.AuGdsQdInteractiveTableContextActionsHelper.addPresentationsTextViewSubMenu(s,c,d,g,m,u);}}}};f.AuGdsQdInteractiveTableContextActionsHelper.addPresentationsKeyViewSubMenu=function(s,c,d,k,m,u){var l=s.addNewLeaf();l.setName(k.getName());l.setText(f.AuGdsQdInteractiveTableContextActionsHelper.mapPresentationType(k));var a=function(){return f.XBooleanValue.create(m.getKeyView()===k);}.bind(this);l.setStatusSupplier(a);l.setCommand(function(){m.setKeyView(k);m.applyToQueryModel(c.getQueryModel(),d.getName());u();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.addPresentationsTextViewSubMenu=function(s,c,d,t,m,u){var l=s.addNewLeaf();l.setName(t.getName());l.setText(f.AuGdsQdInteractiveTableContextActionsHelper.mapPresentationType(t));var k=function(){return f.XBooleanValue.create(m.getTextView()===t);}.bind(this);l.setStatusSupplier(k);l.setCommand(function(){m.setTextView(t);m.applyToQueryModel(c.getQueryModel(),d.getName());u();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.applyAttribute=function(c,d,m,i){c.getQueryModel().getConvenienceCommands().clearAllAttributeFields(d.getName(),m.getComponentName(),f.QContextType.RESULT_SET);m.applyToQueryModel(c.getQueryModel(),d.getName());if(i){f.AuGdsQdInteractiveTableContextActionsHelper.applyMainAttributeForFieldLayout(c,d,m);}};f.AuGdsQdInteractiveTableContextActionsHelper.createHierarchyMenu=function(a,c,r,d,u){var b=c.getModelCapabilities();var l;var e=r.addNewGroup();e.setText("Hierarchy");e.setName(f.AuGdsQdInteractiveTableContextActionsHelper.HIERARCHY_CONTEXT_MENU);e.setIcon("tree");var s=e.addNewGroup();var h=d.getHierarchies();var g=false;if(f.notNull(h)){var k=h.getObjects();if(f.XCollectionUtils.hasElements(k)){for(var i=0;i<k.size();i++){var m=k.get(i);g=f.AuGdsQdInteractiveTableContextActionsHelper.createHierarchySelectionActions(s,d,m,u)||g;}}}var n=d.getCustomHierarchies();if(f.XCollectionUtils.hasElements(n)){for(var j=0;j<n.size();j++){var o=n.get(j);g=f.AuGdsQdInteractiveTableContextActionsHelper.createCustomHierarchySelectionActions(s,d,o,u)||g;}}if(!g&&f.XStringUtils.isNotNullAndNotEmpty(d.getHierarchyName())){l=s.addNewLeaf();var p=d.getHierarchyName();l.setName(p);l.setText(p);l.setStatusSupplier(function(){return f.XBooleanValue.create(true);}.bind(this));}l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.HIERARCHY_DIALOG);l.setText("Select Hierarchy ...");var q=f.AuGdsLambdaSetParameterListener.create(function(_,x){d.setHierarchyName(x.getHierarchyName());d.setHierarchyActive(true);u();return x;}.bind(this));var t=f.AuGdsLambdaHierarchyCatalogManagerCreatedListener.create(function(_){var x=_.getData();var y=f.OlapUiDisplayFactory.createFactoryForDialog(a.getProcess().getUiManager());var z=f.OlapUiContext.createContext(a.getProcess().getUiManager(),y);var A=f.HierarchyCatalogController.create(z);A.openDialog("Hierarchy",x,q,"hierarchy",null,null);}.bind(this));l.setCommand(function(){var x=f.OlapApiModule.SERVICE_TYPE_HIERARCHY_CATALOG.createServiceConfig(a);x.setSystemName(d.getQueryModel().getSystemName());var y=d.getQueryModel().getDataSource().getFullQualifiedName();x.setDataSourceName(y);x.setDimension(d);x.processHierarchyCatalogManagerCreation(f.SyncType.NON_BLOCKING,t,null).getData();}.bind(this));var v=f.XBooleanValue.create(f.XStringUtils.isNotNullAndNotEmpty(d.getHierarchyName()));s=e.addNewGroup();l=s.addNewLeaf();l.setText("Flat Presentation");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FLAT_PRESENTATION_MENU);l.setEnablementSupplier(function(){return v;}.bind(this));l.setStatusSupplier(function(){return f.XBooleanValue.create(!d.isHierarchyActive());}.bind(this));l.setCommand(function(){d.setHierarchyActive(!d.isHierarchyActive());u();}.bind(this));s=e.addNewGroup();s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_MENU_LEVEL);s.setIcon("expand");s.setText("Initial Display Level");l=s.addNewLeaf();l.setText("All Nodes");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FULL_EXPANSION_MENU);var w=function(){return f.XBooleanValue.create(d.isHierarchyActive());}.bind(this);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===-1);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(-1);u();}.bind(this));l=s.addNewLeaf();l.setText("All Nodes +");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FULL_P_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===-2);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(-2);u();}.bind(this));l=s.addNewLeaf();l.setText("Root Level");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.ROOT_NODE_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===0);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(0);u();}.bind(this));l=s.addNewLeaf();l.setText("Root + 1 Child Level");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.L1_NODE_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===1);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(1);u();}.bind(this));l=s.addNewLeaf();l.setText("Root + 2 Child Levels");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.L2_NODE_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===2);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(2);u();}.bind(this));l=s.addNewLeaf();l.setText("Root + 3 Child Levels");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.L3_NODE_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===3);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(3);u();}.bind(this));l=s.addNewLeaf();l.setText("Root + 4 Child Levels");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.L4_NODE_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===4);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(4);u();}.bind(this));l=s.addNewLeaf();l.setText("Root + 5 Child Levels");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.L5_NODE_EXPANSION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.isHierarchyActive()&&d.getInitialDrillLevel()===5);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setInitialDrillLevel(5);u();}.bind(this));s=e.addNewGroup();if(b.supportsExpandBottomUp()){l=s.addNewLeaf();l.setText("Children above Parent");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_BOTTOM_UP_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.getLowerLevelNodeAlignment()===f.Alignment.CHILDREN_ABOVE_PARENT);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setLowerLevelNodeAlignment(d.getLowerLevelNodeAlignment()===f.Alignment.CHILDREN_ABOVE_PARENT?f.Alignment.CHILDREN_BELOW_PARENT:f.Alignment.CHILDREN_ABOVE_PARENT);u();}.bind(this));}l=s.addNewLeaf();l.setText("Node Condensation");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.ACTIVATE_NODE_CONDENSATION_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.hasNodeCondensation());}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setHasNodeCondensation(!d.hasNodeCondensation());u();}.bind(this));l=s.addNewLeaf();l.setText("Show Posted Nodes");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_POSTED_NODES_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(d.getMemberOfPostedNodeVisibility()===f.ResultVisibility.ALWAYS);}.bind(this));l.setEnablementSupplier(w);l.setCommand(function(){d.setMemberOfPostedNodeVisibility(d.getMemberOfPostedNodeVisibility()===f.ResultVisibility.ALWAYS?f.ResultVisibility.HIDDEN:f.ResultVisibility.ALWAYS);u();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createCustomHierarchySelectionActions=function(s,d,c,u){var l=s.addNewLeaf();var a=c.getHierarchyName();var b=c.getHierarchyDescription();if(f.XStringUtils.isNullOrEmpty(b)){b=a;}var e=f.XString.isEqual(d.getHierarchyName(),c.getHierarchyName());l.setName(a);l.setText(b);l.setStatusSupplier(function(){return f.XBooleanValue.create(e);}.bind(this));l.setCommand(function(){d.setHierarchyName(c.getHierarchyName());d.setHierarchyActive(true);u();}.bind(this));return e;};f.AuGdsQdInteractiveTableContextActionsHelper.createHierarchySelectionActions=function(s,d,c,u){var l=s.addNewLeaf();var a=c.getHierarchyName();var b=c.getHierarchyDescription();if(f.XStringUtils.isNullOrEmpty(b)){b=a;}var e=f.XString.isEqual(d.getHierarchyName(),c.getHierarchyName());l.setName(a);l.setText(b);l.setStatusSupplier(function(){return f.XBooleanValue.create(e);}.bind(this));l.setCommand(function(){d.setHierarchyName(c.getHierarchyName());d.setHierarchyActive(true);u();}.bind(this));return e;};f.AuGdsQdInteractiveTableContextActionsHelper.createAttributeOrFieldMenu=function(a,c,r,d,b,u){var e=f.XStream.ofString(b).map(function(s){return d.getFieldByName(s.getString());}.bind(this)).collect(f.XStreamCollector.toList());var l;var g;var h=d.getFieldLayoutType()===f.FieldLayoutType.ATTRIBUTE_BASED;var i=d.getAxisType();if(!f.XStream.of(e).anyMatch(function(s){return s.getAttribute()===d.getMainAttribute()&&(h||s===d.getTextField()||s===d.getKeyField());}.bind(this))){var j;var m;if(h){l=r.addNewLeaf();l.setText("Attributes");l.setEnablementSupplier(function(){return f.XBooleanValue.create(false);}.bind(this));g=r.addNewGroup();g.setText("Move");g.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_CONTEXT_MENU);g.setIcon("move");var k=f.XLinkedMap.createLinkedMap();var n=f.XStream.of(e).map(function(s){return s.getAttribute();}.bind(this)).collect(f.XStreamCollector.to(k));var o=d.getResultSetAttributes();j=o.get(0)===d.getMainAttribute()?1:0;l=g.addNewLeaf();m=o.getIndex(k.get(0))>j;l.setEnablementSupplier(function(){return f.XBooleanValue.create(m);}.bind(this));if(i===f.AxisType.ROWS){l.setText("Left");l.setIcon("arrow-left");}else{l.setText("Up");l.setIcon("arrow-top");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_UP_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveAttributes(d,n,-1);u();}.bind(this));l=g.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(o.getIndex(k.get(k.size()-1))<o.size()-1);}.bind(this));if(i===f.AxisType.ROWS){l.setText("Right");l.setIcon("arrow-right");}else{l.setText("Down");l.setIcon("arrow-bottom");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_DOWN_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveAttributes(d,n,1);u();}.bind(this));}else{var p=d.getResultSetFields();for(j=0;j<p.size();j++){var q=p.get(j);if(q.getAttribute()!==d.getMainAttribute()||(q!==d.getKeyField()&&q!==d.getTextField())){break;}}l=r.addNewLeaf();l.setText("Fields");l.setEnablementSupplier(function(){return f.XBooleanValue.create(false);}.bind(this));g=r.addNewGroup();g.setText("Move");g.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_CONTEXT_MENU);g.setIcon("move");l=g.addNewLeaf();m=p.getIndex(e.get(0))>j;l.setEnablementSupplier(function(){return f.XBooleanValue.create(m);}.bind(this));if(i===f.AxisType.ROWS){l.setText("Left");l.setIcon("arrow-left");}else{l.setText("Up");l.setIcon("arrow-top");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_UP_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveFields(d,e,-1);u();}.bind(this));l=g.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(p.getIndex(e.get(e.size()-1))<p.size()-1);}.bind(this));if(i===f.AxisType.ROWS){l.setText("Right");l.setIcon("arrow-right");}else{l.setText("Down");l.setIcon("arrow-bottom");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_DOWN_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveFields(d,e,1);u();}.bind(this));}}};f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMoveMenu=function(a,c,r,d,b,i,u,e){if(f.XCollectionUtils.hasElements(b)){var g=b.get(0).getAxis();var s=null;if((g.getType()===f.AxisType.ROWS||g.getType()===f.AxisType.COLUMNS)){s=r.addNewGroup();s.setText("Move");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_CONTEXT_MENU);s.setIcon("move");}var h=g.size();var l;if(h>1&&!i&&(g.getType()===f.AxisType.ROWS||g.getType()===f.AxisType.COLUMNS)){var j=g.getIndex(b.get(0));var k=g.getIndex(b.get(b.size()-1));l=s.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(j>0);}.bind(this));if(g.getType()===f.AxisType.ROWS){l.setText("Left");l.setIcon("arrow-left");}else{l.setText("Up");l.setIcon("arrow-top");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_UP_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions(b,-1);u();}.bind(this));l=s.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(k<h-1);}.bind(this));if(g.getType()===f.AxisType.ROWS){l.setText("Right");l.setIcon("arrow-right");}else{l.setText("Down");l.setIcon("arrow-bottom");}l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LEVEL_DOWN_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions(b,1);u();}.bind(this));}var m=g.getType()===f.AxisType.COLUMNS?null:f.XStream.of(d).filter(function(v){return v.supportsAxis(f.AxisType.COLUMNS);}.bind(this)).collect(f.XStreamCollector.toList());var n=f.XCollectionUtils.hasElements(m);if(g.getType()===f.AxisType.ROWS||g.getType()===f.AxisType.COLUMNS){l=s.addNewLeaf();l.setText("To Columns");}else{l=r.addNewLeaf();l.setText("Move to Columns");}l.setEnablementSupplier(function(){return f.XBooleanValue.create(n);}.bind(this));l.setIcon("table-column");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_TO_COL_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis(c,m,f.AxisType.COLUMNS);u();}.bind(this));var o=g.getType()===f.AxisType.ROWS?null:f.XStream.of(d).filter(function(v){return v.supportsAxis(f.AxisType.ROWS);}.bind(this)).collect(f.XStreamCollector.toList());var p=f.XCollectionUtils.hasElements(o);if(g.getType()===f.AxisType.ROWS||g.getType()===f.AxisType.COLUMNS){l=s.addNewLeaf();l.setText("To Rows");}else{l=r.addNewLeaf();l.setText("Move to Rows");}l.setEnablementSupplier(function(){return f.XBooleanValue.create(p);}.bind(this));l.setIcon("table-row");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_TO_ROW_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis(c,o,f.AxisType.ROWS);u();}.bind(this));var q=f.XStream.of(d).filter(function(v){return v.supportsAxis(f.AxisType.FREE);}.bind(this)).collect(f.XStreamCollector.toList());if((g.getType()===f.AxisType.ROWS||g.getType()===f.AxisType.COLUMNS)){var t=f.XCollectionUtils.hasElements(q);l=r.addNewLeaf();l.setEnablementSupplier(function(){return f.XBooleanValue.create(t);}.bind(this));l.setText("Remove");l.setIcon("delete");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MOVE_TO_FREE_MENU);l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis(c,q,f.AxisType.FREE);u();}.bind(this));}}};f.AuGdsQdInteractiveTableContextActionsHelper.createAxisMenu=function(a,c,r,b,u){f.AuGdsQdInteractiveTableContextActionsHelper.createTotalsMenu(a,c,r,b.getResultStructureController(),b.getType(),u);var z=b.getAvailableZeroSuppressionTypes();var l;if(f.XCollectionUtils.hasElements(z)){var s=r.addNewGroup();s.setText("Zero Suppression");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SUPPRESS_ZEROS_MENU);for(var i=0;i<z.size();i++){var d=z.get(i);f.AuGdsQdInteractiveTableContextActionsHelper.addZeroSuppressionItem(s,b,d,u);}}if(c.getModelCapabilities().supportsUniversalDisplayHierarchies()){var e=function(){return f.XBooleanValue.create(b.size()>1);}.bind(this);var g=r.addNewGroup();g.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_SUBMENU);g.setText("Hierarchy");g.setIcon("tree");var h=g.addNewGroup();l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.ACTIVATE_UDH_MENU);l.setEnablementSupplier(e);l.setText("Display Axis Hierarchically");var j=c.getQueryModel().getUniversalDisplayHierarchies().getByAxisType(b.getType());l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setActive(!j.isActive());}else{c.getQueryManager().getConvenienceCommands().setUniversalDisplayHierarchy(b.getDimensionNames().createListOfStringCopy(),-1,true);}u();}.bind(this));if(c.getModelCapabilities().supportsExpandBottomUp()){h=g.addNewGroup();l=h.addNewLeaf();l.setText("Children above Parent");l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_BOTTOM_UP_MENU);l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getAlignment()===f.Alignment.CHILDREN_ABOVE_PARENT);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setAlignment(j.getAlignment()===f.Alignment.CHILDREN_ABOVE_PARENT?f.Alignment.CHILDREN_BELOW_PARENT:f.Alignment.CHILDREN_ABOVE_PARENT);}u();}.bind(this));}h=g.addNewGroup();h.setName(f.AuGdsQdInteractiveTableContextActionsHelper.EXPAND_MENU_UDH);h.setText("Initial Display Level");h.setIcon("expand");l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_FULL_EXPAND_MENU);l.setText("All Nodes");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===-1);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(-1);}u();}.bind(this));l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_ROOT_EXPAND_MENU);l.setText("Root Level");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===0);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(0);}u();}.bind(this));l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L1_EXPAND_MENU);l.setText("Root + 1 Child Level");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===1);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(1);}u();}.bind(this));l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L2_EXPAND_MENU);l.setText("Root + 2 Child Levels");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===2);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(2);}u();}.bind(this));l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L3_EXPAND_MENU);l.setText("Root + 3 Child Levels");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===3);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(3);}u();}.bind(this));l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L4_EXPAND_MENU);l.setText("Root + 4 Child Levels");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===4);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(4);}u();}.bind(this));l=h.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.UDH_L5_EXPAND_MENU);l.setText("Root + 5 Child Levels");l.setStatusSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.getInitialDrillLevel()===5);}.bind(this));l.setEnablementSupplier(function(){return f.XBooleanValue.create(f.notNull(j)&&j.isActive());}.bind(this));l.setCommand(function(){if(f.notNull(j)){j.setInitialDrillLevel(5);}u();}.bind(this));}};f.AuGdsQdInteractiveTableContextActionsHelper.addZeroSuppressionItem=function(s,a,z,u){var l=s.addNewLeaf();l.setName(z.getName());l.setText(f.AuGdsQdInteractiveTableContextActionsHelper.mapZeroSuppressionType(z));var i=a.getZeroSuppressionType()===z;var b=function(){return f.XBooleanValue.create(i);}.bind(this);l.setStatusSupplier(b);l.setCommand(function(){a.setZeroSuppressionType(z);u();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createQueryMenu=function(a,q,s,u){f.AuGdsQdInteractiveTableContextActionsHelper.createTotalsMenu(a,q,s,q.getResultStructureController(),null,u);var c=q.getModelCapabilities();var l;l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SWAP_AXIS);l.setIcon("journey-change");l.setText("Swap Axes");l.setCommand(function(){q.getConvenienceCommands().switchAxes();u();}.bind(this));if(c.supportsQueryCurrencyTranslation()){l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SELECT_CONVERSION_MENU);l.setIcon("collections-insight");l.setText("Currency Conversion ...");l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openCurrencyDialog(a,q,u);}.bind(this));}l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.LAYOUT_BTN);l.setText("Layout ...");l.setIcon("chart-axis");l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openLayoutDialog(a,q,u);}.bind(this));var d=s.addNewGroup();d.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSIONS_CONTEXT_MENU);d.setText("Dimensions");d.setIcon("dimension");var b=0;var e=q.getDimensions().getIterator();while(e.hasNext()){var g=e.next();if(g.isUniversalDisplayHierarchyDimension()||!g.supportsAxis(f.AxisType.COLUMNS)&&!g.supportsAxis(f.AxisType.ROWS)){continue;}if(b===f.AuGdsQdInteractiveTableContextActionsHelper.MAX_PAGE_SIZE){b=0;d=d.addNewGroup();d.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSIONS_CONTEXT_MENU);d.setText("Next Page");}b++;var h=d.addNewGroup();h.setName(g.getName());h.setText(g.getText());var i=f.XList.create();i.add(g);f.AuGdsQdInteractiveTableContextActionsHelper.createDimensionMenu(a,q,h,i,i,null,false,u,null,false);}};f.AuGdsQdInteractiveTableContextActionsHelper.createCellMenu=function(a,c,s,b,d,u){var l;if(f.notNull(b)){l=s.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.MEASURE_SETTINGS_MENU);l.setIcon("action-settings");l.setText("Measure ...");l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openDataCellDialogForMember(a,c,b,null,u);}.bind(this));f.AuGdsQdInteractiveTableContextActionsHelper.createMemberMoveMenu(a,c,s,b,u);var e=s.addNewGroup();if(f.notNull(d)){l=e.addNewLeaf();l.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SECONDARY_STRUCTURE_MEMBER_SETTINGS_MENU);l.setIcon("action-settings");l.setText("Cell ...");l.setCommand(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openDataCellDialogForMember(a,c,b,d,u);}.bind(this));}}};f.AuGdsQdInteractiveTableContextActionsHelper.getGridSettingsMenu=function(t,r){var u=r;if(t.isOnHeaderColumns()||t.isOnHeaderRows()||t.isOnDataColumns()||t.isOnDataRows()){u=r.addNewGroup();u.setIcon("provision");u.setName(f.AuGdsQdInteractiveTableContextActionsHelper.GRID_SETTINGS_MENU);u.setName("Grid Settings");u.setText("Grid");}var a=u.addNewGroup();a.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_MENU);a.setText("Freeze");a.setIcon("locked");f.AuGdsQdInteractiveTableContextActionsHelper.createFreezeMenu(t,a);var s=u.addNewGroup();s.setText("Show/Hide");s.setIcon("show");s.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_HIDE_MENU);f.AuGdsQdInteractiveTableContextActionsHelper.createShowGridMenu(t,s);var b=u.addNewGroup();b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.THEME_MENU);b.setText("Themes");b.setIcon("palette");f.AuGdsQdInteractiveTableContextActionsHelper.createThemeMenu(t,b);return u;};f.AuGdsQdInteractiveTableContextActionsHelper.createFreezeMenu=function(t,a){var b=a.addNewLeaf();b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_COLUMNS_MENU);b.setText("Freeze Column Headers");b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isFreezeRows());}.bind(this));b.setCommand(function(){t.getTableConfig().setFreezeRows(!t.getTableConfig().isFreezeRows());t.reRenderTitleAndGenericSettings(true);}.bind(this));b=a.addNewLeaf();b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_ROWS_MENU);b.setText("Freeze Row Headers");b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isFreezeColumns());}.bind(this));b.setCommand(function(){t.getTableConfig().setFreezeColumns(!t.getTableConfig().isFreezeColumns());t.reRenderTitleAndGenericSettings(true);}.bind(this));b=a.addNewLeaf();b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_ALL_MENU);b.setText("Freeze Headers");b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isFreeze());}.bind(this));b.setCommand(function(){t.getTableConfig().setFreeze(!t.getTableConfig().isFreeze());t.reRenderTitleAndGenericSettings(true);}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createShowGridMenu=function(t,s){var a=s.addNewGroup();var b=a.addNewLeaf();b.setText("Grid");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_GRID_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isShowGrid());}.bind(this));b.setCommand(function(){t.getTableConfig().setShowGrid(!t.getTableConfig().isShowGrid());t.reRenderTitleAndGenericSettings(false);}.bind(this));b=a.addNewLeaf();b.setText("Column/Row Headers");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.COORDINATE_HEADER_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isShowCoordinateHeader());}.bind(this));b.setCommand(function(){t.getTableConfig().setShowCoordinateHeader(!t.getTableConfig().isShowCoordinateHeader());t.reRenderTitleAndGenericSettings(false);}.bind(this));b=a.addNewLeaf();b.setText("Freeze Lines");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.FREEZE_LINES_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isShowFreezeLines());}.bind(this));b.setCommand(function(){t.getTableConfig().setShowFreezeLines(!t.getTableConfig().isShowFreezeLines());t.reRenderTitleAndGenericSettings(false);}.bind(this));a=s.addNewGroup();b=a.addNewLeaf();b.setText("Table Title");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_TABLE_TITLE_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isShowTableTitle());}.bind(this));b.setCommand(function(){t.getTableConfig().setShowTableTitle(!t.getTableConfig().isShowTableTitle());t.reRenderTitleAndGenericSettings(false);}.bind(this));b=a.addNewLeaf();b.setText("Table Details");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SHOW_TABLE_DETAILS_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isShowTableDetails());}.bind(this));b.setCommand(function(){t.getTableConfig().setShowTableDetails(!t.getTableConfig().isShowTableDetails());t.reRenderTitleAndGenericSettings(false);}.bind(this));a=s.addNewGroup();b=a.addNewLeaf();b.setText("Dimension Headers");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.DIMENSION_TITLES_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isShowDimensionTitles());}.bind(this));b.setCommand(function(){t.getTableConfig().setShowDimensionTitles(!t.getTableConfig().isShowDimensionTitles());t.reFormatTableHeaders();}.bind(this));b=a.addNewLeaf();b.setText("Highlight Headers");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.COLORATE_DIMENSION_TITLES_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isColorateDimensionTitles());}.bind(this));b.setCommand(function(){t.getTableConfig().setColorateDimensionTitles(!t.getTableConfig().isColorateDimensionTitles());t.reFormatTableHeaders();}.bind(this));b=a.addNewLeaf();b.setText("Highlight Totals");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.COLORATE_TOTALS_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isColorateTotals());}.bind(this));b.setCommand(function(){t.getTableConfig().setColorateTotals(!t.getTableConfig().isColorateTotals());t.reRenderTotalFormatting();}.bind(this));b=a.addNewLeaf();b.setText("Repetitive Member Names");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.REPETITIVE_MEMBER_NAMES_MENU);b.setStatusSupplier(function(){return f.XBooleanValue.create(t.getTableConfig().isRepetitiveMemberNames());}.bind(this));b.setCommand(function(){t.getTableConfig().setRepetitiveMemberNames(!t.getTableConfig().isRepetitiveMemberNames());t.reFormatTableHeaders();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.createThemeMenu=function(t,a){var b=a.addNewLeaf();b.setText("Sac Style");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SAC_STYLE_MENU);b.setCommand(function(){t.getTableConfig().setSacStyle();t.reFormatTableHeaders();}.bind(this));b=a.addNewLeaf();b.setText("Spreadsheet Style");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.SPREADSHEET_STYLE_MENU);b.setCommand(function(){t.getTableConfig().setSpreadsheetStyle();t.reFormatTableHeaders();}.bind(this));b=a.addNewLeaf();b.setText("Finance Style");b.setName(f.AuGdsQdInteractiveTableContextActionsHelper.AUDITORS_STYLE_MENU);b.setCommand(function(){t.getTableConfig().setFinanceStyle();t.reFormatTableHeaders();}.bind(this));};f.AuGdsQdInteractiveTableContextActionsHelper.openLayoutDialog=function(a,q,u){var b=f.AldEntryPoint.createEntryPoint(a);b.openAldDialog("Axis Layout",q,f.AuGdsLambdaDialogCloseListener.create(u,null));};f.AuGdsQdInteractiveTableContextActionsHelper.openFilterDialog=function(a,c,d,u){var e=f.FdEntryPoint.createEntryPoint(a,f.XStringUtils.concatenate3(d.getName(),"/",d.getText()));e.getConfiguration().setSelectionMode(f.UiSelectionMode.MULTI_SELECT);e.getConfiguration().setDetermineSelectionFromContext(true);var b=function(s){if(f.XCollectionUtils.hasElements(s)){var g=c.getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().getCartesianListWithDefault(d);for(var i=0;i<s.size();i++){var h=s.get(i);var m=h.getNode().getDimensionMember();var j=g.addNewCartesianElement();j.setComparisonOperator(f.ComparisonOperator.EQUAL);j.getLow().addSupplementValue(d.getDisplayKeyField().getName(),h.getDisplayKey());j.getLow().addSupplementValue(d.getTextField().getName(),h.getText());j.getLow().setDimensionMember(m);}}u();}.bind(this);e.openWithDimension(d,f.AuGdsLambdaFdCloseListener.create(b,null));};f.AuGdsQdInteractiveTableContextActionsHelper.openCurrencyDialog=function(a,q,u){var b=f.CtEntryPoint.createEntryPoint(a);b.openQCTDialog("Currency Conversion",q.getCurrencyTranslationManager(),f.AuGdsLambdaDialogCloseListener.create(u,null));};f.AuGdsQdInteractiveTableContextActionsHelper.filterOnSelection=function(c,t){var d=t.get(0).getDimension();var a=c.getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().getCartesianListWithDefault(d);a.clear();for(var i=0;i<t.size();i++){var e=t.get(i);var m=e.getDimensionMember();if(!m.getMemberType().isTypeOf(f.OlapComponentType.TOTALS)&&!m.getMemberType().isTypeOf(f.MemberType.RESULT)){var b=a.addNewCartesianElement();b.setComparisonOperator(f.ComparisonOperator.EQUAL);var g=d.getTextField();var h=d.getDisplayKeyField();var j;if(f.notNull(g)){j=m.getFieldValue(g);if(f.notNull(j)&&j.hasValue()){b.getLow().addSupplementValue(g.getName(),j.getValue().getStringRepresentation());}}if(f.notNull(h)){j=m.getFieldValue(h);if(f.notNull(j)&&j.hasValue()){b.getLow().addSupplementValue(h.getName(),j.getValue().getStringRepresentation());}}b.getLow().setDimensionMember(m);}}};f.AuGdsQdInteractiveTableContextActionsHelper.applyDrillToElements=function(e,d){for(var i=0;i<e.size();i++){e.get(i).setNextDrillState(d);}};f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis=function(c,d,a){var b=c.getQueryManager().getConvenienceCommands();for(var i=0;i<d.size();i++){b.moveDimensionToAxis(d.get(i).getName(),a);}};f.AuGdsQdInteractiveTableContextActionsHelper.moveStructureMember=function(c,s,o){var d=s.getDimension();var a=f.XListOfNameObject.create();a.addAll(d.getStructureLayout());var i=a.getIndex(s);a.removeAt(i);a.insert(i+o,s);d.setStructuredLayout(a);if(c.getQueryManager().getSystemType().isTypeOf(f.SystemType.BW)){var b=c.getQueryModel().getSortingManager().getDimensionSorting(d,true);b.setSortByKey();b.setDirection(f.XSortDirection.ASCENDING);b.setCustomSort(f.XStream.of(a).collect(f.XStreamCollector.toListOfString(function(e){return e.getName();}.bind(this))));}else{c.getQueryModel().getSortingManager().removeDimensionSorting(d);}};f.AuGdsQdInteractiveTableContextActionsHelper.moveFields=function(d,a,o){var r=d.getResultSetFields();var b=0;var i;for(i=a.size()-1;i>=0;i--){var c=a.get(i);b=r.getIndex(c);r.removeAt(b);}for(i=0;i<a.size();i++){r.insert(b+o+i,a.get(i));}};f.AuGdsQdInteractiveTableContextActionsHelper.moveAttributes=function(d,a,o){var r=d.getResultSetAttributes();var b=0;var i;for(i=a.size()-1;i>=0;i--){var c=a.get(i);b=r.getIndex(c);r.removeAt(b);}for(i=0;i<a.size();i++){r.insert(b+o+i,a.get(i));}};f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions=function(d,o){var a=d.get(0).getAxis();var b;var c=0;var i;for(i=d.size()-1;i>=0;i--){b=d.get(i);c=a.getIndex(b);a.removeAt(c);}for(i=0;i<d.size();i++){a.insert(c+o+i,d.get(i));}};f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection=function(c,d,a,s,m){var b=c.getModelCapabilities();if(f.notNull(s)&&b.supportsDataCellSorting()){var e=c.getQueryModel().getSortingManager().getDataCellSorting(s,true);e.setDirection(d);}else if(f.notNull(m)&&b.supportsMeasureSorting()){var g=c.getQueryModel().getSortingManager().getMeasureSorting(m,true);g.setDirection(d);}else if(f.notNull(a)){var h=a.getDimension();var p=a.getPresentationType();var i=f.AuGdsQdInteractiveTableContextActionsHelper.resolveDimensionSortType(a);if(b.supportsFieldSorting(a)){c.getQueryManager().getConvenienceCommands().sort(f.SortType.FIELD,h.getDimensionType(),h.getName(),p,a.getName(),null,d);}else if(f.notNull(i)&&b.supportsDimensionSorting(h,i)){c.getQueryManager().getConvenienceCommands().sort(i,h.getDimensionType(),h.getName(),p,null,null,d);}}};f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection=function(c,a,s,m){var b=c.getModelCapabilities();var d=f.XSortDirection.DEFAULT_VALUE;if(f.notNull(s)&&b.supportsDataCellSorting()){var e=c.getQueryModel().getSortingManager().getDataCellSorting(s,false);if(f.notNull(e)){d=e.getDirection();}}else if(f.notNull(m)&&b.supportsMeasureSorting()){var g=c.getQueryModel().getSortingManager().getMeasureSorting(m,false);if(f.notNull(g)){d=g.getDirection();}}else if(f.notNull(a)){var h=a.getDimension();var i=f.AuGdsQdInteractiveTableContextActionsHelper.resolveDimensionSortType(a);if(b.supportsFieldSorting(a)){var j=c.getQueryModel().getSortingManager().getFieldSorting(a,false);if(f.notNull(j)){d=j.getDirection();}}if(d===f.XSortDirection.DEFAULT_VALUE&&b.supportsDimensionSorting(h,i)){var k=c.getQueryModel().getSortingManager().getDimensionSorting(h,false);if(f.notNull(k)&&k.getSortingType()===i){d=k.getDirection();}}}return d;};f.AuGdsQdInteractiveTableContextActionsHelper.clearFilter=function(c,d){c.getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().removeByDimensionName(d.getName());};f.AuGdsQdInteractiveTableContextActionsHelper.openDataCellDialogForMember=function(a,q,m,s,u){var d=f.OlapUiDisplayFactory.createFactoryForDialog(a.getProcess().getUiManager());var c=f.OlapUiContext.createContext(a.getProcess().getUiManager(),d);var b=f.DataCellController.create(c);var e=f.AuGdsLambdaDialogCloseListener.create(u,function(){b.close();}.bind(this));if(f.isNull(s)){b.openDataCellPropertiesDialog(e,q.getQueryManager(),m.getName(),null,false);}else{b.openDataCellPropertiesDialog(e,q.getQueryManager(),m.getName(),s.getName(),true);}};f.AuGdsQdInteractiveTableContextActionsHelper.resolveDimensionSortType=function(a){var d=a.getDimension();if(a===d.getKeyField()){return f.SortType.MEMBER_KEY;}if(a===d.getTextField()){return f.SortType.MEMBER_TEXT;}if(d.getMainAttribute()!==null&&d.getMainAttribute().getFields().contains(a)){var p=a.getPresentationType();if(p.isTypeOf(f.PresentationType.ABSTRACT_TEXT)){return f.SortType.MEMBER_TEXT;}if(p.isTypeOf(f.PresentationType.ABSTRACT_KEY)){return f.SortType.MEMBER_KEY;}}return null;};f.AuGdsQdInteractiveTableContextActionsHelper.hasFilterOnDimension=function(c,d){var a=c.getQueryModel().getFilter().getDynamicFilter().getCartesianProduct();return f.notNull(a)&&f.XCollectionUtils.hasElements(a.getCartesianList(d));};f.AuGdsQdInteractiveTableContextActionsHelper.mapReadMode=function(m){if(m===f.QMemberReadMode.BOOKED){return"Booked";}if(m===f.QMemberReadMode.BOOKED_AND_SPACE){return"Booked and Space";}if(m===f.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE){return"Booked and Space and State";}if(m===f.QMemberReadMode.MASTER){return"Master";}if(m===f.QMemberReadMode.MASTER_AND_SPACE){return"Master and Space";}if(m===f.QMemberReadMode.MASTER_AND_SPACE_AND_STATE){return"Master and Space and State";}if(m===f.QMemberReadMode.UNDEFINED){return"Undefined";}if(m===f.QMemberReadMode.REL_BOOKED){return"Rel Booked";}if(m===f.QMemberReadMode.REL_BOOKED_AND_SPACE){return"Rel Booked and Space";}if(m===f.QMemberReadMode.REL_BOOKED_AND_SPACE_AND_STATE){return"Rel Booked and Space and State";}if(m===f.QMemberReadMode.REL_MASTER){return"Rel Master";}if(m===f.QMemberReadMode.REL_MASTER_AND_SPACE){return"Rel Master and Space";}if(m===f.QMemberReadMode.REL_MASTER_AND_SPACE_AND_STATE){return"Rel Master and Space and State";}return"";};f.AuGdsQdInteractiveTableContextActionsHelper.mapZeroSuppressionType=function(z){if(z===f.ZeroSuppressionType.ALL_CELLS_ARE_NULL){return"All Cells are Null";}if(z===f.ZeroSuppressionType.ALL_CELLS_ARE_ZERO){return"All Cells are Zero";}if(z===f.ZeroSuppressionType.TOTAL_IS_ZERO){return"Total is Zero";}if(z===f.ZeroSuppressionType.NONE){return"None";}return"";};f.AuGdsQdInteractiveTableContextActionsHelper.mapResultStructureElement=function(r){if(r===f.ResultStructureElement.MEMBERS){return"Members";}if(r===f.ResultStructureElement.TOTAL){return"Total";}if(r===f.ResultStructureElement.TOTAL_INCLUDED_MEMBERS){return"Total Included Members";}if(r===f.ResultStructureElement.TOTAL_REMAINING_MEMBERS){return"Total Remaining Members";}return"";};f.AuGdsQdInteractiveTableContextActionsHelper.mapPresentationType=function(p){if(p===f.PresentationType.VALUE){return"Value";}if(p===f.PresentationType.ABSTRACT_KEY){return"Abstract Key";}if(p===f.PresentationType.ABSTRACT_TEXT){return"Abstract Text";}if(p===f.PresentationType.ACTIVE_DISPLAY_KEY){return"Active Display Key";}if(p===f.PresentationType.ACTIVE_KEY){return"Active Key";}if(p===f.PresentationType.ACTIVE_TEXT){return"Active Text";}if(p===f.PresentationType.BLOB){return"Blob";}if(p===f.PresentationType.BUSINESS_OBJECT_NODE_IDENTIFIER){return"Business Object Node Identifier";}if(p===f.PresentationType.DEFAULT_CONTENT){return"Default Content";}if(p===f.PresentationType.DISPLAY_KEY){return"Display Key";}if(p===f.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT){return"Display Key Mixed Compoundment";}if(p===f.PresentationType.DISPLAY_KEY_NOT_COMPOUND){return"Display Key Not Compound";}if(p===f.PresentationType.DOCUMENT_LINK){return"Document Link";}if(p===f.PresentationType.HIERARCHY_DISPLAY_KEY){return"Hierarchy Display Key";}if(p===f.PresentationType.HIERARCHY_KEY){return"Hierarchy Key";}if(p===f.PresentationType.HIERARCHY_PATH){return"Hierarchy Path";}if(p===f.PresentationType.HIERARCHY_TEXT){return"Hierarchy Text";}if(p===f.PresentationType.ID){return"Id";}if(p===f.PresentationType.KEY){return"Key";}if(p===f.PresentationType.KEY_NOT_COMPOUND){return"Key Not Compound";}if(p===f.PresentationType.LONG_TEXT){return"Long Text";}if(p===f.PresentationType.MEDIUM_TEXT){return"Medium Text";}if(p===f.PresentationType.SHORT_TEXT){return"Short Text";}if(p===f.PresentationType.RELATED_ACTIONS){return"Related Actions";}if(p===f.PresentationType.SELF){return"Self";}if(p===f.PresentationType.TEXT){return"Text";}if(p===f.PresentationType.UNDEFINED){return"Undefined";}if(p===f.PresentationType.URL){return"Url";}if(p===f.PresentationType.WHY_FOUND){return"Why Found";}if(p===f.PresentationType.XL_LONG_TEXT){return"XL Long Text";}return"";};f.AuGdsQdInteractiveTableContextActionsHelper.mapDimensionType=function(d){if(d===f.DimensionType.MEASURE_STRUCTURE){return"Measure Structure";}if(d===f.DimensionType.SECONDARY_STRUCTURE){return"Secondary Structure";}if(d===f.DimensionType.ACCOUNT){return"Account Dimension";}if(d===f.DimensionType.CALCULATED_DIMENSION){return"Calculated Dimension";}return"Dimension";};f.AuGdsQdInteractiveTableView=function(){};f.AuGdsQdInteractiveTableView.prototype=new f.XObject();f.AuGdsQdInteractiveTableView.prototype._ff_c="AuGdsQdInteractiveTableView";f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN="attributeDropdown";f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY="attributeDropdownKey";f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT="attributeDropdownText";f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT_KEY="attributeDropdownTextKey";f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY_TEXT="attributeDropdownKeyText";f.AuGdsQdInteractiveTableView.UNDO_REDO_ACTION_ID="undoRedoActionTrigger";f.AuGdsQdInteractiveTableView.CONTEXT_MENU="contextMenu";f.AuGdsQdInteractiveTableView.create=function(a,q,g,t){var i=new f.AuGdsQdInteractiveTableView();i.setupInternal(a,q,g,t);return i;};f.AuGdsQdInteractiveTableView.supportsTupleElementExpand=function(t){var d=t.getDrillState();var i=t.getDimension().isUniversalDisplayHierarchyDimension();return d===f.DrillState.COLLAPSED&&!i||d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.LEAF_UDH_EXPAND_ALLOWED;};f.AuGdsQdInteractiveTableView.supportsTupleElementDrill=function(t){var d=t.getDrillState();var i=t.getDimension().isUniversalDisplayHierarchyDimension();return d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.COLLAPSED&&i||d===f.DrillState.LEAF_DRILLDOWN_ALLOWED;};f.AuGdsQdInteractiveTableView.supportsTupleElementCollapse=function(t){var d=t.getDrillState();return d===f.DrillState.EXPANDED||d===f.DrillState.DRILLED||d===f.DrillState.DRILL_DOWN;};f.AuGdsQdInteractiveTableView.getFirstNonMainAttributeFieldIndex=function(d,r){var a=0;for(;a<r.size();a++){var b=r.get(a);if(b.getAttribute()!==d.getMainAttribute()||b!==d.getKeyField()&&b!==d.getTextField()){break;}}return a;};f.AuGdsQdInteractiveTableView.prototype.m_application=null;f.AuGdsQdInteractiveTableView.prototype.m_queryManager=null;f.AuGdsQdInteractiveTableView.prototype.m_genesis=null;f.AuGdsQdInteractiveTableView.prototype.m_listener=null;f.AuGdsQdInteractiveTableView.prototype.m_sacTable=null;f.AuGdsQdInteractiveTableView.prototype.m_contextMenu=null;f.AuGdsQdInteractiveTableView.prototype.m_rowMin=0;f.AuGdsQdInteractiveTableView.prototype.m_rowMax=0;f.AuGdsQdInteractiveTableView.prototype.m_columnMin=0;f.AuGdsQdInteractiveTableView.prototype.m_columnMax=0;f.AuGdsQdInteractiveTableView.prototype.m_columnsWindowSize=0;f.AuGdsQdInteractiveTableView.prototype.m_rowsWindowSize=0;f.AuGdsQdInteractiveTableView.prototype.m_maxRowsWindowSize=0;f.AuGdsQdInteractiveTableView.prototype.m_tableConfig=null;f.AuGdsQdInteractiveTableView.prototype.m_selectedMeasure=null;f.AuGdsQdInteractiveTableView.prototype.m_onHeaderRows=false;f.AuGdsQdInteractiveTableView.prototype.m_onHeaderColumns=false;f.AuGdsQdInteractiveTableView.prototype.m_onDataRows=false;f.AuGdsQdInteractiveTableView.prototype.m_onDataColumns=false;f.AuGdsQdInteractiveTableView.prototype.m_onEmptyHeaderSection=false;f.AuGdsQdInteractiveTableView.prototype.m_isMultiSelectWithGaps=false;f.AuGdsQdInteractiveTableView.prototype.m_rowDimensionsLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnDimensionsLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_rowDimensionsAllSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnDimensionsAllSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_rowTuplesLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnTuplesLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_rowTuplesAllSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnTuplesAllSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnFieldNamesLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_rowFieldNamesLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_rowTupleElementsLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnTupleElementsLastSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_rowTupleElementsAllSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_columnTupleElementsAllSelected=null;f.AuGdsQdInteractiveTableView.prototype.m_selectedColumnTupleFieldName=null;f.AuGdsQdInteractiveTableView.prototype.m_selectedRowTupleFieldName=null;f.AuGdsQdInteractiveTableView.prototype.m_selectedSecondaryStructureMember=null;f.AuGdsQdInteractiveTableView.prototype.m_numberOfSelectedCells=0;f.AuGdsQdInteractiveTableView.prototype.m_updatesPaused=false;f.AuGdsQdInteractiveTableView.prototype.m_pendingUpdates=false;f.AuGdsQdInteractiveTableView.prototype.m_resolver=null;f.AuGdsQdInteractiveTableView.prototype.m_renderer=null;f.AuGdsQdInteractiveTableView.prototype.m_columnsCountTotal=0;f.AuGdsQdInteractiveTableView.prototype.m_rowsCountTotal=0;f.AuGdsQdInteractiveTableView.prototype.m_columnsCountLoaded=0;f.AuGdsQdInteractiveTableView.prototype.m_rowsCountLoaded=0;f.AuGdsQdInteractiveTableView.prototype.m_activeSynchronizer=null;f.AuGdsQdInteractiveTableView.prototype.m_pendingTableUpdates=null;f.AuGdsQdInteractiveTableView.prototype.m_pendingScrolls=null;f.AuGdsQdInteractiveTableView.prototype.m_rescheduled=false;f.AuGdsQdInteractiveTableView.prototype.m_scrollWindowMax=0;f.AuGdsQdInteractiveTableView.prototype.m_pendingFullTableReRendering=false;f.AuGdsQdInteractiveTableView.prototype.m_pendingTableReConfiguration=false;f.AuGdsQdInteractiveTableView.prototype.m_scrollWindowMin=0;f.AuGdsQdInteractiveTableView.prototype.m_newMax=0;f.AuGdsQdInteractiveTableView.prototype.m_newMin=0;f.AuGdsQdInteractiveTableView.prototype.m_pendingScrollPoint=0;f.AuGdsQdInteractiveTableView.prototype.m_canceledUpdate=false;f.AuGdsQdInteractiveTableView.prototype.m_dataRowsCountTotal=0;f.AuGdsQdInteractiveTableView.prototype.m_dataColumnsCountTotal=0;f.AuGdsQdInteractiveTableView.prototype.setupInternal=function(a,q,g,t){this.m_genesis=g;this.m_application=a;this.m_queryManager=q;this.m_listener=t;this.m_renderer=f.GridRendererFactory.createRenderer(f.ProtocolBindingType.SAC_TABLE_GRID);this.m_resolver=f.GridResolverFactory.createResolver(f.ProtocolBindingType.SAC_TABLE_GRID);this.m_sacTable=this.m_genesis.newControl(f.UiType.SAC_TABLE_GRID);this.m_sacTable.useMaxSpace();this.m_sacTable.registerOnContextMenu(this);this.m_sacTable.registerOnButtonPress(this);this.m_sacTable.registerOnClick(this);this.m_sacTable.registerOnResize(this);this.m_sacTable.registerOnTableDragAndDrop(this);this.m_sacTable.registerOnLoadFinished(this);this.m_sacTable.registerOnScrollLoad(this);this.m_contextMenu=this.m_genesis.newControl(f.UiType.MENU);this.m_contextMenu.setName(f.AuGdsQdInteractiveTableView.CONTEXT_MENU);this.m_tableConfig=f.AuGdsQdTableConfig.create();this.m_rowDimensionsAllSelected=f.XSetOfNameObject.create();this.m_columnDimensionsAllSelected=f.XSetOfNameObject.create();this.m_rowTuplesAllSelected=f.XList.create();this.m_columnTuplesAllSelected=f.XList.create();this.m_rowTupleElementsAllSelected=f.XList.create();this.m_columnTupleElementsAllSelected=f.XList.create();this.m_columnFieldNamesLastSelected=f.XListOfString.create();this.m_rowFieldNamesLastSelected=f.XListOfString.create();this.m_rowMax=-1;this.m_columnMax=-1;this.m_pendingScrollPoint=-1;this.m_columnsWindowSize=30;this.m_rowsWindowSize=50;this.m_maxRowsWindowSize=10000;};f.AuGdsQdInteractiveTableView.prototype.registerOnSelectionChange=function(l){this.m_sacTable.registerOnSelectionChange(l);};f.AuGdsQdInteractiveTableView.prototype.releaseObject=function(){this.m_application=null;this.m_queryManager=null;this.m_genesis=null;this.m_listener=null;this.m_sacTable=f.XObjectExt.release(this.m_sacTable);this.m_tableConfig=f.XObjectExt.release(this.m_tableConfig);f.XObject.prototype.releaseObject.call(this);};f.AuGdsQdInteractiveTableView.prototype.setQueryManager=function(q){this.m_queryManager=q;};f.AuGdsQdInteractiveTableView.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsQdInteractiveTableView.prototype.getView=function(){return this.m_sacTable;};f.AuGdsQdInteractiveTableView.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsQdInteractiveTableView.prototype.clearTable=function(){this.m_sacTable.setModelJson(null);};f.AuGdsQdInteractiveTableView.prototype.updateTable=function(){if(f.notNull(this.m_sacTable)&&f.notNull(this.m_queryManager)){if(!this.m_updatesPaused){this.m_sacTable.setBusy(true);if((this.isSyncActionProcessing()||this.hasPendingTableUpdates())&&!this.m_rescheduled){this.rescheduleTableUpdate();}else{this.m_rescheduled=false;this.m_activeSynchronizer=this.m_queryManager.getActiveResultSetContainer();this.resetPaging();this.m_canceledUpdate=false;this.processQueryExecutionWindow(0,this.m_rowsWindowSize*3,0,this.m_columnsWindowSize);}}else{this.m_pendingUpdates=true;}}};f.AuGdsQdInteractiveTableView.prototype.resetPaging=function(){this.m_scrollWindowMax=0;this.m_scrollWindowMin=0;var c=this.m_queryManager.getConvenienceCommands();c.setOffsetRows(0);if(this.m_rowsWindowSize>0){c.setMaxRows(this.m_rowsWindowSize*3);}};f.AuGdsQdInteractiveTableView.prototype.processQueryExecutionWindow=function(s,a,b,c){var d=this.m_queryManager.getConvenienceCommands();if(a>0){d.setOffsetRows(s);d.setMaxRows(a);}else{this.resetPaging();}if(c>0){d.setOffsetColumns(b);d.setMaxColumns(c);}this.m_listener.onBackendRequestStarted();this.m_queryManager.processQueryExecution(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsQdInteractiveTableView.prototype.executeUndo=function(){this.m_sacTable.setBusy(true);this.m_activeSynchronizer=this.m_queryManager.getActiveResultSetContainer();this.resetPaging();this.m_listener.onBackendRequestStarted();this.m_application.getUndoManager().processUndo(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsQdInteractiveTableView.prototype.executeRedo=function(){this.m_sacTable.setBusy(true);this.m_activeSynchronizer=this.m_queryManager.getActiveResultSetContainer();this.resetPaging();this.m_listener.onBackendRequestStarted();this.m_application.getUndoManager().processRedo(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsQdInteractiveTableView.prototype.setTitle=function(t){this.m_tableConfig.setTitle(t);this.reRenderTitleAndGenericSettings(false);};f.AuGdsQdInteractiveTableView.prototype.getTitle=function(){return this.m_tableConfig.getTitle();};f.AuGdsQdInteractiveTableView.prototype.getTableConfigAsStructure=function(){if(f.notNull(this.m_tableConfig)){return this.m_tableConfig.serializeToStructure();}return null;};f.AuGdsQdInteractiveTableView.prototype.setTableConfigFromStructure=function(t){if(f.isNull(this.m_tableConfig)){this.m_tableConfig=f.AuGdsQdTableConfig.create();}this.m_tableConfig.deserializeFromStructre(t);};f.AuGdsQdInteractiveTableView.prototype.getNumberOfSelectedCells=function(){return this.m_numberOfSelectedCells;};f.AuGdsQdInteractiveTableView.prototype.reFormatTableHeaders=function(){if(!this.hasPendingTableUpdates()&&f.isNull(this.m_pendingScrolls)){var n=null;this.m_sacTable.setBusy(true);var r=f.AuGdsLambdaSyncAction.create(this.getApplication().getSession(),n,function(){var m=null;this.m_renderer.setGridConfigration(this.m_tableConfig.serializeToStructure());if(!this.hasPendingTableUpdates()&&f.isNull(this.m_pendingScrolls)){m=this.m_renderer.reFormatHeaders();if(!this.hasPendingTableUpdates()&&f.isNull(this.m_pendingScrolls)){this.m_resolver.updateModel(null,m.asStructure(),this.m_renderer.getFullRowList());this.m_activeSynchronizer=null;this.m_sacTable.setModelJson(m);}}return m;}.bind(this),10);this.m_activeSynchronizer=r;r.attachListener(f.AuGdsLambdaSyncListener.create(function(m,d){this.checkPendingReRendering();return f.XBooleanValue.create(true);}.bind(this)),f.ListenerType.SYNC_LISTENER,null);r.processSyncAction(f.SyncType.NON_BLOCKING,null,null);}};f.AuGdsQdInteractiveTableView.prototype.reRenderTable=function(r,a){this.m_tableConfig.setWidth(this.m_sacTable.getOffsetWidth());this.m_tableConfig.setHeight(this.m_sacTable.getOffsetHeight());this.m_sacTable.setBusy(true);var n=null;var b=f.AuGdsLambdaSyncAction.create(this.getApplication().getSession(),n,function(){this.m_renderer.setGridConfigration(this.m_tableConfig.serializeToStructure());var o=this.m_queryManager.getConvenienceCommands().getOffsetRows();var m=null;var h=true;if(o===0){h=this.m_renderer.preRender(r);}if(!this.hasPendingTableUpdates()){if(h){m=this.m_renderer.renderOffset(r,o,o>0);}if(!this.hasPendingTableUpdates()){this.m_resolver.updateModel(a.getClassicResultSet(),m,this.m_renderer.getFullRowList());this.m_columnsCountTotal=this.m_renderer.getColumnsTotalCount();this.m_columnsCountLoaded=this.m_renderer.getColumnsLoadedCount();this.m_rowsCountTotal=this.m_renderer.getRowsTotalCount();this.m_dataRowsCountTotal=this.m_renderer.getDataRowsTotalCount();this.m_dataColumnsCountTotal=this.m_renderer.getDataColumnsTotalCount();this.m_rowsCountLoaded=this.m_renderer.getRowsLoadedCount();this.m_sacTable.setCustomObject(this.m_resolver);this.m_activeSynchronizer=null;this.m_sacTable.setModelJson(m);}else{f.XLogger.println("Do not render, as table updates are pending (INNER)");}}else{f.XLogger.println("Do not render, as table updates are pending (OUTER)");}return m;}.bind(this),10);this.m_activeSynchronizer=b;b.attachListener(f.AuGdsLambdaSyncListener.create(function(m,d){this.checkPendingReRendering();return f.XBooleanValue.create(true);}.bind(this)),f.ListenerType.SYNC_LISTENER,null);b.processSyncAction(f.SyncType.NON_BLOCKING,null,null);};f.AuGdsQdInteractiveTableView.prototype.hasPendingTableUpdates=function(){return f.notNull(this.m_pendingTableUpdates);};f.AuGdsQdInteractiveTableView.prototype.reRenderTitleAndGenericSettings=function(a){if(this.isSyncActionProcessing()||this.hasPendingTableUpdates()){if(a){this.m_pendingFullTableReRendering=true;}else{this.m_pendingTableReConfiguration=true;}}else{this.m_sacTable.setBusy(true);this.m_tableConfig.setWidth(this.m_sacTable.getOffsetWidth());this.m_tableConfig.setHeight(this.m_sacTable.getOffsetHeight());this.m_renderer.setGridConfigration(this.m_tableConfig.serializeToStructure());var m=this.m_renderer.reRenderTitleAndGenericSettings(a);this.m_sacTable.setModelJson(m);}};f.AuGdsQdInteractiveTableView.prototype.reRenderTotalFormatting=function(){if(this.isSyncActionProcessing()||this.hasPendingTableUpdates()){this.m_pendingFullTableReRendering=true;}else{this.m_renderer.setGridConfigration(this.m_tableConfig.serializeToStructure());this.m_sacTable.setModelJson(this.m_renderer.reRenderTotalFormatting());}};f.AuGdsQdInteractiveTableView.prototype.clearMenuItems=function(){this.m_contextMenu.clearItems();};f.AuGdsQdInteractiveTableView.prototype.onContextMenu=function(e){this.clearMenuItems();if(e.getParameters().getByKey(f.UiControlEvent.PARAM_COLUMN)!==null&&e.getParameters().getByKey(f.UiControlEvent.PARAM_ROW)!==null){if(this.m_columnMin===-1||this.m_columnMax===-1||this.m_rowMin===-1||this.m_rowMax===-1){var c=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_COLUMN);var r=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_ROW);this.resetSelectionStructure();this.m_columnMin=c;this.m_columnMax=c;this.m_rowMin=r;this.m_rowMax=r;this.updateSelectionObjects();}}var t=f.AuGdsQdInteractiveTableContextActionsHelper.getTableContextMenu(this);f.AuGdsQdContextMenuUtil.renderSubMenuItems(this.m_contextMenu,t);var a=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var b=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);this.m_contextMenu.openAtPosition(a,b);};f.AuGdsQdInteractiveTableView.prototype.getStructureMember=function(t){var s=null;if(f.notNull(t)){for(var i=0;i<t.size();i++){var a=t.getTupleElementAt(i);var d=a.getDimensionMember();s=a.getDimension().getStructureMember(d.getName());if(f.notNull(s)){break;}}}return s;};f.AuGdsQdInteractiveTableView.prototype.toggleUdh=function(a,b){if(b){this.getQueryManager().getConvenienceCommands().setUniversalDisplayHierarchy(this.getQueryManager().getQueryModel().getAxis(a).getDimensionNames().createListOfStringCopy(),-1,true);}else{this.getQueryManager().getQueryModel().getUniversalDisplayHierarchies().getByAxisType(a).setActive(false);}this.updateTable();};f.AuGdsQdInteractiveTableView.prototype.processSelectionChangeEvent=function(e){var s=e.getParameters().getStringByKey(f.UiControlEvent.PARAM_SELECTION_AREA);if(f.XStringUtils.isNotNullAndNotEmpty(s)){var a=f.JsonParserFactory.createFromString(s);if(!this.trySetupSelection(a)){this.m_columnMax=-1;this.m_rowMax=-1;}}else{this.m_columnMax=-1;this.m_rowMax=-1;this.resetSelectionStructure();}};f.AuGdsQdInteractiveTableView.prototype.trySetupSelection=function(s){var a=false;this.resetSelectionStructure();if(f.notNull(s)){if(s.isStructure()){this.analyseSelectionStructure(s.asStructure());a=true;}else if(s.isList()){var b=s.asList();if(f.XCollectionUtils.hasElements(b)){this.m_isMultiSelectWithGaps=b.size()>1;for(var i=0;i<b.size();i++){this.analyseSelectionStructure(b.getStructureAt(i));}if(this.m_isMultiSelectWithGaps){this.m_selectedMeasure=null;this.m_selectedSecondaryStructureMember=null;}a=true;}}}return a;};f.AuGdsQdInteractiveTableView.prototype.analyseSelectionStructure=function(s){var a=s.getIntegerByKey(f.SacTableConstants.CCD_N_START_COL);var e=s.getIntegerByKey(f.SacTableConstants.CCD_N_END_COL);var b=s.getIntegerByKey(f.SacTableConstants.CCD_N_START_ROW);var c=s.getIntegerByKey(f.SacTableConstants.CCD_N_END_ROW);this.m_columnMin=f.XMath.min(a,e);this.m_columnMax=f.XMath.max(a,e);this.m_rowMin=f.XMath.min(b,c);this.m_rowMax=f.XMath.max(b,c);this.updateSelectionObjects();};f.AuGdsQdInteractiveTableView.prototype.updateSelectionObjects=function(){if(this.m_rowMax>-1&&this.m_rowMin>-1&&this.m_columnMax>-1&&this.m_columnMin>-1){var r=this.m_sacTable.getCustomObject();this.m_onEmptyHeaderSection=this.m_onEmptyHeaderSection&&r.isEmptyHeaderCell(this.m_columnMax,this.m_rowMax);this.m_onHeaderRows=this.m_onHeaderRows||r.isOnHeaderRow(this.m_rowMax);this.m_onHeaderColumns=this.m_onHeaderColumns||r.isOnHeaderColumn(this.m_columnMax);this.m_onDataRows=this.m_onDataRows||r.isOnDataRow(this.m_rowMin);this.m_onDataColumns=this.m_onDataColumns||r.isOnDataColumn(this.m_columnMin);this.m_columnDimensionsLastSelected=r.getColumnDimensions(this.m_rowMin,this.m_rowMax);this.m_columnDimensionsAllSelected.addAll(this.m_columnDimensionsLastSelected);this.m_rowDimensionsLastSelected=r.getRowDimensions(this.m_columnMin,this.m_columnMax);this.m_rowDimensionsAllSelected.addAll(this.m_rowDimensionsLastSelected);this.m_rowTuplesLastSelected=r.getRowTuples(this.m_rowMin,this.m_rowMax);this.addAllTuplesIfNotContains(this.m_rowTuplesAllSelected,this.m_rowTuplesLastSelected);this.m_columnTuplesLastSelected=r.getColumnTuples(this.m_columnMin,this.m_columnMax);this.addAllTuplesIfNotContains(this.m_columnTuplesAllSelected,this.m_columnTuplesLastSelected);this.m_rowTupleElementsLastSelected=r.getRowTupleElements(this.m_columnMin,this.m_rowMin,this.m_rowMax);this.addAllTupleElementsIfNotContains(this.m_rowTupleElementsAllSelected,this.m_rowTupleElementsLastSelected);this.m_columnTupleElementsLastSelected=r.getColumnTupleElements(this.m_columnMin,this.m_columnMax,this.m_rowMin);this.addAllTupleElementsIfNotContains(this.m_columnTupleElementsAllSelected,this.m_columnTupleElementsLastSelected);this.m_columnFieldNamesLastSelected=r.getColumnTupleFieldNames(this.m_rowMin,this.m_rowMax,true);this.m_rowFieldNamesLastSelected=r.getRowTupleFieldNames(this.m_columnMin,this.m_columnMax,true);this.m_selectedColumnTupleFieldName=r.getColumnTupleFieldName(this.m_rowMax);this.m_selectedRowTupleFieldName=r.getRowTupleFieldName(this.m_columnMax);this.m_selectedMeasure=null;this.m_selectedSecondaryStructureMember=null;var s;if(f.XCollectionUtils.hasElements(this.m_rowTuplesLastSelected)&&this.m_rowTuplesLastSelected.size()===1){s=this.getStructureMember(this.m_rowTuplesLastSelected.get(0));if(f.notNull(s)&&s.getDimension().isMeasureStructure()){this.m_selectedMeasure=s;}else{this.m_selectedSecondaryStructureMember=s;}}if(f.XCollectionUtils.hasElements(this.m_columnTuplesLastSelected)&&this.m_columnTuplesLastSelected.size()===1){s=this.getStructureMember(this.m_columnTuplesLastSelected.get(0));if(f.notNull(s)&&s.getDimension().isMeasureStructure()){this.m_selectedMeasure=s;}else{this.m_selectedSecondaryStructureMember=s;}}this.m_numberOfSelectedCells=(this.m_rowMax+1-this.m_rowMin)*(this.m_columnMax+1-this.m_columnMin)+this.m_numberOfSelectedCells;}};f.AuGdsQdInteractiveTableView.prototype.addAllTupleElementsIfNotContains=function(r,t){if(f.XCollectionUtils.hasElements(t)){for(var i=0;i<t.size();i++){var e=t.get(i);if(!r.contains(e)){r.add(e);}}}};f.AuGdsQdInteractiveTableView.prototype.addAllTuplesIfNotContains=function(r,t){if(f.XCollectionUtils.hasElements(t)){for(var i=0;i<t.size();i++){var e=t.get(i);if(!r.contains(e)){r.add(e);}}}};f.AuGdsQdInteractiveTableView.prototype.resetSelectionStructure=function(){this.m_onHeaderRows=false;this.m_onHeaderColumns=false;this.m_onDataRows=false;this.m_onDataColumns=false;this.m_isMultiSelectWithGaps=false;this.m_onEmptyHeaderSection=true;this.m_selectedRowTupleFieldName=null;this.m_selectedColumnTupleFieldName=null;this.m_selectedMeasure=null;this.m_selectedSecondaryStructureMember=null;this.m_columnDimensionsAllSelected.clear();this.m_rowDimensionsAllSelected.clear();this.m_columnTuplesAllSelected.clear();this.m_rowTuplesAllSelected.clear();this.m_columnTupleElementsAllSelected.clear();this.m_rowTupleElementsAllSelected.clear();this.m_columnDimensionsLastSelected=null;this.m_rowDimensionsLastSelected=null;this.m_columnTuplesLastSelected=null;this.m_rowTuplesLastSelected=null;this.m_columnTupleElementsLastSelected=null;this.m_rowTupleElementsLastSelected=null;this.m_numberOfSelectedCells=0;};f.AuGdsQdInteractiveTableView.prototype.onClick=function(e){};f.AuGdsQdInteractiveTableView.prototype.onButtonPress=function(e){var p=e.getParameters();var a=f.UiPressedButtonType.lookup(p.getStringByKey(f.UiControlEvent.PARAM_PRESSED_BUTTON_TYPE));var c=p.getIntegerByKey(f.UiControlEvent.PARAM_COLUMN);var r=p.getIntegerByKey(f.UiControlEvent.PARAM_ROW);var b=e.getControl().getCustomObject();if(a===f.UiPressedButtonType.DRILL){var t=b.getColumnTupleElement(c,r);if(f.isNull(t)){t=b.getRowTupleElement(c,r);}if(f.notNull(t)){if(f.AuGdsQdInteractiveTableView.supportsTupleElementCollapse(t)){t.setNextDrillState(f.DrillState.COLLAPSED);}else if(f.AuGdsQdInteractiveTableView.supportsTupleElementDrill(t)){t.setNextDrillState(f.DrillState.DRILLED);}else if(f.AuGdsQdInteractiveTableView.supportsTupleElementExpand(t)){t.setNextDrillState(f.DrillState.EXPANDED);}}this.updateTable();}else if(a===f.UiPressedButtonType.ICON){var d=b.getRowTuple(r);if(f.isNull(d)){d=b.getColumnTuple(c);}var g=b.getColumnTupleFieldName(r);if(f.isNull(g)){g=b.getRowTupleFieldName(c);}var h=null;var s=null;var i=this.m_queryManager.getModelCapabilities();if(f.notNull(d)){if(i.supportsDataCellSorting()){s=f.XStream.of(d.getTupleElementAt(d.getElements().size()-1).getDrillPath()).map(function(m){return m;}.bind(this)).collect(f.XStreamCollector.toList());}else if(i.supportsMeasureSorting()){h=this.getStructureMember(d);if(f.notNull(h)&&!h.getDimension().isMeasureStructure()){h=null;}}}var j=this.m_queryManager.getQueryModel().getFieldByName(g);var k=f.AuGdsQdInteractiveTableContextActionsHelper.getSortDirection(this.m_queryManager,j,s,h);var l=k===f.XSortDirection.ASCENDING?f.XSortDirection.DESCENDING:f.XSortDirection.ASCENDING;f.AuGdsQdInteractiveTableContextActionsHelper.sortInDirection(this.m_queryManager,l,j,s,h);this.updateTable();}};f.AuGdsQdInteractiveTableView.prototype.onQueryExecuted=function(e,r,c){this.m_listener.onBackendRequestFinished();if(f.isNull(this.m_activeSynchronizer)){f.XLogger.println("Request was canceled on purpose.");}else{if(e.hasErrors()){this.m_activeSynchronizer=null;this.m_genesis.showErrorToast(e.getSummary());if(!this.m_canceledUpdate){f.XLogger.println(f.XStringUtils.concatenate2("ext result has errors: ",e.getSummary()));}}else{if(r.getSyncState().isInSync()&&!r.hasErrors()){var a=r.getCursorResultSet();var s=a.getState();if(s.hasData()&&!this.hasPendingTableUpdates()){this.reRenderTable(a,r);}else{this.m_activeSynchronizer=null;if(!this.m_canceledUpdate){this.m_sacTable.setModelJson(this.m_renderer.reRenderTitleAndGenericSettings(false));this.m_genesis.showErrorToast(f.XStringUtils.concatenate2("No result was returned: ",s.getName()));f.XLogger.println(f.XStringUtils.concatenate2("No result was returned: ",s.getName()));}}}else{f.XLogger.println("Result set container is not in sync");this.m_activeSynchronizer=null;this.m_sacTable.setModelJson(this.m_renderer.reRenderTitleAndGenericSettings(false));}if(this.m_queryManager.getConvenienceCommands().getOffsetRows()===0){var b=c;if(f.isNull(b)||!f.XString.isEqual(b.getString(),f.AuGdsQdInteractiveTableView.UNDO_REDO_ACTION_ID)){this.m_application.getProcess().notifyInterruptStep(f.XInterruptStep.create(),false);}this.m_listener.onTableQMChanged();}}}this.m_canceledUpdate=false;};f.AuGdsQdInteractiveTableView.prototype.undoRedoActionFinished=function(e,u,c){this.m_queryManager.getActiveResultSetContainer().processExecution(f.SyncType.NON_BLOCKING,this,f.XStringValue.create(f.AuGdsQdInteractiveTableView.UNDO_REDO_ACTION_ID));};f.AuGdsQdInteractiveTableView.prototype.onSelect=function(e){var c=e.getControl();switch(c.getName()){case f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN:var d=c.getCustomObject();var a=this.getQueryManager().getConvenienceCommands();var b=d.getName();var g=d.getMainAttribute().getName();a.clearAllAttributeFields(b,g,f.QContextType.RESULT_SET);var k=d.getKeyField()!==null?d.getKeyField().getPresentationType():null;var t=d.getTextField()!==null?d.getTextField().getPresentationType():null;switch(c.getSelectedItem().getName()){case f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY:a.addAttributeField(null,b,g,k,null,f.QContextType.RESULT_SET);break;case f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT:a.addAttributeField(null,b,g,t,null,f.QContextType.RESULT_SET);break;case f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY_TEXT:a.addAttributeField(null,b,g,k,null,f.QContextType.RESULT_SET);a.addAttributeField(null,b,g,t,null,f.QContextType.RESULT_SET);break;case f.AuGdsQdInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT_KEY:a.addAttributeField(null,b,g,t,null,f.QContextType.RESULT_SET);a.addAttributeField(null,b,g,k,null,f.QContextType.RESULT_SET);break;}this.updateTable();break;default:}};f.AuGdsQdInteractiveTableView.prototype.onResize=function(e){this.reRenderTitleAndGenericSettings(false);};f.AuGdsQdInteractiveTableView.prototype.onLoadFinished=function(e){if(!this.isSyncActionProcessing()&&!this.hasPendingTableUpdates()&&f.isNull(this.m_pendingScrolls)){if(f.notNull(this.m_sacTable)){this.m_sacTable.setBusy(false);}if(f.notNull(this.m_listener)){this.m_listener.onTableDataUpdated(this);}}};f.AuGdsQdInteractiveTableView.prototype.getTableConfig=function(){return this.m_tableConfig;};f.AuGdsQdInteractiveTableView.prototype.getApplication=function(){return this.m_application;};f.AuGdsQdInteractiveTableView.prototype.getSelectedMeasure=function(){return this.m_selectedMeasure;};f.AuGdsQdInteractiveTableView.prototype.isOnHeaderRows=function(){return this.m_onHeaderRows;};f.AuGdsQdInteractiveTableView.prototype.isOnHeaderColumns=function(){return this.m_onHeaderColumns;};f.AuGdsQdInteractiveTableView.prototype.isOnDataRows=function(){return this.m_onDataRows;};f.AuGdsQdInteractiveTableView.prototype.isOnDataColumns=function(){return this.m_onDataColumns;};f.AuGdsQdInteractiveTableView.prototype.isIsMultiSelectWithGaps=function(){return this.m_isMultiSelectWithGaps;};f.AuGdsQdInteractiveTableView.prototype.getRowDimensionsLastSelected=function(){return this.m_rowDimensionsLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getColumnDimensionsLastSelected=function(){return this.m_columnDimensionsLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getRowDimensionsAllSelected=function(){return this.m_rowDimensionsAllSelected;};f.AuGdsQdInteractiveTableView.prototype.getColumnDimensionsAllSelected=function(){return this.m_columnDimensionsAllSelected;};f.AuGdsQdInteractiveTableView.prototype.getRowTuplesLastSelected=function(){return this.m_rowTuplesLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getColumnTuplesLastSelected=function(){return this.m_columnTuplesLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getRowTuplesAllSelected=function(){return this.m_rowTuplesAllSelected;};f.AuGdsQdInteractiveTableView.prototype.getColumnTuplesAllSelected=function(){return this.m_columnTuplesAllSelected;};f.AuGdsQdInteractiveTableView.prototype.getRowTupleElementsLastSelected=function(){return this.m_rowTupleElementsLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getColumnTupleElementsLastSelected=function(){return this.m_columnTupleElementsLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getRowTupleElementsAllSelected=function(){return this.m_rowTupleElementsAllSelected;};f.AuGdsQdInteractiveTableView.prototype.getColumnTupleElementsAllSelected=function(){return this.m_columnTupleElementsAllSelected;};f.AuGdsQdInteractiveTableView.prototype.getSelectedColumnTupleFieldName=function(){return this.m_selectedColumnTupleFieldName;};f.AuGdsQdInteractiveTableView.prototype.getSelectedRowTupleFieldName=function(){return this.m_selectedRowTupleFieldName;};f.AuGdsQdInteractiveTableView.prototype.getSelectedSecondaryStructureMember=function(){return this.m_selectedSecondaryStructureMember;};f.AuGdsQdInteractiveTableView.prototype.getDimensionsLastSelectedRemapped=function(){var a;if(this.isOnHeaderRows()){a=this.getColumnDimensionsLastSelected();}else if(this.isOnHeaderColumns()&&!this.isOnHeaderRows()){a=this.getRowDimensionsLastSelected();}else{a=null;}var b;if(f.notNull(a)){b=f.XStream.of(a).map(function(o){return this.getQueryManager().getQueryModel().getDimensionByName(o.getName());}.bind(this)).filter(function(d){return!d.isUniversalDisplayHierarchyDimension();}.bind(this)).collect(f.XStreamCollector.toList());}else{b=null;}return b;};f.AuGdsQdInteractiveTableView.prototype.getDimensionsAllSelectedRemapped=function(a){var b;if(this.isOnHeaderRows()){b=this.getColumnDimensionsAllSelected();}else if(this.isOnHeaderColumns()&&!this.isOnHeaderRows()){b=this.getRowDimensionsAllSelected();}else{b=null;}var c;if(f.notNull(b)){c=f.XStream.of(b).map(function(o){return this.getQueryManager().getQueryModel().getDimensionByName(o.getName());}.bind(this)).filter(function(d){return!d.isUniversalDisplayHierarchyDimension()&&d.getSupportedAxesTypes().contains(a);}.bind(this)).collect(f.XStreamCollector.toList());}else{c=null;}return c;};f.AuGdsQdInteractiveTableView.prototype.getSingleSelectedDimension=function(){var a;if(this.isOnHeaderRows()){a=this.getColumnDimensionsAllSelected();}else if(this.isOnHeaderColumns()&&!this.isOnHeaderRows()){a=this.getRowDimensionsAllSelected();}else{a=null;}var b;if(f.notNull(a)){b=f.XStream.of(a).map(function(o){return this.getQueryManager().getQueryModel().getDimensionByName(o.getName());}.bind(this)).filter(function(d){return!d.isUniversalDisplayHierarchyDimension();}.bind(this)).collect(f.XStreamCollector.toList());}else{b=null;}return f.notNull(b)&&b.size()===1?b.get(0):null;};f.AuGdsQdInteractiveTableView.prototype.getSelectedTupleElements=function(){var s;if(this.isOnHeaderRows()){s=this.getColumnTupleElementsAllSelected();}else if(this.isOnHeaderColumns()&&!this.isOnHeaderRows()){s=this.getRowTupleElementsAllSelected();}else{s=null;}return s;};f.AuGdsQdInteractiveTableView.prototype.getColumnFieldNamesLastSelected=function(){return this.m_columnFieldNamesLastSelected;};f.AuGdsQdInteractiveTableView.prototype.getRowFieldNamesLastSelected=function(){return this.m_rowFieldNamesLastSelected;};f.AuGdsQdInteractiveTableView.prototype.isOnEmptyHeaderSection=function(){return this.m_onEmptyHeaderSection;};f.AuGdsQdInteractiveTableView.prototype.onTableDragAndDrop=function(e){var p=e.getParameters();var s=p.getIntegerByKeyExt(f.UiControlEvent.PARAM_SOURCE_COLUMN,-1);var a=p.getIntegerByKeyExt(f.UiControlEvent.PARAM_SOURCE_ROW,-1);var t=p.getIntegerByKeyExt(f.UiControlEvent.PARAM_TARGET_COLUMN,-1);var b=p.getIntegerByKeyExt(f.UiControlEvent.PARAM_TARGET_ROW,-1);var c=p.getBooleanByKey(f.UiControlEvent.PARAM_BEFORE_CELL);var r=e.getControl().getCustomObject();var q=this.m_queryManager.getQueryModel();var d=this.getFieldName(r,s,a);var g=this.getFieldName(r,t,b);var h=q.getFieldByName(d);var i=q.getFieldByName(g);if(f.notNull(h)&&f.notNull(i)){var j=h.getDimension();var k=i.getDimension();var l=j.getAxis();var m=k.getAxis();if(j===k){this.moveFields(c,h,i,j);}else if(l===m&&c&&l.getIndex(k)===l.getIndex(j)+1){this.moveFieldToEnd(h,j);}else if(l===m&&!c&&l.getIndex(k)===l.getIndex(j)-1){this.moveFieldToStart(h,j);}else{this.moveDimensions(c,j,k);}}};f.AuGdsQdInteractiveTableView.prototype.moveFields=function(b,s,t,a){if(a.getFieldLayoutType()===f.FieldLayoutType.ATTRIBUTE_BASED){var c=s.getAttribute();var d=t.getAttribute();var r=a.getResultSetAttributes();var e=c.getResultSetFields();if(c===d){if(s!==t&&e.getIndex(t)>-1){e.removeElement(s);e.insert(e.getIndex(t)+(b?0:1),s);}}else if(b&&r.getIndex(c)===r.getIndex(d)-1){e.removeElement(s);e.add(s);}else if(!b&&r.getIndex(c)===r.getIndex(d)+1){e.removeElement(s);e.insert(0,s);}else{if(c!==d&&r.getIndex(d)>-1){r.removeElement(c);r.insert(r.getIndex(d)+(b?0:1),c);}}}else{var g=a.getResultSetFields();var h=s.getAttribute()!==a.getMainAttribute()||s!==a.getKeyField()&&s!==a.getTextField();var i=t.getAttribute()!==a.getMainAttribute()||t!==a.getKeyField()&&t!==a.getTextField();if(i===h){if(s!==t&&g.getIndex(t)>-1){g.removeElement(s);g.insert(g.getIndex(t)+(b?0:1),s);}}else{g.removeElement(s);g.insert(f.AuGdsQdInteractiveTableView.getFirstNonMainAttributeFieldIndex(a,g),s);}}this.updateTable();};f.AuGdsQdInteractiveTableView.prototype.moveFieldToEnd=function(s,a){if(a.getFieldLayoutType()===f.FieldLayoutType.ATTRIBUTE_BASED){var b=s.getAttribute();if(b!==a.getMainAttribute()){var r=a.getResultSetAttributes();r.removeElement(b);r.add(b);}var c=b.getResultSetFields();c.removeElement(s);c.add(s);}else{var d=a.getResultSetFields();d.removeElement(s);if(s.getAttribute()!==a.getMainAttribute()||s!==a.getKeyField()&&s!==a.getTextField()){d.add(s);}else{d.insert(f.AuGdsQdInteractiveTableView.getFirstNonMainAttributeFieldIndex(a,d),s);}}this.updateTable();};f.AuGdsQdInteractiveTableView.prototype.moveFieldToStart=function(s,a){if(a.getFieldLayoutType()===f.FieldLayoutType.ATTRIBUTE_BASED){var b=s.getAttribute();if(b!==a.getMainAttribute()){var r=a.getResultSetAttributes();r.removeElement(b);r.insert(r.get(0)===a.getMainAttribute()?1:0,b);}var c=b.getResultSetFields();c.removeElement(s);c.insert(0,s);}else{var d=a.getResultSetFields();d.removeElement(s);if(s.getAttribute()!==a.getMainAttribute()||s!==a.getKeyField()&&s!==a.getTextField()){d.insert(f.AuGdsQdInteractiveTableView.getFirstNonMainAttributeFieldIndex(a,d),s);}else{d.add(s);}}this.updateTable();};f.AuGdsQdInteractiveTableView.prototype.moveDimensions=function(b,s,t){var a=t.getAxis();if(s!==t&&a.getIndex(t)>-1){s.getAxis().removeElement(s);var c=a.getIndex(t)+(b?0:1);a.insert(c,s);this.updateTable();}};f.AuGdsQdInteractiveTableView.prototype.getFieldName=function(r,c,a){var b=r.getColumnTupleFieldName(a);if(f.isNull(b)){b=r.getRowTupleFieldName(c);}return b;};f.AuGdsQdInteractiveTableView.prototype.togglePauseUpdates=function(){this.m_updatesPaused=!this.m_updatesPaused;if(!this.m_updatesPaused){if(this.m_pendingUpdates){this.m_sacTable.setBusy(true);this.updateTable();}else if(this.m_pendingScrollPoint>-1){this.m_sacTable.setBusy(true);this.reschedulePendingScroll(this.m_pendingScrollPoint);}else{this.checkPendingReRendering();}this.m_pendingUpdates=false;this.m_pendingScrollPoint=-1;}else{this.cancelProcessing();}return this.m_updatesPaused;};f.AuGdsQdInteractiveTableView.prototype.isSyncActionProcessing=function(){return f.notNull(this.m_activeSynchronizer);};f.AuGdsQdInteractiveTableView.prototype.cancelProcessing=function(){this.cancelPendingUpdates();this.cancelUpdates();this.m_sacTable.setBusy(false);};f.AuGdsQdInteractiveTableView.prototype.cancelUpdates=function(){if(f.notNull(this.m_activeSynchronizer)){try{var s=this.m_activeSynchronizer;this.m_activeSynchronizer=null;s.cancelSynchronization();}catch(t){f.XLogger.println(f.XException.getStackTrace(t,0));}}};f.AuGdsQdInteractiveTableView.prototype.rescheduleTableUpdate=function(){this.cancelPendingUpdates();this.cancelPendingScrolls();var n=null;this.m_pendingTableUpdates=f.AuGdsLambdaSyncAction.create(this.getApplication().getSession(),n,function(){this.m_canceledUpdate=true;this.cancelUpdates();this.m_rescheduled=true;this.updateTable();this.m_rescheduled=false;return f.XBooleanValue.create(true);}.bind(this),1000);this.m_pendingTableUpdates.attachListener(f.AuGdsLambdaSyncListener.create(function(m,r){if(!m.hasErrors()){this.m_pendingTableUpdates=null;}return f.XBooleanValue.create(true);}.bind(this)),f.ListenerType.SYNC_LISTENER,null);this.m_pendingTableUpdates.processSyncAction(f.SyncType.NON_BLOCKING,null,null);};f.AuGdsQdInteractiveTableView.prototype.reschedulePendingScroll=function(r){if(!this.m_updatesPaused){this.m_pendingScrollPoint=-1;var n=f.XMath.max(0,r-this.m_rowsWindowSize*2);var a=this.m_renderer.getIndexOfFirstUndefinedRowAfter(n);var b=f.XMath.min(this.m_dataRowsCountTotal,r+this.m_rowsWindowSize*2);var c=this.m_renderer.getIndexOfLastUndefinedRowBefore(b);if(c>=a&&c-a<this.m_rowsWindowSize*3){if(c===b){c=this.m_renderer.getIndexOfLastUndefinedRowBefore(f.XMath.min(this.m_dataRowsCountTotal-1,a+this.m_rowsWindowSize*3));}if(a===n){a=this.m_renderer.getIndexOfFirstUndefinedRowAfter(f.XMath.max(0,c-this.m_rowsWindowSize*3));}}if(a<=b&&c>=n&&a<=c&&a<this.m_dataRowsCountTotal&&c<this.m_dataRowsCountTotal&&a>-1&&c>-1){var s=r-2*this.m_rowsWindowSize;var d=r+2*this.m_rowsWindowSize;if(a<d&&a>s||c<d&&c>s||a<s&&c>d){this.m_sacTable.setBusy(true);}this.m_newMin=a;this.m_newMax=c;if(f.isNull(this.m_pendingScrolls)||a+this.m_rowsWindowSize>this.m_scrollWindowMax||c-this.m_rowsWindowSize<this.m_scrollWindowMin){this.m_scrollWindowMin=a;this.m_scrollWindowMax=c;var e=null;this.cancelPendingScrolls();this.m_pendingScrolls=f.AuGdsLambdaSyncAction.create(this.getApplication().getSession(),e,function(){if(!this.hasPendingTableUpdates()&&!this.isSyncActionProcessing()){this.m_activeSynchronizer=this.m_queryManager.getActiveResultSetContainer();this.m_pendingScrolls=null;this.processQueryExecutionWindow(this.m_newMin,this.m_newMax-this.m_newMin+1,0,this.m_columnsWindowSize);}else{f.XLogger.println(f.XStringUtils.concatenate2("Internal rescheduling to ",f.XInteger.convertToString(r)));this.reschedulePendingScroll(r);}return f.XBooleanValue.create(true);}.bind(this),500);this.m_pendingScrolls.processSyncAction(f.SyncType.NON_BLOCKING,null,null);}}else{this.cancelPendingScrolls();}}else{this.m_pendingScrollPoint=r;}};f.AuGdsQdInteractiveTableView.prototype.cancelPendingScrolls=function(){if(f.notNull(this.m_pendingScrolls)){try{this.m_pendingScrolls.cancelSynchronization();}catch(t){f.XLogger.println(f.XException.getStackTrace(t,0));}this.m_pendingScrolls=null;}};f.AuGdsQdInteractiveTableView.prototype.cancelPendingUpdates=function(){if(f.notNull(this.m_pendingTableUpdates)){try{this.m_pendingTableUpdates.cancelSynchronization();}catch(t){f.XLogger.println(f.XException.getStackTrace(t,0));}this.m_pendingTableUpdates=null;}};f.AuGdsQdInteractiveTableView.prototype.isPauseUpdates=function(){return this.m_updatesPaused;};f.AuGdsQdInteractiveTableView.prototype.getColumnsCountTotal=function(){return this.m_columnsCountTotal;};f.AuGdsQdInteractiveTableView.prototype.getRowsCountTotal=function(){return this.m_rowsCountTotal;};f.AuGdsQdInteractiveTableView.prototype.getColumnsCountLoaded=function(){return this.m_columnsCountLoaded;};f.AuGdsQdInteractiveTableView.prototype.getRowsCountLoaded=function(){return this.m_rowsCountLoaded;};f.AuGdsQdInteractiveTableView.prototype.getColumnsWindowSize=function(){return this.m_columnsWindowSize;};f.AuGdsQdInteractiveTableView.prototype.setColumnsWindowSize=function(c){this.m_columnsWindowSize=c;};f.AuGdsQdInteractiveTableView.prototype.getRowsWindowSize=function(){return this.m_rowsWindowSize;};f.AuGdsQdInteractiveTableView.prototype.setRowsWindowSize=function(r){this.m_rowsWindowSize=r;};f.AuGdsQdInteractiveTableView.prototype.getMaxRowsWindowSize=function(){return this.m_maxRowsWindowSize;};f.AuGdsQdInteractiveTableView.prototype.setMaxRowsWindowSize=function(m){this.m_maxRowsWindowSize=m;};f.AuGdsQdInteractiveTableView.prototype.onScrollLoad=function(e){var s=f.XMath.div(e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_SCROLL_TOP),1000)+1;var t=f.XMath.div(this.m_renderer.getTableJson().getIntegerByKey(f.SacTableConstants.TD_N_TOTAL_HEIGHT),1000)+1;var r=f.XMath.div(this.m_rowsCountTotal*s,t);this.reschedulePendingScroll(r);this.m_sacTable.setModelJson(this.m_renderer.reRenderTitleAndGenericSettings(false));};f.AuGdsQdInteractiveTableView.prototype.checkPendingReRendering=function(){var r=true;if(this.m_pendingFullTableReRendering){this.m_sacTable.setBusy(true);this.m_renderer.setGridConfigration(this.m_tableConfig.serializeToStructure());this.m_renderer.reRenderTotalFormatting();this.m_sacTable.setModelJson(this.m_renderer.reRenderTitleAndGenericSettings(true));}else if(this.m_pendingTableReConfiguration){this.m_renderer.setGridConfigration(this.m_tableConfig.serializeToStructure());this.m_sacTable.setModelJson(this.m_renderer.reRenderTitleAndGenericSettings(false));}else{r=false;}this.m_pendingFullTableReRendering=false;this.m_pendingTableReConfiguration=false;return r;};f.AuGdsQdInteractiveTableView.prototype.getDataRowsCountTotal=function(){return this.m_dataRowsCountTotal;};f.AuGdsQdInteractiveTableView.prototype.getDataColumnsCountTotal=function(){return this.m_dataColumnsCountTotal;};f.AuProteusEngine=function(){};f.AuProteusEngine.prototype=new f.XObjectExt();f.AuProteusEngine.prototype._ff_c="AuProteusEngine";f.AuProteusEngine.HTML_TEMPLATE="<!DOCTYPE html>\r\n<html>\r\n   <head>\r\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"/>\r\n      <meta charset=\"UTF-8\">\r\n      <title>Proteus output</title>\r\n      <script\r\n         id=\"sap-ui-bootstrap\"\r\n         src=\"https://sapui5.hana.ondemand.com/resources/sap-ui-core.js\"\r\n         data-sap-ui-theme=\"sap_bluecrystal\"\r\n         data-sap-ui-libs=\"sap.m\"\r\n         data-sap-ui-compatVersion=\"edge\"\r\n         data-sap-ui-preload=\"async\"\r\n         data-sap-ui-resourceroots='{\r\n            \"sap.ui.demo.wt\": \"./\"\r\n         }' >\r\n      </script>\r\n      <script>\r\n         sap.ui.getCore().attachInit(function () {\r\n            sap.ui.xmlview({\r\n               viewName : \"sap.ui.demo.wt.views.Main\"\r\n            }).placeAt(\"content\");\r\n         });\r\n      </script>\r\n   </head>\r\n   <body class=\"sapUiBody\" id=\"content\">\r\n   </body>\r\n</html>\r\n";f.AuProteusEngine.createEngine=function(q){var n=new f.AuProteusEngine();n.setupEngine(q);return n;};f.AuProteusEngine.prototype.m_quasarJsonContent=null;f.AuProteusEngine.prototype.m_parsingErrors=null;f.AuProteusEngine.prototype.m_xmlViewContent=null;f.AuProteusEngine.prototype.m_parsingDepth=0;f.AuProteusEngine.prototype.releaseObject=function(){this.m_quasarJsonContent=null;this.m_xmlViewContent=null;this.m_parsingErrors=f.XObjectExt.release(this.m_parsingErrors);f.XObjectExt.prototype.releaseObject.call(this);};f.AuProteusEngine.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.AuProteusEngine.prototype.convert=function(){this.m_xmlViewContent=this.parseDocument();};f.AuProteusEngine.prototype.getHtmlFileContent=function(){return f.AuProteusEngine.HTML_TEMPLATE;};f.AuProteusEngine.prototype.getXmlViewContent=function(){if(f.isNull(this.m_xmlViewContent)){this.m_xmlViewContent=this.parseDocument();}return this.m_xmlViewContent;};f.AuProteusEngine.prototype.setQuasarDocumentJson=function(q){this.m_quasarJsonContent=q;};f.AuProteusEngine.prototype.getParsingErrors=function(){return this.m_parsingErrors;};f.AuProteusEngine.prototype.hasErrors=function(){return this.m_parsingErrors.size()>0;};f.AuProteusEngine.prototype.setupEngine=function(q){this.m_quasarJsonContent=q;this.m_parsingErrors=f.XListOfString.create();};f.AuProteusEngine.prototype.parseDocument=function(){this.m_parsingErrors.clear();if(f.notNull(this.m_quasarJsonContent)){var s=f.XStringBuffer.create();s.appendLine("<mvc:View");s.appendLine("\txmlns=\"sap.m\"");s.appendLine("\txmlns:core=\"sap.ui.core\"");s.appendLine("\txmlns:mvc=\"sap.ui.core.mvc\">");var c=this.m_quasarJsonContent.getStructureByKey(f.UiConstants.QSA_CONTENT);if(f.isNull(c)){c=this.m_quasarJsonContent;}this.m_parsingDepth=1;this.parseControl(c,s,null);s.appendLine("</mvc:View>");return s.toString();}else{this.addParsingError("Missing quasar json document!");}return null;};f.AuProteusEngine.prototype.parseControl=function(c,s,a){var b=c.getStringByKey(f.UiConstants.QSA_CTYPE);var u=f.UiType.lookupUiType(b);if(f.isNull(u)&&f.notNull(a)){u=a;}if(f.notNull(u)){var d=this.getUi5NameForUiType(u);if(f.XStringUtils.isNotNullAndNotEmpty(d)){var h=false;var e=f.XStringUtils.leftPad("","\t",this.m_parsingDepth);s.append(f.XStringUtils.concatenate2(e,"<"));s.append(d);var k=c.getKeysAsReadOnlyListOfString();for(var i=0;i<k.size();i++){var g=k.get(i);var t=f.UiProperty.lookup(g);var v=f.UiUtils.getElementAsString(c,g);if(f.notNull(t)&&t!==f.UiProperty.ID){this.parseProperty(t,v,s);}var j=f.UiAggregation.lookup(g);if(f.notNull(j)){if(h===false){this.m_parsingDepth++;h=true;s.appendLine(">");}var l=c.getListByKey(g);if(f.notNull(l)&&l.size()>0){for(var m=0;m<l.size();m++){var n=l.getStructureAt(m);this.parseControl(n,s,u.getDefaultItemType());}this.m_parsingDepth--;}}}if(h){s.append(f.XStringUtils.concatenate2(e,"<"));s.append("/");s.append(d);s.appendLine(">");}else{s.appendLine("/>");}}else{this.addParsingError(f.XStringUtils.concatenate2("Cannot parse control: ",b));}}else{this.addParsingError(f.XStringUtils.concatenate2("Cannot find control: ",b));}};f.AuProteusEngine.prototype.parseProperty=function(u,v,s){var a=this.getUi5PropertyForUiProperty(u);var p=v;if(f.XStringUtils.isNotNullAndNotEmpty(a)){if(u===f.UiProperty.ICON&&f.XString.startsWith(v,"http")===false){p=f.XStringUtils.concatenate2("sap-icon://",p);}s.append(" ");s.append(a);s.append("=\"");s.append(p);s.append("\"");}else{this.addParsingError(f.XStringUtils.concatenate2("Cannot parse property: ",u.getName()));}};f.AuProteusEngine.prototype.getUi5NameForUiType=function(u){if(u===f.UiType.LABEL){return"Label";}else if(u===f.UiType.BUTTON){return"Button";}else if(u===f.UiType.TEXT){return"Text";}else if(u===f.UiType.INPUT){return"Input";}else if(u===f.UiType.DROPDOWN){return"ActionSelect";}else if(u===f.UiType.DROPDOWN_ITEM){return"core:ListItem";}else if(u===f.UiType.FLEX_LAYOUT){return"FlexBox";}return null;};f.AuProteusEngine.prototype.getUi5PropertyForUiProperty=function(u){if(u===f.UiProperty.NAME){return"id";}else if(u===f.UiProperty.TEXT){return"text";}else if(u===f.UiProperty.ICON){return"icon";}else if(u===f.UiProperty.PLACEHOLDER){return"placeholder";}else if(u===f.UiProperty.WIDTH){return"width";}else if(u===f.UiProperty.HEIGHT){return"height";}else if(u===f.UiProperty.DIRECTION){return"direction";}return null;};f.AuProteusEngine.prototype.addParsingError=function(p){this.m_parsingErrors.add(p);};f.AuGdsQueryDesignerDocument=function(){};f.AuGdsQueryDesignerDocument.prototype=new f.AuGdsDfDocument();f.AuGdsQueryDesignerDocument.prototype._ff_c="AuGdsQueryDesignerDocument";f.AuGdsQueryDesignerDocument.MENU_BAR_PANELS_BTN="gdsViewMenuBarBtn";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_BTN="gdsDataSourceMenuBarBtn";f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU="gdsViewMenuBarMenu";f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU_FILTER_PANEL="gdsViewMenuBarMenuFilterPanel";f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU_DESIGNER_PANELS="gdsViewMenuBarMenuDesignerPanels";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU="gdsDataSourceMenuBarMenu";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_CHANGE_DATA_SOURCE="gdsMenuBarDataSourceMenuChangeDataSource";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_DATA_SOURCE_INFO="gdsMenuBarDataSourceMenuDataSourceInfo";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_RESET="gdsMenuBarDataSourceMenuReset";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_REFRESH="gdsMenuBarDataSourceMenuRefresh";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_PAUSE_UPDATES="gdsMenuBarDataSourceMenuPauseUpdates";f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_VARIABLES="gdsMenuBarDataSourceMenuVariables";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_SELECT_DATA_SOURCE="gdsQuickActionToolbarSelectDataSource";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_RESET="gdsQuickActionToolbarReset";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_REFRESH="gdsQuickActionToolbarRefresh";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_VARIABLES="gdsQuickActionToolbarVariables";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_LAYOUT="gdsQuickActionToolbarLayout";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_UDH_ROW="gdsQuickActionToolbarUdhRow";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_UP="gdsQuickActionToolbarMoveUp";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_LEFT="gdsQuickActionToolbarMoveLeft";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_DOWN="gdsQuickActionToolbarMoveDown";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_RIGHT="gdsQuickActionToolbarMoveRight";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_COL="gdsQuickActionToolbarCol";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_ROW="gdsQuickActionToolbarRow";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FREE="gdsQuickActionToolbarFree";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FILTER_CLEAR="gdsQuickActionToolbarFilterClear";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FILTER_ADD="gdsQuickActionToolbarFilterAdd";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FILTER_SELECTION="gdsQuickActionToolbarFilterSelection";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_DIMENSION="gdsQuickActionToolbarDimension";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_PAUSE_UPDATES="gdsQuickActionToolbarPauseUpdates";f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_SHOW_DESIGNER="gdsQuickActionToolbarShowDesigner";f.AuGdsQueryDesignerDocument.GDF_QD_FILE_SYSTEM_KEY="system";f.AuGdsQueryDesignerDocument.GDF_QD_FILE_DATA_SOURCE_KEY="dataSource";f.AuGdsQueryDesignerDocument.GDF_QD_FILE_INA_REPO_KEY="inaRepo";f.AuGdsQueryDesignerDocument.GDF_QD_FILE_TABLE_CFG="tableCfg";f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_SEPARATOR=",";f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_KEY="galaxyDataStudio_queryDesigner_recentFiles";f.AuGdsQueryDesignerDocument.GDS_QD_AUTO_OPEN_NAVIGATION_PANEL_KEY="galaxyDataStudio_queryDesigner_autoOpenNavigationPanel";f.AuGdsQueryDesignerDocument.GDS_QD_AUTO_OPEN_FILTER_PANEL_KEY="galaxyDataStudio_queryDesigner_autoOpenFilterPanel";f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_DOC_NAME_KEY="doc_name";f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_TABLE_TITLE_KEY="table_title";f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_ROWS_PAGE_SIZE="table_rows_page_size";f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_COLUMNS_PAGE_SIZE="table_columns_page_size";f.AuGdsQueryDesignerDocument.CONTENT_ACTIVITY_INDICATOR="gdsContentActivityIndicator";f.AuGdsQueryDesignerDocument.create=function(c,a,s,d,l){var n=new f.AuGdsQueryDesignerDocument();n.setupInternal(c,a,s,d,l);return n;};f.AuGdsQueryDesignerDocument.prototype.m_contentLayout=null;f.AuGdsQueryDesignerDocument.prototype.m_system=null;f.AuGdsQueryDesignerDocument.prototype.m_dataSource=null;f.AuGdsQueryDesignerDocument.prototype.m_inaRepoJson=null;f.AuGdsQueryDesignerDocument.prototype.m_tableConfigJson=null;f.AuGdsQueryDesignerDocument.prototype.m_messageManager=null;f.AuGdsQueryDesignerDocument.prototype.m_queryManager=null;f.AuGdsQueryDesignerDocument.prototype.m_interactiveTable=null;f.AuGdsQueryDesignerDocument.prototype.m_homeView=null;f.AuGdsQueryDesignerDocument.prototype.m_filterPanel=null;f.AuGdsQueryDesignerDocument.prototype.m_navigationPanel=null;f.AuGdsQueryDesignerDocument.prototype.m_builderPanel=null;f.AuGdsQueryDesignerDocument.prototype.m_variableDialog=null;f.AuGdsQueryDesignerDocument.prototype.m_autoOpenDesignerPanels=false;f.AuGdsQueryDesignerDocument.prototype.m_autoOpenFilterPanel=false;f.AuGdsQueryDesignerDocument.prototype.m_toolbarSelectDataSourceBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarResetBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarRefreshBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarVariablesBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarLayoutBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarUdhRowBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarMoveLeftBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarMoveUpBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarMoveRightBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarMoveDownBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarTableColumnBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarTableRowBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarTableFreeBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarClearFilterBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarAddFilterBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarFilterSelectionBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarDimensionSettingsBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_pauseUpdatesToggleBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_toolbarDesignerPanelToggleBtn=null;f.AuGdsQueryDesignerDocument.prototype.m_recentFiles=null;f.AuGdsQueryDesignerDocument.prototype.releaseObject=function(){this.m_recentFiles=f.XObjectExt.release(this.m_recentFiles);this.m_toolbarSelectDataSourceBtn=f.XObjectExt.release(this.m_toolbarSelectDataSourceBtn);this.m_toolbarResetBtn=f.XObjectExt.release(this.m_toolbarResetBtn);this.m_toolbarRefreshBtn=f.XObjectExt.release(this.m_toolbarRefreshBtn);this.m_toolbarVariablesBtn=f.XObjectExt.release(this.m_toolbarVariablesBtn);this.m_toolbarLayoutBtn=f.XObjectExt.release(this.m_toolbarLayoutBtn);this.m_toolbarUdhRowBtn=f.XObjectExt.release(this.m_toolbarUdhRowBtn);this.m_toolbarMoveLeftBtn=f.XObjectExt.release(this.m_toolbarMoveLeftBtn);this.m_toolbarMoveUpBtn=f.XObjectExt.release(this.m_toolbarMoveUpBtn);this.m_toolbarMoveRightBtn=f.XObjectExt.release(this.m_toolbarMoveRightBtn);this.m_toolbarMoveDownBtn=f.XObjectExt.release(this.m_toolbarMoveDownBtn);this.m_toolbarTableColumnBtn=f.XObjectExt.release(this.m_toolbarTableColumnBtn);this.m_toolbarTableRowBtn=f.XObjectExt.release(this.m_toolbarTableRowBtn);this.m_toolbarTableFreeBtn=f.XObjectExt.release(this.m_toolbarTableFreeBtn);this.m_toolbarClearFilterBtn=f.XObjectExt.release(this.m_toolbarClearFilterBtn);this.m_toolbarAddFilterBtn=f.XObjectExt.release(this.m_toolbarAddFilterBtn);this.m_toolbarFilterSelectionBtn=f.XObjectExt.release(this.m_toolbarFilterSelectionBtn);this.m_toolbarDimensionSettingsBtn=f.XObjectExt.release(this.m_toolbarDimensionSettingsBtn);this.m_pauseUpdatesToggleBtn=f.XObjectExt.release(this.m_pauseUpdatesToggleBtn);this.m_toolbarDesignerPanelToggleBtn=f.XObjectExt.release(this.m_toolbarDesignerPanelToggleBtn);this.m_contentLayout=f.XObjectExt.release(this.m_contentLayout);this.m_filterPanel=f.XObjectExt.release(this.m_filterPanel);this.m_navigationPanel=f.XObjectExt.release(this.m_navigationPanel);this.m_builderPanel=f.XObjectExt.release(this.m_builderPanel);this.m_homeView=f.XObjectExt.release(this.m_homeView);this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);f.AuGdsDfDocument.prototype.releaseObject.call(this);};f.AuGdsQueryDesignerDocument.prototype.setupInternal=function(c,a,s,d,l){this.setupDocument(c,l);this.setTitle("Home");this.setIcon("home");this.setFile(a);this.m_system=s;this.m_dataSource=d;this.initSettings();this.prepareMainMenu();this.preapareToolbarItems();this.initInitialView();};f.AuGdsQueryDesignerDocument.prototype.initSettings=function(){this.initRecentFiles();this.m_autoOpenDesignerPanels=this.getUserSettings().getBooleanByKeyExt(f.AuGdsQueryDesignerDocument.GDS_QD_AUTO_OPEN_NAVIGATION_PANEL_KEY,false);this.m_autoOpenFilterPanel=this.getUserSettings().getBooleanByKeyExt(f.AuGdsQueryDesignerDocument.GDS_QD_AUTO_OPEN_FILTER_PANEL_KEY,false);};f.AuGdsQueryDesignerDocument.prototype.prepareMainMenu=function(){this.addMenuBarButton(f.AuGdsQueryDesignerDocument.MENU_BAR_PANELS_BTN,null,"Panels",null,this);this.addMenuBarButton(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_BTN,null,"Data Source",null,this);};f.AuGdsQueryDesignerDocument.prototype.preapareToolbarItems=function(){this.m_toolbarSelectDataSourceBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarSelectDataSourceBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_SELECT_DATA_SOURCE);this.m_toolbarSelectDataSourceBtn.setTooltip("Select Data Source");this.m_toolbarSelectDataSourceBtn.setIcon("database");this.m_toolbarSelectDataSourceBtn.registerOnPress(this);this.m_toolbarSelectDataSourceBtn.setEnabled(true);this.addToolbarItem(this.m_toolbarSelectDataSourceBtn);this.m_toolbarResetBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarResetBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_RESET);this.m_toolbarResetBtn.setTooltip("Reset");this.m_toolbarResetBtn.setIcon("reset");this.m_toolbarResetBtn.registerOnPress(this);this.m_toolbarResetBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarResetBtn);this.m_toolbarRefreshBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarRefreshBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_REFRESH);this.m_toolbarRefreshBtn.setTooltip("Refresh the data from backend");this.m_toolbarRefreshBtn.setIcon("refresh");this.m_toolbarRefreshBtn.registerOnPress(this);this.m_toolbarRefreshBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarRefreshBtn);this.m_toolbarVariablesBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarVariablesBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_VARIABLES);this.m_toolbarVariablesBtn.setTooltip("Set Variables");this.m_toolbarVariablesBtn.setIcon("customize");this.m_toolbarVariablesBtn.registerOnPress(this);this.m_toolbarVariablesBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarVariablesBtn);this.addToolbarSectionSeparator();this.m_toolbarLayoutBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarLayoutBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_LAYOUT);this.m_toolbarLayoutBtn.setTooltip("Layout ...");this.m_toolbarLayoutBtn.setIcon("chart-axis");this.m_toolbarLayoutBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openLayoutDialog(this.getApplication(),this.m_queryManager.getQueryModel(),function(){this.m_interactiveTable.updateTable();}.bind(this));}.bind(this)));this.m_toolbarLayoutBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarLayoutBtn);this.m_toolbarUdhRowBtn=this.getGenesis().newControl(f.UiType.TOGGLE_BUTTON);this.m_toolbarUdhRowBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_UDH_ROW);this.m_toolbarUdhRowBtn.setTooltip("Activate UDH on rows");this.m_toolbarUdhRowBtn.setIcon("tree");this.m_toolbarUdhRowBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){this.m_interactiveTable.toggleUdh(f.AxisType.ROWS,!this.m_queryManager.getQueryModel().getUniversalDisplayHierarchies().getByAxisType(f.AxisType.ROWS).isActive());}.bind(this)));this.m_toolbarUdhRowBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarUdhRowBtn);this.addToolbarSectionSeparator();this.m_toolbarMoveUpBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarMoveUpBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_UP);this.m_toolbarMoveUpBtn.setTooltip("Move up ...");this.m_toolbarMoveUpBtn.setIcon("arrow-top");this.m_toolbarMoveUpBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions(this.m_interactiveTable.getDimensionsLastSelectedRemapped(),-1);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarMoveUpBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarMoveUpBtn);this.m_toolbarMoveLeftBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarMoveLeftBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_LEFT);this.m_toolbarMoveLeftBtn.setTooltip("Move left ...");this.m_toolbarMoveLeftBtn.setIcon("arrow-left");this.m_toolbarMoveLeftBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions(this.m_interactiveTable.getDimensionsLastSelectedRemapped(),-1);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarMoveLeftBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarMoveLeftBtn);this.m_toolbarMoveDownBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarMoveDownBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_DOWN);this.m_toolbarMoveDownBtn.setTooltip("Move down ...");this.m_toolbarMoveDownBtn.setIcon("arrow-bottom");this.m_toolbarMoveDownBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions(this.m_interactiveTable.getDimensionsLastSelectedRemapped(),+1);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarMoveDownBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarMoveDownBtn);this.m_toolbarMoveRightBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarMoveRightBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_MOVE_RIGHT);this.m_toolbarMoveRightBtn.setTooltip("Move right ...");this.m_toolbarMoveRightBtn.setIcon("arrow-right");this.m_toolbarMoveRightBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveDimensions(this.m_interactiveTable.getDimensionsLastSelectedRemapped(),+1);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarMoveRightBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarMoveRightBtn);this.addToolbarSectionSeparator();this.m_toolbarTableColumnBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarTableColumnBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_COL);this.m_toolbarTableColumnBtn.setTooltip("Move to columns");this.m_toolbarTableColumnBtn.setIcon("table-column");this.m_toolbarTableColumnBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis(this.m_queryManager,this.m_interactiveTable.getDimensionsAllSelectedRemapped(f.AxisType.COLUMNS),f.AxisType.COLUMNS);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarTableColumnBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarTableColumnBtn);this.m_toolbarTableRowBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarTableRowBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_ROW);this.m_toolbarTableRowBtn.setTooltip("Move to rows");this.m_toolbarTableRowBtn.setIcon("table-row");this.m_toolbarTableRowBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis(this.m_queryManager,this.m_interactiveTable.getDimensionsAllSelectedRemapped(f.AxisType.ROWS),f.AxisType.ROWS);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarTableRowBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarTableRowBtn);this.m_toolbarTableFreeBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarTableFreeBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FREE);this.m_toolbarTableFreeBtn.setTooltip("Remove from axis");this.m_toolbarTableFreeBtn.setIcon("delete");this.m_toolbarTableFreeBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.moveToAxis(this.m_queryManager,this.m_interactiveTable.getDimensionsAllSelectedRemapped(f.AxisType.FREE),f.AxisType.FREE);this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarTableFreeBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarTableFreeBtn);this.addToolbarSectionSeparator();this.m_toolbarClearFilterBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarClearFilterBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FILTER_CLEAR);this.m_toolbarClearFilterBtn.setTooltip("Clear filter");this.m_toolbarClearFilterBtn.setIcon("clear-filter");this.m_toolbarClearFilterBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.clearFilter(this.m_queryManager,this.m_interactiveTable.getSingleSelectedDimension());this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarClearFilterBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarClearFilterBtn);this.m_toolbarAddFilterBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarAddFilterBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FILTER_ADD);this.m_toolbarAddFilterBtn.setTooltip("Add filter");this.m_toolbarAddFilterBtn.setIcon("add-filter");this.m_toolbarAddFilterBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.openFilterDialog(this.getApplication(),this.m_queryManager,this.m_interactiveTable.getSingleSelectedDimension(),function(){this.m_interactiveTable.updateTable();}.bind(this));}.bind(this)));this.m_toolbarAddFilterBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarAddFilterBtn);this.m_toolbarFilterSelectionBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarFilterSelectionBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_FILTER_SELECTION);this.m_toolbarFilterSelectionBtn.setTooltip("Filter selection");this.m_toolbarFilterSelectionBtn.setIcon("filter");this.m_toolbarFilterSelectionBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){f.AuGdsQdInteractiveTableContextActionsHelper.filterOnSelection(this.m_queryManager,this.m_interactiveTable.getSelectedTupleElements().getValuesAsReadOnlyList());this.m_interactiveTable.updateTable();}.bind(this)));this.m_toolbarFilterSelectionBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarFilterSelectionBtn);this.addToolbarSectionSeparator();this.m_toolbarDimensionSettingsBtn=this.getGenesis().newControl(f.UiType.BUTTON);this.m_toolbarDimensionSettingsBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_DIMENSION);this.m_toolbarDimensionSettingsBtn.setTooltip("Dimension settings ...");this.m_toolbarDimensionSettingsBtn.setIcon("dimension");this.m_toolbarDimensionSettingsBtn.registerOnPress(f.AuGdsLambdaListener.create(function(){var d=this.m_interactiveTable.getSingleSelectedDimension();f.DdEntryPoint.createEntryPoint(this.m_interactiveTable.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,f.AuGdsLambdaDialogCloseListener.create(function(){this.m_interactiveTable.updateTable();}.bind(this),null));}.bind(this)));this.m_toolbarDimensionSettingsBtn.setEnabled(false);this.addToolbarItem(this.m_toolbarDimensionSettingsBtn);this.addToolbarSectionSeparator();this.m_pauseUpdatesToggleBtn=this.getGenesis().newControl(f.UiType.TOGGLE_BUTTON);this.m_pauseUpdatesToggleBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_PAUSE_UPDATES);this.m_pauseUpdatesToggleBtn.setTooltip("Pause updates");this.m_pauseUpdatesToggleBtn.setIcon("pause");this.m_pauseUpdatesToggleBtn.registerOnPress(this);this.m_pauseUpdatesToggleBtn.setEnabled(false);this.addToolbarItem(this.m_pauseUpdatesToggleBtn);this.m_toolbarDesignerPanelToggleBtn=this.getGenesis().newControl(f.UiType.TOGGLE_BUTTON);this.m_toolbarDesignerPanelToggleBtn.setName(f.AuGdsQueryDesignerDocument.QUICK_ACTION_TOOLBAR_SHOW_DESIGNER);this.m_toolbarDesignerPanelToggleBtn.setTooltip("Show the designer panel");this.m_toolbarDesignerPanelToggleBtn.setText("Designer");this.m_toolbarDesignerPanelToggleBtn.setIcon("wrench");this.m_toolbarDesignerPanelToggleBtn.registerOnPress(this);this.m_toolbarDesignerPanelToggleBtn.setMargin(f.UiCssBoxEdges.create("0px 0px 0px auto"));this.m_toolbarDesignerPanelToggleBtn.setVisible(false);this.addToolbarItem(this.m_toolbarDesignerPanelToggleBtn);};f.AuGdsQueryDesignerDocument.prototype.setupQueryManager=function(){this.m_messageManager=f.MessageManagerSimple.createMessageManager();if(f.XStringUtils.isNullOrEmpty(this.m_system)||f.XStringUtils.isNullOrEmpty(this.m_dataSource)){this.setStatusError("Please specify a data source!");return;}this.setContentBusy("Loading query...");this.onBackendRequestStarted();var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_dataSource);s.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsQueryDesignerDocument.prototype.buildUi=function(g){f.AuGdsDfDocument.prototype.buildUi.call(this,g);this.m_contentLayout=g.newControl(f.UiType.FLEX_LAYOUT);this.m_contentLayout.setDirection(f.UiFlexDirection.ROW);this.m_contentLayout.useMaxSpace();g.setRoot(this.m_contentLayout);};f.AuGdsQueryDesignerDocument.prototype.executeUndo=function(){if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable.executeUndo();}};f.AuGdsQueryDesignerDocument.prototype.executeRedo=function(){if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable.executeRedo();}};f.AuGdsQueryDesignerDocument.prototype.getSaveData=function(){var q=null;if(f.notNull(this.m_queryManager)){var i=this.m_queryManager.getQueryModel().serializeToElement(f.QModelFormat.INA_REPOSITORY);var t=f.notNull(this.m_interactiveTable)?this.m_interactiveTable.getTableConfigAsStructure():null;q=f.PrStructure.create();q.putString(f.AuGdsContants.GDF_FILE_DOC_TYPE,f.AuGdsContants.GDF_DOC_TYPE_QUERY_DESIGNER);q.putString(f.AuGdsContants.GDF_FILE_DOC_NAME,this.getDocumentName());q.putString(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_SYSTEM_KEY,this.m_system);q.putString(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_DATA_SOURCE_KEY,this.m_dataSource);q.put(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_INA_REPO_KEY,i);q.put(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_TABLE_CFG,t);}return q;};f.AuGdsQueryDesignerDocument.prototype.hasSaveData=function(){return f.notNull(this.m_queryManager);};f.AuGdsQueryDesignerDocument.prototype.setFile=function(a){f.AuGdsDfDocument.prototype.setFile.call(this,a);};f.AuGdsQueryDesignerDocument.prototype.loadByJsonData=function(j){this.loadQueryDesignerDocFromJson(null,j);};f.AuGdsQueryDesignerDocument.prototype.loadFromFile=function(a){if(f.notNull(a)){if(a.getFileContent()!==null){var j=this.getController().getJsonObjFromLoadedFileContent(a.getFileContent());if(f.notNull(j)){this.loadQueryDesignerDocFromJson(a,j);}}else{a.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);}}};f.AuGdsQueryDesignerDocument.prototype.notifyBecameVisible=function(){if(this.hasFile()){this.getController().updateFileArgument(this.getFile().getVfsUri().getPath());}else if(f.XStringUtils.isNotNullAndNotEmpty(this.m_system)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_dataSource)){this.getController().updateSystemDatasourceArguments(this.m_system,this.m_dataSource);}else{this.getController().clearAllArguments();}};f.AuGdsQueryDesignerDocument.prototype.notifyEnteredBackground=function(){};f.AuGdsQueryDesignerDocument.prototype.canPresentPreferences=function(){return f.notNull(this.m_queryManager);};f.AuGdsQueryDesignerDocument.prototype.presentPreferences=function(){var t=f.notNull(this.m_interactiveTable)?this.m_interactiveTable.getTitle():null;var a=f.UiFormPopup.create(this.getGenesis(),"Query Designer Preferences",this);a.setSubmitButtonText("Save");a.setSubmitButtonIcon("save");a.addInput(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_DOC_NAME_KEY,this.getDocumentName(),"Document name",false,"",null);a.addInput(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_TABLE_TITLE_KEY,t,"Table title",false,"",null);a.addInput(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_ROWS_PAGE_SIZE,"50","Page size for rows",false,"",f.UiInputType.NUMBER).setEditable(false);a.addInput(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_COLUMNS_PAGE_SIZE,"30","Page size for columns",false,"",f.UiInputType.NUMBER).setEditable(false);a.open();};f.AuGdsQueryDesignerDocument.prototype.setTitle=function(t){f.AuGdsDfDocument.prototype.setTitle.call(this,t);if(f.XStringUtils.isNullOrEmpty(t)){if(this.hasFile()){this.setTitle(this.getFile().getVfsUri().getFileName());}else if(f.XStringUtils.isNotNullAndNotEmpty(this.m_system)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_dataSource)){this.setTitle(f.XStringUtils.concatenate3(this.m_system," - ",this.m_dataSource));}else{this.setTitle("Unnamed");}}};f.AuGdsQueryDesignerDocument.prototype.getSaveFileName=function(){var a=f.XStringUtils.concatenate2("unnamned.",f.AuGdsContants.GDF_FILE_EXTENSION);if(this.hasFile()){a=this.getFile().getVfsUri().getFileName();}else if(f.notNull(this.m_queryManager)){a=f.XStringUtils.concatenate3(this.m_system,"_",this.m_queryManager.getQueryModel().getDataSource().getName());a=f.XString.toLowerCase(a);a=f.XStringUtils.concatenate3(a,".",f.AuGdsContants.GDF_FILE_EXTENSION);}return a;};f.AuGdsQueryDesignerDocument.prototype.onFileSavedSuccessfully=function(a){f.AuGdsDfDocument.prototype.onFileSavedSuccessfully.call(this,a);if(f.XStringUtils.isNullOrEmpty(this.getDocumentName())){this.setTitle(a.getVfsUri().getFileName());}this.addRecentFileEntry(a);};f.AuGdsQueryDesignerDocument.prototype.loadFromDataSource=function(s,d){this.m_system=s;this.m_dataSource=d;if(f.XStringUtils.isNotNullAndNotEmpty(this.m_system)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_dataSource)){this.updateQuickActionToolbar();this.setupQueryManager();this.updateTable();}};f.AuGdsQueryDesignerDocument.prototype.initInitialView=function(){if(this.hasFile()){this.loadFromFile(this.getFile());}else if(f.XStringUtils.isNotNullAndNotEmpty(this.m_system)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_dataSource)){this.setTitle(f.XStringUtils.concatenate3(this.m_system," - ",this.m_dataSource));this.setIcon("table-view");this.markDirty();this.setupQueryManager();this.setStatusError(this.m_messageManager.getSummary());this.updateTable();}else{this.showHomeView();}};f.AuGdsQueryDesignerDocument.prototype.showHomeView=function(){this.m_contentLayout.clearItems();this.m_filterPanel=f.XObjectExt.release(this.m_filterPanel);this.m_navigationPanel=f.XObjectExt.release(this.m_navigationPanel);this.m_builderPanel=f.XObjectExt.release(this.m_builderPanel);this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);this.m_queryManager=f.XObjectExt.release(this.m_queryManager);this.m_system=null;this.m_dataSource=null;this.m_inaRepoJson=null;this.m_tableConfigJson=null;if(f.isNull(this.m_homeView)){this.m_homeView=f.AuGdsQdHomeView.create(this.getGenesis(),this);this.reloadRecentFilesList();}this.m_contentLayout.addItem(this.m_homeView.getView());this.setTitle("Home");this.setIcon("home");this.setStatusInfo("Create a new document from a query or open an existing one...");this.updateQuickActionToolbar();};f.AuGdsQueryDesignerDocument.prototype.setContentBusy=function(t){this.resetStatusMessage();var c=this.m_contentLayout.getItemByName(f.AuGdsQueryDesignerDocument.CONTENT_ACTIVITY_INDICATOR);if(f.isNull(c)){this.m_contentLayout.clearItems();if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);}c=this.m_contentLayout.addNewItemOfType(f.UiType.ACTIVITY_INDICATOR);c.useMaxSpace();c.setIconSize(f.UiCssLength.create("1.5rem"));}c.setText(t);};f.AuGdsQueryDesignerDocument.prototype.setCriticalError=function(t){this.m_contentLayout.clearItems();if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);}this.m_contentLayout.addItem(this.getController().getCriticalErrorLabelWithText(t));this.setStatusError("Error");};f.AuGdsQueryDesignerDocument.prototype.updateTable=function(){if(f.isNull(this.m_interactiveTable)){return;}if(f.isNull(this.m_queryManager)){this.setStatusError("No QueryManager.");return;}var a=this.m_queryManager.getActiveResultSetContainer();if(f.isNull(a)){this.setStatusError("Cannot fetch results.");return;}if(a.hasErrors()){this.setStatusError(a.getSummary());return;}this.m_interactiveTable.updateTable();};f.AuGdsQueryDesignerDocument.prototype.updateViews=function(){if(f.isNull(this.m_interactiveTable)){this.m_contentLayout.clearItems();this.m_interactiveTable=f.AuGdsQdInteractiveTableView.create(this.getApplication(),this.m_queryManager,this.getGenesis(),this);this.m_interactiveTable.getView().setWidth(f.UiCssLength.create("100%"));this.m_interactiveTable.getView().setFlex("3 1 60%");this.m_interactiveTable.registerOnSelectionChange(this);this.m_contentLayout.addItem(this.m_interactiveTable.getView());if(f.notNull(this.m_tableConfigJson)){this.m_interactiveTable.setTableConfigFromStructure(this.m_tableConfigJson);this.m_tableConfigJson=null;}}else{this.m_interactiveTable.setQueryManager(this.m_queryManager);}if(f.notNull(this.m_filterPanel)){this.m_filterPanel.setQueryManager(this.m_queryManager);}if(f.notNull(this.m_navigationPanel)){this.m_navigationPanel.setQueryManager(this.m_queryManager);}if(f.notNull(this.m_builderPanel)){this.m_builderPanel.setQueryManager(this.m_queryManager);}if(this.m_autoOpenFilterPanel){this.toggleFilterPanel();}if(this.m_autoOpenDesignerPanels){this.toggleDesignerPanels();}var h=this.m_queryManager.hasInputEnabledVariables();this.m_variableDialog=f.XObjectExt.release(this.m_variableDialog);if(h&&this.m_queryManager.isSubmitNeeded()){this.m_variableDialog=f.VdUqmEntryPoint.createEntryPoint("Variable Dialog",this.m_queryManager,this);this.m_variableDialog.open();this.setStatusWarning("Please select mandatory variables!");return;}this.updateTable();this.notifySaveStateChanged();};f.AuGdsQueryDesignerDocument.prototype.loadQueryDesignerDocFromJson=function(a,g){if(this.isValidGdsQueryDesignerDocument(g)){if(f.notNull(a)){this.setFile(a);this.setTitle(a.getName());this.addRecentFileEntry(a);}else{this.setTitle(null);}this.setIcon("table-view");this.markPristine();var d=g.getStringByKey(f.AuGdsContants.GDF_FILE_DOC_NAME);this.m_system=g.getStringByKey(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_SYSTEM_KEY);this.m_dataSource=g.getStringByKey(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_DATA_SOURCE_KEY);this.m_inaRepoJson=this.extracJsonPropFromFileJson(g,f.AuGdsQueryDesignerDocument.GDF_QD_FILE_INA_REPO_KEY,"Failed to parse ina repository from file! The file might be damaged!");this.m_tableConfigJson=this.extracJsonPropFromFileJson(g,f.AuGdsQueryDesignerDocument.GDF_QD_FILE_TABLE_CFG,"Failed to parse table config from file! The file might be damaged!");if(f.XStringUtils.isNotNullAndNotEmpty(d)){this.setDocumentName(d);}this.setupQueryManager();}else{this.getGenesis().showErrorToast("Not a Galaxy Data Studio query designer file!");}};f.AuGdsQueryDesignerDocument.prototype.extracJsonPropFromFileJson=function(g,k,w){if(g.containsKey(k)){if(g.getElementTypeByKey(k)===f.PrElementType.STRUCTURE){return g.getStructureByKey(k);}else{var t=g.getStringByKey(k);var j=f.JsonParserFactory.newInstance();var a=j.parse(t);if(j.hasErrors()){this.getGenesis().showWarningToast(w);}f.XObjectExt.release(j);if(f.notNull(a)&&a.isStructure()){return a.asStructure();}}}return null;};f.AuGdsQueryDesignerDocument.prototype.isValidGdsQueryDesignerDocument=function(d){if(f.isNull(d)){return false;}if(!d.containsKey(f.AuGdsContants.GDF_FILE_DOC_TYPE)){return false;}if(!f.XString.isEqual(d.getStringByKey(f.AuGdsContants.GDF_FILE_DOC_TYPE),f.AuGdsContants.GDF_DOC_TYPE_QUERY_DESIGNER)){return false;}if(!d.containsKey(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_SYSTEM_KEY)){return false;}if(!d.containsKey(f.AuGdsQueryDesignerDocument.GDF_QD_FILE_DATA_SOURCE_KEY)){return false;}return true;};f.AuGdsQueryDesignerDocument.prototype.initRecentFiles=function(){if(f.notNull(this.m_recentFiles)){this.m_recentFiles.clear();this.m_recentFiles=f.XObjectExt.release(this.m_recentFiles);}var r=this.getUserSettings().getStringByKeyExt(f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_KEY,"");if(f.XStringUtils.isNotNullAndNotEmpty(r)){this.m_recentFiles=f.XStringTokenizer.splitString(r,f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_SEPARATOR);}else{this.m_recentFiles=f.XListOfString.create();}};f.AuGdsQueryDesignerDocument.prototype.reloadRecentFilesList=function(){if(f.notNull(this.m_homeView)&&f.notNull(this.m_recentFiles)){this.m_homeView.updateRecentFilesList(this.m_recentFiles);}};f.AuGdsQueryDesignerDocument.prototype.saveRecentFilesToUserSettings=function(){if(f.notNull(this.m_recentFiles)){var r="";for(var a=0;a<this.m_recentFiles.size();a++){var t=this.m_recentFiles.get(a);r=f.XStringUtils.concatenate2(r,t);if(a!==this.m_recentFiles.size()-1){r=f.XStringUtils.concatenate2(r,f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_SEPARATOR);}}this.getProcess().getUserManager().getUserSettings().putString(f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_KEY,r);this.initRecentFiles();}};f.AuGdsQueryDesignerDocument.prototype.addRecentFileEntry=function(a){if(f.notNull(a)&&f.notNull(this.m_recentFiles)){var b=a.getVfsUri().getUrl();this.m_recentFiles.removeElement(b);this.m_recentFiles.insert(0,b);this.reloadRecentFilesList();this.saveRecentFilesToUserSettings();}};f.AuGdsQueryDesignerDocument.prototype.removeRecentFileEntry=function(a){if(f.notNull(this.m_recentFiles)){this.m_recentFiles.removeElement(a);this.reloadRecentFilesList();this.saveRecentFilesToUserSettings();}};f.AuGdsQueryDesignerDocument.prototype.clearRecentFiles=function(){this.getProcess().getUserManager().getUserSettings().removeKey(f.AuGdsQueryDesignerDocument.GDS_QD_RECENT_FILES_KEY);this.m_recentFiles.clear();if(f.notNull(this.m_homeView)){this.m_homeView.updateRecentFilesList(null);}this.getGenesis().showSuccessToast("Recent files successfully cleared!");};f.AuGdsQueryDesignerDocument.prototype.showStatusTableInfo=function(){if(f.notNull(this.m_interactiveTable)){var n=this.m_interactiveTable.getRowsCountTotal();var a=this.m_interactiveTable.getColumnsCountTotal();var t=a*n;var b=this.m_interactiveTable.getRowsCountLoaded();var c=this.m_interactiveTable.getColumnsCountLoaded();var d=f.XStringUtils.concatenate2("Total rows: ",f.XInteger.convertToString(n));d=f.XStringUtils.concatenate3(d," | Total columns: ",f.XInteger.convertToString(a));d=f.XStringUtils.concatenate3(d," | Total cells: ",f.XInteger.convertToString(t));d=f.XStringUtils.concatenate3(d," | Loaded rows: ",f.XInteger.convertToString(b));d=f.XStringUtils.concatenate3(d," | Loaded columns: ",f.XInteger.convertToString(c));this.setStatusInfo(d);}else{this.resetStatusMessage();}};f.AuGdsQueryDesignerDocument.prototype.createPanelsMenuBarMenu=function(a){var v=this.getGenesis().newControl(f.UiType.MENU);v.setName(f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU);v.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU_FILTER_PANEL).setText("Show Filter").setIcon(f.notNull(this.m_filterPanel)&&this.m_filterPanel.getView().getParent()===this.m_contentLayout?"accept":null).registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));v.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU_DESIGNER_PANELS).setText("Show Designer").setIcon(f.notNull(this.m_builderPanel)&&this.m_builderPanel.getView().getParent()===this.m_contentLayout?"accept":null).registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));v.openAt(a);};f.AuGdsQueryDesignerDocument.prototype.createDataSourceMenuBarMenu=function(a){var d=this.getGenesis().newControl(f.UiType.MENU);d.setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU);d.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_CHANGE_DATA_SOURCE).setText("Change Data Source...").setIcon("database").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));d.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_DATA_SOURCE_INFO).setText("Data Source Info...").setIcon("information").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));d.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_RESET).setText("Reset").setIcon("reset").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));d.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_REFRESH).setText("Refresh").setIcon("refresh").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_queryManager));d.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_PAUSE_UPDATES).setText("Pause updates").setIcon(f.notNull(this.m_interactiveTable)&&this.m_interactiveTable.isPauseUpdates()?"accept":"").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));d.addNewItem().setName(f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_VARIABLES).setText("Set Variables...").setIcon("customize").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_queryManager)&&this.m_queryManager.hasInputEnabledVariables());d.openAt(a);};f.AuGdsQueryDesignerDocument.prototype.updateQuickActionToolbar=function(){if(f.notNull(this.m_toolbarResetBtn)){this.m_toolbarResetBtn.setEnabled(f.notNull(this.m_queryManager));}if(f.notNull(this.m_toolbarRefreshBtn)){this.m_toolbarRefreshBtn.setEnabled(f.notNull(this.m_queryManager));}if(f.notNull(this.m_toolbarVariablesBtn)){this.m_toolbarVariablesBtn.setEnabled(f.notNull(this.m_queryManager)&&this.m_queryManager.hasInputEnabledVariables());}if(f.notNull(this.m_toolbarLayoutBtn)){this.m_toolbarLayoutBtn.setEnabled(f.notNull(this.m_queryManager));}if(f.notNull(this.m_toolbarUdhRowBtn)){this.m_toolbarUdhRowBtn.setEnabled(f.notNull(this.m_queryManager)&&this.m_queryManager.getModelCapabilities().supportsUniversalDisplayHierarchies()&&this.m_queryManager.getQueryModel().getRowsAxis().getDimensions().size()>1);this.m_toolbarUdhRowBtn.setPressed(f.notNull(this.m_queryManager)&&this.m_queryManager.getModelCapabilities().supportsUniversalDisplayHierarchies()&&this.m_queryManager.getQueryModel().getUniversalDisplayHierarchies().getByAxisType(f.AxisType.ROWS).isActive());}var a=null;var l=null;var b=null;var c=null;if(f.notNull(this.m_toolbarMoveUpBtn)&&f.notNull(this.m_toolbarMoveDownBtn)&&f.notNull(this.m_interactiveTable)&&f.notNull(this.m_queryManager)){l=this.m_interactiveTable.getColumnDimensionsLastSelected();if(f.XCollectionUtils.hasElements(l)){b=this.m_queryManager.getQueryModel().getDimensionByName(l.get(0).getName());c=this.m_queryManager.getQueryModel().getDimensionByName(l.get(l.size()-1).getName());a=b.getAxis();}this.m_toolbarMoveUpBtn.setEnabled(f.notNull(this.m_queryManager)&&!this.m_interactiveTable.isIsMultiSelectWithGaps()&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&f.notNull(a)&&a.getIndex(b)>0);this.m_toolbarMoveDownBtn.setEnabled(f.notNull(this.m_queryManager)&&!this.m_interactiveTable.isIsMultiSelectWithGaps()&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&f.notNull(a)&&a.getIndex(c)<a.size()-1);}if(f.notNull(this.m_toolbarMoveLeftBtn)&&f.notNull(this.m_toolbarMoveRightBtn)&&f.notNull(this.m_interactiveTable)&&f.notNull(this.m_queryManager)){a=null;l=this.m_interactiveTable.getRowDimensionsLastSelected();if(f.XCollectionUtils.hasElements(l)){b=this.m_queryManager.getQueryModel().getDimensionByName(l.get(0).getName());c=this.m_queryManager.getQueryModel().getDimensionByName(l.get(l.size()-1).getName());a=b.getAxis();}this.m_toolbarMoveLeftBtn.setEnabled(f.notNull(this.m_queryManager)&&!this.m_interactiveTable.isIsMultiSelectWithGaps()&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&!this.m_interactiveTable.isOnHeaderRows()&&f.notNull(a)&&a.getIndex(b)>0);this.m_toolbarMoveRightBtn.setEnabled(f.notNull(this.m_queryManager)&&!this.m_interactiveTable.isIsMultiSelectWithGaps()&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&!this.m_interactiveTable.isOnHeaderRows()&&f.notNull(a)&&a.getIndex(c)<a.size()-1);}var r;if(f.notNull(this.m_toolbarTableColumnBtn)&&f.notNull(this.m_interactiveTable)&&f.notNull(this.m_queryManager)){r=this.m_interactiveTable.getDimensionsAllSelectedRemapped(f.AxisType.COLUMNS);this.m_toolbarTableColumnBtn.setEnabled(f.notNull(this.m_queryManager)&&f.XCollectionUtils.hasElements(r)&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&r.get(0).getAxisType()!==f.AxisType.COLUMNS);}if(f.notNull(this.m_toolbarTableRowBtn)&&f.notNull(this.m_interactiveTable)&&f.notNull(this.m_queryManager)){r=this.m_interactiveTable.getDimensionsAllSelectedRemapped(f.AxisType.ROWS);this.m_toolbarTableRowBtn.setEnabled(f.notNull(this.m_queryManager)&&f.XCollectionUtils.hasElements(r)&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&r.get(0).getAxisType()!==f.AxisType.ROWS);}if(f.notNull(this.m_toolbarTableFreeBtn)){this.m_toolbarTableFreeBtn.setEnabled(f.notNull(this.m_queryManager)&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&f.XCollectionUtils.hasElements(this.m_interactiveTable.getDimensionsAllSelectedRemapped(f.AxisType.FREE)));}if(f.notNull(this.m_toolbarClearFilterBtn)&&f.notNull(this.m_toolbarAddFilterBtn)&&f.notNull(this.m_toolbarFilterSelectionBtn)&&f.notNull(this.m_toolbarDimensionSettingsBtn)&&f.notNull(this.m_interactiveTable)&&f.notNull(this.m_queryManager)){var s=this.m_interactiveTable.getSingleSelectedDimension();this.m_toolbarClearFilterBtn.setEnabled(f.notNull(s)&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&f.AuGdsQdInteractiveTableContextActionsHelper.hasFilterOnDimension(this.m_queryManager,s));this.m_toolbarAddFilterBtn.setEnabled(f.notNull(s)&&!this.m_interactiveTable.isOnEmptyHeaderSection());this.m_toolbarFilterSelectionBtn.setEnabled(f.notNull(s)&&!this.m_interactiveTable.isOnEmptyHeaderSection()&&f.XCollectionUtils.hasElements(this.m_interactiveTable.getSelectedTupleElements()));this.m_toolbarDimensionSettingsBtn.setEnabled(f.notNull(s)&&!this.m_interactiveTable.isOnEmptyHeaderSection());}if(f.notNull(this.m_pauseUpdatesToggleBtn)){this.m_pauseUpdatesToggleBtn.setEnabled(f.notNull(this.m_queryManager));}if(f.notNull(this.m_toolbarDesignerPanelToggleBtn)){this.m_toolbarDesignerPanelToggleBtn.setVisible(f.notNull(this.m_queryManager));}};f.AuGdsQueryDesignerDocument.prototype.showDataSourcePicker=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.putString(f.AuDatasourcePicker.PARAM_SYSTEM,this.m_system);t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);t.putXObject(f.AuDatasourcePicker.PARAM_APPLICATION,this.getApplication());b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.AuGdsQueryDesignerDocument.prototype.showDataSourceInfo=function(){var d=f.UiFormPopup.create(this.getGenesis(),"Data Source Info",null);d.setReadOnly();d.setPopupState(f.UiValueState.INFORMATION);d.addInput(null,this.m_system,"System name",false,null,null);d.addInput(null,this.m_queryManager.getDataSource().getName(),"Model name",false,null,null);d.addSwitch(null,this.m_queryManager.hasVariables(),"Has variables?");d.open();};f.AuGdsQueryDesignerDocument.prototype.loadRecentFile=function(a){var t=this.getController().createFileByPath(a);if(f.notNull(t)&&t.isExisting()){this.loadFromFile(t);}else{this.removeRecentFileEntry(a);this.getGenesis().showWarningToast(f.XStringUtils.concatenate3("File ",a," does not exist!"));}};f.AuGdsQueryDesignerDocument.prototype.onResetDataSourcePressed=function(){if(f.notNull(this.m_queryManager)&&f.notNull(this.m_interactiveTable)){this.m_queryManager.getConvenienceCommands().resetToDefault();this.updateTable();}};f.AuGdsQueryDesignerDocument.prototype.refreshDataSource=function(){if(f.notNull(this.m_queryManager)&&f.notNull(this.m_interactiveTable)){this.m_queryManager.invalidateState();this.updateTable();}};f.AuGdsQueryDesignerDocument.prototype.onOpenVariableDialogPressed=function(){this.m_variableDialog=f.XObjectExt.release(this.m_variableDialog);this.m_variableDialog=f.VdUqmEntryPoint.createEntryPoint("Variable Dialog",this.m_queryManager,this);this.m_variableDialog.open();};f.AuGdsQueryDesignerDocument.prototype.toggleFilterPanel=function(){if(f.isNull(this.m_filterPanel)){this.m_filterPanel=f.AuGdsQdFilterPanel.createFilterPanel(this.getGenesis());this.m_filterPanel.setQueryManager(this.m_queryManager);this.m_filterPanel.addEditActionListener(this);}if(this.m_filterPanel.getView().getParent()!==null){this.m_contentLayout.removeItem(this.m_filterPanel.getView());this.m_autoOpenFilterPanel=false;}else{this.m_contentLayout.addItem(this.m_filterPanel.getView());this.m_autoOpenFilterPanel=true;}this.getProcess().getUserManager().getUserSettings().putBoolean(f.AuGdsQueryDesignerDocument.GDS_QD_AUTO_OPEN_FILTER_PANEL_KEY,this.m_autoOpenFilterPanel);};f.AuGdsQueryDesignerDocument.prototype.toggleDesignerPanels=function(){if(f.isNull(this.m_navigationPanel)){this.m_navigationPanel=f.AuGdsQdNavigationPanel.createNavPanel(this.getGenesis());this.m_navigationPanel.setQueryManager(this.m_queryManager);this.m_navigationPanel.addEditActionListener(this);}if(f.isNull(this.m_builderPanel)){this.m_builderPanel=f.AuGdsQdBuilderPanel.createBuilderPanel(this.getGenesis());this.m_builderPanel.setQueryManager(this.m_queryManager);this.m_builderPanel.addEditActionListener(this);}if(this.m_builderPanel.getView().getParent()!==null||this.m_navigationPanel.getView().getParent()!==null){this.m_contentLayout.removeItem(this.m_navigationPanel.getView());this.m_contentLayout.removeItem(this.m_builderPanel.getView());this.m_autoOpenDesignerPanels=false;}else{this.m_contentLayout.addItem(this.m_navigationPanel.getView());this.m_contentLayout.addItem(this.m_builderPanel.getView());this.m_autoOpenDesignerPanels=true;}this.getProcess().getUserManager().getUserSettings().putBoolean(f.AuGdsQueryDesignerDocument.GDS_QD_AUTO_OPEN_NAVIGATION_PANEL_KEY,this.m_autoOpenDesignerPanels);if(f.notNull(this.m_toolbarDesignerPanelToggleBtn)){this.m_toolbarDesignerPanelToggleBtn.setPressed(this.m_autoOpenDesignerPanels);}};f.AuGdsQueryDesignerDocument.prototype.togglePauseUpdates=function(){var r=false;if(f.notNull(this.m_interactiveTable)){r=this.m_interactiveTable.togglePauseUpdates();}this.m_pauseUpdatesToggleBtn.setPressed(r);return r;};f.AuGdsQueryDesignerDocument.prototype.onDatasourceSelected=function(d){if(f.isNull(d)){return;}if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable.clearTable();}this.m_system=d.getSystemName();this.m_dataSource=d.getFullQualifiedName();this.setTitle(f.XStringUtils.concatenate3(this.m_system," - ",d.getName()));this.setIcon("table-view");this.markDirty();this.setupQueryManager();if(f.XStringUtils.isNotNullAndNotEmpty(this.m_system)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_dataSource)){this.getController().updateSystemDatasourceArguments(this.m_system,this.m_dataSource);}};f.AuGdsQueryDesignerDocument.prototype.onQueryManagerCreated=function(e,q,c){if(e.hasErrors()){this.m_messageManager.addAllMessages(e);this.setCriticalError(this.m_messageManager.getSummary());return;}this.m_queryManager=e.getData();this.m_queryManager.getTagging().put(f.QStateConstants.TAG_UNDO_INCLUDE,"true");this.m_queryManager.getApplication().getUndoManager().reset();this.m_queryManager.disableReturnedDataSelection(f.ReturnedDataSelection.CELL_EXPLAIN);if(f.notNull(this.m_inaRepoJson)){this.m_queryManager.getQueryModel().getVariableContainer().deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY,this.m_inaRepoJson);this.m_queryManager.submitVariables(f.SyncType.NON_BLOCKING,this,null);}else{this.updateViews();}};f.AuGdsQueryDesignerDocument.prototype.onVariableProcessorExecuted=function(e,r,c){if(e.hasErrors()){this.getGenesis().showWarningToast("Could not submit variables!");}else{this.m_queryManager.getQueryModel().deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY_NO_VARS,this.m_inaRepoJson);}this.m_inaRepoJson=null;this.updateViews();};f.AuGdsQueryDesignerDocument.prototype.onPress=function(e){var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&this.getMenuButtons().contains(c)){switch(c.getName()){case f.AuGdsQueryDesignerDocument.MENU_BAR_PANELS_BTN:this.createPanelsMenuBarMenu(c);break;case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_BTN:this.createDataSourceMenuBarMenu(c);break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU)){switch(c.getName()){case f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU_FILTER_PANEL:this.toggleFilterPanel();break;case f.AuGdsQueryDesignerDocument.MENU_BAR_VIEW_MENU_DESIGNER_PANELS:this.toggleDesignerPanels();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU)){switch(c.getName()){case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_CHANGE_DATA_SOURCE:this.showDataSourcePicker();break;case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_DATA_SOURCE_INFO:this.showDataSourceInfo();break;case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_RESET:this.onResetDataSourcePressed();break;case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_REFRESH:this.refreshDataSource();break;case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_PAUSE_UPDATES:this.togglePauseUpdates();break;case f.AuGdsQueryDesignerDocument.MENU_BAR_DATA_SOURCE_MENU_VARIABLES:this.onOpenVariableDialogPressed();break;default:}}if(c===this.m_toolbarSelectDataSourceBtn){this.showDataSourcePicker();}else if(c===this.m_toolbarResetBtn){this.onResetDataSourcePressed();}else if(c===this.m_toolbarRefreshBtn){this.refreshDataSource();}else if(c===this.m_toolbarVariablesBtn){this.onOpenVariableDialogPressed();}else if(c===this.m_pauseUpdatesToggleBtn){this.togglePauseUpdates();}else if(c===this.m_toolbarDesignerPanelToggleBtn){this.toggleDesignerPanels();}};f.AuGdsQueryDesignerDocument.prototype.onOk=function(){this.updateTable();};f.AuGdsQueryDesignerDocument.prototype.onCancel=function(){if(this.m_queryManager.isSubmitNeeded()){this.setStatusError("Variables not set.");}};f.AuGdsQueryDesignerDocument.prototype.onFileLoaded=function(e,a,b,c){if(f.isNull(e)||e.isValid()){var j=this.getController().getJsonObjFromLoadedFileContent(b);if(f.notNull(j)){this.loadQueryDesignerDocFromJson(a,j);}}else{this.getGenesis().showErrorToast("Error while fetching the specified file!");}};f.AuGdsQueryDesignerDocument.prototype.onSelectionChange=function(e){this.m_interactiveTable.processSelectionChangeEvent(e);this.updateQuickActionToolbar();var n=this.m_interactiveTable.getNumberOfSelectedCells();if(n>0){var c=n>1?" cells":" cell";this.setStatusInfo(f.XStringUtils.concatenate3(f.XInteger.convertToString(n),c," selected"));}else{this.showStatusTableInfo();}};f.AuGdsQueryDesignerDocument.prototype.notifyEditAction=function(){this.updateTable();};f.AuGdsQueryDesignerDocument.prototype.onGdsHvSelectDataSourcePress=function(h){this.showDataSourcePicker();};f.AuGdsQueryDesignerDocument.prototype.onGdsHvRecentFileSelect=function(h,a){this.loadRecentFile(a);};f.AuGdsQueryDesignerDocument.prototype.onGdsHvRecentFilesClear=function(h){this.clearRecentFiles();};f.AuGdsQueryDesignerDocument.prototype.onFormPopupSubmit=function(p,a){this.markDirty();this.setDocumentName(a.getStringByKeyExt(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_DOC_NAME_KEY,this.getDocumentName()));if(f.notNull(this.m_interactiveTable)&&a.containsKey(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_TABLE_TITLE_KEY)){this.m_interactiveTable.setTitle(a.getStringByKey(f.AuGdsQueryDesignerDocument.GDS_QD_PREFS_TABLE_TITLE_KEY));}};f.AuGdsQueryDesignerDocument.prototype.onTableDataUpdated=function(t){this.showStatusTableInfo();};f.AuGdsQueryDesignerDocument.prototype.onTableQMChanged=function(){this.updateQuickActionToolbar();if(f.notNull(this.m_queryManager)){this.notifyUndoRedoStateChanged();if(this.m_queryManager.getApplication().getUndoManager().getAvailableUndoStepCount()>0){this.markDirty();}}};f.AuGdsQueryDesignerDocument.prototype.onBackendRequestStarted=function(){this.showNetworkActivityIndicator();};f.AuGdsQueryDesignerDocument.prototype.onBackendRequestFinished=function(){this.hideNetworkActivityIndicator();};f.AuGdsQdUserActionGroup=function(){};f.AuGdsQdUserActionGroup.prototype=new f.AuGdsQdUserActionItem();f.AuGdsQdUserActionGroup.prototype._ff_c="AuGdsQdUserActionGroup";f.AuGdsQdUserActionGroup.create=function(){var i=new f.AuGdsQdUserActionGroup();i.setup();return i;};f.AuGdsQdUserActionGroup.prototype.m_subItems=null;f.AuGdsQdUserActionGroup.prototype.addNewGroup=function(){var n=f.AuGdsQdUserActionGroup.create();this.addSubItem(n);return n;};f.AuGdsQdUserActionGroup.prototype.addNewLeaf=function(){var n=f.AuGdsQdUserActionLeaf.create();this.addSubItem(n);return n;};f.AuGdsQdUserActionGroup.prototype.setup=function(){this.m_subItems=f.XList.create();};f.AuGdsQdUserActionGroup.prototype.getSubItems=function(){return this.m_subItems;};f.AuGdsQdUserActionGroup.prototype.addSubItem=function(a){this.m_subItems.add(a);};f.AuGdsQdUserActionGroup.prototype.getActionGroup=function(){return this;};f.AuGdsQdUserActionLeaf=function(){};f.AuGdsQdUserActionLeaf.prototype=new f.AuGdsQdUserActionItem();f.AuGdsQdUserActionLeaf.prototype._ff_c="AuGdsQdUserActionLeaf";f.AuGdsQdUserActionLeaf.create=function(){var i=new f.AuGdsQdUserActionLeaf();i.setup();return i;};f.AuGdsQdUserActionLeaf.prototype.m_command=null;f.AuGdsQdUserActionLeaf.prototype.m_statusSupplier=null;f.AuGdsQdUserActionLeaf.prototype.getCommand=function(){return this.m_command;};f.AuGdsQdUserActionLeaf.prototype.setCommand=function(c){this.m_command=c;};f.AuGdsQdUserActionLeaf.prototype.getStatusSupplier=function(){return this.m_statusSupplier;};f.AuGdsQdUserActionLeaf.prototype.setStatusSupplier=function(r){this.m_statusSupplier=r;};f.AuGdsQdUserActionLeaf.prototype.getActionLeaf=function(){return this;};f.AuGdsQdPanelWithPresentation=function(){};f.AuGdsQdPanelWithPresentation.prototype=new f.AuGdsPanel();f.AuGdsQdPanelWithPresentation.prototype._ff_c="AuGdsQdPanelWithPresentation";f.AuGdsQdPanelWithPresentation.prototype.m_presentationType=null;f.AuGdsQdPanelWithPresentation.prototype.m_menu=null;f.AuGdsQdPanelWithPresentation.prototype.releaseObject=function(){this.m_presentationType=null;this.m_menu=f.XObjectExt.release(this.m_menu);f.AuGdsPanel.prototype.releaseObject.call(this);};f.AuGdsQdPanelWithPresentation.prototype.setupPresentationPanel=function(g,l){this.setupExt(g,l);this.m_presentationType=f.AuGdsQdPanelPresentation.DESCRIPTION;this.m_menu=g.newControl(f.UiType.MENU);};f.AuGdsQdPanelWithPresentation.prototype.getPresentationType=function(){return this.m_presentationType;};f.AuGdsQdPanelWithPresentation.prototype.extendMenuWithDisplayOptions=function(m,o){var d=m.addNewItem();d.setText("Display Options");d.setIcon("wrench");this.createPresentationMenuItem(d,"Description",f.AuGdsQdPanelPresentation.DESCRIPTION,o);this.createPresentationMenuItem(d,"ID",f.AuGdsQdPanelPresentation.ID,o);this.createPresentationMenuItem(d,"ID and Description",f.AuGdsQdPanelPresentation.ID_AND_DESCRIPTION,o);this.createPresentationMenuItem(d,"Description and ID",f.AuGdsQdPanelPresentation.DESCRIPTION_AND_ID,o);};f.AuGdsQdPanelWithPresentation.prototype.createPresentationMenuItem=function(p,t,a,l){var i=p.addNewItem().setText(t);i.setIcon(this.m_presentationType===a?"accept":null);i.registerOnPress(f.AuGdsLambdaListener.create(function(){this.m_presentationType=a;l();}.bind(this)));};f.AuGdsQdPanelWithPresentation.prototype.showDimMenu=function(e,d){var a=d.getApplication();var c=d.getContext();this.m_menu.clearItems();var b=f.AuGdsQdInteractiveTableContextActionsHelper.getStandaloneDimensionMenu(a,c,d,function(){this.onMenuAction();}.bind(this));f.AuGdsQdContextMenuUtil.renderSubMenuItems(this.m_menu,b);var g=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var h=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);this.m_menu.openAtPosition(g,h);};f.AuGdsQdPanelWithPresentation.prototype.showMemberMenu=function(e,m){var a=m.getApplication();var c=m.getContext();this.m_menu.clearItems();var b=f.AuGdsQdInteractiveTableContextActionsHelper.getStandaloneMeasureMenu(a,c,m,function(){this.onMenuAction();}.bind(this));f.AuGdsQdContextMenuUtil.renderSubMenuItems(this.m_menu,b);var d=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var g=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);this.m_menu.openAtPosition(d,g);};f.AuGdsQdBuilderPanel=function(){};f.AuGdsQdBuilderPanel.prototype=new f.AuGdsQdPanelWithPresentation();f.AuGdsQdBuilderPanel.prototype._ff_c="AuGdsQdBuilderPanel";f.AuGdsQdBuilderPanel.DARK_BLUE=null;f.AuGdsQdBuilderPanel.LIGHT_GRAY=null;f.AuGdsQdBuilderPanel.LIGHTER_GRAY=null;f.AuGdsQdBuilderPanel.DIM_TAG="dimension";f.AuGdsQdBuilderPanel.createBuilderPanel=function(g){var o=new f.AuGdsQdBuilderPanel();o.setupBuilder(g);return o;};f.AuGdsQdBuilderPanel.prototype.m_queryManager=null;f.AuGdsQdBuilderPanel.prototype.m_root=null;f.AuGdsQdBuilderPanel.prototype.m_ignoreEvent=false;f.AuGdsQdBuilderPanel.prototype.m_editActionListeners=null;f.AuGdsQdBuilderPanel.prototype.m_rows=null;f.AuGdsQdBuilderPanel.prototype.m_columns=null;f.AuGdsQdBuilderPanel.prototype.m_dimComponents=null;f.AuGdsQdBuilderPanel.prototype.setupBuilder=function(g){if(f.isNull(f.AuGdsQdBuilderPanel.DARK_BLUE)){f.AuGdsQdBuilderPanel.DARK_BLUE=f.UiColor.create("#346187");}if(f.isNull(f.AuGdsQdBuilderPanel.LIGHT_GRAY)){f.AuGdsQdBuilderPanel.LIGHT_GRAY=f.UiColor.GREY.newBrighterColor(0.24);}if(f.isNull(f.AuGdsQdBuilderPanel.LIGHTER_GRAY)){f.AuGdsQdBuilderPanel.LIGHTER_GRAY=f.UiColor.GREY.newBrighterColor(0.32);}this.setupPresentationPanel(g,null);this.m_editActionListeners=f.XList.create();this.m_root=this.getGenesis().newControl(f.UiType.FLEX_LAYOUT);this.m_root.setDirection(f.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.setPadding(f.UiCssBoxEdges.create("8px"));this.m_rows=this.buildAxisList(this.m_root,"Rows",f.AxisType.ROWS);this.m_columns=this.buildAxisList(this.m_root,"Columns",f.AxisType.COLUMNS);this.setTitle("Builder");this.setIcon("wrench");this.setContent(this.m_root);this.registerOnPanelActionsListener(this);};f.AuGdsQdBuilderPanel.prototype.buildAxisList=function(c,t,a){var l=c.addNewItemOfType(f.UiType.FLEX_LAYOUT);l.setDirection(f.UiFlexDirection.COLUMN);l.setFlex("1 1 50%");if(a===f.AxisType.COLUMNS){l.setMargin(f.UiCssBoxEdges.create("10px 0 0 0"));}var b=l.addNewItemOfType(f.UiType.LABEL);b.setText(t);b.setFontWeight(f.UiFontWeight.BOLD);b.setFontSize(f.UiCssLength.create("1rem"));b.setMargin(f.UiCssBoxEdges.create("5px"));var d=l.addNewItemOfType(f.UiType.LIST);d.setSelectionMode(f.UiSelectionMode.NONE);d.setBorderWidth(f.UiCssBoxEdges.create("0px"));d.setDropInfo(f.UiDropInfo.create(f.UiDropPosition.BETWEEN,f.UiDropEffect.MOVE,f.UiDropLayout.DEFAULT,f.UiAggregation.ITEMS,null,f.AuGdsQdBuilderPanel.DIM_TAG));d.registerOnDrop(f.AuGdsLambdaDropListener.create(function(e){this.handleDimDrop(e,a);}.bind(this)));return d;};f.AuGdsQdBuilderPanel.prototype.releaseObject=function(){this.m_rows=null;this.m_columns=null;this.m_dimComponents=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimComponents);this.m_editActionListeners.clear();this.m_editActionListeners=f.XObjectExt.release(this.m_editActionListeners);this.m_queryManager=null;this.m_root=f.XObjectExt.release(this.m_root);f.AuGdsQdPanelWithPresentation.prototype.releaseObject.call(this);};f.AuGdsQdBuilderPanel.prototype.handleDimDrop=function(e,t){if(e.getDroppedControl()===e.getDraggedControl()){return;}var d=e.getDraggedControl();var a=d.getCustomObject();var m=null;if(d.getParent()!==this.m_rows&&d.getParent()!==this.m_columns){m=this.tryFindItemByDim(a);if(f.isNull(m)){m=this.buildDimItem(a);}}else{m=d;}var l=e.getControl();var b=this.calcDropIndex(e);this.moveItem(l,m,b);var n=this.collectEntityNames(l);var q=this.m_queryManager.getQueryModel();var c=f.XStream.ofString(n).map(function(h){return q.getDimensionByName(h.getString());}.bind(this)).collect(f.XStreamCollector.toList());this.m_ignoreEvent=true;var g=q.getAxis(t);g.clear();g.addAll(c);this.notifyEditActionListeners();this.m_ignoreEvent=false;};f.AuGdsQdBuilderPanel.prototype.calcDropIndex=function(e){var d=e.getRelativeDropPosition();var l=e.getControl();var a=l.getIndexOfItem(e.getDroppedControl());a=d===f.UiRelativeDropPosition.BEFORE?a:a+1;var o=l.getIndexOfItem(e.getDraggedControl());if(o!==-1&&o<a){a--;}return a;};f.AuGdsQdBuilderPanel.prototype.moveItem=function(l,a,i){if(a.getParent()!==null){a.getParent().removeItem(a);}if(i>=l.getItemCount()){l.addItem(a);}else{l.insertItem(a,i);}};f.AuGdsQdBuilderPanel.prototype.collectEntityNames=function(l){var r=f.XListOfString.create();var a=l.getItems();for(var i=0;i<a.size();i++){var o=a.get(i).getCustomObject();r.add(o.getName());}return r;};f.AuGdsQdBuilderPanel.prototype.addEditActionListener=function(e){this.m_editActionListeners.add(e);};f.AuGdsQdBuilderPanel.prototype.removeEditActionListener=function(e){this.m_editActionListeners.removeElement(e);};f.AuGdsQdBuilderPanel.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsQdBuilderPanel.prototype.setQueryManager=function(m){this.unregisterQm();this.m_queryManager=m;this.registerQm();this.updateBuilderPanel();};f.AuGdsQdBuilderPanel.prototype.updateBuilderPanel=function(){this.m_dimComponents=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimComponents);this.m_dimComponents=f.XList.create();this.m_rows.clearItems();this.m_columns.clearItems();if(f.isNull(this.m_queryManager)){return;}this.updateAxisList(this.m_rows,this.m_queryManager.getQueryModel().getRowsAxis());this.updateAxisList(this.m_columns,this.m_queryManager.getQueryModel().getColumnsAxis());this.updateLabels();};f.AuGdsQdBuilderPanel.prototype.updateAxisList=function(l,a){for(var i=0;i<a.size();i++){var d=a.get(i);var b=this.buildDimItem(d);l.addItem(b);}};f.AuGdsQdBuilderPanel.prototype.buildMemberList=function(d,c){var m=c.addNewItemOfType(f.UiType.FLEX_LAYOUT);m.setDirection(f.UiFlexDirection.COLUMN);m.setPadding(f.UiCssBoxEdges.create("6px"));var l=m.addNewItemOfType(f.UiType.LABEL);l.setText(d.isMeasureStructure()?"Measures":d.getText());l.setFontWeight(f.UiFontWeight.BOLD);l.setPadding(f.UiCssBoxEdges.create("4px"));var a=m.addNewItemOfType(f.UiType.LIST);a.setBorderWidth(f.UiCssBoxEdges.create("0px"));a.setSelectionMode(f.UiSelectionMode.NONE);a.useMaxSpace();a.setDropInfo(f.UiDropInfo.create(f.UiDropPosition.BETWEEN,f.UiDropEffect.MOVE,f.UiDropLayout.DEFAULT,f.UiAggregation.ITEMS,null,d.getName()));a.registerOnDrop(f.AuGdsLambdaDropListener.create(function(k){this.handleMemberDrop(k,d);}.bind(this)));var b=this.getListOfMembers(d);var e=f.XList.create();for(var j=0;j<b.size();j++){var g=b.get(j);if(g.getResultVisibility()===f.ResultVisibility.VISIBLE){var h=this.buildDragItem(true);h.setTag(g.getDimension().getName());h.setCustomObject(g);h.registerOnContextMenu(f.AuGdsLambdaListenerWithEvent.create(function(k){this.showMemberMenu(k,g);}.bind(this)));var i=this.buildLabelAndIcon(h.getContent(),g,function(){this.removeMember(g,h);}.bind(this));a.addItem(h);e.add(f.AuGdsQdMemberViewModel.createMemberForBuildPanel(g,i));}}this.m_dimComponents.add(f.AuGdsQdDimensionViewModel.createStructureForBuildPanel(d,e,l));};f.AuGdsQdBuilderPanel.prototype.getListOfMembers=function(d){var m=d.getAllStructureMembers();var a=this.getQueryManager().getQueryModel().getSortingManager().getDimensionSorting(d,false);if(f.isNull(a)){return m;}var c=a.getCustomSort();return f.XStream.ofString(c).map(function(s){return m.getByKey(s.getString());}.bind(this)).collect(f.XStreamCollector.toListOfNameObject());};f.AuGdsQdBuilderPanel.prototype.handleMemberDrop=function(e,m){var d=e.getDraggedControl();if(e.getDroppedControl()===d){return;}var l=e.getControl();var a=null;if(d.getParent()!==e.getDroppedControl().getParent()){var b=d.getCustomObject();a=this.tryFindItemByObject(l,b);}else{a=d;}var c=this.calcDropIndex(e);this.moveItem(l,a,c);var n=this.collectEntityNames(l);var g=f.XStream.ofString(n).map(function(i){return m.getStructureMember(i.getString());}.bind(this)).collect(f.XStreamCollector.toListOfNameObject());this.m_ignoreEvent=true;m.setStructuredLayout(g);if(this.getQueryManager().getSystemType().isTypeOf(f.SystemType.BW)){var h=this.getQueryManager().getQueryModel().getSortingManager().getDimensionSorting(m,true);h.setSortByKey();h.setDirection(f.XSortDirection.ASCENDING);h.setCustomSort(f.XStream.of(g).collect(f.XStreamCollector.toListOfString(function(i){return i.getName();}.bind(this))));}else{this.getQueryManager().getQueryModel().getSortingManager().removeDimensionSorting(m);}this.notifyEditActionListeners();this.m_ignoreEvent=false;};f.AuGdsQdBuilderPanel.prototype.buildLabelAndIcon=function(c,o,a){var n=c.addNewItemOfType(f.UiType.LABEL);n.setText(this.getPresentationType().getDisplayValue(o));n.setFlex("1 0 0");n.setFontColor(f.AuGdsQdBuilderPanel.DARK_BLUE);var r=c.addNewItemOfType(f.UiType.ICON);r.setIcon("sys-cancel");r.setHeight(f.UiCssLength.create("16px"));r.setPadding(f.UiCssBoxEdges.create("8px"));r.setColor(f.AuGdsQdBuilderPanel.DARK_BLUE);r.registerOnPress(f.AuGdsLambdaListener.create(a));return n;};f.AuGdsQdBuilderPanel.prototype.removeMember=function(m,i){this.m_ignoreEvent=true;m.setResultVisibility(f.ResultVisibility.HIDDEN);this.m_ignoreEvent=false;i.getParent().removeItem(i);this.notifyEditActionListeners();};f.AuGdsQdBuilderPanel.prototype.removeDimension=function(d,i){this.m_ignoreEvent=true;d.getAxis().removeElement(d);this.m_ignoreEvent=false;i.getParent().removeItem(i);this.notifyEditActionListeners();};f.AuGdsQdBuilderPanel.prototype.tryFindItemByDim=function(d){var l=null;var a=d.getAxisType();if(a===f.AxisType.ROWS){l=this.m_rows;}else if(a===f.AxisType.COLUMNS){l=this.m_columns;}return this.tryFindItemByObject(l,d);};f.AuGdsQdBuilderPanel.prototype.tryFindItemByObject=function(l,o){if(f.isNull(l)){return null;}var a=l.getItems();for(var i=0;i<a.size();i++){var b=a.get(i);if(b.getCustomObject()===o){return b;}}return null;};f.AuGdsQdBuilderPanel.prototype.updateLabels=function(){for(var i=0;i<this.m_dimComponents.size();i++){var d=this.m_dimComponents.get(i);var a=d.getDimension();d.getLabel().setText(this.getPresentationType().getDisplayValue(a));var m=d.getMembers();for(var j=0;j<m.size();j++){var b=m.get(j);var c=b.getMember();b.getLabel().setText(this.getPresentationType().getDisplayValue(c));}}};f.AuGdsQdBuilderPanel.prototype.buildDimItem=function(d){var a=this.buildDragItem(false);a.setTag(f.AuGdsQdBuilderPanel.DIM_TAG);a.setCustomObject(d);a.registerOnContextMenu(f.AuGdsLambdaListenerWithEvent.create(function(e){this.showDimMenu(e,d);}.bind(this)));if(d.isStructure()){var b=a.getContent();this.buildMemberList(d,b);}else{var l=this.buildLabelAndIcon(a.getContent(),d,function(){this.removeDimension(d,a);}.bind(this));this.m_dimComponents.add(f.AuGdsQdDimensionViewModel.createDimensionForBuildPanel(d,l));}return a;};f.AuGdsQdBuilderPanel.prototype.buildDragItem=function(n){var d=this.getGenesis().newControl(f.UiType.CUSTOM_LIST_ITEM);d.setDraggable(true);d.setBorderWidth(f.UiCssBoxEdges.create("0px"));d.setPadding(f.UiCssBoxEdges.create("4px"));if(n){d.setBackgroundColor(f.AuGdsQdBuilderPanel.LIGHTER_GRAY);}var a=d.setNewContent(f.UiType.FLEX_LAYOUT);a.useMaxWidth();a.setAlignItems(f.UiFlexAlignItems.CENTER);a.setBorderStyle(f.UiBorderStyle.SOLID);a.setBorderWidth(f.UiCssBoxEdges.create("1px"));a.setBorderColor(f.AuGdsQdBuilderPanel.LIGHT_GRAY);a.setBackgroundColor(n?f.UiColor.WHITE:f.AuGdsQdBuilderPanel.LIGHTER_GRAY);var b=a.addNewItemOfType(f.UiType.ICON);b.setIcon("vertical-grip");b.setHeight(f.UiCssLength.create("16px"));b.setPadding(f.UiCssBoxEdges.create("8px"));b.setColor(f.AuGdsQdBuilderPanel.DARK_BLUE);return d;};f.AuGdsQdBuilderPanel.prototype.registerQm=function(){if(f.notNull(this.m_queryManager)){var q=this.m_queryManager.getQueryModel();q.getRowsAxis().registerChangedListener(this,null);q.getColumnsAxis().registerChangedListener(this,null);q.getMeasureDimension().registerChangedListener(this,null);var d=q.getDimensions();for(var i=0;i<d.size();i++){var a=d.get(i);if(!a.isStructure()){continue;}var b=a.getAllStructureMembers();for(var j=0;j<b.size();j++){b.get(j).registerChangedListener(this,null);}}}};f.AuGdsQdBuilderPanel.prototype.unregisterQm=function(){if(f.notNull(this.m_queryManager)){var q=this.m_queryManager.getQueryModel();q.getRowsAxis().unregisterChangedListener(this);q.getColumnsAxis().unregisterChangedListener(this);q.getMeasureDimension().unregisterChangedListener(this);var d=q.getDimensions();for(var i=0;i<d.size();i++){var a=d.get(i);if(!a.isStructure()){continue;}var b=a.getAllStructureMembers();for(var j=0;j<b.size();j++){b.get(j).unregisterChangedListener(this);}}}};f.AuGdsQdBuilderPanel.prototype.onMenuAction=function(){this.updateBuilderPanel();this.notifyEditActionListeners();};f.AuGdsQdBuilderPanel.prototype.notifyEditActionListeners=function(){for(var i=0;i<this.m_editActionListeners.size();i++){this.m_editActionListeners.get(i).notifyEditAction();}};f.AuGdsQdBuilderPanel.prototype.clearEditActionListeners=function(){this.m_editActionListeners.clear();};f.AuGdsQdBuilderPanel.prototype.onModelComponentChanged=function(m,c){if(this.m_ignoreEvent){return;}this.updateBuilderPanel();};f.AuGdsQdBuilderPanel.prototype.onMoreButtonPressed=function(p,c){var m=this.getGenesis().newControl(f.UiType.MENU);this.extendMenuWithDisplayOptions(m,function(){this.updateLabels();}.bind(this));m.openAt(c);};f.AuGdsQdNavigationPanel=function(){};f.AuGdsQdNavigationPanel.prototype=new f.AuGdsQdPanelWithPresentation();f.AuGdsQdNavigationPanel.prototype._ff_c="AuGdsQdNavigationPanel";f.AuGdsQdNavigationPanel.DARK_BLUE=null;f.AuGdsQdNavigationPanel.TRANSPARENT_GREY=null;f.AuGdsQdNavigationPanel.createNavPanel=function(g){var o=new f.AuGdsQdNavigationPanel();o.setupNav(g);return o;};f.AuGdsQdNavigationPanel.prototype.m_queryManager=null;f.AuGdsQdNavigationPanel.prototype.m_root=null;f.AuGdsQdNavigationPanel.prototype.m_ignoreEvent=false;f.AuGdsQdNavigationPanel.prototype.m_editActionListeners=null;f.AuGdsQdNavigationPanel.prototype.m_searchField=null;f.AuGdsQdNavigationPanel.prototype.m_measureSpace=null;f.AuGdsQdNavigationPanel.prototype.m_structureSpace=null;f.AuGdsQdNavigationPanel.prototype.m_dimensions=null;f.AuGdsQdNavigationPanel.prototype.m_dimComponents=null;f.AuGdsQdNavigationPanel.prototype.setupNav=function(g){if(f.isNull(f.AuGdsQdNavigationPanel.DARK_BLUE)){f.AuGdsQdNavigationPanel.DARK_BLUE=f.UiColor.BLUE.newDarkerColor(0.2);}if(f.isNull(f.AuGdsQdNavigationPanel.TRANSPARENT_GREY)){f.AuGdsQdNavigationPanel.TRANSPARENT_GREY=f.UiColor.GREY.newColorWithAlpha(0.4);}f.AuGdsQdPanelWithPresentation.prototype.setupPresentationPanel.call(this,g,null);this.m_editActionListeners=f.XList.create();this.m_root=this.getGenesis().newControl(f.UiType.FLEX_LAYOUT);this.m_root.setDirection(f.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.setPadding(f.UiCssBoxEdges.create("8px"));var o=f.AuGdsLambdaListener.create(function(){this.doSearch(this.m_searchField.getText());}.bind(this));this.m_searchField=this.m_root.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_searchField.setMargin(f.UiCssBoxEdges.create("0px 0px 5px 0px"));this.m_searchField.setFlex("0 1 auto");this.m_searchField.registerOnSearch(o);this.m_searchField.registerOnLiveChange(o);this.m_measureSpace=this.m_root.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_measureSpace.setDirection(f.UiFlexDirection.COLUMN);this.m_measureSpace.setMargin(f.UiCssBoxEdges.create("0px 0px 5px 0px"));this.m_measureSpace.setFlex("1 1 50%");this.m_measureSpace.setVisible(false);this.m_structureSpace=this.m_root.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_structureSpace.setFlex("0 1 auto");this.m_structureSpace.setDirection(f.UiFlexDirection.COLUMN);this.m_structureSpace.setMargin(f.UiCssBoxEdges.create("0px 0px 5px 0px"));this.m_structureSpace.setFlex("1 1 50%");this.m_structureSpace.setVisible(false);var d=this.m_root.addNewItemOfType(f.UiType.FLEX_LAYOUT);d.setFlex("1 1 50%");d.setDirection(f.UiFlexDirection.COLUMN);var a=d.addNewItemOfType(f.UiType.LABEL);a.setText("Dimensions");a.setFontSize(f.UiCssLength.create("1rem"));a.setFontWeight(f.UiFontWeight.BOLD);a.setPadding(f.UiCssBoxEdges.create("4px"));a.setFlex("0 0 auto");a.setBorderWidth(f.UiCssBoxEdges.create("1px 0 0 0"));a.setBorderStyle(f.UiBorderStyle.SOLID);a.setBorderColor(f.UiTheme.getCurrentTheme().getLightGrayColor());this.m_dimensions=d.addNewItemOfType(f.UiType.LIST);this.m_dimensions.setFlex("0 1 100%");this.m_dimensions.setSelectionMode(f.UiSelectionMode.NONE);this.m_dimensions.setBorderWidth(f.UiCssBoxEdges.create("0px"));this.setTitle("Available Items");this.setIcon("menu");this.setContent(this.m_root);this.registerOnPanelActionsListener(this);};f.AuGdsQdNavigationPanel.prototype.releaseObject=function(){this.m_searchField=null;this.m_measureSpace=null;this.m_structureSpace=null;this.m_dimensions=null;this.m_dimComponents=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimComponents);this.m_editActionListeners.clear();this.m_editActionListeners=f.XObjectExt.release(this.m_editActionListeners);this.m_queryManager=null;this.m_root=f.XObjectExt.release(this.m_root);f.AuGdsQdPanelWithPresentation.prototype.releaseObject.call(this);};f.AuGdsQdNavigationPanel.prototype.doSearch=function(s){var a=f.XStringUtils.isNullOrEmpty(s);for(var i=0;i<this.m_dimComponents.size();i++){var d=this.m_dimComponents.get(i);if(d.getDimension().isStructure()){var m=d.getMembers();for(var j=0;j<m.size();j++){var b=m.get(j);b.getRoot().setVisible(a||f.XStringUtils.containsString(b.getLabel().getText(),s,true));}}else{d.getRoot().setVisible(a||f.XStringUtils.containsString(d.getLabel().getText(),s,true));}}};f.AuGdsQdNavigationPanel.prototype.addEditActionListener=function(e){this.m_editActionListeners.add(e);};f.AuGdsQdNavigationPanel.prototype.removeEditActionListener=function(e){this.m_editActionListeners.removeElement(e);};f.AuGdsQdNavigationPanel.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsQdNavigationPanel.prototype.setQueryManager=function(m){this.unregisterQm();this.m_queryManager=m;this.registerQm();this.updateNavPanel();};f.AuGdsQdNavigationPanel.prototype.updateNavPanel=function(){this.m_dimComponents=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimComponents);this.m_dimComponents=f.XList.create();this.m_measureSpace.clearItems();this.m_structureSpace.clearItems();this.m_dimensions.clearItems();var d=this.m_queryManager.getDimensionAccessor().getDimensions();for(var i=0;i<d.size();i++){var a=d.get(i);if(!a.supportsAxis(f.AxisType.ROWS)&&!a.supportsAxis(f.AxisType.COLUMNS)){continue;}if(a.isMeasureStructure()){this.buildStructurePanel(this.m_measureSpace,a,"Measures");}else if(a.isStructure()){this.buildStructurePanel(this.m_structureSpace,a,a.getText());}else{this.addDimensionItem(this.m_dimensions,a);}}this.updateLabels();this.updateCheckboxes();this.updateIcons();};f.AuGdsQdNavigationPanel.prototype.buildStructurePanel=function(s,d,t){var h=s.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setDirection(f.UiFlexDirection.ROW);h.setAlignContent(f.UiFlexAlignContent.CENTER);h.setFlex("0 0 auto");h.setBorderWidth(f.UiCssBoxEdges.create("1px 0 0 0"));h.setBorderStyle(f.UiBorderStyle.SOLID);h.setBorderColor(f.UiTheme.getCurrentTheme().getLightGrayColor());var a=h.addNewItemOfType(f.UiType.CHECKBOX);a.registerOnChange(f.AuGdsLambdaListener.create(function(){this.handleSelectAll(a,d);}.bind(this)));var i=this.createIcons(h,d);var l=h.addNewItemOfType(f.UiType.LABEL);l.setText(t);l.setFontSize(f.UiCssLength.create("1rem"));l.setFontWeight(f.UiFontWeight.BOLD);l.useMaxWidth();l.setTag(f.AuGdsQdBuilderPanel.DIM_TAG);l.setCustomObject(d);l.setDraggable(true);var b=s.addNewItemOfType(f.UiType.LIST);b.setSelectionMode(f.UiSelectionMode.NONE);b.setBorderWidth(f.UiCssBoxEdges.create("0px"));var m=d.getAllStructureMembers();var c=f.XList.create();for(var j=0;j<m.size();j++){c.add(this.addMemberItem(b,m.get(j)));}if(m.size()>0){s.setVisible(true);}this.m_dimComponents.add(f.AuGdsQdDimensionViewModel.createStructureForNavPanel(d,c,l,i.getFirstObject(),i.getSecondObject(),a));};f.AuGdsQdNavigationPanel.prototype.addMemberItem=function(l,m){var a=this.getGenesis().newControl(f.UiType.CUSTOM_LIST_ITEM);a.setBorderWidth(f.UiCssBoxEdges.create("0px"));a.registerOnContextMenu(f.AuGdsLambdaListenerWithEvent.create(function(e){this.showMemberMenu(e,m);}.bind(this)));var b=a.setNewContent(f.UiType.FLEX_LAYOUT);b.setAlignContent(f.UiFlexAlignContent.CENTER);var c=b.addNewItemOfType(f.UiType.CHECKBOX);c.registerOnChange(f.AuGdsLambdaListener.create(function(){m.setResultVisibility(c.isChecked()?f.ResultVisibility.VISIBLE:f.ResultVisibility.HIDDEN);this.notifyEditActionListeners();}.bind(this)));var d=b.addNewItemOfType(f.UiType.LABEL);d.setTag(m.getDimension().getName());d.useMaxWidth();d.setDraggable(true);d.setCustomObject(m);l.addItem(a);return f.AuGdsQdMemberViewModel.createMemberForNavPanel(m,a,d,c);};f.AuGdsQdNavigationPanel.prototype.addDimensionItem=function(l,d){var a=this.getGenesis().newControl(f.UiType.CUSTOM_LIST_ITEM);a.setBorderWidth(f.UiCssBoxEdges.create("0px"));a.setTag(f.AuGdsQdBuilderPanel.DIM_TAG);a.setCustomObject(d);a.setDraggable(true);a.registerOnContextMenu(f.AuGdsLambdaListenerWithEvent.create(function(e){this.showDimMenu(e,d);}.bind(this)));var b=a.setNewContent(f.UiType.FLEX_LAYOUT);b.useMaxWidth();b.setHeight(f.UiCssLength.create("28px"));b.setPadding(f.UiCssBoxEdges.create("4px"));b.setAlignContent(f.UiFlexAlignContent.CENTER);var i=this.createIcons(b,d);var c=b.addNewItemOfType(f.UiType.LABEL);l.addItem(a);this.m_dimComponents.add(f.AuGdsQdDimensionViewModel.createDimensionForNavPanel(d,a,c,i.getFirstObject(),i.getSecondObject()));};f.AuGdsQdNavigationPanel.prototype.createIcons=function(c,d){var r=c.addNewItemOfType(f.UiType.ICON);r.setIcon("table-row").setHeight(f.UiCssLength.create("16px"));r.setEnabled(d.supportsAxis(f.AxisType.ROWS));r.registerOnPress(f.AuGdsLambdaListener.create(function(){this.toggleDimemsionAxis(d,f.AxisType.ROWS);}.bind(this)));c.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("4px"));var a=c.addNewItemOfType(f.UiType.ICON);a.setIcon("table-column").setHeight(f.UiCssLength.create("16px"));a.setEnabled(d.supportsAxis(f.AxisType.COLUMNS));a.registerOnPress(f.AuGdsLambdaListener.create(function(){this.toggleDimemsionAxis(d,f.AxisType.COLUMNS);}.bind(this)));c.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("10px"));return f.XPair.create(r,a);};f.AuGdsQdNavigationPanel.prototype.toggleDimemsionAxis=function(d,s){if(d.getAxisType()===s){d.getConvenienceCommands().moveDimensionToFree(d.getName());}else{d.getConvenienceCommands().moveDimensionToAxis(d.getName(),s);}this.notifyEditActionListeners();};f.AuGdsQdNavigationPanel.prototype.handleSelectAll=function(c,d){this.m_ignoreEvent=true;var m=d.getAllStructureMembers();for(var k=0;k<m.size();k++){m.get(k).setResultVisibility(c.isChecked()?f.ResultVisibility.VISIBLE:f.ResultVisibility.HIDDEN);}this.m_ignoreEvent=false;this.onModelComponentChanged(null,null);this.notifyEditActionListeners();};f.AuGdsQdNavigationPanel.prototype.registerQm=function(){if(f.notNull(this.m_queryManager)){var q=this.m_queryManager.getQueryModel();q.getRowsAxis().registerChangedListener(this,null);q.getColumnsAxis().registerChangedListener(this,null);q.getFreeAxis().registerChangedListener(this,null);q.getMeasureDimension().registerChangedListener(this,null);var d=q.getDimensions();for(var i=0;i<d.size();i++){var a=d.get(i);if(!a.isStructure()){continue;}var b=a.getAllStructureMembers();for(var j=0;j<b.size();j++){b.get(j).registerChangedListener(this,null);}}}};f.AuGdsQdNavigationPanel.prototype.unregisterQm=function(){if(f.notNull(this.m_queryManager)){var q=this.m_queryManager.getQueryModel();q.getRowsAxis().unregisterChangedListener(this);q.getColumnsAxis().unregisterChangedListener(this);q.getFreeAxis().unregisterChangedListener(this);q.getMeasureDimension().unregisterChangedListener(this);var d=q.getDimensions();for(var i=0;i<d.size();i++){var a=d.get(i);if(!a.isStructure()){continue;}var b=a.getAllStructureMembers();for(var j=0;j<b.size();j++){b.get(j).unregisterChangedListener(this);}}}};f.AuGdsQdNavigationPanel.prototype.onMenuAction=function(){this.notifyEditActionListeners();};f.AuGdsQdNavigationPanel.prototype.notifyEditActionListeners=function(){for(var i=0;i<this.m_editActionListeners.size();i++){this.m_editActionListeners.get(i).notifyEditAction();}};f.AuGdsQdNavigationPanel.prototype.onModelComponentChanged=function(m,c){if(this.m_ignoreEvent){return;}this.updateIcons();this.updateCheckboxes();};f.AuGdsQdNavigationPanel.prototype.updateLabels=function(){for(var i=0;i<this.m_dimComponents.size();i++){var s=this.m_dimComponents.get(i);var d=s.getDimension();if(!d.isMeasureStructure()){s.getLabel().setText(this.getPresentationType().getDisplayValue(d));}var m=s.getMembers();for(var j=0;j<m.size();j++){var a=m.get(j);var b=a.getMember();a.getLabel().setText(this.getPresentationType().getDisplayValue(b));}}};f.AuGdsQdNavigationPanel.prototype.updateIcons=function(){for(var i=0;i<this.m_dimComponents.size();i++){var s=this.m_dimComponents.get(i);var d=s.getDimension();var r=s.getRowIcon();if(!r.isEnabled()){r.setColor(f.AuGdsQdNavigationPanel.TRANSPARENT_GREY);}else{r.setColor(d.getAxisType()===f.AxisType.ROWS?f.AuGdsQdNavigationPanel.DARK_BLUE:f.UiColor.GREY);}var c=s.getColumnIcon();if(!c.isEnabled()){c.setColor(f.AuGdsQdNavigationPanel.TRANSPARENT_GREY);}else{c.setColor(d.getAxisType()===f.AxisType.COLUMNS?f.AuGdsQdNavigationPanel.DARK_BLUE:f.UiColor.GREY);}}};f.AuGdsQdNavigationPanel.prototype.updateCheckboxes=function(){for(var i=0;i<this.m_dimComponents.size();i++){var s=this.m_dimComponents.get(i);this.updateMasterCheckbox(s);var m=s.getMembers();for(var j=0;j<m.size();j++){var a=m.get(j);var b=a.getMember();var c=a.getCheckbox();c.setChecked(b.getResultVisibility()!==f.ResultVisibility.HIDDEN);}}};f.AuGdsQdNavigationPanel.prototype.updateMasterCheckbox=function(s){var o=false;var a=true;var m=s.getMembers();for(var i=0;i<m.size();i++){var b=m.get(i);var v=b.getMember().getResultVisibility()===f.ResultVisibility.VISIBLE;o=o||v;a=a&&v;}var c=s.getAllCb();c.setChecked(o);c.setPartiallyChecked(!a);};f.AuGdsQdNavigationPanel.prototype.clearEditActionListeners=function(){this.m_editActionListeners.clear();};f.AuGdsQdNavigationPanel.prototype.onMoreButtonPressed=function(p,c){var m=this.getGenesis().newControl(f.UiType.MENU);this.extendMenuWithDisplayOptions(m,function(){this.updateLabels();}.bind(this));m.openAt(c);};f.AuGdsQdPanelPresentation=function(){};f.AuGdsQdPanelPresentation.prototype=new f.XConstant();f.AuGdsQdPanelPresentation.prototype._ff_c="AuGdsQdPanelPresentation";f.AuGdsQdPanelPresentation.ID=null;f.AuGdsQdPanelPresentation.DESCRIPTION=null;f.AuGdsQdPanelPresentation.ID_AND_DESCRIPTION=null;f.AuGdsQdPanelPresentation.DESCRIPTION_AND_ID=null;f.AuGdsQdPanelPresentation.staticSetup=function(){f.AuGdsQdPanelPresentation.ID=f.XConstant.setupName(new f.AuGdsQdPanelPresentation(),"id");f.AuGdsQdPanelPresentation.DESCRIPTION=f.XConstant.setupName(new f.AuGdsQdPanelPresentation(),"description");f.AuGdsQdPanelPresentation.ID_AND_DESCRIPTION=f.XConstant.setupName(new f.AuGdsQdPanelPresentation(),"idAndDescription");f.AuGdsQdPanelPresentation.DESCRIPTION_AND_ID=f.XConstant.setupName(new f.AuGdsQdPanelPresentation(),"descriptionAndId");};f.AuGdsQdPanelPresentation.prototype.getDisplayValue=function(o){if(this===f.AuGdsQdPanelPresentation.ID){return o.getName();}else if(this===f.AuGdsQdPanelPresentation.DESCRIPTION){return o.getText();}else if(this===f.AuGdsQdPanelPresentation.ID_AND_DESCRIPTION){return f.XStringUtils.concatenate4(o.getName()," (",o.getText(),")");}else if(this===f.AuGdsQdPanelPresentation.DESCRIPTION_AND_ID){return f.XStringUtils.concatenate4(o.getText()," (",o.getName(),")");}throw f.XException.createIllegalArgumentException("unknown presentation type");};f.AuProteusShell=function(){};f.AuProteusShell.prototype=new f.DfProgram();f.AuProteusShell.prototype._ff_c="AuProteusShell";f.AuProteusShell.DEFAULT_PROGRAM_NAME="Proteus";f.AuProteusShell.OUTPUT_DIR="output";f.AuProteusShell.prototype.m_proteusEngine=null;f.AuProteusShell.prototype.m_quasarJsonDocument=null;f.AuProteusShell.prototype.m_inputFile=null;f.AuProteusShell.prototype.m_outputDir=null;f.AuProteusShell.prototype.newProgram=function(){var n=new f.AuProteusShell();n.setup();return n;};f.AuProteusShell.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify the quasar file","Path to the file",f.XValueType.STRING);m.addOption(f.AuProteusShell.OUTPUT_DIR,"Specify the output directory","The path to the output directory",f.XValueType.STRING);};f.AuProteusShell.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);var s=this.getSession();var a=this.getArgumentStructure();var i=a.getStringByKey(f.DfProgram.PARAM_FILE);if(f.XStringUtils.isNotNullAndNotEmpty(i)===true){this.m_inputFile=f.XFile.createExt(s,i,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}var o=a.getStringByKey(f.TeAthena.PARAM_TYPE);if(f.XStringUtils.isNotNullAndNotEmpty(o)===true){this.m_outputDir=f.XFile.createExt(s,o,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}if(f.isNull(this.m_outputDir)){this.m_outputDir=f.XFile.createExt(s,"${ff_tmp}/proteus/",f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}};f.AuProteusShell.prototype.releaseObject=function(){this.m_quasarJsonDocument=null;this.m_inputFile=f.XObjectExt.release(this.m_inputFile);this.m_outputDir=f.XObjectExt.release(this.m_outputDir);this.m_proteusEngine=f.XObjectExt.release(this.m_proteusEngine);f.DfProgram.prototype.releaseObject.call(this);};f.AuProteusShell.prototype.runProcess=function(){this.println("Proteus quasar -> ui5 converter tool");this.loadQuasarFile();this.exitNow(0);return false;};f.AuProteusShell.prototype.loadQuasarFile=function(){if(f.isNull(this.m_inputFile)){var a="${ff_sdk}/production/queries/proteus/simple_quasar.qsa";var s=this.getSession();this.m_inputFile=f.XFile.createExt(s,a,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}this.m_inputFile.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);};f.AuProteusShell.prototype.createEngineAndRun=function(){if(f.notNull(this.m_quasarJsonDocument)&&this.m_quasarJsonDocument.size()>0){this.println("Processing document!");this.m_proteusEngine=f.AuProteusEngine.createEngine(this.m_quasarJsonDocument);this.m_proteusEngine.convert();}else{this.println("Specified file is empty or not a quasar document");}};f.AuProteusShell.prototype.saveOutput=function(){if(f.notNull(this.m_proteusEngine)){if(this.m_proteusEngine.hasErrors()){var e=this.m_proteusEngine.getParsingErrors().getIterator();while(e.hasNext()){this.println(e.next());}}else{this.println("Quasar document successfully converted!");}this.println(f.XStringUtils.concatenate2("Saving output to: ",this.m_outputDir.getNativePath()));this.saveIndexHtmlTempalteToFile();this.saveViewFile(this.m_proteusEngine.getXmlViewContent());this.println("Successfully saved!");}};f.AuProteusShell.prototype.saveIndexHtmlTempalteToFile=function(){if(f.isNull(this.m_outputDir)){this.println("Output directory cannot be found!");}else{if(this.m_outputDir.isExisting()===false){this.m_outputDir.mkdirs();}var a=this.m_outputDir.newChild("index.html");if(f.isNull(a)){this.println("Cannot save!");}else{var b=f.XByteArray.convertFromString(this.m_proteusEngine.getHtmlFileContent());a.saveByteArray(b);this.println("HTML file saved!");}}};f.AuProteusShell.prototype.saveViewFile=function(v){if(f.isNull(this.m_outputDir)){this.println("Output directory cannot be found!");}else{var a=this.m_outputDir.newChild("views/");if(a.isExisting()===false){a.mkdirs();}var b=a.newChild("Main.view.xml");if(f.isNull(b)){this.println("Cannot save!");}else{var c=f.XByteArray.convertFromString(v);b.saveByteArray(c);this.println("View file saved!");}}};f.AuProteusShell.prototype.onFileLoaded=function(e,a,b,c){if(e.isValid()){if(f.notNull(b)){var s=b.getString();if(f.XStringUtils.isNotNullAndNotEmpty(s)){var p=f.JsonParserFactory.newInstance();var j=p.parse(s);if(f.notNull(j)){if(p.hasErrors()){this.print("Could not read document!");}else{f.XObjectExt.release(p);if(j.isStructure()){this.println("File loaded!");this.m_quasarJsonDocument=j;this.createEngineAndRun();this.saveOutput();}}}else{this.println("Document is not a json!");}}}}else{this.println("Failed to laod file!");}};f.GyrosCommand=function(){};f.GyrosCommand.prototype=new f.XConstant();f.GyrosCommand.prototype._ff_c="GyrosCommand";f.GyrosCommand.s_commands=null;f.GyrosCommand.SET_HIERARCHY_ON_COUNTRY_DIM=null;f.GyrosCommand.FILTER_ON_AUSTRALIA=null;f.GyrosCommand.FILTER_TYPE_ON_GERMANY=null;f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT=null;f.GyrosCommand.DUPLICATE_AND_LINK_UNION=null;f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT=null;f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_UNION=null;f.GyrosCommand.LINK_NONSENSE=null;f.GyrosCommand.LINK_CUSTOMER_ON_DIFFERENT_HIERARCHIES=null;f.GyrosCommand.CLONE_QUERY_MANAGER=null;f.GyrosCommand.SET_VARIABLES_VALUE_Q0005_MS=null;f.GyrosCommand.ADD_MATCH_FILTER=null;f.GyrosCommand.AUGMENT_CURRENCY_VARIABLE=null;f.GyrosCommand.CLEAR_DYNAMIC_FILTER=null;f.GyrosCommand.PURGE_TEST_VARIANTS=null;f.GyrosCommand.staticSetupGyrosCommands=function(){f.GyrosCommand.s_commands=f.XListOfNameObject.create();f.GyrosCommand.SET_HIERARCHY_ON_COUNTRY_DIM=f.GyrosCommand.createCommand("SetHierarchyOnCountryDim","Set hierarchy on dim 0BC_COUN");f.GyrosCommand.FILTER_ON_AUSTRALIA=f.GyrosCommand.createCommand("FilterOnAustralia","Filter on country Australia");f.GyrosCommand.FILTER_TYPE_ON_GERMANY=f.GyrosCommand.createCommand("FilterTypeOnGermany","Filter type on country Germany");f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT=f.GyrosCommand.createCommand("DuplicateAndLinkIntersect","Duplicate and link intersect");f.GyrosCommand.DUPLICATE_AND_LINK_UNION=f.GyrosCommand.createCommand("DuplicateAndLinkUnion","Duplicate and link union");f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT=f.GyrosCommand.createCommand("BicsAttributeVariablesIntersect","Intersect link BICS_ATTRIBUTE_VARIABLES");f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_UNION=f.GyrosCommand.createCommand("BicsAttributeVariablesUnion","Union link BICS_ATTRIBUTE_VARIABLES");f.GyrosCommand.LINK_NONSENSE=f.GyrosCommand.createCommand("NonsenseIntersect","Intersect completely different variables");f.GyrosCommand.LINK_CUSTOMER_ON_DIFFERENT_HIERARCHIES=f.GyrosCommand.createCommand("LinkCustomerOnDifferentHierarchies","Link customer variable with hierarchy 0BICS_HIER_CUST_TIME_DEP_2");f.GyrosCommand.CLONE_QUERY_MANAGER=f.GyrosCommand.createCommand("CloneQueryManager","Clone the Gyros QueryManager");f.GyrosCommand.SET_VARIABLES_VALUE_Q0005_MS=f.GyrosCommand.createCommand("SetVariableValueQ0005MS","Set variable values for query 0BICS_C03_BICSTEST_Q0005_MS");f.GyrosCommand.ADD_MATCH_FILTER=f.GyrosCommand.createCommand("AddMatchFilter","Add match filter on variable 0BC_TYPE_SE");f.GyrosCommand.AUGMENT_CURRENCY_VARIABLE=f.GyrosCommand.createCommand("AugmentCurrencyVariable","Add a currency variable");f.GyrosCommand.CLEAR_DYNAMIC_FILTER=f.GyrosCommand.createCommand("ClearDynamicFilter","Clear dynamic filter");f.GyrosCommand.PURGE_TEST_VARIANTS=f.GyrosCommand.createCommand("PurgeTestVariants",f.XStringUtils.concatenate3("Delete all test variants (",f.Gyros.TEST_VARIANT_PREFIX,"...)"));};f.GyrosCommand.createCommand=function(n,d){var c=new f.GyrosCommand();c._setupInternal(n);c.m_description=d;f.GyrosCommand.s_commands.add(c);return c;};f.GyrosCommand.getAllCommands=function(){return f.GyrosCommand.s_commands;};f.GyrosCommand.getByName=function(n){return f.GyrosCommand.s_commands.getByKey(n);};f.GyrosCommand.prototype.m_description=null;f.GyrosCommand.prototype.execute=function(g){var q=g.getQueryManager();if(f.notNull(q)){var a=q.getQueryModel();var n=this.getName();if(f.XString.isEqual(n,f.GyrosCommand.SET_HIERARCHY_ON_COUNTRY_DIM.getName())){a.getConvenienceCommands().setDimensionHierarchy("0BC_COUN","0BICS_COUN_DEEP_4",true,0);if(!a.getDimensionByName("0BC_COUN").isHierarchyActive()){throw f.XException.createIllegalStateException("Hierarchy could not be set.");}}else if(f.XString.isEqual(n,f.GyrosCommand.FILTER_ON_AUSTRALIA.getName())){a.getConvenienceCommands().addSingleMemberFilterByDimensionName("0BC_COUN","AUS",f.ComparisonOperator.EQUAL);}else if(f.XString.isEqual(n,f.GyrosCommand.FILTER_TYPE_ON_GERMANY.getName())){a.getConvenienceCommands().addSingleMemberFilterByDimensionName("0BC_TYPE","0HIER_NODE!DE",f.ComparisonOperator.EQUAL);}else if(f.XString.isEqual(n,f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT.getName())||f.XString.isEqual(n,f.GyrosCommand.DUPLICATE_AND_LINK_UNION.getName())){var i=f.XString.isEqual(n,f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT.getName());g.setLinkage(this.createDuplicateLinkage(g,i?f.OrcaLinkVarJoinMode.INTERSECT:f.OrcaLinkVarJoinMode.UNION));}else if(f.XString.isEqual(n,f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT.getName())||f.XString.isEqual(n,f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_UNION.getName())){var b=f.XString.isEqual(n,f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT.getName());g.setLinkage(this.createBicsAttributeVariablesLinkage(g,b?f.OrcaLinkVarJoinMode.INTERSECT:f.OrcaLinkVarJoinMode.UNION));}else if(f.XString.isEqual(n,f.GyrosCommand.LINK_NONSENSE.getName())){g.setLinkage(this.createNonsenseLink(g,f.OrcaLinkVarJoinMode.INTERSECT));}else if(f.XString.isEqual(n,f.GyrosCommand.LINK_CUSTOMER_ON_DIFFERENT_HIERARCHIES.getName())){g.setLinkage(this.createDifferentHierarchyLinkage(g));}else if(f.XString.isEqual(n,f.GyrosCommand.CLONE_QUERY_MANAGER.getName())){g.getQueryManager().cloneQueryManager();}else if(f.XString.isEqual(n,f.GyrosCommand.SET_VARIABLES_VALUE_Q0005_MS.getName())){var v=g.getQueryManager().getVariableProcessor();var c=v.getVariable("0BC_COUN_WERTEBEREICH");c.setValueByString("DE");}else if(f.XString.isEqual(n,f.GyrosCommand.ADD_MATCH_FILTER.getName())){this.addMatchFilter(a);}else if(f.XString.isEqual(n,f.GyrosCommand.AUGMENT_CURRENCY_VARIABLE.getName())){var p="${ff_sdk}/production/queries/test/olap/fusion/TestOlapFusionCustomVariableCurrencyConversion/minimalAugment.json";var d=f.XFile.createExt(q.getSession(),p,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(d)||!d.isExisting()){throw f.XException.createIllegalStateException("File for augment not found.");}var s=d.processLoad(f.SyncType.BLOCKING,null,null,f.CompressionType.NONE);if(s.hasErrors()||d.getFileContent().getString()===null){throw f.XException.createIllegalStateException("File for augment could not be loaded.");}var j=d.getFileContent().getJsonContent();var m=f.XContent.createJsonObjectContent(f.QModelFormat.SFX,j);var e=f.DocConverterFactory.createDocConverter(f.QModelFormat.SFX,f.QModelFormat.INA_REPOSITORY);var h=e.convert(q.getApplication(),m,f.QModelFormat.INA_REPOSITORY);var k=h.getData();q.getQueryModel().deserializeExt(f.QModelFormat.INA_REPOSITORY,k.toString());}else if(f.XString.isEqual(n,f.GyrosCommand.CLEAR_DYNAMIC_FILTER.getName())){a.getConvenienceCommands().clearFilters();}else if(f.XString.isEqual(n,f.GyrosCommand.PURGE_TEST_VARIANTS.getName())){f.XStream.of(q.getVariableVariants()).filter(function(l){return f.XString.startsWith(l.getName(),f.Gyros.TEST_VARIANT_PREFIX)||f.XString.startsWith(l.getText(),f.Gyros.TEST_VARIANT_PREFIX);}.bind(this)).forEach(function(l){q.deleteVariableVariant(l,f.SyncType.BLOCKING,null,null);}.bind(this));}}};f.GyrosCommand.prototype.addMatchFilter=function(q){var v=q.getVariable("0BC_TYPE_SE");var d=v.getDimension();var m=v.getMemberFilter();m.addSupplementField(d.getDisplayKeyField());m.addSupplementField(d.getTextField());var a=m.addNewCartesianElement();a.setComparisonOperator(f.ComparisonOperator.MATCH);a.setField(d.getKeyField());var l=a.getLow();l.setString("C");l.addSupplementValue(d.getDisplayKeyField().getName(),"C");l.addSupplementValue(d.getTextField().getName(),"NSW Soft");};f.GyrosCommand.prototype.createBicsAttributeVariablesLinkage=function(g,m){var r=f.XHashMapByString.create();var q=g.getQueryManager();var a=q.getApplication();var d=q.getDataSource().getFullQualifiedName();if(!f.XString.isEqual(d,"view:[_SYS_BIC][bics.variables][BICS_ATTRIBUTE_VARIABLES]")){return r;}var s=q.getSystemName();var b=f.QueryServiceConfig.createWithDataSourceName(a,s,"view:[_SYS_BIC][bics.other][BICS_MEMBERS_WITH_EMPTY_AND_NULL_KEYS]");var c=b.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(c.hasErrors()){return r;}var l=c.getData();var e=l.getVariable("INT_ID_VAR");var h=q.getVariable("CUSTOMER_M_S");r.put(h.getName(),f.XPair.create(m,f.XCollectionUtils.singletonList(e)));var i=q.getVariable("PRODUCT_M_I");r.put(i.getName(),f.XPair.create(m,f.XCollectionUtils.singletonList(e)));return r;};f.GyrosCommand.prototype.createDuplicateLinkage=function(g,m){var r=f.XHashMapByString.create();var a=g.getQueryManager();var s=a.getSystemName();var d=a.getDataSource();var b=f.QueryServiceConfig.createWithDataSourceName(g.getApplication(),s,d.getFullQualifiedName());var c=b.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(c.hasErrors()){return r;}var l=c.getData();var v=a.getInputEnabledAndNonTechnicalVariables();for(var i=0;i<v.size();i++){var e=v.get(i);var h=e.getName();var j=l.getVariable(h);r.put(h,f.XPair.create(m,f.XCollectionUtils.singletonList(j)));}return r;};f.GyrosCommand.prototype.createDifferentHierarchyLinkage=function(g){var r=f.XHashMapByString.create();var m=g.getQueryManager();var s=m.getSystemName();var d=m.getDataSource();var a=f.QueryServiceConfig.createWithDataSourceName(g.getApplication(),s,d.getFullQualifiedName());var b=a.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(b.hasErrors()){return r;}var l=b.getData();l.getVariable("0BC_CUST_HIERARCHY_INPUT").setValueByString("0BICS_HIER_CUST_TIME_DEP_2");r.put("0BC_CUST_NODE",f.XPair.create(f.OrcaLinkVarJoinMode.INTERSECT,f.XCollectionUtils.singletonList(l.getVariable("0BC_CUST_NODE"))));return r;};f.GyrosCommand.prototype.createNonsenseLink=function(g,m){var r=f.XHashMapByString.create();var a=g.getQueryManager();if(!f.XString.isEqual(a.getDataSource().getFullQualifiedName(),"query:[][][0BOC_TEST_VARIABLE_TYPES_1]")){return r;}var s=a.getSystemName();var b=f.QueryServiceConfig.createWithDataSourceName(g.getApplication(),s,"query:[0BOC_TEST_VARIABLE_TYPES_2]");var c=b.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(c.hasErrors()){return r;}var d=a.getVariable("0BICS_PCOUN");var l=c.getData().getVariable("0BC_CUST_HIERARCHY_INPUT");r.put(d.getName(),f.XPair.create(m,f.XCollectionUtils.singletonList(l)));return r;};f.GyrosCommand.prototype.getDescription=function(){return this.m_description;};f.AnalyticCardsProgram=function(){};f.AnalyticCardsProgram.prototype=new f.DfApplicationProgram();f.AnalyticCardsProgram.prototype._ff_c="AnalyticCardsProgram";f.AnalyticCardsProgram.DEFAULT_PROGRAM_NAME="AnalyticCards";f.AnalyticCardsProgram.SYSTEM_NAME="system";f.AnalyticCardsProgram.STORY_ID="story";f.AnalyticCardsProgram.CHART_WIDTH="width";f.AnalyticCardsProgram.CHART_HEIGHT="height";f.AnalyticCardsProgram.main=function(){f.ApplicationUiModule.getInstance();var a=f.KernelBoot.createByName(f.AnalyticCardsProgram.DEFAULT_PROGRAM_NAME);a.setArgument("story","87FE2F7A2943E2C3804B171509035B7");a.setArgument("system","starkiller");a.setDefaultSyncType(f.SyncType.BLOCKING);a.runFull();};f.AnalyticCardsProgram.prototype.m_systemName=null;f.AnalyticCardsProgram.prototype.m_storyId=null;f.AnalyticCardsProgram.prototype.m_chartHeight=0;f.AnalyticCardsProgram.prototype.m_chartWidth=0;f.AnalyticCardsProgram.prototype.m_orcaService=null;f.AnalyticCardsProgram.prototype.newProgram=function(){var n=new f.AnalyticCardsProgram();n.setup();return n;};f.AnalyticCardsProgram.prototype.doSetupProgramMetadata=function(m){f.DfApplicationProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.AnalyticCardsProgram.SYSTEM_NAME,"The system name","",f.XValueType.STRING);m.addOption(f.AnalyticCardsProgram.STORY_ID,"The story id name","",f.XValueType.STRING);m.addOption(f.AnalyticCardsProgram.CHART_HEIGHT,"The chart height in px","",f.XValueType.STRING);m.addOption(f.AnalyticCardsProgram.CHART_WIDTH,"The chart width in px","",f.XValueType.STRING);};f.AnalyticCardsProgram.prototype.runProcess=function(){var a=this.getArgumentStructure();if(f.notNull(a)){this.m_systemName=a.getStringByKey(f.AnalyticCardsProgram.SYSTEM_NAME);this.m_storyId=a.getStringByKey(f.AnalyticCardsProgram.STORY_ID);this.m_chartHeight=f.XInteger.convertFromString(a.getStringByKeyExt(f.AnalyticCardsProgram.CHART_HEIGHT,"0"));this.m_chartWidth=f.XInteger.convertFromString(a.getStringByKeyExt(f.AnalyticCardsProgram.CHART_WIDTH,"0"));var s=this.getApplication().getSystemLandscape();if(f.XStringUtils.containsString(this.m_systemName,"http://",true)||f.XStringUtils.containsString(this.m_systemName,"https://",true)){var b=f.XUri.createFromUrl(this.m_systemName);this.m_systemName=f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME;s.setSystemByUri(this.m_systemName,b,null);}else{s.setMasterSystemName(this.m_systemName);}var c=f.OcOrcaServiceConfig.create(this.getApplication(),this.m_systemName);var o=c.processOrcaServiceCreation(f.SyncType.BLOCKING,null,null);this.log(o.getSummary());if(o.isValid()){this.m_orcaService=o.getData();if(f.notNull(this.m_orcaService)){var l=this.m_orcaService.processSystemLandscapeLoad(f.SyncType.BLOCKING,null,null,null);this.log(l.getSummary());var d=l.getData();for(var i=0;i<d.size();i++){var e=d.get(i);s.setSystemByDescription(e);}var g=this.m_orcaService.processStoryLoad(null,null,null,this.m_storyId);this.log(g.getSummary());var h=g.getData();var q=f.OcQuasarStory.create(h);q.setQuasarMainLayoutType(f.OcLayoutType.CANVAS);var j=q.getQuasarCompositeAnalyticalCardDocument();var k=f.QuasarEngine.create(this.getApplication());k.setDocument(j);var u=f.UiServerManager.create(this.getSession(),f.XPlatform.GENERIC);var p=this.getProcess();p.setEntity(f.ProcessEntity.GUI,u);var m=p.getSelector();m.registerSelector(f.SigSelDomain.UI,u.getSigSelProviderSelector());m.registerSelector(f.SigSelDomain.DIALOG,u.getSigSelProviderSelector());var n=f.UiGenesis.create(u.getAnchor(),f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);k.buildUi(n);var r=this.constructOutput(u);var t=f.XContent.createContent();this.addDimensionsToChartJson(r,this.m_chartHeight,this.m_chartWidth);t.setJsonObject(r);this.getProgramContainer().setExitContent(t);this.println(r.toString());}}else{f.XLogger.println(o.getSummary());}return false;}return false;};f.AnalyticCardsProgram.prototype.addDimensionsToChartJson=function(o,h,w){if(f.notNull(o)&&o.containsKey("chart")){var c=o.getStructureByKey("chart");if(f.notNull(c)){var s=c.getStructureByKey("chart");if(f.notNull(s)){if(w>0){s.putInteger("width",w);}if(h>0){s.putInteger("height",h);}}}}};f.AnalyticCardsProgram.prototype.constructOutput=function(u){var o=f.PrFactory.createStructure();var s=u.getSelector();var c=s.selectComponentsByExpr("ui:.Chart",f.SigSelDomain.UI,null,2);var a;var m;if(f.notNull(c)&&c.size()>0){a=c.get(0);m=a.getModelJson();o.put("chart",m);}c=s.selectComponentsByExpr("ui:.Card",f.SigSelDomain.UI,null,2);if(f.notNull(c)&&c.size()>0){a=c.get(0);m=a.getModelJson();var b=m;b=b.getStructureByKey("sap.card");if(f.notNull(b)){b=b.getStructureByKey("header");if(f.notNull(b)){o.put("kpi",b);}}}c=s.selectComponentsByExpr("ui:.VizGrid",f.SigSelDomain.UI,null,2);if(f.notNull(c)&&c.size()>0){a=c.get(0);m=a.getModelJson();o.put("grid",m);}c=s.selectComponentsByExpr("ui:.Text",f.SigSelDomain.UI,null,2);if(f.notNull(c)&&c.size()>0){var h=o.putNewStructure("header");a=c.get(0);var t=a.getText();h.putString("title",t);h.putString("description",t);h.putString("publicUrl",c.get(1).getText());}return o;};f.LoadSystemsProgram=function(){};f.LoadSystemsProgram.prototype=new f.DfApplicationProgram();f.LoadSystemsProgram.prototype._ff_c="LoadSystemsProgram";f.LoadSystemsProgram.DEFAULT_PROGRAM_NAME="LoadSystems";f.LoadSystemsProgram.SYSTEM_NAME="system";f.LoadSystemsProgram.main=function(){f.ApplicationUiModule.getInstance();f.RpcHttpFunction.PRINT_REQUESTS=true;f.RpcHttpFunction.PRINT_RESPONSES=true;f.XLogger.getInstance().setLogFilterLevel(3);var a=f.KernelBoot.createByName(f.LoadSystemsProgram.DEFAULT_PROGRAM_NAME);a.setArgument("system","starkiller");a.setArgument("loglevel","0");a.setDefaultSyncType(f.SyncType.BLOCKING);a.runFull();};f.LoadSystemsProgram.prototype.m_systemName=null;f.LoadSystemsProgram.prototype.m_orcaService=null;f.LoadSystemsProgram.prototype.newProgram=function(){var n=new f.LoadSystemsProgram();n.setup();return n;};f.LoadSystemsProgram.prototype.doSetupProgramMetadata=function(m){f.DfApplicationProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.LoadSystemsProgram.SYSTEM_NAME,"The system name","",f.XValueType.STRING);};f.LoadSystemsProgram.prototype.runProcess=function(){var a=this.getArgumentStructure();if(f.notNull(a)){this.m_systemName=a.getStringByKey(f.LoadSystemsProgram.SYSTEM_NAME);var s=this.getApplication().getSystemLandscape();if(f.XStringUtils.containsString(this.m_systemName,"http://",true)||f.XStringUtils.containsString(this.m_systemName,"https://",true)){var b=f.XUri.createFromUrl(this.m_systemName);this.m_systemName=f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME;s.setSystemByUri(this.m_systemName,b,null);}else{s.setMasterSystemName(this.m_systemName);}var c=f.OcOrcaServiceConfig.create(this.getApplication(),this.m_systemName);var o=c.processOrcaServiceCreation(f.SyncType.BLOCKING,null,null);this.log(o.getSummary());if(o.isValid()){this.m_orcaService=o.getData();if(f.notNull(this.m_orcaService)){var l=this.m_orcaService.processSystemLandscapeLoad(f.SyncType.BLOCKING,null,null,f.OrcaSystemConverter.CLIENT_CONTEXT);this.log(l.getSummary());var d=l.getData();for(var i=0;i<d.size();i++){var e=d.get(i);s.setSystemByDescription(e);}var g=this.constructOutput(s);var h=f.XContent.createContent();h.setJsonObject(g);this.getProgramContainer().setExitContent(h);this.println(g.toString());}}else{f.XLogger.println(o.getSummary());}return false;}return false;};f.LoadSystemsProgram.prototype.constructOutput=function(s){var o=f.PrFactory.createStructure();var a=o.putNewStructure("Systems");var b=s.getSystemNames();var c=b.getIterator();while(c.hasNext()){var d=c.next();var e=s.getSystemDescription(d);var g=a.putNewStructure(d);var p=e.getProperties();var k=p.getKeysAsIteratorOfString();while(k.hasNext()){var h=k.next();g.putString(h,p.getByKey(h));}}return o;};f.AuGdsLambdaSyncAction=function(){};f.AuGdsLambdaSyncAction.prototype=new f.SyncAction();f.AuGdsLambdaSyncAction.prototype._ff_c="AuGdsLambdaSyncAction";f.AuGdsLambdaSyncAction.create=function(c,l,s,d){var i=new f.AuGdsLambdaSyncAction();i.setupAction(f.SyncType.NON_BLOCKING,l,null,c);i.m_resultSupplier=s;i.m_delayInMillis=d;return i;};f.AuGdsLambdaSyncAction.prototype.m_resultSupplier=null;f.AuGdsLambdaSyncAction.prototype.m_delayInMillis=0;f.AuGdsLambdaSyncAction.prototype.m_timerHanlde=null;f.AuGdsLambdaSyncAction.prototype.processSynchronization=function(s){this.m_timerHanlde=f.Dispatcher.getInstance().registerTimer(this.m_delayInMillis,this,null);return s!==f.SyncType.BLOCKING;};f.AuGdsLambdaSyncAction.prototype.releaseObject=function(){this.m_resultSupplier=null;f.SyncAction.prototype.releaseObject.call(this);};f.AuGdsLambdaSyncAction.prototype.onTimerEvent=function(a,c){try{f.Dispatcher.getInstance().unregisterTimer(this.m_timerHanlde);var d=this.m_resultSupplier();if(this.isSyncCanceled()){this.addError(2,"Action has been canceled");}else{this.setData(d);}this.endSync();}catch(t){this.addError(1,f.XException.getStackTrace(t,0));}};f.AuGdsLambdaSyncAction.prototype.cancelSynchronization=function(){f.Dispatcher.getInstance().unregisterTimer(this.m_timerHanlde);this.addError(0,"Canceled");f.SyncAction.prototype.cancelSynchronization.call(this);};f.McCellType=function(){};f.McCellType.prototype=new f.XConstantWithParent();f.McCellType.prototype._ff_c="McCellType";f.McCellType.INITIAL=null;f.McCellType.VALUE=null;f.McCellType.STRING=null;f.McCellType.DOUBLE=null;f.McCellType.EXPRESSION=null;f.McCellType.staticSetup=function(){f.McCellType.INITIAL=f.McCellType.create("Initial",null);f.McCellType.VALUE=f.McCellType.create("Value",null);f.McCellType.STRING=f.McCellType.create("String",f.McCellType.VALUE);f.McCellType.DOUBLE=f.McCellType.create("Double",f.McCellType.DOUBLE);f.McCellType.EXPRESSION=f.McCellType.create("Expression",null);};f.McCellType.create=function(n,p){var t=new f.McCellType();t.setupExt(n,p);return t;};f.AuDatasourcePicker=function(){};f.AuDatasourcePicker.prototype=new f.DfUiProgram();f.AuDatasourcePicker.prototype._ff_c="AuDatasourcePicker";f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME="DatasourcePicker";f.AuDatasourcePicker.PAGE_SIZE=25;f.AuDatasourcePicker.MAX_RECENT_RECORDS=15;f.AuDatasourcePicker.PARAM_APPLICATION="application";f.AuDatasourcePicker.PARAM_SYSTEM="system";f.AuDatasourcePicker.PARAM_LISTENER="listener";f.AuDatasourcePicker.DS_PICKER_RECENT="dsPicker_recent";f.AuDatasourcePicker.prototype.m_app=null;f.AuDatasourcePicker.prototype.m_systemsByType=null;f.AuDatasourcePicker.prototype.m_currentCatalogManager=null;f.AuDatasourcePicker.prototype.m_currentData=null;f.AuDatasourcePicker.prototype.m_currentPage=0;f.AuDatasourcePicker.prototype.m_startSystemName=null;f.AuDatasourcePicker.prototype.m_root=null;f.AuDatasourcePicker.prototype.m_systemTypeDd=null;f.AuDatasourcePicker.prototype.m_systemDd=null;f.AuDatasourcePicker.prototype.m_querySearch=null;f.AuDatasourcePicker.prototype.m_queryTbl=null;f.AuDatasourcePicker.prototype.m_left=null;f.AuDatasourcePicker.prototype.m_right=null;f.AuDatasourcePicker.prototype.m_recentTbl=null;f.AuDatasourcePicker.prototype.m_cancelBtn=null;f.AuDatasourcePicker.prototype.m_listener=null;f.AuDatasourcePicker.prototype.newProgram=function(){var p=new f.AuDatasourcePicker();p.setup();return p;};f.AuDatasourcePicker.prototype.getDefaultProgramDevice=function(){return f.ProgramDevice.DIALOG;};f.AuDatasourcePicker.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.AuDatasourcePicker.PARAM_APPLICATION,"The application to use.");m.addParameter(f.AuDatasourcePicker.PARAM_SYSTEM,"The system that was picked earlier.");m.addParameter(f.AuDatasourcePicker.PARAM_LISTENER,"The system that was picked earlier.");};f.AuDatasourcePicker.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);this.m_app=this.getArguments().getXObjectByKey(f.AuDatasourcePicker.PARAM_APPLICATION);this.m_startSystemName=this.getArgumentStructure().getStringByKeyExt(f.AuDatasourcePicker.PARAM_SYSTEM,null);this.m_listener=this.getArguments().getXObjectByKey(f.AuDatasourcePicker.PARAM_LISTENER);};f.AuDatasourcePicker.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);if(f.isNull(this.m_app)){this.m_app=this.getApplication();}this.m_systemsByType=f.XHashMapByString.create();var s=this.getProcess().getSystemLandscape();var a=s.getSystemNames().getIterator();while(a.hasNext()){var b=a.next();var c=s.getSystemDescription(b);var d=c.getSystemType().getName();var e=this.m_systemsByType.getByKey(d);if(f.isNull(e)){e=f.XList.create();this.m_systemsByType.put(d,e);}e.add(c);}f.XObjectExt.release(a);};f.AuDatasourcePicker.prototype.buildUi=function(g){this.m_root=g.newRoot(f.UiType.FLEX_LAYOUT);this.m_root.setDirection(f.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.setPadding(f.UiCssBoxEdges.create("10px"));var s=this.m_root.addNewItemOfType(f.UiType.ICON_TAB_BAR);this.buildCatalogUi(s.addNewItem());this.buildRecentUi(s.addNewItem());var a=this.m_app.getSystemLandscape().getSystemDescription(this.m_startSystemName);this.fillSystemTypes();if(f.notNull(a)){this.m_systemTypeDd.setSelectedName(a.getSystemType().getName());}this.fillSystems();if(f.notNull(a)){this.m_systemDd.setSelectedName(a.getSystemName());}this.fillQueries();};f.AuDatasourcePicker.prototype.buildCatalogUi=function(c){c.setText("Catalog");var a=c.setNewContent(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);var h=a.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setJustifyContent(f.UiFlexJustifyContent.START);h.setAlignContent(f.UiFlexAlignContent.CENTER);this.m_systemTypeDd=h.addNewItemOfType(f.UiType.COMBO_BOX);this.m_systemTypeDd.setWidth(f.UiCssLength.create("180px"));this.m_systemTypeDd.setMargin(f.UiCssBoxEdges.create("5px"));this.m_systemTypeDd.setFlex("1 0 auto");this.m_systemTypeDd.registerOnSelectionChange(this);this.m_systemDd=h.addNewItemOfType(f.UiType.COMBO_BOX);this.m_systemDd.setWidth(f.UiCssLength.create("180px"));this.m_systemDd.setMargin(f.UiCssBoxEdges.create("5px"));this.m_systemDd.setFlex("1 0 auto");this.m_systemDd.registerOnSelectionChange(this);this.m_querySearch=h.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_querySearch.setWidth(f.UiCssLength.create("220px"));this.m_querySearch.setMargin(f.UiCssBoxEdges.create("5px"));this.m_querySearch.setFlex("2 0 auto");this.m_querySearch.registerOnSearch(this);this.m_querySearch.setName("DataSourcePickerSearch");this.m_queryTbl=a.addNewItemOfType(f.UiType.TABLE);this.m_queryTbl.setName("DataSourcePickerTable");this.m_queryTbl.setFlex("auto");this.m_queryTbl.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT);this.m_queryTbl.setSelectionBehavior(f.UiSelectionBehavior.ROW);this.m_queryTbl.setVisibleRowCountMode(f.UiVisibleRowCountMode.AUTO);this.m_queryTbl.setMinRowCount(2);this.m_queryTbl.addNewColumn().setTitle("Name");this.m_queryTbl.addNewColumn().setTitle("Description");this.m_queryTbl.registerOnSelectionChange(this);var b=a.addNewItemOfType(f.UiType.FLEX_LAYOUT);b.setJustifyContent(f.UiFlexJustifyContent.CENTER);this.m_left=b.addNewItemOfType(f.UiType.BUTTON);this.m_left.setIcon("navigation-left-arrow");this.m_left.setPadding(f.UiCssBoxEdges.create("4px"));this.m_left.registerOnPress(this);this.m_right=b.addNewItemOfType(f.UiType.BUTTON);this.m_right.setIcon("navigation-right-arrow");this.m_right.setPadding(f.UiCssBoxEdges.create("4px"));this.m_right.registerOnPress(this);};f.AuDatasourcePicker.prototype.buildRecentUi=function(r){r.setText("Recent");var a=r.setNewContent(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);this.m_recentTbl=a.addNewItemOfType(f.UiType.TABLE);this.m_recentTbl.setFlex("auto");this.m_recentTbl.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT);this.m_recentTbl.setSelectionBehavior(f.UiSelectionBehavior.ROW);this.m_recentTbl.setVisibleRowCountMode(f.UiVisibleRowCountMode.AUTO);this.m_recentTbl.setMinRowCount(2);this.m_recentTbl.addNewColumn().setTitle("Name");this.m_recentTbl.addNewColumn().setTitle("Description");this.m_recentTbl.registerOnSelectionChange(this);this.m_recentTbl.setName("DataSourcePickerTable");this.loadRecent();};f.AuDatasourcePicker.prototype.getDialogButtons=function(g){this.m_cancelBtn=g.newControl(f.UiType.DIALOG_BUTTON);this.m_cancelBtn.setName("DataSourcePickerCancel");this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);var t=f.XList.create();t.add(this.m_cancelBtn);return t;};f.AuDatasourcePicker.prototype.onSearch=function(e){var c=e.getControl();if(c===this.m_querySearch){this.m_currentPage=0;this.processFetch();}};f.AuDatasourcePicker.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_left){this.m_currentPage=this.m_currentPage-1;this.processFetch();}else if(c===this.m_right){this.m_currentPage=this.m_currentPage+1;this.processFetch();}else if(c===this.m_cancelBtn){this.saveRecent(null);this.exitNow(0);}};f.AuDatasourcePicker.prototype.loadRecent=function(){this.m_recentTbl.clearRows();var r=this.getProcess().getUserManager().getUserSettings().getStringByKey(f.AuDatasourcePicker.DS_PICKER_RECENT);if(f.XStringUtils.isNullOrEmpty(r)){return;}var e=f.XStringTokenizer.splitString(r,";");for(var i=0;i<e.size();i++){var a=f.XStringTokenizer.splitString(e.get(i),",");if(f.isNull(a)||a.size()<2){continue;}var s=a.get(0);var b=a.get(1);if(f.XStringUtils.isNullOrEmpty(s)||f.XStringUtils.isNullOrEmpty(b)){continue;}var d=f.QFactory.createDataSourceWithFqn(b);d.setSystemName(s);var c=this.m_recentTbl.addNewRow();c.addNewCell().setText(s);c.addNewCell().setText(d.getName());c.setCustomObject(d);}};f.AuDatasourcePicker.prototype.saveRecent=function(n){var b=f.XStringBuffer.create();var e=f.XHashSetOfString.create();if(f.notNull(n)){var a=f.XStringUtils.concatenate3(n.getSystemName(),",",n.getFullQualifiedName());b.append(a);e.add(a);}var r=this.m_recentTbl.getRows();for(var i=0;i<r.size()&&i<f.AuDatasourcePicker.MAX_RECENT_RECORDS-1;i++){var c=r.get(i);var d=c.getCustomObject();var g=f.XStringUtils.concatenate3(d.getSystemName(),",",d.getFullQualifiedName());if(e.contains(g)){continue;}b.append(";").append(g);}this.getProcess().getUserManager().getUserSettings().putString(f.AuDatasourcePicker.DS_PICKER_RECENT,b.toString());};f.AuDatasourcePicker.prototype.onSelectionChange=function(e){var c=e.getControl();var s=c.getSelectedItem();if(c===this.m_queryTbl){var a=s.getCustomObject();var d=f.QFactory.createDataSource();d.setSystemName(this.m_systemDd.getSelectedName());d.setType(a.getType());d.setEnvironmentName(a.getEnvironmentName());d.setSchemaName(a.getSchemaName());d.setPackageName(a.getPackageName());d.setObjectName(a.getObjectName());this.saveRecent(d);this.m_listener.onDatasourceSelected(d);this.exitNow(0);}else if(c===this.m_recentTbl){var b=s.getCustomObject();this.saveRecent(b);this.m_listener.onDatasourceSelected(b);this.exitNow(0);}else if(c===this.m_systemTypeDd){this.fillSystems();this.fillQueries();}else if(c===this.m_systemDd){this.fillQueries();}};f.AuDatasourcePicker.prototype.fillSystemTypes=function(){this.m_systemTypeDd.clearItems();this.m_systemTypeDd.addNewItem();var s=this.m_systemsByType.getKeysAsReadOnlyListOfString();for(var i=0;i<s.size();i++){var a=s.get(i);var b=this.m_systemTypeDd.addNewItem();b.setName(a).setText(a);}};f.AuDatasourcePicker.prototype.fillSystems=function(){this.m_systemDd.setEnabled(false);this.m_systemDd.clearItems();var s=this.m_systemTypeDd.getSelectedName();if(f.XStringUtils.isNullOrEmpty(s)){return;}this.m_systemDd.addNewItem();var a=this.m_systemsByType.getByKey(s);for(var i=0;i<a.size();i++){var b=a.get(i);var c=this.m_systemDd.addNewItem();c.setName(b.getName()).setText(b.getName());}this.m_systemDd.setEnabled(true);};f.AuDatasourcePicker.prototype.fillQueries=function(){this.m_querySearch.setEnabled(false);this.m_left.setEnabled(false);this.m_right.setEnabled(false);this.m_currentPage=0;this.m_queryTbl.clearRows();f.XObjectExt.release(this.m_currentCatalogManager);var s=this.m_systemDd.getSelectedName();if(f.XStringUtils.isNullOrEmpty(s)){return;}this.createCatalogManager();};f.AuDatasourcePicker.prototype.createCatalogManager=function(){var s=this.m_systemTypeDd.getSelectedName();var a=this.m_systemsByType.getByKey(s);if(f.isNull(a)){return;}var b=this.m_systemDd.getSelectedName();var c=this.findSystem(a,b);if(f.isNull(c)){return;}var d=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.m_app);d.setSystemName(b);this.m_queryTbl.setBusy(true);d.processOlapCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.AuDatasourcePicker.prototype.onOlapCatalogManagerCreated=function(e,o,c){this.m_queryTbl.setBusy(false);if(e.hasErrors()){this.showError(e.getSummary());return;}this.m_currentCatalogManager=e.getData();var s=f.SystemType.lookup(this.m_systemTypeDd.getSelectedName());if(s.isTypeOf(f.SystemType.ABAP)){this.m_currentCatalogManager.setSelectedType(f.MetaObjectType.QUERY);}else if(s.isTypeOf(f.SystemType.HANA)){this.m_currentCatalogManager.setSelectedType(f.MetaObjectType.DBVIEW);}else if(s.isTypeOf(f.SystemType.UNV)){this.m_currentCatalogManager.setSelectedType(f.MetaObjectType.UNX);}else{throw f.XException.createIllegalArgumentException(f.XStringUtils.concatenate2("no meta object type for system ",this.m_systemTypeDd.getSelectedName()));}this.m_currentCatalogManager.setResultMaxSize(f.AuDatasourcePicker.PAGE_SIZE+1);this.processFetch();this.m_querySearch.setEnabled(true);};f.AuDatasourcePicker.prototype.findSystem=function(s,a){for(var i=0;i<s.size();i++){var b=s.get(i);if(f.XString.isEqual(a,b.getName())){return b;}}return null;};f.AuDatasourcePicker.prototype.processFetch=function(){this.m_currentCatalogManager.setSearchFilter(null);if(f.XStringUtils.isNotNullAndNotEmpty(this.m_querySearch.getText())){var s=f.XStringUtils.concatenate3("*",this.m_querySearch.getText(),"*");this.m_currentCatalogManager.setSearchFilter(s);this.m_currentCatalogManager.setSearchOnName(true);}this.m_currentCatalogManager.setResultOffset(this.m_currentPage*f.AuDatasourcePicker.PAGE_SIZE);this.m_queryTbl.setBusy(true);this.m_currentCatalogManager.processGetResult(f.SyncType.NON_BLOCKING,this,null);};f.AuDatasourcePicker.prototype.onOlapCatalogResult=function(e,r,c){this.m_queryTbl.setBusy(false);if(e.hasErrors()){this.showError(e.getSummary());return;}this.m_currentData=e.getData().getObjectsList();this.updateTable();};f.AuDatasourcePicker.prototype.updateTable=function(){this.m_queryTbl.clearRows();for(var i=0;i<this.m_currentData.size();i++){if(i>=f.AuDatasourcePicker.PAGE_SIZE){break;}var c=this.m_currentData.get(i);var r=this.m_queryTbl.addNewRow();r.addNewCell().setText(c.getName());r.addNewCell().setText(c.getText());r.setCustomObject(c);}this.updatePageButtons();};f.AuDatasourcePicker.prototype.updatePageButtons=function(){this.m_left.setEnabled(this.m_currentPage>0);this.m_right.setEnabled(this.m_currentData.size()>f.AuDatasourcePicker.PAGE_SIZE);};f.AuDatasourcePicker.prototype.showError=function(m){this.getGenesis().showErrorToast(m);};f.AuDatasourcePicker.prototype.releaseObject=function(){this.m_systemsByType=f.XObjectExt.release(this.m_systemsByType);this.m_currentCatalogManager=f.XObjectExt.release(this.m_currentCatalogManager);this.m_currentData=f.XObjectExt.release(this.m_currentData);this.m_startSystemName=null;this.m_root=f.XObjectExt.release(this.m_root);this.m_systemTypeDd=null;this.m_systemDd=null;this.m_querySearch=null;this.m_queryTbl=null;this.m_left=null;this.m_right=null;this.m_recentTbl=null;this.m_cancelBtn=null;this.m_listener=null;f.DfUiProgram.prototype.releaseObject.call(this);};f.CatalogDialogDummyProgram=function(){};f.CatalogDialogDummyProgram.prototype=new f.DfUiProgram();f.CatalogDialogDummyProgram.prototype._ff_c="CatalogDialogDummyProgram";f.CatalogDialogDummyProgram.DEFAULT_PROGRAM_NAME="Catalog";f.CatalogDialogDummyProgram.CURRENCY_CATALOG_BUTTON="currencyCatalogButton";f.CatalogDialogDummyProgram.CURRENCY_TRANSLATION_CATALOG_BUTTON="currencyTranslationCatalogButton";f.CatalogDialogDummyProgram.HIERARCHY_CATALOG_BUTTON="hierarchyCatalogButton";f.CatalogDialogDummyProgram.PARAM_SYSTEM="system";f.CatalogDialogDummyProgram.PARAM_DATASOURCE="datasource";f.CatalogDialogDummyProgram.PARAM_DIMENSION="dimension";f.CatalogDialogDummyProgram.prototype.m_root=null;f.CatalogDialogDummyProgram.prototype.m_system=null;f.CatalogDialogDummyProgram.prototype.m_datasource=null;f.CatalogDialogDummyProgram.prototype.m_dimension=null;f.CatalogDialogDummyProgram.prototype.m_messageManager=null;f.CatalogDialogDummyProgram.prototype.m_queryManager=null;f.CatalogDialogDummyProgram.prototype.m_layout=null;f.CatalogDialogDummyProgram.prototype.m_systemInput=null;f.CatalogDialogDummyProgram.prototype.m_dataSourceInput=null;f.CatalogDialogDummyProgram.prototype.m_dimensionInput=null;f.CatalogDialogDummyProgram.prototype.m_currencyCatalogButton=null;f.CatalogDialogDummyProgram.prototype.m_currencyTranslationCatalogButton=null;f.CatalogDialogDummyProgram.prototype.m_hierarchyCatalogButton=null;f.CatalogDialogDummyProgram.prototype.m_currencyCatalogController=null;f.CatalogDialogDummyProgram.prototype.m_currencyTranslationCatalogController=null;f.CatalogDialogDummyProgram.prototype.m_hierarchyCatalogController=null;f.CatalogDialogDummyProgram.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);if(f.XStringUtils.isNullOrEmpty(v)){v=this.getArgumentStructure().getStringByKey(n);}return v;};f.CatalogDialogDummyProgram.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.CatalogDialogDummyProgram.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.CatalogDialogDummyProgram.PARAM_DATASOURCE);this.m_dimension=this.getParameterValue(f.CatalogDialogDummyProgram.PARAM_DIMENSION);if(f.XStringUtils.isNullOrEmpty(this.m_system)&&f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BICS_C03_BICSTEST_Q0020]";this.m_dimension="0BC_CUST";}};f.CatalogDialogDummyProgram.prototype.newProgram=function(){var p=new f.CatalogDialogDummyProgram();p.setup();return p;};f.CatalogDialogDummyProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);this.m_currencyCatalogController=f.CurrencyCatalogController.create(c);this.m_currencyTranslationCatalogController=f.CurrencyTranslationCatalogController.create(c);this.m_hierarchyCatalogController=f.HierarchyCatalogController.create(c);this.m_root=this.buildTree(g);g.setRoot(this.m_root);this.setTitle("\u03C0\u03BF\u03B4\u03B7\u03BB\u03AC\u03C4\u03B7\u03C2 client");};f.CatalogDialogDummyProgram.prototype.buildTree=function(g){this.m_layout=g.newControl(f.UiType.VERTICAL_LAYOUT);this.m_systemInput=g.newControl(f.UiType.INPUT);this.m_dataSourceInput=g.newControl(f.UiType.INPUT);this.m_dimensionInput=g.newControl(f.UiType.INPUT);this.m_systemInput.registerOnLiveChange(this);this.m_dataSourceInput.registerOnLiveChange(this);this.m_dimensionInput.registerOnLiveChange(this);this.m_currencyTranslationCatalogButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_currencyTranslationCatalogButton.setText("Currency Translations ...");this.m_currencyTranslationCatalogButton.setName(f.CatalogDialogDummyProgram.CURRENCY_TRANSLATION_CATALOG_BUTTON);this.m_currencyTranslationCatalogButton.registerOnPress(this);this.m_currencyCatalogButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_currencyCatalogButton.setText("Target Currencies ...");this.m_currencyCatalogButton.setName(f.CatalogDialogDummyProgram.CURRENCY_CATALOG_BUTTON);this.m_currencyCatalogButton.registerOnPress(this);this.m_hierarchyCatalogButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_hierarchyCatalogButton.setText("Hierarchies ...");this.m_hierarchyCatalogButton.setName(f.CatalogDialogDummyProgram.HIERARCHY_CATALOG_BUTTON);this.m_hierarchyCatalogButton.registerOnPress(this);this.fillDataSourceSeletWidgets();return this.m_layout;};f.CatalogDialogDummyProgram.prototype.fillDataSourceSeletWidgets=function(){this.m_systemInput.setText(this.m_system);this.m_dataSourceInput.setText(this.m_datasource);};f.CatalogDialogDummyProgram.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();this.m_messageManager=f.MessageManager.createMessageManagerExt(this.getSession());f.OlapUiValueHelpAbstract.s_syncType=f.SyncType.BLOCKING;var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName("catalog dialog");this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);};f.CatalogDialogDummyProgram.prototype.onPress=function(e){var c=e.getControl();var a=c.getName();switch(a){case f.CatalogDialogDummyProgram.CURRENCY_CATALOG_BUTTON:this.createCurrencyCatalog();break;case f.CatalogDialogDummyProgram.CURRENCY_TRANSLATION_CATALOG_BUTTON:this.createCurrencyTranslationCatalog();break;case f.CatalogDialogDummyProgram.HIERARCHY_CATALOG_BUTTON:this.createHierarchyCatalog();break;}};f.CatalogDialogDummyProgram.prototype.createCurrencyCatalog=function(){var s=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.getApplication());s.setSystemName(this.m_system);s.processCurrencyCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,f.XStringValue.create("currencyCatalog"));};f.CatalogDialogDummyProgram.prototype.createCurrencyTranslationCatalog=function(){var s=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.getApplication());s.setSystemName(this.m_system);s.processCurrencyTranslationCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.CatalogDialogDummyProgram.prototype.createHierarchyCatalog=function(){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_datasource)){var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);var a=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(a.hasErrors()){this.m_messageManager.addAllMessages(a);return;}this.m_queryManager=a.getData();}var q=this.m_queryManager.getQueryModel();var b=f.OlapApiModule.SERVICE_TYPE_HIERARCHY_CATALOG.createServiceConfig(this.getApplication());b.setSystemName(this.m_system);var d=q.getDataSource().getFullQualifiedName();b.setDataSourceName(d);b.setDimension(q.getDimensionByName(this.m_dimension));b.processHierarchyCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null).getData();};f.CatalogDialogDummyProgram.prototype.onSubmit=function(){};f.CatalogDialogDummyProgram.prototype.onClose=function(){};f.CatalogDialogDummyProgram.prototype.onLiveChange=function(e){};f.CatalogDialogDummyProgram.prototype.onHierarchyCatalogManagerCreated=function(e,h,c){var a=e.getData();this.m_hierarchyCatalogController.openDialog("Hierarchy",a,null,null,this,null);};f.CatalogDialogDummyProgram.prototype.onOlapCatalogManagerCreated=function(e,o,c){var a=e.getData();if(f.isNull(c)){this.m_currencyTranslationCatalogController.openDialog("Select your currency conversion",a,null,null,this);}else{this.m_currencyCatalogController.openDialog("Select your target currency",a,null,null,this);}};f.DimensionDialogTestProgram=function(){};f.DimensionDialogTestProgram.prototype=new f.DfUiProgram();f.DimensionDialogTestProgram.prototype._ff_c="DimensionDialogTestProgram";f.DimensionDialogTestProgram.DEFAULT_PROGRAM_NAME="Podilates";f.DimensionDialogTestProgram.UIE_ID_BTN_CONDITIONS="BtnConditions";f.DimensionDialogTestProgram.CONTEXT_MENU="contextMenu";f.DimensionDialogTestProgram.EXPAND_MENU="expand";f.DimensionDialogTestProgram.DRILL_MENU="drill";f.DimensionDialogTestProgram.COLLAPSE_MENU="collapse";f.DimensionDialogTestProgram.DIMENSION_CONTEXT_MENU="dimensionContextMenu";f.DimensionDialogTestProgram.FILTER_CONTEXT_MENU="filterContextMenu";f.DimensionDialogTestProgram.DATACELL_MENU="datacellMenu";f.DimensionDialogTestProgram.DIMENSION_MENU="dimensionMenu";f.DimensionDialogTestProgram.DIMENSION_EXHAUSTIVE_MENU="dimensionExhaustiveMenu";f.DimensionDialogTestProgram.DIMENSION_BTN="dimensionBtn";f.DimensionDialogTestProgram.DIMENSION_EXH_BTN="dimensionExhBtn";f.DimensionDialogTestProgram.LAYOUT_BTN="layoutBtn";f.DimensionDialogTestProgram.SELECT_SYSTEM_BTN="selectSystemBtn";f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_MENU="selectSystemBwMenu";f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_2STRUCTURES="selectSystemBw2StrcutMenu";f.DimensionDialogTestProgram.SELECT_SYSTEM_GIPSY_MENU="selectSystemGips<Menu";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MENU="selectSystemMdsMenu";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_LEGACY_CUR_TRANS="selectSystemMdsLegacyCurTrans";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_ACCOUNT_WITH_MD="selectSystemMdsAccountWithMd";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MEASURE_WITHOUT_MD="selectSystemMdsMeasureWithoutMd";f.DimensionDialogTestProgram.QUERY_BUTTON="queryButton";f.DimensionDialogTestProgram.CUR_CONV_BUTTON="curConvButton";f.DimensionDialogTestProgram.PARAM_SYSTEM="system";f.DimensionDialogTestProgram.PARAM_DATASOURCE="datasource";f.DimensionDialogTestProgram.PARAM_TEST="test";f.DimensionDialogTestProgram.createRunner=function(){return f.KernelBoot.createByName(f.DimensionDialogTestProgram.DEFAULT_PROGRAM_NAME);};f.DimensionDialogTestProgram.getResultSet=function(q){var r=q.getActiveResultSetContainer();if(f.isNull(r)){throw f.XException.createRuntimeException("ResultSetContainer null");}if(r.hasErrors()){throw f.XException.createRuntimeException(r.getSummary());}var a=r.getClassicResultSet();if(f.isNull(a)){if(r.hasErrors()){throw f.XException.createRuntimeException(r.getSummary());}throw f.XException.createRuntimeException("ResultSet null");}if(a.hasErrors()){throw f.XException.createRuntimeException(a.getSummary());}return a;};f.DimensionDialogTestProgram.prototype.m_oUIEBtnConditions=null;f.DimensionDialogTestProgram.prototype.m_root=null;f.DimensionDialogTestProgram.prototype.m_system=null;f.DimensionDialogTestProgram.prototype.m_datasource=null;f.DimensionDialogTestProgram.prototype.m_messageManager=null;f.DimensionDialogTestProgram.prototype.m_queryManager=null;f.DimensionDialogTestProgram.prototype.m_grid=null;f.DimensionDialogTestProgram.prototype.m_layout=null;f.DimensionDialogTestProgram.prototype.m_dimPropBtn=null;f.DimensionDialogTestProgram.prototype.m_dimExhPropBtn=null;f.DimensionDialogTestProgram.prototype.m_dimPropMenu=null;f.DimensionDialogTestProgram.prototype.m_dimExhPropMenu=null;f.DimensionDialogTestProgram.prototype.m_layoutBtn=null;f.DimensionDialogTestProgram.prototype.m_systemBtn=null;f.DimensionDialogTestProgram.prototype.m_systemInput=null;f.DimensionDialogTestProgram.prototype.m_dataSourceInput=null;f.DimensionDialogTestProgram.prototype.m_queryButton=null;f.DimensionDialogTestProgram.prototype.m_curConvBtn=null;f.DimensionDialogTestProgram.prototype.m_datacellBtn=null;f.DimensionDialogTestProgram.prototype.m_datacellBtn2=null;f.DimensionDialogTestProgram.prototype.m_test=null;f.DimensionDialogTestProgram.prototype.m_argumentStructure=null;f.DimensionDialogTestProgram.prototype.m_contextMenu=null;f.DimensionDialogTestProgram.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);if(f.XStringUtils.isNullOrEmpty(v)){v=this.m_argumentStructure.getStringByKey(n);}return v;};f.DimensionDialogTestProgram.prototype.getDefaultContainerSize=function(){return f.UiSize.createByCss("60%","60%");};f.DimensionDialogTestProgram.prototype.evalArguments=function(){this.m_argumentStructure=this.getArgumentStructure();if(this.m_argumentStructure.getIntegerByKeyExt(f.DfProgram.PARAM_XVERSION,-1)===-1){this.m_argumentStructure.putInteger(f.DfProgram.PARAM_XVERSION,f.XVersion.V140_REPOSITORY_PERSIST_PAGING);}f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.DimensionDialogTestProgram.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.DimensionDialogTestProgram.PARAM_DATASOURCE);this.m_test=this.getParameterValue(f.DimensionDialogTestProgram.PARAM_TEST);if(f.XStringUtils.isNullOrEmpty(this.m_system)&&f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BICS_C03_BICSTEST_Q0020]";}};f.DimensionDialogTestProgram.prototype.newProgram=function(){var p=new f.DimensionDialogTestProgram();p.setup();return p;};f.DimensionDialogTestProgram.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.DimensionDialogTestProgram.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.DimensionDialogTestProgram.PARAM_DATASOURCE,"The datasource to be used (Can be empty for planning sequences).");m.addParameter(f.DimensionDialogTestProgram.PARAM_TEST,"The name of the running test (Optional).");};f.DimensionDialogTestProgram.prototype.isShowMenuBar=function(){return true;};f.DimensionDialogTestProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_root=this.buildTree(g);g.setRoot(this.m_root);this.setTitle("\u03C0\u03BF\u03B4\u03B7\u03BB\u03AC\u03C4\u03B7\u03C2 client");};f.DimensionDialogTestProgram.prototype.buildTree=function(g){this.m_layout=g.newControl(f.UiType.VERTICAL_LAYOUT);var p=this.getMenuBar();this.m_layoutBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_layoutBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_layoutBtn.setName(f.DimensionDialogTestProgram.LAYOUT_BTN);this.m_layoutBtn.setText("Dimension Layout...");this.m_layoutBtn.registerOnPress(this);this.m_dimPropBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_dimPropBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_dimPropBtn.setName(f.DimensionDialogTestProgram.DIMENSION_BTN);this.m_dimPropBtn.setText("Dimension Properties");this.m_dimPropBtn.registerOnPress(this);this.m_dimExhPropBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_dimExhPropBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_dimExhPropBtn.setName(f.DimensionDialogTestProgram.DIMENSION_EXH_BTN);this.m_dimExhPropBtn.setText("Dimension Props Exhaustive");this.m_dimExhPropBtn.registerOnPress(this);this.m_dimPropMenu=g.newControl(f.UiType.MENU);this.m_dimPropMenu.setName(f.DimensionDialogTestProgram.DIMENSION_MENU);this.m_dimExhPropMenu=g.newControl(f.UiType.MENU);this.m_dimExhPropMenu.setName(f.DimensionDialogTestProgram.DIMENSION_EXHAUSTIVE_MENU);this.m_curConvBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_curConvBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_curConvBtn.setName(f.DimensionDialogTestProgram.CUR_CONV_BUTTON);this.m_curConvBtn.setText("Currency Conversion ...");this.m_curConvBtn.registerOnPress(this);this.m_oUIEBtnConditions=p.addNewItemOfType(f.UiType.BUTTON);this.m_oUIEBtnConditions.setButtonType(f.UiButtonType.TRANSPARENT);this.m_oUIEBtnConditions.setName(f.DimensionDialogTestProgram.UIE_ID_BTN_CONDITIONS);this.m_oUIEBtnConditions.setText("Conditions");this.m_oUIEBtnConditions.registerOnPress(this);this.m_datacellBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_datacellBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_datacellBtn.setName("DataCellProps");this.m_datacellBtn.setText("DataCell Props");this.m_datacellBtn.registerOnPress(this);this.m_datacellBtn2=p.addNewItemOfType(f.UiType.BUTTON);this.m_datacellBtn2.setButtonType(f.UiButtonType.TRANSPARENT);this.m_datacellBtn2.setName("DataCellProps2");this.m_datacellBtn2.setText("DataCell Props2");this.m_datacellBtn2.registerOnPress(this);this.m_systemBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_systemBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_systemBtn.setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_BTN);this.m_systemBtn.setText("Select System ...");this.m_systemBtn.registerOnPress(this);this.m_systemInput=g.newControl(f.UiType.INPUT);this.m_systemInput.setName("systemInputName");this.m_dataSourceInput=g.newControl(f.UiType.INPUT);this.m_dataSourceInput.setName("dataSourceInputName");this.m_systemInput.registerOnLiveChange(this);this.m_dataSourceInput.registerOnLiveChange(this);f.DdControllerAbstract.addEditablePropertyVerticalLayout(this.m_layout,"System","System",this.m_systemInput);f.DdControllerAbstract.addEditablePropertyVerticalLayout(this.m_layout,"Datasource","Datasource",this.m_dataSourceInput);this.m_queryButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_queryButton.setText("Perform Query");this.m_queryButton.setName(f.DimensionDialogTestProgram.QUERY_BUTTON);this.m_queryButton.registerOnPress(this);this.m_grid=this.m_layout.addNewItemOfType(f.UiType.SAC_TABLE_GRID).setWidth(f.UiCssLength.create("100%")).setHeight(f.UiCssLength.createExt(50,f.UiCssSizeUnit.EM));this.m_grid.registerOnClick(this);this.m_grid.registerOnContextMenu(this);this.m_grid.setEnabled(true);this.fillDataSourceSeletWidgets();this.m_contextMenu=g.newControl(f.UiType.MENU);this.m_contextMenu.setName(f.DimensionDialogTestProgram.CONTEXT_MENU);return this.m_layout;};f.DimensionDialogTestProgram.prototype.doQuery=function(){this.m_queryButton.setEnabled(false);this.updateQueryModel();this.updateGrid();this.updateDimensionMenu();this.m_oUIEBtnConditions.setEnabled(true);this.m_dimPropMenu.setEnabled(true);this.m_dimExhPropMenu.setEnabled(true);this.m_curConvBtn.setEnabled(true);this.m_dimPropBtn.setEnabled(true);this.m_dimExhPropBtn.setEnabled(true);this.m_layoutBtn.setEnabled(true);};f.DimensionDialogTestProgram.prototype.fillDataSourceSeletWidgets=function(){this.m_systemInput.setText(this.m_system);this.m_dataSourceInput.setText(this.m_datasource);this.needsQuery();};f.DimensionDialogTestProgram.prototype.updateQueryModel=function(){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_datasource)){this.getSession().activateFeatureToggle(f.FeatureToggleOlap.DEVELOPMENT_MODE);this.getSession().activateFeatureToggle(f.FeatureToggleOlap.CURRENCY_TRANSLATION);this.getSession().activateFeatureToggle(f.FeatureToggleOlap.MEASURE_MEMBER_CURRENCY_TRANSLATIONS);var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);var a=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(a.hasErrors()){this.m_messageManager.addAllMessages(a);return;}this.m_queryManager=a.getData();}var q=this.m_queryManager.getQueryModel();var b=q.getAccountDimension();if(f.notNull(b)){b.setHierarchyName("parentId");b.setHierarchyActive(true);q.getColumnsAxis().add(b);}var c=q.getCurrencyTranslationManager();if(q.getModelCapabilities().supportsCurrencyTranslation()&&f.notNull(c)&&!f.XCollectionUtils.hasElements(c.getAvailableCurrencies())){c.addAvailableCurrency("EUR","Euro");c.addAvailableCurrency("USD","Dollar");c.addAvailableCurrency("INR","\u0930\u0941\u092A\u092F\u093E");c.addAvailableCurrency("RUB","\u0420\u0443\u0431\u043B\u0435\u0439");var d=c.addNewMeasureCurrencyTranslation("RUB","\u0420\u0443\u0431\u043B\u0435\u0439");d.setFixedTargetCurrencyByString("RUB");d.setFixedReferenceDateByString("2020-05-05");d.setFixedRateNameByString("EURX");d=c.addNewMeasureCurrencyTranslation("EUR","Euro");d.setFixedTargetCurrencyByString("EUR");d.setFixedReferenceDateByString("2020-05-05");d.setFixedRateNameByString("EURX");d=c.addNewMeasureCurrencyTranslation("INR","\u0930\u0941\u092A\u092F\u093E");d.setFixedTargetCurrencyByString("INR");d.setFixedReferenceDateByString("2020-05-05");d.setFixedRateNameByString("EURX");}this.m_layoutBtn.setCustomObject(q);};f.DimensionDialogTestProgram.prototype.updateDimensionMenu=function(){this.m_dimPropMenu.clearItems();this.m_dimExhPropMenu.clearItems();this.decorateDimensionMenues(this.m_queryManager.getQueryModel().getRowsAxis().getDimensions());this.decorateDimensionMenues(this.m_queryManager.getQueryModel().getColumnsAxis().getDimensions());};f.DimensionDialogTestProgram.prototype.decorateDimensionMenues=function(d){for(var i=0;i<d.size();i++){var a=d.getDimensionAt(i);var m=this.m_dimPropMenu.addNewItem().setText(f.XStringUtils.concatenate3(a.getName()," / ",a.getText()));m.registerOnPress(this);m.setCustomObject(a);m.setName(a.getName());m=this.m_dimExhPropMenu.addNewItem().setText(f.XStringUtils.concatenate3(a.getName()," / ",a.getText()));m.registerOnPress(this);m.setCustomObject(a);m.setName(a.getName());}};f.DimensionDialogTestProgram.prototype.updateGrid=function(){var r=f.DimensionDialogTestProgram.getResultSet(this.m_queryManager);var a=f.GridRendererFactory.createRenderer(f.ProtocolBindingType.SAC_TABLE_GRID);var m=a.render(r.getCursorResultSet());var b=f.GridResolverFactory.createResolver(f.ProtocolBindingType.SAC_TABLE_GRID);b.updateModel(r,m.asStructure(),a.getFullRowList());this.m_grid.setCustomObject(b);this.m_grid.setModelJson(m);};f.DimensionDialogTestProgram.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();this.m_messageManager=f.MessageManager.createMessageManagerExt(this.getSession());f.OlapUiValueHelpAbstract.s_syncType=f.SyncType.BLOCKING;var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName(this.m_test);this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);};f.DimensionDialogTestProgram.prototype.onPress=function(e){var c=e.getControl();var a=c.getName();var b=c.getParent().getName();var d=c.getCustomObject();switch(a){case f.DimensionDialogTestProgram.UIE_ID_BTN_CONDITIONS:this.openConditionsDialog();break;case f.DimensionDialogTestProgram.LAYOUT_BTN:this.openLayoutDialog();break;case f.DimensionDialogTestProgram.CUR_CONV_BUTTON:this.openCurrencyDialog();break;case f.DimensionDialogTestProgram.DIMENSION_BTN:this.m_dimPropMenu.openAt(e.getControl());break;case f.DimensionDialogTestProgram.DIMENSION_EXH_BTN:this.m_dimExhPropMenu.openAt(e.getControl());break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_BTN:var t=this.m_genesis.newControl(f.UiType.MENU);t.addNewItem().setText("Bw Sample System").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_MENU).registerOnPress(this);t.addNewItem().setText("Bw Sample System 2 Struct").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_2STRUCTURES).registerOnPress(this);t.addNewItem().setText("Gipsy with CaseSensitive Sorting").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_GIPSY_MENU).registerOnPress(this);t.addNewItem().setText("Mds Sample System").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MENU).registerOnPress(this);t.addNewItem().setText("Mds Legacy CurTrans").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_LEGACY_CUR_TRANS).registerOnPress(this);t.addNewItem().setText("Mds Account CurTrans").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_ACCOUNT_WITH_MD).registerOnPress(this);t.addNewItem().setText("Mds Measure CurTrans").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MEASURE_WITHOUT_MD).registerOnPress(this);t.openAt(e.getControl());break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_MENU:this.m_system="KIW";this.m_datasource="query:[0BICS_C03_BICSTEST_Q0020]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_2STRUCTURES:this.m_system="KIW";this.m_datasource="query:[0BICS_009_BICSTEST_Q0001]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_GIPSY_MENU:this.m_system="gipsy";this.m_datasource="view:[_SYS_BIC][mdstest.music][MUSICSALES]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MENU:this.m_system="apollo";this.m_datasource="planning:[TENANT_TEST][][/t.TEST/ACT_ANA_income_qs]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_LEGACY_CUR_TRANS:this.m_system="apollo";this.m_datasource="sfx:[t.TEST.APDCurConv_Ext_Model:APDCurConv_Ext_Model]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_ACCOUNT_WITH_MD:this.m_system="gipsy";this.m_datasource="inamodel:[MDS_REPO][][MDS_BusinessPlanning_withAccountAndMeasureMembers]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MEASURE_WITHOUT_MD:this.m_system="gipsy";this.m_datasource="inamodel:[MDSTEST][][AN_PAID_INVOICES_WITH_CC]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.QUERY_BUTTON:this.m_system=this.m_systemInput.getText();this.m_datasource=this.m_dataSourceInput.getText();this.doQuery();break;case"DataCellProps":this.doOpenDataCellDialog();break;case"DataCellProps2":this.doOpenDataCellDialog2();break;case f.DimensionDialogTestProgram.DATACELL_MENU:this.openDataCellDialogForMember(d);break;case f.DimensionDialogTestProgram.DIMENSION_CONTEXT_MENU:f.DdEntryPoint.createEntryPoint(this.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,this);break;case f.DimensionDialogTestProgram.FILTER_CONTEXT_MENU:f.FdEntryPoint.createEntryPoint(this.getApplication(),f.XStringUtils.concatenate3(d.getName(),"/",d.getText())).openWithDimension(d,this);break;case f.DimensionDialogTestProgram.COLLAPSE_MENU:c.getCustomObject().setNextDrillState(f.DrillState.COLLAPSED);this.updateGrid();break;case f.DimensionDialogTestProgram.DRILL_MENU:c.getCustomObject().setNextDrillState(f.DrillState.DRILLED);this.updateGrid();break;case f.DimensionDialogTestProgram.EXPAND_MENU:c.getCustomObject().setNextDrillState(f.DrillState.EXPANDED);this.updateGrid();break;default:switch(b){case f.DimensionDialogTestProgram.DIMENSION_MENU:f.DdEntryPoint.createEntryPoint(this.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,this);break;case f.DimensionDialogTestProgram.DIMENSION_EXHAUSTIVE_MENU:f.DdExhaustiveEntryPoint.createEntryPoint(this.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,this);break;default:break;}}};f.DimensionDialogTestProgram.prototype.openConditionsDialog=function(){var l=f.OuEntryPointConditions.sCreateConditionsDialogEntryPoint(this.getApplication());var a=null;if(f.notNull(this.m_queryManager)){a=this.m_queryManager.getQueryModel();}l.openConditions(a);};f.DimensionDialogTestProgram.prototype.m_dcController=null;f.DimensionDialogTestProgram.prototype.openLayoutDialog=function(){var a=f.AldEntryPoint.createEntryPoint(this.getApplication());a.openAldDialog("Axis layout",this.m_queryManager.getQueryModel(),this);};f.DimensionDialogTestProgram.prototype.openDataCellDialogForMember=function(s){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}if(s.getDimension().isMeasureStructure()){this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,s.getName(),null,false);}else{this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,null,s.getName(),true);}};f.DimensionDialogTestProgram.prototype.doOpenDataCellDialog=function(){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}var m=this.m_queryManager.getQueryModel().getMeasureDimension().getAllStructureMembers().get(0);this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,m.getName(),null,false);};f.DimensionDialogTestProgram.prototype.doOpenDataCellDialog2=function(){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}var m=this.m_queryManager.getQueryModel().getMeasureDimension().getAllStructureMembers().get(0);var s=null;var n=this.m_queryManager.getQueryModel().getNonMeasureDimension();if(f.notNull(n)&&n.getAllStructureMembers().size()>1){s=n.getAllStructureMembers().get(2);}this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,m.getName(),f.isNull(s)?null:s.getName(),true);};f.DimensionDialogTestProgram.prototype.onDataCellOk=function(){this.updateGrid();};f.DimensionDialogTestProgram.prototype.onDataCellClose=function(){this.m_dcController.close();};f.DimensionDialogTestProgram.prototype.openCurrencyDialog=function(){var q=f.CtEntryPoint.createEntryPoint(this.getApplication());q.openQCTDialog("Currency conversion",this.m_queryManager.getQueryModel().getCurrencyTranslationManager(),this);};f.DimensionDialogTestProgram.prototype.onSubmit=function(){this.updateGrid();this.updateDimensionMenu();};f.DimensionDialogTestProgram.prototype.onClose=function(){};f.DimensionDialogTestProgram.prototype.onLiveChange=function(e){this.needsQuery();};f.DimensionDialogTestProgram.prototype.needsQuery=function(){this.m_oUIEBtnConditions.setEnabled(false);this.m_dimPropMenu.setEnabled(false);this.m_dimExhPropMenu.setEnabled(false);this.m_curConvBtn.setEnabled(false);this.m_dimPropBtn.setEnabled(false);this.m_dimExhPropBtn.setEnabled(false);this.m_layoutBtn.setEnabled(false);this.m_queryButton.setEnabled(true);};f.DimensionDialogTestProgram.prototype.onClick=function(e){};f.DimensionDialogTestProgram.prototype.onContextMenu=function(e){f.XLogger.println(e.getControl().toString());var c=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_COLUMN);var r=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_ROW);var a=e.getControl().getCustomObject();this.m_contextMenu.clearItems();var m=this.m_contextMenu.addNewItem();m.setText("Layout ...");m.setName(f.DimensionDialogTestProgram.LAYOUT_BTN);m.registerOnPress(this);var t=a.getColumnTupleElement(c,r);if(f.isNull(t)){t=a.getRowTupleElement(c,r);}if(f.notNull(t)){var d=t.getDrillState();if(d===f.DrillState.COLLAPSED||d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.LEAF_UDH_EXPAND_ALLOWED){m=this.m_contextMenu.addNewItem();m.setText("Expand node");m.setName(f.DimensionDialogTestProgram.EXPAND_MENU);m.setCustomObject(t);m.registerOnPress(this);}if(d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.LEAF_DRILLDOWN_ALLOWED){m=this.m_contextMenu.addNewItem();m.setText("Drill node");m.setName(f.DimensionDialogTestProgram.DRILL_MENU);m.setCustomObject(t);m.registerOnPress(this);}if(d===f.DrillState.EXPANDED||d===f.DrillState.DRILLED||d===f.DrillState.DRILL_DOWN){m=this.m_contextMenu.addNewItem();m.setText("Collapse node");m.setName(f.DimensionDialogTestProgram.COLLAPSE_MENU);m.setCustomObject(t);m.registerOnPress(this);}}var b=a.getColumnDimension(r);if(f.isNull(b)){b=a.getRowDimension(c);}if(f.notNull(b)){b=this.m_queryManager.getQueryModel().getDimensionByName(b.getName());if(!b.isUniversalDisplayHierarchyDimension()){m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Settings for dimension ",b.getText()));m.setName(f.DimensionDialogTestProgram.DIMENSION_CONTEXT_MENU);m.setCustomObject(b);m.registerOnPress(this);m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Filter on dimension ",b.getText()));m.setName(f.DimensionDialogTestProgram.FILTER_CONTEXT_MENU);m.setCustomObject(b);m.registerOnPress(this);}}var g;var i;var h=a.getRowTuple(r);var s;if(f.notNull(h)){for(i=0;i<h.size();i++){t=h.getTupleElementAt(i);g=t.getDimensionMember();s=t.getDimension().getStructureMember(g.getName());if(f.notNull(s)){m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Properties for ",g.getText()));m.setName(f.DimensionDialogTestProgram.DATACELL_MENU);m.setCustomObject(s);m.registerOnPress(this);break;}}}h=a.getColumnTuple(c);if(f.notNull(h)){for(i=0;i<h.size();i++){t=h.getTupleElementAt(i);g=t.getDimensionMember();s=t.getDimension().getStructureMember(g.getName());if(f.notNull(s)){m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Properties for ",g.getText()));m.setName(f.DimensionDialogTestProgram.DATACELL_MENU);m.setCustomObject(s);m.registerOnPress(this);break;}}}var j=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var k=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);this.m_contextMenu.openAtPosition(j,k);};f.DimensionDialogTestProgram.prototype.onFilterDialogOk=function(s){if(f.XCollectionUtils.hasElements(s)){var m=s.get(0).getNode().getDimensionMember();var d=m.getDimension();var c=this.m_queryManager.getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().getCartesianListWithDefault(d);c.addNewCartesianElement().configureSingleParameterExpression(m.getFieldValue(d.getKeyField()).getValue(),f.ComparisonOperator.EQUAL);this.updateGrid();}};f.DimensionDialogTestProgram.prototype.onFilterDialogCancel=function(){};f.FilterDialogProgram=function(){};f.FilterDialogProgram.prototype=new f.DfUiProgram();f.FilterDialogProgram.prototype._ff_c="FilterDialogProgram";f.FilterDialogProgram.DEFAULT_PROGRAM_NAME="FilterDialog";f.FilterDialogProgram.PARAM_SYSTEM="system";f.FilterDialogProgram.PARAM_DATASOURCE="datasource";f.FilterDialogProgram.PARAM_DIMENSION="dimension";f.FilterDialogProgram.PARAM_VARIABLE="variable";f.FilterDialogProgram.PARAM_HIERARCHY="hierarchy";f.FilterDialogProgram.PARAM_TEST="test";f.FilterDialogProgram.createRunner=function(){return f.KernelBoot.createByName(f.FilterDialogProgram.DEFAULT_PROGRAM_NAME);};f.FilterDialogProgram.prototype.m_system=null;f.FilterDialogProgram.prototype.m_datasource=null;f.FilterDialogProgram.prototype.m_dimension=null;f.FilterDialogProgram.prototype.m_variable=null;f.FilterDialogProgram.prototype.m_hierarchy=null;f.FilterDialogProgram.prototype.m_test=null;f.FilterDialogProgram.prototype.m_programLayout=null;f.FilterDialogProgram.prototype.m_featureTogglesDialog=null;f.FilterDialogProgram.prototype.m_queryManager=null;f.FilterDialogProgram.prototype.m_entryPoint=null;f.FilterDialogProgram.prototype.m_fdOrcaEntryPoint=null;f.FilterDialogProgram.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_system=null;this.m_datasource=null;this.m_dimension=null;this.m_variable=null;this.m_hierarchy=null;this.m_test=null;this.m_queryManager=f.XObjectExt.release(this.m_queryManager);this.m_entryPoint=f.XObjectExt.release(this.m_entryPoint);this.m_featureTogglesDialog=f.XObjectExt.release(this.m_featureTogglesDialog);this.m_programLayout=f.XObjectExt.release(this.m_programLayout);this.m_fdOrcaEntryPoint=f.XObjectExt.release(this.m_fdOrcaEntryPoint);};f.FilterDialogProgram.prototype.newProgram=function(){var a=new f.FilterDialogProgram();a.setup();return a;};f.FilterDialogProgram.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.FilterDialogProgram.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.FilterDialogProgram.PARAM_DATASOURCE,"The datasource to be used (Can be empty for planning sequences).");m.addParameter(f.FilterDialogProgram.PARAM_DIMENSION,"The dimension to be used.");m.addParameter(f.FilterDialogProgram.PARAM_VARIABLE,"The variable to be used.");m.addParameter(f.FilterDialogProgram.PARAM_HIERARCHY,"The hierarchy to used.");m.addParameter(f.FilterDialogProgram.PARAM_TEST,"The name of the running test (Optional).");};f.FilterDialogProgram.prototype.evalArguments=function(){var a=this.getArgumentStructure();if(a.getIntegerByKeyExt(f.DfProgram.PARAM_XVERSION,-1)===-1){a.putInteger(f.DfProgram.PARAM_XVERSION,f.XVersion.V140_REPOSITORY_PERSIST_PAGING);}f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.FilterDialogProgram.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.FilterDialogProgram.PARAM_DATASOURCE);this.m_dimension=this.getParameterValue(f.FilterDialogProgram.PARAM_DIMENSION);this.m_variable=this.getParameterValue(f.FilterDialogProgram.PARAM_VARIABLE);this.m_hierarchy=this.getParameterValue(f.FilterDialogProgram.PARAM_HIERARCHY);this.m_test=this.getParameterValue(f.FilterDialogProgram.PARAM_TEST);if(f.XStringUtils.isNullOrEmpty(this.m_system)||f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BOC_TEST_VARIABLE_TYPES_1]";this.m_dimension="0BC_CUST";this.m_variable=null;this.m_hierarchy=null;}};f.FilterDialogProgram.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);return f.XStringUtils.isNotNullAndNotEmpty(v)?v:this.getArgumentStructure().getStringByKey(n);};f.FilterDialogProgram.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName(this.m_test);this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);};f.FilterDialogProgram.prototype.isShowMenuBar=function(){return true;};f.FilterDialogProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_programLayout=f.FilterDialogProgramLayout.create(g,this.getMenuBar(),this,this);this.setupQueryManager();};f.FilterDialogProgram.prototype.setupQueryManager=function(){this.m_programLayout.showActivityIndicator();this.m_queryManager=f.XObjectExt.release(this.m_queryManager);var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);s.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.FilterDialogProgram.prototype.onQueryManagerCreated=function(e,q,c){if(e.hasErrors()){this.m_programLayout.showChangeDataSourceButton();this.m_programLayout.showErrorToast(e.getSummary());return;}this.m_queryManager=e.getData();this.m_programLayout.showUi(q,f.XStringUtils.concatenate3(this.m_system," - ",this.m_datasource),this.m_dimension,this.m_hierarchy,this.m_variable);this.m_dimension=this.m_programLayout.getDimensionDropdown().getSelectedName();this.m_variable=this.m_programLayout.getVariableDropdown().getSelectedName();};f.FilterDialogProgram.prototype.onSelect=function(e){this.m_programLayout.getSelectionTextArea().setText(null);this.m_programLayout.getOutputTextArea().setText(null);if(e.getControl()===this.m_programLayout.getDimensionDropdown()){this.m_dimension=this.m_programLayout.getDimensionDropdown().getSelectedItem().getText();var d=this.m_queryManager.getDimensionAccessor().getDimensionByName(this.m_dimension);this.m_programLayout.getHierarchyInput().setText(f.notNull(d)?d.getHierarchyName():null);}else if(e.getControl()===this.m_programLayout.getVariableDropdown()){this.m_variable=this.m_programLayout.getVariableDropdown().getSelectedItem().getText();}};f.FilterDialogProgram.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_programLayout.getOpenFilterDialogBtn()){this.openFilterDialog();}else if(c===this.m_programLayout.getChangeDataSourceBtn()){this.openDataSourceDialog();}else if(c===this.m_programLayout.getFeatureTogglesBtn()){this.openFeatureTogglesDialog();}else if(c===this.m_programLayout.getSetVariablesBtn()){f.VdUqmEntryPoint.createEntryPoint("Set Variables",this.m_queryManager.getVariableProcessor(),this).open();}};f.FilterDialogProgram.prototype.openFilterDialog=function(){f.OlapUiValueHelpAbstract.s_syncType=this.m_programLayout.getNonBlockingCheckbox().isChecked()?f.SyncType.NON_BLOCKING:f.SyncType.BLOCKING;this.m_entryPoint=f.XObjectExt.release(this.m_entryPoint);if(this.m_programLayout.getDataObjectDimensionRadioBtn().isSelected()&&this.m_queryManager.hasVariables()&&this.m_queryManager.isSubmitNeeded()){this.m_queryManager.submitVariables(f.SyncType.BLOCKING,null,null);}else if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()&&!this.m_programLayout.getEntryPointSacRadioBtn().isSelected()&&this.m_queryManager.isReinitNeeded()){this.m_queryManager.reInitVariablesAfterSubmit(f.SyncType.BLOCKING,null,null);}if(this.m_programLayout.getEntryPointDefaultRadioBtn().isSelected()){var s=f.XList.create();var a=this.m_programLayout.getSelectionTextArea().getText();if(f.XStringUtils.isNotNullAndNotEmpty(a)){var b=f.XStringTokenizer.splitString(a,",");for(var i=0;i<b.size();i++){s.add(f.FdItemFactory.createItemByKey(null,f.XString.trim(b.get(i)),null));}}this.openFilterDialogWithFdEntryPoint(s);}else if(this.m_programLayout.getEntryPointSacRadioBtn().isSelected()){this.openFilterDialogWithFdOrcaEntryPoint();}};f.FilterDialogProgram.prototype.openFilterDialogWithFdEntryPoint=function(s){this.m_entryPoint=f.FdEntryPoint.createEntryPoint(this.getApplication(),"Filter Dialog");this.m_entryPoint.setFeatureToggleProvider(this);var c=this.m_entryPoint.getConfiguration();c.setMultiSelection(this.m_programLayout.getMultiSelectionModeCheckbox().isChecked());c.setAlwaysShowSelectionContainer(this.m_programLayout.getShowSelectionContainerCheckBox().isChecked());c.setSelection(s);c.setDimensionDisplayInfo(this.m_programLayout.getDisplayInfoDropdown().getSelectedItem().getCustomObject());c.setPageSize(f.XInteger.convertFromStringWithDefault(this.m_programLayout.getPageSizeInput().getText(),f.FdConfiguration.DEFAULT_PAGE_SIZE));c.setFunctionalValuesEnabled(true);if(this.m_programLayout.getDataObjectDimensionRadioBtn().isSelected()){var d=this.getSelectedDimension();if(f.notNull(d)){if(this.m_programLayout.getUseDynamicFilterCheckbox().isChecked()){this.m_entryPoint.openWithDynamicFilter(d,this);}else{this.m_entryPoint.openWithDimension(d,this);}}}else if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()){var v=this.getSelectedVariable();if(f.notNull(v)){this.m_entryPoint.openWithVariable(v,this);}}};f.FilterDialogProgram.prototype.getSelectedDimension=function(){var s=this.m_programLayout.getDimensionDropdown().getSelectedItem();var d=f.notNull(s)?this.m_queryManager.getDimensionAccessor().getDimensionByName(s.getText()):null;if(f.isNull(d)){this.m_programLayout.showErrorToast("Invalid dimension");return null;}var h=this.m_programLayout.getHierarchyInput().getText();if(f.XStringUtils.isNotNullAndNotEmpty(h)){d.setHierarchyName(h);d.setHierarchyActive(true);}else if(d.supportsHierarchy()){d.setHierarchyActive(false);}return d;};f.FilterDialogProgram.prototype.getSelectedVariable=function(){var s=this.m_programLayout.getVariableDropdown().getSelectedItem();var v=f.notNull(s)?this.m_queryManager.getVariable(s.getText()):null;if(f.isNull(v)){this.m_programLayout.showErrorToast("Invalid variable");return null;}return v;};f.FilterDialogProgram.prototype.openFilterDialogWithFdOrcaEntryPoint=function(){if(this.m_programLayout.getDataObjectDimensionRadioBtn().isSelected()){this.m_programLayout.showErrorToast("Opening filter dialog for dimension with SAC entry point is not yet supported");}else if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()){var v=this.getSelectedVariable();if(f.notNull(v)){if(f.isNull(this.m_fdOrcaEntryPoint)){this.m_fdOrcaEntryPoint=f.FdOrcaEntryPoint.create(this.getApplication(),null,f.GyrosNumberFormatter.create(),this,null);}this.m_fdOrcaEntryPoint.prepareVariableProcessorState(v,this);}}};f.FilterDialogProgram.prototype.onVariableProcessorExecuted=function(a,r,c){var s;try{var b=this.m_programLayout.getSelectionTextArea().getText();s=f.XStringUtils.isNotNullAndNotEmpty(b)?f.JsonParserFactory.createFromString(b).asStructure():null;}catch(e){this.m_programLayout.showErrorToast("Json is not a valid structure");return;}if(!this.m_fdOrcaEntryPoint.openForVariable(this.getSelectedVariable(),s,this)){this.m_programLayout.showErrorToast("Opening the dialog failed");}};f.FilterDialogProgram.prototype.isActive=function(t){if(f.XString.isEqual(t,f.OlapUiFeatureToggle.MEMBERSELECTOR_READMODE_SWITCH)){return this.m_programLayout.getFeatureToggleReadMode().isChecked();}return true;};f.FilterDialogProgram.prototype.onOk=function(){};f.FilterDialogProgram.prototype.onCancel=function(){};f.FilterDialogProgram.prototype.openDataSourceDialog=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.putString(f.AuDatasourcePicker.PARAM_SYSTEM,this.m_system);t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.FilterDialogProgram.prototype.onDatasourceSelected=function(d){if(f.notNull(d)){this.m_system=d.getSystemName();this.m_datasource=d.getFullQualifiedName();this.setupQueryManager();}};f.FilterDialogProgram.prototype.openFeatureTogglesDialog=function(){f.XObjectExt.release(this.m_featureTogglesDialog);this.m_featureTogglesDialog=f.UiFeatureToggleDialog.createFeatureDialog(this.getSession(),this.getUiManager(),this);this.m_featureTogglesDialog.open();};f.FilterDialogProgram.prototype.onFeatureToggleDialogClose=function(s){if(f.notNull(s)){var a=this.getSession();a.clearAllFeatureToggles();a.activateFeatureToggleSet(s);this.setupQueryManager();}};f.FilterDialogProgram.prototype.onFilterDialogOk=function(s){var v=null;if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()&&this.getSelectedVariable()!==null){v=this.getSelectedVariable().getMemberFilter();v.clear();}var a=f.XStringBuffer.create();var o="No elements selected";if(f.XCollectionUtils.hasElements(s)){var b=f.XStringBuffer.create();for(var i=0;i<s.size();i++){if(i>0){a.append(",");b.appendNewLine();}var c=s.get(i);var d=c.getDisplayKey();var t=c.getText();a.append(d);b.append(d);b.append(" - ");b.append(t);if(f.notNull(v)){v.addNewCartesianElement().getLow().setString(c.getKey());}}o=b.toString();}this.m_programLayout.getSelectionTextArea().setText(a.toString());this.m_programLayout.getOutputTextArea().setText(o);};f.FilterDialogProgram.prototype.onFilterDialogCancel=function(){this.m_programLayout.getOutputTextArea().setText("Selection canceled");};f.FilterDialogProgram.prototype.onOrcaFilterDialogOk=function(s){var p=f.JsonParserFactory.createFromString(s).asStructure();var a=f.PrUtils.serialize(p,false,true,2);this.m_programLayout.getSelectionTextArea().setText(s);this.m_programLayout.getOutputTextArea().setText(f.XStringUtils.concatenate2("Selection changed:\n\n",a));if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()&&this.getSelectedVariable()!==null){var v=this.getSelectedVariable().getMemberFilter();v.clear();var b=p.getListByKey(f.OrcaConstants.SELECTED_DATA);for(var i=0;i<b.size();i++){var c=b.getStructureAt(i).getStringByKey(f.OrcaConstants.NAME);v.addNewCartesianElement().getLow().setString(c);}}};f.FilterDialogProgram.prototype.onOrcaFilterDialogCancel=function(){this.m_programLayout.getOutputTextArea().setText("Selection canceled");};f.FilterDialogProgram.prototype.onFilterUpdated=function(a){var o=f.XStringBuffer.create();o.append(a?"Filter changed:":"Filter has not been changed:").appendNewLine();var s=this.m_programLayout.getDimensionDropdown().getSelectedItem();var d=f.notNull(s)?this.m_queryManager.getDimensionAccessor().getDimensionByName(s.getText()):null;if(f.notNull(d)){var b=d.getFilter();if(f.notNull(b)){o.appendNewLine().append(b.serializeToString(f.QModelFormat.INA_DATA));}else{o.append("No filter set for dimension");}}else{o.append("Invalid dimension");}this.m_programLayout.getSelectionTextArea().setText(null);this.m_programLayout.getOutputTextArea().setText(o.toString());};f.GsGalaxyStudio=function(){};f.GsGalaxyStudio.prototype=new f.DfUiProgram();f.GsGalaxyStudio.prototype._ff_c="GsGalaxyStudio";f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME="GalaxyStudio";f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING="10px";f.GsGalaxyStudio.RECENT_FILES_SEPARATOR=",";f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY="galaxy_recentFiles";f.GsGalaxyStudio.createRunner=function(){var r=f.KernelBoot.createByName(f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME);return r;};f.GsGalaxyStudio.createNewVulcan=function(){var p=new f.GsGalaxyStudio();p.setup();return p;};f.GsGalaxyStudio.prototype.m_file=null;f.GsGalaxyStudio.prototype.m_mainLayout=null;f.GsGalaxyStudio.prototype.m_runActionBarBtn=null;f.GsGalaxyStudio.prototype.m_stopActionBarBtn=null;f.GsGalaxyStudio.prototype.m_splitActionBarBtn=null;f.GsGalaxyStudio.prototype.m_codeEditor=null;f.GsGalaxyStudio.prototype.m_appContainerWrapper=null;f.GsGalaxyStudio.prototype.m_appContainer=null;f.GsGalaxyStudio.prototype.m_quasarEngine=null;f.GsGalaxyStudio.prototype.m_quasarEngineGenesis=null;f.GsGalaxyStudio.prototype.m_recentFiles=null;f.GsGalaxyStudio.prototype.newProgram=function(){var p=new f.GsGalaxyStudio();p.setup();return p;};f.GsGalaxyStudio.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify the file to open","Path to the file ",f.XValueType.STRING);};f.GsGalaxyStudio.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);var a=this.getArgumentStructure();var b=a.getStringByKey(f.DfProgram.PARAM_FILE);if(f.XStringUtils.isNotNullAndNotEmpty(b)===true){this.openFileByPath(b);}};f.GsGalaxyStudio.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.GsGalaxyStudio.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_file=null;this.m_recentFiles=f.XObjectExt.release(this.m_recentFiles);this.m_runActionBarBtn=f.XObjectExt.release(this.m_runActionBarBtn);this.m_stopActionBarBtn=f.XObjectExt.release(this.m_stopActionBarBtn);this.m_splitActionBarBtn=f.XObjectExt.release(this.m_splitActionBarBtn);this.m_appContainer=f.XObjectExt.release(this.m_appContainer);this.m_appContainerWrapper=f.XObjectExt.release(this.m_appContainerWrapper);this.m_codeEditor=f.XObjectExt.release(this.m_codeEditor);this.m_mainLayout=f.XObjectExt.release(this.m_mainLayout);this.m_quasarEngineGenesis=f.XObjectExt.release(this.m_quasarEngineGenesis);this.m_quasarEngine=f.XObjectExt.release(this.m_quasarEngine);};f.GsGalaxyStudio.prototype.getLogSeverity=function(){return f.DfUiProgram.prototype.getLogSeverity.call(this);};f.GsGalaxyStudio.prototype.isShowMenuBar=function(){return true;};f.GsGalaxyStudio.prototype.getDefaultContainerSize=function(){return f.UiSize.createByCss("70vw","70vh");};f.GsGalaxyStudio.prototype.getMenuBarDisplayName=function(){return f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME;};f.GsGalaxyStudio.prototype.setupInternal=function(){this.initSettings();};f.GsGalaxyStudio.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_mainLayout=g.newControl(f.UiType.FLEX_LAYOUT);this.m_mainLayout.setName("gsMainLayout");this.m_mainLayout.useMaxSpace();this.m_mainLayout.setDirection(f.UiFlexDirection.COLUMN);this.m_mainLayout.setWrap(f.UiFlexWrap.NO_WRAP);this.createHeaderToolbar(this.m_mainLayout);var v=this.m_mainLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);v.setName("gsViewLayout");v.useMaxSpace();v.setDirection(f.UiFlexDirection.ROW);v.setAlignItems(f.UiFlexAlignItems.CENTER);v.setJustifyContent(f.UiFlexJustifyContent.CENTER);v.setWrap(f.UiFlexWrap.NO_WRAP);this.m_codeEditor=v.addNewItemOfType(f.UiType.CODE_EDITOR);this.m_codeEditor.useMaxHeight();this.m_codeEditor.setWidth(f.UiCssLength.create("100%"));this.m_codeEditor.setCodeType("json");this.m_codeEditor.registerOnLiveChange(this);this.m_codeEditor.registerOnFileDrop(this);this.m_codeEditor.setDebounceTime(2000);this.m_codeEditor.focus();this.m_appContainerWrapper=v.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_appContainerWrapper.useMaxSpace();this.m_appContainerWrapper.setDirection(f.UiFlexDirection.ROW);this.m_appContainerWrapper.setVisible(false);var c=this.m_appContainerWrapper.addNewItemOfType(f.UiType.SPACER);c.useMaxHeight();c.setWidth(f.UiCssLength.create("3px"));c.setBackgroundColor(f.UiColor.create("#A8AAAA"));this.m_appContainer=this.m_appContainerWrapper.addNewItemOfType(f.UiType.SCROLL_CONTAINER);this.m_appContainer.useMaxHeight();this.m_appContainer.setWidth(f.UiCssLength.create("100%"));this.createNotRunningContent(this.m_appContainer);g.setRoot(this.m_mainLayout);this.addMenuBarButton("gsFileToolbarBtn",null,"File",null,this);this.addMenuBarButton("gsToolsToolbarBtn",null,"Tools",null,this).setEnabled(false);this.addMenuBarButton("gsToolbarHelpBtn",null,"Help","hint",this);this.updateEditorStatus();};f.GsGalaxyStudio.prototype.createHeaderToolbar=function(m){var h=m.addNewItemOfType(f.UiType.TOOLBAR);h.setName("headerToolbar");h.setWidth(f.UiCssLength.create("100%"));h.setHeight(f.UiCssLength.create("40px"));h.setPadding(f.UiCssBoxEdges.create("0px"));var a=h.addNewItemOfType(f.UiType.FLEX_LAYOUT);a.setName("headerToolbarLayout");a.useMaxSpace();a.setAlignItems(f.UiFlexAlignItems.CENTER);a.setBackgroundColor(f.UiColor.WHITE);this.m_runActionBarBtn=a.addNewItemOfType(f.UiType.TOGGLE_BUTTON);this.m_runActionBarBtn.setName("runActionBarBtn");this.m_runActionBarBtn.setIcon("media-play");this.m_runActionBarBtn.registerOnPress(this);var p=a.addNewItemOfType(f.UiType.SPACER);p.setWidth(f.UiCssLength.create(f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING));this.m_stopActionBarBtn=a.addNewItemOfType(f.UiType.BUTTON);this.m_stopActionBarBtn.setName("stopActionBarBtn");this.m_stopActionBarBtn.setIcon("stop");this.m_stopActionBarBtn.registerOnPress(this);var v=a.addNewItemOfType(f.UiType.SPACER);v.setWidth(f.UiCssLength.create(f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING));var b=a.addNewItemOfType(f.UiType.SPACER);b.setWidth(f.UiCssLength.create("1px"));b.setHeight(f.UiCssLength.create("60%"));b.setBackgroundColor(f.UiColor.create("#A8AAAA"));var c=a.addNewItemOfType(f.UiType.SPACER);c.setWidth(f.UiCssLength.create(f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING));this.m_splitActionBarBtn=a.addNewItemOfType(f.UiType.TOGGLE_BUTTON);this.m_splitActionBarBtn.setName("splitActionBarTglBtn");this.m_splitActionBarBtn.setIcon("screen-split-two");this.m_splitActionBarBtn.registerOnPress(this);};f.GsGalaxyStudio.prototype.createNotRunningContent=function(a){var w=a.setNewContent(f.UiType.FLEX_LAYOUT);w.useMaxSpace();w.setAlignItems(f.UiFlexAlignItems.CENTER);w.setJustifyContent(f.UiFlexJustifyContent.CENTER);var n=w.addNewItemOfType(f.UiType.LABEL);n.setText("Not running...");n.setFontSize(f.UiCssLength.create("18px"));n.setMargin(f.UiCssBoxEdges.create("20px"));};f.GsGalaxyStudio.prototype.openFileByPath=function(a){if(f.notNull(a)){var s=this.getSession();var b=f.XFile.createExt(s,a,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(b)||b.isExisting()===false){this.log2("File does not exist: ",a);return;}this.setFile(b);}};f.GsGalaxyStudio.prototype.initSettings=function(){if(this.getProcess()!==null){var r=this.getProcess().getUserManager().getUserSettings().getStringByKeyExt(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY,"");if(f.XStringUtils.isNotNullAndNotEmpty(r)){this.m_recentFiles=f.XStringTokenizer.splitString(r,f.GsGalaxyStudio.RECENT_FILES_SEPARATOR);}else{this.m_recentFiles=f.XListOfString.create();}}};f.GsGalaxyStudio.prototype.updateEditorStatus=function(){if(f.notNull(this.m_file)){this.loadFileContent(this.m_file);this.setTitle(this.m_file.getName());}else{this.setTitle("untitled");}};f.GsGalaxyStudio.prototype.setFile=function(a){this.m_file=a;this.loadFileContent(a);};f.GsGalaxyStudio.prototype.loadFileContent=function(a){if(f.notNull(a)&&a.isExisting()&&f.notNull(this.m_codeEditor)){a.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);}return null;};f.GsGalaxyStudio.prototype.showAppContainer=function(s){if(f.notNull(this.m_appContainerWrapper)){this.m_appContainerWrapper.setVisible(s);this.m_splitActionBarBtn.setPressed(s);}};f.GsGalaxyStudio.prototype.addRecentFileToUserSettings=function(a){if(f.notNull(a)){var b=a.getVfsUri().getUrl();var r=this.getProcess().getUserManager().getUserSettings().getStringByKeyExt(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY,"");if(!f.XStringUtils.containsString(r,b,true)){if(f.XStringUtils.isNotNullAndNotEmpty(r)){r=f.XStringUtils.concatenate3(r,f.GsGalaxyStudio.RECENT_FILES_SEPARATOR,b);}else{r=b;}this.getProcess().getUserManager().getUserSettings().putString(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY,r);if(f.notNull(this.m_recentFiles)){this.m_recentFiles.add(b);}}}};f.GsGalaxyStudio.prototype.executeApp=function(d){if(f.isNull(this.m_quasarEngine)){this.m_quasarEngine=f.QuasarEngine.create(this.getApplication());}if(f.isNull(this.m_quasarEngineGenesis)){this.m_quasarEngineGenesis=f.UiGenesis.create(this.m_appContainer,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);}if(f.XStringUtils.isNotNullAndNotEmpty(d)){var p=f.JsonParserFactory.newInstance();var j=p.parse(d);if(f.notNull(j)){if(p.hasErrors()){this.m_genesis.showErrorToast("Document is not a quasar document!");this.m_runActionBarBtn.setPressed(false);}else{f.XObjectExt.release(p);if(j.isStructure()){this.showAppContainer(true);this.m_runActionBarBtn.setPressed(true);this.m_quasarEngine.reset();this.m_quasarEngine.setDocument(j);this.m_quasarEngine.renderUi(this.m_quasarEngineGenesis);}}}else{this.m_genesis.showErrorToast("Document is not a json!");this.m_runActionBarBtn.setPressed(false);}}else{this.m_genesis.showErrorToast("Document is empty!");this.m_runActionBarBtn.setPressed(false);}};f.GsGalaxyStudio.prototype.stopExecution=function(){if(f.notNull(this.m_quasarEngine)){this.m_quasarEngine=f.XObjectExt.release(this.m_quasarEngine);}if(f.notNull(this.m_quasarEngineGenesis)){this.m_quasarEngineGenesis=f.XObjectExt.release(this.m_quasarEngineGenesis);}this.createNotRunningContent(this.m_appContainer);this.m_runActionBarBtn.setPressed(false);};f.GsGalaxyStudio.prototype.isRunning=function(){return this.m_runActionBarBtn.isPressed()&&f.notNull(this.m_quasarEngine)&&f.notNull(this.m_appContainerWrapper);};f.GsGalaxyStudio.prototype.createFileToolbarMenu=function(a){var b=this.m_genesis.newControl(f.UiType.MENU);b.setName("gsFileToolbarMenu");b.addNewItem().setName("gsToolbarMenuNew").setText("New").setIcon("document").registerOnPress(this);b.addNewItem().setName("gsToolbarMenuOpen").setText("Open").setIcon("open-folder").registerOnPress(this).setEnabled(false);var r=b.addNewItem().setName("gsToolbarMenuRecent").setText("Recent").setIcon("history").registerOnPress(this);b.addNewItem().setName("gsToolbarMenuSave").setText("Save").setIcon("save").registerOnPress(this).setSectionStart(true).setEnabled(false);b.addNewItem().setName("gsToolbarMenuSaveAs").setText("Save as...").setIcon("save").registerOnPress(this).setEnabled(false);this.createRecentFilesMenu(r);b.openAt(a);};f.GsGalaxyStudio.prototype.createToolsToolbarMenu=function(t){var a=this.m_genesis.newControl(f.UiType.MENU);a.setName("gsToolsToolbarMenu");a.addNewItem().setName("gsToolbarMenuDiscardChanges").setText("Discard changes").setIcon("eraser").registerOnPress(this);a.openAt(t);};f.GsGalaxyStudio.prototype.createRecentFilesMenu=function(r){if(f.notNull(r)){if(this.m_recentFiles.size()>0){var a=this.m_recentFiles.getIterator();while(a.hasNext()){var b=a.next();r.addNewItem().setTag("gsToolbarSubMenuRecentFiles").setText(b).setIcon("timesheet").registerOnPress(this);}}else{r.addNewItem().setTag("gsToolbarSubMenuRecentFiles").setText("None").setIcon(null).setEnabled(false);}r.addNewItem().setName("gsToolbarSubMenuRecentFilesClear").setText("Clear").setIcon("delete").setSectionStart(true).registerOnPress(this);}};f.GsGalaxyStudio.prototype.newProject=function(){if(f.notNull(this.m_codeEditor)){this.m_codeEditor.setText("{\r\n \"DocType\": \"FireflyApp\",\r\n \"Content\": {\r\n     \"CType\": \"Label\",\r\n     \"Text\": \"Hello world!\"\r\n },\r\n  \"DataProviders\": [],\r\n  \"Bindings\": []\r\n}");}};f.GsGalaxyStudio.prototype.openRecentFile=function(a){if(f.XStringUtils.isNotNullAndNotEmpty(a)){this.openFileByPath(a);}};f.GsGalaxyStudio.prototype.clearRecentFiles=function(){this.getProcess().getUserManager().getUserSettings().removeKey(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY);this.m_recentFiles.clear();};f.GsGalaxyStudio.prototype.openHelpAlert=function(){var h=this.m_genesis.newControl(f.UiType.ALERT);h.setName("gsHelpAlert");h.setTitle("Help");h.setText("Galaxy Studio v0.1 Alpha! \n Proudly brought to you by Firefly!");h.open();};f.GsGalaxyStudio.prototype.onFileLoaded=function(e,a,b,c){if(e.isValid()&&f.notNull(this.m_codeEditor)){if(f.notNull(b)){this.addRecentFileToUserSettings(a);var s=b.getString();this.m_codeEditor.setText(s);this.setTitle(a.getName());}}};f.GsGalaxyStudio.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(e.getControl()===this.m_runActionBarBtn){if(this.m_runActionBarBtn.isPressed()){this.executeApp(this.m_codeEditor.getText());}else{this.stopExecution();}}else if(e.getControl()===this.m_stopActionBarBtn){this.stopExecution();}else if(e.getControl()===this.m_splitActionBarBtn){if(this.m_splitActionBarBtn.isPressed()){this.showAppContainer(true);}else{this.showAppContainer(false);}}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(c.getName()){case"gsFileToolbarBtn":this.createFileToolbarMenu(c);break;case"gsToolsToolbarBtn":this.createToolsToolbarMenu(c);break;case"gsToolbarHelpBtn":this.openHelpAlert();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),"gsFileToolbarMenu")){switch(c.getName()){case"gsToolbarMenuNew":this.newProject();break;case"gsToolbarMenuSave":this.m_genesis.showInfoToast("Save pressed");break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),"gsToolsToolbarMenu")){switch(c.getName()){case"gsToolbarMenuDiscardChanges":this.m_genesis.showInfoToast("Discard changes pressed");break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU_ITEM&&f.XString.isEqual(a.getName(),"gsToolbarMenuRecent")){if(f.XString.isEqual(c.getName(),"gsToolbarSubMenuRecentFilesClear")){this.clearRecentFiles();}else if(f.XString.isEqual(c.getTag(),"gsToolbarSubMenuRecentFiles")){this.openRecentFile(c.getText());}}};f.GsGalaxyStudio.prototype.onFileDrop=function(e){var a=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_FILE_CONTENT,null);if(f.XStringUtils.isNotNullAndNotEmpty(a)){this.m_codeEditor.setText(a);}};f.GsGalaxyStudio.prototype.onLiveChange=function(e){var d=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_VALUE,null);if(this.isRunning()){this.executeApp(d);}};f.AuGalaxyDataStudio=function(){};f.AuGalaxyDataStudio.prototype=new f.DfUiProgram();f.AuGalaxyDataStudio.prototype._ff_c="AuGalaxyDataStudio";f.AuGalaxyDataStudio.DEFAULT_PROGRAM_NAME="GalaxyDataStudio";f.AuGalaxyDataStudio.MAIN_TAB_BAR_NAME="gdsMainTabBar";f.AuGalaxyDataStudio.MENU_BAR_FILE_BTN="gdsFileMenuBarBtn";f.AuGalaxyDataStudio.MENU_BAR_EDIT_BTN="gdsEditMenuBarBtn";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU="gdsFileMenuBarMenu";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_NEW="gdsMenuBarMenuNew";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_OPEN="gdsMenuBarMenuOpen";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_CLOSE="gdsMenuBarMenuClose";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_CLOSE_ALL="gdsMenuBarMenuCloseAll";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE="gdsMenuBarMenuSave";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE_AS="gdsMenuBarMenuSaveAs";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE_ALL="gdsMenuBarMenuSaveAll";f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_EXIT="gdsMenuBarMenuExit";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU="gdsEditMenuBarMenu";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_UNDO="gdsMenuBarEditMenuUndo";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_REDO="gdsMenuBarEditMenuRedo";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_CUT="gdsMenuBarEditMenuCut";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_COPY="gdsMenuBarEditMenuCopy";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_PASTE="gdsMenuBarEditMenuPaste";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_CLEAR_RECENTS="gdsMenuBarEditMenuClearRecents";f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_PREFERENCES="gdsMenuBarEditMenuPreferences";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR="gdsQuickActionToolbar";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_NEW="gdsQuickActionToolbarNew";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_OPEN="gdsQuickActionToolbarOpen";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_SAVE_AS="gdsQuickActionToolbarSaveAs";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_CLOSE_DOCUMENT="gdsQuickActionToolbarCloseDocument";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_UNDO="gdsQuickActionToolbarUndo";f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_REDO="gdsQuickActionToolbarRedo";f.AuGalaxyDataStudio.PARAM_SYSTEM="system";f.AuGalaxyDataStudio.PARAM_DATASOURCE="datasource";f.AuGalaxyDataStudio.createRunner=function(){var r=f.KernelBoot.createByName(f.AuGalaxyDataStudio.DEFAULT_PROGRAM_NAME);return r;};f.AuGalaxyDataStudio.prototype.m_mainLayout=null;f.AuGalaxyDataStudio.prototype.m_toolbar=null;f.AuGalaxyDataStudio.prototype.m_contentLayout=null;f.AuGalaxyDataStudio.prototype.m_tabBar=null;f.AuGalaxyDataStudio.prototype.m_statusLabel=null;f.AuGalaxyDataStudio.prototype.m_networkActivityIndicator=null;f.AuGalaxyDataStudio.prototype.m_activeDocument=null;f.AuGalaxyDataStudio.prototype.m_openDocuments=null;f.AuGalaxyDataStudio.prototype.m_toolbarNewBtn=null;f.AuGalaxyDataStudio.prototype.m_toolbarOpenBtn=null;f.AuGalaxyDataStudio.prototype.m_toolbarSaveAsBtn=null;f.AuGalaxyDataStudio.prototype.m_toolbarCloseDocBtn=null;f.AuGalaxyDataStudio.prototype.m_toolbarUndoBtn=null;f.AuGalaxyDataStudio.prototype.m_toolbarRedoBtn=null;f.AuGalaxyDataStudio.prototype.newProgram=function(){var p=new f.AuGalaxyDataStudio();p.setup();return p;};f.AuGalaxyDataStudio.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify a gds file","Relative URI",f.XValueType.STRING);m.addParameter(f.AuGalaxyDataStudio.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.AuGalaxyDataStudio.PARAM_DATASOURCE,"The datasource to be used.");};f.AuGalaxyDataStudio.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);};f.AuGalaxyDataStudio.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.AuGalaxyDataStudio.prototype.releaseObject=function(){this.m_toolbarNewBtn=f.XObjectExt.release(this.m_toolbarNewBtn);this.m_toolbarOpenBtn=f.XObjectExt.release(this.m_toolbarOpenBtn);this.m_toolbarSaveAsBtn=f.XObjectExt.release(this.m_toolbarSaveAsBtn);this.m_toolbarCloseDocBtn=f.XObjectExt.release(this.m_toolbarCloseDocBtn);this.m_toolbarUndoBtn=f.XObjectExt.release(this.m_toolbarUndoBtn);this.m_toolbarRedoBtn=f.XObjectExt.release(this.m_toolbarRedoBtn);this.m_networkActivityIndicator=f.XObjectExt.release(this.m_networkActivityIndicator);this.m_statusLabel=f.XObjectExt.release(this.m_statusLabel);this.m_tabBar=f.XObjectExt.release(this.m_tabBar);this.m_contentLayout=f.XObjectExt.release(this.m_contentLayout);this.m_toolbar=f.XObjectExt.release(this.m_toolbar);this.m_mainLayout=f.XObjectExt.release(this.m_mainLayout);this.m_openDocuments=f.XObjectExt.release(this.m_openDocuments);this.m_activeDocument=null;f.DfUiProgram.prototype.releaseObject.call(this);};f.AuGalaxyDataStudio.prototype.getLogSeverity=function(){return f.DfUiProgram.prototype.getLogSeverity.call(this);};f.AuGalaxyDataStudio.prototype.isShowMenuBar=function(){return true;};f.AuGalaxyDataStudio.prototype.getDefaultContainerSize=function(){return f.UiSize.createByCss("70vw","70vh");};f.AuGalaxyDataStudio.prototype.isOpenContainerMaximized=function(){return true;};f.AuGalaxyDataStudio.prototype.getMenuBarDisplayName=function(){return null;};f.AuGalaxyDataStudio.prototype.canExit=function(){var c=true;if(this.hasUnsavedChanges()){this.presentExitConfirmPopup("Unsaved changes!","Some documents have unsaved changes! Are you sure that you want to exit?");c=false;}return c;};f.AuGalaxyDataStudio.prototype.setupInternal=function(){this.m_openDocuments=f.XHashMapByString.create();};f.AuGalaxyDataStudio.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_mainLayout=g.newControl(f.UiType.FLEX_LAYOUT);this.m_mainLayout.setDirection(f.UiFlexDirection.COLUMN);this.m_mainLayout.useMaxSpace();this.m_mainLayout.setBackgroundColor(f.UiColor.WHITE);this.m_toolbar=this.m_mainLayout.addNewItemOfType(f.UiType.TOOLBAR);this.m_toolbar.setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR);this.m_toolbar.setWidth(f.UiCssLength.create("100%"));this.m_toolbar.setFlex("0 0 40px");this.m_contentLayout=this.m_mainLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_contentLayout.setDirection(f.UiFlexDirection.COLUMN);this.m_contentLayout.useMaxSpace();this.m_contentLayout.registerOnFileDrop(this);this.m_tabBar=this.m_contentLayout.addNewItemOfType(f.UiType.TAB_BAR);this.m_tabBar.setName(f.AuGalaxyDataStudio.MAIN_TAB_BAR_NAME);this.m_tabBar.useMaxSpace();this.m_tabBar.setShowAddNewButton(true);this.m_tabBar.registerOnItemSelect(this);this.m_tabBar.registerOnItemClose(this);this.m_tabBar.registerOnButtonPress(this);var s=this.m_mainLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);s.setAlignItems(f.UiFlexAlignItems.CENTER);s.setFlex("0 0 auto");s.setBackgroundColor(f.UiColor.GREY.newBrighterColor(0.28));s.setPadding(f.UiCssBoxEdges.create("5px"));this.m_statusLabel=s.addNewItemOfType(f.UiType.LABEL);this.m_statusLabel.setFlex("auto");this.m_networkActivityIndicator=s.addNewItemOfType(f.UiType.ACTIVITY_INDICATOR);this.m_networkActivityIndicator.setIconSize(f.UiCssLength.create("1rem"));this.m_networkActivityIndicator.setSrc(f.UiTheme.getCurrentTheme().getCustomActivityIndicatorIcon());this.m_networkActivityIndicator.setTooltip("Requesting backend data...");this.m_networkActivityIndicator.setMargin(f.UiCssBoxEdges.create("0 0 0 auto"));this.m_networkActivityIndicator.setFlex("0 0 auto");this.m_networkActivityIndicator.setVisible(false);g.setRoot(this.m_mainLayout);this.addMenuBarButton(f.AuGalaxyDataStudio.MENU_BAR_FILE_BTN,null,"File",null,this);this.addMenuBarButton(f.AuGalaxyDataStudio.MENU_BAR_EDIT_BTN,null,"Edit",null,this);this.prepareToolbarItems();this.presentInitialView();};f.AuGalaxyDataStudio.prototype.createFileByPath=function(a){var g=null;if(f.XStringUtils.isNotNullAndNotEmpty(a)){var s=this.getSession();g=f.XFile.createExt(s,a,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(g)){this.log2("Error while creating the file: ",a);}}return g;};f.AuGalaxyDataStudio.prototype.getJsonObjFromLoadedFileContent=function(a){var j=null;if(f.notNull(a)){var b=a.getJsonContent();if(f.notNull(b)){j=b.asStructure();}else{this.getGenesis().showErrorToast("Not a json document!");}}else{this.showCriticalError("Something went wrong! File content is empty!");}return j;};f.AuGalaxyDataStudio.prototype.newToolbarSeparator=function(){var t=this.getGenesis().newControl(f.UiType.SPACER);t.setSize(f.UiSize.createByCss("1px","50%"));t.setBackgroundColor(f.UiColor.GREY);return t;};f.AuGalaxyDataStudio.prototype.presentSaveAsPopup=function(a,c){if(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasSaveData()){var l=f.XString.lastIndexOf(a,"/");var b=f.XString.lastIndexOf(a,".");b=b===-1?f.XString.size(a):b;var n=f.UiInputPopup.create(this.getGenesis(),"Save as...","Please specify the file");n.setInputPlaceholder("File path");n.setInputValue(a);n.setOkButtonText("Save");n.setOkButtonIcon("save");n.setInputConsumer(c);n.open();n.selectText(l+1,b);}};f.AuGalaxyDataStudio.prototype.saveContentToGdfFile=function(o,c){if(f.isNull(o)||f.isNull(c)){this.getGenesis().showErrorToast("Error during file saving!");return false;}o.processSave(f.SyncType.BLOCKING,null,null,c,f.CompressionType.NONE);if(o.hasErrors()){this.getGenesis().showErrorToast(o.getSummary());return false;}else{var m=f.XStringUtils.concatenate3("File ",o.getVfsUri().getFileName()," saved successfully!");this.getGenesis().showSuccessToast(m);}return true;};f.AuGalaxyDataStudio.prototype.updateSystemDatasourceArguments=function(s,d){this.getArgumentStructure().putString(f.AuGalaxyDataStudio.PARAM_SYSTEM,s);this.getArgumentStructure().putString(f.AuGalaxyDataStudio.PARAM_DATASOURCE,d);this.getArgumentStructure().remove(f.DfProgram.PARAM_FILE);this.getProcess().notifyProcessEvent(f.ProcessEventType.START_CFG_CHANGED);};f.AuGalaxyDataStudio.prototype.updateFileArgument=function(n){this.getArgumentStructure().remove(f.AuGalaxyDataStudio.PARAM_SYSTEM);this.getArgumentStructure().remove(f.AuGalaxyDataStudio.PARAM_DATASOURCE);this.updateFileParam(n);};f.AuGalaxyDataStudio.prototype.clearAllArguments=function(){this.getArgumentStructure().remove(f.AuGalaxyDataStudio.PARAM_SYSTEM);this.getArgumentStructure().remove(f.AuGalaxyDataStudio.PARAM_DATASOURCE);this.getArgumentStructure().remove(f.DfProgram.PARAM_FILE);this.getProcess().notifyProcessEvent(f.ProcessEventType.START_CFG_CHANGED);};f.AuGalaxyDataStudio.prototype.getCriticalErrorLabelWithText=function(t){var e=this.getGenesis().newControl(f.UiType.LABEL);e.useMaxWidth();e.setPadding(f.UiCssBoxEdges.create("20px"));e.setTextAlign(f.UiTextAlign.CENTER);e.setFontColor(f.UiColor.RED);e.setText(t);return e;};f.AuGalaxyDataStudio.prototype.setNetworkActivityIndicatorVisible=function(v){if(f.notNull(this.m_networkActivityIndicator)){this.m_networkActivityIndicator.setVisible(v);}};f.AuGalaxyDataStudio.prototype.presentInitialView=function(){var v=this.processProgramArguments();if(!v){this.openEmptyQueryDesignerDocument();}};f.AuGalaxyDataStudio.prototype.processProgramArguments=function(){var a=this.getArgumentStructure();var b=a.getStringByKey(f.DfProgram.PARAM_FILE);var s=a.getStringByKeyExt(f.AuGalaxyDataStudio.PARAM_SYSTEM,null);var d=a.getStringByKeyExt(f.AuGalaxyDataStudio.PARAM_DATASOURCE,null);var g=this.createFileByPath(b);if(f.notNull(g)){this.setContentBusy(true);g.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);return true;}if(f.XStringUtils.isNotNullAndNotEmpty(s)&&f.XStringUtils.isNotNullAndNotEmpty(d)){this.openNewQueryDesignerDocument(null,s,d);return true;}return false;};f.AuGalaxyDataStudio.prototype.showNoDocumentsOpen=function(){this.clearDocumentsMenuButtons();this.clearDocumentToolbarItems();this.setTitle("Galaxy Data Studio");this.m_toolbarSaveAsBtn.setEnabled(false);this.m_toolbarCloseDocBtn.setEnabled(false);this.m_toolbarUndoBtn.setEnabled(false);this.m_toolbarRedoBtn.setEnabled(false);this.setStatusMessage("No document open!",f.UiMessageType.INFORMATION);if(f.notNull(this.m_tabBar)&&!this.m_tabBar.hasItems()){this.m_contentLayout.removeItem(this.m_tabBar);var i=this.m_contentLayout.addNewItemOfType(f.UiType.LABEL);i.useMaxWidth();i.setPadding(f.UiCssBoxEdges.create("20px"));i.setFontSize(f.UiCssLength.create("1.5rem"));i.setTextAlign(f.UiTextAlign.CENTER);i.setText("Please open a document or create a new one!");}};f.AuGalaxyDataStudio.prototype.openEmptyQueryDesignerDocument=function(){this.openNewQueryDesignerDocument(null,null,null);};f.AuGalaxyDataStudio.prototype.addNewDocumentTab=function(d){if(this.m_tabBar.getParent()===null){this.m_contentLayout.clearItems();this.m_contentLayout.addItem(this.m_tabBar);}this.m_tabBar.addItem(d.getTabItem());this.m_openDocuments.put(d.getUuid(),d);this.m_tabBar.setSelectedItem(d.getTabItem());this.activeDocumentChanged(d);this.m_toolbarCloseDocBtn.setEnabled(true);};f.AuGalaxyDataStudio.prototype.openNewQueryDesignerDocument=function(a,s,d){var q=f.AuGdsQueryDesignerDocument.create(this,a,s,d,this);if(f.notNull(q)){this.addNewDocumentTab(q);}return q;};f.AuGalaxyDataStudio.prototype.closeDocument=function(d){if(f.notNull(d)){var c=this.m_tabBar.getIndexOfItem(d.getTabItem());this.m_tabBar.removeItem(d.getTabItem());var a=this.m_openDocuments.remove(d.getUuid());var n=c===0?c:c-1;if(this.m_openDocuments.hasElements()){var b=this.m_openDocuments.getByKey(this.m_tabBar.getItem(n).getName());this.m_tabBar.setSelectedItem(b.getTabItem());this.activeDocumentChanged(b);}else{this.showNoDocumentsOpen();}f.XObjectExt.release(a);}};f.AuGalaxyDataStudio.prototype.closeDocumentSafe=function(d){if(f.notNull(d)){if(this.m_activeDocument.isDirty()){this.presentDocumentUnsavedChangesPopup(d);}else{this.closeDocument(d);}}};f.AuGalaxyDataStudio.prototype.closeActiveDocument=function(){if(f.notNull(this.m_activeDocument)){this.closeDocument(this.m_activeDocument);}};f.AuGalaxyDataStudio.prototype.closeActiveDocumentSafe=function(){if(f.notNull(this.m_activeDocument)){if(this.m_activeDocument.isDirty()){this.presentDocumentUnsavedChangesPopup(this.m_activeDocument);}else{this.closeActiveDocument();}}};f.AuGalaxyDataStudio.prototype.closeAllDocuments=function(){var o=this.m_openDocuments.getKeysAsIteratorOfString();while(o.hasNext()){var t=o.next();var a=this.m_openDocuments.getByKey(t);this.closeDocument(a);}};f.AuGalaxyDataStudio.prototype.clearDocumentsMenuButtons=function(){while(this.getMenuBar().getItemCount()>1){var l=this.getMenuBar().getItemCount()-1;var a=this.getMenuBar().getItem(l);if(f.notNull(a)&&f.XString.isEqual(a.getName(),f.AuGalaxyDataStudio.MENU_BAR_EDIT_BTN)){break;}this.getMenuBar().removeItem(a);}};f.AuGalaxyDataStudio.prototype.clearDocumentToolbarItems=function(){if(f.notNull(this.m_toolbar)){while(this.m_toolbar.getItemCount()>7){var l=this.m_toolbar.getItemCount()-1;var a=this.m_toolbar.getItem(l);if(f.notNull(a)&&f.XString.isEqual(a.getName(),f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_REDO)){break;}this.m_toolbar.removeItem(a);}}};f.AuGalaxyDataStudio.prototype.activeDocumentChanged=function(d){if(f.notNull(d)&&this.m_activeDocument!==d){this.setTitle(d.getTitle());this.clearDocumentsMenuButtons();var m=d.getMenuButtons().getIterator();while(m.hasNext()){var t=m.next();this.getMenuBar().addItem(t);}this.clearDocumentToolbarItems();if(d.getToolbarItems().size()>0){this.addToolbarSectionSeparator();}var a=d.getToolbarItems().getIterator();while(a.hasNext()){var b=a.next();this.m_toolbar.addItem(b);}this.m_toolbarUndoBtn.setEnabled(d.hasUndoSteps());this.m_toolbarRedoBtn.setEnabled(d.hasRedoSteps());this.m_toolbarSaveAsBtn.setEnabled(d.hasSaveData());this.setStatusMessage(d.getStatusMessage(),d.getStatusMessageType());d.notifyBecameVisible();if(f.notNull(this.m_activeDocument)){this.m_activeDocument.notifyEnteredBackground();}this.m_activeDocument=d;}};f.AuGalaxyDataStudio.prototype.presentDocumentUnsavedChangesPopup=function(d){var u=f.UiConfirmPopup.create(this.getGenesis(),"Unsaved changes!","The document which you are trying to close has unsaved changes. Are you sure you want to close it?");u.setConfirmButtonText("Close without saving");u.setConfirmButtonIcon("delete");u.setConfirmButtonType(f.UiButtonType.DESTRUCTIVE);u.setConfirmProcedure(function(){this.closeDocument(d);}.bind(this));u.open();};f.AuGalaxyDataStudio.prototype.setContentBusy=function(b){this.m_contentLayout.setBusy(b);};f.AuGalaxyDataStudio.prototype.showCriticalError=function(t){if(f.notNull(this.m_tabBar)&&!this.m_tabBar.hasItems()){this.m_contentLayout.removeItem(this.m_tabBar);this.m_contentLayout.addItem(this.getCriticalErrorLabelWithText(t));}else{this.getGenesis().showErrorToast(t);}};f.AuGalaxyDataStudio.prototype.setStatusMessage=function(m,a){if(f.XStringUtils.isNullOrEmpty(m)){this.resetStatusMessage();}else if(a===f.UiMessageType.ERROR){this.showErrorStatusMessage(m);}else if(a===f.UiMessageType.WARNING){this.showWarningStatusMessage(m);}else if(a===f.UiMessageType.SUCCESS){this.showSuccessStatusMessage(m);}else{this.showInfoStatusMessage(m);}};f.AuGalaxyDataStudio.prototype.updateStatusLabel=function(m,c){this.m_statusLabel.setText(m);this.m_statusLabel.setFontColor(c);};f.AuGalaxyDataStudio.prototype.resetStatusMessage=function(){this.updateStatusLabel(null,null);};f.AuGalaxyDataStudio.prototype.showWarningStatusMessage=function(m){this.updateStatusLabel(m,f.UiColor.YELLOW.newDarkerColor(0.22));};f.AuGalaxyDataStudio.prototype.showErrorStatusMessage=function(m){this.updateStatusLabel(m,f.UiColor.RED);};f.AuGalaxyDataStudio.prototype.showInfoStatusMessage=function(m){this.updateStatusLabel(m,f.UiColor.BLACK.newBrighterColor(0.2));};f.AuGalaxyDataStudio.prototype.showSuccessStatusMessage=function(m){this.updateStatusLabel(m,f.UiColor.GREEN.newBrighterColor(0.2));};f.AuGalaxyDataStudio.prototype.processGdfFile=function(a,g){if(this.isGdfJsonFileValid(g)){var t=this.openNewQueryDesignerDocument(a,null,null);if(f.isNull(a)){t.loadByJsonData(g);}}else{this.showErrorStatusMessage("Invalid file!");this.showCriticalError("The specified file is not a Galaxy Data Studio document file!");}};f.AuGalaxyDataStudio.prototype.isGdfJsonFileValid=function(g){if(f.isNull(g)){return false;}if(!g.containsKey(f.AuGdsContants.GDF_FILE_DOC_TYPE)){return false;}return true;};f.AuGalaxyDataStudio.prototype.hasUnsavedChanges=function(){if(f.notNull(this.m_openDocuments)){var o=this.m_openDocuments.getKeysAsIteratorOfString();while(o.hasNext()){var t=o.next();var a=this.m_openDocuments.getByKey(t);if(a.isDirty()){return true;}}}return false;};f.AuGalaxyDataStudio.prototype.createFileMenuBarMenu=function(a){var b=this.getGenesis().newControl(f.UiType.MENU);b.setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU);b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_NEW).setText("New").setIcon("document").registerOnPress(this);b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_OPEN).setText("Open...").setIcon("open-folder").registerOnPress(this).setEnabled(false);b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_CLOSE).setText("Close").setIcon("decline").registerOnPress(this).setEnabled(true).setSectionStart(true);b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_CLOSE_ALL).setText("Close All").setIcon("clear-all").registerOnPress(this).setEnabled(true);b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE).setText("Save").setIcon("save").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasFile());b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE_AS).setText("Save As...").setIcon("save").registerOnPress(this).setEnabled(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasSaveData());b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE_ALL).setText("Save All").setIcon("save").registerOnPress(this).setEnabled(false);b.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_EXIT).setText("Exit").setIcon("decline").registerOnPress(this).setEnabled(true).setSectionStart(true);b.openAt(a);};f.AuGalaxyDataStudio.prototype.createEditMenuBarMenu=function(a){var e=this.getGenesis().newControl(f.UiType.MENU);e.setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU);e.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_UNDO).setText("Undo").setIcon("undo").registerOnPress(this).setEnabled(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasUndoSteps());e.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_REDO).setText("Redo").setIcon("redo").registerOnPress(this).setEnabled(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasRedoSteps());e.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_CUT).setText("Cut").setIcon("scissors").registerOnPress(this).setSectionStart(true).setEnabled(false);e.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_COPY).setText("Copy").setIcon("copy").registerOnPress(this).setEnabled(false);e.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_PASTE).setText("Paste").setIcon("paste").registerOnPress(this).setEnabled(false);e.addNewItem().setName(f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_PREFERENCES).setText("Preferences...").setIcon("action-settings").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_activeDocument)&&this.m_activeDocument.canPresentPreferences());e.openAt(a);};f.AuGalaxyDataStudio.prototype.prepareToolbarItems=function(){this.m_toolbarNewBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_NEW).setTooltip("New").setIcon("document").registerOnPress(this);this.m_toolbarOpenBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_OPEN).setTooltip("Open").setIcon("open-folder").registerOnPress(this).setEnabled(false);this.m_toolbarSaveAsBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_SAVE_AS).setTooltip("Save as...").setIcon("save").registerOnPress(this).setEnabled(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasSaveData());this.m_toolbarCloseDocBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_CLOSE_DOCUMENT).setTooltip("Close document").setIcon("decline").registerOnPress(this).setEnabled(f.notNull(this.m_activeDocument));this.addToolbarSectionSeparator();this.m_toolbarUndoBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_UNDO).setTooltip("Undo last action...").setIcon("undo").registerOnPress(this).setEnabled(false);this.m_toolbarRedoBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_REDO).setTooltip("Redo last action...").setIcon("redo").registerOnPress(this).setEnabled(false);};f.AuGalaxyDataStudio.prototype.addToolbarSectionSeparator=function(){this.m_toolbar.addItem(this.newToolbarSeparator());};f.AuGalaxyDataStudio.prototype.openPressed=function(){};f.AuGalaxyDataStudio.prototype.savePressed=function(){if(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasFile()){this.m_activeDocument.executeSave();}};f.AuGalaxyDataStudio.prototype.saveAsPressed=function(){if(f.notNull(this.m_activeDocument)&&this.m_activeDocument.hasSaveData()){this.m_activeDocument.executeSaveAs();}};f.AuGalaxyDataStudio.prototype.undoPressed=function(){if(f.notNull(this.m_activeDocument)){this.m_activeDocument.executeUndo();}};f.AuGalaxyDataStudio.prototype.redoPressed=function(){if(f.notNull(this.m_activeDocument)){this.m_activeDocument.executeRedo();}};f.AuGalaxyDataStudio.prototype.openPreferencesDialog=function(){if(f.notNull(this.m_activeDocument)&&this.m_activeDocument.canPresentPreferences()){this.m_activeDocument.presentPreferences();}};f.AuGalaxyDataStudio.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&a===this.getMenuBar()){switch(c.getName()){case f.AuGalaxyDataStudio.MENU_BAR_FILE_BTN:this.createFileMenuBarMenu(c);break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_BTN:this.createEditMenuBarMenu(c);break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU)){switch(c.getName()){case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_NEW:this.openEmptyQueryDesignerDocument();break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_OPEN:this.openPressed();break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_CLOSE:this.closeActiveDocumentSafe();break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_CLOSE_ALL:this.closeAllDocuments();break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE:this.savePressed();break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE_AS:this.saveAsPressed();break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_SAVE_ALL:break;case f.AuGalaxyDataStudio.MENU_BAR_FILE_MENU_EXIT:this.requestExit();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU)){switch(c.getName()){case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_UNDO:this.undoPressed();break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_REDO:this.redoPressed();break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_CUT:break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_COPY:break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_PASTE:break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_CLEAR_RECENTS:break;case f.AuGalaxyDataStudio.MENU_BAR_EDIT_MENU_PREFERENCES:this.openPreferencesDialog();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&f.XString.isEqual(a.getName(),f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR)){switch(c.getName()){case f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_NEW:this.openEmptyQueryDesignerDocument();break;case f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_OPEN:this.openPressed();break;case f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_SAVE_AS:this.saveAsPressed();break;case f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_CLOSE_DOCUMENT:this.closeActiveDocumentSafe();break;case f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_UNDO:this.undoPressed();break;case f.AuGalaxyDataStudio.QUICK_ACTION_TOOLBAR_REDO:this.redoPressed();break;default:}}};f.AuGalaxyDataStudio.prototype.onFileLoaded=function(e,a,b,c){this.log("File loaded!");if(f.isNull(e)||e.isValid()){var j=this.getJsonObjFromLoadedFileContent(b);if(f.notNull(j)){this.processGdfFile(a,j);}}else{this.getGenesis().showErrorToast("Error while fetching the specified file!");}this.setContentBusy(false);};f.AuGalaxyDataStudio.prototype.onFileDrop=function(e){var a=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_FILE_CONTENT,null);if(f.XStringUtils.isNotNullAndNotEmpty(a)){var p=f.JsonParserFactory.newInstance();var t=p.parse(a);var j=null;if(f.notNull(t)&&t.isStructure()){j=t;}this.processGdfFile(null,j);p=f.XObjectExt.release(p);}};f.AuGalaxyDataStudio.prototype.onItemClose=function(e){var c=e.getControl();if(c.getUiType()===f.UiType.TAB_BAR&&f.XString.isEqual(c.getName(),f.AuGalaxyDataStudio.MAIN_TAB_BAR_NAME)&&e.getAffectedItem()!==null){var t=this.m_openDocuments.getByKey(e.getAffectedItem().getName());this.closeDocumentSafe(t);}};f.AuGalaxyDataStudio.prototype.onItemSelect=function(e){var c=e.getControl();if(c.getUiType()===f.UiType.TAB_BAR&&f.XString.isEqual(c.getName(),f.AuGalaxyDataStudio.MAIN_TAB_BAR_NAME)&&e.getAffectedItem()!==null){var t=this.m_openDocuments.getByKey(e.getAffectedItem().getName());this.activeDocumentChanged(t);}};f.AuGalaxyDataStudio.prototype.onButtonPress=function(e){var p=f.UiPressedButtonType.lookup(e.getParameters().getStringByKey(f.UiControlEvent.PARAM_PRESSED_BUTTON_TYPE));if(p===f.UiPressedButtonType.ADD){this.openEmptyQueryDesignerDocument();}};f.AuGalaxyDataStudio.prototype.onDocumentTitleChanged=function(d,n){if(this.m_activeDocument===d){this.setTitle(n);}};f.AuGalaxyDataStudio.prototype.onDocumentStatusChanged=function(d,s,a){if(this.m_activeDocument===d){this.setStatusMessage(s,a);}};f.AuGalaxyDataStudio.prototype.onUndoRedoStateChanged=function(d,h,a){if(f.notNull(this.m_toolbarUndoBtn)){this.m_toolbarUndoBtn.setEnabled(h);}if(f.notNull(this.m_toolbarRedoBtn)){this.m_toolbarRedoBtn.setEnabled(a);}};f.AuGalaxyDataStudio.prototype.onUndoSaveDataStateChanged=function(d,h,s){if(f.notNull(this.m_toolbarSaveAsBtn)){this.m_toolbarSaveAsBtn.setEnabled(h);}};f.Gyros=function(){};f.Gyros.prototype=new f.DfUiProgram();f.Gyros.prototype._ff_c="Gyros";f.Gyros.DEFAULT_PROGRAM_NAME="Gyros";f.Gyros.TEST_VARIANT_PREFIX="FF_UI_TEST_";f.Gyros.PARAM_SYSTEM="system";f.Gyros.PARAM_DATASOURCE="datasource";f.Gyros.PARAM_PLANNING_SEQUENCE="planningSequence";f.Gyros.PARAM_TEST="test";f.Gyros.PROPERTY_USE_OLAP_ENV="useOlapEnv";f.Gyros.PROPERTY_FUNCTIONAL_VALUES="enableFunctionalValues";f.Gyros.PROPERTY_DATE_PICKER_VALUE_HELP="enableDatePickerValueHelp";f.Gyros.PROPERTY_NON_BLOCKING_REQUESTS="nonBlockingRequests";f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT="useCustomStoryLevelText";f.Gyros.createRunner=function(){return f.KernelBoot.createByName(f.Gyros.DEFAULT_PROGRAM_NAME);};f.Gyros.prototype.m_argumentStructure=null;f.Gyros.prototype.m_system=null;f.Gyros.prototype.m_datasource=null;f.Gyros.prototype.m_planningSequence=null;f.Gyros.prototype.m_test=null;f.Gyros.prototype.m_defaultRb=null;f.Gyros.prototype.m_storyRb=null;f.Gyros.prototype.m_appRb=null;f.Gyros.prototype.m_brRb=null;f.Gyros.prototype.m_storyEditableCb=null;f.Gyros.prototype.m_readonlyCb=null;f.Gyros.prototype.m_uqmCb=null;f.Gyros.prototype.m_noneRb=null;f.Gyros.prototype.m_chartRb=null;f.Gyros.prototype.m_tableRb=null;f.Gyros.prototype.m_explorerRb=null;f.Gyros.prototype.m_filterRb=null;f.Gyros.prototype.m_displayMcb=null;f.Gyros.prototype.m_linkMcb=null;f.Gyros.prototype.m_commandMcb=null;f.Gyros.prototype.m_optionsIcon=null;f.Gyros.prototype.m_options=null;f.Gyros.prototype.m_optionsPopover=null;f.Gyros.prototype.m_changeDsBtn=null;f.Gyros.prototype.m_editToggleBtn=null;f.Gyros.prototype.m_mobileValueHelpBtn=null;f.Gyros.prototype.m_openBtn=null;f.Gyros.prototype.m_optimizedBtn=null;f.Gyros.prototype.m_storyTa=null;f.Gyros.prototype.m_widgetTa=null;f.Gyros.prototype.m_sacDataTa=null;f.Gyros.prototype.m_tokenPopover=null;f.Gyros.prototype.m_messageManager=null;f.Gyros.prototype.m_queryManager=null;f.Gyros.prototype.m_variableProcessor=null;f.Gyros.prototype.m_vdDialog=null;f.Gyros.prototype.m_vdToken=null;f.Gyros.prototype.m_orcaFunctions=null;f.Gyros.prototype.m_orcaDialog=null;f.Gyros.prototype.m_orcaToken=null;f.Gyros.prototype.m_linkage=null;f.Gyros.prototype.m_isPlanningSequence=false;f.Gyros.prototype.m_forcePrompt=false;f.Gyros.prototype.m_disableExitVariables=false;f.Gyros.prototype.m_disableDynamicVariablesInStory=false;f.Gyros.prototype.m_disableDynamicVariablesInWidget=false;f.Gyros.prototype.m_featureDialog=null;f.Gyros.prototype.newProgram=function(){var g=new f.Gyros();g.setup();return g;};f.Gyros.prototype.isShowMenuBar=function(){return true;};f.Gyros.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.Gyros.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.Gyros.PARAM_DATASOURCE,"The datasource to be used (Can be empty for planning sequences).");m.addParameter(f.Gyros.PARAM_PLANNING_SEQUENCE,"The planning sequence to be used (Optional).");m.addParameter(f.Gyros.PARAM_TEST,"The name of the running test (Optional).");};f.Gyros.prototype.evalArguments=function(){this.m_argumentStructure=this.getArgumentStructure();if(this.m_argumentStructure.getIntegerByKeyExt(f.DfProgram.PARAM_XVERSION,-3)===-3){this.m_argumentStructure.putInteger(f.DfProgram.PARAM_XVERSION,f.XVersion.V140_REPOSITORY_PERSIST_PAGING);}var a=this.getParameterValue(f.DfProgram.PARAM_FEATURES);if(f.XStringUtils.isNullOrEmpty(this.m_argumentStructure.getStringByKey(f.DfProgram.PARAM_FEATURES))){this.m_argumentStructure.putString(f.DfProgram.PARAM_FEATURES,a);}f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.Gyros.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.Gyros.PARAM_DATASOURCE);this.m_planningSequence=this.getParameterValue(f.Gyros.PARAM_PLANNING_SEQUENCE);this.m_test=this.getParameterValue(f.Gyros.PARAM_TEST);if(f.XStringUtils.isNullOrEmpty(this.m_system)||f.XStringUtils.isNullOrEmpty(this.m_planningSequence)&&f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BOC_TEST_VARIABLE_TYPES_1]";}};f.Gyros.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);if(f.XStringUtils.isNullOrEmpty(v)){v=this.m_argumentStructure.getStringByKey(n);}return v;};f.Gyros.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();this.m_messageManager=f.MessageManager.createMessageManagerExt(this.getSession());this.m_linkage=f.XHashMapByString.create();this.m_disableDynamicVariablesInStory=true;this.m_disableDynamicVariablesInWidget=true;f.VdVariableModel.CURRENT_DATE=f.XDate.createDateSafe("2017-04-18");var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName(this.m_test);this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);this.setupDatasource();this.m_options=f.OlapUiPropertyListHelper.create(this.getUiManager());this.m_options.addBooleanProperty(f.Gyros.PROPERTY_USE_OLAP_ENV,"Use Olap Env",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_FUNCTIONAL_VALUES,"Enable Functional Values",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_DATE_PICKER_VALUE_HELP,"Enable DatePicker with ValueHelp",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_NON_BLOCKING_REQUESTS,"Send Non-Blocking requests",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT,"Use custom story level text",false);};f.Gyros.prototype.setupDatasource=function(){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_datasource)){var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);var a=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(a.hasErrors()){this.m_messageManager.addAllMessages(a);return;}this.m_queryManager=a.getData();}if(f.XStringUtils.isNotNullAndNotEmpty(this.m_planningSequence)){var p=f.QFactory.createDataSource();p.setFullQualifiedName("$[][][MY_DATA_AREA]");var b=f.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(this.getApplication());b.setSystemName(this.m_system);b.setDataSource(p);b.getProperties().putStringNotNull(f.PlanningConstants.PERSISTENCE_TYPE,f.CellLockingType.DEFAULT_SETTING_BACKEND.getName());var r=b.processServiceCreation(f.SyncType.BLOCKING,null,null);if(r.hasErrors()){this.m_messageManager.addAllMessages(r);return;}var c=r.getData();var d=c.getPlanningContext();var e=d.createPlanningSequenceIdentifier(this.m_planningSequence);var g=d.createPlanningCommand(e);if(g.hasErrors()){this.m_messageManager.addAllMessages(g);return;}var h=g.getData();var i=h.getCreatedPlanningCommandWithId();this.m_variableProcessor=i.getVariableProcessor();this.m_isPlanningSequence=true;}};f.Gyros.prototype.buildUi=function(g){this.m_changeDsBtn=this.addMenuBarButton("changeDatasourceBtn",null,"Change Datasource",null,this);this.m_editToggleBtn=this.addMenuBarButton("editTogglesBtn",null,"Edit Feature Toggles",null,this);this.m_mobileValueHelpBtn=this.addMenuBarButton("mobileValueHelpBtn",null,"Mobile Value Help",null,this);var r=g.newRoot(f.UiType.FLEX_LAYOUT);r.setDirection(f.UiFlexDirection.COLUMN);r.setPadding(f.UiCssBoxEdges.create("5px"));if(this.m_messageManager.hasErrors()||this.getVariableProcessor()===null){this.buildGyrosErrorOutput(r);return;}var i=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);i.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);i.setFlex("0 0 auto");var l=i.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);l.setWidth(f.UiCssLength.create("33%"));this.buildContextSection(l);this.buildLevelSection(l);var c=l.addNewItemOfType(f.UiType.HORIZONTAL_LAYOUT);this.m_storyEditableCb=c.addNewItemOfType(f.UiType.CHECKBOX);this.m_storyEditableCb.setName("storyEditable").setText("Story Editable").setChecked(true);this.m_readonlyCb=c.addNewItemOfType(f.UiType.CHECKBOX);this.m_readonlyCb.setName("readonlyCb").setText("Readonly");this.m_uqmCb=c.addNewItemOfType(f.UiType.CHECKBOX);this.m_uqmCb.setName("uqmCb").setText("UQM");l.addNewItemOfType(f.UiType.SPACER);this.buildDisplaySection(l);this.buildLinkSection(l);this.buildCommandSection(l);this.m_optionsIcon=l.addNewItemOfType(f.UiType.BUTTON);this.m_optionsIcon.setName("options").setText("More Options");this.m_optionsIcon.registerOnPress(this);var a=i.addNewItemOfType(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);a.setWidth(f.UiCssLength.create("66%"));this.m_openBtn=a.addNewItemOfType(f.UiType.BUTTON);this.m_openBtn.setName("openBtn").setText("Open Variable Dialog");this.m_openBtn.registerOnPress(this);this.m_optimizedBtn=a.addNewItemOfType(f.UiType.BUTTON);this.m_optimizedBtn.setName("optimizedBtn").setText("Perform Story Filter Optimization");this.m_optimizedBtn.registerOnPress(this);var o=a.addNewItemOfType(f.UiType.FLEX_LAYOUT);o.setHeight(f.UiCssLength.create("100%"));o.setFlex("auto");var b=o.addNewItemOfType(f.UiType.FLEX_LAYOUT);b.setFlex("auto");b.setDirection(f.UiFlexDirection.COLUMN);b.setAlignItems(f.UiFlexAlignItems.CENTER);b.addNewItemOfType(f.UiType.LABEL).setText("I/O Default/Story").setHeight(f.UiCssLength.create("7%"));this.m_storyTa=b.addNewItemOfType(f.UiType.TEXT_AREA);this.m_storyTa.setName("storyTa");this.m_storyTa.setBackgroundColor(f.UiColor.WHITE);this.m_storyTa.setSize(f.UiSize.createByCss("100%","100%"));var d=o.addNewItemOfType(f.UiType.FLEX_LAYOUT);d.setFlex("auto");d.setDirection(f.UiFlexDirection.COLUMN);d.setAlignItems(f.UiFlexAlignItems.CENTER);d.addNewItemOfType(f.UiType.LABEL).setText("I/O Widget").setHeight(f.UiCssLength.create("7%"));this.m_widgetTa=d.addNewItemOfType(f.UiType.TEXT_AREA);this.m_widgetTa.setName("widgetTa");this.m_widgetTa.setBackgroundColor(f.UiColor.WHITE);this.m_widgetTa.setSize(f.UiSize.createByCss("100%","100%"));var e=o.addNewItemOfType(f.UiType.FLEX_LAYOUT);e.setFlex("auto");e.setDirection(f.UiFlexDirection.COLUMN);e.setAlignItems(f.UiFlexAlignItems.CENTER);e.addNewItemOfType(f.UiType.LABEL).setText("SAC Data").setHeight(f.UiCssLength.create("7%"));this.m_sacDataTa=e.addNewItemOfType(f.UiType.TEXT_AREA);this.m_sacDataTa.setName("sacDataTa");this.m_sacDataTa.setBackgroundColor(f.UiColor.WHITE);this.m_sacDataTa.setSize(f.UiSize.createByCss("100%","100%"));this.setupUi();this.updateState();};f.Gyros.prototype.buildGyrosErrorOutput=function(p){var e=p.addNewItemOfType(f.UiType.TEXT_AREA);e.setName("gyrosErrorOutput");e.setEnabled(false);e.setBackgroundColor(f.UiColor.TRANSPARENT);e.setWidth(f.UiCssLength.create("100%"));e.setHeight(f.UiCssLength.create("100%"));var b=f.XStringBuffer.create();b.append("Gyros could not create a variable processor to work with. Reason:\n");b.append(this.m_messageManager.getSummary());e.setText(b.toString());};f.Gyros.prototype.buildContextSection=function(p){p.addNewItemOfType(f.UiType.LABEL).setText("Context:");var g=p.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);g.setColumnCount(2);this.m_defaultRb=g.addNewRadioButton();this.m_defaultRb.setName("defaultRb").setText("Default");this.m_defaultRb.registerOnChange(this);this.m_defaultRb.setSelected(true);this.m_storyRb=g.addNewRadioButton();this.m_storyRb.setName("storyRb").setText("Story");this.m_storyRb.registerOnChange(this);this.m_appRb=g.addNewRadioButton();this.m_appRb.setName("appRb").setText("AnalyticApp");this.m_brRb=g.addNewRadioButton();this.m_brRb.setName("brRb").setText("Board Room");};f.Gyros.prototype.buildLevelSection=function(p){p.addNewItemOfType(f.UiType.LABEL).setText("Level:");var g=p.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);g.setColumnCount(3);this.m_noneRb=g.addNewRadioButton();this.m_noneRb.setName("noneRb").setText("None");this.m_noneRb.setSelected(true);this.m_chartRb=g.addNewRadioButton();this.m_chartRb.setName("chartRb").setText("Chart");this.m_tableRb=g.addNewRadioButton();this.m_tableRb.setName("tableRb").setText("Table");this.m_explorerRb=g.addNewRadioButton();this.m_explorerRb.setName("explorerRb").setText("Explorer");this.m_filterRb=g.addNewRadioButton();this.m_filterRb.setName("filterRb").setText("Filter");};f.Gyros.prototype.buildDisplaySection=function(p){var l=p.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);l.addNewItemOfType(f.UiType.LABEL).setText("Display Variables:");this.m_displayMcb=l.addNewItemOfType(f.UiType.MULTI_COMBO_BOX);this.m_displayMcb.setName("displayVariablesMcb");};f.Gyros.prototype.buildLinkSection=function(p){var l=p.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);var h=l.addNewItemOfType(f.UiType.HORIZONTAL_LAYOUT);h.addNewItemOfType(f.UiType.LABEL).setText("Show Link Variable Tooltips:");var i=h.addNewItemOfType(f.UiType.ICON).setIcon("message-information").setPadding(f.UiCssBoxEdges.create("3px"));i.setTooltip("Only setting the tooltip will be interpreted as a missing link (FPA10-3392) and instead of linked valueHelp, the default will be used.");this.m_linkMcb=l.addNewItemOfType(f.UiType.MULTI_COMBO_BOX);this.m_linkMcb.setName("linkVariablesMcb");};f.Gyros.prototype.buildCommandSection=function(p){var l=p.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);l.addNewItemOfType(f.UiType.LABEL).setText("Commands:");this.m_commandMcb=l.addNewItemOfType(f.UiType.MULTI_COMBO_BOX);this.m_commandMcb.setName("commandMcb");this.m_commandMcb.registerOnSelectionChange(this);var c=f.GyrosCommand.getAllCommands();for(var i=0;i<c.size();i++){var a=c.get(i);var b=this.m_commandMcb.addNewItem();b.setName(a.getName());b.setText(a.getDescription());}};f.Gyros.prototype.setupUi=function(){var v=this.getVariableProcessor().getInputEnabledVariables();this.m_displayMcb.clearItems();this.m_linkMcb.clearItems();for(var i=0;i<v.size();i++){var a=v.get(i);var d=this.m_displayMcb.addNewItem();d.setName(a.getName());d.setText(a.getText());d.setSelected(true);var l=this.m_linkMcb.addNewItem();l.setName(a.getName());l.setText(a.getText());}};f.Gyros.prototype.showVariablePrompt=function(a,o){f.OlapUiValueHelpAbstract.s_syncType=this.m_options.getBooleanValue(f.Gyros.PROPERTY_NON_BLOCKING_REQUESTS)?f.SyncType.NON_BLOCKING:f.SyncType.BLOCKING;var c=this.m_commandMcb.getSelectedItems();for(var i=0;i<c.size();i++){var b=c.get(i).getName();f.GyrosCommand.getByName(b).execute(this);}if(this.m_storyRb.isSelected()&&this.getVariableProcessor().isReinitNeeded()){var l=f.VariableProcessorCallbackLambda.createSingleUse(function(r){if(r.isValid()){this.showVariablePrompt(a,o);}}.bind(this));this.getVariableProcessor().reInitVariablesAfterSubmit(f.OlapUiValueHelpAbstract.s_syncType,l,a);return;}var v=f.XHashSetOfString.create();var s=this.m_displayMcb.getSelectedItems();for(var j=0;j<s.size();j++){v.add(s.get(j).getName());}if(this.m_defaultRb.isSelected()){this.showDefaultPrompt(a,v,o);}else if(this.m_uqmCb.isChecked()){this.showUqmPrompt(a,v,o);}else{this.showOrcaPrompt(a,v);}};f.Gyros.prototype.showDefaultPrompt=function(a,v,o){this.m_vdToken=f.XObjectExt.release(this.m_vdToken);this.m_vdDialog=f.XObjectExt.release(this.m_vdDialog);var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);var b=f.VdConfiguration.createConfig("Variables",this.getVariableProcessor());b.setVariablesToDisplay(v);b.setEnterOnFocusLeave(false);b.setFunctionalValuesEnabled(this.m_options.getBooleanValue(f.Gyros.PROPERTY_FUNCTIONAL_VALUES));b.setUseDatePickerValueHelp(this.m_options.getBooleanValue(f.Gyros.PROPERTY_DATE_PICKER_VALUE_HELP));b.setUseDatePicker(f.isNull(this.m_queryManager)||this.m_queryManager.getSystemType().isTypeOf(f.SystemType.ABAP));var e;if(f.notNull(a)){e=this.m_vdToken=f.VdVariableForm.createAsToken(c,b);}else{e=this.m_vdDialog=f.VdVariableDialog.createAsDisplay(c,b,this);}this.m_vdDialog.registerSubmitListener(this);var g=this.getFirstVarName(v);if(o&&e.supportsStoryFilterOptimization(g)){e.performStoryFilterOptimizationWorkflow(g);}else if(f.notNull(this.m_vdToken)){var h=f.UiGenesis.create(a,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0);this.m_vdToken.buildUi(h);}else if(f.notNull(this.m_vdDialog)){this.m_vdDialog.open();}};f.Gyros.prototype.showOrcaPrompt=function(a,v){this.m_orcaToken=f.XObjectExt.release(this.m_orcaToken);this.m_orcaDialog=f.XObjectExt.release(this.m_orcaDialog);this.m_orcaFunctions=f.XObjectExt.release(this.m_orcaFunctions);var i=this.getUiManager().getLocalization();var p=f.VdOrcaNativeParams.create();p.queryManager=f.isNull(this.m_variableProcessor)?this.m_queryManager:null;p.varProcessor=this.getVariableProcessor();p.numberFormatter=f.GyrosNumberFormatter.create();p.dateDisplayFormat="MMM d, y";p.storyEditable=this.m_storyEditableCb.isChecked();p.readOnly=this.m_readonlyCb.isChecked();p.showChartVariables=this.m_chartRb.isSelected()||this.m_tableRb.isSelected();p.isWidget=this.m_chartRb.isSelected()||this.m_tableRb.isSelected()||this.m_explorerRb.isSelected();p.useTableMessage=this.m_tableRb.isSelected();p.analyticApp=this.m_appRb.isSelected();p.variablesToDisplay=v;p.customStoryButtonText=this.m_options.getBooleanValue(f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT)?f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT:null;p.presetVariablesButtonText=this.m_brRb.isSelected()?i.getText(f.VariableDialogI18n.I18N_VD_SET_FOR_CURRENT_PAGE):null;p.datasetVariablesButtonText=this.m_brRb.isSelected()?i.getText(f.VariableDialogI18n.I18N_VD_SET_FOR_ALL_PAGES):null;p.preSetVariablesEditable=this.m_brRb.isSelected()&&this.m_noneRb.isSelected();p.datasetVariablesEditable=this.m_brRb.isSelected()&&this.m_noneRb.isSelected();p.showVariantSection=this.m_brRb.isSelected()&&this.m_noneRb.isSelected();p.isPlanningSequence=this.m_isPlanningSequence;p.forcePrompt=this.m_forcePrompt;p.disableExitVariables=this.m_disableExitVariables;p.isStoryUsingDynamicVariables=!this.m_disableDynamicVariablesInStory;p.isWidgetUsingDynamicVariables=!this.m_disableDynamicVariablesInWidget;p.linkage=this.m_linkage;p.linkTooltips=this.createLinkTooltips();if(f.XStringUtils.isNotNullAndNotEmpty(this.m_storyTa.getText())){p.datasetVariables=f.JsonParserFactory.createFromSafeString(this.m_storyTa.getText());}if(f.XStringUtils.isNotNullAndNotEmpty(this.m_widgetTa.getText())){p.preSetVariables=f.JsonParserFactory.createFromSafeString(this.m_widgetTa.getText());}var s=this.m_sacDataTa.getText();if(f.XStringUtils.isNotNullAndNotEmpty(s)){var b=f.JsonParserFactory.createFromSafeString(s);p.filterVariables=b.getStructureByKey("Filter");p.dimensionDisplayInfo=b.getStructureByKey("DimensionDisplayInfo");}var c=this.getVariableProcessor().getInputEnabledAndNonTechnicalVariables();if(this.m_filterRb.isSelected()){if(v.size()===1){p.singleVariableKey=v.getValuesAsReadOnlyListOfString().get(0);}else if(c.size()>=1){var d=c.get(0).getName();p.singleVariableKey=d;p.variablesToDisplay=f.XHashSetOfString.create();p.variablesToDisplay.add(d);}}if(f.notNull(a)){this.m_orcaFunctions=this.m_orcaToken=f.VdOrcaEntryPoint.createEntryPointToken(null,p);this.m_orcaFunctions.registerSubmitListener(this);this.m_orcaToken.buildUiOnControl(a);}else{this.m_orcaFunctions=this.m_orcaDialog=f.VdOrcaEntryPoint.createEntryPointDisplay(null,p,this);this.m_orcaFunctions.registerSubmitListener(this);this.m_orcaDialog.open();}};f.Gyros.prototype.showUqmPrompt=function(a,v,o){this.m_orcaToken=f.XObjectExt.release(this.m_orcaToken);this.m_orcaDialog=f.XObjectExt.release(this.m_orcaDialog);this.m_orcaFunctions=f.XObjectExt.release(this.m_orcaFunctions);var b=this.getApplication();var p=f.PrFactory.createStructure();if(f.notNull(this.m_queryManager)){var g="gyrosId";this.m_queryManager.getTagging().put(f.VdStandalone.VARIABLE_PROCESSOR_ID,g);p.putString(f.VdStandalone.VARIABLE_PROCESSOR_ID,g);}var i=this.isBw();p.putString(f.VdStandalone.TITLE,this.getTitle());p.putString(f.VdStandalone.DATE_DISPLAY_FORMAT,"MMM d, y");p.putString(f.VdStandalone.SCENARIO,this.getScenario().getName());p.putString(f.VdStandalone.LEVEL,this.getLevel().getName());p.putBoolean(f.VdStandalone.UPDATE_DYNAMIC_VARIABLES_ON_START,false);p.putBoolean(f.VdStandalone.USE_DATEPICKER,i);p.putBoolean(f.VdStandalone.HIDE_OPERATOR_NOT_BEWEEN,!i);p.putBoolean(f.VdStandalone.HIDE_LEVEL_SECTION,this.getScenario()===f.VdOrcaScenario.ANALYTIC_APP&&!this.m_storyEditableCb.isChecked());p.putBoolean(f.VdStandalone.STORY_EDITABLE,this.m_storyEditableCb.isChecked());p.putBoolean(f.VdStandalone.READ_ONLY,this.m_readonlyCb.isChecked());p.putBoolean(f.VdStandalone.DISABLE_EXIT,this.m_disableExitVariables);p.putBoolean(f.VdStandalone.TOP_LEVEL_DYNAMIC_VARIABLES,!this.m_disableDynamicVariablesInStory);p.putBoolean(f.VdStandalone.BOTTOM_LEVEL_DYNAMIC_VARIABLES,!this.m_disableDynamicVariablesInWidget);var l=p.putNewList(f.VdStandalone.VARIABLE_NAMES);var c=v.getIterator();while(c.hasNext()){l.addString(c.next());}f.XObjectExt.release(c);p.putString(f.VdStandalone.START_VALUES_FORMAT,f.VdValueFormat.DATA_QUERY_MODEL.getName());if(f.XStringUtils.isNotNullAndNotEmpty(this.m_storyTa.getText())){p.put(f.VdStandalone.TOP_LEVEL_VALUES,f.JsonParserFactory.createFromSafeString(this.m_storyTa.getText()));}if(f.XStringUtils.isNotNullAndNotEmpty(this.m_widgetTa.getText())){p.put(f.VdStandalone.BOTTOM_LEVEL_VALUES,f.JsonParserFactory.createFromSafeString(this.m_widgetTa.getText()));}if(f.notNull(a)){this.m_orcaFunctions=this.m_orcaToken=f.VdStandalone.createTokenWithParameters(b,null,p);}else{this.m_orcaFunctions=this.m_orcaDialog=f.VdStandalone.createDisplayWithParameters(b,null,p,this);}this.m_orcaFunctions.registerSubmitListener(this);var d=this.getFirstVarName(v);if(o&&this.m_orcaFunctions.supportsStoryFilterOptimization(d)){this.m_orcaFunctions.performStoryFilterOptimizationWorkflow(d);}else if(f.notNull(this.m_orcaToken)){this.m_orcaToken.buildUiOnControl(a);}else if(f.notNull(this.m_orcaDialog)){this.m_orcaDialog.open();}};f.Gyros.prototype.getFirstVarName=function(v){if(f.XCollectionUtils.hasElements(v)){var i=v.getIterator();var a=i.next();f.XObjectExt.release(i);if(f.notNull(a)){return a;}}return this.getVariableProcessor().getInputEnabledAndNonTechnicalVariables().get(0).getName();};f.Gyros.prototype.createLinkTooltips=function(){var v=f.XHashMapByString.create();var s=this.m_linkMcb.getSelectedItems();for(var i=0;i<s.size();i++){var a=f.XStringUtils.concatenate2("varNamePlaceholder",f.XInteger.convertToString(i));var m=f.XStringUtils.concatenate2("modelNamePlaceholder",f.XInteger.convertToString(i));var t=f.XCollectionUtils.singletonList(f.XPairOfString.create(a,m));v.put(s.get(i).getName(),t);}var k=this.m_linkage.getKeysAsIteratorOfString();while(k.hasNext()){var n=k.next();v.put(n,f.XCollectionUtils.singletonList(f.XPairOfString.create(n,"modelNamePlaceholder")));}return v;};f.Gyros.prototype.onChange=function(e){this.updateState();};f.Gyros.prototype.updateState=function(){if(this.m_defaultRb.isSelected()){this.m_noneRb.setSelected(true);this.m_uqmCb.setChecked(false);}if(!this.m_storyRb.isSelected()&&(this.m_explorerRb.isSelected()||this.m_filterRb.isSelected())){this.m_noneRb.setSelected(true);}this.m_chartRb.setEnabled(!this.m_defaultRb.isSelected());this.m_tableRb.setEnabled(!this.m_defaultRb.isSelected());this.m_explorerRb.setEnabled(this.m_storyRb.isSelected());this.m_filterRb.setEnabled(this.m_storyRb.isSelected());this.m_linkMcb.setEnabled(!this.m_defaultRb.isSelected());this.m_storyTa.setEnabled(!this.m_defaultRb.isSelected());this.m_widgetTa.setEnabled(!this.m_defaultRb.isSelected());this.m_sacDataTa.setEnabled(!this.m_defaultRb.isSelected());this.m_uqmCb.setEnabled(!this.m_defaultRb.isSelected());};f.Gyros.prototype.getVariableProcessor=function(){if(f.notNull(this.m_variableProcessor)){return this.m_variableProcessor;}if(this.m_options.getBooleanValue(f.Gyros.PROPERTY_USE_OLAP_ENV)){return this.m_queryManager.getOlapEnv().getVariableProcessor();}return this.m_queryManager;};f.Gyros.prototype.getQueryManager=function(){return this.m_queryManager;};f.Gyros.prototype.setLinkage=function(l){this.m_linkage=l;};f.Gyros.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_openBtn){if(f.notNull(this.m_tokenPopover)&&this.m_tokenPopover.isOpen()){this.m_tokenPopover.close();return;}if(this.m_filterRb.isSelected()){this.m_tokenPopover=this.getUiManager().newControl(f.UiType.POPOVER);this.m_tokenPopover.openAt(this.m_openBtn);this.m_tokenPopover.setWidth(f.UiCssLength.create("800px"));this.m_tokenPopover.setPadding(f.UiCssBoxEdges.create("8px"));this.m_tokenPopover.registerOnAfterClose(this);this.showVariablePrompt(this.m_tokenPopover,false);}else{this.showVariablePrompt(null,false);}}else if(c===this.m_optimizedBtn){this.showVariablePrompt(null,true);}else if(c===this.m_optionsIcon){this.openOptionsDialog();}else if(c===this.m_changeDsBtn){this.openDatasourcePickerDialog();}else if(c===this.m_editToggleBtn){f.XObjectExt.release(this.m_featureDialog);this.m_featureDialog=f.UiFeatureToggleDialog.createFeatureDialog(this.getSession(),this.getUiManager(),this);this.m_featureDialog.open();}else if(c===this.m_mobileValueHelpBtn){this.createMobileValueHelpMenu(c);}else if(c.getUiType()===f.UiType.MENU_ITEM&&f.XString.isEqual(c.getParent().getName(),"gyrosMobileValueHelpMenu")){this.handleMobileValueHelpMenuItemPress(c);}};f.Gyros.prototype.onAfterClose=function(e){this.m_tokenPopover=f.XObjectExt.release(this.m_tokenPopover);if(f.notNull(this.m_vdToken)){this.m_vdToken.attemptSubmit();}else if(f.notNull(this.m_orcaToken)){this.m_orcaToken.attemptSubmit();}};f.Gyros.prototype.openOptionsDialog=function(){if(f.isNull(this.m_optionsPopover)){this.m_optionsPopover=this.getUiManager().newControl(f.UiType.POPOVER);this.m_optionsPopover.setWidth(f.UiCssLength.create("320px"));this.m_optionsPopover.setPadding(f.UiCssBoxEdges.create("15px"));this.m_options.buildUi(f.UiGenesis.create(this.m_optionsPopover,f.UiItemPosition.CONTENT,f.UiOperation.SET,0,0));}this.m_optionsPopover.openAt(this.m_optionsIcon);};f.Gyros.prototype.openDatasourcePickerDialog=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.putXObject(f.AuDatasourcePicker.PARAM_APPLICATION,this.getApplication());t.putString(f.AuDatasourcePicker.PARAM_SYSTEM,this.m_system);t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.Gyros.prototype.onSelectionChange=function(e){this.m_linkage=f.XHashMapByString.create();};f.Gyros.prototype.onBeforeSubmit=function(v,a){};f.Gyros.prototype.onAfterSubmit=function(s,e,v,a){var b=this.getVariableProcessor();var c=v;if(this.m_options.getBooleanValue(f.Gyros.PROPERTY_FUNCTIONAL_VALUES)){c=f.VdImportExport.getValuesFromProcessor(b);}var _=f.VdOrcaValueParser.exportVariables(b,c,this.m_linkage.getKeysAsReadOnlyListOfString());if(f.notNull(_)){if(f.notNull(this.m_orcaFunctions)&&this.m_orcaFunctions.isWidgetSelected()){this.m_widgetTa.setText(f.PrUtils.serialize(_,true,true,4));}else{this.m_storyTa.setText(f.PrUtils.serialize(_,true,true,4));}}};f.Gyros.prototype.onOk=function(){if(f.notNull(this.m_orcaFunctions)){this.m_forcePrompt=this.m_orcaFunctions.isForcePrompt();this.m_disableExitVariables=this.m_orcaFunctions.isDisablingExitVariables();if(this.m_chartRb.isSelected()||this.m_tableRb.isSelected()||this.m_explorerRb.isSelected()){this.m_disableDynamicVariablesInWidget=this.m_orcaFunctions.isDisablingDynamicVariables();}else{this.m_disableDynamicVariablesInStory=this.m_orcaFunctions.isDisablingDynamicVariables();}}if(f.notNull(this.m_queryManager)&&this.m_queryManager.supportsDirectVariableTransfer()){this.m_queryManager.processQueryExecution(f.SyncType.BLOCKING,null,null);}};f.Gyros.prototype.onCancel=function(){};f.Gyros.prototype.onDatasourceSelected=function(d){if(f.isNull(d)){return;}this.m_system=d.getSystemName();this.m_datasource=d.getFullQualifiedName();this.m_planningSequence=null;f.XObjectExt.release(this.m_queryManager);f.XObjectExt.release(this.m_variableProcessor);this.setupDatasource();this.setupUi();};f.Gyros.prototype.onFeatureToggleDialogClose=function(s){if(f.isNull(s)){return;}var a=this.getSession();a.clearAllFeatureToggles();a.activateFeatureToggleSet(s);f.XObjectExt.release(this.m_queryManager);f.XObjectExt.release(this.m_variableProcessor);this.setupDatasource();this.setupUi();};f.Gyros.prototype.getScenario=function(){if(this.m_storyRb.isSelected()){return f.VdOrcaScenario.STORY;}if(this.m_appRb.isSelected()){return f.VdOrcaScenario.ANALYTIC_APP;}if(this.m_brRb.isSelected()){return f.VdOrcaScenario.BOARD_ROOM;}return null;};f.Gyros.prototype.getLevel=function(){if(this.m_tableRb.isSelected()){return f.VdOrcaLevel.TABLE;}if(this.m_chartRb.isSelected()){return f.VdOrcaLevel.CHART;}if(this.m_explorerRb.isSelected()){return f.VdOrcaLevel.EXPLORER;}if(this.m_filterRb.isSelected()){return f.VdOrcaLevel.FILTER;}return f.VdOrcaLevel.DEFAULT;};f.Gyros.prototype.isBw=function(){if(this.m_isPlanningSequence){return true;}return f.notNull(this.m_queryManager)&&this.m_queryManager.getSystemType().isTypeOf(f.SystemType.ABAP);};f.Gyros.prototype.createMobileValueHelpMenu=function(m){var a=this.m_genesis.newControl(f.UiType.MENU);a.setName("gyrosMobileValueHelpMenu");a.addNewItem().setName("gyrosMobileValueHelpCalendarSingle").setText("Calendar Single").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpCalendarRange").setText("Calendar Range").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpOperatorList").setText("Operator List").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpSimpleList").setText("Simple List").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpMemberSelector").setText("Member Selector").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpOperatorWorkflow").setText("Operator Workflow").setIcon("value-help").registerOnPress(this);a.openAt(m);};f.Gyros.prototype.getFirstVarFromQueryManager=function(){if(this.getQueryManager()!==null){if(this.getQueryManager().hasVariables()){return this.getQueryManager().getVariables().get(1);}this.getGenesis().showWarningToast("The specified data source has no variables!");return null;}this.getGenesis().showErrorToast("No data source specified!");return null;};f.Gyros.prototype.handleMobileValueHelpMenuItemPress=function(m){var a=null;switch(m.getName()){case"gyrosMobileValueHelpCalendarSingle":f.VdVhMobileTester.testCalendarSingle(this.getApplication());break;case"gyrosMobileValueHelpCalendarRange":f.VdVhMobileTester.testCalendarRange(this.getApplication());break;case"gyrosMobileValueHelpOperatorList":f.VdVhMobileTester.testOperatorList(this.getApplication());break;case"gyrosMobileValueHelpSimpleList":f.VdVhMobileTester.testSimpleList(this.getApplication());break;case"gyrosMobileValueHelpMemberSelector":a=this.getFirstVarFromQueryManager();if(f.notNull(a)){f.VdVhMobileTester.testMemberSelector(this.getApplication(),a);}break;case"gyrosMobileValueHelpOperatorWorkflow":a=this.getFirstVarFromQueryManager();if(f.notNull(a)){f.VdVhMobileTester.testOperatorWorkflow(this.getApplication(),a);}break;default:}};f.QvKratos=function(){};f.QvKratos.prototype=new f.DfUiProgram();f.QvKratos.prototype._ff_c="QvKratos";f.QvKratos.DEFAULT_PROGRAM_NAME="Kratos";f.QvKratos.createRunner=function(){var r=f.KernelBoot.createByName(f.QvKratos.DEFAULT_PROGRAM_NAME);return r;};f.QvKratos.createNewMetis=function(){var p=new f.QvKratos();p.setup();return p;};f.QvKratos.prototype.m_queryName=null;f.QvKratos.prototype.m_queryManager=null;f.QvKratos.prototype.newProgram=function(){var p=new f.QvKratos();p.setup();return p;};f.QvKratos.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);};f.QvKratos.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);};f.QvKratos.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.QvKratos.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_queryManager=f.XObjectExt.release(this.m_queryManager);};f.QvKratos.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.QvKratos.prototype.isShowMenuBar=function(){return true;};f.QvKratos.prototype.getDefaultContainerSize=function(){return f.UiSize.createByCss("60vw","60vh");};f.QvKratos.prototype.getMenuBarDisplayName=function(){return f.QvKratos.DEFAULT_PROGRAM_NAME;};f.QvKratos.prototype.setupInternal=function(){};f.QvKratos.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var s=g.newControl(f.UiType.FLEX_LAYOUT);s.setName("sleMetisMainLayout");s.useMaxSpace();s.setDirection(f.UiFlexDirection.ROW);s.setAlignItems(f.UiFlexAlignItems.CENTER);s.setJustifyContent(f.UiFlexJustifyContent.CENTER);s.setWrap(f.UiFlexWrap.NO_WRAP);s.setBackgroundColor(f.UiColor.create("#f9fafc"));var a=s.addNewItemOfType(f.UiType.BUTTON);a.setName("selectQueryBtn");a.setText("Select Query");a.registerOnPress(this);g.setRoot(s);this.addMenuBarButton("qvKratosToolbarQueryBtn",null,"Query",null,this);this.addMenuBarButton("qvKratosToolbarVariableDialogBtn",null,"Variable Dialog",null,this).setEnabled(false);};f.QvKratos.prototype.showQuerySelectionDialog=function(){f.OqdController.create(this.getApplication(),this.getUiManager(),this).open();};f.QvKratos.prototype.showVariableDialogForcurrentQuery=function(){var e=f.VdUqmEntryPoint.createEntryPoint(this.m_queryName,this.m_queryManager.getOlapEnv().getVariableProcessor(),this);e.open();};f.QvKratos.prototype.createQueryManager=function(s,q,a){this.showLoadingIndicator();this.m_queryName=q;var b=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),s,a);b.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.QvKratos.prototype.createQueryUi=function(){if(f.isNull(this.m_queryManager)){this.getGenesis().showErrorToast("Missing Query Manager! Something went wrong!");return;}var t=this.getMenuBar().getItemByName("qvKratosToolbarVariableDialogBtn");if(this.m_queryManager.getQueryModel().hasVariables()){t.setEnabled(true);}else{t.setEnabled(false);}var m=this.m_genesis.newControl(f.UiType.ICON_TAB_BAR);m.setName("mainTabBar");this.createSheetDefinitionTab(m);this.createVariablesTab(m);this.m_genesis.setRoot(m);};f.QvKratos.prototype.showLoadingIndicator=function(){this.m_genesis.clearUi();var t=this.getMenuBar().getItemByName("qvKratosToolbarVariableDialogBtn");t.setEnabled(false);var a=this.m_genesis.newControl(f.UiType.ACTIVITY_INDICATOR);a.useMaxSpace();this.m_genesis.setRoot(a);};f.QvKratos.prototype.addNewTabLayout=function(t,a,i,n){var b=t.addNewItem();b.setName(n);b.setText(a);b.setIcon(i);var c=b.setNewContent(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.ROW);return c;};f.QvKratos.prototype.addNewListLayout=function(l,t,n){var a=l.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);var b=a.addNewItemOfType(f.UiType.LABEL);b.setText(t);var c=a.addNewItemOfType(f.UiType.SCROLL_CONTAINER);var d=c.setNewContent(f.UiType.LIST);d.setName(n);d.setSelectionMode(f.UiSelectionMode.NONE);return d;};f.QvKratos.prototype.createSheetDefinitionTab=function(t){var s=this.addNewTabLayout(t,"Sheet Definition","document-text","sheetDefinitionTab");var c=this.addNewListLayout(s,"Columns","columnsList");var r=this.addNewListLayout(s,"Rows","rowsList");var a=this.addNewListLayout(s,"Free","freeList");var b=this.m_queryManager.getQueryModel().getColumnsAxis();var d=b.getDimensions();var e=d.getIterator();while(e.hasNext()){var g=e.next();var h=c.addNewItem();h.setText(g.getText());h.setDescription(g.getName());}var i=this.m_queryManager.getQueryModel().getRowsAxis();var j=i.getDimensions();var k=j.getIterator();while(k.hasNext()){var l=k.next();var m=r.addNewItem();m.setText(l.getText());m.setDescription(l.getName());}var n=this.m_queryManager.getQueryModel().getFreeAxis();var o=n.getDimensions();var p=o.getIterator();while(p.hasNext()){var q=p.next();var u=a.addNewItem();u.setText(q.getText());u.setDescription(q.getName());}};f.QvKratos.prototype.createVariablesTab=function(t){var v=this.addNewTabLayout(t,"Variables","request","variablesTab");var a=this.addNewListLayout(v,"Variables","variablesList");var b=this.m_queryManager.getQueryModel().getVariables();var c=b.getIterator();while(c.hasNext()){var d=c.next();var e=a.addNewItem();e.setText(d.getText());e.setDescription(d.getVariableType().getName());}};f.QvKratos.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(e.getControl().getName()){case"qvKratosToolbarQueryBtn":this.showQuerySelectionDialog();break;case"qvKratosToolbarVariableDialogBtn":this.showVariableDialogForcurrentQuery();break;default:}}if(c.getUiType()===f.UiType.BUTTON&&f.XString.isEqual(c.getName(),"selectQueryBtn")){this.showQuerySelectionDialog();}};f.QvKratos.prototype.onQuerySelectCancel=function(){};f.QvKratos.prototype.onQuerySelect=function(s,q,a){this.createQueryManager(s,q,a);};f.QvKratos.prototype.onQueryManagerCreated=function(e,q,c){if(e.isValid()){this.m_queryManager=e.getData();this.createQueryUi();}if(e.hasErrors()){throw f.XException.createRuntimeException(e.getSummary());}};f.QvKratos.prototype.onOk=function(){};f.QvKratos.prototype.onCancel=function(){};f.StdAidos=function(){};f.StdAidos.prototype=new f.DfUiProgram();f.StdAidos.prototype._ff_c="StdAidos";f.StdAidos.DEFAULT_PROGRAM_NAME="Aidos";f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY="aidos_defaultQueryName";f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY="aidos_defaultSystemName";f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY="aidos_defaultFullQueryName";f.StdAidos.createRunner=function(){var r=f.KernelBoot.createByName(f.StdAidos.DEFAULT_PROGRAM_NAME);return r;};f.StdAidos.createNewMetis=function(){var p=new f.StdAidos();p.setup();return p;};f.StdAidos.prototype.m_sacTable=null;f.StdAidos.prototype.m_dataSourceNameLbl=null;f.StdAidos.prototype.m_queryName=null;f.StdAidos.prototype.m_systemName=null;f.StdAidos.prototype.m_fullQueryName=null;f.StdAidos.prototype.newProgram=function(){var p=new f.StdAidos();p.setup();return p;};f.StdAidos.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);};f.StdAidos.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);};f.StdAidos.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.StdAidos.prototype.releaseObject=function(){this.m_sacTable=f.XObjectExt.release(this.m_sacTable);f.DfUiProgram.prototype.releaseObject.call(this);};f.StdAidos.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.StdAidos.prototype.isShowMenuBar=function(){return true;};f.StdAidos.prototype.getDefaultContainerSize=function(){return f.UiSize.createByCss("75vw","60vh");};f.StdAidos.prototype.getMenuBarDisplayName=function(){return f.StdAidos.DEFAULT_PROGRAM_NAME;};f.StdAidos.prototype.setupInternal=function(){this.m_queryName=this.getApplication().getUserManager().getUserSettings().getStringByKeyExt(f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY,"");this.m_systemName=this.getApplication().getUserManager().getUserSettings().getStringByKeyExt(f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY,"");this.m_fullQueryName=this.getApplication().getUserManager().getUserSettings().getStringByKeyExt(f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY,"");};f.StdAidos.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var m=g.newControl(f.UiType.FLEX_LAYOUT);m.setName("stGridDemoMainLayout");m.useMaxSpace();m.setDirection(f.UiFlexDirection.COLUMN);m.setAlignItems(f.UiFlexAlignItems.CENTER);m.setJustifyContent(f.UiFlexJustifyContent.CENTER);m.setWrap(f.UiFlexWrap.NO_WRAP);m.setBackgroundColor(f.UiColor.create("#f9fafc"));var t=m.addNewItemOfType(f.UiType.FLEX_LAYOUT);t.setName("stGridDemoMainLayout");t.setWidth(f.UiCssLength.create("100%"));t.setHeight(f.UiCssLength.create("42px"));t.setFlex("0 0 42px");t.setDirection(f.UiFlexDirection.ROW);t.setAlignItems(f.UiFlexAlignItems.CENTER);t.setJustifyContent(f.UiFlexJustifyContent.CENTER);t.setWrap(f.UiFlexWrap.NO_WRAP);var d=t.addNewItemOfType(f.UiType.LABEL);d.setName("dataSourceLabel");d.setText("Data source: ");d.setFontSize(f.UiCssLength.create("18px"));t.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("5px"));this.m_dataSourceNameLbl=t.addNewItemOfType(f.UiType.LABEL);this.m_dataSourceNameLbl.setName("dataSourceNameLabel");this.m_dataSourceNameLbl.setText("table mock data");this.m_dataSourceNameLbl.setFontWeight(f.UiFontWeight.BOLD);this.m_dataSourceNameLbl.setFontSize(f.UiCssLength.create("18px"));this.m_sacTable=m.addNewItemOfType(f.UiType.SAC_TABLE_GRID);this.m_sacTable.setName("sacTableGrid");this.m_sacTable.setWidth(f.UiCssLength.create("100%"));this.m_sacTable.setHeight(f.UiCssLength.create("100%"));this.m_sacTable.registerOnClick(this);this.m_sacTable.registerOnContextMenu(this);this.m_sacTable.registerOnSelectionChange(this);this.m_sacTable.registerOnButtonPress(this);g.setRoot(m);this.addMenuBarButton("stdAidosJsonModelBtn",null,"JSON Model","table-view",this);this.addMenuBarButton("stdAidosRenderQueryBtn",null,"Render Query","media-play",this);this.addMenuBarButton("stdAidosDefaultQueryBtn",null,"Default Query",null,this);this.addMenuBarButton("stdAidosTableSizeBtn",null,"Table Size","resize",this);if(f.XStringUtils.isNotNullAndNotEmpty(this.m_queryName)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_systemName)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_fullQueryName)){this.createQueryManager(this.m_systemName,this.m_queryName,this.m_fullQueryName);}};f.StdAidos.prototype.showJsonEntryDialog=function(){var c="";if(this.m_sacTable.getModelJson()!==null){c=f.PrUtils.serialize(this.m_sacTable.getModelJson(),false,true,2);}f.SuTextEntryDialog.createDialog(this.m_genesis,"SAC Table json","json",c,this).openDialog();};f.StdAidos.prototype.showQuerySelectionDialog=function(){f.OqdController.create(this.getApplication(),this.getUiManager(),this).open();};f.StdAidos.prototype.showSacTableSize=function(){var o=this.m_sacTable.getOffsetHeight();var a=this.m_sacTable.getOffsetWidth();var s=f.XStringUtils.concatenate5("Table size! ","Height: ",f.XInteger.convertToString(o)," Width: ",f.XInteger.convertToString(a));this.getGenesis().showInfoToast(s);};f.StdAidos.prototype.showLoadingIndicator=function(){this.setBusy(true);};f.StdAidos.prototype.hideLoadingIndicator=function(){this.setBusy(false);};f.StdAidos.prototype.setDataSourceName=function(n){if(f.notNull(this.m_dataSourceNameLbl)){this.m_dataSourceNameLbl.setText(n);}};f.StdAidos.prototype.updateTableData=function(s,m){this.m_sacTable.setModelJson(m);this.hideLoadingIndicator();this.setDataSourceName(s);};f.StdAidos.prototype.createDefaultQueryMenu=function(q){var a=this.m_genesis.newControl(f.UiType.MENU);a.setName("queryToolbarMenu");a.setTag("queryToolbarMenu");a.addNewItem().setName("queryToolbarMenuSetAsDefault").setText("Set current query as default").setIcon("favorite").registerOnPress(this).setEnabled(f.XStringUtils.isNotNullAndNotEmpty(this.m_fullQueryName));a.addNewItem().setName("queryToolbarMenuClearDefault").setText("Clear default query").setIcon("unfavorite").registerOnPress(this);a.openAt(q);};f.StdAidos.prototype.setCurrentQueryAsDefault=function(){this.getApplication().getUserManager().getUserSettings().putString(f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY,this.m_queryName);this.getApplication().getUserManager().getUserSettings().putString(f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY,this.m_systemName);this.getApplication().getUserManager().getUserSettings().putString(f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY,this.m_fullQueryName);this.getGenesis().showInfoToast(f.XStringUtils.concatenate3("Query: ",this.m_queryName," saved as default!"));};f.StdAidos.prototype.clearDefaultQuery=function(){this.getApplication().getUserManager().getUserSettings().removeKey(f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY);this.getApplication().getUserManager().getUserSettings().removeKey(f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY);this.getApplication().getUserManager().getUserSettings().removeKey(f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY);this.getGenesis().showInfoToast("Cleared default query!");};f.StdAidos.prototype.updateSacTableWithJson=function(j){if(f.XStringUtils.isNotNullAndNotEmpty(j)){this.showLoadingIndicator();var p=f.JsonParserFactory.newInstance();var a=p.parse(j);this.updateTableData("JSON",a);this.m_systemName="";this.m_queryName="";this.m_fullQueryName="";}};f.StdAidos.prototype.createQueryManager=function(s,q,a){this.showLoadingIndicator();this.m_systemName=s;this.m_queryName=q;this.m_fullQueryName=a;var b=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),s,a);b.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.StdAidos.prototype.updateSacTableWithQuery=function(q){var r=this.getCursorResultSet(q);var m=f.GridRendererFactory.createRenderer(f.ProtocolBindingType.SAC_TABLE_GRID).render(r);this.updateTableData(f.XStringUtils.concatenate3(this.m_systemName,": ",this.m_queryName),m);};f.StdAidos.prototype.getCursorResultSet=function(q){var r=null;var a=q.getActiveResultSetContainer();if(f.isNull(a)){this.queryLoadingError("ResultSetContainer null");}else if(a.hasErrors()){this.queryLoadingError(a.getSummary());}else{r=a.getCursorResultSet();if(f.isNull(r)){if(a.hasErrors()){this.queryLoadingError(a.getSummary());}else{this.queryLoadingError("ResultSet null");}}else if(r.hasErrors()){this.queryLoadingError(r.getSummary());}}return r;};f.StdAidos.prototype.queryLoadingError=function(m){this.hideLoadingIndicator();this.setDataSourceName("Error");this.getGenesis().showErrorToast(m);this.m_systemName="";this.m_queryName="";this.m_fullQueryName="";throw f.XException.createRuntimeException(m);};f.StdAidos.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&f.XString.isEqual(c.getName(),"stdAidosDefaultQueryBtn")){this.createDefaultQueryMenu(c);}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(e.getControl().getName()){case"stdAidosJsonModelBtn":this.showJsonEntryDialog();break;case"stdAidosRenderQueryBtn":this.showQuerySelectionDialog();break;case"stdAidosTableSizeBtn":this.showSacTableSize();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU){switch(c.getName()){case"queryToolbarMenuSetAsDefault":this.setCurrentQueryAsDefault();break;case"queryToolbarMenuClearDefault":this.clearDefaultQuery();break;default:}}};f.StdAidos.prototype.onTextEntryCancel=function(){};f.StdAidos.prototype.onTextEntryFinished=function(t){this.updateSacTableWithJson(t);};f.StdAidos.prototype.onQuerySelectCancel=function(){};f.StdAidos.prototype.onQuerySelect=function(s,q,a){this.createQueryManager(s,q,a);};f.StdAidos.prototype.onQueryManagerCreated=function(e,q,c){if(e.isValid()){var t=e.getData();this.updateSacTableWithQuery(t);}if(e.hasErrors()){this.queryLoadingError(e.getSummary());}};f.StdAidos.prototype.onClick=function(e){};f.StdAidos.prototype.onContextMenu=function(e){var c=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var a=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);var t=this.getGenesis().newControl(f.UiType.MENU);var b=t.addNewItem();b.setText("Test Cell action!");t.openAtPosition(c,a);};f.StdAidos.prototype.onSelectionChange=function(e){var s=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_SELECTION_AREA,"");var p=f.JsonParserFactory.newInstance();var a=p.parse(s);if(f.notNull(a)&&a.isStructure()){var t=a;var b=t.getIntegerByKey("startCol");this.getGenesis().showWarningToast(f.XInteger.convertToString(b));}};f.StdAidos.prototype.onButtonPress=function(e){var p=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_PRESSED_BUTTON_TYPE,null);var a=f.UiPressedButtonType.lookup(p);if(f.notNull(a)&&a===f.UiPressedButtonType.DRILL){this.getGenesis().showInfoToast("Drill icon clicked!");}};f.Spreadsheet=function(){};f.Spreadsheet.prototype=new f.DfUiProgram();f.Spreadsheet.prototype._ff_c="Spreadsheet";f.Spreadsheet.prototype.m_fileName=null;f.Spreadsheet.prototype.newProgram=function(){var n=new f.Spreadsheet();n.setup();return n;};f.Spreadsheet.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.DfProgram.PARAM_FILE,"The file");};f.Spreadsheet.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);this.m_fileName=this.getArgumentStructure().getStringByKey(f.DfProgram.PARAM_FILE);};f.Spreadsheet.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var d=f.ShDocument.create();if(f.notNull(this.m_fileName)){var a=f.XFile.create(this.getSession(),this.m_fileName);var c=a.load();var j=c.getJsonContent().asStructure();var b=j.getListByKey("Cells");for(var i=0;i<b.size();i++){var e=b.getStructureAt(i);var x=e.getIntegerByKey("x");var y=e.getIntegerByKey("y");var h=d.newCell(x,y);var t=e.getStringByKey("type");if(f.XString.isEqual(t,"text")){h.setText(e.getStringByKey("text"));}else if(f.XString.isEqual(t,"double")){h.setDouble(e.getDoubleByKey("dvalue"));}else if(f.XString.isEqual(t,"int")){h.setInteger(e.getIntegerByKey("ivalue"));}else if(f.XString.isEqual(t,"expr")){h.setExpression(e.getStringByKey("expr"));}}}else{d.newCell(0,0).setText("Example Grid");d.newCell(0,1).setDouble(23.71);d.newCell(1,1).setInteger(1729);d.newCell(0,2).setExpression("set('Hello world!');");d.newCell(1,2).setExpression("set(23);");d.newCell(1,3).setExpression("set(sum(A2:B3));");}d.evaluate();var m=d.toGridStructure();var v=g.newRoot(f.UiType.VERTICAL_LAYOUT);var k=v.addNewItemOfType(f.UiType.VIZ_GRID);k.setModelJson(m);v.addNewItemOfType(f.UiType.BUTTON).setText("Hello");};f.ScAtlas=function(){};f.ScAtlas.prototype=new f.DfUiProgram();f.ScAtlas.prototype._ff_c="ScAtlas";f.ScAtlas.DEFAULT_PROGRAM_NAME="Atlas";f.ScAtlas.ASD_FILE_NAME_KEY="name";f.ScAtlas.ASD_FILE_SYSTEM_NAME_KEY="systemName";f.ScAtlas.ASD_FILE_SYSTEM_URL_KEY="systemUrl";f.ScAtlas.ASD_FILE_STORY_ID_KEY="storyId";f.ScAtlas.ASD_FILE_TYPE_KEY="type";f.ScAtlas.ASD_FILE_WIDGET_IDS_KEY="widgetIds";f.ScAtlas.ASD_FILE_LAYOUT_TYPE_KEY="layoutType";f.ScAtlas.ASD_FILE_CHART_TYPE_KEY="chartType";f.ScAtlas.ASD_FILE_TYPE_DASHBOARD="dashboard";f.ScAtlas.ASD_WIDGET_SEPARATOR_TOKEN=",";f.ScAtlas.createRunner=function(){var r=f.KernelBoot.createByName(f.ScAtlas.DEFAULT_PROGRAM_NAME);return r;};f.ScAtlas.createNewAtlasProgram=function(){var p=new f.ScAtlas();p.setup();return p;};f.ScAtlas.prototype.m_sacUrl=null;f.ScAtlas.prototype.m_layout=null;f.ScAtlas.prototype.m_chartType=null;f.ScAtlas.prototype.m_systemDict=null;f.ScAtlas.prototype.m_mainNavigationContainer=null;f.ScAtlas.prototype.m_startPage=null;f.ScAtlas.prototype.m_urlInput=null;f.ScAtlas.prototype.m_orcaService=null;f.ScAtlas.prototype.m_file=null;f.ScAtlas.prototype.m_storyFileJson=null;f.ScAtlas.prototype.newProgram=function(){var p=new f.ScAtlas();p.setup();return p;};f.ScAtlas.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify a atlas story file","Relative URI",f.XValueType.STRING);};f.ScAtlas.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);var a=this.getArgumentStructure();var b=a.getStringByKey(f.DfProgram.PARAM_FILE);if(f.notNull(b)){var s=this.getSession();var c=f.XFile.createExt(s,b,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(c)||c.isExisting()===false){this.log2("File does not exist: ",b);}else{this.m_file=c;}}};f.ScAtlas.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.ScAtlas.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_startPage=f.XObjectExt.release(this.m_startPage);this.m_mainNavigationContainer=f.XObjectExt.release(this.m_mainNavigationContainer);this.m_urlInput=f.XObjectExt.release(this.m_urlInput);this.m_orcaService=f.XObjectExt.release(this.m_orcaService);if(f.notNull(this.m_systemDict)){this.m_systemDict.clear();this.m_systemDict=f.XObjectExt.release(this.m_systemDict);}this.m_layout=null;this.m_chartType=null;this.m_file=f.XObjectExt.release(this.m_file);this.m_storyFileJson=null;};f.ScAtlas.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.ScAtlas.prototype.isShowMenuBar=function(){return true;};f.ScAtlas.prototype.getDefaultContainerSize=function(){return f.UiSize.createByCss("60vw","60vh");};f.ScAtlas.prototype.getMenuBarDisplayName=function(){return f.ScAtlas.DEFAULT_PROGRAM_NAME;};f.ScAtlas.prototype.setupInternal=function(){this.m_layout=f.OcLayoutType.CANVAS;this.m_chartType=f.OcChartType.HIGHCHARTS;this.m_systemDict=f.XHashMapOfStringByString.create();this.m_systemDict.put("apollo",f.XStringUtils.concatenate5("http:","//TEST_Admin:Admin123Admin123:","basic@apollo.oe","mapi.only.sa","p:8000?system_type=orca"));this.m_systemDict.put("monsun",f.XStringUtils.concatenate5("http:","//TEST_firefly:Welcome1:","basic@bw.ac","ioem.c.eu-de-1.cloud.s","ap:8001?system_type=orca"));};f.ScAtlas.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.addMenuBarButton("scAtlasToolbarStoryBtn",null,"Story",null,this).setEnabled(false);this.addMenuBarButton("scAtlasToolbarLogoutBtn",null,"Logout","log",this).setEnabled(false);this.m_mainNavigationContainer=g.newControl(f.UiType.NAVIGATION_CONTAINER);this.m_mainNavigationContainer.useMaxSpace();this.m_mainNavigationContainer.registerOnBack(this);if(f.notNull(this.m_file)){this.openStoryFromFile(this.m_file);}else{this.createStartPage();this.m_urlInput.setText(this.m_systemDict.getByKey("apollo"));this.setOrcaUrl(this.m_systemDict.getByKey("apollo"));}g.setRoot(this.m_mainNavigationContainer);};f.ScAtlas.prototype.createStartPage=function(){if(f.isNull(this.m_startPage)&&f.notNull(this.m_mainNavigationContainer)){this.m_startPage=this.m_mainNavigationContainer.pushNewPage();this.m_startPage.setName("scAtlasMainContainer");this.m_startPage.setText("SAC Story Connector");this.m_startPage.setShowHeader(false);var s=this.m_startPage.setNewContent(f.UiType.ICON_TAB_BAR);s.useMaxSpace();s.setName("scAtlasStartPageTabBar");var t=s.addNewItem();t.setName("scAtlasHomeTab");t.setText("Home");t.setIcon("home");this.createHomeTab(t);var a=s.addNewItem();a.setName("scAtlasSettingsTab");a.setText("Settings");a.setIcon("settings");this.createSettingsTab(a);}};f.ScAtlas.prototype.createHomeTab=function(t){var h=t.setNewContent(f.UiType.FLEX_LAYOUT);h.useMaxSpace();h.setDirection(f.UiFlexDirection.COLUMN);h.setAlignItems(f.UiFlexAlignItems.CENTER);h.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("100%"));h.addNewItemOfType(f.UiType.SPACER).setHeight(f.UiCssLength.create("10px"));h.addNewItemOfType(f.UiType.LABEL).setText("Select server");var a=h.addNewItemOfType(f.UiType.DROPDOWN);a.setName("hostDropdown");a.setWidth(f.UiCssLength.createExt(350,f.UiCssSizeUnit.PIXEL));a.setHeight(f.UiCssLength.createExt(200,f.UiCssSizeUnit.PIXEL));a.registerOnSelect(this);var c=a.addNewItem();c.setName("custom");c.setText("Custom");var s=this.m_systemDict.getKeysAsIteratorOfString();while(s.hasNext()){var b=s.next();var d=a.addNewItem();d.setName(b);d.setText(b);}a.setSelectedName("apollo");h.addNewItemOfType(f.UiType.LABEL).setText("Orca URL");this.m_urlInput=h.addNewItemOfType(f.UiType.INPUT);this.m_urlInput.setName("scAtlasUrlInput");this.m_urlInput.setPlaceholder("URL");this.m_urlInput.setText(this.m_sacUrl);this.m_urlInput.setWidth(f.UiCssLength.createExt(350,f.UiCssSizeUnit.PIXEL));this.m_urlInput.registerOnLiveChange(this);this.m_urlInput.registerOnEnter(this);var l=h.addNewItemOfType(f.UiType.BUTTON);l.setName("scAtlasLoginBtn");l.setText("Login");l.setIcon("visits");l.registerOnPress(this);};f.ScAtlas.prototype.createSettingsTab=function(t){var s=t.setNewContent(f.UiType.FLEX_LAYOUT);s.useMaxSpace();s.setDirection(f.UiFlexDirection.COLUMN);s.setAlignItems(f.UiFlexAlignItems.CENTER);s.addNewItemOfType(f.UiType.SPACER).setWidth(f.UiCssLength.create("100%"));s.addNewItemOfType(f.UiType.SPACER).setHeight(f.UiCssLength.create("10px"));var c=s.addNewItemOfType(f.UiType.BUTTON);c.setName("scAtlasClearCacheBtn");c.setText("Clear Cache");c.setIcon("delete");c.setButtonType(f.UiButtonType.DESTRUCTIVE);c.registerOnPress(this);var a=s.addNewItemOfType(f.UiType.SPACER);a.setName("spacerCaccheBtn");a.setHeight(f.UiCssLength.createExt(20,f.UiCssSizeUnit.PIXEL));s.addNewItemOfType(f.UiType.LABEL).setText("Select layout");var l=s.addNewItemOfType(f.UiType.DROPDOWN);l.setName("scAtlasLayoutDropdown");l.setWidth(f.UiCssLength.createExt(350,f.UiCssSizeUnit.PIXEL));l.setHeight(f.UiCssLength.createExt(125,f.UiCssSizeUnit.PIXEL));l.registerOnSelect(this);l.addNewItem().setText("Canvas").setName(f.OcLayoutType.CANVAS.getName());l.addNewItem().setText("Flow").setName(f.OcLayoutType.FLOW.getName());l.addNewItem().setText("Flow simple (only charts and data grids)").setName(f.OcLayoutType.FLOW_SIMPLE.getName());l.setSelectedName(this.m_layout.getName());var b=s.addNewItemOfType(f.UiType.SPACER);b.setName("spacerLayoutDd");b.setHeight(f.UiCssLength.createExt(20,f.UiCssSizeUnit.PIXEL));s.addNewItemOfType(f.UiType.LABEL).setText("Select chart type");var d=s.addNewItemOfType(f.UiType.DROPDOWN);d.setName("scAtlasChartDropdown");d.setWidth(f.UiCssLength.createExt(350,f.UiCssSizeUnit.PIXEL));d.setHeight(f.UiCssLength.createExt(125,f.UiCssSizeUnit.PIXEL));d.registerOnSelect(this);d.addNewItem().setText("Highcharts").setName(f.OcChartType.HIGHCHARTS.getName());d.addNewItem().setText("MicroChart").setName(f.OcChartType.MICRO_CHART.getName());d.setSelectedName(this.m_chartType.getName());};f.ScAtlas.prototype.setOrcaUrl=function(o){this.m_sacUrl=o;var s=f.XUri.createFromUrl(o);var a=this.getApplication().getSystemLandscape();a.setSystemByUri(f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME,s,null);};f.ScAtlas.prototype.loginToSac=function(s){if(s){this.m_mainNavigationContainer.setBusy(true);}var c=f.OcOrcaServiceConfig.create(this.getApplication(),f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME);c.processOrcaServiceCreation(f.SyncType.NON_BLOCKING,this,null);};f.ScAtlas.prototype.goToStoryListPage=function(s){var a=f.ScAtlasStoryListView.createStoryListView(this.getGenesis(),s,this);if(f.notNull(a)){this.m_mainNavigationContainer.pushPage(a.getPage());}};f.ScAtlas.prototype.renderStory=function(s){if(f.notNull(this.m_storyFileJson)){this.renderFromFile(s);}else{var a=f.ScAtlasStoryView.createStoryView(this.getGenesis(),this.getApplication(),s,this.m_layout,this.m_chartType);this.m_mainNavigationContainer.pushPage(a.getPage());}};f.ScAtlas.prototype.openStoryFromFile=function(s){if(s.isExisting()){var a=this.m_mainNavigationContainer.pushNewPage();a.setName("scAtlasStoryFilePage");a.setText("Story");a.setBackgroundColor(f.UiColor.WHITE);a.setShowHeader(false);var b=a.setNewContent(f.UiType.ACTIVITY_INDICATOR);b.setText("Loading story...");b.useMaxSpace();s.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);}};f.ScAtlas.prototype.loadStoryFromFileJson=function(s){if(this.isStoryJsonFileValid(s)){this.m_storyFileJson=s;this.setOrcaUrl(this.m_storyFileJson.getStringByKey("systemUrl"));this.loginToSac(false);}else{this.getGenesis().showErrorToast("Invalid story file!");this.m_storyFileJson=null;}};f.ScAtlas.prototype.isStoryJsonFileValid=function(s){if(f.isNull(s)){return false;}if(!s.containsKey(f.ScAtlas.ASD_FILE_SYSTEM_NAME_KEY)){return false;}if(!s.containsKey(f.ScAtlas.ASD_FILE_SYSTEM_URL_KEY)){return false;}if(!s.containsKey(f.ScAtlas.ASD_FILE_STORY_ID_KEY)){return false;}return true;};f.ScAtlas.prototype.renderFromFile=function(s){this.m_mainNavigationContainer.clearPages();this.setTitle(this.m_file.getName());var n=this.m_storyFileJson.getStringByKeyExt(f.ScAtlas.ASD_FILE_NAME_KEY,null);var t=f.OcLayoutType.getByName(this.m_storyFileJson.getStringByKey(f.ScAtlas.ASD_FILE_LAYOUT_TYPE_KEY));if(f.isNull(t)){t=this.m_layout;}var a=f.OcChartType.lookup(this.m_storyFileJson.getStringByKey(f.ScAtlas.ASD_FILE_CHART_TYPE_KEY));if(f.isNull(a)){a=this.m_chartType;}var b=this.m_storyFileJson.getStringByKeyExt(f.ScAtlas.ASD_FILE_TYPE_KEY,null);if(f.XString.isEqual(b,f.ScAtlas.ASD_FILE_TYPE_DASHBOARD)){var w=this.m_storyFileJson.getStringByKeyExt(f.ScAtlas.ASD_FILE_WIDGET_IDS_KEY,null);var c=f.XStringTokenizer.splitString(w,f.ScAtlas.ASD_WIDGET_SEPARATOR_TOKEN);var d=f.ScAtlasDashboardView.createDashboardView(this.getGenesis(),this.getApplication(),s,c,n);this.m_mainNavigationContainer.pushPage(d.getPage());}else{var e=f.ScAtlasStoryView.createStoryView(this.getGenesis(),this.getApplication(),s,t,a);this.m_mainNavigationContainer.pushPage(e.getPage());}};f.ScAtlas.prototype.createStoryToolbarMenu=function(a){var s=this.m_genesis.newControl(f.UiType.MENU);s.setName("storyToolbarMenu");s.addNewItem().setName("atlasStoryToolbarMenuSave").setText("Save").setIcon("save").registerOnPress(this);s.openAt(a);};f.ScAtlas.prototype.onOrcaServiceCreated=function(e,o,c){if(e.isValid()){this.log("#1 success logon");this.m_orcaService=o;o.processSystemLandscapeLoad(f.SyncType.NON_BLOCKING,this,null,null);}else{this.log("#1 failure logon");this.log(e.getSummary());this.getGenesis().showErrorToast("Logon failed!");}};f.ScAtlas.prototype.onSystemsLoaded=function(e,s,c){if(e.isValid()){this.log("#2 success system loaded");var a=this.getApplication().getSystemLandscape();for(var i=0;i<s.size();i++){var b=s.get(i);a.setSystemByDescription(b);}if(f.notNull(this.m_storyFileJson)){this.m_orcaService.processStoryLoad(f.SyncType.NON_BLOCKING,this,null,this.m_storyFileJson.getStringByKey(f.ScAtlas.ASD_FILE_STORY_ID_KEY));}else{this.m_orcaService.processStoryCatalogLoad(f.SyncType.NON_BLOCKING,this,null,null);}}else{this.log("#2 failure system loaded");this.log(e.getSummary());this.getGenesis().showErrorToast("System load failed!");}};f.ScAtlas.prototype.onStoryCatalogLoaded=function(e,s,c){this.m_mainNavigationContainer.setBusy(false);if(e.isValid()){this.log("#3 success story catalog loaded");this.goToStoryListPage(e.getData());}else{this.log("#3 failure story catalog loaded");this.log(e.getSummary());this.getGenesis().showErrorToast("System catalog load failed!");}};f.ScAtlas.prototype.onStoryLoaded=function(e,s,c){this.m_mainNavigationContainer.setBusy(false);if(e.isValid()){this.log("#4 success story loaded");this.renderStory(s);}else{this.log("#4 failure story loaded");this.log(e.getSummary());this.getGenesis().showErrorToast("Story load failed!");}};f.ScAtlas.prototype.onFileLoaded=function(e,a,b,c){this.log("File loaded!");if(e.isValid()){if(f.notNull(b)){var j=b.getJsonContent();if(f.notNull(j)){this.loadStoryFromFileJson(j.asStructure());}else{this.getGenesis().showErrorToast("Not a json document!");}}else{this.getGenesis().showErrorToast("Something went wrong! File content is empty!");}}else{this.getGenesis().showErrorToast("Error while fetching the specified file!");}};f.ScAtlas.prototype.onStoryCatalogItemSelected=function(s){if(f.notNull(s)){this.m_mainNavigationContainer.setBusy(true);this.m_orcaService.processStoryLoad(f.SyncType.NON_BLOCKING,this,null,s.getId());this.log(s.getId());}};f.ScAtlas.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.XString.isEqual(c.getName(),"scAtlasLoginBtn")){this.setOrcaUrl(this.m_urlInput.getText());this.loginToSac(true);return;}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(c.getName()){case"scAtlasToolbarStoryBtn":this.createStoryToolbarMenu(c);break;case"scAtlasToolbarLogoutBtn":this.getGenesis().showInfoToast("It works! Fake logout!");break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU){if(f.XString.isEqual(a.getName(),"editToolbarMenu")){switch(c.getName()){case"editToolbarMenuAddBtn":break;case"editToolbarMenuImportBtn":break;case"editToolbarMenuClearUserSystemsBtn":break;default:}}else if(f.XString.isEqual(a.getName(),"toolsToolbarMenu")){switch(c.getName()){case"toolsToolbarMenuConnectBtn":break;default:}}}};f.ScAtlas.prototype.onSelect=function(e){if(e.getControl().getUiType()===f.UiType.DROPDOWN){var s=e.getSelectedItem();if(f.XString.isEqual(e.getControl().getName(),"hostDropdown")){var t=s.getName();if(this.m_systemDict.containsKey(t)){this.m_urlInput.setText(this.m_systemDict.getByKey(t));this.setOrcaUrl(this.m_systemDict.getByKey(t));}else{this.m_urlInput.setText("");this.setOrcaUrl("");}}else if(f.XString.isEqual(e.getControl().getName(),"scAtlasChartDropdown")){var c=s.getName();this.m_chartType=f.OcChartType.lookup(c);}}};f.ScAtlas.prototype.onLiveChange=function(e){};f.ScAtlas.prototype.onEnter=function(e){};f.ScAtlas.prototype.onBack=function(e){};f.FirstAidTestProgram=function(){};f.FirstAidTestProgram.prototype=new f.DfUiProgram();f.FirstAidTestProgram.prototype._ff_c="FirstAidTestProgram";f.FirstAidTestProgram.DEFAULT_PROGRAM_NAME="FirstAidTest";f.FirstAidTestProgram.prototype.m_createQmBtn=null;f.FirstAidTestProgram.prototype.m_cloneQmBtn=null;f.FirstAidTestProgram.prototype.m_overviewBtn=null;f.FirstAidTestProgram.prototype.m_shellBtn=null;f.FirstAidTestProgram.prototype.m_overview=null;f.FirstAidTestProgram.prototype.newProgram=function(){var p=new f.FirstAidTestProgram();p.setup();return p;};f.FirstAidTestProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var r=g.newRoot(f.UiType.VERTICAL_LAYOUT);this.m_createQmBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_createQmBtn.setText("Create QM...");this.m_createQmBtn.registerOnPress(this);this.m_cloneQmBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_cloneQmBtn.setText("Clone last QM");this.m_cloneQmBtn.setEnabled(false);this.m_cloneQmBtn.registerOnPress(this);this.m_overviewBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_overviewBtn.setText("FirstAid Dialog");this.m_overviewBtn.registerOnPress(this);this.m_shellBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_shellBtn.setText("FirstAid Shell");this.m_shellBtn.registerOnPress(this);var d=f.QFactory.createDataSource();d.setSystemName("KIW");d.setFullQualifiedName("query:[0BOC_TEST_VARIABLE_TYPES_1]");this.onDatasourceSelected(d);};f.FirstAidTestProgram.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();if(c===this.m_overviewBtn){f.XObjectExt.release(this.m_overview);this.m_overview=f.FirstAidDialog.createFirstAidDialog(this.getApplication(),this.getUiManager());this.m_overview.open();}else if(c===this.m_shellBtn){var p=this.getApplication().getProcess();if(f.notNull(p)){var n=f.ProgramArgs.create();var s=f.ProgramStartCfg.create(p,"shell",null,n);s.setIsNewConsoleNeeded(true);s.setIsCreatingChildProcess(false);s.processExecution(f.SyncType.NON_BLOCKING,null,null);}}else if(c===this.m_createQmBtn){this.createQm();}else if(c===this.m_cloneQmBtn){var o=this.getApplication().getOlapEnvironment();var a=o.getAllAreaQueryManager();var l=a.get(a.size()-1);l.cloneQueryManager();}};f.FirstAidTestProgram.prototype.createQm=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.FirstAidTestProgram.prototype.onDatasourceSelected=function(d){if(f.isNull(d)){return;}var s=f.QueryServiceConfig.createWithDataSource(this.getApplication(),d.getSystemName(),d);var r=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(r.hasErrors()){this.logError(r.getSummary());}else{r.getData().getTagging().put("myTag","hoi");r.getData().getTagging().put("myTag1","hoi");r.getData().getTagging().put("myTag2","hoi");r.getData().getTagging().put("myTag3","hoi");r.getData().getTagging().put("myTag4","hoi");this.m_cloneQmBtn.setEnabled(true);}};f.ApplicationUiModule=function(){};f.ApplicationUiModule.prototype=new f.DfModule();f.ApplicationUiModule.prototype._ff_c="ApplicationUiModule";f.ApplicationUiModule.s_module=null;f.ApplicationUiModule.getInstance=function(){if(f.isNull(f.ApplicationUiModule.s_module)){f.DfModule.checkInitialized(f.SystemUiModule.getInstance());f.DfModule.checkInitialized(f.OlapApiModule.getInstance());f.DfModule.checkInitialized(f.StoryModule.getInstance());f.DfModule.checkInitialized(f.QuasarModule.getInstance());f.DfModule.checkInitialized(f.OlapUiModule.getInstance());f.ApplicationUiModule.s_module=f.DfModule.startExt(new f.ApplicationUiModule());f.ProgramRegistration.setProgramFactory(f.AnalyticCardsProgram.DEFAULT_PROGRAM_NAME,new f.AnalyticCardsProgram());f.ProgramRegistration.setProgramFactory(f.Gyros.DEFAULT_PROGRAM_NAME,new f.Gyros());f.ProgramRegistration.setProgramFactory(f.FirstAidTestProgram.DEFAULT_PROGRAM_NAME,new f.FirstAidTestProgram());f.ProgramRegistration.setProgramFactory(f.FilterDialogProgram.DEFAULT_PROGRAM_NAME,new f.FilterDialogProgram());f.ProgramRegistration.setProgramFactory(f.DimensionDialogTestProgram.DEFAULT_PROGRAM_NAME,new f.DimensionDialogTestProgram());f.ProgramRegistration.setProgramFactory(f.CatalogDialogDummyProgram.DEFAULT_PROGRAM_NAME,new f.CatalogDialogDummyProgram());f.ProgramRegistration.setProgramFactory(f.QvKratos.DEFAULT_PROGRAM_NAME,new f.QvKratos());f.ProgramRegistration.setProgramFactory(f.StdAidos.DEFAULT_PROGRAM_NAME,new f.StdAidos());f.ProgramRegistration.setProgramFactory(f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME,new f.GsGalaxyStudio());f.ProgramRegistration.setProgramFactory(f.ScAtlas.DEFAULT_PROGRAM_NAME,new f.ScAtlas());f.ProgramRegistration.setProgramFactory(f.AuProteusShell.DEFAULT_PROGRAM_NAME,new f.AuProteusShell());f.ProgramRegistration.setProgramFactory(f.AuGalaxyDataStudio.DEFAULT_PROGRAM_NAME,new f.AuGalaxyDataStudio());f.GyrosCommand.staticSetupGyrosCommands();f.OpenQueryDialogI18n.staticSetupOqd();f.AuGdsQdPanelPresentation.staticSetup();f.DfModule.stopExt(f.ApplicationUiModule.s_module);}return f.ApplicationUiModule.s_module;};f.ApplicationUiModule.prototype.getName=function(){return"ff8050.application.ui";};f.ApplicationUiModule.getInstance();return sap.firefly;});
