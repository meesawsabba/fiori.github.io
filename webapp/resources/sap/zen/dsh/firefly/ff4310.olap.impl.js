/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff4000.protocol.ina","sap/zen/dsh/firefly/ff4205.olap.api.base","sap/zen/dsh/firefly/ff4250.olap.resultset","sap/zen/dsh/firefly/ff4305.olap.model"],function(f){"use strict";f.BlendableQMPersistedInAResult=function(){};f.BlendableQMPersistedInAResult.prototype=new f.XObject();f.BlendableQMPersistedInAResult.prototype._ff_c="BlendableQMPersistedInAResult";f.BlendableQMPersistedInAResult.create=function(m,d,r){var a=new f.BlendableQMPersistedInAResult();a.m_mainQuery=m;a.m_dependentQueries=d;a.m_runtimeBlendedQueryManager=r;return a;};f.BlendableQMPersistedInAResult.prototype.m_mainQuery=null;f.BlendableQMPersistedInAResult.prototype.m_dependentQueries=null;f.BlendableQMPersistedInAResult.prototype.m_runtimeBlendedQueryManager=null;f.BlendableQMPersistedInAResult.prototype.releaseObject=function(){this.m_mainQuery=null;this.m_dependentQueries=null;this.m_runtimeBlendedQueryManager=null;};f.BlendableQMPersistedInAResult.prototype.getMainQuery=function(){return this.m_mainQuery;};f.BlendableQMPersistedInAResult.prototype.getDependentQueries=function(){return this.m_dependentQueries;};f.BlendableQMPersistedInAResult.prototype.getRuntimeBlendedQueryManager=function(){return this.m_runtimeBlendedQueryManager;};f.BlendedDimensionInfo=function(){};f.BlendedDimensionInfo.prototype=new f.XObject();f.BlendedDimensionInfo.prototype._ff_c="BlendedDimensionInfo";f.BlendedDimensionInfo.createBlendedDimensionInfo=function(d,a){var b=new f.BlendedDimensionInfo();b.m_datasetId=d;b.m_dimensionName=a;return b;};f.BlendedDimensionInfo.prototype.m_dimensionName=null;f.BlendedDimensionInfo.prototype.m_datasetId=null;f.BlendedDimensionInfo.prototype.m_initialDrillLevel=0;f.BlendedDimensionInfo.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_datasetId=null;this.m_dimensionName=null;this.m_initialDrillLevel=0;};f.BlendedDimensionInfo.prototype.cloneExt=function(a){var c=f.BlendedDimensionInfo.createBlendedDimensionInfo(this.getDatasetId(),this.getDimensionName());c.copyFrom(this,null);return c;};f.BlendedDimensionInfo.prototype.copyFrom=function(o,a){f.XObject.prototype.copyFrom.call(this,o,a);var b=o;this.m_datasetId=b.getDatasetId();this.m_dimensionName=b.getDimensionName();this.m_initialDrillLevel=b.getInitialDrillLevel();};f.BlendedDimensionInfo.prototype.getDatasetId=function(){return this.m_datasetId;};f.BlendedDimensionInfo.prototype.getDimensionName=function(){return this.m_dimensionName;};f.BlendedDimensionInfo.prototype.getInitialDrillLevel=function(){return this.m_initialDrillLevel;};f.BlendedDimensionInfo.prototype.setInitialDrillLevel=function(i){this.m_initialDrillLevel=i;};f.BlendedDrillPathElementInfo=function(){};f.BlendedDrillPathElementInfo.prototype=new f.XObject();f.BlendedDrillPathElementInfo.prototype._ff_c="BlendedDrillPathElementInfo";f.BlendedDrillPathElementInfo._createBlendedDrillPathElementInfo=function(){var b=new f.BlendedDrillPathElementInfo();return b;};f.BlendedDrillPathElementInfo.createBlendedDrillPathElementInfo=function(d,a,s){var b=new f.BlendedDrillPathElementInfo();b.m_datasetId=d;b.m_dimensionName=a;b.m_drillMember=s;return b;};f.BlendedDrillPathElementInfo.prototype.m_datasetId=null;f.BlendedDrillPathElementInfo.prototype.m_dimensionName=null;f.BlendedDrillPathElementInfo.prototype.m_drillMember=null;f.BlendedDrillPathElementInfo.prototype.cloneExt=function(a){var c=f.BlendedDrillPathElementInfo._createBlendedDrillPathElementInfo();c.copyFrom(this,a);return c;};f.BlendedDrillPathElementInfo.prototype.copyFrom=function(o,a){f.XObject.prototype.copyFrom.call(this,o,a);var b=o;this.m_datasetId=b.getDatasetId();this.m_dimensionName=b.getDimensionName();this.m_drillMember=b.getDrillMember();};f.BlendedDrillPathElementInfo.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_datasetId=null;this.m_dimensionName=null;this.m_drillMember=null;};f.BlendedDrillPathElementInfo.prototype.getDimensionName=function(){return this.m_dimensionName;};f.BlendedDrillPathElementInfo.prototype.getDatasetId=function(){return this.m_datasetId;};f.BlendedDrillPathElementInfo.prototype.getDrillMember=function(){return this.m_drillMember;};f.BlendingMappingUtils={ID_ATTRIBUTE_NAME:"id",DESCRIPTION_ATTRIBUTE_NAME:"description",processTransientCalculations:function(q,t,i){if(f.notNull(t)){var a=t.getIterator();while(a.hasNext()){var b=a.next();if(!f.XString.isEqual(q.getName(),b.getQueryModel().getName())){continue;}var c=q.getDimensionByName(b.getDimension().getName());var m=b.getAliasOrMemberName();if(c.getStructureMemberByAliasOrMember(m)===null){c.addMeasure(b);b.getTagging().put("isTransient","");}var d=null;if(i){if(c.getFilter()!==null&&!c.getFilter().isEmpty()){d=c.getFilter();}}else{d=c.getFilter();if(f.isNull(d)){d=q.getFilter().getDynamicFilter().getCartesianListWithDefault(c);}}if(f.notNull(d)){var e=f.QFilterUtil.getMemberNamesFromFilter(c.getFilter(),c.getName());if(!e.contains(m)){var n=c.getFilter().addNewCartesianElement();n.setComparisonOperator(f.ComparisonOperator.EQUAL);n.setLowString(m);n.getTagging().put("isTransient","");}}f.BlendingMappingUtils.addTransientZoomOrVisiblityFilters(q,c,m);}}},addTransientZoomOrVisiblityFilters:function(q,c,m){if(c.getDimensionType()===f.DimensionType.ACCOUNT&&c.isHierarchyActive()&&c.getInitialDrillLevel()>-1){var z=q.getDrillManager().getAllZoomDrillOperationsForDimension(c);var d=false;var a=f.QFactory.createDrillPathElement(q,m,c);a.getTagging().put("isTransient","");if(f.notNull(z)&&z.size()>0){for(var j=0;j<z.size();j++){if(f.XCollectionUtils.contains(z.get(j).getDrillPath(),function(h){return f.XString.isEqual(h.getSelectValue(),m);}.bind(this))){d=true;}}if(!d){q.getDrillManager().addZoomDrillPathElement(a,true);}}else{var b=q.getDrillManager().getDrillOperationsByDimension(c);if(f.notNull(b)){for(var i=0;i<b.size();i++){if(f.XCollectionUtils.contains(b.get(i).getDrillPath(),function(h){return f.XString.isEqual(h.getSelectValue(),m);}.bind(this))){d=true;}}}if(!d){q.getDrillManager().setDrillStateElement(a,f.DrillState.EXPANDED);var v=q.getFilter().getVisibilityFilter();if(f.notNull(v)){var e=v.getCartesianList(c);if(f.notNull(e)&&e.size()>0){var g=e.addNewCartesianElement();g.setComparisonOperator(f.ComparisonOperator.EQUAL);g.setLowString(m);g.setDepth(0);g.setHierarchyName(c.getHierarchyName());g.getTagging().put("isTransient","");}}}}}},processCalculationDimensionMappings:function(b,p,s,a){var c=p.getQueryModel();var d=s.getQueryModel();var e=c.getQueryManager();var g=d.getQueryManager();var h=c.getAccountDimension();var i=d.getAccountDimension();var j=c.getMeasureDimension();var k=d.getMeasureDimension();var l;var m;if(f.notNull(h)){if(f.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(h.getName(),c.getDatasetId(),a)){f.BlendingMappingUtils.autoExpandHierarchyDimension(h);f.BlendingMappingUtils.autoExpandHierarchyDimension(i);}if(f.isNull(i)){l=b.addNewDimensionMapping(f.BlendingLinkType.ALL_DATA,j.getName());l.addNewDimensionMappingDefinition(j,p.getQueryAliasName());l.addNewConstantMapping("SignedData",s.getQueryAliasName());m=b.addNewDimensionMapping(f.BlendingLinkType.COEXIST,h.getName());m.addNewDimensionMappingDefinition(h,p.getQueryAliasName());m.addNewDimensionMappingDefinition(k,s.getQueryAliasName());var n=k.getTextField();var o=h.getTextField();if(f.notNull(o)&&f.notNull(n)){var q=m.addNewAttributeMappingByName(o.getName(),false);q.addNewAttributeDimensionMappingDefinitionByName(o.getName(),p.getQueryAliasName());q.addNewAttributeDimensionMappingDefinitionByName(n.getName(),s.getQueryAliasName());}var r=k.getKeyField();var t=h.getKeyField();if(f.notNull(t)&&f.notNull(r)){var u=m.addNewAttributeMappingByName(t.getName(),false);u.addNewAttributeDimensionMappingDefinitionByName(t.getName(),p.getQueryAliasName());u.addNewAttributeDimensionMappingDefinitionByName(r.getName(),s.getQueryAliasName());}}else{l=b.addNewDimensionMapping(f.BlendingLinkType.ALL_DATA,j.getName());l.addNewDimensionMappingDefinition(k,s.getQueryAliasName());l.addNewDimensionMappingDefinition(j,p.getQueryAliasName());m=b.addNewDimensionMapping(f.BlendingLinkType.COEXIST,h.getName());m.addNewDimensionMappingDefinition(i,s.getQueryAliasName());m.addNewDimensionMappingDefinition(h,p.getQueryAliasName());}}else{var v;var w;var x;var y;var z=f.XStringUtils.concatenate3("[",j.getName(),"].key");if(f.notNull(i)){l=b.addNewDimensionMapping(f.BlendingLinkType.ALL_DATA,"SignedData");l.addNewDimensionMappingDefinition(k,s.getQueryAliasName());var A=p.getQueryModel().getDimensionByName("SignedData");if(f.notNull(A)){l.addNewDimensionMappingDefinition(A,p.getQueryAliasName());}else{l.addNewConstantMapping("SignedData",p.getQueryAliasName());}m=b.addNewDimensionMapping(f.BlendingLinkType.COEXIST,j.getName());m.addNewDimensionMappingDefinition(i,s.getQueryAliasName());m.addNewDimensionMappingDefinition(j,p.getQueryAliasName());if(f.isNull(A)){x=j.getTextField();y=i.getTextField();if(f.notNull(x)&&f.notNull(y)){var B=m.addNewAttributeMappingByName(x.getName(),false);B.addNewAttributeDimensionMappingDefinitionByName(y.getName(),s.getQueryAliasName());B.addNewAttributeDimensionMappingDefinitionByName(x.getName(),p.getQueryAliasName());}v=j.getKeyField();w=i.getKeyField();if(f.notNull(v)&&f.notNull(w)){var C=m.addNewAttributeMappingByName(z,false);C.addNewAttributeDimensionMappingDefinitionByName(w.getName(),s.getQueryAliasName());if(m.getBlendingDefinition().getBlendingSourceByAlias(p.getQueryAliasName()).getFieldByName(z)!==null){C.addNewAttributeDimensionMappingDefinitionByName(z,p.getQueryAliasName());}else{C.addNewAttributeDimensionMappingDefinitionByName(v.getName(),p.getQueryAliasName());}}}}else{m=b.addNewDimensionMapping(f.BlendingLinkType.COEXIST,j.getName());m.addNewDimensionMappingDefinition(j,p.getQueryAliasName());m.addNewDimensionMappingDefinition(k,s.getQueryAliasName());if(e.getSystemType().isTypeOf(f.SystemType.BW)||g.getSystemType().isTypeOf(f.SystemType.BW)){x=j.getTextField();y=k.getTextField();if(f.notNull(x)&&f.notNull(y)){var D=m.addNewAttributeMappingByName(x.getName(),false);D.addNewAttributeDimensionMappingDefinitionByName(x.getName(),p.getQueryAliasName());D.addNewAttributeDimensionMappingDefinitionByName(y.getName(),s.getQueryAliasName());}v=j.getKeyField();w=k.getKeyField();if(f.notNull(v)&&f.notNull(w)){var E=m.addNewAttributeMappingByName(z,false);if(m.getBlendingDefinition().getBlendingSourceByAlias(p.getQueryAliasName()).getFieldByName(z)!==null){E.addNewAttributeDimensionMappingDefinitionByName(z,p.getQueryAliasName());}else{E.addNewAttributeDimensionMappingDefinitionByName(v.getName(),p.getQueryAliasName());}E.addNewAttributeDimensionMappingDefinitionByName(w.getName(),s.getQueryAliasName());}}}}},processLinkedDimensions:function(b,a,p,s,c,d){var e=p.getQueryModel();var g=s.getQueryModel();var h=b.getModelDimensionLinks().getIterator();while(h.hasNext()){var i=h.next();var j=i.getFirstPart().getDimensionName();var k=i.getSecondPart().getDimensionName();var l=e.getDimensionByName(j);var m=g.getDimensionByName(k);var n=f.BlendingMappingUtils.isOutOfContextDimension(l);var o=f.BlendingMappingUtils.isOutOfContextDimension(m);if(n){if(!b.getQueryModelLinkSettings().getActivePrimaryLinkDimensionNames().isEmpty()&&!b.getQueryModelLinkSettings().getActivePrimaryLinkDimensionNames().contains(j)){continue;}e.getRowsAxis().add(l);l.getTagging().put("transientRowAxis","");b.addOutOfContextLinkDimensionNames(j);}if(l.supportsHierarchy()){if(n){l.getTagging().put("transientInitialDrillLevel",f.XInteger.convertToString(l.getInitialDrillLevel()));l.setInitialDrillLevel(0);}else{f.BlendingMappingUtils.autoExpandHierarchyDimension(l);}}if(o){g.getRowsAxis().add(m);m.getTagging().put("transientRowAxis","");}if(m.supportsHierarchy()){m.getTagging().put("transientInitialDrillLevel",f.XInteger.convertToString(m.getInitialDrillLevel()));m.setInitialDrillLevel(-1);}f.BlendingMappingUtils.processHierarchies(l,m,n,i.isLinkOnMatchingHierarchies());if(f.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(l.getName(),e.getDatasetId(),d)){f.BlendingMappingUtils.autoExpandHierarchyDimension(l);f.BlendingMappingUtils.autoExpandHierarchyDimension(m);}var q=a.addNewDimensionMapping(b.getQueryModelLinkSettings().getLinkType(),j);q.addNewDimensionMappingDefinitionByName(j,p.getQueryAliasName());q.addNewDimensionMappingDefinitionByName(k,s.getQueryAliasName());var r=f.BlendingMappingUtils.getAttributeJoinField(i.getFirstPart(),l,c);var t=f.BlendingMappingUtils.getAttributeJoinField(i.getSecondPart(),m,c);if(f.notNull(r)&&f.notNull(t)){var u=q.addNewAttributeMappingByName(r.getName(),true);u.addNewAttributeDimensionMappingDefinitionByName(r.getName(),p.getQueryAliasName());u.addNewAttributeDimensionMappingDefinitionByName(t.getName(),s.getQueryAliasName());}f.BlendingMappingUtils.addDescriptionAttrMappingIfLinkByKey(l,m,i,q,p.getQueryAliasName(),s.getQueryAliasName());}},isLeafDimensionUsedInBlendedDrill:function(l,d,b){var a=b.getIterator();while(a.hasNext()){var c=a.next();if(f.XString.isEqual(c.getDatasetId(),d)&&f.XString.isEqual(c.getDimensionName(),l)){return true;}}return false;},autoExpandHierarchyDimension:function(d){if(f.notNull(d)&&d.isHierarchyActive()&&d.getDrillManager().getDrillOperationsByDimension(d).size()===0&&d.getDrillManager().getAllZoomDrillOperationsForDimension(d).size()===0){d.getTagging().put("transientInitialDrillLevel",f.XInteger.convertToString(d.getInitialDrillLevel()));d.setInitialDrillLevel(-1);}},processUnlinkedDimensions:function(b,o,a,q,u,c){var d=b.getQueryModel();var e=b.getQueryAliasName();var g=o.getQueryAliasName();var h=f.XList.create();h.addAll(d.getRowsAxis());h.addAll(d.getColumnsAxis());var i=h.getIterator();var j=f.XHashMapByString.create();var m=a.getMappings().getIterator();var k;while(m.hasNext()){var l=m.next();if(l.getMappingDefinitionType()===f.BlendingMappingDefinitionType.DIMENSION){var n=l.getMappingDefinitions().getIterator();while(n.hasNext()){var p=n.next();k=j.getByKey(p.getQueryAliasName());if(f.isNull(k)){k=f.XHashSetOfString.create();j.put(p.getQueryAliasName(),k);}k.add(p.getMemberName());}}}while(i.hasNext()){var r=i.next();if(r.isMeasureStructure()||r.getDimensionType()===f.DimensionType.ACCOUNT){continue;}k=j.getByKey(e);var s=r.getName();if(f.isNull(k)||!k.contains(s)){var t;if(u.contains(s)||d.getQueryManager().getSystemType()===f.SystemType.BW){t=f.XStringUtils.concatenate3(e,".",s);}else{t=s;}u.add(s);var v;if(q.getUnlinkedDimensionJoinType()===f.UnlinkedDimensionJoinType.MERGE_MEMBERS){v=a.addNewDimensionMapping(f.BlendingLinkType.NONE,t);v.addNewDimensionMappingDefinition(r,e);v.setIsPreservingMembers(true);}else if(q.getUnlinkedDimensionJoinType()===f.UnlinkedDimensionJoinType.CREATE_NEW_MEMBERS){v=a.addNewDimensionMapping(f.BlendingLinkType.ALL_DATA,t);v.addNewDimensionMappingDefinition(r,e);if(r.isMeasureStructure()){v.addNewConstantMapping("SignedData",e);}else{v.addNewConstantMapping(null,g);}}if(f.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(t,d.getDatasetId(),c)){f.BlendingMappingUtils.autoExpandHierarchyDimension(r);}}}},getMatchingSecondaryHierarchyName:function(p,s){var m=null;var a=p.getHierarchyName();var b=s.getHierarchies();if(f.BlendingMappingUtils.isMatchableHierarchy(p,a)&&f.notNull(b)){var h=b.getObjectsIterator();while(f.isNull(m)&&h.hasNext()){var c=h.next();var d=c.getHierarchyName();if(f.XString.isEqual(d,a)&&f.BlendingMappingUtils.isMatchableHierarchy(s,d)){m=d;}}if(f.isNull(m)){var e=f.BlendingMappingUtils.getMatchableDefaultHierarchyName(p);var g=f.BlendingMappingUtils.getMatchableDefaultHierarchyName(s);if(f.XString.isEqual(a,e)&&f.notNull(g)){m=g;}}}return m;},isOutOfContextDimension:function(d){return d.getAxisType()!==f.AxisType.ROWS&&d.getAxisType()!==f.AxisType.COLUMNS;},isMatchableHierarchy:function(d,h){return f.notNull(h)&&!f.QTimeDimensionUtil.isDateOrTimeLikeDimension(d)&&!f.QFilterAcrossModelsDimensionUtil.isNonTimeLevelBasedHierarchy(d,h);},getMatchableDefaultHierarchyName:function(d){var m=null;if(d.getHierarchies()!==null){var h=d.getHierarchies().getObjects();var n=h.size();if(n>0){var a=h.get(n-1).getHierarchyName();if(f.BlendingMappingUtils.isMatchableHierarchy(d,a)){m=a;}}}return m;},getSecondaryHierarchyNameToActivate:function(p,s,l){var a=null;var m=f.BlendingMappingUtils.getMatchingSecondaryHierarchyName(p,s);var b=f.BlendingMappingUtils.getMatchableDefaultHierarchyName(s);if(l&&f.notNull(m)){a=m;}else if(f.notNull(b)){a=b;}return a;},processHierarchies:function(p,s,a,l){var b=f.BlendingMappingUtils.getMatchableDefaultHierarchyName(p);if(p.getFilter()===null&&a&&f.notNull(b)){var c=p.isHierarchyActive()?p.getHierarchyName():null;p.getTagging().put("originalHierarchy",c);p.activateHierarchy(b,null,null);}if(s.getFilter()===null){var d=f.BlendingMappingUtils.getSecondaryHierarchyNameToActivate(p,s,l);if(f.notNull(d)){var e=s.isHierarchyActive()?s.getHierarchyName():null;s.getTagging().put("originalHierarchy",e);s.activateHierarchy(d,null,null);}}},addDescriptionAttrMappingIfLinkByKey:function(p,s,a,l,b,c){var i=a.getFirstPart().isLinkOnKeyField()||f.XString.isEqual(a.getFirstPart().getFieldName(),f.BlendingMappingUtils.ID_ATTRIBUTE_NAME);var d=a.getSecondPart().isLinkOnKeyField()||f.XString.isEqual(a.getSecondPart().getFieldName(),f.BlendingMappingUtils.ID_ATTRIBUTE_NAME);if(i||d){var e=p.getTextField();var g=s.getTextField();if(f.notNull(e)&&f.notNull(g)){var h=l.addNewAttributeMappingByName(e.getName(),false);h.addNewAttributeDimensionMappingDefinitionByName(e.getName(),b);h.addNewAttributeDimensionMappingDefinitionByName(g.getName(),c);}}},getAttributeJoinField:function(d,a,p){var j=null;var b=null;if(d.getFieldName()!==null&&f.XString.isEqual(d.getFieldName(),f.BlendingMappingUtils.DESCRIPTION_ATTRIBUTE_NAME)||!d.containsEmptyDescriptionField()&&!d.isLinkOnKeyField()){j=a.getTextField();if(a.getQueryManager().getConvenienceCommands().isBw()){if(a.isHierarchyActive()){j=a.getHierarchyTextField();b=a.getHierarchyDisplayKeyField();}else{j=a.getTextField();b=a.getDisplayKeyField();}}}else if(d.getFieldName()!==null&&f.XString.isEqual(d.getFieldName(),f.BlendingMappingUtils.ID_ATTRIBUTE_NAME)||d.isLinkOnKeyField()){j=a.getDisplayKeyField()!==null?a.getDisplayKeyField():a.getKeyField()!==null?a.getKeyField():a.getFlatKeyField();if(a.getQueryManager().getConvenienceCommands().isBw()){if(a.isHierarchyActive()){j=a.getHierarchyKeyField()!==null?a.getHierarchyKeyField():a.getHierarchyDisplayKeyField()!==null?a.getHierarchyDisplayKeyField():a.getFlatKeyField();b=a.getHierarchyDisplayKeyField();}else{j=a.getKeyField()!==null?a.getKeyField():a.getDisplayKeyField()!==null?a.getDisplayKeyField():a.getFlatKeyField();b=a.getDisplayKeyField();}}}else{var k=a.getFlatKeyField().getName();var c=f.XStringUtils.concatenate2(f.XString.substring(k,0,f.XString.lastIndexOf(k,".")+1),d.getFieldName());j=a.getFieldByName(c)!==null?a.getFieldByName(c):a.getFlatKeyField()!==null?a.getFlatKeyField():a.getFields().get(0);}if(f.isNull(j)){j=a.getFlatKeyField()!==null?a.getFlatKeyField():a.getTextField()!==null?a.getTextField():a.getFields().get(0);}var i=a.getFields().getIterator();while(i.hasNext()){var r=i.next();if(r.isHierarchyPathField()&&r.isAlwaysRequested()){r.getTagging().put("transientAlwaysRequested","");r.setAlwaysRequested(false);}}var e=a.getResultSetFields().getIterator();var g=f.QCacheKey.createByContextForDimension(a.getContext(),a.getName(),null);var o=f.XListOfString.create();p.addOriginalDimensionResultSetFields(g.getKey1(),o);while(e.hasNext()){var h=e.next();o.add(h.getName());}a.getResultSetFields().clear();if(f.notNull(j)&&j.getName()!==null){a.getResultSetFields().add(j);a.getResultSetFields().add(a.getCubeBlendingPropertiesField());}if(a.getQueryManager().getConvenienceCommands().isBw()&&f.notNull(b)&&b.getName()!==null){a.getResultSetFields().add(b);}return j;}};f.BlendingUtils={getQueryAliasName:function(q){var a=null;if(q.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){var b=q.getQueryModel().getBlendingSources();if(f.notNull(b)&&b.size()>0){a=b.get(0).getQueryAliasName();for(var i=1;i<b.size();i++){var c=b.get(i);a=f.XStringUtils.concatenate3(a,"AND",c.getQueryAliasName());}}}else{var d=q.getQueryModel().getDatasetEpmObject();a=f.notNull(d)?d.getCubeId():q.getDataSource().getFullQualifiedName();}return a;},convertToBlendedFormula:function(a,p){var n=null;var b;if(a.getOlapComponentType()===f.OlapComponentType.FORMULA_ITEM_ATTRIBUTE){var c=a;var d=c.cloneOlapComponent(p.getQueryModel(),p);b=f.BlendingUtils.getQueryAliasName(p.getQueryManager());d.setFieldByName(f.XStringUtils.concatenate3(b,".",c.getFieldName()));n=d;}else if(a.getOlapComponentType()===f.OlapComponentType.FORMULA_ITEM_MEMBER){var e=a;var g=e.cloneOlapComponent(p.getQueryModel(),p);var h=e.getDimensionContext();var s;if(f.notNull(h)){s=h.getStructureMember(e.getMemberName());b=f.BlendingUtils.getAliasPrefixForMember(p.getQueryModel(),s);g.setMemberName(f.XStringUtils.concatenate3(b,".",e.getMemberName()));if(e.getDimensionName()!==null){g.setDimensionName(f.XStringUtils.concatenate3(b,".",e.getDimensionName()));}}else{s=p.getDimension().getStructureMember(e.getMemberName());g.setMemberName(e.getMemberName());}if(f.isNull(s)){throw f.XException.createRuntimeException(f.XStringUtils.concatenate2("Invalid formula item member:",e.getMemberName()));}n=g;}else if(a.getOlapComponentType()===f.OlapComponentType.FORMULA_FUNCTION){var j=a;n=f.QFactory.createFormulaFunctionWithName(p,j.getFunctionName());for(var i=0;i<j.size();i++){n.add(f.BlendingUtils.convertToBlendedFormula(j.get(i),p));}}else if(a.getOlapComponentType()===f.OlapComponentType.FORMULA_CONSTANT){n=a.cloneOlapComponent(p.getQueryModel(),p);}return n;},findStructureMember:function(q,m){var a=null;var b=q.getQueryManager();if(b.getMode()===f.QueryManagerMode.BLENDING){var c=b.getQueryModel().getBlendingSources();for(var i=0;i<c.size();i++){var d=c.get(i);var l=d.getQueryModel();a=f.BlendingUtils.findStructureMember(l,m);if(f.notNull(a)){break;}}}else{var e=q.getDimensionByName(m.getDimension().getName());if(f.XString.isEqual(q.getName(),m.getQueryModel().getName())&&f.notNull(e)){a=e.getStructureMember(m.getAliasOrMemberName());}}return a;},getAliasPrefixForMember:function(q,m){var a="";var b=q.getQueryManager();if(b.getMode()===f.QueryManagerMode.BLENDING){var c=b.getQueryModel().getBlendingSources();for(var i=0;i<c.size();i++){var d=c.get(i);var l=d.getQueryModel();if(f.BlendingUtils.findStructureMember(l,m)!==null){var e=d.getQueryAliasName();var g=m.getQueryModel().getDatasetEpmObject().getCubeId();if(f.XString.isEqual(e,g)){a=g;}else{a=f.XStringUtils.concatenate3(e,".",g);}break;}}}return a;},isQueryModelInUseForBlending:function(q,u){var h=q.getRowsAxis().size()+q.getColumnsAxis().size()>0;var p=q.getPrimaryCalculationDimension();var a=q.getFilter().getDynamicFilter().getCartesianList(p);var b=f.notNull(a)&&a.size()>0;return u?h:h&&b;},getLeafQueryModels:function(q){var l=f.XList.create();f.BlendingUtils.addLeafQueryModels(q,l);return l;},getQueryModelFromDatasetId:function(q,d){if(q.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){var b=q.getQueryModel().getBlendingSources();for(var i=0;i<b.size();i++){var a=b.get(i);var l=a.getQueryManager();var c=f.BlendingUtils.getQueryModelFromDatasetId(l,d);if(f.notNull(c)){return c;}}}else{if(f.XString.isEqual(q.getQueryModel().getDatasetId(),d)){return q.getQueryModel();}}return null;},addLeafQueryModels:function(q,l){if(q.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){var b=q.getQueryModel().getBlendingSources();for(var i=0;i<b.size();i++){var a=b.get(i);var c=a.getQueryManager();f.BlendingUtils.addLeafQueryModels(c,l);}}else{l.add(q.getQueryModel());}},migrateAxis:function(b,o,a){if(o.getInitSettings().getMode()!==f.QueryManagerMode.BLENDING){return;}var l=f.BlendingUtils.getLeafQueryModels(o);var d=o.getQueryModel().getAxis(a).getIterator();while(d.hasNext()){var c=d.next();var e=f.BlendingUtils.getLeafDimensionNameAndDatasetId(l,c);if(f.notNull(e)){var g=e.getFirstString();var h=e.getSecondString();var i=b.addBlendedDimensionInfoToAxis(a,h,c.getName());if(c.isHierarchyActive()){i.setInitialDrillLevel(c.getInitialDrillLevel());var m=o.getDrillManager().getDrillOperationsByDimension(c);for(var j=0;j<m.size();j++){var n=m.get(j);var p=b.addNewBlendedDrillOperation(h,g);p.setDrillState(n.getDrillState());var q=n.getDrillPath();for(var k=0;k<q.size();k++){var r=q.get(k);var s=f.BlendingUtils.getLeafDimensionNameAndDatasetId(l,r.getDimension());p.addBlendedDrillPathElementInfo(s.getSecondString(),s.getFirstString(),r.getSelectValue());}}}}}},getLeafDimensionNameAndDatasetId:function(l,d){for(var i=0;i<l.size();i++){var a=l.get(i);var u=null;if(f.XString.startsWith(d.getName(),a.getDatasetEpmObject().getCubeId())){var b=f.XString.substring(d.getName(),f.XString.size(a.getDatasetEpmObject().getCubeId())+1,f.XString.size(d.getName())-1);u=a.getDimensionByName(b)!==null?b:null;}else if(a.getDimensionByName(d.getName())!==null){u=d.getName();}if(f.notNull(u)){return f.XPairOfString.create(u,a.getDatasetId());}}return null;},activateLinkedDimensionHierarchies:function(b,a){var p=b.getBlendingSources().get(0).getQueryModel();var d=a.getModelDimensionLinks();var c=d.getIterator();while(c.hasNext()){var e=c.next();var g=e.getFirstPart();var h=g.getDimensionName();var i=p.getDimensionByName(h);if(i.isHierarchyActive()){var j=b.getDimensionByName(h);j.activateHierarchy(i.getHierarchyName(),null,null);}}},activateDimensionHierarchiesInDrill:function(q){var d=f.XList.create();d.addAll(q.getColumnsAxis());d.addAll(q.getRowsAxis());for(var i=0;i<d.size();i++){var a=d.get(i);f.BlendingUtils.setHierarchyNameAndActivate(a);}},setHierarchyNameAndActivate:function(d){if(d.supportsHierarchy()&&!d.isHierarchyActive()){if(d.getHierarchyName()===null){if(d.getDefaultHierarchyName()!==null){d.setHierarchyName(d.getDefaultHierarchyName());}else if(d.getHierarchies()!==null&&d.getHierarchies().getObjects()!==null&&d.getHierarchies().getObjects().size()>0){d.setHierarchyName(d.getHierarchies().getObjects().get(0).getHierarchyName());}}if(d.getHierarchyName()!==null){d.setHierarchyActive(true);}}},getBlendedQueryModelByBlendDefinition:function(q,b){var a=null;if(q.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){if(q.getInitSettings().getBlendingDefinition().isEqualTo(b)){a=q;}else{var s=q.getInitSettings().getBlendingDefinition().getSources().getIterator();while(s.hasNext()){a=f.BlendingUtils.getBlendedQueryModelByBlendDefinition(s.next().getQueryManager(),b);if(f.notNull(a)){break;}}}}return a;},releaseAllBlendNodes:function(q){if(f.notNull(q)&&!q.isReleased()&&q.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){var b=q.getQueryModel().getBlendingSources();if(f.notNull(b)&&b.size()>0){for(var i=0;i<b.size();i++){f.BlendingUtils.releaseAllBlendNodes(b.get(i).getQueryManager());}f.XObjectExt.release(q);}}},isDimensionFromLinkedDimension:function(b,d,a){var i=false;var c=b.getOlapEnv().getModelLinkManager().getDimensionLinksByDatasetId(b.getStorageName(),a,false);var e=c.getIterator();while(e.hasNext()){var g=e.next();var h=g.getFirstPart();var s=g.getSecondPart();if(f.XString.isEqual(a,h.getQueryModel().getDatasetId())&&f.XString.isEqual(d,h.getDimensionName())||f.XString.isEqual(a,s.getQueryModel().getDatasetId())&&f.XString.isEqual(d,s.getDimensionName())){i=true;}}return i;},getBlendedDimensionFromLeafDimension:function(d,a,b,c){var l=b.getQueryManagerByDatasetId(a);var e=l.getQueryModel();var g=f.BlendingUtils.getAliasPrefixFromQueryModel(c,e);var h=c.getDimensionByName(f.XStringUtils.concatenate2(g,d));return f.notNull(h)?h:c.getDimensionByName(d);},getBlendedFieldFromLeafField:function(a,d,b,c){var l=b.getQueryManagerByDatasetId(d);var e=l.getQueryModel();var g=f.BlendingUtils.getAliasPrefixFromQueryModel(c,e);var h=c.getFieldByName(f.XStringUtils.concatenate2(g,a));return f.notNull(h)?h:c.getFieldByName(a);},getBlendedMeasureMemberFromLeafMeasureMember:function(m,d,a,b,c){var l=b.getQueryManagerByDatasetId(a);var e=l.getQueryModel();var g=f.BlendingUtils.getAliasPrefixFromQueryModel(c,e);return c.getDimensionByName(d).getDimensionMember(f.XStringUtils.concatenate2(g,m));},getAliasPrefixFromQueryModel:function(s,t){return f.BlendingUtils._getAliasPrefixFromQueryModel(s,t,"");},_getAliasPrefixFromQueryModel:function(s,t,a){if(s.isBlendingModel()){var b=s.getBlendingSources();for(var i=0;i<b.size();i++){var c=b.get(i);var d=c.getQueryModel();var n=f.XStringUtils.concatenate3(a,f.BlendingUtils.getQueryAliasName(d.getQueryManager()),".");var e=f.BlendingUtils._getAliasPrefixFromQueryModel(d,t,n);if(f.notNull(e)){return e;}}}else{var g=s.getDatasetId();var h=t.getDatasetId();if(f.XString.isEqual(g,h)){return a;}}return null;},getLeafMeasureMemberFromBlendedMeasureMember:function(m,q){if(q.isBlendingModel()){var b=q.getBlendingSources();for(var i=0;i<b.size();i++){var a=b.get(i);var c=a.getQueryAliasName();var d=a.getQueryModel();if(f.XString.startsWith(m,c)){var e=f.XString.substring(m,f.XString.size(c)+1,f.XString.size(m));return f.BlendingUtils.getLeafMeasureMemberFromBlendedMeasureMember(e,d);}}}else{var p=q.getPrimaryCalculationDimension();return p.getLoadedStructureMember(m);}return null;},findContextDimensionFromDrillDimension:function(q,d,a){var b=q.getQueryModel().getDimensionByName(d);if(f.isNull(b)){var o=f.BlendingUtils.getQueryModelFromDatasetId(q,a);var c=o.getDimensionByName(d);if(c===o.getPrimaryCalculationDimension()){b=q.getQueryModel().getPrimaryCalculationDimension();}else if(c===o.getSecondaryCalculationDimension()){b=q.getQueryModel().getSecondaryCalculationDimension();}}return b;},containsFilterAcrossModels:function(b){return f.XCollectionUtils.contains(b.getAllQueryManagers(),function(q){var a=f.QFilterUtil.collectFilterAcrossModels(q.getQueryModel());return a.size()>0;}.bind(this));},getLeafBlendingSources:function(b){var s=f.XList.create();f.BlendingUtils.collectLeafBlendingSources(b,s);return s;},collectLeafBlendingSources:function(b,a){f.XCollectionUtils.forEach(b.getSources(),function(s){if(s.getQueryManager().getInitSettings().getMode()===f.QueryManagerMode.BLENDING){f.BlendingUtils.collectLeafBlendingSources(s.getQueryModel().getDataSource().getBlendingDefinition(),a);}else{a.add(s);}}.bind(this));}};f.DependentPersistedQueryInfo=function(){};f.DependentPersistedQueryInfo.prototype=new f.XObject();f.DependentPersistedQueryInfo.prototype._ff_c="DependentPersistedQueryInfo";f.DependentPersistedQueryInfo.create=function(s,i){var a=new f.DependentPersistedQueryInfo();a.m_systemName=s;a.m_inaQuery=i;return a;};f.DependentPersistedQueryInfo.prototype.m_inaQuery=null;f.DependentPersistedQueryInfo.prototype.m_systemName=null;f.DependentPersistedQueryInfo.prototype.releaseObject=function(){this.m_inaQuery=f.XObjectExt.release(this.m_inaQuery);this.m_systemName=null;};f.DependentPersistedQueryInfo.prototype.getInaQuery=function(){if(f.notNull(this.m_inaQuery)){return this.m_inaQuery.getStringRepresentation();}return null;};f.DependentPersistedQueryInfo.prototype.getSystemName=function(){return this.m_systemName;};f.AbstractSpatialClustering=function(){};f.AbstractSpatialClustering.prototype=new f.XObject();f.AbstractSpatialClustering.prototype._ff_c="AbstractSpatialClustering";f.AbstractSpatialClustering.ORDER=null;f.AbstractSpatialClustering.prototype.m_clusterField=null;f.AbstractSpatialClustering.prototype.m_isActive=false;f.AbstractSpatialClustering.prototype.m_thresholdNumberOfPoints=0;f.AbstractSpatialClustering.prototype.m_parameters=null;f.AbstractSpatialClustering.prototype.setupSpatialClustering=function(s){f.XObject.prototype.setup.call(this);if(f.isNull(f.AbstractSpatialClustering.ORDER)){this.createOrder();}this.m_parameters=f.XHashMapByString.create();this.m_isActive=true;this.m_thresholdNumberOfPoints=-1;if(f.notNull(s)){s.setSpatialClusterSettings(this);}};f.AbstractSpatialClustering.prototype.cloneClustering=function(c){c.setActive(this.isActive());if(this.getClusterField()!==null){c.setClusterField(this.getClusterField());}c.setThresholdNumberOfPoints(this.getThresholdNumberOfPoints());};f.AbstractSpatialClustering.prototype.createOrder=function(){f.AbstractSpatialClustering.ORDER=f.XHashMapByString.create();var d=f.XArrayOfString.create(2);d.set(0,"EPS");d.set(1,"MinPoints");f.AbstractSpatialClustering.ORDER.put(f.ClusterAlgorithm.DB_SCAN.getName(),d);var g=f.XArrayOfString.create(6);g.set(0,"XCells");g.set(1,"YCells");g.set(2,"XLowerBound");g.set(3,"YLowerBound");g.set(4,"XUpperBound");g.set(5,"YUpperBound");f.AbstractSpatialClustering.ORDER.put(f.ClusterAlgorithm.GRID.getName(),g);var k=f.XArrayOfString.create(4);k.set(0,"Clusters");k.set(1,"MaxIterations");k.set(2,"Threshold");k.set(3,"Init");f.AbstractSpatialClustering.ORDER.put(f.ClusterAlgorithm.K_MEANS.getName(),k);};f.AbstractSpatialClustering.prototype.isEqualTo=function(o){if(f.isNull(o)){return false;}if(this===o){return true;}var x=o;if(x.getClusterAlgorithm()!==this.getClusterAlgorithm()){return false;}if(x.isActive()!==this.isActive()){return false;}if(x.getClusterField()!==this.getClusterField()){return false;}if(x.getThresholdNumberOfPoints()!==this.getThresholdNumberOfPoints()){return false;}return this.areParametersEqual(f.AbstractSpatialClustering.ORDER.getByKey(x.getClusterAlgorithm().getName()),this.getParameters(),x.getParameters());};f.AbstractSpatialClustering.prototype.areParametersEqual=function(o,t,a){for(var i=0;i<o.size();i++){var n=o.get(i);if(t.containsKey(n)!==a.containsKey(n)){return false;}var b=t.getByKey(n);if(f.notNull(b)){if(!b.isEqualTo(a.getByKey(n))){return false;}}}return true;};f.AbstractSpatialClustering.prototype.releaseObject=function(){this.m_parameters=f.XObjectExt.release(this.m_parameters);this.m_clusterField=null;f.XObject.prototype.releaseObject.call(this);};f.AbstractSpatialClustering.prototype.getClusterField=function(){return f.XWeakReferenceUtil.getHardRef(this.m_clusterField);};f.AbstractSpatialClustering.prototype.getParameters=function(){return this.m_parameters;};f.AbstractSpatialClustering.prototype.isActive=function(){return this.m_isActive;};f.AbstractSpatialClustering.prototype.setActive=function(i){this.m_isActive=i;};f.AbstractSpatialClustering.prototype.setClusterField=function(a){f.XObjectExt.assertNotNullExt(a,"The cluster field must not be null!");if(!a.getValueType().isSpatial()){throw f.XException.createIllegalArgumentException("The cluster field must be spatial!");}this.m_clusterField=f.XWeakReferenceUtil.getWeakRef(a);};f.AbstractSpatialClustering.prototype.setThresholdNumberOfPoints=function(t){this.m_thresholdNumberOfPoints=t;};f.AbstractSpatialClustering.prototype.getThresholdNumberOfPoints=function(){return this.m_thresholdNumberOfPoints;};f.CommandSpaceFactory={s_factory:null,setInstance:function(a){f.CommandSpaceFactory.s_factory=a;},createCommandSpaceWithSelection:function(a,s){return f.CommandSpaceFactory.s_factory.createCommandSpaceWithSelection(a,s);},createCommandSpaceWithElement:function(a,m){return f.CommandSpaceFactory.s_factory.createCommandSpaceWithElement(a,m);}};f.CommandSpaceFactoryDummyImpl=function(){};f.CommandSpaceFactoryDummyImpl.prototype=new f.XObject();f.CommandSpaceFactoryDummyImpl.prototype._ff_c="CommandSpaceFactoryDummyImpl";f.CommandSpaceFactoryDummyImpl.create=function(){return new f.CommandSpaceFactoryDummyImpl();};f.CommandSpaceFactoryDummyImpl.prototype.createCommandSpaceWithSelection=function(a,s){return null;};f.CommandSpaceFactoryDummyImpl.prototype.createCommandSpaceWithElement=function(a,m){return null;};f.RemoteBlendingCacheEntry=function(){};f.RemoteBlendingCacheEntry.prototype=new f.XObject();f.RemoteBlendingCacheEntry.prototype._ff_c="RemoteBlendingCacheEntry";f.RemoteBlendingCacheEntry.create=function(v,c,d){var e=new f.RemoteBlendingCacheEntry();e.m_view=v;e.m_cube=c;e.m_dataSourceName=d;return e;};f.RemoteBlendingCacheEntry.prototype.m_view=null;f.RemoteBlendingCacheEntry.prototype.m_cube=null;f.RemoteBlendingCacheEntry.prototype.m_dataSourceName=null;f.RemoteBlendingCacheEntry.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_view=null;this.m_cube=null;this.m_dataSourceName=null;};f.RemoteBlendingCacheEntry.prototype.getView=function(){return this.m_view;};f.RemoteBlendingCacheEntry.prototype.getCube=function(){return this.m_cube;};f.RemoteBlendingCacheEntry.prototype.getDataSourceName=function(){return this.m_dataSourceName;};f.ComponentStateRef=function(){};f.ComponentStateRef.prototype=new f.XObject();f.ComponentStateRef.prototype._ff_c="ComponentStateRef";f.ComponentStateRef.create=function(m,s){var c=new f.ComponentStateRef();c.m_modCounter=m;c.m_stateId=s;return c;};f.ComponentStateRef.prototype.m_modCounter=0;f.ComponentStateRef.prototype.m_stateId=null;f.ComponentStateRef.prototype.getModCounter=function(){return this.m_modCounter;};f.ComponentStateRef.prototype.getStateId=function(){return this.m_stateId;};f.ComponentStateRef.prototype.toString=function(){return f.XStringUtils.concatenate3(f.XInteger.convertToString(this.m_modCounter),"-",this.m_stateId);};f.OlapEnvState=function(){};f.OlapEnvState.prototype=new f.XObject();f.OlapEnvState.prototype._ff_c="OlapEnvState";f.OlapEnvState.create=function(){var o=new f.OlapEnvState();o.m_queryManagersState=f.XHashMapByString.create();return o;};f.OlapEnvState.prototype.filterManagerState=null;f.OlapEnvState.prototype.sharedObjectsState=null;f.OlapEnvState.prototype.m_queryManagersState=null;f.OlapEnvState.prototype.getFilterManagerState=function(){return this.filterManagerState;};f.OlapEnvState.prototype.setFilterManagerState=function(a){this.filterManagerState=a;};f.OlapEnvState.prototype.getSharedObjectsState=function(){return this.sharedObjectsState;};f.OlapEnvState.prototype.setSharedObjectsState=function(s){this.sharedObjectsState=s;};f.OlapEnvState.prototype.getQueryManagersState=function(){return this.m_queryManagersState;};f.StateStackEntry=function(){};f.StateStackEntry.prototype=new f.XObject();f.StateStackEntry.prototype._ff_c="StateStackEntry";f.StateStackEntry.create=function(u,s){var e=new f.StateStackEntry();e.uuid=u;e.state=s;return e;};f.StateStackEntry.prototype.uuid=null;f.StateStackEntry.prototype.state=null;f.StateStackEntry.prototype.getState=function(){return this.state;};f.StateStackEntry.prototype.getName=function(){return this.uuid;};f.CustomHierarchySessionData=function(){};f.CustomHierarchySessionData.prototype=new f.XObject();f.CustomHierarchySessionData.prototype._ff_c="CustomHierarchySessionData";f.CustomHierarchySessionData.CUSTOM_HIERARCHY_SESSION_DATA="CustomHierarchySessionData";f.CustomHierarchySessionData.create=function(){var n=new f.CustomHierarchySessionData();n.m_createdCustomHierarchies=f.XList.create();n.m_activeHierarchySubmits=f.XList.create();return n;};f.CustomHierarchySessionData.prototype.m_createdCustomHierarchies=null;f.CustomHierarchySessionData.prototype.m_activeHierarchySubmits=null;f.CustomHierarchySessionData.prototype.releaseObject=function(){this.m_createdCustomHierarchies=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_createdCustomHierarchies);this.m_activeHierarchySubmits=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_activeHierarchySubmits);f.XObject.prototype.releaseObject.call(this);};f.CustomHierarchySessionData.prototype.getHierarchyInAResponse=function(c){for(var i=0;i<this.m_createdCustomHierarchies.size();i++){var d=this.m_createdCustomHierarchies.get(i);if(d.isEqualTo(c)){return d.getInaHierarchy().getPermaCopy();}}return null;};f.CustomHierarchySessionData.prototype.registerOnActiveHierarchySubmit=function(c,l){var a=this.getActiveSubmit(c);if(f.notNull(a)){a.getSecondObject().add(l);return true;}return false;};f.CustomHierarchySessionData.prototype.flagHierarchySubmitActive=function(c){var a=this.getActiveSubmit(c);if(f.isNull(a)){this.m_activeHierarchySubmits.add(f.XPair.create(c,f.XList.create()));}};f.CustomHierarchySessionData.prototype.finishHierarchySubmit=function(c,i){if(f.notNull(c)&&f.notNull(i)){var e=f.QCustomHierarchyDefinitionExt.createExtendedHierarchyDefinition(c,i.getPermaCopy());this.m_createdCustomHierarchies.removeElement(this.getHierarchyDefinitionByName(c.getName()));this.m_createdCustomHierarchies.add(e);}this.notifyListenersOnHierarchySubmit(c,i);};f.CustomHierarchySessionData.prototype.notifyListenersOnHierarchySubmit=function(c,a){var b=this.getActiveSubmit(c);if(f.notNull(b)){var l=b.getSecondObject();for(var i=0;i<l.size();i++){l.get(i).onCustomHierarchySubmitted(c,a);}this.m_activeHierarchySubmits.removeElement(b);f.XObjectExt.release(b);}};f.CustomHierarchySessionData.prototype.getHierarchyDefinitionByName=function(h){if(f.XStringUtils.isNotNullAndNotEmpty(h)){for(var i=0;i<this.m_createdCustomHierarchies.size();i++){var a=this.m_createdCustomHierarchies.get(i);if(f.XString.isEqual(a.getName(),h)){return a;}}}return null;};f.CustomHierarchySessionData.prototype.getHierarchyDefinitionNames=function(){var h=f.XListOfString.create();for(var i=0;i<this.m_createdCustomHierarchies.size();i++){var c=this.m_createdCustomHierarchies.get(i).getName();if(f.XStringUtils.isNotNullAndNotEmpty(c)){h.add(c);}}return h;};f.CustomHierarchySessionData.prototype.getActiveSubmit=function(c){for(var i=0;i<this.m_activeHierarchySubmits.size();i++){var a=this.m_activeHierarchySubmits.get(i);if(a.getFirstObject().isEqualTo(c)){return a;}}return null;};f.PlanningFactory={s_factory:null,setInstance:function(a){f.PlanningFactory.s_factory=a;},createPlanningManager:function(q){return f.PlanningFactory.s_factory.createPlanningManager(q);}};f.PlanningManagerDummy=function(){};f.PlanningManagerDummy.prototype=new f.XObject();f.PlanningManagerDummy.prototype._ff_c="PlanningManagerDummy";f.PlanningManagerDummy.create=function(q){var n=new f.PlanningManagerDummy();n.setupExt(q);return n;};f.PlanningManagerDummy.prototype.m_messageManager=null;f.PlanningManagerDummy.prototype.setupExt=function(q){this.m_messageManager=f.MessageManager.createMessageManagerExt(q.getSession());};f.PlanningManagerDummy.prototype.isPublicVersionEditPossible=function(){return false;};f.PlanningManagerDummy.prototype.hasChangedValues=function(){return false;};f.PlanningManagerDummy.prototype.hasChangedValueLocks=function(){return false;};f.PlanningManagerDummy.prototype.hasChangedCells=function(){return false;};f.PlanningManagerDummy.prototype.transferNewValues=function(){};f.PlanningManagerDummy.prototype.resetNewValues=function(){};f.PlanningManagerDummy.prototype.hasNewValues=function(){return false;};f.PlanningManagerDummy.prototype.setDataEntryReadOnly=function(d){};f.PlanningManagerDummy.prototype.isDataEntryReadOnly=function(){return true;};f.PlanningManagerDummy.prototype.isDataEntryEnabled=function(){return false;};f.PlanningManagerDummy.prototype.getPlanningModel=function(){return null;};f.PlanningManagerDummy.prototype.getDataArea=function(){return null;};f.PlanningManagerDummy.prototype.getPlanningMode=function(){return f.PlanningMode.SERVER_DEFAULT;};f.PlanningManagerDummy.prototype.setPlanningMode=function(p){};f.PlanningManagerDummy.prototype.getPlanningRestriction=function(){return f.PlanningVersionRestrictionType.SERVER_DEFAULT;};f.PlanningManagerDummy.prototype.setPlanningRestriction=function(r){};f.PlanningManagerDummy.prototype.supportsDataEntryReadOnly=function(){return false;};f.PlanningManagerDummy.prototype.getPlanningVersionIdentifier=function(v,s,a){return null;};f.PlanningManagerDummy.prototype.getPlanningVersionSettings=function(v,s,u){return null;};f.PlanningManagerDummy.prototype.getPlanningVersionSettingsSimple=function(v,s,u){return null;};f.PlanningManagerDummy.prototype.addPlanningVersionSettings=function(s){return null;};f.PlanningManagerDummy.prototype.deletePlanningVersionSettings=function(v){return null;};f.PlanningManagerDummy.prototype.getAllPlanningVersionSettings=function(){return null;};f.PlanningManagerDummy.prototype.setPlanningVersionSettingsMode=function(s){};f.PlanningManagerDummy.prototype.getPlanningVersionSettingsMode=function(){return null;};f.PlanningManagerDummy.prototype.setDataEntryEnabled=function(d){};f.PlanningManagerDummy.prototype.initializeDataAreaState=function(){return this.m_messageManager;};f.PlanningManagerDummy.prototype.setPublicVersionEditPossible=function(p){};f.PlanningManagerDummy.prototype.setVersionAliasById=function(a,v){};f.PlanningManagerDummy.prototype.removeVersionAlias=function(a){};f.PlanningManagerDummy.prototype.clearVersionAliases=function(){};f.PlanningManagerDummy.prototype.getVersionAliases=function(){return null;};f.PlanningManagerFactoryDummyImpl=function(){};f.PlanningManagerFactoryDummyImpl.prototype=new f.XObject();f.PlanningManagerFactoryDummyImpl.prototype._ff_c="PlanningManagerFactoryDummyImpl";f.PlanningManagerFactoryDummyImpl.create=function(){return new f.PlanningManagerFactoryDummyImpl();};f.PlanningManagerFactoryDummyImpl.prototype.createPlanningManager=function(q){return f.PlanningManagerDummy.create(q);};f.QInAConverter={s_lookupCtErrorHandlingMode:null,s_lookupCtErrorHandlingModeIna:null,s_lookupUnitType:null,s_lookupUnitTypeIna:null,s_lookupComparison:null,s_lookupComparisonIna:null,s_lookupPresentationType:null,s_lookupPresentationTypeIna:null,s_lookupInfoObjectType:null,s_lookupInfoObjectTypeIna:null,s_lookupVisibilityType:null,s_lookupVisibilityTypeIna:null,s_lookupReadMode:null,s_lookupReadModeIna:null,s_lookupEncoding:null,s_lookupSortType:null,s_lookupSortTypeIna:null,s_lookupAggregationType:null,s_lookupAggregationTypeIna:null,s_lookupComponentType:null,s_lookupComponentTypeIna:null,s_lookupValueType:null,s_lookupValueTypeIna:null,s_lookupCellValueType:null,s_textTransformation:null,s_textTransformationIna:null,s_lookupAlertLevelInt:null,s_lookupDimensionTypeInt:null,s_lookupResultsetState:null,s_lookupValueException:null,s_lookupAxisType:null,s_lookupAxisTypeIna:null,s_lookupSingleValueCalculation:null,s_lookupResultCalculation:null,s_lookupMemberNavigationTypeIna:null,s_lookupWindowFunctionType:null,s_lookupWindowFunctionTypeIna:null,s_lookupCategory:null,s_lookupCategoryIna:null,s_lookupRateType:null,s_lookupRateTypeIna:null,s_lookupProviderType:null,s_lookupProviderTypeIna:null,s_lookupProviderTypeFallbackIna:null,s_lookupProcessingType:null,s_lookupProcessingTypeIna:null,staticSetup:function(){f.QInAConverter.setupCtErrorHandlingMode();f.QInAConverter.setupRateType();f.QInAConverter.setupCategory();f.QInAConverter.setupAxisType();f.QInAConverter.setupUnitType();f.QInAConverter.setupDimensionType();f.QInAConverter.setupAlertLevel();f.QInAConverter.setupTextTransformation();f.QInAConverter.setupValueTypeMap();f.QInAConverter.setupComparisonMapping();f.QInAConverter.setupAggregationTypeMapping();f.QInAConverter.setupPresentationMapping();f.QInAConverter.setupProviderType();f.QInAConverter.setupInfoObjectType();f.QInAConverter.setupVisibilityMapping();f.QInAConverter.setupReadmodeMapping();f.QInAConverter.setupEncoding();f.QInAConverter.setupSortingMapping();f.QInAConverter.setupComponentTypeMapping();f.QInAConverter.setupMemberNavigationType();f.QInAConverter.setupResultSetState();f.QInAConverter.setupValueException();f.QInAConverter.setupSingleValueCalculation();f.QInAConverter.setupWindowFunctionTypeMapping();f.QInAConverter.setupResultCalculation();f.QInAConverter.setupValueDomain();},setupUnitType:function(){f.QInAConverter.s_lookupUnitType=f.XHashMapByString.create();f.QInAConverter.s_lookupUnitTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.CONVERSION_FAILED,"CONVERSION_FAILED");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.CURRENCY,"CURRENCY");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.CURRENCY,"CUR");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.UNIT,"UNIT");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.UNIT,"UNI");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.UNDEFINED,"UDF");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.MIXED,"*");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.NULL_VALUE,"NULL");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupUnitType,f.QInAConverter.s_lookupUnitTypeIna,f.UnitType.NONE,"NON");},setupAxisType:function(){f.QInAConverter.s_lookupAxisType=f.XHashMapByString.create();f.QInAConverter.s_lookupAxisTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.COLUMNS,"Columns");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.ROWS,"Rows");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.FREE,"Free");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.FREE,"None");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.DYNAMIC,"Dynamic");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.FILTER,"Filter");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.TECHNICAL,"Technical");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.REPOSITORY,"Repository");f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAxisType,f.QInAConverter.s_lookupAxisTypeIna,f.AxisType.VIRTUAL,"Virtual");},setupDimensionType:function(){f.QInAConverter.s_lookupDimensionTypeInt=f.XArray.create(13);f.QInAConverter.s_lookupDimensionTypeInt.set(1,f.DimensionType.TIME);f.QInAConverter.s_lookupDimensionTypeInt.set(2,f.DimensionType.MEASURE_STRUCTURE);f.QInAConverter.s_lookupDimensionTypeInt.set(3,f.DimensionType.DIMENSION);f.QInAConverter.s_lookupDimensionTypeInt.set(4,f.DimensionType.CURRENCY);f.QInAConverter.s_lookupDimensionTypeInt.set(5,f.DimensionType.UNIT);f.QInAConverter.s_lookupDimensionTypeInt.set(6,f.DimensionType.SECONDARY_STRUCTURE);f.QInAConverter.s_lookupDimensionTypeInt.set(7,f.DimensionType.DATE);f.QInAConverter.s_lookupDimensionTypeInt.set(8,f.DimensionType.HIERARCHY_VERSION);f.QInAConverter.s_lookupDimensionTypeInt.set(9,f.DimensionType.HIERARCHY_NAME);f.QInAConverter.s_lookupDimensionTypeInt.set(10,f.DimensionType.GIS_DIMENSION);f.QInAConverter.s_lookupDimensionTypeInt.set(11,f.DimensionType.VERSION);f.QInAConverter.s_lookupDimensionTypeInt.set(12,f.DimensionType.ACCOUNT);},setupAlertLevel:function(){f.QInAConverter.s_lookupAlertLevelInt=f.XArray.create(10);f.QInAConverter.s_lookupAlertLevelInt.set(0,f.AlertLevel.NORMAL);f.QInAConverter.s_lookupAlertLevelInt.set(1,f.AlertLevel.GOOD_1);f.QInAConverter.s_lookupAlertLevelInt.set(2,f.AlertLevel.GOOD_2);f.QInAConverter.s_lookupAlertLevelInt.set(3,f.AlertLevel.GOOD_3);f.QInAConverter.s_lookupAlertLevelInt.set(4,f.AlertLevel.CRITICAL_1);f.QInAConverter.s_lookupAlertLevelInt.set(5,f.AlertLevel.CRITICAL_2);f.QInAConverter.s_lookupAlertLevelInt.set(6,f.AlertLevel.CRITICAL_3);f.QInAConverter.s_lookupAlertLevelInt.set(7,f.AlertLevel.BAD_1);f.QInAConverter.s_lookupAlertLevelInt.set(8,f.AlertLevel.BAD_2);f.QInAConverter.s_lookupAlertLevelInt.set(9,f.AlertLevel.BAD_3);},setupTextTransformation:function(){f.QInAConverter.s_textTransformation=f.XHashMapByString.create();f.QInAConverter.s_textTransformationIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapTextTransformation("Capitalize",f.TextTransformationType.CAPITALIZE);f.QInAConverter.mapTextTransformation("Lowercase",f.TextTransformationType.LOWERCASE);f.QInAConverter.mapTextTransformation("Uppercase",f.TextTransformationType.UPPERCASE);f.QInAConverter.mapTextTransformation("StringTransformation",f.TextTransformationType.STRING_TRANSFORMATION);f.QInAConverter.mapTextTransformation("SpatialAsBinary",f.TextTransformationType.SPATIAL_AS_BINARY);f.QInAConverter.mapTextTransformation("SpatialAsEWKB",f.TextTransformationType.SPATIAL_AS_EWKB);f.QInAConverter.mapTextTransformation("SpatialAsEWKT",f.TextTransformationType.SPATIAL_AS_EWKT);f.QInAConverter.mapTextTransformation("SpatialAsGeoJSON",f.TextTransformationType.SPATIAL_AS_GEOJSON);f.QInAConverter.mapTextTransformation("SpatialAsSVG",f.TextTransformationType.SPATIAL_AS_SVG);f.QInAConverter.mapTextTransformation("SpatialAsText",f.TextTransformationType.SPATIAL_AS_TEXT);f.QInAConverter.mapTextTransformation("SpatialAsWKB",f.TextTransformationType.SPATIAL_AS_WKB);f.QInAConverter.mapTextTransformation("SpatialAsWKT",f.TextTransformationType.SPATIAL_AS_WKT);},mapTextTransformation:function(i,a){f.QInAConverter.s_textTransformation.put(i,a);f.QInAConverter.s_textTransformationIna.put(a.getName(),i);},setupComparisonMapping:function(){f.QInAConverter.s_lookupComparison=f.XHashMapByString.create();f.QInAConverter.s_lookupComparisonIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapComparison("=",f.ComparisonOperator.EQUAL);f.QInAConverter.mapComparison("EQ",f.ComparisonOperator.EQUAL);f.QInAConverter.mapComparison("EQUAL",f.ComparisonOperator.EQUAL);f.QInAConverter.mapComparison("EQUALS",f.ComparisonOperator.EQUAL);f.QInAConverter.mapComparison("<>",f.ComparisonOperator.NOT_EQUAL);f.QInAConverter.mapComparison(">",f.ComparisonOperator.GREATER_THAN);f.QInAConverter.mapComparison("GT",f.ComparisonOperator.GREATER_THAN);f.QInAConverter.mapComparison("<",f.ComparisonOperator.LESS_THAN);f.QInAConverter.mapComparison("LT",f.ComparisonOperator.LESS_THAN);f.QInAConverter.mapComparison(">=",f.ComparisonOperator.GREATER_EQUAL);f.QInAConverter.mapComparison("GE",f.ComparisonOperator.GREATER_EQUAL);f.QInAConverter.mapComparison("<=",f.ComparisonOperator.LESS_EQUAL);f.QInAConverter.mapComparison("LE",f.ComparisonOperator.LESS_EQUAL);f.QInAConverter.mapComparison("LIKE",f.ComparisonOperator.LIKE);f.QInAConverter.mapComparison("MATCH",f.ComparisonOperator.MATCH);f.QInAConverter.mapComparison("NOT_MATCH",f.ComparisonOperator.NOT_MATCH);f.QInAConverter.mapComparison("IS_NULL",f.ComparisonOperator.IS_NULL);f.QInAConverter.mapComparison("IS NULL",f.ComparisonOperator.IS_NULL);f.QInAConverter.mapComparison("NL",f.ComparisonOperator.IS_NULL);f.QInAConverter.mapComparison("BETWEEN",f.ComparisonOperator.BETWEEN);f.QInAConverter.mapComparison("BT",f.ComparisonOperator.BETWEEN);f.QInAConverter.mapComparison("NOT_BETWEEN",f.ComparisonOperator.NOT_BETWEEN);f.QInAConverter.mapComparison("NOTBETWEEN",f.ComparisonOperator.NOT_BETWEEN);f.QInAConverter.mapComparison("BETWEEN_EXCLUDING",f.ComparisonOperator.BETWEEN_EXCLUDING);f.QInAConverter.mapComparison("NOT_BETWEEN_EXCLUDING",f.ComparisonOperator.NOT_BETWEEN_EXCLUDING);f.QInAConverter.mapComparison("FUZZY",f.ComparisonOperator.FUZZY);f.QInAConverter.mapComparison("SEARCH",f.ComparisonOperator.SEARCH);f.QInAConverter.mapComparison("ALL",f.ComparisonOperator.ALL);f.QInAConverter.mapComparison("AGGREGATED",f.ComparisonOperator.AGGREGATED);f.QInAConverter.mapComparison("NON-AGGREGATED",f.ComparisonOperator.NON_AGGREGATED);f.QInAConverter.mapComparison("LEVEL",f.ComparisonOperator.LEVEL);f.QInAConverter.mapComparison("CONTAINS",f.SpatialComparisonOperator.CONTAINS);f.QInAConverter.mapComparison("COVERS",f.SpatialComparisonOperator.COVERS);f.QInAConverter.mapComparison("CROSSES",f.SpatialComparisonOperator.CROSSES);f.QInAConverter.mapComparison("DISJOINT",f.SpatialComparisonOperator.DISJOINT);f.QInAConverter.mapComparison("OVERLAPS",f.SpatialComparisonOperator.OVERLAPS);f.QInAConverter.mapComparison("TOUCHES",f.SpatialComparisonOperator.TOUCHES);f.QInAConverter.mapComparison("INTERSECTS_RECT",f.SpatialComparisonOperator.INTERSECTS_RECT);f.QInAConverter.mapComparison("INTERSECT_RECT",f.SpatialComparisonOperator.INTERSECTS_RECT);f.QInAConverter.mapComparison("INTERSECTS",f.SpatialComparisonOperator.INTERSECTS);f.QInAConverter.mapComparison("WITHIN",f.SpatialComparisonOperator.WITHIN);f.QInAConverter.mapComparison("WITHIN_DISTANCE",f.SpatialComparisonOperator.WITHIN_DISTANCE);},setupAggregationTypeMapping:function(){f.QInAConverter.s_lookupAggregationType=f.XHashMapByString.create();f.QInAConverter.s_lookupAggregationTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapAggregationType("SUM",f.AggregationType.SUM);f.QInAConverter.mapAggregationType("COUNT",f.AggregationType.COUNT);f.QInAConverter.mapAggregationType("MAX",f.AggregationType.MAX);f.QInAConverter.mapAggregationType("MIN",f.AggregationType.MIN);f.QInAConverter.mapAggregationType("AVERAGE",f.AggregationType.AVERAGE);f.QInAConverter.mapAggregationType("COUNT_DISTINCT",f.AggregationType.COUNT_DISTINCT);f.QInAConverter.mapAggregationType("LAST",f.AggregationType.LAST);f.QInAConverter.mapAggregationType("FIRST",f.AggregationType.FIRST);f.QInAConverter.mapAggregationType("VARIANCE",f.AggregationType.VARIANCE);f.QInAConverter.mapAggregationType("STANDARD_DEVIATION",f.AggregationType.STANDARD_DEVIATION);f.QInAConverter.mapAggregationType("NOPNULL",f.AggregationType.NOP_NULL);f.QInAConverter.mapAggregationType("NOPNULLZERO",f.AggregationType.NOP_NULL_ZERO);f.QInAConverter.mapAggregationType("RANK",f.AggregationType.RANK);f.QInAConverter.mapAggregationType("RANK_DENSE",f.AggregationType.RANK_DENSE);f.QInAConverter.mapAggregationType("RANK_OLYMPIC",f.AggregationType.RANK_OLYMPIC);f.QInAConverter.mapAggregationType("RANK_PERCENT",f.AggregationType.RANK_PERCENT);f.QInAConverter.mapAggregationType("RANK_PERCENTILE",f.AggregationType.RANK_PERCENTILE);f.QInAConverter.mapAggregationType("AVERAGENULL",f.AggregationType.AVERAGE_NULL);f.QInAConverter.mapAggregationType("AVERAGENULLZERO",f.AggregationType.AVERAGE_NULL_ZERO);f.QInAConverter.mapAggregationType("COUNTNULL",f.AggregationType.COUNT_NULL);f.QInAConverter.mapAggregationType("COUNTNULLZERO",f.AggregationType.COUNT_NULL_ZERO);f.QInAConverter.mapAggregationType("MEDIAN",f.AggregationType.MEDIAN);f.QInAConverter.mapAggregationType("MEDIANNULL",f.AggregationType.MEDIAN_NULL);f.QInAConverter.mapAggregationType("MEDIANNULLZERO",f.AggregationType.MEDIAN_NULL_ZERO);f.QInAConverter.mapAggregationType("1STQUARTILE",f.AggregationType.FIRST_QUARTILE);f.QInAConverter.mapAggregationType("1STQUARTILENULL",f.AggregationType.FIRST_QUARTILE_NULL);f.QInAConverter.mapAggregationType("1STQUARTILENULLZERO",f.AggregationType.FIRST_QUARTILE_NULL_ZERO);f.QInAConverter.mapAggregationType("3RDQUARTILE",f.AggregationType.THIRD_QUARTILE);f.QInAConverter.mapAggregationType("3RDQUARTILENULL",f.AggregationType.THIRD_QUARTILE_NULL);f.QInAConverter.mapAggregationType("3RDQUARTILENULLZERO",f.AggregationType.THIRD_QUARTILE_NULL_ZERO);f.QInAConverter.mapAggregationType("OUTLIERS",f.AggregationType.OUTLIERS);f.QInAConverter.mapAggregationType("OUTLIERSNULL",f.AggregationType.OUTLIERS_NULL);f.QInAConverter.mapAggregationType("OUTLIERSNULLZERO",f.AggregationType.OUTLIERS_NULL_ZERO);},setupPresentationMapping:function(){f.QInAConverter.s_lookupPresentationType=f.XHashMapByString.create();f.QInAConverter.s_lookupPresentationTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapPresentationType("Undefined",f.PresentationType.UNDEFINED);f.QInAConverter.mapPresentationType("Key",f.PresentationType.KEY);f.QInAConverter.mapPresentationType("KeyNotCompound",f.PresentationType.KEY_NOT_COMPOUND);f.QInAConverter.mapPresentationType("DisplayKey",f.PresentationType.DISPLAY_KEY);f.QInAConverter.mapPresentationType("DisplayKeyMixedCompoundment",f.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT);f.QInAConverter.mapPresentationType("DisplayKeyNotCompound",f.PresentationType.DISPLAY_KEY_NOT_COMPOUND);f.QInAConverter.mapPresentationType("Id",f.PresentationType.ID);f.QInAConverter.mapPresentationType("Text",f.PresentationType.TEXT);f.QInAConverter.mapPresentationType("ShortText",f.PresentationType.SHORT_TEXT);f.QInAConverter.mapPresentationType("MediumText",f.PresentationType.MEDIUM_TEXT);f.QInAConverter.mapPresentationType("LongText",f.PresentationType.LONG_TEXT);f.QInAConverter.mapPresentationType("XLLongText",f.PresentationType.XL_LONG_TEXT);f.QInAConverter.mapPresentationType("HierarchyKey",f.PresentationType.HIERARCHY_KEY);f.QInAConverter.mapPresentationType("HierarchyText",f.PresentationType.HIERARCHY_TEXT);f.QInAConverter.mapPresentationType("HierarchyDisplayKey",f.PresentationType.HIERARCHY_DISPLAY_KEY);f.QInAConverter.mapPresentationType("HierarchyPath",f.PresentationType.HIERARCHY_PATH);f.QInAConverter.mapPresentationType("WhyFound",f.PresentationType.WHY_FOUND);f.QInAConverter.mapPresentationType("RelatedActions",f.PresentationType.RELATED_ACTIONS);f.QInAConverter.mapPresentationType("URL",f.PresentationType.URL);f.QInAConverter.mapPresentationType("XXL",f.PresentationType.BLOB);},setupVisibilityMapping:function(){f.QInAConverter.s_lookupVisibilityType=f.XHashMapByString.create();f.QInAConverter.s_lookupVisibilityTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapVisibilityType("C",f.VisibilityType.CENTRAL);f.QInAConverter.mapVisibilityType("C/I",f.VisibilityType.CENTRAL_NOT_VISIBLE);f.QInAConverter.mapVisibilityType("C/D",f.VisibilityType.CENTRAL_DISPLAY_ONLY);f.QInAConverter.mapVisibilityType("C/C",f.VisibilityType.CENTRAL_CHANGE_TO_EXISTING);f.QInAConverter.mapVisibilityType("C/A",f.VisibilityType.CENTRAL_ADD_NEW);f.QInAConverter.mapVisibilityType("L",f.VisibilityType.LOCAL);f.QInAConverter.mapVisibilityType("L/I",f.VisibilityType.LOCAL_NOT_VISIBLE);f.QInAConverter.mapVisibilityType("L/D",f.VisibilityType.LOCAL_DISPLAY_ONLY);f.QInAConverter.mapVisibilityType("L/C",f.VisibilityType.LOCAL_CHANGE_TO_EXISTING);f.QInAConverter.mapVisibilityType("L/A",f.VisibilityType.LOCAL_ADD_NEW);},setupReadmodeMapping:function(){f.QInAConverter.s_lookupReadMode=f.XHashMapByString.create();f.QInAConverter.s_lookupReadModeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapReadMode("Default",f.QMemberReadMode.DEFAULT_VALUE);f.QInAConverter.mapReadMode("Undefined",f.QMemberReadMode.UNDEFINED);f.QInAConverter.mapReadMode("None",f.QMemberReadMode.UNDEFINED);f.QInAConverter.mapReadMode("Master",f.QMemberReadMode.MASTER);f.QInAConverter.mapReadMode("MasterAndSpace",f.QMemberReadMode.MASTER_AND_SPACE);f.QInAConverter.mapReadMode("MasterAndSpaceAndState",f.QMemberReadMode.MASTER_AND_SPACE_AND_STATE);f.QInAConverter.mapReadMode("RelatedMaster",f.QMemberReadMode.REL_MASTER);f.QInAConverter.mapReadMode("RelatedMasterAndSpace",f.QMemberReadMode.REL_MASTER_AND_SPACE);f.QInAConverter.mapReadMode("RelatedMasterAndSpaceAndState",f.QMemberReadMode.REL_MASTER_AND_SPACE_AND_STATE);f.QInAConverter.mapReadMode("Booked",f.QMemberReadMode.BOOKED);f.QInAConverter.mapReadMode("BookedAndSpace",f.QMemberReadMode.BOOKED_AND_SPACE);f.QInAConverter.mapReadMode("BookedAndSpaceAndState",f.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE);f.QInAConverter.mapReadMode("RelatedBooked",f.QMemberReadMode.REL_BOOKED);f.QInAConverter.mapReadMode("RelatedBookedAndSpace",f.QMemberReadMode.REL_BOOKED_AND_SPACE);f.QInAConverter.mapReadMode("RelatedBookedAndSpaceAndState",f.QMemberReadMode.REL_BOOKED_AND_SPACE_AND_STATE);},setupEncoding:function(){f.QInAConverter.s_lookupEncoding=f.XHashMapByString.create();f.QInAConverter.s_lookupEncoding.put("None",f.ResultSetEncoding.NONE);f.QInAConverter.s_lookupEncoding.put("Auto",f.ResultSetEncoding.AUTO);f.QInAConverter.s_lookupEncoding.put("DeltaRunLength",f.ResultSetEncoding.DELTA_RUN_LENGTH);},setupSortingMapping:function(){f.QInAConverter.s_lookupSortType=f.XHashMapByString.create();f.QInAConverter.s_lookupSortTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapSortType("Member",f.SortType.MEMBER_KEY);f.QInAConverter.mapSortType("MemberKey",f.SortType.MEMBER_KEY);f.QInAConverter.mapSortType("MemberText",f.SortType.MEMBER_TEXT);f.QInAConverter.mapSortType("Field",f.SortType.FIELD);f.QInAConverter.mapSortType("Selection",f.SortType.FILTER);f.QInAConverter.mapSortType("Filter",f.SortType.FILTER);f.QInAConverter.mapSortType("Datacell",f.SortType.DATA_CELL_VALUE);f.QInAConverter.mapSortType("Hierarchy",f.SortType.HIERARCHY);f.QInAConverter.mapSortType("Measure",f.SortType.MEASURE);f.QInAConverter.mapSortType("Complex",f.SortType.COMPLEX);},setupMemberNavigationType:function(){f.QInAConverter.s_lookupMemberNavigationTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.s_lookupMemberNavigationTypeIna.put(f.MemberNavigationType.FUNCTION_PARAM_CONSTANT.getName(),"Constant");f.QInAConverter.s_lookupMemberNavigationTypeIna.put(f.MemberNavigationType.FUNCTION_PARAM_LEVEL.getName(),"Level");f.QInAConverter.s_lookupMemberNavigationTypeIna.put(f.MemberNavigationType.FUNCTION_PARAM_MEMBER.getName(),"Member");f.QInAConverter.s_lookupMemberNavigationTypeIna.put(f.MemberNavigationType.FUNCTION_PARAM_NO_VALUES_ABOVE_LEVEL.getName(),"NoValuesAboveLevel");f.QInAConverter.s_lookupMemberNavigationTypeIna.put(f.MemberNavigationType.FUNCTION_PARAM_RANGE.getName(),"Range");f.QInAConverter.s_lookupMemberNavigationTypeIna.put(f.MemberNavigationType.FUNCTION_PARAM_SHIFT.getName(),"Shift");},setupResultSetState:function(){f.QInAConverter.s_lookupResultsetState=f.XArray.create(7);f.QInAConverter.s_lookupResultsetState.set(0,f.ResultSetState.DATA_AVAILABLE);f.QInAConverter.s_lookupResultsetState.set(1,f.ResultSetState.NO_DATA_AVAILABLE);f.QInAConverter.s_lookupResultsetState.set(2,f.ResultSetState.NO_DATA_AVAILABLE);f.QInAConverter.s_lookupResultsetState.set(3,f.ResultSetState.ERROR);f.QInAConverter.s_lookupResultsetState.set(4,f.ResultSetState.SIZE_LIMIT_EXCEEDED);f.QInAConverter.s_lookupResultsetState.set(5,f.ResultSetState.SUCCESSFUL_PERSISTED);f.QInAConverter.s_lookupResultsetState.set(6,f.ResultSetState.EMPTY_JSON);},setupValueException:function(){f.QInAConverter.s_lookupValueException=f.XArray.create(11);f.QInAConverter.s_lookupValueException.set(0,f.ValueException.NORMAL);f.QInAConverter.s_lookupValueException.set(1,f.ValueException.NULL_VALUE);f.QInAConverter.s_lookupValueException.set(2,f.ValueException.ZERO);f.QInAConverter.s_lookupValueException.set(3,f.ValueException.UNDEFINED);f.QInAConverter.s_lookupValueException.set(4,f.ValueException.OVERFLOW);f.QInAConverter.s_lookupValueException.set(5,f.ValueException.NO_PRESENTATION);f.QInAConverter.s_lookupValueException.set(6,f.ValueException.DIFF0);f.QInAConverter.s_lookupValueException.set(7,f.ValueException.ERROR);f.QInAConverter.s_lookupValueException.set(8,f.ValueException.NO_AUTHORITY);f.QInAConverter.s_lookupValueException.set(9,f.ValueException.MIXED_CURRENCIES_OR_UNITS);f.QInAConverter.s_lookupValueException.set(10,f.ValueException.UNDEFINED_NOP);},setupSingleValueCalculation:function(){f.QInAConverter.s_lookupSingleValueCalculation=f.XHashMapByString.create();f.QInAConverter.s_lookupSingleValueCalculation.put(" ",f.SingleValueCalculation.NOT_DEFINED);f.QInAConverter.s_lookupSingleValueCalculation.put("1",f.SingleValueCalculation.SUM);f.QInAConverter.s_lookupSingleValueCalculation.put("2",f.SingleValueCalculation.MAXIMUM);f.QInAConverter.s_lookupSingleValueCalculation.put("3",f.SingleValueCalculation.MINIMUM);f.QInAConverter.s_lookupSingleValueCalculation.put("4",f.SingleValueCalculation.COUNTER_FOR_ALL_DETAILED_VALUES);f.QInAConverter.s_lookupSingleValueCalculation.put("5",f.SingleValueCalculation.COUNTER_FOR_ALL_DETAILED_VALUES_NZ_NULL_ERROR);f.QInAConverter.s_lookupSingleValueCalculation.put("6",f.SingleValueCalculation.AVERAGE);f.QInAConverter.s_lookupSingleValueCalculation.put("7",f.SingleValueCalculation.AVERAGE_DETAILED_VALUES_NOT_ZERO_NULL_ERROR);f.QInAConverter.s_lookupSingleValueCalculation.put("0",f.SingleValueCalculation.HIDE);f.QInAConverter.s_lookupSingleValueCalculation.put("O",f.SingleValueCalculation.OLYMPIC_RANK_NUMBER);f.QInAConverter.s_lookupSingleValueCalculation.put("B",f.SingleValueCalculation.MOVING_MIN_VALUE);f.QInAConverter.s_lookupSingleValueCalculation.put("C",f.SingleValueCalculation.NORMALIZED_NEXT_GROUP_LEVEL_RESULT);f.QInAConverter.s_lookupSingleValueCalculation.put("D",f.SingleValueCalculation.MAX_VALUE_NOT_ZERO_NULL_ERROR);f.QInAConverter.s_lookupSingleValueCalculation.put("E",f.SingleValueCalculation.MINIMUM_VALUES_NOT_ZERO_NULL_ERROR);f.QInAConverter.s_lookupSingleValueCalculation.put("G",f.SingleValueCalculation.NORMALIZED_OVERALL_RESULT);f.QInAConverter.s_lookupSingleValueCalculation.put("R",f.SingleValueCalculation.NORMALIZED_UNRESTRICTED_OVERALL_RESULT);f.QInAConverter.s_lookupSingleValueCalculation.put("S",f.SingleValueCalculation.RANK_NUMBER);},setupComponentTypeMapping:function(){f.QInAConverter.s_lookupComponentType=f.XHashMapByString.create();f.QInAConverter.s_lookupComponentTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapComponentType("Axis",f.OlapComponentType.AXIS);f.QInAConverter.mapComponentType("AbstractMember",f.MemberType.ABSTRACT_MEMBER);f.QInAConverter.mapComponentType("Attribute",f.OlapComponentType.ATTRIBUTE);f.QInAConverter.mapComponentType("QuerySettings",f.OlapComponentType.QUERY_SETTINGS);f.QInAConverter.mapComponentType("Condition",f.OlapComponentType.CONDITION);f.QInAConverter.mapComponentType("QueryModel",f.OlapComponentType.QUERY_MODEL);f.QInAConverter.mapComponentType("DataCell",f.OlapComponentType.DATA_CELL);f.QInAConverter.mapComponentType("CalculatedDimension",f.DimensionType.CALCULATED_DIMENSION);f.QInAConverter.mapComponentType("FilterManager",f.OlapComponentType.OLAP_FILTER_MANAGER);f.QInAConverter.mapComponentType("Filter",f.OlapComponentType.SELECTOR);f.QInAConverter.mapComponentType("FilterExpression",f.OlapComponentType.FILTER_EXPRESSION);f.QInAConverter.mapComponentType("FilterCartesianProduct",f.FilterComponentType.CARTESIAN_PRODUCT);f.QInAConverter.mapComponentType("FilterCartesianList",f.FilterComponentType.CARTESIAN_LIST);f.QInAConverter.mapComponentType("FilterConvertedTimeCartesianList",f.FilterComponentType.CONVERTED_TIME_CARTESIAN_LIST);f.QInAConverter.mapComponentType("FilterOperation",f.FilterComponentType.OPERATION);f.QInAConverter.mapComponentType("FilterAlgebra",f.FilterComponentType.BOOLEAN_ALGEBRA);f.QInAConverter.mapComponentType("CustomHierarchyDefinition",f.OlapComponentType.CUSTOM_HIERARCHY_DEFINITION);f.QInAConverter.mapComponentType("MemberRestricted",f.MemberType.RESTRICTED_MEASURE);f.QInAConverter.mapComponentType("DimensionMemberVariable",f.VariableType.DIMENSION_MEMBER_VARIABLE);f.QInAConverter.mapComponentType("HierarchyNodeVariable",f.VariableType.HIERARCHY_NODE_VARIABLE);f.QInAConverter.mapComponentType("Hierarchy",f.OlapComponentType.HIERARCHY_MANAGER);f.QInAConverter.mapComponentType("Hierarchy",f.OlapComponentType.HIERARCHY);f.QInAConverter.mapComponentType("CellValueOperand",f.OlapComponentType.FILTER_CELL_VALUE_OPERAND);f.QInAConverter.mapComponentType("DataCells",f.OlapComponentType.DATA_CELLS);f.QInAConverter.mapComponentType("Sorting",f.OlapComponentType.SORT_MANAGER);f.QInAConverter.mapComponentType("CurrencyTranslationManager",f.OlapComponentType.CURRENCY_TRANSLATION_MANAGER);f.QInAConverter.mapComponentType("CurrencyTranslations",f.OlapComponentType.CURRENCY_TRANSLATION_LIST);f.QInAConverter.mapComponentType("CurrencyTranslationItem",f.OlapComponentType.CURRENCY_TRANSLATION_ITEM);f.QInAConverter.mapComponentType("Translations",f.OlapComponentType.MEASURE_TRANSLATIONS);f.QInAConverter.mapComponentType("SortOperation",f.OlapComponentType.GENERIC_SORTING);f.QInAConverter.mapComponentType("Totals",f.OlapComponentType.TOTALS);f.QInAConverter.mapComponentType("Dimensions",f.OlapComponentType.DIMENSIONS);f.QInAConverter.mapComponentType("ConditionsManager",f.OlapComponentType.CONDITIONS_MANAGER);f.QInAConverter.mapComponentType("Field",f.OlapComponentType.FIELD);f.QInAConverter.mapComponentType("DimensionManager",f.OlapComponentType.DIMENSION_MANAGER);f.QInAConverter.mapComponentType("Dimension",f.OlapComponentType.ABSTRACT_DIMENSION);f.QInAConverter.mapComponentType("UniversalDisplayHierarchies",f.OlapComponentType.UNIVERSAL_DISPLAY_HIERARCHIES);f.QInAConverter.mapComponentType("BasicMeasure",f.MemberType.BASIC_MEASURE);f.QInAConverter.mapComponentType("Formula",f.MemberType.FORMULA);f.QInAConverter.mapComponentType("Variance",f.MemberType.VARIANCE);f.QInAConverter.mapComponentType("ExceptionAggregation",f.MemberType.EXCEPTION_AGGREGATION);f.QInAConverter.mapComponentType("CurrencyMeasure",f.MemberType.CURRENCY_MEASURE);f.QInAConverter.mapComponentType("Members",f.OlapComponentType.MEMBERS);f.QInAConverter.mapComponentType("DrillOperation",f.OlapComponentType.DRILL_OPERATION);f.QInAConverter.mapComponentType("DrillManager",f.OlapComponentType.DRILL_MANAGER);f.QInAConverter.mapComponentType("DrillPathElement",f.MemberType.DRILL_PATH_ELEMENT);f.QInAConverter.mapComponentType("AxesSettings",f.OlapComponentType.AXES_SETTINGS);f.QInAConverter.mapComponentType("Tuple",f.FilterComponentType.TUPLE);f.QInAConverter.mapComponentType("MeasureBasedFilter",f.FilterComponentType.FILTER_MEASURE_BASED);f.QInAConverter.mapComponentType("FilterAcrossModels",f.FilterComponentType.FILTER_ACROSS_MODELS);f.QInAConverter.mapComponentType("FormulaCalculatedDimension",f.DimensionType.FORMULA_CALCULATED_DIMENSION);f.QInAConverter.mapComponentType("FormulaException",f.OlapComponentType.FORMULA_EXCEPTION);f.QInAConverter.mapComponentType("FormulaExceptions",f.OlapComponentType.FORMULA_EXCEPTION_MANAGER);f.QInAConverter.mapComponentType("OptionListVariable",f.VariableType.OPTION_LIST_VARIABLE);f.QInAConverter.mapComponentType("Cells",f.OlapComponentType.QUERY_CELLS);f.QInAConverter.mapComponentType("ModellerCurrencyTranslation",f.OlapComponentType.MODELLER_CURRENCY_TRANSLATION);f.QInAConverter.mapComponentType("ModellerDimensions",f.OlapComponentType.MODELLER_DIMENSIONS);f.QInAConverter.mapComponentType("ModellerMetadataProperties",f.OlapComponentType.MODELLER_METADATA_PROPERTIES);f.QInAConverter.mapComponentType("ModellerVariables",f.OlapComponentType.MODELLER_VARIABLES);f.QInAConverter.mapComponentType("ConditionThreshold",f.OlapComponentType.CONDITIONS_THRESHOLD);f.QInAConverter.mapComponentType("Exceptions",f.OlapComponentType.EXCEPTION_MANAGER);f.QInAConverter.mapComponentType("SimpleTypeVariable",f.VariableType.SIMPLE_TYPE_VARIABLE);f.QInAConverter.mapComponentType("QueryManager",f.OlapComponentType.QUERY_MANAGER);f.QInAConverter.mapComponentType("QueryServiceConfig",f.OlapComponentType.QUERY_SERVICE_CONFIG);f.QInAConverter.mapComponentType("DataSource",f.OlapComponentType.DATA_SOURCE);f.QInAConverter.mapComponentType("BlendableQueryManager",f.OlapComponentType.BLENDABLE_QUERY_MANAGER);},setupValueTypeMap:function(){f.QInAConverter.s_lookupValueType=f.XHashMapByString.create();f.QInAConverter.s_lookupValueTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapValueType("String",f.XValueType.STRING);f.QInAConverter.mapValueType("Numc",f.XValueType.NUMC);f.QInAConverter.mapValueType("Char",f.XValueType.CHAR);f.QInAConverter.mapValueType("Double",f.XValueType.DOUBLE);f.QInAConverter.mapValueType("Long",f.XValueType.LONG);f.QInAConverter.mapValueType("Int",f.XValueType.INTEGER);f.QInAConverter.mapValueType("Bool",f.XValueType.BOOLEAN);f.QInAConverter.mapValueType("Amount",f.XValueType.AMOUNT);f.QInAConverter.mapValueType("Date",f.XValueType.DATE);f.QInAConverter.mapValueType("Time",f.XValueType.TIME);f.QInAConverter.mapValueType("Timestamp",f.XValueType.DATE_TIME);f.QInAConverter.mapValueType("Timespan",f.XValueType.TIMESPAN);f.QInAConverter.mapValueType("Properties",f.XValueType.PROPERTIES);f.QInAConverter.mapValueType("Structure",f.XValueType.STRUCTURE);f.QInAConverter.mapValueType("StructureList",f.XValueType.STRUCTURE_LIST);f.QInAConverter.mapValueType("Point",f.XValueType.POINT);f.QInAConverter.mapValueType("Geometry",f.XValueType.POLYGON);f.QInAConverter.mapValueType("LineString",f.XValueType.LINE_STRING);f.QInAConverter.mapValueType("Language",f.XValueType.LANGUAGE);f.QInAConverter.mapValueType("DecimalFloat",f.XValueType.DECIMAL_FLOAT);f.QInAConverter.mapValueType("Variable",f.XValueType.VARIABLE);f.QInAConverter.mapValueType("CurrentMember",f.XValueType.CURRENT_MEMBER);f.QInAConverter.mapValueType("Unit",f.XValueType.UNIT);f.QInAConverter.mapValueType("Cuky",f.XValueType.CUKY);f.QInAConverter.s_lookupCellValueType=f.XArray.create(15);f.QInAConverter.s_lookupCellValueType.set(0,f.XValueType.DOUBLE);f.QInAConverter.s_lookupCellValueType.set(1,f.XValueType.PERCENT);f.QInAConverter.s_lookupCellValueType.set(2,f.XValueType.DATE);f.QInAConverter.s_lookupCellValueType.set(3,f.XValueType.TIME);f.QInAConverter.s_lookupCellValueType.set(4,f.XValueType.STRING);f.QInAConverter.s_lookupCellValueType.set(5,f.XValueType.AMOUNT);f.QInAConverter.s_lookupCellValueType.set(6,f.XValueType.QUANTITY);f.QInAConverter.s_lookupCellValueType.set(7,f.XValueType.PRICE);f.QInAConverter.s_lookupCellValueType.set(8,f.XValueType.DIMENSION_MEMBER);f.QInAConverter.s_lookupCellValueType.set(9,f.XValueType.INTEGER);f.QInAConverter.s_lookupCellValueType.set(10,f.XValueType.DECIMAL_FLOAT);f.QInAConverter.s_lookupCellValueType.set(11,f.XValueType.DATE_TIME);f.QInAConverter.s_lookupCellValueType.set(12,f.XValueType.DATE_TIME);f.QInAConverter.s_lookupCellValueType.set(13,f.XValueType.BOOLEAN);f.QInAConverter.s_lookupCellValueType.set(14,f.XValueType.POLYGON);},setupWindowFunctionTypeMapping:function(){f.QInAConverter.s_lookupWindowFunctionType=f.XHashMapByString.create();f.QInAConverter.s_lookupWindowFunctionTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapWindowFunctionType("SUM",f.WindowFunctionType.SUM);f.QInAConverter.mapWindowFunctionType("AVG",f.WindowFunctionType.AVERAGE);f.QInAConverter.mapWindowFunctionType("COUNT",f.WindowFunctionType.COUNT);f.QInAConverter.mapWindowFunctionType("MAX",f.WindowFunctionType.MAX);f.QInAConverter.mapWindowFunctionType("MIN",f.WindowFunctionType.MIN);},setupCtErrorHandlingMode:function(){f.QInAConverter.s_lookupCtErrorHandlingMode=f.XHashMapByString.create();f.QInAConverter.s_lookupCtErrorHandlingModeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapCtErrorHandlingMode("set to null",f.CtErrorHandlingMode.SET_TO_NULL);f.QInAConverter.mapCtErrorHandlingMode("keep unconverted",f.CtErrorHandlingMode.KEEP_UNCONVERTED);f.QInAConverter.mapCtErrorHandlingMode("fail on error",f.CtErrorHandlingMode.FAIL_ON_ERROR);},setupRateType:function(){f.QInAConverter.s_lookupRateType=f.XHashMapByString.create();f.QInAConverter.s_lookupRateTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapRateType("",f.CtRateType.DEFAULT);f.QInAConverter.mapRateType("Average",f.CtRateType.AVERAGE);f.QInAConverter.mapRateType("Closing",f.CtRateType.CLOSING);},setupCategory:function(){f.QInAConverter.s_lookupCategory=f.XHashMapByString.create();f.QInAConverter.s_lookupCategoryIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapCategory("Actuals",f.CtCategory.ACTUALS);f.QInAConverter.mapCategory("Budget",f.CtCategory.BUDGET);f.QInAConverter.mapCategory("Planning",f.CtCategory.PLANNING);f.QInAConverter.mapCategory("Forecast",f.CtCategory.FORECAST);f.QInAConverter.mapCategory("Rolling Forecast",f.CtCategory.ROLLING_FORECAST);},setupProviderType:function(){f.QInAConverter.s_lookupProviderType=f.XHashMapByString.create();f.QInAConverter.s_lookupProviderTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.s_lookupProviderTypeFallbackIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapProviderType(f.ServerService.CATALOG,f.ServerService.ANALYTIC,f.ProviderType.CATALOG);f.QInAConverter.mapProviderType(f.ServerService.VALUE_HELP,f.ServerService.ANALYTIC,f.ProviderType.ANALYTICS_VALUE_HELP);f.QInAConverter.mapProviderType(f.ServerService.LIST_REPORTING,null,f.ProviderType.LIST_REPORTING);f.QInAConverter.mapProviderType(f.ServerService.ANALYTIC,f.ServerService.ANALYTIC,f.ProviderType.ANALYTICS);f.QInAConverter.mapProviderType(f.ServerService.DIMENSION_EXTENSION,null,f.ProviderType.DIMENSION_EXTENSION);f.QInAConverter.mapProviderType(f.ServerService.PLANNING,f.ServerService.ANALYTIC,f.ProviderType.PLANNING_COMMAND);f.QInAConverter.mapProviderType(f.ServerService.PLANNING,f.ServerService.ANALYTIC,f.ProviderType.PLANNING_VALUE_HELP);},setupInfoObjectType:function(){f.QInAConverter.s_lookupInfoObjectType=f.XHashMapByString.create();f.QInAConverter.s_lookupInfoObjectTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapInfoObjectType("CHA",f.InfoObjectType.CHA);f.QInAConverter.mapInfoObjectType("KYF",f.InfoObjectType.KYF);f.QInAConverter.mapInfoObjectType("TIM",f.InfoObjectType.TIM);f.QInAConverter.mapInfoObjectType("UNI",f.InfoObjectType.UNI);f.QInAConverter.mapInfoObjectType("DPA",f.InfoObjectType.DPA);f.QInAConverter.mapInfoObjectType("ATR",f.InfoObjectType.ATR);f.QInAConverter.mapInfoObjectType("MTA",f.InfoObjectType.MTA);f.QInAConverter.mapInfoObjectType("XXL",f.InfoObjectType.XXL);f.QInAConverter.mapInfoObjectType("ALL",f.InfoObjectType.ALL);},setupResultCalculation:function(){f.QInAConverter.s_lookupResultCalculation=f.XHashMapByString.create();f.QInAConverter.s_lookupResultCalculation.put("00",f.ResultCalculation.NOT_DEFINED);f.QInAConverter.s_lookupResultCalculation.put("01",f.ResultCalculation.SUM);f.QInAConverter.s_lookupResultCalculation.put("02",f.ResultCalculation.MAXIMUM);f.QInAConverter.s_lookupResultCalculation.put("03",f.ResultCalculation.MINIMUM);f.QInAConverter.s_lookupResultCalculation.put("04",f.ResultCalculation.COUNTER_FOR_ALL_DETAILED_VALUES);f.QInAConverter.s_lookupResultCalculation.put("05",f.ResultCalculation.COUNTER_FOR_ALL_DETAILED_VALUES_NZ_NULL_ERROR);f.QInAConverter.s_lookupResultCalculation.put("06",f.ResultCalculation.AVERAGE);f.QInAConverter.s_lookupResultCalculation.put("07",f.ResultCalculation.AVERAGE_DETAILED_VALUES_NOT_ZERO_NULL_ERROR);f.QInAConverter.s_lookupResultCalculation.put("08",f.ResultCalculation.STANDARD_DEVIATION);f.QInAConverter.s_lookupResultCalculation.put("09",f.ResultCalculation.VARIANCE);f.QInAConverter.s_lookupResultCalculation.put("11",f.ResultCalculation.FIRST_VALUE);f.QInAConverter.s_lookupResultCalculation.put("12",f.ResultCalculation.LAST_VALUE);f.QInAConverter.s_lookupResultCalculation.put("13",f.ResultCalculation.SUMMATION_OF_ROUNDED_VALUES);f.QInAConverter.s_lookupResultCalculation.put("14",f.ResultCalculation.HIDE);},setupValueDomain:function(){f.QInAConverter.s_lookupProcessingType=f.XHashMapByString.create();f.QInAConverter.s_lookupProcessingTypeIna=f.XHashMapOfStringByString.create();f.QInAConverter.mapValueDomain("CurrencyConversion",f.ProcessingType.CURRENCY_CONVERSION);},mapConstant:function(m,a,b,i){m.put(i,b);a.put(b.getName(),i);},mapValueType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupValueType,f.QInAConverter.s_lookupValueTypeIna,a,i);f.QInAConverter.s_lookupValueType.put(f.XString.toUpperCase(i),a);},mapAggregationType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupAggregationType,f.QInAConverter.s_lookupAggregationTypeIna,a,i);},mapComponentType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupComponentType,f.QInAConverter.s_lookupComponentTypeIna,a,i);},mapSortType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupSortType,f.QInAConverter.s_lookupSortTypeIna,a,i);},mapComparison:function(i,a){f.QInAConverter.s_lookupComparison.put(i,a);if(!f.QInAConverter.s_lookupComparisonIna.containsKey(a.getName())){f.QInAConverter.s_lookupComparisonIna.put(a.getName(),i);}},mapPresentationType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupPresentationType,f.QInAConverter.s_lookupPresentationTypeIna,a,i);},mapInfoObjectType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupInfoObjectType,f.QInAConverter.s_lookupInfoObjectTypeIna,a,i);},mapVisibilityType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupVisibilityType,f.QInAConverter.s_lookupVisibilityTypeIna,a,i);},mapReadMode:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupReadMode,f.QInAConverter.s_lookupReadModeIna,a,i);},mapWindowFunctionType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupWindowFunctionType,f.QInAConverter.s_lookupWindowFunctionTypeIna,a,i);},mapCtErrorHandlingMode:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupCtErrorHandlingMode,f.QInAConverter.s_lookupCtErrorHandlingModeIna,a,i);},mapRateType:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupRateType,f.QInAConverter.s_lookupRateTypeIna,a,i);},mapCategory:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupCategory,f.QInAConverter.s_lookupCategoryIna,a,i);},mapProviderType:function(i,a,b){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupProviderType,f.QInAConverter.s_lookupProviderTypeIna,b,i);f.QInAConverter.s_lookupProviderTypeFallbackIna.put(b.getName(),a);},mapValueDomain:function(i,a){f.QInAConverter.mapConstant(f.QInAConverter.s_lookupProcessingType,f.QInAConverter.s_lookupProcessingTypeIna,a,i);},lookupInAString:function(m,a){return f.isNull(a)?null:m.getByKey(a.getName());},lookupContextNameForProvider:function(a){var i;if(a===f.ProviderType.PLANNING||a===f.ProviderType.PLANNING_VALUE_HELP){i="Planning";}else if(a===f.ProviderType.LIST_REPORTING){i="ListReporting";}else{i="Analytics";}return i;},lookupServiceNameForProvider:function(a){return f.QInAConverter.s_lookupProviderTypeIna.getByKey(a.getName());},lookupFallbackServiceNameForProvider:function(a){var i=null;if(a===f.ProviderType.ANALYTICS||a===f.ProviderType.ANALYTICS_VALUE_HELP||a===f.ProviderType.PLANNING||a===f.ProviderType.CATALOG){i=f.ServerService.ANALYTIC;}return i;},lookupMeasureStructureMemberTypeIna:function(a){var i=null;if(f.notNull(a)){if(a===f.MemberType.RESTRICTED_MEASURE){i="SelectionMeasure";}else if(a===f.MemberType.FORMULA){i="FormulaMeasure";}else if(a===f.MemberType.VARIANCE){i="VarianceMeasure";}else if(a===f.MemberType.EXCEPTION_AGGREGATION){i="ExceptionAggregationMeasure";}else if(a===f.MemberType.CURRENCY_MEASURE){i="CurrencyMeasure";}else{i="Measure";}}return i;},lookupMeasureStructureMemberTypeInaForUniversalModels:function(a){var i;if(f.isNull(a)){i=-1;}else if(a===f.MemberType.FORMULA){i=0;}else if(a===f.MemberType.RESTRICTED_MEASURE){i=1;}else{i=2;}return i;},lookupAggregationTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupAggregationTypeIna,a);},lookupAggregationType:function(i){return f.QInAConverter.s_lookupAggregationType.getByKey(i);},lookupAggregationType2:function(i){switch(i){case 1:return f.AggregationType.SUM;case 2:return f.AggregationType.COUNT;case 3:return f.AggregationType.MIN;case 4:return f.AggregationType.MAX;case 5:return f.AggregationType.AVERAGE;case 6:return f.AggregationType.COUNT_DISTINCT;case 7:return f.AggregationType.LAST;case 8:return f.AggregationType.FIRST;case 9:return f.AggregationType.VARIANCE;case 10:return f.AggregationType.STANDARD_DEVIATION;case 11:return f.AggregationType.NOP_NULL;case 12:return f.AggregationType.NOP_NULL_ZERO;default:return null;}},lookupComparisonInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupComparisonIna,a);},lookupComparison:function(i){return f.QInAConverter.s_lookupComparison.getByKey(i);},lookupConstantWithDefault:function(m,k,d){var a=m.getByKey(k);return f.isNull(a)?d:a;},lookupPresentationType:function(i){return f.QInAConverter.lookupConstantWithDefault(f.QInAConverter.s_lookupPresentationType,i,f.PresentationType.VALUE);},lookupPresentationTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupPresentationTypeIna,a);},lookupInfoObjectType:function(i){return f.QInAConverter.s_lookupInfoObjectType.getByKey(i);},lookupInfoObjectTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupInfoObjectTypeIna,a);},lookupVisibilityType:function(i){return f.QInAConverter.s_lookupVisibilityType.getByKey(i);},lookupVisibilityTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupVisibilityTypeIna,a);},lookupSortDirectionInA:function(a){var i;if(a===f.XSortDirection.ASCENDING){i=1;}else if(a===f.XSortDirection.DESCENDING){i=2;}else if(a===f.XSortDirection.NONE){i=3;}else{i=0;}return i;},lookupSortDirectionInA2:function(a){var i;if(a===f.XSortDirection.ASCENDING){i="Asc";}else if(a===f.XSortDirection.DESCENDING){i="Desc";}else{i="None";}return i;},lookupSortDirection:function(i){switch(i){case 1:return f.XSortDirection.ASCENDING;case 2:return f.XSortDirection.DESCENDING;case 3:return f.XSortDirection.NONE;default:return f.XSortDirection.DEFAULT_VALUE;}},lookupSortDirection2:function(i){if(f.XString.isEqual("Asc",i)){return f.XSortDirection.ASCENDING;}else if(f.XString.isEqual("Desc",i)){return f.XSortDirection.DESCENDING;}else{return f.XSortDirection.NONE;}},lookupDimensionType:function(i){if(i===-2){return f.DimensionType.CALCULATED_DIMENSION;}else if(i===-3){return f.DimensionType.FORMULA_CALCULATED_DIMENSION;}else if(i<1||i===3){return f.DimensionType.DIMENSION;}else if(i>12){throw f.XException.createIllegalStateException("Unknown dimension type");}else{return f.QInAConverter.s_lookupDimensionTypeInt.get(i);}},indexOf:function(a,b){var s=a.size();for(var i=1;i<s;i++){if(a.get(i)===b){return i;}}return-1;},lookupDimensionTypeInA:function(a){var i;if(a===f.DimensionType.CALCULATED_DIMENSION){i=-2;}else if(a.isTypeOf(f.DimensionType.FORMULA_CALCULATED_DIMENSION)){i=-3;}else{i=f.QInAConverter.indexOf(f.QInAConverter.s_lookupDimensionTypeInt,a);if(i===-1){throw f.XException.createIllegalStateException("Unknown dimension type");}}return i;},lookupValidOrDefault:function(a,m,d,c){return a<0||a>m?d:c.get(a);},lookupResultSetState:function(i){return f.QInAConverter.lookupValidOrDefault(i,6,f.ResultSetState.ERROR,f.QInAConverter.s_lookupResultsetState);},lookupReadModeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupReadModeIna,a);},lookupReadMode:function(i){return f.QInAConverter.s_lookupReadMode.getByKey(i);},lookupDrillState:function(i,c){switch(i){case 2:return f.DrillState.COLLAPSED;case 3:return f.DrillState.EXPANDED;case 1:return f.DrillState.LEAF;case 4:return c?f.DrillState.EXPANDED:f.DrillState.DRILLED;case 100:return c?f.DrillState.EXPANDED:f.DrillState.LEAF_DRILLDOWN_ALLOWED;case 101:return c?f.DrillState.EXPANDED:f.DrillState.LEAF_UDH_EXPAND_ALLOWED;case 102:return c?f.DrillState.LEAF:f.DrillState.LEAF_UDH;case 103:return c?f.DrillState.COLLAPSED:f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED;default:return null;}},lookupDrillStateOp:function(i){if(f.isNull(i)){return null;}switch(i){case"Collapsed":return f.DrillState.COLLAPSED;case"Expanded":return f.DrillState.EXPANDED;case"Drilled":return f.DrillState.DRILLED;default:return null;}},lookupDrillStateInA:function(a){var i=null;if(a===f.DrillState.COLLAPSED){i="Collapsed";}else if(a===f.DrillState.EXPANDED){i="Expanded";}else if(a===f.DrillState.DRILLED){i="Drilled";}return i;},lookupEncoding:function(i){return f.QInAConverter.s_lookupEncoding.getByKey(i);},lookupHierarchyLevelTypeIna:function(a){var i;if(a===f.HierarchyLevelType.ALL){i=1;}else if(a===f.HierarchyLevelType.TIME_YEAR){i=20;}else if(a===f.HierarchyLevelType.TIME_HALF_YEAR){i=36;}else if(a===f.HierarchyLevelType.TIME_QUARTER){i=68;}else if(a===f.HierarchyLevelType.TIME_MONTH){i=132;}else if(a===f.HierarchyLevelType.TIME_WEEK){i=260;}else if(a===f.HierarchyLevelType.TIME_DAY){i=516;}else if(a===f.HierarchyLevelType.TIME_HOUR){i=772;}else if(a===f.HierarchyLevelType.TIME_MINUTE){i=1028;}else if(a===f.HierarchyLevelType.TIME_SECOND){i=2052;}else{i=0;}return i;},lookupHierarchyLevelType:function(i){switch(i){case 1:return f.HierarchyLevelType.ALL;case 20:return f.HierarchyLevelType.TIME_YEAR;case 36:return f.HierarchyLevelType.TIME_HALF_YEAR;case 68:return f.HierarchyLevelType.TIME_QUARTER;case 132:return f.HierarchyLevelType.TIME_MONTH;case 260:return f.HierarchyLevelType.TIME_WEEK;case 516:return f.HierarchyLevelType.TIME_DAY;case 772:return f.HierarchyLevelType.TIME_HOUR;case 1028:return f.HierarchyLevelType.TIME_MINUTE;case 2052:return f.HierarchyLevelType.TIME_SECOND;default:return f.HierarchyLevelType.REGULAR;}},lookupException:function(i){return f.QInAConverter.lookupValidOrDefault(i,10,f.ValueException.ERROR,f.QInAConverter.s_lookupValueException);},lookupSingleValueCalculation:function(i){return f.QInAConverter.s_lookupSingleValueCalculation.getByKey(i);},lookupResultCalculation:function(i){return f.QInAConverter.s_lookupResultCalculation.getByKey(i);},lookupMemberType:function(i){switch(i){case 1:return f.MemberType.RESULT;case 2:return f.MemberType.CONDITION_RESULT;case 3:return f.MemberType.CONDITION_OTHERS_RESULT;default:return f.MemberType.MEMBER;}},lookupMeasureStructureMemberType:function(i){if(f.isNull(i)){return null;}switch(i){case"Measure":return f.MemberType.MEASURE;case"SelectionMeasure":return f.MemberType.RESTRICTED_MEASURE;case"FormulaMeasure":return f.MemberType.FORMULA;case"VarianceMeasure":return f.MemberType.VARIANCE;case"ExceptionAggregationMeasure":return f.MemberType.EXCEPTION_AGGREGATION;case"CurrencyMeasure":return f.MemberType.CURRENCY_MEASURE;default:return null;}},lookupValueTypeByInt:function(i){return f.QInAConverter.lookupValidOrDefault(i,14,f.XValueType.DOUBLE,f.QInAConverter.s_lookupCellValueType);},lookupIntByValueType:function(a){var i=f.QInAConverter.indexOf(f.QInAConverter.s_lookupCellValueType,a);return i===-1?0:i;},lookupValueTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupValueTypeIna,a);},lookupValueType:function(i){return f.QInAConverter.lookupConstantWithDefault(f.QInAConverter.s_lookupValueType,i,f.XValueType.UNSUPPORTED);},lookupAlignment:function(i){if(f.isNull(i)){return f.ResultAlignment.NONE;}else{switch(i){case"Top":return f.ResultAlignment.TOP;case"Bottom":return f.ResultAlignment.BOTTOM;case"TopBottom":return f.ResultAlignment.TOPBOTTOM;case"Structure":return f.ResultAlignment.STRUCTURE;default:return f.ResultAlignment.NONE;}}},lookupAlignmentInA:function(a){var i="None";if(a===f.ResultAlignment.TOP){i="Top";}else if(a===f.ResultAlignment.BOTTOM){i="Bottom";}else if(a===f.ResultAlignment.TOPBOTTOM){i="TopBottom";}else if(a===f.ResultAlignment.STRUCTURE){i="Structure";}return i;},lookupReordering:function(i){if(f.isNull(i)){return f.ReorderingCapability.NONE;}else{switch(i){case"Full":return f.ReorderingCapability.FULL;case"Restricted":return f.ReorderingCapability.RESTRICTED;default:return f.ReorderingCapability.NONE;}}},lookupReorderingInA:function(a){var i="None";if(a===f.ReorderingCapability.FULL){i="Full";}else if(a===f.ReorderingCapability.RESTRICTED){i="Restricted";}return i;},lookupAxisType:function(i){return f.QInAConverter.lookupConstantWithDefault(f.QInAConverter.s_lookupAxisType,i,f.AxisType.FREE);},lookupAxisTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupAxisTypeIna,a);},lookupAxisTypeInt:function(i){switch(i){case 1:return f.AxisType.ROWS;case 2:return f.AxisType.COLUMNS;default:return f.AxisType.FREE;}},lookupAxisTypeInAInt:function(a){var i=0;if(a===f.AxisType.ROWS){i=1;}else if(a===f.AxisType.COLUMNS){i=2;}else if(a===f.AxisType.FREE){i=3;}return i;},lookupSuppressionType:function(i){switch(i){case 1:return f.ZeroSuppressionType.TOTAL_IS_ZERO;case 2:return f.ZeroSuppressionType.ALL_CELLS_ARE_ZERO;case 3:return f.ZeroSuppressionType.ALL_CELLS_ARE_NULL;default:return f.ZeroSuppressionType.NONE;}},lookupSuppressionTypeInA:function(a){var i=0;if(a===f.ZeroSuppressionType.TOTAL_IS_ZERO){i=1;}else if(a===f.ZeroSuppressionType.ALL_CELLS_ARE_ZERO){i=2;}else if(a===f.ZeroSuppressionType.ALL_CELLS_ARE_NULL){i=3;}return i;},lookupFieldLayoutType:function(i){if(f.isNull(i)){return f.FieldLayoutType.FIELD_BASED;}else{switch(i){case"AttributeBased":return f.FieldLayoutType.ATTRIBUTE_BASED;case"AttributesAndPresentations":return f.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS;default:return f.FieldLayoutType.FIELD_BASED;}}},lookupFieldLayoutTypeInA:function(a){var i="FieldBased";if(a===f.FieldLayoutType.ATTRIBUTE_BASED){i="AttributeBased";}else if(a===f.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS){i="AttributesAndPresentations";}return i;},lookupLowerLevelNodeAlignment:function(i){if(f.isNull(i)){return f.Alignment.DEFAULT_VALUE;}else{switch(i){case"Above":return f.Alignment.CHILDREN_ABOVE_PARENT;case"Below":return f.Alignment.CHILDREN_BELOW_PARENT;default:return f.Alignment.DEFAULT_VALUE;}}},lookupLowerLevelNodeAlignmentInA:function(a){var i="Default";if(a===f.Alignment.CHILDREN_ABOVE_PARENT){i="Above";}else if(a===f.Alignment.CHILDREN_BELOW_PARENT){i="Below";}return i;},lookupLowerLevelNodeAlignmentInA2:function(a){var i="Default";if(a===f.Alignment.CHILDREN_ABOVE_PARENT){i="Below";}else if(a===f.Alignment.CHILDREN_BELOW_PARENT){i="Above";}return i;},lookupResultSetVisibility:function(i){if(f.isNull(i)){return f.ResultVisibility.HIDDEN;}else{switch(i){case"Visible":return f.ResultVisibility.VISIBLE;case"Conditional":return f.ResultVisibility.CONDITIONAL;case"Always":return f.ResultVisibility.ALWAYS;case"HiddenDescSelfAfter":return f.ResultVisibility.HIDDEN_DESCENDANTS_SELF_AFTER;default:return f.ResultVisibility.HIDDEN;}}},lookupResultSetVisibilityInA:function(a){var i="Hidden";if(a===f.ResultVisibility.VISIBLE){i="Visible";}else if(a===f.ResultVisibility.CONDITIONAL){i="Conditional";}else if(a===f.ResultVisibility.ALWAYS){i="Always";}else if(a===f.ResultVisibility.HIDDEN_DESCENDANTS_SELF_AFTER){i="HiddenDescSelfAfter";}return i;},lookupAlertLevel:function(i){return f.QInAConverter.lookupValidOrDefault(i,9,null,f.QInAConverter.s_lookupAlertLevelInt);},lookupOperatorInA:function(a){var i=null;if(f.notNull(a)){i=a===f.ComparisonOperator.EQUAL?"=":a.getDisplayString();}return i;},lookupSortType:function(i){return f.QInAConverter.s_lookupSortType.getByKey(i);},lookupSortTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupSortTypeIna,a);},lookupMemberNavigationTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupMemberNavigationTypeIna,a);},lookupConfigLevel:function(i){if(f.isNull(i)){return f.QModelLevel.NONE;}else{switch(i){case"Query":return f.QModelLevel.QUERY;case"Axis":return f.QModelLevel.AXES;case"Dimension":return f.QModelLevel.DIMENSIONS;default:return f.QModelLevel.NONE;}}},lookupConfigLevelInA:function(a){var i="None";if(a===f.QModelLevel.QUERY){i="Query";}else if(a===f.QModelLevel.AXES){i="Axis";}else if(a===f.QModelLevel.DIMENSIONS){i="Dimension";}return i;},lookupRsSetSign:function(i){if(f.isNull(i)){return null;}switch(i){case"I":return f.SetSign.INCLUDING;case"E":return f.SetSign.EXCLUDING;}return null;},lookupComparisonGroup:function(i){if(f.isNull(i)){return null;}switch(i){case"SingleValue":return f.QSetSignComparisonOperatorGroup.SINGLE_VALUE;case"Interval":return f.QSetSignComparisonOperatorGroup.INTERVAL;case"Range":return f.QSetSignComparisonOperatorGroup.RANGE;default:return null;}},lookupComparisonGroupInA:function(a){var i=null;if(f.notNull(a)){if(a.isTypeOf(f.QSetSignComparisonOperatorGroup.INTERVAL)){i="Interval";}else if(a.isTypeOf(f.QSetSignComparisonOperatorGroup.RANGE)){i="Range";}else if(a.isTypeOf(f.QSetSignComparisonOperatorGroup.SINGLE_VALUE)){i="SingleValue";}}return i;},switchComparisonGroupToIncludeOnly:function(a){if(a===f.QSetSignComparisonOperatorGroup.INTERVAL){return f.QSetSignComparisonOperatorGroup.INTERVAL_INCLUDE_ONLY;}else if(a===f.QSetSignComparisonOperatorGroup.RANGE){return f.QSetSignComparisonOperatorGroup.RANGE_INCLUDE_ONLY;}else if(a===f.QSetSignComparisonOperatorGroup.SINGLE_VALUE){return f.QSetSignComparisonOperatorGroup.SINGLE_VALUE_INCLUDE_ONLY;}else{return a;}},lookupComponentTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupComponentTypeIna,a);},lookupComponentType:function(i){return f.QInAConverter.s_lookupComponentType.getByKey(i);},lookupResultStructureElementInA:function(a){var i=null;if(a===f.ResultStructureElement.MEMBERS){i="Members";}else if(a===f.ResultStructureElement.TOTAL){i="Total";}else if(a===f.ResultStructureElement.TOTAL_INCLUDED_MEMBERS){i="TotalIncludedMembers";}else if(a===f.ResultStructureElement.TOTAL_REMAINING_MEMBERS){i="TotalRemainingMembers";}return i;},lookupResultStructureElement:function(i){if(f.isNull(i)){return null;}else{switch(i){case"Members":return f.ResultStructureElement.MEMBERS;case"Total":return f.ResultStructureElement.TOTAL;case"TotalIncludedMembers":return f.ResultStructureElement.TOTAL_INCLUDED_MEMBERS;case"TotalRemainingMembers":return f.ResultStructureElement.TOTAL_REMAINING_MEMBERS;default:return null;}}},lookupTextTransformationInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_textTransformationIna,a);},lookupTextTransformation:function(i){return f.QInAConverter.s_textTransformation.getByKey(i);},lookupWindowFunctionTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupWindowFunctionTypeIna,a);},lookupWindowFunctionType:function(i){return f.QInAConverter.s_lookupWindowFunctionType.getByKey(i);},lookupUnitTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupUnitTypeIna,a);},lookupUnitType:function(i){return f.QInAConverter.s_lookupUnitType.getByKey(i);},lookupNullsTypeInA:function(a){var i=null;if(a===f.NullsType.FIRST){i="FIRST";}else if(a===f.NullsType.LAST){i="LAST";}return i;},lookupNullsType:function(i){if(f.isNull(i)){return null;}else{switch(i){case"FIRST":return f.NullsType.FIRST;case"LAST":return f.NullsType.LAST;default:return f.NullsType.NONE;}}},lookupFrameStartTypeInA:function(a){var i="UNBOUNDED PRECEDING";if(a===f.FrameStartType.CURRENT_ROW){i="CURRENT ROW";}else if(a===f.FrameStartType.PRECEDING){i="PRECEDING";}return i;},lookupFrameStartType:function(i){if(f.isNull(i)){return f.FrameStartType.UNBOUNDED_PRECEDING;}else{switch(i){case"CURRENT ROW":return f.FrameStartType.CURRENT_ROW;case"PRECEDING":return f.FrameStartType.PRECEDING;default:return f.FrameStartType.UNBOUNDED_PRECEDING;}}},lookupFrameEndTypeInA:function(a){var i="CURRENT ROW";if(a===f.FrameEndType.UNBOUNDED_FOLLOWING){i="UNBOUNDED FOLLOWING";}else if(a===f.FrameEndType.FOLLOWING){i="FOLLOWING";}return i;},lookupFrameEndType:function(i){if(f.isNull(i)){return f.FrameEndType.CURRENT_ROW;}else{switch(i){case"UNBOUNDED FOLLOWING":return f.FrameEndType.UNBOUNDED_FOLLOWING;case"FOLLOWING":return f.FrameEndType.FOLLOWING;default:return f.FrameEndType.CURRENT_ROW;}}},lookupByEncodedValue:function(i){switch(i){case 2:return f.UnitType.UNIT;case 1:return f.UnitType.CURRENCY;case 0:return f.UnitType.NONE;case-1:return f.UnitType.MIXED;case-2:return f.UnitType.UNDEFINED;case-3:return f.UnitType.NULL_VALUE;default:return f.UnitType.CONVERSION_FAILED;}},lookupRateType:function(i){return f.QInAConverter.s_lookupRateType.getByKey(i);},lookupRateTypeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupRateTypeIna,a);},lookupCategory:function(i){return f.QInAConverter.s_lookupCategory.getByKey(i);},lookupCategoryInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupCategoryIna,a);},lookupCtErrorHandlingMode:function(i){return f.QInAConverter.s_lookupCtErrorHandlingMode.getByKey(i);},lookupCtErrorHandlingModeInA:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupCtErrorHandlingModeIna,a);},lookupProcessingType:function(i){return f.QInAConverter.s_lookupProcessingType.getByKey(i);},lookupProcessingTypeIna:function(a){return f.QInAConverter.lookupInAString(f.QInAConverter.s_lookupProcessingTypeIna,a);}};f.QRriTarget=function(){};f.QRriTarget.prototype=new f.XObject();f.QRriTarget.prototype._ff_c="QRriTarget";f.QRriTarget.create=function(){var t=new f.QRriTarget();t.m_parameters=f.XHashMapOfStringByString.create();t.m_customProperties=f.XHashMapOfStringByString.create();return t;};f.QRriTarget.prototype.m_parameters=null;f.QRriTarget.prototype.m_customProperties=null;f.QRriTarget.prototype.releaseObject=function(){this.m_parameters=f.XObjectExt.release(this.m_parameters);this.m_customProperties=f.XObjectExt.release(this.m_customProperties);f.XObject.prototype.releaseObject.call(this);};f.QRriTarget.prototype.getParameters=function(){return this.m_parameters;};f.QRriTarget.prototype.getCustomProperties=function(){return this.m_customProperties;};f.QRriTarget.prototype.getDataSource=function(){var r=this.m_parameters.getByKey("ReceiverApplicationType");if(!f.XString.isEqual(r,"QURY")){return null;}var q=this.m_customProperties.getByKey("QUERY");if(f.XStringUtils.isNullOrEmpty(q)){return null;}var a=this.m_customProperties.getByKey("RRI_PARAMETER_NAME");if(f.XStringUtils.isNullOrEmpty(a)){return null;}var b=this.m_customProperties.getByKey("RRI_PARAMETER_VALUE");if(f.XStringUtils.isNullOrEmpty(b)){return null;}var d=f.QFactory.createDataSourceWithType(f.MetaObjectType.QUERY,q);d.setRriName(a);d.setRriValue(b);return d;};f.QRriTarget.prototype.canBeExecutedLocally=function(){if(this.m_parameters.containsKey("LogicalDestination")){var l=this.m_parameters.getByKey("LogicalDestination");if(f.XStringUtils.isNullOrEmpty(l)){return true;}return f.XString.isEqual(l,"*");}return false;};f.QRriTargetCallbackIdentifier=function(){};f.QRriTargetCallbackIdentifier.prototype=new f.XObject();f.QRriTargetCallbackIdentifier.prototype._ff_c="QRriTargetCallbackIdentifier";f.QRriTargetCallbackIdentifier.create=function(m,r,c,l,a){var n=new f.QRriTargetCallbackIdentifier();n.m_manager=m;n.m_row=r;n.m_column=c;n.m_listener=l;n.m_customIdentifier=a;return n;};f.QRriTargetCallbackIdentifier.prototype.m_manager=null;f.QRriTargetCallbackIdentifier.prototype.m_row=0;f.QRriTargetCallbackIdentifier.prototype.m_column=0;f.QRriTargetCallbackIdentifier.prototype.m_listener=null;f.QRriTargetCallbackIdentifier.prototype.m_customIdentifier=null;f.QRriTargetCallbackIdentifier.prototype.getManager=function(){return this.m_manager;};f.QRriTargetCallbackIdentifier.prototype.getRow=function(){return this.m_row;};f.QRriTargetCallbackIdentifier.prototype.getColumn=function(){return this.m_column;};f.QRriTargetCallbackIdentifier.prototype.getListener=function(){return this.m_listener;};f.QRriTargetCallbackIdentifier.prototype.getCustomIdentifier=function(){return this.m_customIdentifier;};f.QRriTargetManager=function(){};f.QRriTargetManager.prototype=new f.XObject();f.QRriTargetManager.prototype._ff_c="QRriTargetManager";f.QRriTargetManager.create=function(q){var r=new f.QRriTargetManager();r.setupInstance(q);return r;};f.QRriTargetManager.prototype.m_resultSetRow=0;f.QRriTargetManager.prototype.m_resultSetColumn=0;f.QRriTargetManager.prototype.m_queryManager=null;f.QRriTargetManager.prototype.m_extResult=null;f.QRriTargetManager.prototype.setupInstance=function(q){this.m_queryManager=f.XWeakReferenceUtil.getWeakRef(q);};f.QRriTargetManager.prototype.releaseObject=function(){this.m_queryManager=f.XObjectExt.release(this.m_queryManager);this.m_extResult=null;f.XObject.prototype.releaseObject.call(this);};f.QRriTargetManager.prototype.setResult=function(e,i){this.m_extResult=e;if(i.getListener()!==null){var r=null;if(e.isValid()){r=e.getData();}i.getListener().onRriTargetResolution(e,r,i.getCustomIdentifier());}};f.QRriTargetManager.prototype.setResultSetContext=function(r,a){this.m_resultSetRow=r;this.m_resultSetColumn=a;};f.QRriTargetManager.prototype.getResultSetRow=function(){return this.m_resultSetRow;};f.QRriTargetManager.prototype.getResultSetColumn=function(){return this.m_resultSetColumn;};f.QRriTargetManager.prototype.processRriTargetResolution=function(s,l,c){var i=f.QRriTargetCallbackIdentifier.create(this,this.m_resultSetRow,this.m_resultSetColumn,l,c);this.m_extResult=null;var q=f.XWeakReferenceUtil.getHardRef(this.m_queryManager);q.processRriTargetSync(s,i);var r=this.m_extResult;this.m_extResult=null;return r;};f.ClusteringDbScan=function(){};f.ClusteringDbScan.prototype=new f.AbstractSpatialClustering();f.ClusteringDbScan.prototype._ff_c="ClusteringDbScan";f.ClusteringDbScan.create=function(s){var d=new f.ClusteringDbScan();d.setupDbScan(s);return d;};f.ClusteringDbScan.prototype.m_eps=null;f.ClusteringDbScan.prototype.m_minPoints=null;f.ClusteringDbScan.prototype.setupDbScan=function(s){f.AbstractSpatialClustering.prototype.setupSpatialClustering.call(this,s);this.m_eps=f.XDoubleValue.create(0);this.m_minPoints=f.XIntegerValue.create(0);this.m_parameters.put("EPS",this.m_eps);this.m_parameters.put("MinPoints",this.m_minPoints);};f.ClusteringDbScan.prototype.cloneExt=function(a){var c=f.ClusteringDbScan.create(null);this.cloneClustering(c);c.setEps(this.getEps());c.setMinPoints(this.getMinPoints());return c;};f.ClusteringDbScan.prototype.releaseObject=function(){this.m_eps=f.XObjectExt.release(this.m_eps);this.m_minPoints=f.XObjectExt.release(this.m_minPoints);f.AbstractSpatialClustering.prototype.releaseObject.call(this);};f.ClusteringDbScan.prototype.getEps=function(){return this.m_eps.getDouble();};f.ClusteringDbScan.prototype.setEps=function(e){this.m_eps.setDouble(e);};f.ClusteringDbScan.prototype.getMinPoints=function(){return this.m_minPoints.getInteger();};f.ClusteringDbScan.prototype.setMinPoints=function(m){this.m_minPoints.setInteger(m);};f.ClusteringDbScan.prototype.getClusterAlgorithm=function(){return f.ClusterAlgorithm.DB_SCAN;};f.ClusteringGrid=function(){};f.ClusteringGrid.prototype=new f.AbstractSpatialClustering();f.ClusteringGrid.prototype._ff_c="ClusteringGrid";f.ClusteringGrid.create=function(s){var g=new f.ClusteringGrid();g.setupGrid(s);return g;};f.ClusteringGrid.prototype.m_lowerBoundX=null;f.ClusteringGrid.prototype.m_upperBoundX=null;f.ClusteringGrid.prototype.m_lowerBoundY=null;f.ClusteringGrid.prototype.m_upperBoundY=null;f.ClusteringGrid.prototype.m_cellsX=null;f.ClusteringGrid.prototype.m_cellsY=null;f.ClusteringGrid.prototype.setupGrid=function(s){f.AbstractSpatialClustering.prototype.setupSpatialClustering.call(this,s);this.m_cellsX=f.XIntegerValue.create(0);this.m_cellsY=f.XIntegerValue.create(0);this.m_parameters.put("XCells",this.m_cellsX);this.m_parameters.put("YCells",this.m_cellsY);};f.ClusteringGrid.prototype.cloneExt=function(a){var c=f.ClusteringGrid.create(null);this.cloneClustering(c);c.setCellsX(this.getCellsX());c.setCellsY(this.getCellsY());if(f.notNull(this.m_lowerBoundX)){c.setLowerBoundX(this.getLowerBoundX());}if(f.notNull(this.m_upperBoundX)){c.setUpperBoundX(this.getUpperBoundX());}if(f.notNull(this.m_lowerBoundY)){c.setLowerBoundY(this.getLowerBoundY());}if(f.notNull(this.m_upperBoundY)){c.setUpperBoundY(this.getUpperBoundY());}return c;};f.ClusteringGrid.prototype.releaseObject=function(){this.m_lowerBoundX=f.XObjectExt.release(this.m_lowerBoundX);this.m_upperBoundX=f.XObjectExt.release(this.m_upperBoundX);this.m_lowerBoundY=f.XObjectExt.release(this.m_lowerBoundY);this.m_upperBoundY=f.XObjectExt.release(this.m_upperBoundY);this.m_cellsX=f.XObjectExt.release(this.m_cellsX);this.m_cellsY=f.XObjectExt.release(this.m_cellsY);f.AbstractSpatialClustering.prototype.releaseObject.call(this);};f.ClusteringGrid.prototype.getLowerBoundX=function(){return f.isNull(this.m_lowerBoundX)?0:this.m_lowerBoundX.getDouble();};f.ClusteringGrid.prototype.setLowerBoundX=function(l){if(f.isNull(this.m_lowerBoundX)){this.m_lowerBoundX=f.XDoubleValue.create(l);this.m_parameters.put("XLowerBound",this.m_lowerBoundX);}else{this.m_lowerBoundX.setDouble(l);}};f.ClusteringGrid.prototype.getLowerBoundY=function(){return f.isNull(this.m_lowerBoundY)?0:this.m_lowerBoundY.getDouble();};f.ClusteringGrid.prototype.setLowerBoundY=function(l){if(f.isNull(this.m_lowerBoundY)){this.m_lowerBoundY=f.XDoubleValue.create(l);this.m_parameters.put("YLowerBound",this.m_lowerBoundY);}else{this.m_lowerBoundY.setDouble(l);}};f.ClusteringGrid.prototype.getUpperBoundX=function(){return f.isNull(this.m_upperBoundX)?0:this.m_upperBoundX.getDouble();};f.ClusteringGrid.prototype.setUpperBoundX=function(u){if(f.isNull(this.m_upperBoundX)){this.m_upperBoundX=f.XDoubleValue.create(u);this.m_parameters.put("XUpperBound",this.m_upperBoundX);}else{this.m_upperBoundX.setDouble(u);}};f.ClusteringGrid.prototype.getUpperBoundY=function(){return f.isNull(this.m_upperBoundY)?0:this.m_upperBoundY.getDouble();};f.ClusteringGrid.prototype.setUpperBoundY=function(u){if(f.isNull(this.m_upperBoundY)){this.m_upperBoundY=f.XDoubleValue.create(u);this.m_parameters.put("YUpperBound",this.m_upperBoundY);}else{this.m_upperBoundY.setDouble(u);}};f.ClusteringGrid.prototype.getCellsX=function(){return this.m_cellsX.getInteger();};f.ClusteringGrid.prototype.setCellsX=function(c){this.m_cellsX.setInteger(c);};f.ClusteringGrid.prototype.getCellsY=function(){return this.m_cellsY.getInteger();};f.ClusteringGrid.prototype.setCellsY=function(c){this.m_cellsY.setInteger(c);};f.ClusteringGrid.prototype.getClusterAlgorithm=function(){return f.ClusterAlgorithm.GRID;};f.ClusteringKmeans=function(){};f.ClusteringKmeans.prototype=new f.AbstractSpatialClustering();f.ClusteringKmeans.prototype._ff_c="ClusteringKmeans";f.ClusteringKmeans.create=function(s){var k=new f.ClusteringKmeans();k.setupKMeans(s);return k;};f.ClusteringKmeans.prototype.m_clusters=null;f.ClusteringKmeans.prototype.m_maxIterations=null;f.ClusteringKmeans.prototype.m_threshold=null;f.ClusteringKmeans.prototype.m_init=null;f.ClusteringKmeans.prototype.setupKMeans=function(s){this.setupSpatialClustering(s);this.m_clusters=f.XIntegerValue.create(0);this.m_parameters.put("Clusters",this.m_clusters);};f.ClusteringKmeans.prototype.cloneExt=function(a){var c=f.ClusteringKmeans.create(null);this.cloneClustering(c);c.setClusters(this.getClusters());if(f.notNull(this.m_init)){c.setInit(this.getInit());}if(f.notNull(this.m_maxIterations)){c.setMaxIterations(this.getMaxIterations());}if(f.notNull(this.m_threshold)){c.setThreshold(this.getThreshold());}return c;};f.ClusteringKmeans.prototype.releaseObject=function(){this.m_init=f.XObjectExt.release(this.m_init);this.m_clusters=f.XObjectExt.release(this.m_clusters);this.m_maxIterations=f.XObjectExt.release(this.m_maxIterations);this.m_threshold=f.XObjectExt.release(this.m_threshold);f.AbstractSpatialClustering.prototype.releaseObject.call(this);};f.ClusteringKmeans.prototype.getClusters=function(){return this.m_clusters.getInteger();};f.ClusteringKmeans.prototype.setClusters=function(c){this.m_clusters.setInteger(c);};f.ClusteringKmeans.prototype.getMaxIterations=function(){return f.isNull(this.m_maxIterations)?0:this.m_maxIterations.getInteger();};f.ClusteringKmeans.prototype.setMaxIterations=function(m){if(f.isNull(this.m_maxIterations)){this.m_maxIterations=f.XIntegerValue.create(m);this.m_parameters.put("MaxIterations",this.m_maxIterations);}else{this.m_maxIterations.setInteger(m);}};f.ClusteringKmeans.prototype.getThreshold=function(){return f.isNull(this.m_threshold)?0:this.m_threshold.getDouble();};f.ClusteringKmeans.prototype.setThreshold=function(t){if(f.isNull(this.m_threshold)){this.m_threshold=f.XDoubleValue.create(t);this.m_parameters.put("Threshold",this.m_threshold);}else{this.m_threshold.setDouble(t);}};f.ClusteringKmeans.prototype.getInit=function(){return f.isNull(this.m_init)?null:this.m_init.getString();};f.ClusteringKmeans.prototype.setInit=function(s){if(f.isNull(this.m_init)){this.m_init=f.XStringValue.create(s);this.m_parameters.put("Init",this.m_init);}else{this.m_init.setString(s);}};f.ClusteringKmeans.prototype.getClusterAlgorithm=function(){return f.ClusterAlgorithm.K_MEANS;};f.CustomHierarchyRepository=function(){};f.CustomHierarchyRepository.prototype=new f.XObject();f.CustomHierarchyRepository.prototype._ff_c="CustomHierarchyRepository";f.CustomHierarchyRepository.create=function(a){var n=new f.CustomHierarchyRepository();n.m_application=f.XWeakReferenceUtil.getWeakRef(a);n.m_customHierarchies=f.XList.create();return n;};f.CustomHierarchyRepository.getHierarchyNamesFromExportedJson=function(c){var h=f.XListOfString.create();var a=f.XStringUtils.isNotNullAndNotEmpty(c)?f.JsonParserFactory.createFromSafeString(c).asList():f.PrFactory.createList();var b=f.QInAImportFactory.createForRepository(null,null);for(var i=0;i<a.size();i++){h.add(b.importCustomHierarchyDefinition(a.getStructureAt(i)).getName());}f.XObjectExt.release(b);return h;};f.CustomHierarchyRepository.prototype.m_application=null;f.CustomHierarchyRepository.prototype.m_customHierarchies=null;f.CustomHierarchyRepository.prototype.releaseObject=function(){this.m_application=null;this.m_customHierarchies=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_customHierarchies);f.XObject.prototype.releaseObject.call(this);};f.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitions=function(){return this.m_customHierarchies;};f.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionByName=function(h){for(var i=0;i<this.m_customHierarchies.size();i++){var a=this.m_customHierarchies.get(i);if(f.XString.isEqual(a.getName(),h)){return a;}}return null;};f.CustomHierarchyRepository.prototype.getCustomHierarchyCatalogItems=function(d,h){return this.convertToHierarchyCatalogItems(this.getCustomHierarchyDefinitionsByDimension(d),h);};f.CustomHierarchyRepository.prototype._getCustomHierarchyCatalogItemsByDimensionName=function(s,d,a,h){return this.convertToHierarchyCatalogItems(this.getCustomHierarchyDefinitionsByDimensionName(s,d,a),h);};f.CustomHierarchyRepository.prototype.convertToHierarchyCatalogItems=function(h,a){var r=f.XList.create();for(var i=0;i<h.size();i++){var c=h.get(i);var n=c.getName();var d=c.getDescription();if(f.XStringUtils.isNullOrEmpty(a)||f.XPattern.matches(n,a)||f.XPattern.matches(d,a)){var b=f.HierarchyCatalogItem.createCatalogItem();b.setDimensionName(c.getDimensionName());b.setHierarchyName(n);b.setHierarchyShortText(d);b.setCustomHierarchyDefinition(c);r.add(b);}}return r;};f.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionsByDimension=function(d){if(f.notNull(d)){var q=d.getQueryManager();var a=q.getSystemType().isTypeOf(f.SystemType.ABAP)?null:d.getDataSource().getName();return this.getCustomHierarchyDefinitionsByDimensionName(q.getSystemName(),a,d.getName());}return f.XList.create();};f.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionsByDimensionName=function(s,d,a){var h=f.XList.create();if(f.notNull(a)){var b=this.m_customHierarchies.size();for(var i=0;i<b;i++){var c=this.m_customHierarchies.get(i);if(f.XString.isEqual(c.getSystemName(),s)&&(f.isNull(d)||f.XString.isEqual(c.getDataSourceName(),d))&&f.XString.isEqual(c.getDimensionName(),a)){h.add(c);}}}return h;};f.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitions=function(){return this.exportCustomHierarchiesInternal(this.m_customHierarchies);};f.CustomHierarchyRepository.prototype.exportCustomHierarchiesInternal=function(c){var a=f.PrFactory.createList();var e=f.QInAExportFactory.createForRepository(f.XWeakReferenceUtil.getHardRef(this.m_application),null);for(var i=0;i<c.size();i++){a.add(e.exportCustomHierarchyDefinition(c.get(i)));}f.XObjectExt.release(e);return a;};f.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitionsToJson=function(){return this.exportCustomHierarchiesToJsonInternal(this.m_customHierarchies);};f.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitionsByNameToJson=function(c){var a=f.XList.create();var s=f.notNull(c)?c.size():0;for(var i=0;i<s;i++){var b=this.getCustomHierarchyDefinitionByName(c.get(i));if(f.notNull(b)){a.add(b);}}return this.exportCustomHierarchiesToJsonInternal(a);};f.CustomHierarchyRepository.prototype.exportCustomHierarchiesToJsonInternal=function(c){return f.PrUtils.serialize(this.exportCustomHierarchiesInternal(c),true,false,0);};f.CustomHierarchyRepository.prototype.importCustomHierarchyDefinitions=function(c){if(f.notNull(c)&&c.isList()){var h=c.asList();var a=f.QInAImportFactory.createForRepository(f.XWeakReferenceUtil.getHardRef(this.m_application),null);for(var i=0;i<h.size();i++){this.addCustomHierarchy(a.importCustomHierarchyDefinition(h.getStructureAt(i)));}f.XObjectExt.release(a);}};f.CustomHierarchyRepository.prototype.importCustomHierarchyDefinitionsFromJson=function(c){this.importCustomHierarchyDefinitions(f.JsonParserFactory.createFromSafeString(c));};f.CustomHierarchyRepository.prototype.getHierarchyNamesFromExportedJsonExt=function(c){return f.CustomHierarchyRepository.getHierarchyNamesFromExportedJson(c);};f.CustomHierarchyRepository.prototype.addCustomHierarchy=function(c){if(f.notNull(c)&&f.XStringUtils.isNotNullAndNotEmpty(c.getName())){this.m_customHierarchies.removeElement(this.getCustomHierarchyDefinitionByName(c.getName()));this.m_customHierarchies.add(c);}};f.CustomHierarchyRepository.prototype.removeCustomHierarchyDefinition=function(c){if(f.notNull(c)&&f.XStringUtils.isNotNullAndNotEmpty(c.getName())){this.m_customHierarchies.removeElement(this.getCustomHierarchyDefinitionByName(c.getName()));}};f.OlapEnvQueryManagerHandler=function(){};f.OlapEnvQueryManagerHandler.prototype=new f.XObject();f.OlapEnvQueryManagerHandler.prototype._ff_c="OlapEnvQueryManagerHandler";f.OlapEnvQueryManagerHandler.create=function(o){var a=new f.OlapEnvQueryManagerHandler();a.setupQueryManagerHandler(o);return a;};f.OlapEnvQueryManagerHandler.prototype.m_queryManagers=null;f.OlapEnvQueryManagerHandler.prototype.m_olapEnv=null;f.OlapEnvQueryManagerHandler.prototype.m_listener=null;f.OlapEnvQueryManagerHandler.prototype.m_identifier=null;f.OlapEnvQueryManagerHandler.prototype.setupQueryManagerHandler=function(o){this.m_olapEnv=f.XWeakReferenceUtil.getWeakRef(o);this.m_queryManagers=f.XWeakMap.create();this.m_listener=f.XHashMapByString.create();this.m_identifier=f.XHashMapByString.create();};f.OlapEnvQueryManagerHandler.prototype.releaseObject=function(){this.m_olapEnv=f.XObjectExt.release(this.m_olapEnv);this.m_queryManagers=f.XObjectExt.release(this.m_queryManagers);this.m_listener=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_listener);this.m_identifier=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_identifier);f.XObject.prototype.releaseObject.call(this);};f.OlapEnvQueryManagerHandler.prototype.getOlapEnv=function(){return f.XWeakReferenceUtil.getHardRef(this.m_olapEnv);};f.OlapEnvQueryManagerHandler.prototype.processQueryManagerCreationWithDataSourceName=function(s,l,c,a,d){var q=f.QueryServiceConfig.createWithDataSourceName(this.getOlapEnv().getApplication(),a,d);var g=f.XGuid.getGuid();this.m_listener.put(g,l);this.m_identifier.put(g,c);return q.processQueryManagerCreation(s,this,f.XStringValue.create(g));};f.OlapEnvQueryManagerHandler.prototype.createQueryManagerWithMicroCube=function(m,s){var q=f.QueryServiceConfig.createWithMicroCube(this.getOlapEnv().getApplication(),s,m);var a=q.getQueryManagerBasedOnMicroCube();this.m_queryManagers.put(a.getInstanceId(),a);return a;};f.OlapEnvQueryManagerHandler.prototype.processQueryManagerCreationWithBlendingDefinition=function(s,l,c,b){var q=f.QueryServiceConfig.createWithBlendingDefinition(this.getOlapEnv().getApplication(),b);var g=f.XGuid.getGuid();this.m_listener.put(g,l);this.m_identifier.put(g,c);return q.processQueryManagerCreation(s,this,f.XStringValue.create(g));};f.OlapEnvQueryManagerHandler.prototype.onQueryManagerCreated=function(e,q,c){var x=c;var g=x.getString();if(e.isValid()){this.m_queryManagers.put(q.getInstanceId(),q);}var l=this.m_listener.remove(g);var i=this.m_identifier.remove(g);if(f.notNull(l)){l.onQueryManagerCreated(e,q,i);}};f.OlapEnvironmentFactoryImpl=function(){};f.OlapEnvironmentFactoryImpl.prototype=new f.OlapEnvironmentFactory();f.OlapEnvironmentFactoryImpl.prototype._ff_c="OlapEnvironmentFactoryImpl";f.OlapEnvironmentFactoryImpl.staticSetupImpl=function(){var t=new f.OlapEnvironmentFactoryImpl();f.OlapEnvironmentFactory.registerFactory(t);};f.OlapEnvironmentFactoryImpl.prototype.newOlapEnvironmentInstance=function(a){return f.OlapEnvironment.create(a);};f.QFactoryImpl=function(){};f.QFactoryImpl.prototype=new f.XObject();f.QFactoryImpl.prototype._ff_c="QFactoryImpl";f.QFactoryImpl.create=function(){return new f.QFactoryImpl();};f.QFactoryImpl.prototype.newRuntimeQuery=function(b,q){return f.RuntimeQuery.create(b,q);};f.QFactoryImpl.prototype.newMemberNavigation=function(m){var a=new f.QMemberNavigation();a.setMemberFunction(m);return a;};f.QFactoryImpl.prototype.newNavigationParameterWithStringConstant=function(c){var p=f.QMemberNavigationParameter.create();p.setConstantValue(f.XStringValue.create(c));return p;};f.QFactoryImpl.prototype.newNavigationParameterWithIntegerConstant=function(c){var p=f.QMemberNavigationParameter.create();p.setConstantValue(f.XIntegerValue.create(c));return p;};f.QFactoryImpl.prototype.newNavigationParameterWithLevelLiteral=function(l){var p=f.QMemberNavigationParameter.create();p.setLevelValue(f.XStringValue.create(l));return p;};f.QFactoryImpl.prototype.newNavigationParameterWithLevelNumber=function(l){var p=f.QMemberNavigationParameter.create();p.setLevelValue(f.XIntegerValue.create(l));return p;};f.QFactoryImpl.prototype.newNavigationParameterWithMemberName=function(a){var p=f.QMemberNavigationParameter.create();p.setMemberValue(a);return p;};f.QFactoryImpl.prototype.newNavigationParameterWithShift=function(l,c){var p=f.QMemberNavigationParameter.create();p.setShift(f.XStringValue.create(l),f.XIntegerValue.create(c));return p;};f.QFactoryImpl.prototype.newNavigationParameterWithRange=function(l,o,a){var p=f.QMemberNavigationParameter.create();p.setRange(f.XStringValue.create(l),o,a);return p;};f.QFactoryImpl.prototype.newNavigationParameterWithNoValuesAboveLevel=function(l){var p=f.QMemberNavigationParameter.create();p.setNoValuesAboveLevel(l);return p;};f.QFactoryImpl.prototype.newDimensionElement=function(s,h,v){return f.QSelectValue._createDimensionElement2(s.getContext(),s,h,v);};f.QFactoryImpl.prototype.newDimensionElementWithContext=function(c,s,h,v){return f.QSelectValue._createDimensionElement2(c,s,h,v);};f.QFactoryImpl.prototype.newDataSource=function(c){return f.QDataSource.createWithContext(c);};f.QFactoryImpl.prototype.newFormulaAttributeExt=function(c){return f.QFormulaItemAttribute._createMember(c,null);};f.QFactoryImpl.prototype.newFormulaConstant=function(c){return f.QFormulaItemConstant._createConstant(c,null);};f.QFactoryImpl.prototype.newFormulaOperationExt=function(c){return f.QFormulaItemOperation._createOperation(c,null);};f.QFactoryImpl.prototype.newFormulaFunction=function(c){return f.QFormulaItemFunction._createFunction(c,null);};f.QFactoryImpl.prototype.newFormulaMember=function(c){return f.QFormulaItemMember._createMember(c,null);};f.QFactoryImpl.prototype.newFilterAnd=function(c){return f.QFilterAnd._create(c,null);};f.QFactoryImpl.prototype.newFilterTupleExt=function(c){return f.QFilterTuple._create(c,null);};f.QFactoryImpl.prototype.newFilterOr=function(c){return f.QFilterOr._create(c,null);};f.QFactoryImpl.prototype.newFilterNot=function(c){return f.QFilterNot._create(c,null);};f.QFactoryImpl.prototype.newFilterOperation=function(c,a){return f.QFilterOperation._create(c,a,null);};f.QFactoryImpl.prototype.newCellValueOperand=function(c,a){return f.QFilterCellValueOperand.createWithExpression(c,a,null);};f.QFactoryImpl.prototype.newFilterCartesianProduct=function(c,a){return f.QFilterCartesianProduct._create(c,a);};f.QFactoryImpl.prototype.newFilterCartesianList=function(c,a){return f.QFilterCartesianList._createMd(c,a,null,null);};f.QFactoryImpl.prototype.newFilterCartesianListForDimensionMemberVariable=function(c,d,a,h){return f.QFilterCartesianList._createMd(c,d,a,h);};f.QFactoryImpl.prototype.newFilterConvertedTimeCartesianList=function(c,a){return f.QFilterConvertedTimeCartesianList._create(c,a,null,null);};f.QFactoryImpl.prototype.newFilterCartesianElement=function(c){return f.QFilterOperation._create(c,null,null);};f.QFactoryImpl.prototype.newFilterVirtualDatasource=function(c){return f.QFilterVirtualDatasource._create(c,null);};f.QFactoryImpl.prototype.newDrillPathElementExt=function(c){return f.QDrillPathElement._create(c);};f.QFactoryImpl.prototype.createNewAggregationLevel=function(n){var r=f.RegistrationService.getInstance();var a=r.getFirstReference(f.OlapApiModule.AGGREGATION_LEVEL_FACTORY,null);if(f.isNull(a)){f.noSupport();}var b=a.newInstance(this);return b.createIAggregationLevel(n);};f.QFactoryImpl.prototype.newAggregationLevelExt=function(c,n){return this.createNewAggregationLevel(n);};f.QFactoryImpl.prototype.newDrillManager=function(c){var q=null;if(f.notNull(c)){q=c.getQueryModel();}return f.QDrillManager.create(c,q);};f.QFactoryImpl.prototype.newUniversalDisplayHierarchies=function(c){if(f.notNull(c)){var q=c.getQueryModel();if(q.getModelCapabilities().supportsUniversalDisplayHierarchies()){return f.QUniversalDisplayHierarchies.create(c,q);}}return null;};f.QFactoryImpl.prototype.newVizDef=function(c){return f.QVizDef.create(c);};f.QFactoryImpl.prototype.newFieldValueEmpty=function(a,v,b){var c=f.QFieldValue.create(a.getContext(),a,null);c.setValueException(v);c.setFormattedValue(b);return c;};f.QFactoryImpl.prototype.newFieldValue=function(a,v,b,c){var d=f.QFieldValue.create(a.getContext(),a,null);d.setValueException(v);d.setValue(b);d.setFormattedValue(c);return d;};f.QFactoryImpl.prototype.newField=function(c,a){var b=f.QField._createField(c,null,null);b.setName(a);return b;};f.QFactoryImpl.prototype.newDimensionMemberFromTupleElement=function(t){var n;var a=null;var d=t.getDimensionAtCurrentPositionFromQueryModel();if(f.isNull(d)){var r=t.getRsDimensionAtCurrentPosition();if(t.getRsDimensionAtCurrentPosition().getDimensionType().isTypeOf(f.DimensionType.ABSTRACT_STRUCTURE)){n=f.QStructureMember.createStructureMember(r.getContext(),null,f.MemberType.MEASURE);}else{n=f.QDimensionMember.createDimensionMember(r.getContext(),null);}}else{if(d.isMeasureStructure()){n=f.QStructureMember.createStructureMember(d.getContext(),d,f.MemberType.MEASURE);}else{n=f.QDimensionMember.createDimensionMember(d.getContext(),d);}a=d.getTextField();}n.setType(t.getDimensionMemberType());n.setName(t.getDimensionMemberName());n.setDimensionMemberNameValueException(t.getDimensionMemberNameValueException());var b=t.getFieldValueList();var s=b.size();for(var i=0;i<s;i++){var c=b.get(i);var e=c.createFieldValueFromCurrentPosition();e.setDimensionMember(n);n.addFieldValue(e);}if(f.notNull(a)){var g=n.getFieldValue(a);if(f.notNull(g)){var h=g.getFormattedValue();if(f.notNull(d)&&d.getDimensionType()===f.DimensionType.MEASURE_STRUCTURE&&(f.XString.isEqual(n.getName(),f.CurrencyConstants.DEFAULT_CURRENCY)||f.XString.isEqual(n.getName(),f.CurrencyConstants.LOCAL_CURRENCY))){var j=d.getStructureMember(n.getName());if(f.notNull(j)){h=j.getText();}}n.setText(h);}}return n;};f.QFactoryImpl.prototype.newCustomHierarchyDefinition=function(d,a){return f.QCustomHierarchyDefinition.create(d,a);};f.QFactoryImpl.prototype.newFormulaCalculatedDimension=function(c,n){return f.QFormulaCalculatedDimension._createFormulaCalculatedDimension(c,n);};f.QFactoryImpl.prototype.newFilterMeasureBased=function(c,n){return f.QFilterMeasureBased.createFilterMeasureBased(c,n);};f.QFactoryImpl.prototype.newFilterAcrossModels=function(c,n){return f.QFilterAcrossModels.createFilterAcrossModels(c,n);};f.QFactoryImpl.prototype.newFilterAcrossModelsCalculatedDimension=function(c,n){return f.QFilterAcrossModelsCalculatedDimension.createFilterAcrossModelsCalculatedDimension(c,n);};f.QFactoryImpl.prototype.newClustering=function(a,s){if(a===f.ClusterAlgorithm.GRID){return f.ClusteringGrid.create(s);}if(a===f.ClusterAlgorithm.DB_SCAN){return f.ClusteringDbScan.create(s);}if(a===f.ClusterAlgorithm.K_MEANS){return f.ClusteringKmeans.create(s);}return null;};f.QFactoryImpl.prototype.newMeasureBasedFilterCalculatedDimension=function(c,n){return f.QMeasureBasedFilterCalculatedDimension._createMeasureBasedFilterCalculatedDimension(c,n);};f.QFactoryImpl.prototype.newDimensionFromType=function(c,o,d){if(f.isNull(o)){return f.QDimension._create(c,d);}var n=o.getName();var a=o.getDimensionType();var b;if(a===f.DimensionType.CALCULATED_DIMENSION){b=f.QCalculatedDimension._createCalculatedDimension(c,d,n);}else if(a===f.DimensionType.FORMULA_CALCULATED_DIMENSION){b=this.newFormulaCalculatedDimension(c,n);b.setParent(d);}else if(a===f.DimensionType.MEASURE_BASED_FILTER_CALCULATED_DIMENSION){b=this.newMeasureBasedFilterCalculatedDimension(c,n);b.setParent(d);}else if(a===f.DimensionType.FILTER_ACROSS_MODELS_CALCULATED_DIMENSION){var e=o.getQueryModel().getContext();b=this.newFilterAcrossModelsCalculatedDimension(e,n);b.setParent(d);}else{b=f.QDimension._create(c,d);}return b;};f.QFactoryImpl.prototype.newBlendingDefinition=function(){return f.BlendingDefinition.create();};f.QFactoryImpl.prototype.newDimensionLinkKey=function(s,c,d,a){return f.QDimensionLinkKey.createLinkKey(s,c,d,a);};f.QFactoryImpl.prototype.newDimensionLinkKey2=function(c,s,a,d,b){return f.QDimensionLinkKey.createLinkKeyExt(c,s,a,d,b);};f.QFactoryImpl.prototype.newDimensionLinkPart=function(c,a,h,q){return f.QDimensionLinkPart.createDimensionLinkPart(c,a,h,q);};f.QFactoryImpl.prototype.newAttributeContainer=function(c,d){return f.QAttributeContainer.create(c,d);};f.QFactoryImpl.prototype.newFieldContainer=function(c,d){return f.QFieldContainer.create(c,d);};f.QFactoryImpl.prototype.newHierarchyManager=function(c,p){return f.QHierarchyManager.create(c,p);};f.QFactoryImpl.prototype.newKeyRefStorage=function(c,n){return f.QKeyRefStorage.create(n);};f.QFactoryImpl.prototype.newKeyRefStoreContext=function(c,s){return f.QKeyRefStoreContext.create(c,s,null);};f.QFactoryImpl.prototype.newKeyRefStoreContextWithCapabilities=function(c,s,a){return f.QKeyRefStoreContext.create(c,s,a);};f.QFactoryImpl.prototype.newKeyRef=function(s,g,o){return f.QKeyRef.create(s,g,o);};f.QFactoryImpl.prototype.newFormulaMeasure=function(c,d,n,t,a){var m=f.QFormulaMeasure._createFormulaMeasure(c,d);m.setName(n);m.setText(t);if(f.notNull(d)&&d.getPlaceholderIds().size()>0){m.setAliasName(a);}return m;};f.QFactoryImpl.prototype.newRestrictedMeasure=function(c,d,n,t,a){var m=f.QRestrictedMeasure._createRestrictedMeasure(c,d);m.setName(n);m.setText(t);if(f.notNull(d)&&d.getPlaceholderIds().size()>0){m.setAliasName(a);}return m;};f.QFactoryImpl.prototype.newVarianceMeasure=function(c,d,n,t,a){var m=f.QVarianceMeasure._createVarianceMeasure(c,d);m.setName(n);m.setText(t);if(f.notNull(d)&&d.getPlaceholderIds().size()>0){m.setAliasName(a);}return m;};f.QFactoryImpl.prototype.newExceptionAggregationMeasure=function(c,d,n,t,a){var m=f.QExceptionAggregationMeasure._createExceptionAggregationMeasure(c,d);m.setName(n);m.setText(t);if(f.notNull(d)&&d.getPlaceholderIds().size()>0){m.setAliasName(a);}return m;};f.QFactoryImpl.prototype.newResultStructureController=function(c,p,l){return f.QResultStructureController._create(c,p,l);};f.QFactoryImpl.prototype.newFilterExpression=function(c,p){return f.QFilterExpression.create(c,p);};f.QFactoryImpl.prototype.newVariableValue=function(v){return f.QVariableValue.create(v);};f.QFactoryImpl.prototype.newVariable=function(c,p,o){var a=o.getVariableType();var b=p;var n=o.getName();var t=o.getText();if(a===f.VariableType.DIMENSION_MEMBER_VARIABLE){return f.QDimensionMemberVariable.createDimensionMemberVariable(c,b,n,t);}else if(a===f.VariableType.HIERARCHY_NAME_VARIABLE){return f.QHierarchyNameVariable.createDimensionHierarchyVariable(c,b,n,t);}else if(a===f.VariableType.HIERARCHY_NODE_VARIABLE){return f.QHierarchyNodeVariable.createHierarchyNodeVariable(c,b,n,t);}else if(a===f.VariableType.SIMPLE_TYPE_VARIABLE){return f.QSimpleTypeVariable.createSimpleTypeVariable(c,b,o.getValueType(),n,t,o.supportsMultipleValues());}else if(a===f.VariableType.TEXT_VARIABLE){return f.QSimpleTypeVariable.createTextVariable(c,b,n,t,o.supportsMultipleValues());}else if(a===f.VariableType.FORMULA_VARIABLE){return f.QSimpleTypeVariable.createFormulaVariable(c,b,n,t,o.supportsMultipleValues());}else if(a===f.VariableType.OPTION_LIST_VARIABLE){return f.QSimpleTypeVariable.createOptionListVariable(c,b,n,t,o.supportsMultipleValues());}else if(a===f.VariableType.HIERARCHY_VARIABLE){return f.QSimpleTypeVariable.createHierarchyVariable(c,b,n,t,o.supportsMultipleValues());}else{throw f.XException.createRuntimeException(f.XStringUtils.concatenate3("Unexpected variable type '",a.getName(),"'!"));}};f.QFactoryImpl.prototype.newCanonicalDate=function(y,m,g){return f.QCanonicalDate.create(y,m,null,g);};f.QFactoryImpl.prototype.newCanonicalDateWithTimestamp=function(y,t,g){return f.QCanonicalDate.create(y,0,t,g);};f.QFactoryImpl.prototype.newCanonicalDateContext=function(q,t,h){return f.QCanonicalDateContext.create(q,t,h);};f.QFactoryImpl.prototype.newTimeOperation=function(c,p,t,a,b,d){var e=f.QTimeOperation.create(c,p);e.setDimensionName(t);e.setFunction(a);e.setGranularity(b);e.setPeriod(d);return e;};f.QFactoryImpl.prototype.newPersistedPlaceholderTagFilter=function(n,a,q,c){return f.QPersistedPlaceholderTagFilter.create(n,a,q,c);};f.QFactoryImpl.prototype.newPersistedPlaceholderTagFilterFromPlaceholderString=function(p){return f.QPersistedPlaceholderTagFilter.createFromPlaceholderString(p);};f.QFactoryImpl.prototype.newPersistedPlaceholderTagCalculation=function(n,s,c){return f.QPersistedPlaceholderTagSelection.create(n,s,c);};f.QFactoryImpl.prototype.newPersistedPlaceholderTagCalculationFromPlaceholderString=function(p){return f.QPersistedPlaceholderTagSelection.createFromPlaceholderString(p);};f.QFactoryImpl.prototype.newTimeSelectionPlaceholderFromPlaceholderString=function(s){return f.QTimeSelectionPlaceholder.createTimeSelectionPlaceholderFromPlaceholderString(s);};f.QFactoryImpl.prototype.newTimeSelectionPlaceholderToDateFromPlaceholderString=function(s){return f.QTimeSelectionPlaceholderToDate.createTimeSelectionPlaceholderToDateFromPlaceholderString(s);};f.QFactoryImpl.prototype.newTimeConvertedFAMSelectionPlaceholderFromPlaceholderString=function(s){return f.QTimeConvertedFAMSelectionPlaceholder.createTimeConvertedFAMSelectionPlaceholderFromPlaceholderString(s);};f.QFactoryImpl.prototype.newTimeConvertedFAMSelectionPlaceholder=function(q,t,a,b,s,c,d){return f.QTimeConvertedFAMSelectionPlaceholder.createTimeConvertedFAMSelectionPlaceholder(q,t,a,b,s,c,d);};f.QFactoryImpl.prototype.newPersistedPlaceholderTagSelection=function(n,s,c){return f.QPersistedPlaceholderTagSelection.create(n,s,c);};f.QFactoryImpl.prototype.newPersistedPlaceholderTagSelectionFromPlaceholderString=function(p){return f.QPersistedPlaceholderTagSelection.createFromPlaceholderString(p);};f.QFactoryImpl.prototype.newReflectionCommand=function(m,p,s,a){return f.QGenericCmd.createGenericCmd(m,p,s,a);};f.QFactoryImpl.prototype.newFilterValueBag=function(c,a,p){return f.QFilterValueBag._create(c,a,p);};f.QFactoryImpl.prototype.newFormulaException=function(c,n,t){var q=null;if(f.notNull(c)){q=c.getQueryModel();}return f.QFormulaException.createFormulaException(c,q,n,t);};f.QFactoryImpl.prototype.newRankInfo=function(m,c,a){return f.QRankInfo.create(m,c,a);};f.QFactoryImpl.prototype.newQueryServiceConfig=function(a){return f.QueryServiceConfigImpl._create(a);};f.QFactoryImpl.prototype.newCapabilitiesDecorator=function(p){return f.QCapabilitiesDecorator.create(p);};f.QFactoryImpl.prototype.newValueHelpVarDimMember=function(c,d){return f.QValueHelpVarDimMember.create(c,d);};f.QFactoryImpl.prototype.newFilterCapability=function(c,p,a,o){if(o===f.OlapComponentType.FILTER_CAPABILITY){return f.QFilterCapability._createFilterCapability(c,p,a);}return f.QFilterCapabilityGroup._createFilterCapabilityGroup(c,p,a);};f.QFactoryImpl.prototype.newFilterCapabilitiesForVariable=function(c,v){return f.QFilterCapabilityList.createFilterCapabilitiesForVariable(c,v);};f.QFactoryImpl.prototype.newFilterForQueryModel=function(q){return f.QFilter.createWithModelComponent(q,q);};f.QFactoryImpl.prototype.newFieldFromType=function(c,d,p,n){var a=d.getDimensionType();if(a===f.DimensionType.CALCULATED_DIMENSION){return f.QFieldCalcDim._createFieldCalcDim(c,d,p,n);}else if(a===f.DimensionType.FORMULA_CALCULATED_DIMENSION||a===f.DimensionType.MEASURE_BASED_FILTER_CALCULATED_DIMENSION||a===f.DimensionType.FILTER_ACROSS_MODELS_CALCULATED_DIMENSION){return f.QFieldFormulaCalc._createFormulaCalcField(c,d,p,n);}return f.QField._createField(c,d,p);};f.QFactoryImpl.prototype.newWindowFunction=function(t){return f.QWindowFunction._createWindowFunction(t);};f.QFactoryImpl.prototype.newReadModeManager=function(d){return f.QDimensionReadModeManager._create(d);};f.QFactoryImpl.prototype.newValueHelpListenerDecorator=function(o){return f.ValueHelpListenerDecorator.create(o);};f.QFactoryImpl.prototype.newModellingCurrencyTranslationManager=function(c,r,a,b){return f.QCurrencyTranslationManager.createForModelling(c,r,a,b);};f.QFactoryImpl.prototype.newDimensionSelector=function(d){return f.QDimensionSelector.create(d);};f.QFactoryImpl.prototype.newMeasureHelpMetadataSelector=function(){return f.QMeasureHelpMetadataSelector.createMeasureHelpMetadataSelector();};f.QFactoryImpl.prototype.newFormulaIteration=function(c){return f.QFormulaIteration._createFormulaIteration(c,null);};f.QFactoryImpl.prototype.newFormulaIterationDimension=function(c){return f.QFormulaIterationDimension._createFormulaIterationDimension(c,null);};f.QFactoryImpl.prototype.newMeasureHelpNode=function(n,m){return f.QMeasureHelpNode.createMeasureHelpNode(n,m);};f.QFactoryImpl.prototype.newLovProcess=function(q,l){return f.LovProcess.create(q,l);};f.QFactoryImpl.prototype.newRequestSettings=function(o,w,i){return f.QRequestSettings.create(o,w,i);};f.QFactoryImpl.prototype.newValueHelpNode=function(v,p,m,d,a){return f.QValueHelpNode.create(v,p,m,d,a);};f.QFactoryImpl.prototype.newHierarchyCatalogResult=function(){return f.HierarchyCatalogResult.create();};f.QFactoryImpl.prototype.newHierarchyCatalogManager=function(q,d,a){return f.HierarchyCatalogManager.create(q,d,a);};f.QFactoryImpl.prototype.newCacheKeyWithDataSource=function(c,s,d,p,k,a,v,b){var t=f.QDataSource.create();t.setFullQualifiedName(d);var e=t.getCacheKeyName2();var n=f.QCacheKey.createExt(c,s,e,p,k,a,v,b);var o=c.getOlapEnv();var g=o.getCubeContainer(n);if(g.getDataSource()===null){g.setDataSource(t);}return n;};f.QFactoryImpl.prototype.newCacheKey=function(c,s,d,p,k,a,v,b){return f.QCacheKey.createExt(c,s,d,p,k,a,v,b);};f.QFactoryImpl.prototype.newCacheKeyForField=function(c,a,d){return f.QCacheKey.createByContextForField(c,a,d);};f.QFactoryImpl.prototype.newCacheKeyByContext=function(c){return f.QCacheKey.createByContext(c);};f.QFactoryImpl.prototype.newVariableVariant=function(d,n,t,s){return f.QVariableVariant.createVariantWithScope(d,n,t,s);};f.QFactoryImpl.prototype.newCustomVariableConfig=function(q){return f.QCustomVariableConfig.createConfig(q);};f.QFactoryImpl.prototype.newFormulaInverseFormula=function(c){return f.QFormulaInverseFormula.createInverseFormula(c,null,null,null,null);};f.QFactoryImpl.prototype.newRsDefStructureMemberProperties=function(p,m,u,a){return f.RsDefStructureMemberProperties.create(p,m,u,a);};f.RuntimeQuery=function(){};f.RuntimeQuery.prototype=new f.XObject();f.RuntimeQuery.prototype._ff_c="RuntimeQuery";f.RuntimeQuery.create=function(b,q){var s=null;if(f.notNull(q)){s=q.getSession();}return f.RuntimeQuery.createExt(b,q,s);};f.RuntimeQuery.createExt=function(b,q,s){var m=null;if(f.notNull(b)&&b.hasElements()){var i=b.getStructureAt(b.size()-1);m=f.RuntimeQuery.createQuery(s,f.RuntimeQuery._getSystemName(q,i),null,i,f.RuntimeQuery._getLanguage(q));m.setupPreQueries(s,b,q,i);}return m;};f.RuntimeQuery._getLanguage=function(q){if(f.isNull(q)){return null;}return q.getSystemDescription().getLanguage();};f.RuntimeQuery._getSystemName=function(q,i){var s=f.InARuntimeUtils.getSystemNameFromRequest(i);if(f.isNull(s)&&f.notNull(q)){s=q.getSystemName();}return s;};f.RuntimeQuery.createQuery=function(s,a,m,i,l){var r=new f.RuntimeQuery();r.m_preQueries=f.XList.create();r.m_mainQuery=m;f.InARuntimeUtils.setLanguage(i,l);r.m_queryforLocal=i;r.m_systemName=a;r.m_session=s;return r;};f.RuntimeQuery.prototype.m_session=null;f.RuntimeQuery.prototype.m_mainQuery=null;f.RuntimeQuery.prototype.m_systemName=null;f.RuntimeQuery.prototype.m_persistencyIdentifier=null;f.RuntimeQuery.prototype.m_preQueries=null;f.RuntimeQuery.prototype.m_queryForRemote=null;f.RuntimeQuery.prototype.m_queryforLocal=null;f.RuntimeQuery.prototype.m_isProcessed=false;f.RuntimeQuery.prototype.m_validMapping=false;f.RuntimeQuery.prototype.generateRemoteQuery=function(q){var m=f.MessageManagerSimple.createMessageManager();if(!this.isRemotePreQuery()){m.addInfo(f.ErrorCodes.OTHER_ERROR,"Query is local, nothing to do");return f.ExtResult.create(null,m);}var s=q.getApplication().getSystemLandscape();var r=s.getSystemDescription(this.m_systemName);if(f.isNull(r)){m.addError(f.ErrorCodes.INVALID_SYSTEM,f.XStringUtils.concatenate3("No matching system for name '",this.m_systemName,"' is available"));return f.ExtResult.create(null,m);}var a=s.getSystemDescription(this.m_mainQuery.getSystemName());var b=a.getSystemMapping(this.m_systemName);if(f.isNull(b)||!a.isSystemMappingValid(r)){this.generateBrowserBased(m);}else{this.generateSdi(a,b);}this.m_isProcessed=true;return f.ExtResult.create(this.m_queryForRemote,m);};f.RuntimeQuery.prototype.generateBrowserBased=function(m){m.addInfo(f.ErrorCodes.OTHER_ERROR,f.XStringUtils.concatenate5("No valid system mapping is defined for '",this.m_systemName,"' and '",this.m_mainQuery.getSystemName(),"'. Defaulting to browser-based blending"));var i=f.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);i.remove("System");this.m_queryForRemote=f.PrUtils.createDeepCopy(this.m_queryforLocal);var a=f.InARuntimeUtils.getRequestContext(this.m_queryForRemote);f.InARuntimeUtils.setPersistencyForRemote(a,null);var r=f.InARuntimeUtils.getHashableRequest(a);this.m_persistencyIdentifier=f.XSha1.createSHA1(r);i.putString("Type","SerializedData");};f.RuntimeQuery.prototype.generateSdi=function(m,s){this.m_validMapping=true;var i=f.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);i.remove("System");this.m_queryForRemote=f.PrUtils.createDeepCopy(this.m_queryforLocal);var a=f.InARuntimeUtils.getRequestContext(this.m_queryForRemote);f.InARuntimeUtils.setPersistencyForRemote(a,s);var r=f.InARuntimeUtils.getHashableRequest(a);this.m_persistencyIdentifier=f.BlendingSource.createPersistenceIdentifierByRequest2(this.m_session,r,m,null);f.InARuntimeUtils.setPersistencyIdentifier(a,this.m_persistencyIdentifier);f.InARuntimeUtils.setPersistencyForLocal(i,this.m_persistencyIdentifier,s);};f.RuntimeQuery.prototype.setupPreQueries=function(s,b,q,r){var d=f.InARuntimeUtils.getDataSourceFromRequest(r);if(f.notNull(d)){var a=d.getListByKey("Sources");if(f.notNull(a)){var c=a.size();for(var i=0;i<c;i++){var e=a.getStructureAt(i);var g=e.getStructureByKey("DefiningContext");this.setupPreQueries(s,b,q,g);}}var h=f.InARuntimeUtils.getDimensionsListFromRequest(r);var j=h.size();var p=f.XHashSetOfString.create();for(var k=0;k<j;k++){var l=h.getStructureAt(k);var m=f.InARuntimeUtils.getObjectNameFromDimensionDataSource(l);if(f.isNull(m)||p.contains(m)){continue;}p.add(m);var n=this.getPreQueryRequest(b,m);if(f.isNull(n)){continue;}var o=f.RuntimeQuery.createQuery(s,f.RuntimeQuery._getSystemName(q,n),this,n,f.RuntimeQuery._getLanguage(q));o.setupPreQueries(s,b,q,n);this.m_preQueries.add(o);}}};f.RuntimeQuery.prototype.getPreQueryRequest=function(b,p){var s=b.size()-1;for(var i=0;i<s;i++){var q=b.getStructureAt(i);var c=f.InARuntimeUtils.getRequestContext(q);var a=f.InARuntimeUtils.getQueryNameFromContext(c);if(f.XString.isEqual(a,p)){return q;}}return null;};f.RuntimeQuery.prototype.releaseObject=function(){this.m_systemName=null;this.m_persistencyIdentifier=null;f.XObjectExt.release(this.m_preQueries);this.m_queryforLocal=null;this.m_queryForRemote=null;this.m_mainQuery=null;f.XObject.prototype.releaseObject.call(this);};f.RuntimeQuery.prototype.getPreQueries=function(){return this.m_preQueries;};f.RuntimeQuery.prototype.getQueryForLocal=function(){return this.m_queryforLocal;};f.RuntimeQuery.prototype.getMainQuery=function(){return this.m_mainQuery;};f.RuntimeQuery.prototype.isRemotePreQuery=function(){if(f.isNull(this.m_mainQuery)){return false;}return!f.XString.isEqual(this.m_systemName,this.m_mainQuery.getSystemName());};f.RuntimeQuery.prototype.getSystemName=function(){return this.m_systemName;};f.RuntimeQuery.prototype.isProcessed=function(){return this.m_isProcessed;};f.RuntimeQuery.prototype.setBrowserBasedPersistency=function(c,v){var d=f.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);if(f.notNull(d)){d.remove("SchemaName");d.remove("PackageName");d.remove("ObjectName");var s=d.putNewStructure("SerializedData");s.putString("Cube",c);s.putString("View",v);}};f.RuntimeQuery.prototype.isSdiRemote=function(){return this.isRemotePreQuery()&&this.m_validMapping;};f.RuntimeQuery.prototype.getPersistencyIdentifier=function(){return this.m_persistencyIdentifier;};f.AbstractOlapEnvQueryManagerHandler=function(){};f.AbstractOlapEnvQueryManagerHandler.prototype=new f.XObject();f.AbstractOlapEnvQueryManagerHandler.prototype._ff_c="AbstractOlapEnvQueryManagerHandler";f.AbstractOlapEnvQueryManagerHandler.prototype.m_olapEnvArea=null;f.AbstractOlapEnvQueryManagerHandler.prototype.m_selectionMap=null;f.AbstractOlapEnvQueryManagerHandler.prototype.setupQueryManagerHandler=function(o){this.m_selectionMap=f.XHashMapOfStringByString.create();this.m_olapEnvArea=f.XWeakReferenceUtil.getWeakRef(o);};f.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject=function(){this.m_olapEnvArea=f.XObjectExt.release(this.m_olapEnvArea);this.m_selectionMap=f.XObjectExt.release(this.m_selectionMap);f.XObject.prototype.releaseObject.call(this);};f.AbstractOlapEnvQueryManagerHandler.prototype.getTaggedQueryManagers=function(){var q=this.getOlapEnv().getAllAreaQueryManager();if(this.m_selectionMap.isEmpty()){return q;}var s=f.XList.create();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var c=b.getTagging();var d=this.m_selectionMap.getKeysAsIteratorOfString();var o=true;while(d.hasNext()){var k=d.next();var v=this.m_selectionMap.getByKey(k);var e=c.getByKey(k);if(!f.XString.isEqual(v,e)){o=false;break;}}if(o){s.add(b);}}return s;};f.AbstractOlapEnvQueryManagerHandler.prototype.getOlapEnv=function(){return f.XWeakReferenceUtil.getHardRef(this.m_olapEnvArea);};f.AbstractOlapEnvQueryManagerHandler.prototype.getApplication=function(){return this.getOlapEnv().getApplication();};f.AbstractOlapEnvQueryManagerHandler.prototype.getSession=function(){return this.getOlapEnv().getSession();};f.AbstractOlapEnvQueryManagerHandler.prototype.getSelectionMap=function(){return this.m_selectionMap;};f.ModelDimensionLinksManagerHelper=function(){};f.ModelDimensionLinksManagerHelper.prototype=new f.XObjectExt();f.ModelDimensionLinksManagerHelper.prototype._ff_c="ModelDimensionLinksManagerHelper";f.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds=function(a,s,m){var b=null;if(f.notNull(m)){var c=m.getIterator();while(c.hasNext()){var d=c.next();if(f.XString.isEqual(a,d.getFirstDatasetId())&&f.XString.isEqual(s,d.getSecondDatasetId())||f.XString.isEqual(s,d.getFirstDatasetId())&&f.XString.isEqual(a,d.getSecondDatasetId())){b=d;break;}}}return b;};f.QueryModelStateManager=function(){};f.QueryModelStateManager.prototype=new f.XObjectExt();f.QueryModelStateManager.prototype._ff_c="QueryModelStateManager";f.QueryModelStateManager.create=function(q){var m=new f.QueryModelStateManager();m.m_queryManager=q;m.m_stateCache=f.XLinkedMap.createLinkedMap();m.m_jsonParser=f.JsonParserFactory.newInstance();return m;};f.QueryModelStateManager.prototype.m_queryManager=null;f.QueryModelStateManager.prototype.m_stateCache=null;f.QueryModelStateManager.prototype.m_jsonParser=null;f.QueryModelStateManager.prototype.releaseObject=function(){this.m_stateCache=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_stateCache);this.m_queryManager=null;this.m_jsonParser=f.XObjectExt.release(this.m_jsonParser);f.XObjectExt.prototype.releaseObject.call(this);};f.QueryModelStateManager.prototype.recordState=function(){var s=f.PrFactory.createStructure();var q=this.m_queryManager;q.recordStateOfQueryManager(s);var c=f.PrUtils.serialize(s,true,false,0);var a=f.XGuid.getGuid();this.m_stateCache.add(f.StateStackEntry.create(a,c));return a;};f.QueryModelStateManager.prototype.applyState=function(s){var a=this.m_stateCache.getByKey(s);if(f.isNull(a)){return f.ExtResult.createWithErrorMessage(f.XStringUtils.concatenate3("State Id ",s," not found"));}var q=a.getState();var e=this.m_jsonParser.parse(q);if(this.m_jsonParser.hasErrors()){return f.ExtResult.create(null,this.m_jsonParser);}var d=e.getStructureByKey("Analytics").getStructureByKey("Definition");var b=this.m_queryManager;var r=b.applyStateOnQueryManager(d);return f.ExtResult.create(this.m_queryManager,r);};f.InACapabilitiesProvider=function(){};f.InACapabilitiesProvider.prototype=new f.DfSessionContext();f.InACapabilitiesProvider.prototype._ff_c="InACapabilitiesProvider";f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES=null;f.InACapabilitiesProvider.staticSetup=function(){f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES=f.CapabilityContainer.create("sacExceptions");f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C178_MASTER_READ_MODE_BY_DIMENSION_GROUPING);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C189_DIMENSION_VISIBILITY);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C193_INA_MODEL_METADATA);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C191_DYNAMIC_VARIABLES);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C188_LOCALE_SORTING);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C212_SORT_NEW_VALUES);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C215_MEASURE_MEMBER_DEFINITION);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.C216_MEASURE_MEMBER_DETAILS);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.V210_DATASOURCE_TYPE_QUERY_METADATA);f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(f.InACapabilities.V212_DATASOURCE_TYPE_QUERY);};f.InACapabilitiesProvider.create=function(s,a,p,b){var i=new f.InACapabilitiesProvider();i.setupExt(s,a,p,b);return i;};f.InACapabilitiesProvider.isDevCapabilityValid=function(c,s){return s.hasFeature(f.FeatureToggleOlap.DEVELOPMENT_MODE)||f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.containsKey(c);};f.InACapabilitiesProvider.importCapabilities=function(s,q){var a=q.getSystemType();var i=false;var b=false;var c=false;if(f.notNull(a)){i=a.isTypeOf(f.SystemType.BW);b=a.isTypeOf(f.SystemType.HANA);c=a.isTypeOf(f.SystemType.BPCS);}q.setSupportsServerState(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C009_STATEFUL_SERVER,i));q.setSupportsShutdown(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C010_STATEFUL_DATA_PROVIDER,i||b));q.setSupportsDirectVariableTransfer(!i);q.setSupportsCheckVariables(!i);q.setSupportsHierarchyCatalog(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V322_HIERARCHY_CATALOG,false));q.setSupportsDataCellMixedValues(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C113_DATA_CELL_MIXED_VALUES,false));q.setSupportsCancelRunningQueries(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C117_CANCEL_RUNNING_REQUESTS,false));q.setSupportsObtainability(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C005_OBTAINABILITY,false));q.setSupportsCustomDimensionFilterCapability(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C123_CUSTOM_DIMENSION_FILTER,i));q.setSupportsRestrictedMeasures(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C119_RESTRICTED_KEYFIGURES,b));q.setSupportsFormulaMeasures(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C118_CALCULATED_KEYFIGURES,b));q.setSupportsCartesianFilterIntersect(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT,false));q.setSupportsIntersectLayers(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT,false));q.setSupportsCellValueOperand(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C060_CELL_VALUE_OPERAND,false));q.setSupportsComplexFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C013_COMPLEX_FILTERS,false));q.setSupportsVisibilityFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C059_VISIBILITY_FILTER,false));q.setSupportsSetOperand(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C011_SET_OPERAND,false));q.setSupportsConvertToFlatFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C058_HIERARCHY_SELECTION_AS_FLAT_SELECTION,false));q.setSupportsCummulative(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C018_CUMMULATIVE,false));q.setSupportsHierarchyNavCounter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER,false));q.setSupportsHierarchyAttHierFields(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS,false));q.setSupportsHierarchyCarryingDim(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS,i||c));q.setSupportsSortTypes(f.InACapabilitiesProvider.supports(s,f.InACapabilities.SORT_TYPE,false));q.setSupportsSpatialFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C061_SPATIAL_FILTER,false));q.setSupportsSapDate(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C017_SAP_DATE,i||c));q.setSupportsCustomDimensionMemberExecutionStep(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C055_CUSTOM_DIMENSION_MEMBER_EXECUTION_STEP,false));q.setSupportsSupplements(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C037_SUPPLEMENTS,false));q.setSupportsNumberAsString(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V172_NUMBER_AS_STRING,false));if(q.supportsSpatialFilter()){q.setSupportsSpatialFilterSrid(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C062_SPATIAL_FILTER_WITH_SRID,false));}q.setSupportsComplexTupleFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C200_COMPLEX_TUPLE_FILTER,false));q.setSupportsTuplesOperand(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V216_TUPLES_OPERAND,false));q.setSupportsExtendedDimensions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C067_EXTENDED_DIMENSIONS,false));q.setSupportsExtendedDimensionsFieldMapping(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C068_EXTENDED_DIMENSIONS_FIELD_MAPPING,false));q.setSupportsExtendedDimensionsJoinColumns(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C069_EXTENDED_DIMENSIONS_JOIN_COLUMNS,false));q.setSupportsExtendedDimensionsOuterJoin(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C070_EXTENDED_DIMENSIONS_OUTER_JOIN,false));q.setSupportsExtendedDimensionsSkip(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C071_EXTENDED_DIMENSIONS_SKIP,false));q.setSupportsExtendedDimensionsJoinCardinality(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY,false));q.setSupportsSortNewValues(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C212_SORT_NEW_VALUES,false));q.setSupportsIgnoreUnitOfZeroValueInAggregation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C152_IGNORE_UNIT_OF_ZERO_VALUE_IN_AGGREGATION,false));q.setSupportsCubeBlendingWithNSubqueries(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V214_CUBE_BLENDING_N_QUERIES,false));q.setSupportsRemoteBlendingWithSplittedSerializationRequests(f.InACapabilitiesProvider.supports(s,i?f.InACapabilities.C182_CUBE_BLENDING_PERSISTENCE_TYPE:f.InACapabilities.C206_REMOTE_BLENDING_METADATA,false));q.setSupportsExtendedDimensionsChangeDefaultRenamingAndDescription(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C156_EXTENDED_DIMENSION_CHANGE_DEFAULT_RENAMING_AND_DESCRIPTION,false));q.setSupportsExtendedDimensionsCopyAllHierarchies(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C157_EXTENDED_DIMENSION_COPY_ALL_HIERARCHIES,false));q.setSupportsFixMetadataHierarchyAttributes(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C158_FIX_METADATA_HIERARCHY_ATTRIBUTES,false));q.setSupportsUniversalDisplayHierarchies(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C139_UNIVERSAL_DISPLAY_HIERARCHIES,false));q.setSupportsUniversalDisplayHierarchiesCustomDimensions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C204_UNIVERSAL_DISPLAY_HIERARCHY_CUSTOM_DIM,false));q.setSupportsUniversalDisplayHierarchiesZeroBased(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED,false));q.setSupportsRemoteBlending(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C093_REMOTE_BLENDING,false));q.setSupportsRemoteFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C180_REMOTE_FILTER,false));q.setSupportsCubeCache(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V166_CUBE_CACHE,false));q.setSupportsCatalogServiceV2(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C140_CATALOG_SERVICE_V20,false));q.setSupportsExtendedVariableDefinition(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION,false));q.setSupportsCustomSort(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C149_CUSTOM_SORT,false));q.setSupportsDataRefreshAndDataTopicality(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C145_DATA_REFRESH_AND_DATA_TOPICALITY,false));q.setSupportsRemoteBlendingBW(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C196_REMOTE_BLENDING_BW,false));q.setSupportsCustomMeasureSortOrder(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER,false));q.setSupportsExceptionAggregationAvgNullSelectionMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C105_EXCEPTION_AGGREGATION_AVGNULL_SELECTION_MEMBER,false));q.setSupportsExceptionAggregationCountNullSelectionMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C106_EXCEPTION_AGGREGATION_COUNTNULL_SELECTION_MEMBER,false));q.setSupportsStatisticalAggregations(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C107_STATISTICAL_AGGREGATIONS,false));q.setSupportsF4FilterForTextField(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD,false));q.setSupportsSidPresentation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V232_SID_PRESENTATION,false));q.setSupportsVarianceOperator(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C153_VARIANCE_OPERATOR,false));q.setSupportsTotalOperator(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C198_OPERATOR_TOTALS,false));q.setSupportsAsyncRemoteModelValidation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C154_MD_DS_DEF_VAL_EXPOSE_DS,false));q.setSupportsExtendedKeyFigureProperties(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES,false));q.setSupportsDetailedResponseExpansion(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C201_DETAILED_RESPONSE_EXPANSION,false));q.setSupportsDynamicVariableRefresh(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES,false));q.setSupportsQueryCurrencyTranslation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C160_QUERY_CURRENCY_TRANSLATION,false));q.setSupportsStructureRestrictionsInValueHelp(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C161_STRUCTURE_RESTRICTIONS_IN_VALUE_HELP,false));q.setSupportsCustomHierarchy(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C202_CUSTOM_HIERARCHY,false));q.setSupportsSpatialChoropleth(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C165_SPATIAL_CHOROPLETH,false));q.setSupportsInaCurrentMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C166_INA_CURRENT_MEMBER,false));q.setSupportsDimensionDefaultMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER,false));q.setSupportsDimensionVisibility(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C189_DIMENSION_VISIBILITY,false));q.setSupportsDisplayHierarchyFixInFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER,false));q.setSupportsCustomMemberKeySortOrder(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C203_CUSTOM_MEMBER_KEY_SORT_ORDER,false));q.setSupportsSpatialTransformation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C063_SPATIAL_TRANSFORMATIONS,false));q.setSupportsMemberVisibility(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C048_MEMBER_VISIBILITY,false));q.setSupportsHierarchyMetadata(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C052_METADATA_HIERARCHY_STRUCTURE,false));q.setSupportsDimensionHierarchyLevels(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS,false));q.setSupportsHierarchyLevelMetadata(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C053_METADATA_HIERARCHY_LEVELS,false));q.setSupportsCubeBlendingProperties(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C097_CUBE_BLENDING_PROPERTIES,false));q.setSupportsHierarchyNavigationDeltaMode(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C111_HIERARCHY_NAVIGATION_DELTA_MODE,false));q.setSupportsCeScenarioParams(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C127_CE_SCENARIO_PARAMS,false));q.setSupportsLocaleSorting(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C188_LOCALE_SORTING,false));q.setSupportsHierarchyLevelOffsetFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C126_HIERARCHY_LEVEL_OFFSET_FILTER,false));q.setSupportsHierarchyTrapezoidFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C065_HIERARCHY_TRAPEZOID_FILTER,false));q.setSupportsUnifiedDataCells(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C210_UNIFIED_DATA_CELLS,false));q.setSupportsAverageCountNullZero(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C124_AVERAGE_COUNT_IGNORE_NULL_ZERO,false));q.setSupportsCubeBlendingOutOfContext(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C096_CUBE_BLENDING_OUT_OF_CONTEXT,false));q.setSupportsExceptionsV2(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C159_EXCEPTIONS_V2,false));q.setSupportsSpatialClustering(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C064_SPATIAL_CLUSTERING,false));q.setSupportsKeepOriginalTexts(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C122_ORIGINAL_TEXTS,false));q.setSupportsConditions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C101_CONDITIONS,false));q.setSupportsExtendedSort(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C054_EXTENDED_SORT,false));q.setSupportsDataCells(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C026_QUERY_DATA_CELLS,false));q.setSupportsExpandBottomUp(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C100_EXPAND_BOTTOM_UP,false));q.setSupportsIgnoreExternalDimensions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C073_IGNORE_EXTERNAL_DIMENSIONS,false));q.setSupportsExceptionAggregationDimsFormulas(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C104_EXCEPTION_AGGREGATION_DIMENSIONS_AND_FORMULAS,false));q.setSupportsExceptionSettings(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C024_EXCEPTION_SETTINGS,false));q.setSupportsExceptions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C023_EXCEPTIONS,false));q.setSupportsHierarchyVirtualRootNode(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C163_HIERARCHY_VIRTUAL_ROOT_NODE,false));q.setSupportsHierarchyRestNode(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C164_HIERARCHY_REST_NODE,false));q.setSupportsCubeBlending(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C091_CUBE_BLENDING,false));q.setSupportsMetadataDataCategory(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C099_METADATA_DATA_CATEGORY,false));q.setSupportsExtendedDimensionVisibility(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY,false));q.setSupportsResultSetUnitIndex(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C195_RESULTSET_UNIT_INDEX,false));q.setSupportsAsyncBatchRequests(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C162_ASYNC_METADATA_BATCH_REQUEST,false));q.setSupportsMetadataDataSourceDefinitionValidation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C144_METADATA_DATASOURCE_DEFINITION_VALIDATION,false));q.setSupportsVariableVariants(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C135_VARIABLE_VARIANTS,false));q.setSupportsCalculatedDimensions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C171_CALCULATED_DIMENSION,false));q.setSupportsZeroSuppression(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C045_ZERO_SUPPRESSION,false));q.setSupportsResultSetInterval(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C049_RESULTSET_INTERVAL,false));q.setSupportsFixHierarchyFlatKeys(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C181_FIX_HIERARCHY_FLAT_KEYS,false));q.setSupportsAttributeValueLookup(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C115_ATTRIBUTE_VALUE_LOOKUP,false));q.setSupportsAggregationNopNull(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C102_AGGREGATION_NOP_NULL,false));q.setSupportsAggregationNopNullZero(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C103_AGGREGATION_NOP_NULL_ZERO,false));q.setSupportsPlanningOnCalculatedDimensions(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C172_PLANNING_ON_CALCULATED_DIMENSION,false));q.setSupportsCustomDimension2(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C211_CUSTOM_DIMENSION_2,false));q.setSupportsCubeBlendingAggregation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C092_CUBE_BLENDING_AGGREGATION,false));q.setSupportsWindowFunction(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V218_WINDOW_FUNCTION,false));q.setSupportsMultipleExAggDimsInCalcPlan(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V126_MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN,false));q.setSupportsSetOperandCurrentMemberSingleNavigation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C222_SET_OPERAND_CURRENT_MEMBER_SINGLE_NAVIGATION,false));q.setSupportsHierarchyPathPresentationType(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V294_HIERARCHY_PATH_PRESENTATION_TYPE,false));q.setSupportsDimensionKeyAttributes(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V296_DIMENSION_KEY_ATTRIBUTES,false));q.setSupportsCurrentMemberFilterExtension(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C120_CURRENT_MEMBER_FILTER_EXTENSION,false));q.setSupportsClientInfo(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C155_CLIENT_INFO,false));q.setSupportsDynamicRestrictionOnFormula(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C197_DYN_RESTRICTION_ON_FORMULA,false));q.setSupportsVisualAggregation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C176_VISUAL_AGGREGATION,false));q.setSupportsNamedCustomMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V236_NAMED_CUSTOM_DIMENSION_MEMBER,false));q.setSupportsReinitVariables(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C002_VARIABLE_RE_SUBMIT,false));q.setSupportsMultiSource(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C047_MULTI_SOURCE,false));q.setSupportsRequestTimezone(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C174_REQUEST_TIME_ZONE,false));q.setSupportsVariableMasking(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C199_AV_CAPABILITY_VARIABLE_MASKING,false));q.setSupportsSuppressKeyfigureCalculation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C151_SUPPRESS_KEYFIGURE_CALCULATION,false));q.setSupportsInputReadinessStates(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C147_INPUT_READINESS_STATES,false));q.setSupportsReturnedDataSelection(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C141_RETURNED_DATA_SELECTION,false));q.setSupportsRunAsUser(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C025_RUN_AS_USER,false));q.setSupportsVirtualDescription(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C214_IS_VIRTUAL_DESCRIPTION,false));q.setSupportsVersionParameters(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C183_GET_PARAMETERS,false));q.setSupportsVersionPrivileges(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C184_VERSION_PRIVILEGES,false));q.setSupportsMeasureMemberDefinition(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C215_MEASURE_MEMBER_DEFINITION,false));q.setSupportsMeasureMemberDetails(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C216_MEASURE_MEMBER_DETAILS,false));q.setSupportsMeasureMemberType(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C217_MEASURE_MEMBER_TYPE,false));q.setSupportsValueHelpWithAttributes(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C185_VALUE_HELP_WITH_ATTRIBUTES,!i));q.setSupportsEncodedResultset(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C012_ENCODED_RESULTSET,false));q.setSupportsNewValuesImplicitUnlock(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK,false));q.setSupportsNewValuesExtendedFormat(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT,false));q.setSupportsReportReportInterface(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C050_REPORT_REPORT_INTERFACE,false));q.setSupportsResultSetHierarchyLevel(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V149_RESULTSET_HIERARCHY_LEVEL,false));q.setSupportsQueryDataCellModelDefaults(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS,false));q.setSupportsCubeBlendingSorting(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C095_CUBE_BLENDING_MEMBER_SORTING,false));q.setSupportsCubeBlendingReadmode(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C098_CUBE_BLENDING_READ_MODE,false));q.setSupportsCubeBlendingCustomMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C094_CUBE_BLENDING_CUSTOM_MEMBERS,false));var d=f.InACapabilitiesProvider.supports(s,f.InACapabilities.C051_HIERARCHY_PATH,false);q.setSupportsHierarchyPath(d);var e=f.InACapabilitiesProvider.supports(s,f.InACapabilities.C056_HIERARCHY_PATH_UNIQUE_NAME,false);q.setSupportsUniqueHierarchyPath(d&&e);q.setSupportsUniversalModel(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C221_UNIVERSAL_MODEL,false));q.setSupportsCurrencyTranslation(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C218_CURRENCY_TRANSLATION,false));q.setSupportsMeasureMemberCurrencyTranslations(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C219_MEASURE_MEMBER_CURRENCY_TRANSLATIONS,false));q.setSupportsTechnicalAxis(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C042_TECHNICAL_AXIS,false));q.setSupportsResultsetEffectiveFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C205_RESUlTSET_EFFECTIVE_FILTER,false));q.setSupportsBatchRsStreaming(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C207_BATCH_RS_STREAMING,false));q.setSupportsBatchBlendingRsStreaming(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V308_ASYNC_BLENDING_BATCH_REQUEST,false));q.setSupportsCorrectDimensionDescription(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V198_DIMENSION_DESCRIPTION,false));q.setSupportsRootOrphansAfterVisibilityFilter(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C213_ROOT_ORPHANS_AFTER_VISIBILITY_FILTER,false));q.setSupportsMetadataDimensionOthers(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V224_METADATA_DIMENSION_OTHERS,false));q.setSupportsRSCellFormatTypeSpecific(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V268_RESULTSET_CELL_FORMAT_TYPE_SPECIFIC,false));q.setSupportsSuppressSupplements(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V230_SUPPRESS_SUPPLEMENTS,false));q.setSupportsAutoVariableSubmit(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V286_AUTO_VARIABLE_SUBMIT,false));q.setSupportsExceptionAggregationFirstLastSelectionMember(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C208_EXCEPTION_AGGREGATION_FIRST_LAST_SELECTION_MEMBER,false));q.setSupportsResultSetCellExplain(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C209_RESULTSET_CELL_EXPLAIN,false));q.setSupportsMaintainsVariableVariants(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V320_MAINTAINS_VARIABLE_VARIANTS,false));q.setSupportsNullZeroSuppression(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V254_NULL_ZERO_SUPPRESSION,false));q.setSupportsInputReadinessWithNavigationalAttributes(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V256_INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES,false));q.setSupportsIteratedFormula(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V270_ITERATED_FORMULA,false));q.setSupportsCDSProjectionViews(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V272_CDS_PROJECTION_VIEWS,false));q.setSupportsCellDocumentId(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V274_CELL_DOCUMENT_ID,false));q.setSupportsUndefinedTupleCountTotals(f.InACapabilitiesProvider.supports(s,f.InACapabilities.C220_UNDEFINED_TUPLE_COUNT_TOTALS,false));q.setSupportsTextInHierarchyForCharacteristicsWithoutText(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V302_TEXT_IN_HIERARCHY,false));q.setSupportsPagingTupleCountBeforeSlicing(f.InACapabilitiesProvider.supports(s,f.InACapabilities.V298_PAGING_TUPLE_COUNT_BEFORE_SLICING,false));};f.InACapabilitiesProvider.supports=function(c,n,d){return d||f.notNull(c)&&c.containsKey(n);};f.InACapabilitiesProvider.importDimensionExtensionCapabilities=function(s,q){q.setSupportsFunctionalValueHelp(f.notNull(s)&&s.containsKey(f.ConnectionConstants.FAST_PATH));};f.InACapabilitiesProvider.prototype.m_serverMetadata=null;f.InACapabilitiesProvider.prototype.m_providerType=null;f.InACapabilitiesProvider.prototype.m_additionalFeatureToggles=null;f.InACapabilitiesProvider.prototype.m_clientMainCapabilities=null;f.InACapabilitiesProvider.prototype.m_clientFeatureToggleCapabilities=null;f.InACapabilitiesProvider.prototype.m_serverMainCapabilities=null;f.InACapabilitiesProvider.prototype.m_serverBetaCapabilities=null;f.InACapabilitiesProvider.prototype.m_activeCapabilities=null;f.InACapabilitiesProvider.prototype.m_serverPersistencyCapabilities=null;f.InACapabilitiesProvider.prototype.m_deserializationDocumentCapabilities=null;f.InACapabilitiesProvider.prototype.m_activeDeserializationCapabilities=null;f.InACapabilitiesProvider.prototype.m_dimensionExtensionCapabilities=null;f.InACapabilitiesProvider.prototype.setupExt=function(s,a,p,b){this.setupSessionContext(s);this.m_serverMetadata=a;this.m_providerType=p;this.m_additionalFeatureToggles=b;this.m_clientMainCapabilities=this.createMainCapabilities(p);this.m_clientFeatureToggleCapabilities=this.createFeatureToggleCapabilities(p);if(f.notNull(this.m_serverMetadata)&&f.notNull(this.m_providerType)){var m=this.getServerCapabilitiesForProviderType(this.m_providerType,false);this.m_serverMainCapabilities=f.XObjectExt.cloneIfNotNull(m);var c=this.getServerCapabilitiesForProviderType(this.m_providerType,true);this.m_serverBetaCapabilities=f.XObjectExt.cloneIfNotNull(c);var d=this.getServerCapabilitiesForProviderType(f.ProviderType.DIMENSION_EXTENSION,false);this.m_dimensionExtensionCapabilities=f.XObjectExt.cloneIfNotNull(d);}};f.InACapabilitiesProvider.prototype.releaseObject=function(){this.m_activeDeserializationCapabilities=f.XObjectExt.release(this.m_activeDeserializationCapabilities);this.m_serverPersistencyCapabilities=f.XObjectExt.release(this.m_serverPersistencyCapabilities);this.m_deserializationDocumentCapabilities=f.XObjectExt.release(this.m_deserializationDocumentCapabilities);this.m_dimensionExtensionCapabilities=f.XObjectExt.release(this.m_dimensionExtensionCapabilities);this.m_clientMainCapabilities=f.XObjectExt.release(this.m_clientMainCapabilities);this.m_clientFeatureToggleCapabilities=f.XObjectExt.release(this.m_clientFeatureToggleCapabilities);this.m_serverMainCapabilities=f.XObjectExt.release(this.m_serverMainCapabilities);this.m_serverBetaCapabilities=f.XObjectExt.release(this.m_serverBetaCapabilities);this.m_activeCapabilities=f.XObjectExt.release(this.m_activeCapabilities);f.DfSessionContext.prototype.releaseObject.call(this);};f.InACapabilitiesProvider.prototype.createFeatureToggleCapabilities=function(p){var c=f.CapabilityContainer.create("featureToggle");if(p===f.ProviderType.PLANNING_COMMAND||p===f.ProviderType.PLANNING_VALUE_HELP){c=this.createFeatureTogglePlanningCapabilities(c);}else{c=this.createFeatureToggleAnalyticsCapabilities(c);}return c;};f.InACapabilitiesProvider.prototype.createMainCapabilities=function(p){var c=f.CapabilityContainer.create("main");if(p===f.ProviderType.PLANNING_COMMAND||p===f.ProviderType.PLANNING_VALUE_HELP){this.createMainPlanningCapabilities(c);}else{this.createMainAnalyticsCapabilities(c);}return c;};f.InACapabilitiesProvider.prototype.createFeatureToggleAnalyticsCapabilities=function(a){var s=this.m_serverMetadata.getSystemDescription().getSystemType();this.check(a,f.FeatureToggleOlap.MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN,f.InACapabilities.V126_MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN);this.checkExt(a,f.FeatureToggleOlap.UNIFIED_DATACELLS,f.InACapabilities.C210_UNIFIED_DATA_CELLS,s,f.SystemType.HANA);this.check(a,f.FeatureToggleOlap.HIERARCHY_LEVEL,f.InACapabilities.V149_RESULTSET_HIERARCHY_LEVEL);this.check(a,f.FeatureToggleOlap.NUMBER_AS_STRING,f.InACapabilities.V172_NUMBER_AS_STRING);this.check(a,f.FeatureToggleOlap.UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED,f.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED);this.check(a,f.FeatureToggleOlap.CUBE_CACHE,f.InACapabilities.V166_CUBE_CACHE);this.check(a,f.FeatureToggleOlap.EXT_KEYFIGURE_PROPERTIES,f.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES);this.check(a,f.FeatureToggleOlap.QDATA_CELL_MODEL_DEFAULTS,f.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS);this.check(a,f.FeatureToggleOlap.DISP_HIERARCHY_FIX_IN_FILTER,f.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER);this.check(a,f.FeatureToggleOlap.CUSTOM_DIMENSION_2_FOR_AGILE_BI,f.InACapabilities.C211_CUSTOM_DIMENSION_2);this.check(a,f.FeatureToggleOlap.CUSTOM_DIMENSION_2_FOR_INA_MODEL,f.InACapabilities.C211_CUSTOM_DIMENSION_2);this.check(a,f.FeatureToggleOlap.MEMBER_VALUE_EXCEPTIONS,f.InACapabilities.V188_MEMBER_VALUE_EXCEPTIONS);this.check(a,f.FeatureToggleOlap.DYN_MEMBERS_ON_NON_MEASURE_STRUCTURE,f.InACapabilities.V248_DYNAMIC_MEMBERS_ON_NON_MEASURE_STRUCTURE);this.check(a,f.FeatureToggleOlap.RESULTSET_CELL_FORMAT_TYPE_SPECIFIC,f.InACapabilities.V268_RESULTSET_CELL_FORMAT_TYPE_SPECIFIC);this.check(a,f.FeatureToggleOlap.CUBE_BLENDING_N_QUERIES,f.InACapabilities.V214_CUBE_BLENDING_N_QUERIES);this.check(a,f.FeatureToggleOlap.DATASOURCE_TYPE_QUERY_METADATA,f.InACapabilities.V210_DATASOURCE_TYPE_QUERY_METADATA);this.check(a,f.FeatureToggleOlap.DATASOURCE_TYPE_QUERY,f.InACapabilities.V212_DATASOURCE_TYPE_QUERY);this.check(a,f.FeatureToggleOlap.TUPLES_OPERAND,f.InACapabilities.V216_TUPLES_OPERAND);this.check(a,f.FeatureToggleOlap.UDH_ALIGNMENT,f.InACapabilities.V250_UDH_ALIGNMENT);this.check(a,f.FeatureToggleOlap.SID_PRESENTATION,f.InACapabilities.V232_SID_PRESENTATION);this.check(a,f.FeatureToggleOlap.METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES,f.InACapabilities.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);this.check(a,f.FeatureToggleOlap.HIERARCHY_CATALOG,f.InACapabilities.V322_HIERARCHY_CATALOG);this.check(a,f.FeatureToggleOlap.METADATA_DIMENSION_OTHERS,f.InACapabilities.V224_METADATA_DIMENSION_OTHERS);this.check(a,f.FeatureToggleOlap.METADATA_DIMENSION_IS_MODELED,f.InACapabilities.V226_METADATA_DIMENSION_IS_MODELED);this.check(a,f.FeatureToggleOlap.RESULTSET_CELL_MEASURE,f.InACapabilities.V264_RESULTSET_CELL_MEASURE);this.check(a,f.FeatureToggleOlap.RESULTSETV2_METADATA_EXTENSION1,f.InACapabilities.V266_RESULTSETV2_METADATA_EXTENSION1);this.check(a,f.FeatureToggleOlap.CORRECT_DIMENSION_DESCRIPTION,f.InACapabilities.V198_DIMENSION_DESCRIPTION);this.check(a,f.FeatureToggleOlap.SUPPRESS_SUPPLEMENTS,f.InACapabilities.V230_SUPPRESS_SUPPLEMENTS);this.check(a,f.FeatureToggleOlap.WINDOW_FUNCTION,f.InACapabilities.V218_WINDOW_FUNCTION);this.check(a,f.FeatureToggleOlap.HIERARCHY_PATH_PRESENTATION_TYPE,f.InACapabilities.V294_HIERARCHY_PATH_PRESENTATION_TYPE);this.check(a,f.FeatureToggleOlap.DIMENSION_KEY_ATTRIBUTES,f.InACapabilities.V296_DIMENSION_KEY_ATTRIBUTES);this.check(a,f.FeatureToggleOlap.NAMED_CUSTOM_DIMENSION_MEMBER,f.InACapabilities.V236_NAMED_CUSTOM_DIMENSION_MEMBER);this.check(a,f.FeatureToggleOlap.AUTO_VARIABLE_SUBMIT_CAPABILITY,f.InACapabilities.V286_AUTO_VARIABLE_SUBMIT);this.check(a,f.FeatureToggleOlap.NULL_ZERO_SUPPRESSION,f.InACapabilities.V254_NULL_ZERO_SUPPRESSION);this.check(a,f.FeatureToggleOlap.INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES,f.InACapabilities.V256_INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES);this.check(a,f.FeatureToggleOlap.ITERATED_FORMULA,f.InACapabilities.V270_ITERATED_FORMULA);this.check(a,f.FeatureToggleOlap.CDS_PROJECTION_VIEWS,f.InACapabilities.V272_CDS_PROJECTION_VIEWS);this.check(a,f.FeatureToggleOlap.CELL_DOCUMENT_ID,f.InACapabilities.V274_CELL_DOCUMENT_ID);this.check(a,f.FeatureToggleOlap.TUPLE_COUNT_BEFORE_SLICING,f.InACapabilities.V298_PAGING_TUPLE_COUNT_BEFORE_SLICING);this.check(a,f.FeatureToggleOlap.TEXT_IN_HIERARCHY,f.InACapabilities.V302_TEXT_IN_HIERARCHY);this.check(a,f.FeatureToggleOlap.ASYNC_BLENDING_BATCH_REQUEST,f.InACapabilities.V308_ASYNC_BLENDING_BATCH_REQUEST);this.check(a,f.FeatureToggleOlap.MAINTAIN_VARIABLE_VARIANTS,f.InACapabilities.V320_MAINTAINS_VARIABLE_VARIANTS);return a;};f.InACapabilitiesProvider.prototype.createMainAnalyticsCapabilities=function(m){m.addCapability(f.InACapabilities.C000_ATTRIBUTE_HIERARCHY);m.addCapability(f.InACapabilities.C001_DATASOURCE_AT_SERVICE);m.addCapability(f.InACapabilities.C002_VARIABLE_RE_SUBMIT);m.addCapability(f.InACapabilities.C003_CLIENT_CAPABILITIES);m.addCapability(f.InACapabilities.C004_METADATA_SERVICE);m.addCapability(f.InACapabilities.C005_OBTAINABILITY);m.addCapability(f.InACapabilities.C006_READ_MODE);m.addCapability(f.InACapabilities.C007_RESPONSE_FIXED_ATTRIBUTE_SEQUENCE);m.addCapability(f.InACapabilities.C008_SERVER_STRUCTURE_NAMES);m.addCapability(f.InACapabilities.C009_STATEFUL_SERVER);m.addCapability(f.InACapabilities.C010_STATEFUL_DATA_PROVIDER);m.addCapability(f.InACapabilities.C011_SET_OPERAND);m.addCapability(f.InACapabilities.C012_ENCODED_RESULTSET);m.addCapability(f.InACapabilities.C013_COMPLEX_FILTERS);m.addCapability(f.InACapabilities.C014_UNIFIED_REQUEST_SYNTAX);m.addCapability(f.InACapabilities.C015_SEMANTICAL_ERROR_TYPE);m.addCapability(f.InACapabilities.C016_EXT_HIERARCHY);m.addCapability(f.InACapabilities.C017_SAP_DATE);m.addCapability(f.InACapabilities.C018_CUMMULATIVE);m.addCapability(f.InACapabilities.C019_EXTENDED_DIMENSION_TYPES);m.addCapability(f.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK);m.addCapability(f.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT);m.addCapability(f.InACapabilities.C022_HIERARCHY_NAME_VARIABLE);m.addCapability(f.InACapabilities.C023_EXCEPTIONS);m.addCapability(f.InACapabilities.C024_EXCEPTION_SETTINGS);m.addCapability(f.InACapabilities.C025_RUN_AS_USER);m.addCapability(f.InACapabilities.C026_QUERY_DATA_CELLS);m.addCapability(f.InACapabilities.C027_RESULTSET_CELL_VALUE_TYPES);m.addCapability(f.InACapabilities.C028_METADATA_DIMENSION_GROUP);m.addCapability(f.InACapabilities.C029_RESULTSET_CELL_FORMAT_STRING);m.addCapability(f.InACapabilities.C030_UNIQUE_ATTRIBUTE_NAMES);m.addCapability(f.InACapabilities.C031_METADATA_IS_DISPLAY_ATTRIBUTE);m.addCapability(f.InACapabilities.C032_FAST_PATH);m.addCapability(f.InACapabilities.C033_ATTRIBUTE_HIERARCHY_UNIQUE_FIELDS);m.addCapability(f.InACapabilities.C034_HIERARCHY_KEY_TEXT_NAME);m.addCapability(f.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER);m.addCapability(f.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS);m.addCapability(f.InACapabilities.C037_SUPPLEMENTS);m.addCapability(f.InACapabilities.C038_USE_EPM_VERSION);m.addCapability(f.InACapabilities.C039_DIMENSION_KIND_EPM_VERSION);m.addCapability(f.InACapabilities.C040_DIMENSION_KIND_CHART_OF_ACCOUNTS);m.addCapability(f.InACapabilities.C041_SP9);m.addCapability(f.InACapabilities.C042_TECHNICAL_AXIS);m.addCapability(f.InACapabilities.C043_DIMENSION_VALUEHELP_PROPERTY);m.addCapability(f.InACapabilities.C044_PAGING_TUPLE_COUNT_TOTAL);m.addCapability(f.InACapabilities.C045_ZERO_SUPPRESSION);m.addCapability(f.InACapabilities.C046_MANUAL_INPUT);m.addCapability(f.InACapabilities.C047_MULTI_SOURCE);m.addCapability(f.InACapabilities.C048_MEMBER_VISIBILITY);m.addCapability(f.InACapabilities.C049_RESULTSET_INTERVAL);m.addCapability(f.InACapabilities.C050_REPORT_REPORT_INTERFACE);m.addCapability(f.InACapabilities.C051_HIERARCHY_PATH);m.addCapability(f.InACapabilities.C052_METADATA_HIERARCHY_STRUCTURE);m.addCapability(f.InACapabilities.C053_METADATA_HIERARCHY_LEVELS);m.addCapability(f.InACapabilities.C054_EXTENDED_SORT);m.addCapability(f.InACapabilities.C055_CUSTOM_DIMENSION_MEMBER_EXECUTION_STEP);m.addCapability(f.InACapabilities.C056_HIERARCHY_PATH_UNIQUE_NAME);m.addCapability(f.InACapabilities.C057_HIERARCHY_DATA_AND_EXCLUDING_FILTERS);m.addCapability(f.InACapabilities.C058_HIERARCHY_SELECTION_AS_FLAT_SELECTION);m.addCapability(f.InACapabilities.C059_VISIBILITY_FILTER);m.addCapability(f.InACapabilities.C060_CELL_VALUE_OPERAND);m.addCapability(f.InACapabilities.C061_SPATIAL_FILTER);m.addCapability(f.InACapabilities.C062_SPATIAL_FILTER_WITH_SRID);m.addCapability(f.InACapabilities.C063_SPATIAL_TRANSFORMATIONS);m.addCapability(f.InACapabilities.C064_SPATIAL_CLUSTERING);m.addCapability(f.InACapabilities.C065_HIERARCHY_TRAPEZOID_FILTER);m.addCapability(f.InACapabilities.C066_SUBMIT_RETURNS_VARIABLE_VALUES);m.addCapability(f.InACapabilities.C067_EXTENDED_DIMENSIONS);m.addCapability(f.InACapabilities.C068_EXTENDED_DIMENSIONS_FIELD_MAPPING);m.addCapability(f.InACapabilities.C069_EXTENDED_DIMENSIONS_JOIN_COLUMNS);m.addCapability(f.InACapabilities.C070_EXTENDED_DIMENSIONS_OUTER_JOIN);m.addCapability(f.InACapabilities.C071_EXTENDED_DIMENSIONS_SKIP);m.addCapability(f.InACapabilities.C072_METADATA_DEFAULT_RESULT_ALIGNMENT_BOTTOM);m.addCapability(f.InACapabilities.C073_IGNORE_EXTERNAL_DIMENSIONS);m.addCapability(f.InACapabilities.C074_RETURN_RESTRICTED_AND_CALCULATED_MEMBERS_IN_READ_MODE_BOOKED);m.addCapability(f.InACapabilities.C075_PERSIST_RESULTSET);m.addCapability(f.InACapabilities.C076_RESTRICTED_MEMBERS_CONVERT_TO_FLAT_SELECTION);m.addCapability(f.InACapabilities.C077_VARIABLES);m.addCapability(f.InACapabilities.C078_TOTALS);m.addCapability(f.InACapabilities.C079_ENCODED_RESULTSET_2);m.addCapability(f.InACapabilities.C080_RESULTSET_STATE);m.addCapability(f.InACapabilities.C081_RESULTSET_CELL_NUMERIC_SHIFT);m.addCapability(f.InACapabilities.C082_RESULTSET_CELL_DATA_TYPE);m.addCapability(f.InACapabilities.C083_ORDER_BY);m.addCapability(f.InACapabilities.C084_METADATA_REPOSITORY_SUFFIX);m.addCapability(f.InACapabilities.C085_METADATA_CUBE_QUERY);m.addCapability(f.InACapabilities.C086_MAX_RESULT_RECORDS);m.addCapability(f.InACapabilities.C087_IGNORE_UNIT_OF_NULL_IN_AGGREGATION);m.addCapability(f.InACapabilities.C088_SET_NULL_CELLS_UNIT_TYPE);m.addCapability(f.InACapabilities.C089_DIMENSION_FILTER);m.addCapability(f.InACapabilities.C090_DIMENSION_F4_SELECTION_WITH_COMPOUNDMENT);m.addCapability(f.InACapabilities.C091_CUBE_BLENDING);m.addCapability(f.InACapabilities.C092_CUBE_BLENDING_AGGREGATION);m.addCapability(f.InACapabilities.C093_REMOTE_BLENDING);m.addCapability(f.InACapabilities.C094_CUBE_BLENDING_CUSTOM_MEMBERS);m.addCapability(f.InACapabilities.C095_CUBE_BLENDING_MEMBER_SORTING);m.addCapability(f.InACapabilities.C096_CUBE_BLENDING_OUT_OF_CONTEXT);m.addCapability(f.InACapabilities.C097_CUBE_BLENDING_PROPERTIES);m.addCapability(f.InACapabilities.C098_CUBE_BLENDING_READ_MODE);m.addCapability(f.InACapabilities.C099_METADATA_DATA_CATEGORY);m.addCapability(f.InACapabilities.C100_EXPAND_BOTTOM_UP);m.addCapability(f.InACapabilities.C101_CONDITIONS);m.addCapability(f.InACapabilities.C102_AGGREGATION_NOP_NULL);m.addCapability(f.InACapabilities.C103_AGGREGATION_NOP_NULL_ZERO);m.addCapability(f.InACapabilities.C104_EXCEPTION_AGGREGATION_DIMENSIONS_AND_FORMULAS);m.addCapability(f.InACapabilities.C105_EXCEPTION_AGGREGATION_AVGNULL_SELECTION_MEMBER);m.addCapability(f.InACapabilities.C106_EXCEPTION_AGGREGATION_COUNTNULL_SELECTION_MEMBER);m.addCapability(f.InACapabilities.C107_STATISTICAL_AGGREGATIONS);m.addCapability(f.InACapabilities.C108_MDS_EXPRESSION);m.addCapability(f.InACapabilities.C109_TOTALS_AFTER_VISIBILITY_FILTER);m.addCapability(f.InACapabilities.C110_DEFINITION_RETURNS_VARIABLE_VALUES);m.addCapability(f.InACapabilities.C111_HIERARCHY_NAVIGATION_DELTA_MODE);m.addCapability(f.InACapabilities.C112_FLAT_KEY_ON_HIERARCHY_DISPLAY);m.addCapability(f.InACapabilities.C113_DATA_CELL_MIXED_VALUES);m.addCapability(f.InACapabilities.C114_VALUES_ROUNDED);m.addCapability(f.InACapabilities.C115_ATTRIBUTE_VALUE_LOOKUP);m.addCapability(f.InACapabilities.C116_METADATA_HIERARCHY_UNIQUE_NAME);m.addCapability(f.InACapabilities.C117_CANCEL_RUNNING_REQUESTS);m.addCapability(f.InACapabilities.C118_CALCULATED_KEYFIGURES);m.addCapability(f.InACapabilities.C119_RESTRICTED_KEYFIGURES);m.addCapability(f.InACapabilities.C120_CURRENT_MEMBER_FILTER_EXTENSION);m.addCapability(f.InACapabilities.C121_RETURN_ERROR_FOR_INVALID_QUERYMODEL);m.addCapability(f.InACapabilities.C122_ORIGINAL_TEXTS);m.addCapability(f.InACapabilities.C123_CUSTOM_DIMENSION_FILTER);m.addCapability(f.InACapabilities.C124_AVERAGE_COUNT_IGNORE_NULL_ZERO);m.addCapability(f.InACapabilities.C125_MDS_LIKE_PAGING);m.addCapability(f.InACapabilities.C126_HIERARCHY_LEVEL_OFFSET_FILTER);m.addCapability(f.InACapabilities.C127_CE_SCENARIO_PARAMS);m.addCapability(f.InACapabilities.C128_METADATA_DIMENSION_CAN_BE_AGGREGATED);m.addCapability(f.InACapabilities.C129_INITIAL_DRILL_LEVEL_RELATIVE);m.addCapability(f.InACapabilities.C130_MDM_HIERARCHY_WITH_DRILL_LEVEL);m.addCapability(f.InACapabilities.C131_NO_HIERARCHY_PATH_ON_FLAT_DIMENSIONS);m.addCapability(f.InACapabilities.C132_DATA_REFRESH);m.addCapability(f.InACapabilities.C133_RESULTSET_AXIS_TYPE);m.addCapability(f.InACapabilities.C134_EPM_RESPONSE_LIST_SHARED_VERSIONS);m.addCapability(f.InACapabilities.C135_VARIABLE_VARIANTS);m.addCapability(f.InACapabilities.C136_READ_MODES_V2);m.addCapability(f.InACapabilities.C137_LIST_REPORTING);m.addCapability(f.InACapabilities.C138_DIMENSION_TYPE_TIME);m.addCapability(f.InACapabilities.C139_UNIVERSAL_DISPLAY_HIERARCHIES);m.addCapability(f.InACapabilities.C140_CATALOG_SERVICE_V20);m.addCapability(f.InACapabilities.C141_RETURNED_DATA_SELECTION);m.addCapability(f.InACapabilities.C142_KEYFIGURE_HIERARCHIES);m.addCapability(f.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY);m.addCapability(f.InACapabilities.C144_METADATA_DATASOURCE_DEFINITION_VALIDATION);m.addCapability(f.InACapabilities.C145_DATA_REFRESH_AND_DATA_TOPICALITY);m.addCapability(f.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION);m.addCapability(f.InACapabilities.C147_INPUT_READINESS_STATES);m.addCapability(f.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER);m.addCapability(f.InACapabilities.C149_CUSTOM_SORT);m.addCapability(f.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT);m.addCapability(f.InACapabilities.C151_SUPPRESS_KEYFIGURE_CALCULATION);m.addCapability(f.InACapabilities.C152_IGNORE_UNIT_OF_ZERO_VALUE_IN_AGGREGATION);m.addCapability(f.InACapabilities.C153_VARIANCE_OPERATOR);m.addCapability(f.InACapabilities.C154_MD_DS_DEF_VAL_EXPOSE_DS);m.addCapability(f.InACapabilities.C155_CLIENT_INFO);m.addCapability(f.InACapabilities.C156_EXTENDED_DIMENSION_CHANGE_DEFAULT_RENAMING_AND_DESCRIPTION);m.addCapability(f.InACapabilities.C157_EXTENDED_DIMENSION_COPY_ALL_HIERARCHIES);m.addCapability(f.InACapabilities.C158_FIX_METADATA_HIERARCHY_ATTRIBUTES);m.addCapability(f.InACapabilities.C159_EXCEPTIONS_V2);m.addCapability(f.InACapabilities.C160_QUERY_CURRENCY_TRANSLATION);m.addCapability(f.InACapabilities.C161_STRUCTURE_RESTRICTIONS_IN_VALUE_HELP);m.addCapability(f.InACapabilities.C162_ASYNC_METADATA_BATCH_REQUEST);m.addCapability(f.InACapabilities.C163_HIERARCHY_VIRTUAL_ROOT_NODE);m.addCapability(f.InACapabilities.C164_HIERARCHY_REST_NODE);m.addCapability(f.InACapabilities.C165_SPATIAL_CHOROPLETH);m.addCapability(f.InACapabilities.C166_INA_CURRENT_MEMBER);m.addCapability(f.InACapabilities.C167_FORMULA_OPERATORS_CATALOG);m.addCapability(f.InACapabilities.C168_READMODE_RELATED_BOOOKED);m.addCapability(f.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS);m.addCapability(f.InACapabilities.C170_MDM_HIERARCHY_DRILL_LEVEL);m.addCapability(f.InACapabilities.C171_CALCULATED_DIMENSION);m.addCapability(f.InACapabilities.C172_PLANNING_ON_CALCULATED_DIMENSION);m.addCapability(f.InACapabilities.C173_METADATA_BASE_MEASURE_NAME);m.addCapability(f.InACapabilities.C174_REQUEST_TIME_ZONE);m.addCapability(f.InACapabilities.C175_PRESENTATION_LENGTH);m.addCapability(f.InACapabilities.C176_VISUAL_AGGREGATION);m.addCapability(f.InACapabilities.C177_DATA_ENTRY_ON_UNBOOKED);m.addCapability(f.InACapabilities.C178_MASTER_READ_MODE_BY_DIMENSION_GROUPING);m.addCapability(f.InACapabilities.C179_UNASSIGNED_NODE_AS_DEFINED_IN_QUERY);m.addCapability(f.InACapabilities.C180_REMOTE_FILTER);m.addCapability(f.InACapabilities.C181_FIX_HIERARCHY_FLAT_KEYS);m.addCapability(f.InACapabilities.C182_CUBE_BLENDING_PERSISTENCE_TYPE);m.addCapability(f.InACapabilities.C183_GET_PARAMETERS);m.addCapability(f.InACapabilities.C184_VERSION_PRIVILEGES);m.addCapability(f.InACapabilities.C185_VALUE_HELP_WITH_ATTRIBUTES);m.addCapability(f.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD);m.addCapability(f.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER);m.addCapability(f.InACapabilities.C188_LOCALE_SORTING);m.addCapability(f.InACapabilities.C189_DIMENSION_VISIBILITY);m.addCapability(f.InACapabilities.C190_METADATA_SEMANTIC_TYPE);m.addCapability(f.InACapabilities.C191_DYNAMIC_VARIABLES);m.addCapability(f.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES);m.addCapability(f.InACapabilities.C193_INA_MODEL_METADATA);m.addCapability(f.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY);m.addCapability(f.InACapabilities.C195_RESULTSET_UNIT_INDEX);m.addCapability(f.InACapabilities.C196_REMOTE_BLENDING_BW);m.addCapability(f.InACapabilities.C197_DYN_RESTRICTION_ON_FORMULA);m.addCapability(f.InACapabilities.C198_OPERATOR_TOTALS);m.addCapability(f.InACapabilities.C199_AV_CAPABILITY_VARIABLE_MASKING);m.addCapability(f.InACapabilities.C200_COMPLEX_TUPLE_FILTER);if(this.getSession().hasFeature(f.FeatureToggleOlap.FUSION_SERVICE)===false){m.addCapability(f.InACapabilities.C201_DETAILED_RESPONSE_EXPANSION);}m.addCapability(f.InACapabilities.C202_CUSTOM_HIERARCHY);m.addCapability(f.InACapabilities.C203_CUSTOM_MEMBER_KEY_SORT_ORDER);m.addCapability(f.InACapabilities.C204_UNIVERSAL_DISPLAY_HIERARCHY_CUSTOM_DIM);m.addCapability(f.InACapabilities.C205_RESUlTSET_EFFECTIVE_FILTER);m.addCapability(f.InACapabilities.C206_REMOTE_BLENDING_METADATA);m.addCapability(f.InACapabilities.C207_BATCH_RS_STREAMING);m.addCapability(f.InACapabilities.C208_EXCEPTION_AGGREGATION_FIRST_LAST_SELECTION_MEMBER);m.addCapability(f.InACapabilities.C209_RESULTSET_CELL_EXPLAIN);m.addCapability(f.InACapabilities.C211_CUSTOM_DIMENSION_2);m.addCapability(f.InACapabilities.C212_SORT_NEW_VALUES);m.addCapability(f.InACapabilities.C213_ROOT_ORPHANS_AFTER_VISIBILITY_FILTER);m.addCapability(f.InACapabilities.C214_IS_VIRTUAL_DESCRIPTION);m.addCapability(f.InACapabilities.C215_MEASURE_MEMBER_DEFINITION);m.addCapability(f.InACapabilities.C216_MEASURE_MEMBER_DETAILS);m.addCapability(f.InACapabilities.C217_MEASURE_MEMBER_TYPE);m.addCapability(f.InACapabilities.C218_CURRENCY_TRANSLATION);m.addCapability(f.InACapabilities.C219_MEASURE_MEMBER_CURRENCY_TRANSLATIONS);m.addCapability(f.InACapabilities.C220_UNDEFINED_TUPLE_COUNT_TOTALS);m.addCapability(f.InACapabilities.C221_UNIVERSAL_MODEL);m.addCapability(f.InACapabilities.C222_SET_OPERAND_CURRENT_MEMBER_SINGLE_NAVIGATION);this.addCapabilitiesFromEnv(m);};f.InACapabilitiesProvider.prototype.createFeatureTogglePlanningCapabilities=function(a){if(this.getSession().hasFeature(f.FeatureToggleOlap.DEVELOPMENT_MODE_PLANNING)){a.addCapability(f.InACapabilities.C001_DATASOURCE_AT_SERVICE);a.addCapability(f.InACapabilities.C012_ENCODED_RESULTSET);a.addCapability(f.InACapabilities.C054_EXTENDED_SORT);a.addCapability(f.InACapabilities.C066_SUBMIT_RETURNS_VARIABLE_VALUES);a.addCapability(f.InACapabilities.C100_EXPAND_BOTTOM_UP);a.addCapability(f.InACapabilities.C136_READ_MODES_V2);a.addCapability(f.InACapabilities.C129_INITIAL_DRILL_LEVEL_RELATIVE);a.addCapability(f.InACapabilities.C032_FAST_PATH);a.addCapability(f.InACapabilities.C113_DATA_CELL_MIXED_VALUES);a.addCapability(f.InACapabilities.C110_DEFINITION_RETURNS_VARIABLE_VALUES);a.addCapability(f.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS);a.addCapability(f.InACapabilities.C159_EXCEPTIONS_V2);a.addCapability(f.InACapabilities.C019_EXTENDED_DIMENSION_TYPES);a.addCapability(f.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION);a.addCapability(f.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD);a.addCapability(f.InACapabilities.C125_MDS_LIKE_PAGING);a.addCapability(f.InACapabilities.C173_METADATA_BASE_MEASURE_NAME);a.addCapability(f.InACapabilities.C175_PRESENTATION_LENGTH);a.addCapability(f.InACapabilities.C179_UNASSIGNED_NODE_AS_DEFINED_IN_QUERY);a.addCapability(f.InACapabilities.C142_KEYFIGURE_HIERARCHIES);a.addCapability(f.InACapabilities.C048_MEMBER_VISIBILITY);a.addCapability(f.InACapabilities.C119_RESTRICTED_KEYFIGURES);a.addCapability(f.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS);a.addCapability(f.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER);a.addCapability(f.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK);a.addCapability(f.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT);a.addCapability(f.InACapabilities.C005_OBTAINABILITY);a.addCapability(f.InACapabilities.C026_QUERY_DATA_CELLS);a.addCapability(f.InACapabilities.C049_RESULTSET_INTERVAL);a.addCapability(f.InACapabilities.C017_SAP_DATE);a.addCapability(f.InACapabilities.C009_STATEFUL_SERVER);a.addCapability(f.InACapabilities.C037_SUPPLEMENTS);a.addCapability(f.InACapabilities.C018_CUMMULATIVE);a.addCapability(f.InACapabilities.C011_SET_OPERAND);a.addCapability(f.InACapabilities.C002_VARIABLE_RE_SUBMIT);a.addCapability(f.InACapabilities.C045_ZERO_SUPPRESSION);a.addCapability(f.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED);a.addCapability(f.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES);a.addCapability(f.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS);a.addCapability(f.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER);a.addCapability(f.InACapabilities.V230_SUPPRESS_SUPPLEMENTS);a.addCapability(f.InACapabilities.V232_SID_PRESENTATION);a.addCapability(f.InACapabilities.V322_HIERARCHY_CATALOG);}return a;};f.InACapabilitiesProvider.prototype.createMainPlanningCapabilities=function(m){m.addCapability(f.InACapabilities.C000_ATTRIBUTE_HIERARCHY);m.addCapability(f.InACapabilities.C003_CLIENT_CAPABILITIES);m.addCapability(f.InACapabilities.C022_HIERARCHY_NAME_VARIABLE);this.addCapabilitiesFromEnv(m);};f.InACapabilitiesProvider.prototype.addCapabilitiesFromEnv=function(m){var e=this.getSession().getEnvironment();var i=e.getVariable(f.XEnvironmentConstants.FIREFLY_ADD_INA_CAPABILITY);if(f.notNull(i)){var p=f.XStringTokenizer.splitString(i,",");var a=p.getIterator();while(a.hasNext()){m.addCapability(a.next());}}var b=e.getVariable(f.XEnvironmentConstants.FIREFLY_REMOVE_INA_CAPABILITY);if(f.notNull(b)){var c=f.XStringTokenizer.splitString(b,",");var d=c.getIterator();while(d.hasNext()){m.remove(d.next());}}};f.InACapabilitiesProvider.prototype.check=function(s,a,c){if(this.getSession().hasFeature(a)||f.notNull(this.m_additionalFeatureToggles)&&this.m_additionalFeatureToggles.contains(a)){s.addCapability(c);}};f.InACapabilitiesProvider.prototype.checkExt=function(s,a,c,b,d){if(b.isTypeOf(d)){this.check(s,a,c);}else{s.addCapability(c);}};f.InACapabilitiesProvider.prototype.getClientMainCapabilities=function(){return this.m_clientMainCapabilities;};f.InACapabilitiesProvider.prototype.getClientFeatureToggleCapabilities=function(){return this.m_clientFeatureToggleCapabilities;};f.InACapabilitiesProvider.prototype.getServerBetaCapabilities=function(){return this.m_serverBetaCapabilities;};f.InACapabilitiesProvider.prototype.getServerMainCapabilities=function(){return this.m_serverMainCapabilities;};f.InACapabilitiesProvider.prototype.getActiveCapabilities=function(){if(f.isNull(this.m_activeCapabilities)){var a=null;var s=this.getServerMainCapabilities();var b=this.getServerBetaCapabilities();var c=this.getClientMainCapabilities();var d=this.getClientFeatureToggleCapabilities();if(this.getSession().hasFeature(f.FeatureToggleOlap.SIMPLIFIED_CAPABILITY_MERGE)){if(f.notNull(s)){if(this.getSession().hasFeature(f.FeatureToggleOlap.DEVELOPMENT_MODE)){a=s.union(b);}else{var e=b.intersect(f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES);a=s.union(e);}}var g=c.union(d);if(f.notNull(a)){this.m_activeCapabilities=a.intersect(g);}}else{a=this._sacFallback(s,b);if(f.notNull(a)){var h=a.intersect(c);if(this.getSession().hasFeature(f.FeatureToggleOlap.DEVELOPMENT_MODE)){if(f.notNull(s)){a=s.union(b);}}var i=a.intersect(d);this.m_activeCapabilities=h.union(i);}}if(this.m_serverMetadata.getSystemDescription().getSystemType().isTypeOf(f.SystemType.HANA)&&f.notNull(this.m_activeCapabilities)&&this.m_activeCapabilities.containsKey(f.InACapabilities.C211_CUSTOM_DIMENSION_2)&&(f.ServerVersionComparator.compare(this.m_serverMetadata.getVersion(),"1.0.122.14.00000000")===1||!this.doesServerSatisfyMinCustomDimension2CapabilitySet())){this.m_activeCapabilities.remove(f.InACapabilities.C211_CUSTOM_DIMENSION_2);}}return this.m_activeCapabilities;};f.InACapabilitiesProvider.prototype.doesServerSatisfyMinCustomDimension2CapabilitySet=function(){var a=this.m_serverMetadata.getMetadataForService(f.ServerService.ANALYTIC);if(f.isNull(a)){return false;}var s=this.getSACBaselineHANALevel3Capabilities();for(var i=0;i<s.size();i++){if(!a.containsKey(s.get(i))){return false;}}return true;};f.InACapabilitiesProvider.prototype.getSACBaselineHANALevel3Capabilities=function(){var b=f.XListOfString.create();b.add("AttributeValueLookup");b.add("CellValueOperand");b.add("SupportsIgnoreExternalDimensions");b.add("SetOperandCurrentMemberSingleNavigation");b.add("CurrentMemberFilterExtension");b.add("ExceptionAggregationDimsAndFormulas");b.add("CubeBlending");b.add("CubeBlendingProperties");b.add("CubeBlendingMemberSorting");b.add("CubeBlendingCustomMembers");b.add("CubeBlendingReadMode");b.add("CubeBlendingOutOfContext");b.add("SupportsCubeBlendingAggregation");b.add("ExceptionSettings");b.add("AggregationNOPNULL");b.add("AggregationNOPNULLZERO");b.add("MultipleExAggDimsInCalcPlan");b.add("ExtendedDimensionsChangeDefaultRenamingAndDescription");b.add("ExtendedDimensionsCopyAllHierarchies");b.add("FixMetaDataHierarchyAttributes");b.add("RemoteBlending");b.add("CalculatedDimension");b.add("PlanningOnCalculatedDimension");b.add("CustomDimension2");b.add("ResultSetUnitIndex");b.add("ExceptionAggregationCountNullInSelectionMember");b.add("ExceptionAggregationAverageNullInSelectionMember");b.add("ExceptionAggregationFirstLastInSelectionMember");return b;};f.InACapabilitiesProvider.prototype._sacFallback=function(s,a){if(f.notNull(a)&&f.notNull(s)){var i=f.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.getKeysAsIteratorOfString();while(i.hasNext()){var c=i.next();if(a.containsKey(c)){s.addCapability(c);}}}return s;};f.InACapabilitiesProvider.prototype.exportActiveCapabilities=function(r){var l=this.exportActiveCapabilitiesAsList();if(f.notNull(l)){r.put("Capabilities",l);}return l;};f.InACapabilitiesProvider.prototype.exportActiveCapabilitiesAsList=function(){var i=null;var a=this.getActiveCapabilities();if(f.notNull(a)){if(a.containsKey(f.InACapabilities.C003_CLIENT_CAPABILITIES)){var s=a.getSortedCapabilityNames();i=f.PrFactory.createList();i.addAllStrings(s);}}return i;};f.InACapabilitiesProvider.prototype.getDimensionExtensionCapabilities=function(){return this.m_dimensionExtensionCapabilities;};f.InACapabilitiesProvider.prototype.importDeserializationDocumentCapabilities=function(d){this.m_deserializationDocumentCapabilities=f.CapabilityContainer.create("Document");var a=d.getStructureByKey("Analytics");if(f.notNull(a)){var c=a.getListByKey("Capabilities");if(f.notNull(c)){for(var i=0;i<c.size();i++){var v=c.getStringAt(i);this.m_deserializationDocumentCapabilities.addCapability(v);}}}};f.InACapabilitiesProvider.prototype.activateDevCapabilities=function(a){if(f.notNull(a)&&a.hasElements()){var s=this.getServerBetaCapabilities();var b=this.getServerMainCapabilities();var c=this.getActiveCapabilities();var i=a.getIterator();var d=this.getSession();while(i.hasNext()){var e=i.next();if(f.XStringUtils.isNotNullAndNotEmpty(e)&&f.XString.containsString(e,".")){e=f.XString.substring(e,f.XString.indexOf(e,".")+1,f.XString.size(e));}if(s.containsKey(e)&&f.InACapabilitiesProvider.isDevCapabilityValid(e,d)){c.addCapability(e);}if(b.containsKey(e)){c.addCapability(e);}}}};f.InACapabilitiesProvider.prototype.getServerMetadata=function(){return this.m_serverMetadata;};f.InACapabilitiesProvider.prototype.getProviderType=function(){return this.m_providerType;};f.InACapabilitiesProvider.prototype.toString=function(){var b=f.XStringBuffer.create();if(f.notNull(this.m_serverMainCapabilities)){b.appendLine("=== Server Main Capabilities ===");b.appendLine(this.m_serverMainCapabilities.toString());}if(f.notNull(this.m_serverBetaCapabilities)){b.appendLine("=== Server Beta Capabilities ===");b.appendLine(this.m_serverBetaCapabilities.toString());}if(f.notNull(this.m_clientMainCapabilities)){b.appendLine("=== Client Main Capabilities ===");b.appendLine(this.m_clientMainCapabilities.toString());}if(f.notNull(this.m_clientFeatureToggleCapabilities)){b.appendLine("=== Client FeatureToggle Capabilities ===");b.appendLine(this.m_clientFeatureToggleCapabilities.toString());}if(f.notNull(this.m_activeCapabilities)){b.appendLine("=== Active Capabilities ===");b.appendLine(this.m_activeCapabilities.toString());}if(f.notNull(this.m_serverPersistencyCapabilities)){b.appendLine("=== Server Persistency Capabilities ===");b.appendLine(this.m_serverPersistencyCapabilities.toString());}return b.toString();};f.InACapabilitiesProvider.prototype.getServerCapabilitiesForProviderType=function(p,g){var s=f.QInAConverter.lookupServiceNameForProvider(p);if(f.isNull(s)){s=f.QInAConverter.lookupFallbackServiceNameForProvider(p);}if(f.notNull(s)){var c=g?this.m_serverMetadata.getBetaMetadataForService(s):this.m_serverMetadata.getMetadataForService(s);return c;}return null;};f.InACapabilitiesProvider.prototype.getQueryCapabilities=function(){var n=f.QCapabilities.create();n.setSystemType(this.m_serverMetadata.getSystemDescription().getSystemType());n.setSystemName(this.m_serverMetadata.getSystemDescription().getSystemName());n.setServerMetadataVersion(this.m_serverMetadata.getVersion());var a=this.getActiveCapabilities();f.InACapabilitiesProvider.importCapabilities(a,n);var d=this.getDimensionExtensionCapabilities();f.InACapabilitiesProvider.importDimensionExtensionCapabilities(d,n);return n;};f.OlapEnvVariable=function(){};f.OlapEnvVariable.prototype=new f.DfNameObject();f.OlapEnvVariable.prototype._ff_c="OlapEnvVariable";f.OlapEnvVariable.create=function(k,m){var n=new f.OlapEnvVariable();n._setupInternal(k);n.m_mainVariable=m;n.m_secondaryVariables=f.XList.create();return n;};f.OlapEnvVariable.prototype.m_mainVariable=null;f.OlapEnvVariable.prototype.m_secondaryVariables=null;f.OlapEnvVariable.prototype.releaseObject=function(){this.m_mainVariable=null;this.m_secondaryVariables=f.XObjectExt.release(this.m_secondaryVariables);f.DfNameObject.prototype.releaseObject.call(this);};f.OlapEnvVariable.prototype.addSecondaryVariable=function(v){this.m_secondaryVariables.add(v);};f.OlapEnvVariable.prototype.getMainVariable=function(){return this.m_mainVariable;};f.OlapEnvVariable.prototype.sync=function(){var s=this.m_mainVariable.serializeToElement(f.QModelFormat.INA_REPOSITORY);for(var i=0;i<this.m_secondaryVariables.size();i++){var a=this.m_secondaryVariables.get(i);a.deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY,s);}};f.OlapEnvStateManager=function(){};f.OlapEnvStateManager.prototype=new f.AbstractOlapEnvQueryManagerHandler();f.OlapEnvStateManager.prototype._ff_c="OlapEnvStateManager";f.OlapEnvStateManager.create=function(o,s){var a=new f.OlapEnvStateManager();a.setupStateManager(o,s);return a;};f.OlapEnvStateManager.prototype.m_stateCache=null;f.OlapEnvStateManager.prototype.m_olapEnvStates=null;f.OlapEnvStateManager.prototype.m_jsonParser=null;f.OlapEnvStateManager.prototype.m_useIncludeMode=false;f.OlapEnvStateManager.prototype.m_releaseQueryManagersEnabled=false;f.OlapEnvStateManager.prototype.setupStateManager=function(o,s){this.setupQueryManagerHandler(o);this.m_stateCache=f.XLinkedMap.createLinkedMap();this.m_olapEnvStates=f.XHashMapByString.create();this.m_jsonParser=f.JsonParserFactory.newInstance();this.m_releaseQueryManagersEnabled=f.isNull(s)||s.hasFeature(f.FeatureToggleOlap.UNDO_RELEASE_QUERY_MANAGERS);this.setUseIncludeMode(f.notNull(s)&&s.hasFeature(f.FeatureToggleOlap.UNDO_USE_ALLOW_LIST));};f.OlapEnvStateManager.prototype.releaseObject=function(){this.m_stateCache=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_stateCache);this.m_jsonParser=f.XObjectExt.release(this.m_jsonParser);this.m_olapEnvStates=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_olapEnvStates);f.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject.call(this);};f.OlapEnvStateManager.prototype.applyDocumentState=function(s,l,c,a){var o=this.m_olapEnvStates.getByKey(a);if(f.isNull(o)){return null;}return f.DocumentUpdateAction.createAndRun(s,l,c,this,o);};f.OlapEnvStateManager.prototype.recordDocumentState=function(){var o=f.OlapEnvState.create();o.setFilterManagerState(this.recordFilterManagerState());o.setSharedObjectsState(this.recordClientQueryObjectManagerState());var q=this.getOlapEnv().getAllAreaQueryManager();var i=q.getIterator();while(i.hasNext()){var a=i.next();var e;if(a.getOlapComponentType()===f.OlapComponentType.BLENDABLE_QUERY_MANAGER){e=this.recordBlendableQueryManagerState(a);}else{e=this.recordQueryManagerState(a);}o.getQueryManagersState().put(a.getName(),e);}var s=f.XGuid.getGuid();this.m_olapEnvStates.put(s,o);return s;};f.OlapEnvStateManager.prototype.updateDocumentState=function(s){var o=this.m_olapEnvStates.getByKey(s);if(o.getFilterManagerState()===null){o.setFilterManagerState(this.recordFilterManagerState());}if(o.getSharedObjectsState()===null){o.setSharedObjectsState(this.recordClientQueryObjectManagerState());}var q=this.getOlapEnv().getAllAreaQueryManager();var i=q.getIterator();while(i.hasNext()){var a=i.next();var n=a.getName();var b=this.getQmState(o,n);if(f.XStringUtils.isNullOrEmpty(b)){var e;if(a.getOlapComponentType()===f.OlapComponentType.BLENDABLE_QUERY_MANAGER){e=this.recordBlendableQueryManagerState(a);}else{e=this.recordQueryManagerState(a);}o.getQueryManagersState().put(a.getName(),e);}}};f.OlapEnvStateManager.prototype.clearDocumentState=function(s){var o=this.m_olapEnvStates.remove(s);if(f.notNull(o)){this.releaseRef(o.getSharedObjectsState());}};f.OlapEnvStateManager.prototype.releaseRef=function(s){if(f.isNull(s)){return;}var b=this.m_stateCache.getByKey(s.getStateId());if(f.notNull(b)){this.m_stateCache.removeElement(b);f.XObjectExt.release(b);}};f.OlapEnvStateManager.prototype.recordClientQueryObjectManagerState=function(){return null;};f.OlapEnvStateManager.prototype.recordFilterManagerState=function(){var a=this.getOlapEnv().getFilterManager();var m=a.getModCounter();var s=this.getStateWithModeCounter(m,"filterManager");if(f.notNull(s)){return s;}var r=a.serializeToElement(f.QModelFormat.INA_REPOSITORY).asStructure();return this.addNewStateToCache(a.getModCounter(),r,"filterManager");};f.OlapEnvStateManager.prototype.recordBlendableQueryManagerState=function(b){var i=this.hasToBeIgnored(b);var m=0;if(!i){m=b.getModCounter();}var s=this.getStateWithModeCounter(m,b.getName());if(f.isNull(s)){var r=f.PrFactory.createStructure();if(!i){var e=b.serializeToElement(f.QModelFormat.INA_REPOSITORY).asStructure();r.put(f.QStateConstants.QUERY_MODEL,e);r.put(f.QStateConstants.MANAGER_TAGS,e.getByKey(f.QStateConstants.MANAGER_TAGS));var q=b.getAllQueryManagers().getIterator();var a=r.putNewList(f.QStateConstants.QUERY_MANAGER_EXTERNAL_FILTERS);while(q.hasNext()){var l=q.next();var c=a.addNewStructure();c.putString(f.QStateConstants.MANAGER_DATASET_ID,l.getQueryModel().getDatasetId());this.recordUsedExternalFilters(l,c);}}s=this.addNewStateToCache(m,r,b.getName());}return s;};f.OlapEnvStateManager.prototype.recordQueryManagerState=function(q){var a=q.getQueryModelBase();var i=this.hasToBeIgnored(q);var m=0;if(!i){m=a.getModCounter();}var s=this.getStateWithModeCounter(m,q.getName());if(f.isNull(s)){var r=f.PrFactory.createStructure();if(!i){var e=q.serializeToElement(f.QModelFormat.INA_REPOSITORY).asStructure();var b=e.getByKey(f.QStateConstants.QUERY_MODEL);r.put(f.QStateConstants.QUERY_MODEL,b);r.put(f.QStateConstants.MANAGER_TAGS,e.getByKey(f.QStateConstants.MANAGER_TAGS));r.putString(f.QStateConstants.MANAGER_DATASET_ID,a.getDatasetId());r.putString(f.QStateConstants.MANAGER_SYSTEM_NAME,q.getSystemName());this.recordUsedExternalFilters(q,r);}s=this.addNewStateToCache(m,r,q.getName());}return s;};f.OlapEnvStateManager.prototype.hasToBeIgnored=function(q){var t=q.getTagging();var i=this.m_useIncludeMode?!t.containsKey(f.QStateConstants.TAG_UNDO_INCLUDE):t.containsKey(f.QStateConstants.TAG_UNDO_IGNORE);i=i||t.containsKey(f.QStateConstants.TAG_HAS_TRANSIENT_DEPS);return i||q.isShallow()||q.isBasedOnVirtualDataSource();};f.OlapEnvStateManager.prototype.addNewStateToCache=function(m,r,q){var s=f.XStringUtils.concatenate2(q,f.XInteger.convertToString(m));var a=r.isEmpty()?"":f.PrUtils.serialize(r,false,false,0);this.m_stateCache.add(f.StateStackEntry.create(s,a));return f.ComponentStateRef.create(m,s);};f.OlapEnvStateManager.prototype.getStateWithModeCounter=function(m,q){var s=f.XStringUtils.concatenate2(q,f.XInteger.convertToString(m));var a=this.m_stateCache.getByKey(s);if(f.notNull(a)){return f.ComponentStateRef.create(m,s);}return null;};f.OlapEnvStateManager.prototype.recordUsedExternalFilters=function(q,i){var e=q.getQueryModel().getFilter().getLinkedFilters();var a=i.putNewList("OlapFilters");var b=e.getKeysAsIteratorOfString();while(b.hasNext()){var u=a.addNewStructure();var k=b.next();u.putString("Name",k);u.putString("Id",e.getByKey(k).getUniqueId());}};f.OlapEnvStateManager.prototype.dumpState=function(s){var d=f.PrFactory.createStructure();var o=this.m_olapEnvStates.getByKey(s);var a=this.m_jsonParser.parse(this.m_stateCache.getByKey(o.getFilterManagerState().getStateId()).getState());d.put("fm",a);var q=o.getQueryManagersState().getKeysAsIteratorOfString();while(q.hasNext()){var b=q.next();var c=this.getQmState(o,b);var i;if(f.XStringUtils.isNotNullAndNotEmpty(c)){i=this.m_jsonParser.parse(c);}else{i=f.PrFactory.createStructure();}d.put(b,i);}return d;};f.OlapEnvStateManager.prototype.getQmState=function(o,q){var a=o.getQueryManagersState().getByKey(q);if(f.isNull(a)){return null;}var s=this.m_stateCache.getByKey(a.getStateId()).getState();return s;};f.OlapEnvStateManager.prototype.setUseIncludeMode=function(u){this.m_useIncludeMode=u;};f.OlapEnvStateManager.prototype.onVariableProcessorExecuted=function(e,r,c){};f.OlapEnvStateManager.prototype.isReleaseQueryManagersEnabled=function(){return this.m_releaseQueryManagersEnabled;};f.OlapEnvStateManager.prototype.getStateCache=function(){return this.m_stateCache;};f.OlapEnvCube=function(){};f.OlapEnvCube.prototype=new f.XObjectExt();f.OlapEnvCube.prototype._ff_c="OlapEnvCube";f.OlapEnvCube.create=function(o,c){var n=new f.OlapEnvCube();n.setupEnvCube(o,c);return n;};f.OlapEnvCube.prototype.m_olapEnvSystem=null;f.OlapEnvCube.prototype.m_cubeName=null;f.OlapEnvCube.prototype.m_dimensionMetadataCache=null;f.OlapEnvCube.prototype.m_fieldMetadataCache=null;f.OlapEnvCube.prototype.m_metadataCache=null;f.OlapEnvCube.prototype.m_datasourceKeysToListeners=null;f.OlapEnvCube.prototype.m_dataSource=null;f.OlapEnvCube.prototype.m_dimensionOverrideTexts=null;f.OlapEnvCube.prototype.m_memberOverrideTexts=null;f.OlapEnvCube.prototype.setupEnvCube=function(o,c){this.m_olapEnvSystem=f.XWeakReferenceUtil.getWeakRef(o);var s=o.getSession();this.m_dimensionMetadataCache=f.QCache.create(s);this.m_fieldMetadataCache=f.QCache.create(s);this.m_cubeName=c;this.m_metadataCache=f.QCache.create(s);this.m_datasourceKeysToListeners=f.XHashMapByString.create();this.m_dimensionOverrideTexts=f.XHashMapByString.create();this.m_memberOverrideTexts=f.XHashMapByString.create();};f.OlapEnvCube.prototype.releaseObject=function(){this.m_olapEnvSystem=null;this.m_dimensionMetadataCache=f.XObjectExt.release(this.m_dimensionMetadataCache);this.m_fieldMetadataCache=f.XObjectExt.release(this.m_fieldMetadataCache);this.m_metadataCache=f.XObjectExt.release(this.m_metadataCache);this.m_datasourceKeysToListeners=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_datasourceKeysToListeners);this.m_dimensionOverrideTexts=f.XObjectExt.release(this.m_dimensionOverrideTexts);this.m_memberOverrideTexts=f.XObjectExt.release(this.m_memberOverrideTexts);f.XObjectExt.prototype.releaseObject.call(this);};f.OlapEnvCube.prototype.getOlapEnvSystem=function(){return f.XWeakReferenceUtil.getHardRef(this.m_olapEnvSystem);};f.OlapEnvCube.prototype.getOlapEnv=function(){return this.getOlapEnvSystem().getOlapEnv();};f.OlapEnvCube.prototype.getApplication=function(){return this.getOlapEnv().getApplication();};f.OlapEnvCube.prototype.getSession=function(){return this.getApplication().getSession();};f.OlapEnvCube.prototype.getSystemName=function(){return this.getOlapEnvSystem().getSystemName();};f.OlapEnvCube.prototype.getCubeName=function(){return this.m_cubeName;};f.OlapEnvCube.prototype.getDimensionMetadata=function(k){var c=k.getCubeSpecificKey();return this.m_dimensionMetadataCache.getByKey(c);};f.OlapEnvCube.prototype.getDimensionMetadataByKey=function(k){var c=k.getCubeSpecificKey();return this.m_dimensionMetadataCache.useEntry(c);};f.OlapEnvCube.prototype.setDimensionMetadata=function(m){var k=m.getCacheKey();var c=k.getCubeSpecificKey();this.m_dimensionMetadataCache.put(c,m);};f.OlapEnvCube.prototype.releaseDimensionMetadataByKey=function(k){var c=k.getCubeSpecificKey();this.m_dimensionMetadataCache.freeEntry(c);};f.OlapEnvCube.prototype.getFieldMetadata=function(k){var c=k.getCubeSpecificKey();return this.m_fieldMetadataCache.getByKey(c);};f.OlapEnvCube.prototype.getFieldMetadataByKey=function(k){var c=k.getCubeSpecificKey();return this.m_fieldMetadataCache.useEntry(c);};f.OlapEnvCube.prototype.setFieldMetadata=function(m){var k=m.getCacheKey();var c=k.getCubeSpecificKey();this.m_fieldMetadataCache.put(c,m);};f.OlapEnvCube.prototype.releaseFieldMetadataByKey=function(k){var c=k.getCubeSpecificKey();this.m_fieldMetadataCache.freeEntry(c);};f.OlapEnvCube.prototype.getKeyFieldMetadataByDimension=function(k){var r=null;var i=this.m_fieldMetadataCache.getIterator();while(i.hasNext()){var a=i.next();var c=a.getCacheKey();if(f.XString.isEqual(c.getSystemName(),k.getSystemName())&&f.XString.isEqual(c.getDataSourceHashKey(),k.getDataSourceHashKey())&&c.getProviderType()===k.getProviderType()&&f.XString.isEqual(c.getKey2(),k.getKey1())&&f.XString.isEqual(c.getValidationHash(),k.getValidationHash())&&a.getPresentationType()===f.PresentationType.KEY){r=a;break;}}return r;};f.OlapEnvCube.prototype.setQueryMetadata=function(k,e){if(f.notNull(k)&&f.notNull(e)){var c=k.getCubeSpecificKey();if(this.m_metadataCache.containsKey(c)){this.m_metadataCache.useEntry(c);}else{var a=f.XContent.createJsonObjectContent(f.QModelFormat.INA_METADATA,e);this.m_metadataCache.put(c,a);}}};f.OlapEnvCube.prototype.overwriteQueryMetadata=function(k,e){if(f.notNull(k)&&f.notNull(e)){var c=k.getCubeSpecificKey();var a=f.XContent.createJsonObjectContent(f.QModelFormat.INA_METADATA,e);this.m_metadataCache.updateEntry(c,a);}};f.OlapEnvCube.prototype.releaseQueryMetadata=function(k){if(f.notNull(k)){var c=k.getCubeSpecificKey();this.m_metadataCache.freeEntry(c);}};f.OlapEnvCube.prototype.releaseAllQueryMetadata=function(){var c=this.m_metadataCache.getKeysAsIteratorOfString();while(c.hasNext()){var a=c.next();var q=this.m_metadataCache.remove(a);if(f.notNull(q)){f.XObjectExt.release(q);}}};f.OlapEnvCube.prototype.getQueryMetadata=function(k){var r=null;var c=null;if(f.notNull(k)){c=k.getCubeSpecificKey();}var a=this.m_metadataCache.getByKey(c);if(f.notNull(a)){r=a.getJsonContent();}return r;};f.OlapEnvCube.prototype.getMetadataAction=function(k){var a=null;var o=this.getOlapEnv();if(o.isCachingEnabled()){var c=k.getCubeSpecificKey();a=this.m_metadataCache.getAction(c);}return a;};f.OlapEnvCube.prototype.getDataSource=function(){return this.m_dataSource;};f.OlapEnvCube.prototype.setDataSource=function(d){var c=d.clone();this.m_dataSource=c;};f.OlapEnvCube.prototype.toString=function(){return this.m_cubeName;};f.OlapEnvCube.prototype.getDimensionOverrideText=function(s,d){return this.getDimensionOverrideTextByDatasetId(s,d,"");};f.OlapEnvCube.prototype.getDimensionOverrideTextByDatasetId=function(s,d,a){if(f.notNull(s)&&f.notNull(d)&&f.notNull(a)){var b=this.m_dimensionOverrideTexts.getByKey(s);if(f.notNull(b)){var o=b.getByKey(a);if(f.isNull(o)&&!f.XString.isEqual(a,"")){o=b.getByKey("");}if(f.notNull(o)){return o.getByKey(d);}}}return null;};f.OlapEnvCube.prototype.setDimensionOverrideText=function(s,d,o){this.setDimensionOverrideTextByDatasetId(s,d,o,"");};f.OlapEnvCube.prototype.setDimensionOverrideTextByDatasetId=function(s,d,o,a){if(f.notNull(s)&&f.notNull(d)&&f.XStringUtils.isNotNullAndNotEmpty(o)&&f.notNull(a)){var b=this.m_dimensionOverrideTexts.getByKey(s);if(f.isNull(b)){b=f.XHashMapByString.create();this.m_dimensionOverrideTexts.put(s,b);}var c=b.getByKey(a);if(f.isNull(c)){c=f.XHashMapOfStringByString.create();b.put(a,c);}if(!f.XString.isEqual(c.getByKey(d),o)){c.put(d,o);}}};f.OlapEnvCube.prototype.removeDimensionOverrideText=function(s,d){this.removeDimensionOverrideTextByDatasetId(s,d,"");};f.OlapEnvCube.prototype.removeDimensionOverrideTextByDatasetId=function(s,d,a){if(f.notNull(s)&&f.notNull(d)&&f.notNull(a)){var b=this.m_dimensionOverrideTexts.getByKey(s);if(f.notNull(b)){var o=b.getByKey(a);if(f.notNull(o)){o.remove(d);}}}};f.OlapEnvCube.prototype.removeOverrideTextsByStorage=function(s){this.removeOverrideTextsByStorageByDatasetId(s,null);};f.OlapEnvCube.prototype.removeOverrideTextsByStorageByDatasetId=function(s,d){if(f.notNull(s)){if(f.notNull(d)){var a=this.m_dimensionOverrideTexts.getByKey(s);if(f.notNull(a)){a.remove(d);}var m=this.m_memberOverrideTexts.getByKey(s);if(f.notNull(m)){m.remove(d);}}else{this.m_dimensionOverrideTexts.remove(s);this.m_memberOverrideTexts.remove(s);}}else{f.XObjectExt.release(this.m_dimensionOverrideTexts);f.XObjectExt.release(this.m_memberOverrideTexts);this.m_dimensionOverrideTexts=f.XHashMapByString.create();this.m_memberOverrideTexts=f.XHashMapByString.create();}};f.OlapEnvCube.prototype.getDimensionMemberOverrideText=function(s,d,m){return this.getDimensionMemberOverrideTextByDatasetId(s,d,m,"");};f.OlapEnvCube.prototype.getDimensionMemberOverrideTextByDatasetId=function(s,d,m,a){if(f.notNull(s)&&f.notNull(d)&&f.notNull(m)&&f.notNull(a)){var b=this.m_memberOverrideTexts.getByKey(s);if(f.notNull(b)){var c=b.getByKey(a);if(f.isNull(c)&&!f.XString.isEqual(a,"")){c=b.getByKey("");}if(f.notNull(c)){var o=c.getByKey(d);if(f.notNull(o)){return o.getByKey(m);}}}}return null;};f.OlapEnvCube.prototype.setDimensionMemberOverrideText=function(s,d,m,o){this.setDimensionMemberOverrideTextByDatasetId(s,d,m,o,"");};f.OlapEnvCube.prototype.setDimensionMemberOverrideTextByDatasetId=function(s,d,m,o,a){if(f.notNull(s)&&f.notNull(d)&&f.notNull(m)&&f.XStringUtils.isNotNullAndNotEmpty(o)&&f.notNull(a)){var b=this.m_memberOverrideTexts.getByKey(s);if(f.isNull(b)){b=f.XHashMapByString.create();this.m_memberOverrideTexts.put(s,b);}var c=b.getByKey(a);if(f.isNull(c)){c=f.XHashMapByString.create();b.put(a,c);}var e=c.getByKey(d);if(f.isNull(e)){e=f.XHashMapOfStringByString.create();c.put(d,e);}if(!f.XString.isEqual(e.getByKey(m),o)){e.put(m,o);}}};f.OlapEnvCube.prototype.removeDimensionMemberOverrideText=function(s,d,m){this.removeDimensionMemberOverrideTextByDatasetId(s,d,m,"");};f.OlapEnvCube.prototype.removeDimensionMemberOverrideTextByDatasetId=function(s,d,m,a){if(f.notNull(s)&&f.notNull(d)&&f.notNull(m)&&f.notNull(a)){var b=this.m_memberOverrideTexts.getByKey(s);if(f.notNull(b)){var c=b.getByKey(a);if(f.notNull(c)){var o=c.getByKey(d);if(f.notNull(o)){o.remove(m);}}}}};f.OlapEnvCube.prototype.getMemberOverrideTextsByDimension=function(s,d){return this.getMemberOverrideTextsByDimensionByDatasetId(s,d,"");};f.OlapEnvCube.prototype.getMemberOverrideTextsByDimensionByDatasetId=function(s,d,a){if(f.notNull(s)&&f.notNull(d)&&f.notNull(a)){var b=this.m_memberOverrideTexts.getByKey(s);if(f.notNull(b)){var c=b.getByKey(a);if(f.isNull(c)&&!f.XString.isEqual(a,"")){c=b.getByKey("");}if(f.notNull(c)){return c.getByKey(d);}}}return null;};f.OlapEnvSystem=function(){};f.OlapEnvSystem.prototype=new f.XObjectExt();f.OlapEnvSystem.prototype._ff_c="OlapEnvSystem";f.OlapEnvSystem.create=function(o,s){var n=new f.OlapEnvSystem();n.setupEnvSys(o,s);return n;};f.OlapEnvSystem.prototype.m_olapEnv=null;f.OlapEnvSystem.prototype.m_systemName=null;f.OlapEnvSystem.prototype.m_cubes=null;f.OlapEnvSystem.prototype.m_virtualQmByDatasource=null;f.OlapEnvSystem.prototype.m_microCubes=null;f.OlapEnvSystem.prototype.m_capabilities=null;f.OlapEnvSystem.prototype.m_capabilitiesExt=null;f.OlapEnvSystem.prototype.m_listenerCapabilities=null;f.OlapEnvSystem.prototype.m_supportedFormulas=null;f.OlapEnvSystem.prototype.m_listenerFormula=null;f.OlapEnvSystem.prototype.m_variantsByDatasource=null;f.OlapEnvSystem.prototype.setupEnvSys=function(o,s){this.m_olapEnv=f.XWeakReferenceUtil.getWeakRef(o);this.m_systemName=s;this.m_cubes=f.XHashMapByString.create();this.m_microCubes=f.XHashMapByString.create();this.m_capabilities=f.XHashMapByString.create();this.m_capabilitiesExt=f.XHashMapByString.create();this.m_virtualQmByDatasource=f.XHashMapByString.create();this.m_variantsByDatasource=f.XHashMapByString.create();};f.OlapEnvSystem.prototype.releaseObject=function(){this.m_olapEnv=null;this.m_systemName=null;this.m_cubes=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_cubes);this.m_virtualQmByDatasource=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_virtualQmByDatasource);this.m_microCubes=f.XObjectExt.release(this.m_microCubes);this.m_capabilities=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_capabilities);this.m_capabilitiesExt=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_capabilitiesExt);this.m_listenerCapabilities=null;this.m_supportedFormulas=f.XObjectExt.release(this.m_supportedFormulas);this.m_listenerFormula=null;this.m_variantsByDatasource=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variantsByDatasource);f.XObjectExt.prototype.releaseObject.call(this);};f.OlapEnvSystem.prototype.getOlapEnv=function(){return f.XWeakReferenceUtil.getHardRef(this.m_olapEnv);};f.OlapEnvSystem.prototype.getApplication=function(){return this.getOlapEnv().getApplication();};f.OlapEnvSystem.prototype.getSession=function(){return this.getApplication().getSession();};f.OlapEnvSystem.prototype.getSystemName=function(){return this.m_systemName;};f.OlapEnvSystem.prototype.getDimensionMetadata=function(k){var c=this.getCubeContainerInternal(k);return c.getDimensionMetadata(k);};f.OlapEnvSystem.prototype.getDimensionMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);return c.getDimensionMetadataByKey(k);};f.OlapEnvSystem.prototype.setDimensionMetadata=function(m){var k=m.getCacheKey();var c=this.getCubeContainerInternal(k);c.setDimensionMetadata(m);};f.OlapEnvSystem.prototype.releaseDimensionMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);c.releaseDimensionMetadataByKey(k);};f.OlapEnvSystem.prototype.getFieldMetadata=function(k){var c=this.getCubeContainerInternal(k);return c.getFieldMetadata(k);};f.OlapEnvSystem.prototype.getFieldMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);return c.getFieldMetadataByKey(k);};f.OlapEnvSystem.prototype.setFieldMetadata=function(m){var k=m.getCacheKey();var c=this.getCubeContainerInternal(k);c.setFieldMetadata(m);};f.OlapEnvSystem.prototype.releaseFieldMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);c.releaseFieldMetadataByKey(k);};f.OlapEnvSystem.prototype.getKeyFieldMetadataByDimension=function(k){var c=this.getCubeContainerInternal(k);return c.getKeyFieldMetadataByDimension(k);};f.OlapEnvSystem.prototype.getQueryMetadata=function(k){var c=this.getCubeContainerInternal(k);return c.getQueryMetadata(k);};f.OlapEnvSystem.prototype.setQueryMetadata=function(k,e){var c=this.getCubeContainerInternal(k);c.setQueryMetadata(k,e);};f.OlapEnvSystem.prototype.overwriteQueryMetadata=function(k,e){var c=this.getCubeContainerInternal(k);c.overwriteQueryMetadata(k,e);};f.OlapEnvSystem.prototype.releaseQueryMetadata=function(k){var c=this.getCubeContainerInternal(k);c.releaseQueryMetadata(k);};f.OlapEnvSystem.prototype.releaseAllQueryMetadata=function(){var c=this.m_cubes.getKeysAsIteratorOfString();while(c.hasNext()){var e=this.getCubeContainer(c.next());e.releaseAllQueryMetadata();}};f.OlapEnvSystem.prototype.getCubeContainerInternal=function(k){var c=k.getDataSourceHashKey();return this.getCubeContainer(c);};f.OlapEnvSystem.prototype.getCubeContainer=function(c){var a=this.m_cubes.getByKey(c);if(f.isNull(a)){a=f.OlapEnvCube.create(this,c);this.m_cubes.put(c,a);}return a;};f.OlapEnvSystem.prototype.updateDynamicVariablesForQueryManager=function(q,s,l,c){var d=q.getDataSource().getFullQualifiedName();var v=this.m_virtualQmByDatasource.getByKey(d);if(f.isNull(v)){v=f.OlapEnvironmentQMCreationListener.create();this.m_virtualQmByDatasource.put(d,v);}v.processUpdate(s,l,c,q);};f.OlapEnvSystem.prototype.getMicroCubesNames=function(){return this.m_microCubes.getKeysAsReadOnlyListOfString();};f.OlapEnvSystem.prototype.isValidMicroCubeName=function(n){return f.XStringUtils.isNotNullAndNotEmpty(n)&&!this.m_microCubes.containsKey(n);};f.OlapEnvSystem.prototype.addMicroCube=function(n,q){var o=false;if(this.isValidMicroCubeName(n)){this.m_microCubes.put(n,q);o=true;}return o;};f.OlapEnvSystem.prototype.getMicroCube=function(n){return this.m_microCubes.getByKey(n);};f.OlapEnvSystem.prototype.removeMicroCubeName=function(n){if(this.m_microCubes.containsKey(n)){this.m_microCubes.remove(n);}};f.OlapEnvSystem.prototype.toString=function(){return this.m_systemName;};f.OlapEnvSystem.prototype.getServiceCapabilities=function(s){if(this.m_capabilities.hasElements()===false){this.processCapabilities(f.SyncType.BLOCKING,this,null);}return this.m_capabilities.getByKey(s);};f.OlapEnvSystem.prototype.processCapabilities=function(s,l,i){var a;if(this.m_capabilities.hasElements()){a=f.SyncActionExtRes.createSyncAction(this.m_capabilities,null);if(f.notNull(l)){l.onCapabilities(a,this.m_capabilities,i);}}else{var o=this.getApplication().getConnectionPool().getOpenConnection(this.m_systemName);var c=f.OlapEnvCapabilityAction.create(o);c.processSyncAction(s,this,i);a=c;}return a;};f.OlapEnvSystem.prototype.getServiceCapabilitiesExt=function(p){if(this.m_capabilitiesExt.hasElements()===false){this.processCapabilitiesExt(f.SyncType.BLOCKING,null,null);}return this.m_capabilitiesExt.getByKey(p.getName());};f.OlapEnvSystem.prototype.processCapabilitiesExt=function(s,l,c){return f.OlapEnvCapabilitiesExtAction.createAndRun(s,l,c,this);};f.OlapEnvSystem.prototype.addCapabilities=function(p,c){this.m_capabilitiesExt.put(p.getName(),c);};f.OlapEnvSystem.prototype.getSupportedBaselineFormulaOperators=function(p){var o=this.getApplication().getConnectionPool().getOpenConnection(this.m_systemName);var s=o.getSystemDescription().getSystemType();var c=this.getServiceCapabilitiesExt(p);var a=this._getSupportedBaselineLogic(s,c);return f.FormulaOperatorExt.getBaselineFormulaOperatorsExt(s,a);};f.OlapEnvSystem.prototype._getSupportedBaselineLogic=function(s,c){var b=-1;if(s.isTypeOf(f.SystemType.BW)){b=0;}if(s.isTypeOf(f.SystemType.HANA)){b=c.supportsMdsBaseline1()?1:0;b=c.supportsMdsBaseline2()?2:b;b=c.supportsMdsBaseline3()?3:b;b=c.supportsMdsBaseline4()?4:b;b=c.supportsMdsBaseline5()?5:b;b=c.supportsMdsBaseline6()?6:b;}if(s.isTypeOf(f.SystemType.UNV)){b=c.supportsUnvBaseline1()?1:b;b=c.supportsUnvBaseline2()?2:b;b=c.supportsUnvBaseline3()?3:b;b=c.supportsUnvBaseline4()?4:b;b=c.supportsUnvBaseline5()?5:b;}return b;};f.OlapEnvSystem.prototype.processSupportedFormulaOperators=function(s,l,i){var a;if(f.notNull(this.m_supportedFormulas)){a=f.SyncActionExtRes.createSyncAction(this.m_supportedFormulas,null);if(f.notNull(l)){l.onSupportedFormula(a,this.m_supportedFormulas,i);}}else{this.m_listenerFormula=l;var o=this.getApplication().getConnectionPool().getOpenConnection(this.m_systemName);var b=f.OlapEnvSupportedFormulaAction.create(o);b.processSyncAction(s,this,null);a=b;}return a;};f.OlapEnvSystem.prototype.onSupportedFormula=function(d,r,i){this.m_supportedFormulas=r;if(f.notNull(this.m_listenerFormula)){this.m_listenerFormula.onSupportedFormula(d,r,i);}};f.OlapEnvSystem.prototype.onCapabilities=function(d,r,i){this.m_capabilities=r;if(f.notNull(this.m_listenerCapabilities)){this.m_listenerCapabilities.onCapabilities(d,r,i);}};f.OlapEnvSystem.prototype.getVariantsByDatasource=function(d){var v=this.m_variantsByDatasource.getByKey(d);if(f.isNull(v)){v=f.XListOfNameObject.create();this.m_variantsByDatasource.put(d,v);}return v;};f.PreQueryExecutor=function(){};f.PreQueryExecutor.prototype=new f.MessageManager();f.PreQueryExecutor.prototype._ff_c="PreQueryExecutor";f.PreQueryExecutor.create=function(q){var p=new f.PreQueryExecutor();p.setupSessionContext(null);p.m_queryManager=q;p.m_messageReceivers=f.XList.create();return p;};f.PreQueryExecutor.prototype.m_queryManager=null;f.PreQueryExecutor.prototype.m_preQueryManager=null;f.PreQueryExecutor.prototype.m_preQueryExecutedListener=null;f.PreQueryExecutor.prototype.m_messageReceivers=null;f.PreQueryExecutor.prototype.releaseObject=function(){f.MessageManager.prototype.releaseObject.call(this);this.m_queryManager=null;this.m_preQueryManager=null;this.m_preQueryExecutedListener=null;this.m_messageReceivers=f.XObjectExt.release(this.m_messageReceivers);};f.PreQueryExecutor.prototype.serializeRemotePreQueries=function(s,m,p,a){this.clearMessages();this.m_preQueryExecutedListener=a;if(f.XCollectionUtils.hasElements(p)){for(var i=0;i<p.size();i++){var b=p.get(i).getObject().getQueryManager();var c=b.getPreQueryExecutor();if(!c.serializeRemotePreQueries(s,b.getSystemName(),b.getQueryModel().getPreQueries(),a)){this.addAllMessages(c);return false;}if(!f.XString.isEqual(m,b.getSystemName())){if(!this.serializeAsRemotePreQuery(b,s,m)){return false;}}}}return this.isValid();};f.PreQueryExecutor.prototype.serializeAsRemotePreQuery=function(p,s,m){var a=this.updateResultSetPersistenceTarget(p,m);p.setResultSetPersistenceIdentifier(a);var r=p.getResultSetSyncState();if(r===f.SyncState.OUT_OF_SYNC||r===f.SyncState.PROCESSING){this.m_preQueryManager=p;var c=p.getOlapEnv().getCachedRemoteBlendingData(a);if(f.notNull(c)){p.getActiveResultSetContainer().setSerializedData(c.getView(),c.getCube());}else if(s===f.SyncType.BLOCKING){var b;var d=p.getConnection();if(d.isBatchModeEnabled()&&this.hasModelPrequeries(p.getQueryModelBase())){d.getConnectionPool().disableBatchMode(f.SyncType.NON_BLOCKING,p.getSystemName());b=p.processQueryExecutionAsRemotePreQuery(f.SyncType.BLOCKING,null,null);d.getConnectionPool().enableBatchMode(p.getSystemName());}else{b=p.processQueryExecutionAsRemotePreQuery(f.SyncType.BLOCKING,null,null);}this.addMessageReceiver(this);this.onPreQueryExecuted(b,true);}else{this.addMessageReceiver(this);p.processQueryExecutionAsRemotePreQuery(s,this,f.XStringValue.create("RemotePreQuerySerialization"));return false;}}else if(r===f.SyncState.IN_SYNC_WITH_ERROR){this.addAllMessages(p.getActiveResultSetContainer());}return this.isValid();};f.PreQueryExecutor.prototype.hasModelPrequeries=function(p){var h=this.hasPrequeries(p);if(!h){p.generateTransientObjects();h=this.hasPrequeries(p);p.destroyTransientObjects();}return h;};f.PreQueryExecutor.prototype.hasPrequeries=function(p){return f.XCollectionUtils.hasElements(p.getPreQueries())||f.XCollectionUtils.contains(p.getLoadedDimensions(),function(d){return d.getDimensionType().isTypeOf(f.DimensionType.FORMULA_CALCULATED_DIMENSION);}.bind(this));};f.PreQueryExecutor.prototype.onQueryExecuted=function(e,r,c){if(f.notNull(c)&&f.XString.isEqual(c.toString(),"RemotePreQuerySerialization")){this.onPreQueryExecuted(e,true);this.m_preQueryExecutedListener.onPreQueryExecuted();}else{this.onPreQueryExecuted(e,false);}};f.PreQueryExecutor.prototype.onPreQueryExecuted=function(e,a){var q=this.m_preQueryManager.getQueryModel();if(f.notNull(q)&&!q.isReleased()){q.addQueryModelIdToMessages(e.getMessages());if(a||this.isStreamingEnabled()){for(var i=0;i<this.m_messageReceivers.size();i++){this.m_messageReceivers.get(i).copyAllMessages(e);}}this.m_messageReceivers.clear();}};f.PreQueryExecutor.prototype.isStreamingEnabled=function(){var c=this.m_preQueryManager.getServiceConfig().getConnectionContainer();if(f.notNull(c)){var b=c.getBatchRequestManager();if(f.notNull(b)){return b.isRsStreamingEnabled();}}return false;};f.PreQueryExecutor.prototype.processExecutionAsPreQueryInBatch=function(b,p,m){if(this.m_queryManager.getActiveResultSetContainer().getSyncState()===f.SyncState.PROCESSING){this.addMessageReceiver(m);return;}var t=this.m_queryManager.isResultSetTransportEnabled();this.m_queryManager.setResultSetTransportEnabled(false);if(f.XString.isEqual(b,this.m_queryManager.getSystemName())){this.m_preQueryManager=this.m_queryManager;this.addMessageReceiver(m);this.m_queryManager.setPreQueryName(p);this.m_queryManager.processQueryExecution(f.SyncType.NON_BLOCKING,this,null);this.restoreData(t,null);}else{var s=this.m_queryManager;var a=s.getConnection();s.setConnection(a.getConnectionPool().getConnection(b));this.m_queryManager.setPreQueryName(p);this.m_queryManager.processQueryExecutionAsRemotePreQuery(f.SyncType.NON_BLOCKING,null,null);this.restoreData(t,a);}};f.PreQueryExecutor.prototype.addMessageReceiver=function(m){if(f.notNull(m)){this.m_messageReceivers.add(m);}};f.PreQueryExecutor.prototype.restoreData=function(r,c){if(f.notNull(c)){this.m_queryManager.setConnection(c);}this.m_queryManager.getActiveResultSetContainer().setResultSetTransportEnabled(r);this.m_queryManager.setPreQueryName(null);};f.PreQueryExecutor.prototype.updateResultSetPersistenceTarget=function(q,b){var a=q.getApplication().getSystemLandscape().getSystemDescription(b);if(f.notNull(a)){if(a.isSystemMappingValid(q.getSystemDescription())){var s=q.getSystemDescription().getSystemMapping(b);q.setResultSetPersistanceTargetTable(s.getSerializeTable());q.setResultSetPersistanceTargetSchema(s.getSerializeSchema());}else{q.setResultSetPersistanceTargetTable(null);q.setResultSetPersistanceTargetSchema(null);return f.BlendingSource.createPersistenceIdentifierForPreQuery(q,false);}}return f.BlendingSource.createPersistenceIdentifierForPreQuery(q,true);};f.PreQueryExecutor.prototype.processExecutionRuntimePrequery=function(s,r,p){var g=r.generateRemoteQuery(this.m_queryManager);if(g.hasErrors()){var e=f.ExtResult.createWithExternalMessages(null,g);p.onFunctionExecuted(e,null,r);return f.SyncActionExtRes.createSyncAction(null,g);}var c=this.m_queryManager.getApplication().getConnectionPool();var a=c.getConnection(r.getSystemName());var b=a.getSystemDescription();var d=a.newRpcFunction(b.getSystemType().getInAPath());d.getRpcRequest().setRequestStructure(g.getData());return d.processFunctionExecution(s,p,r);};f.BlendableQMPersistedInAExportAction=function(){};f.BlendableQMPersistedInAExportAction.prototype=new f.SyncAction();f.BlendableQMPersistedInAExportAction.prototype._ff_c="BlendableQMPersistedInAExportAction";f.BlendableQMPersistedInAExportAction.create=function(b){var r=new f.BlendableQMPersistedInAExportAction();r.setupAction(null,null,null,b);r.m_blendingProcess=f.BlendingProcess.create(b,b.getBlendingProcessConfigs(),null);return r;};f.BlendableQMPersistedInAExportAction.prototype.m_blendingProcess=null;f.BlendableQMPersistedInAExportAction.prototype.releaseObject=function(){this.m_blendingProcess.postQueryExecution();this.m_blendingProcess=f.XObjectExt.release(this.m_blendingProcess);f.SyncAction.prototype.releaseObject.call(this);};f.BlendableQMPersistedInAExportAction.prototype.processSynchronization=function(s){this.m_blendingProcess.processBlendedQueryManagerCreation(s,this,null);return true;};f.BlendableQMPersistedInAExportAction.prototype.onQueryManagerCreated=function(e,q,c){this.addAllMessages(e);if(!e.hasErrors()){this.m_blendingProcess.prepareQueryExecution();var b=q.getQueryModel().getDataSource().getBlendingDefinition();var a=b.getBlendingHost();var d=f.BlendingUtils.getLeafBlendingSources(b);var g=f.XList.create();for(var i=0;i<d.size();i++){var s=d.get(i);var r=s.getQueryManager();if(!s.isRemoteSource()){continue;}var l=a.getSystemDescription();var h=r.getSystemDescription();if(f.notNull(h)){var j=r.serializeToElement(f.QModelFormat.INA_PERSISTED_QUERY_DATA);if(!l.isSystemMappingValid(h)){g.add(f.DependentPersistedQueryInfo.create(r.getSystemName(),this.convertToBrowserSerializedDataQuery(j)));}else{var k=l.getSystemMapping(h.getSystemName());g.add(f.DependentPersistedQueryInfo.create(r.getSystemName(),this.convertToSDIDataQuery(j,r.getSession(),l,k)));}}}var m=f.BlendableQMPersistedInAResult.create(q.serializeToElement(f.QModelFormat.INA_PERSISTED_QUERY_DATA),g,q);this.setData(m);}this.endSync();};f.BlendableQMPersistedInAExportAction.prototype.convertToBrowserSerializedDataQuery=function(o){var i=f.PrUtils.createDeepCopy(o);i.remove("System");var a=f.InARuntimeUtils.getRequestContext(o);f.InARuntimeUtils.setPersistencyForRemote(a,null);return i;};f.BlendableQMPersistedInAExportAction.prototype.convertToSDIDataQuery=function(o,s,m,a){var i=f.InARuntimeUtils.getDataSourceFromRequest(o);i.remove("System");var b=f.InARuntimeUtils.getRequestContext(o);f.InARuntimeUtils.setPersistencyForRemote(b,a);var r=f.InARuntimeUtils.getHashableRequest(b);var p=f.BlendingSource.createPersistenceIdentifierByRequest2(s,r,m,null);f.InARuntimeUtils.setPersistencyIdentifier(b,p);f.InARuntimeUtils.setPersistencyForLocal(i,p,a);return i;};f.BlendableQMPersistedInAExportAction.prototype.callListener=function(e,l,d,c){l.onBlendableQMPersistedInAResult(e,d,c);};f.BlendableQMVariableSubmitProcessor=function(){};f.BlendableQMVariableSubmitProcessor.prototype=new f.SyncAction();f.BlendableQMVariableSubmitProcessor.prototype._ff_c="BlendableQMVariableSubmitProcessor";f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor=function(b){var a=new f.BlendableQMVariableSubmitProcessor();a.setupAction(null,null,null,b);return a;};f.BlendableQMVariableSubmitProcessor.prototype.m_mode=null;f.BlendableQMVariableSubmitProcessor.prototype.m_queryManagersToBeProcessCount=0;f.BlendableQMVariableSubmitProcessor.prototype.m_variableVariant=null;f.BlendableQMVariableSubmitProcessor.prototype.m_transferVariable=null;f.BlendableQMVariableSubmitProcessor.prototype.releaseObject=function(){this.m_queryManagersToBeProcessCount=0;f.SyncAction.prototype.releaseObject.call(this);};f.BlendableQMVariableSubmitProcessor.prototype.processSynchronization=function(s){var q=f.XList.create();q.addAll(this.getActionContext().getAllQueryManagers());this.m_queryManagersToBeProcessCount=q.size();var a=q.getIterator();while(a.hasNext()){var b=a.next();if(this.m_mode===f.VariableProcessorState.PROCESSING_SUBMIT){b.submitVariables(s,this,null);}else if(this.m_mode===f.VariableProcessorState.PROCESSING_REINIT){b.reInitVariablesAfterSubmit(s,this,null);}else if(this.m_mode===f.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION){b.activateVariableVariant(this.m_variableVariant,s,this,null);}else if(this.m_mode===f.VariableProcessorState.PROCESSING_CANCEL){b.cancelReInitVariables(s,this,null);}else if(this.m_mode===f.VariableProcessorState.PROCESSING_UPDATE_VALUES){if(f.notNull(this.m_transferVariable)){var t=b.transferVariablesByVariable(this.m_transferVariable,s,this,null);if(f.isNull(t)){this.m_queryManagersToBeProcessCount--;}}else{b.transferVariables(s,this,null);}}else if(this.m_mode===f.VariableProcessorState.PROCESSING_CHECK){if(b.supportsCheckVariables()){b.checkVariables(s,this,null);}else{this.m_queryManagersToBeProcessCount--;}}else{throw f.XException.createRuntimeException(f.XStringUtils.concatenate2("Unknown mode: ",f.notNull(this.m_mode)?this.m_mode.getName():"null"));}}return this.m_queryManagersToBeProcessCount>0;};f.BlendableQMVariableSubmitProcessor.prototype.onVariableProcessorExecuted=function(e,r,c){this.addAllMessages(e);this.m_queryManagersToBeProcessCount--;if(this.m_queryManagersToBeProcessCount===0){this.setData(this);this.endSync();}};f.BlendableQMVariableSubmitProcessor.prototype.isSuccessfullyProcessed=function(){return this.hasErrors();};f.BlendableQMVariableSubmitProcessor.prototype.setAndAssertVariableProcessMode=function(n){if(f.isNull(this.m_mode)||this.m_mode===n){this.m_mode=n;}else{throw f.XException.createIllegalStateException(f.XStringUtils.concatenate4("BlendableQMVariableProcessor cannot perform operation: '",f.notNull(n)?n.getName():"null","' because processor is already used for operation:",this.m_mode.getName()));}};f.BlendableQMVariableSubmitProcessor.prototype.submitVariables=function(s,l,c){this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_SUBMIT);this.processSyncAction(s,l,c);return this.processSyncAction(s,l,c);};f.BlendableQMVariableSubmitProcessor.prototype.reInitVariablesAfterSubmit=function(s,l,c){this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_REINIT);return this.processSyncAction(s,l,c);};f.BlendableQMVariableSubmitProcessor.prototype.activateVariableVariant=function(v,s,l,c){this.m_variableVariant=v;this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION);return this.processSyncAction(s,l,c);};f.BlendableQMVariableSubmitProcessor.prototype.cancelReInitVariables=function(s,l,c){this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_CANCEL);return this.processSyncAction(s,l,c);};f.BlendableQMVariableSubmitProcessor.prototype.transferVariables=function(s,l,c){this.m_transferVariable=null;this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_UPDATE_VALUES);return this.processSyncAction(s,l,c);};f.BlendableQMVariableSubmitProcessor.prototype.transferVariablesByVariable=function(v,s,l,c){this.m_transferVariable=v;this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_UPDATE_VALUES);return this.processSyncAction(s,l,c);};f.BlendableQMVariableSubmitProcessor.prototype.checkVariables=function(s,l,c){this.setAndAssertVariableProcessMode(f.VariableProcessorState.PROCESSING_CHECK);return this.processSyncAction(s,l,c);};f.RuntimeBlendedQueryManagerAction=function(){};f.RuntimeBlendedQueryManagerAction.prototype=new f.SyncAction();f.RuntimeBlendedQueryManagerAction.prototype._ff_c="RuntimeBlendedQueryManagerAction";f.RuntimeBlendedQueryManagerAction.create=function(b){var r=new f.RuntimeBlendedQueryManagerAction();r.setupAction(null,null,null,b);r.m_blendingProcess=f.BlendingProcess.create(b,b.getBlendingProcessConfigs(),null);return r;};f.RuntimeBlendedQueryManagerAction.prototype.m_blendingProcess=null;f.RuntimeBlendedQueryManagerAction.prototype.releaseObject=function(){this.m_blendingProcess.postQueryExecution();this.m_blendingProcess=f.XObjectExt.release(this.m_blendingProcess);f.SyncAction.prototype.releaseObject.call(this);};f.RuntimeBlendedQueryManagerAction.prototype.processSynchronization=function(s){this.m_blendingProcess.processBlendedQueryManagerCreation(s,this,null);return true;};f.RuntimeBlendedQueryManagerAction.prototype.onQueryManagerCreated=function(e,q,c){this.addAllMessages(e);if(!e.hasErrors()){this.m_blendingProcess.prepareQueryExecution();this.setData(q);}this.endSync();};f.RuntimeBlendedQueryManagerAction.prototype.callListener=function(e,l,d,c){l.onQueryManagerCreated(e,d,c);};f.OlapEnvCapabilitiesExtAction=function(){};f.OlapEnvCapabilitiesExtAction.prototype=new f.SyncAction();f.OlapEnvCapabilitiesExtAction.prototype._ff_c="OlapEnvCapabilitiesExtAction";f.OlapEnvCapabilitiesExtAction.createAndRun=function(s,l,c,o){var a=new f.OlapEnvCapabilitiesExtAction();a.setupActionAndRun(s,l,c,o);return a;};f.OlapEnvCapabilitiesExtAction.prototype.releaseObject=function(){f.SyncAction.prototype.releaseObject.call(this);};f.OlapEnvCapabilitiesExtAction.prototype.processSynchronization=function(s){var o=this.getActionContext();var a=o.getApplication();var b=a.getSystemConnect(o.getSystemName());b.getServerMetadataExt(s,this,null);return true;};f.OlapEnvCapabilitiesExtAction.prototype.onServerMetadataLoaded=function(e,s,c){var a=this.getSession();var o=this.getActionContext();var i=f.ProviderType.getAll().getIterator();while(i.hasNext()){var p=i.next();var b=f.InACapabilitiesProvider.create(a,s,p,null);var d=b.getQueryCapabilities();o.addCapabilities(p,d);}};f.OlapEnvCapabilitiesExtAction.prototype.callListener=function(e,l,d,c){l.onCapabilitiesLoaded(e,d,c);};f.OlapEnvCapabilityAction=function(){};f.OlapEnvCapabilityAction.prototype=new f.SyncAction();f.OlapEnvCapabilityAction.prototype._ff_c="OlapEnvCapabilityAction";f.OlapEnvCapabilityAction.create=function(c){var n=new f.OlapEnvCapabilityAction();n.setupAction(null,null,null,c);return n;};f.OlapEnvCapabilityAction.prototype.m_listener=null;f.OlapEnvCapabilityAction.prototype.releaseObject=function(){this.m_listener=null;f.SyncAction.prototype.releaseObject.call(this);};f.OlapEnvCapabilityAction.prototype.processSyncAction=function(s,l,c){this.m_listener=l;var a=this.getActionContext();var b;if(a.getSession().hasFeature(f.FeatureToggleOlap.SERVER_METADATA_VIA_SYSTEM_CONNECT)){b=a.getSystemConnect().getServerMetadataExt(s,this,null);}else{b=a.getServerMetadataExt(s,this,null,false);}if(b.isValid()){this.onServerMetadataLoaded(b,b.getData(),null);}return this;};f.OlapEnvCapabilityAction.prototype.onServerMetadataLoaded=function(e,s,c){this.copyAllMessages(e);var a=f.XHashMapByString.create();var b=s.getServices().getIterator();while(b.hasNext()){this.importServiceCapabilities(a,s,b.next());}this.setData(a);if(f.notNull(this.m_listener)){this.m_listener.onCapabilities(this,a,c);}};f.OlapEnvCapabilityAction.prototype.importServiceCapabilities=function(c,s,a){var n=f.QCapabilities.create();n.setSystemType(s.getSystemDescription().getSystemType());n.setSystemName(s.getSystemDescription().getSystemName());f.InACapabilitiesProvider.importCapabilities(s.getMetadataForService(a),n);this._sacFallback(s,a,n);c.put(a,n);};f.OlapEnvCapabilityAction.prototype._sacFallback=function(s,a,n){var b=s.getBetaMetadataForService(a);if(f.isNull(b)){return;}if(b.containsKey(f.InACapabilities.C188_LOCALE_SORTING)){n.setSupportsLocaleSorting(true);}if(b.containsKey(f.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES)){n.setSupportsDynamicVariableRefresh(true);}if(b.containsKey(f.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER)){n.setSupportsDimensionDefaultMember(true);}if(b.containsKey(f.InACapabilities.C189_DIMENSION_VISIBILITY)){n.setSupportsDimensionVisibility(true);}if(b.containsKey(f.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY)){n.setSupportsExtendedDimensionVisibility(true);}if(b.containsKey(f.InACapabilities.C212_SORT_NEW_VALUES)){n.setSupportsSortNewValues(true);}if(b.containsKey(f.InACapabilities.C215_MEASURE_MEMBER_DEFINITION)){n.setSupportsMeasureMemberDefinition(true);}if(b.containsKey(f.InACapabilities.C216_MEASURE_MEMBER_DETAILS)){n.setSupportsMeasureMemberDetails(true);}if(b.containsKey(f.InACapabilities.C217_MEASURE_MEMBER_TYPE)){n.setSupportsMeasureMemberType(true);}};f.OlapEnvSupportedFormulaAction=function(){};f.OlapEnvSupportedFormulaAction.prototype=new f.SyncAction();f.OlapEnvSupportedFormulaAction.prototype._ff_c="OlapEnvSupportedFormulaAction";f.OlapEnvSupportedFormulaAction.create=function(c){var n=new f.OlapEnvSupportedFormulaAction();n.setupAction(null,null,null,c);return n;};f.OlapEnvSupportedFormulaAction.prototype.m_listener=null;f.OlapEnvSupportedFormulaAction.prototype.releaseObject=function(){this.m_listener=null;f.SyncAction.prototype.releaseObject.call(this);};f.OlapEnvSupportedFormulaAction.prototype.processSyncAction=function(s,l,c){this.m_listener=l;var a=this.getActionContext();var b=a.getSystemDescription().getSystemType();if(b.isTypeOf(f.SystemType.ABAP)&&a.supportsAnalyticCapability(f.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)||b.isTypeOf(f.SystemType.HANA)){var _=a.newRpcFunction(b.getInAPath());_.getRpcRequest().setRequestStructure(this.createRequest(a));_.processFunctionExecution(s,this,b);return this;}var d=f.XListOfString.create();if(b.isTypeOf(f.SystemType.ABAP)){var e=f.FormulaOperator.getSupportedFormulaOperator(b);d=f.XCollectionUtils.createListOfNames(e);}if(b.isTypeOf(f.SystemType.UNV)||b.isTypeOf(f.SystemType.UQAS)){d.add("abs");d.add("and");d.add("decfloat");d.add("double");d.add("float");d.add("if");d.add("int");d.add("isNull");d.add("length");d.add("like");d.add("log");d.add("log10");d.add("not");d.add("or");d.add("substring");d.add("-");d.add("/");d.add("+");d.add("*");d.add("**");d.add("==");d.add("!=");d.add(">=");d.add(">");d.add("<=");d.add("<");}if(a.supportsAnalyticCapability(f.InACapabilities.C153_VARIANCE_OPERATOR)){d.add("variance");}this.setData(d);if(f.notNull(this.m_listener)){this.m_listener.onSupportedFormula(this,d,c);}return this;};f.OlapEnvSupportedFormulaAction.prototype.createRequest=function(c){var r=f.PrFactory.createStructure();var i=r.putNewStructure("Analytics");var a=i.putNewStructure("Definition");var s=c.getSystemDescription().getSystemType();this.addCapabilities(i,c);this.addDatasource(a,s);this.addLayout(a,s);this.addFeatureRequests(a,c);return r;};f.OlapEnvSupportedFormulaAction.prototype.addCapabilities=function(i,c){if(c.supportsAnalyticCapability(f.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)){var a=i.putNewList("Capabilities");a.addString(f.InACapabilities.C167_FORMULA_OPERATORS_CATALOG);}if(c.supportsAnalyticCapability(f.InACapabilities.C141_RETURNED_DATA_SELECTION)){var b=i.putNewList("Capabilities");b.addString(f.InACapabilities.C141_RETURNED_DATA_SELECTION);}};f.OlapEnvSupportedFormulaAction.prototype.addFeatureRequests=function(i,c){var a=i.putNewStructure("ResultSetFeatureRequest");a.putBoolean("IncludePerformanceData",false);a.putString("ResultEncoding","None");a.putString("ResultFormat","Version2");if(c.supportsAnalyticCapability(f.InACapabilities.C141_RETURNED_DATA_SELECTION)){var r=a.putNewStructure("ReturnedDataSelection");r.putBoolean(f.ReturnedDataSelection.ACTIONS.getName(),false);r.putBoolean(f.ReturnedDataSelection.EXCEPTIONS.getName(),false);r.putBoolean(f.ReturnedDataSelection.EXCEPTION_ALERTLEVEL.getName(),false);r.putBoolean(f.ReturnedDataSelection.INPUT_ENABLED.getName(),false);r.putBoolean(f.ReturnedDataSelection.UNIT_DESCRIPTIONS.getName(),false);r.putBoolean(f.ReturnedDataSelection.UNIT_TYPES.getName(),false);r.putBoolean(f.ReturnedDataSelection.UNITS.getName(),false);r.putBoolean(f.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL.getName(),false);r.putBoolean(f.ReturnedDataSelection.TUPLE_DRILL_STATE.getName(),false);r.putBoolean(f.ReturnedDataSelection.TUPLE_PARENT_INDEXES.getName(),false);r.putBoolean(f.ReturnedDataSelection.VALUES.getName(),false);r.putBoolean(f.ReturnedDataSelection.VALUES_FORMATTED.getName(),false);}};f.OlapEnvSupportedFormulaAction.prototype.addLayout=function(i,s){var a=i.putNewList("Dimensions");var b=a.addNewStructure();b.putString("Axis","Rows");b.putString("Name","FunctionName");b.putInteger("SortOrder",1);if(s.isTypeOf(f.SystemType.ABAP)){b.putString("Name","FormulaOperators");var c=b.putNewList("Attributes");var d=c.addNewStructure();d.putString("Name","FormulaOperators.KEY");d.putString("Obtainability",f.ObtainabilityType.ALWAYS.getName());}};f.OlapEnvSupportedFormulaAction.prototype.addDatasource=function(i,s){var a=i.putNewStructure("DataSource");if(s.isTypeOf(f.SystemType.HANA)){a.putString("ObjectName","$$FormulaFunctions$$");}else if(s.isTypeOf(f.SystemType.ABAP)){a.putString("ObjectName","$$DataSource$$");a.putString("Type","FormulaOperators");}};f.OlapEnvSupportedFormulaAction.prototype.onFunctionExecuted=function(e,r,c){var s=null;this.copyAllMessages(e);if(e.isValid()){var a=r.getRootElement();f.InAHelper.importMessages(r.getRootElement(),this);if(this.isValid()){var g=a.getListByKey("Grids");var b=g.getStructureAt(0);var d=b.getListByKey("Axes");var h=d.getStructureAt(0);var j=h.getListByKey("Dimensions");var k=j.getStructureAt(0);var l=k.getListByKey("Attributes");var m=l.getStructureAt(0);var v=m.getListByKey("Values");s=f.XListOfString.create();var n=v.size();for(var i=0;i<n;i++){s.add(v.getStringAt(i));}}}this.setData(s);if(f.notNull(this.m_listener)){this.m_listener.onSupportedFormula(this,s,c);}};f.OlapEnvironment=function(){};f.OlapEnvironment.prototype=new f.DfNameObject();f.OlapEnvironment.prototype._ff_c="OlapEnvironment";f.OlapEnvironment.SYSTEM_NAME="systemName";f.OlapEnvironment.QUERY_MANAGER="queryManager";f.OlapEnvironment.CUSTOM_IDENTIFIER="customIdentifier";f.OlapEnvironment.LISTENER="listener";f.OlapEnvironment.SYNC_TYPE="syncType";f.OlapEnvironment.create=function(a){var n=new f.OlapEnvironment();n.setupEnv(a);return n;};f.OlapEnvironment.prototype.m_application=null;f.OlapEnvironment.prototype.m_varProcessor=null;f.OlapEnvironment.prototype.m_stateManager=null;f.OlapEnvironment.prototype.m_queryManagerHandler=null;f.OlapEnvironment.prototype.m_customHierarchyRepo=null;f.OlapEnvironment.prototype.m_queryManagers=null;f.OlapEnvironment.prototype.m_isCmdTracing=false;f.OlapEnvironment.prototype.m_variables=null;f.OlapEnvironment.prototype.m_traceOffset=0;f.OlapEnvironment.prototype.m_traces=null;f.OlapEnvironment.prototype.m_remoteBlendingCache=null;f.OlapEnvironment.prototype.m_rsDataMaxCacheEntries=10;f.OlapEnvironment.prototype.m_resourceToStringRep=null;f.OlapEnvironment.prototype.m_systems=null;f.OlapEnvironment.prototype.m_filterManager=null;f.OlapEnvironment.prototype.m_prequeries=null;f.OlapEnvironment.prototype.m_transientQueryManager=null;f.OlapEnvironment.prototype.m_sharedQueryManagers=null;f.OlapEnvironment.prototype.m_allowedFormulaOperators=null;f.OlapEnvironment.prototype.m_supportedFormulaOperators=null;f.OlapEnvironment.prototype.m_clientQueryObjectManager=null;f.OlapEnvironment.prototype.m_modelCache=null;f.OlapEnvironment.prototype.m_geoManager=null;f.OlapEnvironment.prototype.m_modelLinkManager=null;f.OlapEnvironment.prototype.setupEnv=function(a){this.setApplication(a);var p=this.getSession();if(f.notNull(p)){p.setEntity(f.ProcessEntity.OLAP_ENVIRONMENT,this);}this.m_remoteBlendingCache=f.XLinkedHashMapByString.create();this.m_resourceToStringRep=f.QCache.create(p);this.m_queryManagers=f.XListOfNameObject.create();this.m_varProcessor=f.OlapEnvVarProcessor.create(this);this.m_stateManager=f.OlapEnvStateManager.create(this,p);this.m_queryManagerHandler=f.OlapEnvQueryManagerHandler.create(this);this.m_systems=f.XHashMapByString.create();this.m_customHierarchyRepo=f.CustomHierarchyRepository.create(a);this.m_prequeries=f.XLinkedHashMapByString.create();this.m_transientQueryManager=f.XHashMapByString.create();this.m_sharedQueryManagers=f.XHashMapByString.create();this.m_modelCache=f.QCache.create(p);};f.OlapEnvironment.prototype.releaseObject=function(){if(f.notNull(this.m_queryManagers)){for(var i=0;i<this.m_queryManagers.size();i++){var q=this.m_queryManagers.get(i);f.XObjectExt.release(q);}f.XObjectExt.release(this.m_queryManagers);this.m_queryManagers=null;}this.m_systems=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_systems);this.m_varProcessor=f.XObjectExt.release(this.m_varProcessor);this.m_stateManager=f.XObjectExt.release(this.m_stateManager);this.m_queryManagerHandler=f.XObjectExt.release(this.m_queryManagerHandler);this.m_customHierarchyRepo=f.XObjectExt.release(this.m_customHierarchyRepo);this.m_remoteBlendingCache=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_remoteBlendingCache);this.m_application=null;this.m_resourceToStringRep=f.XObjectExt.release(this.m_resourceToStringRep);this.m_systems=f.XObjectExt.release(this.m_systems);this.m_filterManager=f.XObjectExt.release(this.m_filterManager);this.m_geoManager=f.XObjectExt.release(this.m_geoManager);this.m_modelLinkManager=f.XObjectExt.release(this.m_modelLinkManager);this.m_clientQueryObjectManager=f.XObjectExt.release(this.m_clientQueryObjectManager);this.m_prequeries=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_prequeries);this.m_transientQueryManager=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_transientQueryManager);this.m_sharedQueryManagers=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_sharedQueryManagers);this.m_allowedFormulaOperators=f.XObjectExt.release(this.m_allowedFormulaOperators);this.m_supportedFormulaOperators=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_supportedFormulaOperators);f.DfNameObject.prototype.releaseObject.call(this);};f.OlapEnvironment.prototype.getComponentType=function(){return f.OlapComponentType.OLAP_ENVIRONMENT;};f.OlapEnvironment.prototype.getSession=function(){var a=this.getApplication();return f.isNull(a)?null:a.getSession();};f.OlapEnvironment.prototype.getApplication=function(){return f.XWeakReferenceUtil.getHardRef(this.m_application);};f.OlapEnvironment.prototype.getApplicationBase=function(){return f.XWeakReferenceUtil.getHardRef(this.m_application);};f.OlapEnvironment.prototype.setApplication=function(a){this.m_application=f.XWeakReferenceUtil.getWeakRef(a);};f.OlapEnvironment.prototype.registerQueryManager=function(q){this.m_queryManagers.add(q);};f.OlapEnvironment.prototype.unregisterQueryManager=function(q){if(f.notNull(this.m_queryManagers)){this.m_queryManagers.removeElement(q);}var i=this.m_sharedQueryManagers.getKeysAsIteratorOfString();while(i.hasNext()){var k=i.next();if(q.isEqualTo(this.m_sharedQueryManagers)){this.m_sharedQueryManagers.remove(k);}}};f.OlapEnvironment.prototype.getSharedQueryManager=function(d){return this.m_sharedQueryManagers.getByKey(d);};f.OlapEnvironment.prototype.registerSharedQueryManager=function(d,s){this.m_sharedQueryManagers.put(d,s);};f.OlapEnvironment.prototype.getAllAreaQueryManager=function(){var c=f.XList.create();f.XCollectionUtils.addAll(c,this.m_queryManagers);return c;};f.OlapEnvironment.prototype.containsQueryManagerWithName=function(n){return this.m_queryManagers.containsKey(n);};f.OlapEnvironment.prototype.getQueryManagerByName=function(n){return this.m_queryManagers.getByKey(n);};f.OlapEnvironment.prototype.getVariableProcessor=function(){return this.m_varProcessor;};f.OlapEnvironment.prototype.getCustomHierarchyRepository=function(){return this.m_customHierarchyRepo;};f.OlapEnvironment.prototype.getOlapEnv=function(){return this;};f.OlapEnvironment.prototype.setTracing=function(e){if(this.m_isCmdTracing!==e){this.m_isCmdTracing=e;if(e){this.m_traces=f.XList.create();this.m_traceOffset=0;}else{this.m_traces=f.XObjectExt.release(this.m_traces);}}};f.OlapEnvironment.prototype.isTracing=function(){return f.notNull(this.m_traces);};f.OlapEnvironment.prototype.getTracingLog=function(){if(f.isNull(this.m_traces)){return"[Tracing not enabled]";}var b=f.XStringBuffer.create();for(var i=0;i<this.m_traces.size();i++){var c=this.m_traces.get(i);b.appendLine(c.toString());}return b.toString();};f.OlapEnvironment.prototype.addTraceEntry=function(e){if(f.notNull(this.m_traces)){this.m_traces.add(e);}};f.OlapEnvironment.prototype.getTraceChunk=function(){var c=this.m_traces;if(f.notNull(this.m_traces)){this.m_traceOffset=this.m_traceOffset+this.m_traces.size();this.m_traces=f.XList.create();}return c;};f.OlapEnvironment.prototype.getTraceOffset=function(){return this.m_traceOffset;};f.OlapEnvironment.prototype.setReplacementVariables=function(v,a,b,l){this.m_variables=v;};f.OlapEnvironment.prototype.replaceVariable=function(n){return f.isNull(this.m_variables)?n:this.m_variables.getStringByKeyExt(n,n);};f.OlapEnvironment.prototype.selectCmds=function(o){return f.CommandSpaceFactory.createCommandSpaceWithElement(this,o);};f.OlapEnvironment.prototype.select=function(s){return f.CommandSpaceFactory.createCommandSpaceWithSelection(this,s);};f.OlapEnvironment.prototype.getContext=function(){return this;};f.OlapEnvironment.prototype.setContext=f.noSupport;f.OlapEnvironment.prototype.getQueryManager=function(){return null;};f.OlapEnvironment.prototype.getQueryModel=function(){return null;};f.OlapEnvironment.prototype.getVariableContainer=function(){return null;};f.OlapEnvironment.prototype.getDimensionAccessor=function(){return null;};f.OlapEnvironment.prototype.getFieldAccessorSingle=function(){return null;};f.OlapEnvironment.prototype.getModelCapabilities=function(){return null;};f.OlapEnvironment.prototype.getDrillManager=function(){return null;};f.OlapEnvironment.prototype.getDataSourceOrigin=function(){return this.getDataSource();};f.OlapEnvironment.prototype.getDataSourceTarget=function(){return this.getDataSource();};f.OlapEnvironment.prototype.getDataSource=function(){return null;};f.OlapEnvironment.prototype.getKeyRefStorage=function(){return null;};f.OlapEnvironment.prototype.cacheRemoteBlendingData=function(q,v,c){var a=q.getResultSetPersistenceIdentifier();if(f.XStringUtils.isNotNullAndNotEmpty(a)&&(f.XStringUtils.isNotNullAndNotEmpty(v)||f.XStringUtils.isNotNullAndNotEmpty(c))){this.m_remoteBlendingCache.put(a,f.RemoteBlendingCacheEntry.create(v,c,q.getDataSource().getFullQualifiedName()));if(this.m_remoteBlendingCache.size()>this.m_rsDataMaxCacheEntries){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyListOfString().get(0));}}};f.OlapEnvironment.prototype.invalidateRemoteBlendingCacheEntry=function(c){if(f.XStringUtils.isNotNullAndNotEmpty(c)){f.XObjectExt.release(this.m_remoteBlendingCache.getByKey(c));this.m_remoteBlendingCache.remove(c);}};f.OlapEnvironment.prototype.invalidateRemoteBlendingCacheByDataSource=function(d){var c=this.m_remoteBlendingCache.getValuesAsReadOnlyList();for(var i=c.size()-1;i>=0;i--){if(f.XString.isEqual(c.get(i).getDataSourceName(),d)){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyListOfString().get(i));}}};f.OlapEnvironment.prototype.invalidateRemoteBlendingCache=function(){f.XCollectionUtils.releaseEntriesFromCollection(this.m_remoteBlendingCache);this.m_remoteBlendingCache.clear();};f.OlapEnvironment.prototype.setRemoteBlendingCacheEntryCount=function(e){this.m_rsDataMaxCacheEntries=f.XMath.max(e,0);while(this.m_remoteBlendingCache.hasElements()&&this.m_remoteBlendingCache.size()>this.m_rsDataMaxCacheEntries){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyListOfString().get(0));}};f.OlapEnvironment.prototype.getRemoteBlendingCacheEntryCount=function(){return this.m_rsDataMaxCacheEntries;};f.OlapEnvironment.prototype.getCachedRemoteBlendingData=function(c){return this.m_remoteBlendingCache.getByKey(c);};f.OlapEnvironment.prototype.getMicroCubesNames=function(s){return this.getSystemContainer(s).getMicroCubesNames();};f.OlapEnvironment.prototype.isValidMicroCubeName=function(s,n){return this.getSystemContainer(s).isValidMicroCubeName(n);};f.OlapEnvironment.prototype.addMicroCube=function(s,n,q){return this.getSystemContainerBase(s).addMicroCube(n,q);};f.OlapEnvironment.prototype.getMicroCube=function(s,n){return this.getSystemContainerBase(s).getMicroCube(n);};f.OlapEnvironment.prototype.removeMicroCubeName=function(s,n){this.getSystemContainerBase(s).removeMicroCubeName(n);};f.OlapEnvironment.prototype.processCmdContextCreation=function(s,l,c,a,b){var p=f.XPair.create(l,c);a.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,p);return null;};f.OlapEnvironment.prototype.onQueryManagerCreated=function(e,q,c){var p=c;var l=p.getFirstObject();var t=p.getSecondObject();var a=null;if(f.notNull(q)){a=this.selectCmds(q);}var b=f.ExtResult.create(a,e);l.onCmdContextCreated(b,a,t);};f.OlapEnvironment.prototype.updateDynamicVariablesForQueryManager=function(q,s,l,c){var a=q.getSystemDescription().getSystemName();var b=this.getSystemContainer(a);b.updateDynamicVariablesForQueryManager(q,s,l,c);};f.OlapEnvironment.prototype.addBLOBDetailsToCache=function(r,c){this.m_resourceToStringRep.put(r,c);};f.OlapEnvironment.prototype.useBLOBDetailsForResourceId=function(r){return this.m_resourceToStringRep.useEntry(r);};f.OlapEnvironment.prototype.getBLOBDetailsForResourceId=function(r){return this.m_resourceToStringRep.getByKey(r);};f.OlapEnvironment.prototype.hasBLOBForResourceId=function(r){return this.m_resourceToStringRep.containsKey(r);};f.OlapEnvironment.prototype.releaseResource=function(r){this.m_resourceToStringRep.freeEntry(r);};f.OlapEnvironment.prototype.getDimensionMetadata=function(k){var c=this.getCubeContainerInternal(k);return c.getDimensionMetadata(k);};f.OlapEnvironment.prototype.getDimensionMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);return c.getDimensionMetadataByKey(k);};f.OlapEnvironment.prototype.setDimensionMetadata=function(m){var c=this.getCubeContainerInternal(m.getCacheKey());c.setDimensionMetadata(m);};f.OlapEnvironment.prototype.releaseDimensionMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);c.releaseDimensionMetadataByKey(k);};f.OlapEnvironment.prototype.getKeyFieldMetadataByDimension=function(k){var c=this.getCubeContainerInternal(k);return c.getKeyFieldMetadataByDimension(k);};f.OlapEnvironment.prototype.getFieldMetadata=function(k){var c=this.getCubeContainerInternal(k);return c.getFieldMetadata(k);};f.OlapEnvironment.prototype.getFieldMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);return c.getFieldMetadataByKey(k);};f.OlapEnvironment.prototype.setFieldMetadata=function(m){var c=this.getCubeContainerInternal(m.getCacheKey());c.setFieldMetadata(m);};f.OlapEnvironment.prototype.releaseFieldMetadataByKey=function(k){var c=this.getCubeContainerInternal(k);c.releaseFieldMetadataByKey(k);};f.OlapEnvironment.prototype.setQueryMetadata=function(k,e){if(f.notNull(k)){var c=this.getCubeContainerInternal(k);c.setQueryMetadata(k,e);}};f.OlapEnvironment.prototype.overwriteQueryMetadata=function(k,e){if(f.notNull(k)){var c=this.getCubeContainerInternal(k);c.overwriteQueryMetadata(k,e);}};f.OlapEnvironment.prototype.releaseQueryMetadata=function(k){if(f.notNull(k)){var c=this.getCubeContainerInternal(k);c.releaseQueryMetadata(k);}};f.OlapEnvironment.prototype.releaseQueryMetadataExt=function(s,t,a,p,o){var d=f.QFactory.createDataSource();d.setSchemaName(a);d.setPackageName(p);d.setObjectName(o);d.setType(f.MetaObjectType.lookup(t));var b=this.getSystemContainer(s);if(f.notNull(b)){var c=d.getCacheKeyName();var e=b.getCubeContainer(c);if(f.notNull(e)){e.releaseAllQueryMetadata();f.XObjectExt.release(d);}}};f.OlapEnvironment.prototype.releaseAllQueryMetadata=function(){var s=this.m_systems.getKeysAsIteratorOfString();while(s.hasNext()){var e=this.getSystemContainer(s.next());e.releaseAllQueryMetadata();}};f.OlapEnvironment.prototype.getQueryMetadata=function(k){var r=null;if(f.notNull(k)){var c=this.getCubeContainerInternal(k);r=c.getQueryMetadata(k);}return r;};f.OlapEnvironment.prototype.getSystemContainerBase=function(s){return this.getSystemContainer(s);};f.OlapEnvironment.prototype.getSystemContainer=function(s){var t=s;if(f.isNull(t)){t="@defaultSys";}var a=this.m_systems.getByKey(t);if(f.isNull(a)){a=f.OlapEnvSystem.create(this,t);this.m_systems.put(t,a);}return a;};f.OlapEnvironment.prototype.getCubeContainerInternal=function(k){var e=this.getSystemContainer(k.getSystemName());return e.getCubeContainerInternal(k);};f.OlapEnvironment.prototype.getCubeContainer=function(k){return this.getCubeContainerInternal(k);};f.OlapEnvironment.prototype.isCachingEnabled=function(){var s=this.getSession();var i=false;if(f.notNull(s)){i=s.hasFeature(f.FeatureToggleOlap.METADATA_CACHING);}return i;};f.OlapEnvironment.prototype.setCachingEnabled=function(i){if(i){this.getSession().activateFeatureToggle(f.FeatureToggleOlap.METADATA_CACHING);}else{this.getSession().deactivateFeatureToggle(f.FeatureToggleOlap.METADATA_CACHING);}};f.OlapEnvironment.prototype.getFilterManager=function(){if(f.isNull(this.m_filterManager)){this.m_filterManager=f.OlapFilterManager.create(this);}return this.m_filterManager;};f.OlapEnvironment.prototype.getGeoManager=function(){if(f.isNull(this.m_geoManager)){this.m_geoManager=f.QGeoManager.create(this);}return this.m_geoManager;};f.OlapEnvironment.prototype.getClientQueryObjectManager=function(){if(f.isNull(this.m_clientQueryObjectManager)){this.m_clientQueryObjectManager=f.OlapClientQueryObjectManager.create(this);}return this.m_clientQueryObjectManager;};f.OlapEnvironment.prototype.getPrequery=function(p){return this.m_prequeries.getByKey(p);};f.OlapEnvironment.prototype.addPrequery=function(p,q){this.m_prequeries.put(p,q);};f.OlapEnvironment.prototype.removePrequery=function(p){return this.m_prequeries.remove(p);};f.OlapEnvironment.prototype.toString=function(){return f.isNull(this.m_application)?"":this.m_application.toString();};f.OlapEnvironment.prototype.getStateManager=function(){return this.m_stateManager;};f.OlapEnvironment.prototype.processQueryManagerCreationWithDataSourceName=function(s,l,c,a,d){return this.m_queryManagerHandler.processQueryManagerCreationWithDataSourceName(s,l,c,a,d);};f.OlapEnvironment.prototype.createQueryManagerWithMicroCube=function(m,s){return this.m_queryManagerHandler.createQueryManagerWithMicroCube(m,s);};f.OlapEnvironment.prototype.processQueryManagerCreationWithBlendingDefinition=function(s,l,c,b){return this.m_queryManagerHandler.processQueryManagerCreationWithBlendingDefinition(s,l,c,b);};f.OlapEnvironment.prototype.getQueryManagerByDataSource=function(s,d){var a=this.m_queryManagers.size();for(var i=0;i<a;i++){var q=this.m_queryManagers.get(i);if(f.XString.isEqual(q.getSystemName(),s)&&q.getDataSource()!==null&&f.XString.isEqual(q.getDataSource().getFullQualifiedName(),d)){return q;}}return null;};f.OlapEnvironment.prototype.setAllowedFormulaOperatorList=function(a){this.m_allowedFormulaOperators=a;};f.OlapEnvironment.prototype.getAllowedFormulaOperatorList=function(){return this.m_allowedFormulaOperators;};f.OlapEnvironment.prototype.setModelByJsonObject=function(m,t,a){var b=f.XContent.createJsonObjectContent(t,a);this.setModelByContent(m,b);};f.OlapEnvironment.prototype.setModelByContent=function(m,a){this.m_modelCache.put(m,a);};f.OlapEnvironment.prototype.getModelContent=function(m){return this.m_modelCache.getByKey(m);};f.OlapEnvironment.prototype.getDocumentStateManager=function(){return this.m_stateManager;};f.OlapEnvironment.prototype.clearTransientQueryManager=function(){this.m_transientQueryManager.clear();};f.OlapEnvironment.prototype.getTransientQueryManager=function(p){return this.m_transientQueryManager.getByKey(p);};f.OlapEnvironment.prototype.putTransientQueryManager=function(p,t){this.m_transientQueryManager.put(p,t);};f.OlapEnvironment.prototype.getModelLinkManager=function(){if(f.isNull(this.m_modelLinkManager)){this.m_modelLinkManager=f.QModelDimensionLinksManager.create(this);}return this.m_modelLinkManager;};f.OlapEnvironment.prototype.getSystemName=function(){return null;};f.OlapEnvironmentQMCreationListener=function(){};f.OlapEnvironmentQMCreationListener.prototype=new f.SyncAction();f.OlapEnvironmentQMCreationListener.prototype._ff_c="OlapEnvironmentQMCreationListener";f.OlapEnvironmentQMCreationListener.create=function(){var o=new f.OlapEnvironmentQMCreationListener();o.m_additionalListener=f.XList.create();o.m_additionalQms=f.XList.create();return o;};f.OlapEnvironmentQMCreationListener.prototype.m_virtualQueryManager=null;f.OlapEnvironmentQMCreationListener.prototype.m_additionalListener=null;f.OlapEnvironmentQMCreationListener.prototype.m_additionalQms=null;f.OlapEnvironmentQMCreationListener.prototype.processUpdate=function(s,l,c,t){var a=this.getSyncState();if(f.notNull(a)){if(a.isTypeOf(f.SyncState.PROCESSING)){this.m_additionalListener.add(f.XPair.create(l,c));this.m_additionalQms.add(t);return;}else{this.resetSyncState();}}this.setupActionAndRun(s,l,c,t);};f.OlapEnvironmentQMCreationListener.prototype.releaseObject=function(){this.m_virtualQueryManager=f.XObjectExt.release(this.m_virtualQueryManager);this.m_additionalListener=f.XObjectExt.release(this.m_additionalListener);f.SyncAction.prototype.releaseObject.call(this);};f.OlapEnvironmentQMCreationListener.prototype.processSynchronization=function(s){if(f.isNull(this.m_virtualQueryManager)){var t=this.getActionContext();var v=f.QueryServiceConfig.createWithDataSourceName(t.getApplication(),t.getSystemName(),f.QModelConstants.UPDATE_DYN_VAR_VIRTUAL_DATASOURCE);v.processQueryManagerCreation(s,this,null);}else{this.prepareVirtualQueryManager();this.m_virtualQueryManager.processQueryExecution(s,this,null);}return true;};f.OlapEnvironmentQMCreationListener.prototype.onQueryManagerCreated=function(e,q,c){this.addAllMessages(e);if(this.hasErrors()){this.endSync();return;}this.m_virtualQueryManager=q;this.prepareVirtualQueryManager();this.m_virtualQueryManager.processQueryExecution(this.getActiveSyncType(),this,null);};f.OlapEnvironmentQMCreationListener.prototype.prepareVirtualQueryManager=function(){var q=this.m_virtualQueryManager.getQueryModel();var t=this.getActionContext().getQueryModel();var v=f.QFactory.createFilterDynamicVariables(q,t.getDataSource());var s=this.getActionContext().getSession();var c=q.getConvenienceCommands();if(s.hasFeature(f.FeatureToggleOlap.IMPROVED_DYNAMIC_VARIABLE_UPDATE)){c.clearFilters();c.addSingleMemberFilterByDimensionName("SchemaName",v.getSchemaName(),f.ComparisonOperator.EQUAL);c.addSingleMemberFilterByDimensionName("PackageName",v.getPackageName(),f.ComparisonOperator.EQUAL);c.addSingleMemberFilterByDimensionName("ObjectName",v.getObjectName(),f.ComparisonOperator.EQUAL);c.moveDimensionToRows("Name");c.moveDimensionToRows("Low");c.moveDimensionToRows("High");c.moveDimensionToRows("Option");c.moveDimensionToRows("Sign");var a=t.getVariables();for(var i=0;i<a.size();i++){var b=a.get(i);if(b.isDynamicVariable()){c.addSingleMemberFilterByDimensionName("Name",b.getName(),f.ComparisonOperator.EQUAL);}}}else{q.getFilter().getDynamicFilter().setComplexRoot(v);c.addAllDimensions();}};f.OlapEnvironmentQMCreationListener.prototype.onQueryExecuted=function(e,r,c){this.addAllMessages(e);if(this.isValid()){this.updateVariablesInQueryManager();this.setData(e.getData());}this.endSync();};f.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManager=function(){var t=this.getActionContext().getQueryModel();this.updateVariablesInQueryManagerInternal(t);if(f.XCollectionUtils.hasElements(this.m_additionalQms)){for(var i=0;i<this.m_additionalQms.size();i++){var a=this.m_additionalQms.get(i).getQueryModel();this.updateVariablesInQueryManagerInternal(a);}this.m_additionalQms.clear();}};f.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerInternal=function(t){var s=this.getActionContext().getSession();if(s.hasFeature(f.FeatureToggleOlap.IMPROVED_DYNAMIC_VARIABLE_UPDATE)){this.updateVariablesInQueryManagerImproved(t);}else{this.updateVariablesInQueryManagerOld(t);}};f.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerImproved=function(t){var a=t.getVariables();for(var v=0;v<a.size();v++){var b=a.get(v);if(b.isDynamicVariable()){b.clear();}}var c=this.m_virtualQueryManager.getQueryModel();var n=c.getDimensionByName("Name");var l=c.getDimensionByName("Low");var h=c.getDimensionByName("High");var o=c.getDimensionByName("Option");var s=c.getDimensionByName("Sign");var r=this.m_virtualQueryManager.getClassicResultSet().getRowsAxis();for(var i=0;i<r.getTuplesCount();i++){var d=r.getTupleAt(i);var e=t.getVariable(d.getTupleElementByDimension(n).getName());var g=d.getTupleElementByDimension(l).getName();var j=d.getTupleElementByDimension(h).getName();var k=f.QInAConverter.lookupComparison(d.getTupleElementByDimension(o).getName());if(f.isNull(k)){k=f.ComparisonOperator.EQUAL;}var m=f.QInAConverter.lookupRsSetSign(d.getTupleElementByDimension(s).getName());if(f.isNull(m)){m=f.SetSign.INCLUDING;}if(e.getVariableType().isTypeOf(f.VariableType.DIMENSION_MEMBER_VARIABLE)){var p=e;var q=p.getDimension();var u=q.getKeyField();var w=f.QFactory.createFilterCartesianListForDimensionMemberVariable(e.getContext(),p,u.getMetadata(),null);var x=w.addNewCartesianElement();x.setComparisonOperator(k);x.setSetSign(m);var y=w.getField().getValueType();if(k.getNumberOfParameters()>0&&f.XStringUtils.isNotNullAndNotEmpty(g)){var z=f.XValueAccess.createWithType(y);z.parseString(g);if(z.getValue()!==null){x.getLow().setValue(z.getValue());}}if(k.getNumberOfParameters()>1&&f.XStringUtils.isNotNullAndNotEmpty(j)){var A=f.XValueAccess.createWithType(y);A.parseString(j);if(A.getValue()!==null){x.getHigh().setValue(A.getValue());}}if(k.getNumberOfParameters()===0||x.getLow()!==null&&x.getLow().getValue()!==null||x.getHigh()!==null&&x.getHigh().getValue()!==null){if(p.hasMemberFilter()){p.getMemberFilter().add(x);}else{p.setMemberFilter(w);}}}else if(e.getVariableType().isTypeOf(f.VariableType.SIMPLE_TYPE_VARIABLE)){e.addValueByString(g);}else if(e.getVariableType().isTypeOf(f.VariableType.OPTION_LIST_VARIABLE)){e.setOptionByName(g);}}};f.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerOld=function(t){var v=this.m_virtualQueryManager.getQueryModel();var c=this.m_virtualQueryManager.getClassicResultSet();var r=c.getRowsAxis();var n=r.getAllMembers(v.getDimensionByName("Name"));var l=r.getAllMembers(v.getDimensionByName("Low"));var h=r.getAllMembers(v.getDimensionByName("High"));if(f.isNull(n)||n.size()===0){return;}var s=n.size();var a=t.getVariables();var b=a.size();for(var d=0;d<b;d++){var e=a.get(d);if(!e.isDynamicVariable()){continue;}for(var m=0;m<s;m++){if(f.XString.isEqual(n.get(m).getName(),e.getName())){var g=l.get(m).getName();if(f.XStringUtils.isNotNullAndNotEmpty(g)){e.setValueByString(g);if(e.getVariableType()===f.VariableType.DIMENSION_MEMBER_VARIABLE&&f.XStringUtils.isNotNullAndNotEmpty(h.get(m).getName())){var i=e;var j=i.getMemberFilter();var k=j.getCartesianElement(0);k.getHigh().setString(h.get(m).getName());}}}}}};f.OlapEnvironmentQMCreationListener.prototype.callListener=function(e,l,d,c){if(f.notNull(l)){l.onQueryExecuted(this,d,c);}if(f.XCollectionUtils.hasElements(this.m_additionalListener)){for(var i=0;i<this.m_additionalListener.size();i++){var p=this.m_additionalListener.get(i);p.getFirstObject().onQueryExecuted(this,d,p.getSecondObject());}this.m_additionalListener.clear();}};f.DocumentUpdateAction=function(){};f.DocumentUpdateAction.prototype=new f.SyncAction();f.DocumentUpdateAction.prototype._ff_c="DocumentUpdateAction";f.DocumentUpdateAction.createAndRun=function(s,l,c,a,b){var d=new f.DocumentUpdateAction();d.m_olapEnvState=b;d.setupAction(s,l,c,a);d.namesOfHandledQM=f.XHashSetOfString.create();d.namesOfSubmitedQms=f.XHashSetOfString.create();d.insStates=f.XHashMapByString.create();d.modCounters=f.XHashMapByString.create();d.olapStateManager=a;d.process();return d;};f.DocumentUpdateAction.prototype.m_olapEnvState=null;f.DocumentUpdateAction.prototype.namesOfHandledQM=null;f.DocumentUpdateAction.prototype.namesOfSubmitedQms=null;f.DocumentUpdateAction.prototype.olapStateManager=null;f.DocumentUpdateAction.prototype.insStates=null;f.DocumentUpdateAction.prototype.modCounters=null;f.DocumentUpdateAction.prototype.processSynchronization=function(s){var m=f.MessageManagerSimple.createMessageManager();var a=this.m_olapEnvState.getFilterManagerState();var b=this.olapStateManager.getStateCache().getByKey(a.getStateId());var o=this.olapStateManager.getOlapEnv();var c=o.getFilterManager();var j=f.JsonParserFactory.newInstance();var d=j.parse(b.getState());if(j.hasErrors()){this.addAllMessages(j);return false;}m.copyAllMessages(c.deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY,d));c.setModCounter(a.getModCounter());var q=this.m_olapEnvState.getQueryManagersState().getKeysAsIteratorOfString();var e=false;var g=f.XSetOfNameObject.create();var h=f.XSetOfNameObject.create();while(q.hasNext()){var i=q.next();this.namesOfHandledQM.add(i);var k=this.m_olapEnvState.getQueryManagersState().getByKey(i);var l=this.olapStateManager.getStateCache().getByKey(k.getStateId()).getState();var n=j.parse(l);if(f.notNull(n)&&!n.isEmpty()){this.insStates.put(i,n);var p=o.getQueryManagerByName(i);var r=n.getStructureByKey(f.QStateConstants.QUERY_MODEL);if(f.isNull(p)){p=this.recreateQueryManager(r,m,n.getStringByKeyExt(f.QStateConstants.MANAGER_DATASET_ID,null),n.getByKey(f.QStateConstants.MANAGER_TAGS),n.getStringByKey(f.QStateConstants.MANAGER_SYSTEM_NAME));p.setName(i);}this.namesOfSubmitedQms.add(i);if(p.isSubmitNeeded()){h.add(p);}else{g.add(p);}this.modCounters.put(i,f.XIntegerValue.create(k.getModCounter()));}}var t=g.getValuesAsReadOnlyList().getIterator();while(t.hasNext()){this.onVariableProcessorExecuted(null,null,t.next());}f.XObjectExt.release(t);var u=h.getValuesAsReadOnlyList().getIterator();while(u.hasNext()){var v=u.next();v.submitVariables(s,this,v);e=true;}f.XObjectExt.release(u);return e;};f.DocumentUpdateAction.prototype.onVariableProcessorExecuted=function(e,r,c){this.addAllMessages(e);if(f.notNull(e)&&e.hasErrors()){this.endSync();}else{var q=c;this.updateQueryManagerFromState(this.olapStateManager.getOlapEnv().getFilterManager(),q);var n=q.getName();q.getQueryModelBase().setModCounter(this.modCounters.getByKey(q.getName()).getInteger());this.namesOfSubmitedQms.removeElement(n);if(this.namesOfSubmitedQms.isEmpty()){if(this.olapStateManager.isReleaseQueryManagersEnabled()){var a=this.olapStateManager.getOlapEnv().getAllAreaQueryManager().getIterator();while(a.hasNext()){var b=a.next();if(!b.isReleased()&&!this.namesOfHandledQM.contains(b.getName())&&!this.olapStateManager.hasToBeIgnored(b)){f.XObjectExt.release(b);}}}this.setData(this.olapStateManager.getOlapEnv());this.endSync();}}};f.DocumentUpdateAction.prototype.updateQueryManagerFromState=function(o,q){var i=this.insStates.getByKey(q.getName());if(q.getOlapComponentType()===f.OlapComponentType.BLENDABLE_QUERY_MANAGER){q.deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY,i.getStructureByKey(f.QStateConstants.QUERY_MODEL));var b=q;var a=i.getListByKey(f.QStateConstants.QUERY_MANAGER_EXTERNAL_FILTERS);var c=a.getIterator();while(c.hasNext()){var d=c.next().asStructure();var e=d.getStringByKey(f.QStateConstants.MANAGER_DATASET_ID);var l=b.getQueryManagerByDatasetId(e);if(f.notNull(l)){this.applyExternalFilterToQueryManager(o,l,d);}}}else{q.getQueryModel().deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY,i.getStructureByKey(f.QStateConstants.QUERY_MODEL));this.applyExternalFilterToQueryManager(o,q,i);}};f.DocumentUpdateAction.prototype.applyExternalFilterToQueryManager=function(o,q,a){var b=a.getListByKey("OlapFilters");var c=q.getQueryModel().getFilter();var s=b.size();c.unlinkFilters();for(var i=0;i<s;i++){var u=b.getStructureAt(i);var n=u.getStringByKey("Name");var e=o.getFilterById(u.getStringByKey("Id"));if(f.isNull(e)){this.addWarning(f.ErrorCodes.IMPORT_EXTERNAL_FILTER_NOT_FOUND,f.XStringUtils.concatenate3("Could not restore external filter '",n,"'!"));}else{c.linkFilter(n,e);}}};f.DocumentUpdateAction.prototype.recreateQueryManager=function(a,m,d,t,s){var o=this.olapStateManager.getOlapEnv();var q=null;var c=a.getStringByKey("CType");if(f.notNull(c)&&f.XComponentType.lookupComponentType(c)===f.OlapComponentType.BLENDABLE_QUERY_MANAGER){var b=a.getStructureByKey("PrimaryQueryManager");var p=b.getStringByKey("DatasetId");var e=o.getSharedQueryManager(p);var g=o.getModelLinkManager().createBlendableQueryManager(a.getStringByKey("StorageName"),e.cloneQueryManagerExt(f.QueryCloneMode.CURRENT_STATE),a.getStringByKey("Name"));var h=a.getListByKey("QueryManagers");var j=h.getIterator();while(j.hasNext()){var k=j.next().asStructure();var l=k.getStringByKey("DatasetId");var n=o.getSharedQueryManager(l);g.addSecondaryQueryManager(n.cloneQueryManagerExt(f.QueryCloneMode.CURRENT_STATE));}q=g;}else{if(f.XStringUtils.isNotNullAndNotEmpty(d)){var r=o.getSharedQueryManager(d);if(f.notNull(r)&&!r.isReleased()){q=r.cloneQueryManagerExt(f.QueryCloneMode.CURRENT_STATE);q.getTagging().remove(f.QStateConstants.TAG_UNDO_IGNORE);q.getTagging().remove(f.QStateConstants.TAG_UNDO_INCLUDE);q.deserializeFromElementExt(f.QModelFormat.INA_REPOSITORY,a);}}if(f.isNull(q)){var u=f.QueryServiceConfig.create(o.getApplication());u.setDefinitionByStructure(f.QModelFormat.INA_REPOSITORY,a);u.setSystemName(s);var v=u.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);m.addAllMessages(v);q=v.getData();}}if(f.notNull(q)&&f.notNull(t)){var w=t.asList();for(var i=0;i<w.size();i++){var x=w.get(i).asStructure();q.getTagging().put(x.getStringByKey("KEY"),x.getStringByKey("VALUE"));}}return q;};f.DocumentUpdateAction.prototype.callListener=function(e,l,d,c){l.documentStateApplied(e,d,c);};f.ResultSetContainerProcessExecutionAction=function(){};f.ResultSetContainerProcessExecutionAction.prototype=new f.SyncAction();f.ResultSetContainerProcessExecutionAction.prototype._ff_c="ResultSetContainerProcessExecutionAction";f.ResultSetContainerProcessExecutionAction.createAction=function(r){var a=new f.ResultSetContainerProcessExecutionAction();a.m_resultSetContainer=r;a.setupAction(null,null,null,null);return a;};f.ResultSetContainerProcessExecutionAction.prototype.m_resultSetContainer=null;f.ResultSetContainerProcessExecutionAction.prototype.m_resultSetContainerExecution=null;f.ResultSetContainerProcessExecutionAction.prototype.releaseObject=function(){f.SyncAction.prototype.releaseObject.call(this);this.m_resultSetContainer=null;this.m_resultSetContainerExecution=f.XObjectExt.release(this.m_resultSetContainerExecution);};f.ResultSetContainerProcessExecutionAction.prototype.processSynchronization=function(s){this.m_resultSetContainerExecution=this.m_resultSetContainer.processExecution(s,this,null);if(!this.getSyncState().isInSync()&&(this.m_resultSetContainerExecution.getSyncState().isInSync()||this.m_resultSetContainerExecution.hasErrors())){this.addAllMessages(this.m_resultSetContainerExecution);this.setData(this.m_resultSetContainerExecution.getData());return false;}return true;};f.ResultSetContainerProcessExecutionAction.prototype.onQueryExecuted=function(e,r,c){this.addAllMessages(e);this.setData(r);this.endSync();};f.ResultSetContainerProcessExecutionAction.prototype.callListener=function(e,l,d,c){l.onQueryExecuted(e,d,c);};f.RpcBlendFunctionProcessExecutionAction=function(){};f.RpcBlendFunctionProcessExecutionAction.prototype=new f.SyncAction();f.RpcBlendFunctionProcessExecutionAction.prototype._ff_c="RpcBlendFunctionProcessExecutionAction";f.RpcBlendFunctionProcessExecutionAction.createAction=function(r,q){var a=new f.RpcBlendFunctionProcessExecutionAction();a.m_rpcFunction=r;a.m_queryManager=q;a.setupAction(null,null,null,null);return a;};f.RpcBlendFunctionProcessExecutionAction.prototype.m_rpcFunction=null;f.RpcBlendFunctionProcessExecutionAction.prototype.m_rpcFunctionExecution=null;f.RpcBlendFunctionProcessExecutionAction.prototype.m_queryManager=null;f.RpcBlendFunctionProcessExecutionAction.prototype.releaseObject=function(){f.SyncAction.prototype.releaseObject.call(this);this.m_rpcFunction=null;this.m_queryManager=null;this.m_rpcFunctionExecution=f.XObjectExt.release(this.m_rpcFunctionExecution);};f.RpcBlendFunctionProcessExecutionAction.prototype.processSynchronization=function(s){var a=this.m_queryManager.getServiceConfig();var b=a.getBlendingDefinition();var c=b.getSources();if(c.isEmpty()){this.addError(f.ErrorCodes.INVALID_STATE,"No blending sources set");return false;}for(var i=0;i<c.size();i++){c.get(i).getQueryModel().destroyTransientObjects();}this.m_rpcFunctionExecution=this.m_rpcFunction.processFunctionExecution(s,this,null);if(!this.getSyncState().isInSync()&&(this.m_rpcFunctionExecution.getSyncState().isInSync()||this.m_rpcFunctionExecution.hasErrors())){this.addAllMessages(this.m_rpcFunctionExecution);this.setData(this.m_rpcFunctionExecution.getData());return false;}return true;};f.RpcBlendFunctionProcessExecutionAction.prototype.callListener=function(e,l,d,c){l.onFunctionExecuted(e,d,c);};f.RpcBlendFunctionProcessExecutionAction.prototype.onFunctionExecuted=function(e,r,c){this.addAllMessages(e);this.setData(r);this.endSync();};f.QOlapSyncAction=function(){};f.QOlapSyncAction.prototype=new f.DfRsSyncAction();f.QOlapSyncAction.prototype._ff_c="QOlapSyncAction";f.QOlapSyncAction.prototype.getQueryManagerBase=function(){if(this.getContext()===null){return null;}return this.getContext().getQueryManager();};f.QOlapSyncAction.prototype.getQueryModelBase=function(){return this.getContext().getQueryModel();};f.BlendingProcess=function(){};f.BlendingProcess.prototype=new f.DfRsSyncAction();f.BlendingProcess.prototype._ff_c="BlendingProcess";f.BlendingProcess.create=function(b,c,r){var a=new f.BlendingProcess();a.setupAction(null,null,null,b.getQueryManager());a.m_blendableQueryManager=b;a.m_configs=f.XList.create();a.m_configs.addAll(c);a.m_primaryBlendedMeasures=f.XList.create();a.m_blendedDimensionInfoAxisMap=f.XHashMapByString.create();var d=f.XList.create();f.XCollectionUtils.addAllClones(d,b.getBlendedDimensionsByAxis(f.AxisType.ROWS));a.m_blendedDimensionInfoAxisMap.put(f.AxisType.ROWS.getName(),d);var e=f.XList.create();f.XCollectionUtils.addAllClones(e,b.getBlendedDimensionsByAxis(f.AxisType.COLUMNS));a.m_blendedDimensionInfoAxisMap.put(f.AxisType.COLUMNS.getName(),e);a.m_blendedDrillOperations=f.XList.create();f.XCollectionUtils.addAllClones(a.m_blendedDrillOperations,b.getBlendedDrillOperations());a.m_leafAccountDrillOperations=f.XList.create();a.m_transientMembers=f.XHashMapByString.create();a.m_transientPrimaryBlendedMeasures=f.XList.create();a.m_originalProcess=a;a.m_originalDimensionResultSetFields=f.XHashMapByString.create();if(!f.BlendingUtils.containsFilterAcrossModels(b)){a.m_cachedRuntimeBlendedQueryManagerResult=r;}a.populateBlendedAndTransientMeasures(b.getPrimaryBlendedMeasures(),b,false);return a;};f.BlendingProcess.activateAllDimensionHierarchies=function(b,a){f.BlendingUtils.activateLinkedDimensionHierarchies(b,a);f.BlendingUtils.activateDimensionHierarchiesInDrill(b);};f.BlendingProcess.moveOOCLinkedDimensionsToFreeAxis=function(b,a){var o=a.getOutOfContextLinkDimensionNames().getIterator();while(o.hasNext()){var c=b.getDimensionByName(o.next());b.getFreeAxis().add(c);}};f.BlendingProcess.prototype.m_blendableQueryManager=null;f.BlendingProcess.prototype.m_configs=null;f.BlendingProcess.prototype.m_originalProcess=null;f.BlendingProcess.prototype.m_childProcess=null;f.BlendingProcess.prototype.m_blendedQueryManager=null;f.BlendingProcess.prototype.m_cachedRuntimeBlendedQueryManagerResult=null;f.BlendingProcess.prototype.m_primaryBlendedMeasures=null;f.BlendingProcess.prototype.m_blendedDimensionInfoAxisMap=null;f.BlendingProcess.prototype.m_blendedDrillOperations=null;f.BlendingProcess.prototype.m_leafAccountDrillOperations=null;f.BlendingProcess.prototype.m_originalDimensionResultSetFields=null;f.BlendingProcess.prototype.m_transientMembers=null;f.BlendingProcess.prototype.m_transientPrimaryBlendedMeasures=null;f.BlendingProcess.prototype.createSubProcess=function(c,b){var a=new f.BlendingProcess();a.m_blendableQueryManager=this.m_blendableQueryManager;a.m_configs=f.XList.create();a.m_configs.addAll(c);a.m_configs.get(0).setFirstQueryManager(b);a.m_originalProcess=this.m_originalProcess;a.m_originalDimensionResultSetFields=f.XHashMapByString.create();a.m_primaryBlendedMeasures=this.m_primaryBlendedMeasures.createListCopy();a.m_blendedDimensionInfoAxisMap=this.m_blendedDimensionInfoAxisMap.createMapByStringCopy();a.m_blendedDrillOperations=this.m_blendedDrillOperations.createListCopy();a.m_leafAccountDrillOperations=this.m_leafAccountDrillOperations.createListCopy();a.m_transientMembers=this.m_transientMembers.createMapByStringCopy();a.m_transientPrimaryBlendedMeasures=this.m_transientPrimaryBlendedMeasures.createListCopy();a.m_cachedRuntimeBlendedQueryManagerResult=this.m_cachedRuntimeBlendedQueryManagerResult;a.setupAction(null,null,null,this.getActionContext());return a;};f.BlendingProcess.prototype.releaseObject=function(){f.BlendingUtils.releaseAllBlendNodes(this.m_blendedQueryManager);this.m_blendedQueryManager=null;this.m_configs=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_configs);this.m_originalProcess=null;this.m_childProcess=f.XObjectExt.release(this.m_childProcess);this.m_originalDimensionResultSetFields=f.XObjectExt.release(this.m_originalDimensionResultSetFields);this.m_primaryBlendedMeasures=f.XObjectExt.release(this.m_primaryBlendedMeasures);this.m_blendedDimensionInfoAxisMap=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDimensionInfoAxisMap);this.m_blendedDrillOperations=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillOperations);this.m_leafAccountDrillOperations=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_leafAccountDrillOperations);this.m_cachedRuntimeBlendedQueryManagerResult=null;};f.BlendingProcess.prototype.processBlendedQueryManagerCreation=function(s,l,c){this.setActiveSyncType(s);return this.processSyncAction(s,l,c);};f.BlendingProcess.prototype.getUsedQueryManagers=function(){var u=f.XHashMapByString.create();var c=this.m_configs.getIterator();while(c.hasNext()){var a=c.next();var p=a.getPrimaryQueryManager();var s=a.getSecondaryQueryManager();if(u.isEmpty()){u.put(p.getQueryModel().getDatasetId(),p);}u.put(s.getQueryModel().getDatasetId(),s);}return u;};f.BlendingProcess.prototype.populateBlendedAndTransientMeasures=function(b,a,c){var d=b.getIterator();var u=this.getUsedQueryManagers();var t=f.XList.create();while(d.hasNext()){var e=d.next();if(e.getMemberType()===f.MemberType.FORMULA){var g=f.FormulaItemUtils.getFormulaMembers(e.getFormula());var h=g.getIterator();var v=true;var k=f.XHashMapByString.create();while(h.hasNext()){var l=h.next();if(!u.containsKey(l.getQueryModel().getDatasetId())){v=false;break;}if(f.XCollectionUtils.contains(a.getPrimaryBlendedMeasures(),function(F){return f.XString.isEqual(F.getName(),l.getMemberName());}.bind(this))){continue;}else{var s=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(l.getMemberName(),a.getClientQueryObjectStorageName(),true);if(f.notNull(s)){t.add(s);this.m_transientPrimaryBlendedMeasures.insert(0,s);continue;}}var m=l.getDimensionContext();if(f.notNull(m)){var n=m.getQueryModel().getDatasetId();var o=k.getByKey(n);if(f.isNull(o)){o=f.XList.create();k.put(n,o);}var p=a.getQueryManagerByDatasetId(n);var q=p.getQueryModel().getDimensionByName(m.getName());var r=null;if(f.notNull(q)){r=q.getStructureMemberByAliasOrMember(l.getMemberName());if((q.getFilter()===null||q.getFilter().isEmpty())&&this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter()||r.isMeasureInUse(p)){r=null;}}if(f.notNull(r)){o.add(r);}}else{throw f.XException.createRuntimeException(f.XStringUtils.concatenate3("Blendable formula measure '",e.getAliasOrMemberName(),"' contains formula(s) that is missing dimension context"));}}if(v){var w;var x=this.m_transientMembers.getKeysAsIteratorOfString();while(x.hasNext()){if(f.isNull(this.m_cachedRuntimeBlendedQueryManagerResult)){break;}var y=x.next();if(!k.getKeysAsReadOnlyListOfString().contains(y)){this.m_cachedRuntimeBlendedQueryManagerResult=null;}else{w=k.getByKey(y);var z=this.m_transientMembers.getByKey(y);if(z.size()!==w.size()){this.m_cachedRuntimeBlendedQueryManagerResult=null;}else{for(var i=0;i<z.size();i++){var A=z.get(i).getName();if(!f.XCollectionUtils.contains(w,function(F){return f.XString.isEqual(A,F.getName());}.bind(this))){this.m_cachedRuntimeBlendedQueryManagerResult=null;break;}}}}}if(!c){this.m_primaryBlendedMeasures.add(e);}var B=k.getKeysAsIteratorOfString();while(B.hasNext()){var C=B.next();w=k.getByKey(C);var D=this.m_transientMembers.getByKey(C);if(f.isNull(D)){D=f.XList.create();this.m_transientMembers.put(C,w);}else{for(var j=0;j<w.size();j++){var E=w.get(j).getName();if(!f.XCollectionUtils.contains(D,function(F){return f.XString.isEqual(E,F.getName());}.bind(this))){D.add(w.get(j));}}}}}}}if(t.size()>0){this.populateBlendedAndTransientMeasures(t,a,true);}};f.BlendingProcess.prototype.processSynchronization=function(s){var c=true;var p=this.getActionContext().getQueryManager();var a=p.getQueryModel();if(this.m_configs.size()>0){this.processBlendingQueryManagerCreation();}else if(f.BlendingUtils.isQueryModelInUseForBlending(a,this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter())){this.setData(p);c=false;}else{this.addError(f.ErrorCodes.BLENDING_CONDITIONS_NOT_FULFILLED,f.ErrorMessages.BLENDING_CONDITIONS_NOT_FULFILLED);c=false;}return c;};f.BlendingProcess.prototype.processBlendingQueryManagerCreation=function(){var b=this.m_configs.get(0);var a=f.QFactory.createBlendingDefinition();var q=b.getQueryModelLinkSettings();var p=b.getPrimaryQueryManager();var s=b.getSecondaryQueryManager();var c=p.getQueryModel();var d=s.getQueryModel();c.stopEventing();d.stopEventing();var e=f.BlendingUtils.getQueryAliasName(p);var g=a.addNewSource(c,e);var h=f.BlendingUtils.getQueryAliasName(s);var i=a.addNewSource(d,h);f.BlendingMappingUtils.processCalculationDimensionMappings(a,g,i,this.m_blendedDrillOperations);f.BlendingMappingUtils.processLinkedDimensions(b,a,g,i,this,this.m_blendedDrillOperations);var u=f.XHashSetOfString.create();f.BlendingMappingUtils.processUnlinkedDimensions(g,i,a,q,u,this.m_blendedDrillOperations);f.BlendingMappingUtils.processUnlinkedDimensions(i,g,a,q,u,this.m_blendedDrillOperations);this.processLeafQueryModelDrills(p,s);f.BlendingMappingUtils.processTransientCalculations(c,this.m_transientMembers.getByKey(c.getDatasetId()),this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter());f.BlendingMappingUtils.processTransientCalculations(d,this.m_transientMembers.getByKey(d.getDatasetId()),this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter());c.resumeEventing();d.resumeEventing();if(f.notNull(this.m_cachedRuntimeBlendedQueryManagerResult)){var m=f.BlendingUtils.getBlendedQueryModelByBlendDefinition(this.m_cachedRuntimeBlendedQueryManagerResult,a);if(f.notNull(m)){this.onQueryManagerCreated(f.ExtResult.create(m,this),m,null);return;}}var j=f.QueryServiceConfig.createWithBlendingDefinition(this.getActionContext().getApplication(),a);j.processQueryManagerCreation(this.getActiveSyncType(),this,null);};f.BlendingProcess.prototype.processLeafQueryModelDrills=function(p,s){var q=p.getQueryModel();if(q.getAccountDimension()!==null){if(f.XCollectionUtils.contains(this.m_blendedDrillOperations,function(b){return f.XString.isEqual(b.getDimensionName(),q.getAccountDimension().getName());}.bind(this))){return;}if(p.getInitSettings().getMode()===f.QueryManagerMode.DEFAULT){this.processLeafAccountDrillOperations(q);}var a=s.getQueryModel();if(a.getAccountDimension()!==null&&s.getInitSettings().getMode()===f.QueryManagerMode.DEFAULT){this.processLeafAccountDrillOperations(a);}}};f.BlendingProcess.prototype.processLeafAccountDrillOperations=function(q){var d=q.getDrillManager();var a=d.getDrillOperationsByDimension(q.getAccountDimension());for(var k=0;k<a.size();k++){var b=f.BlendedDrillInfo.createBlendedDimensionDrillInfo(null,q.getDatasetId(),q.getAccountDimension().getName());var c=a.get(k);b.setDrillState(c.getDrillState());var e=c.getDrillPath();f.XCollectionUtils.forEach(e,function(g){b.addBlendedDrillPathElementInfo(q.getDatasetId(),q.getAccountDimension().getName(),g.getSelectValue());}.bind(this));this.m_leafAccountDrillOperations.add(b);}};f.BlendingProcess.prototype.cleanupTransientState=function(q){var a=q.getQueryModel();if(q.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){var b=a.getBlendingSources();for(var i=0;i<b.size();i++){var c=b.get(i);var l=c.getQueryModel();this.cleanupTransientState(l.getQueryManager());}}else{q.stopEventing();var d=f.XList.create();d.addAll(a.getColumnsAxis());d.addAll(a.getRowsAxis());var e=d.getIterator();while(e.hasNext()){var g=e.next();var h=f.QCacheKey.createByContextForDimension(a,g.getName(),null);var o=this.m_originalDimensionResultSetFields.getByKey(h.getKey1());if(f.notNull(o)){g.getResultSetFields().clear();var j=o.getIterator();while(j.hasNext()){var k=j.next();g.getResultSetFields().add(g.getFieldByName(k));}var m=g.getFields().getIterator();while(m.hasNext()){var r=m.next();if(r.isHierarchyPathField()&&!r.isAlwaysRequested()&&r.getTagging().containsKey("transientAlwaysRequested")){r.setAlwaysRequested(true);r.getTagging().remove("transientAlwaysRequested");}}}var n=g.getTagging();if(n.containsKey("transientRowAxis")){a.getFreeAxis().add(g);n.remove("transientRowAxis");}if(n.containsKey("originalHierarchy")){var p=n.getByKey("originalHierarchy");if(f.notNull(p)){g.activateHierarchy(p,null,null);}else{g.setHierarchyActive(false);g.setHierarchy(null);}n.remove("originalHierarchy");}if(n.containsKey("transientInitialDrillLevel")){var s=n.getByKey("transientInitialDrillLevel");if(f.notNull(s)){g.setInitialDrillLevel(f.XInteger.convertFromString(s));}n.remove("transientInitialDrillLevel");}}var t=this.m_transientMembers.getByKey(a.getDatasetId());if(f.notNull(t)){var u=t.getIterator();while(u.hasNext()){var v=u.next();if(v.getTagging().containsKey("isTransient")){v.getTagging().remove("isTransient");var w=a.getDimensionByName(v.getDimension().getName());w.removeMeasure(v.getAliasOrMemberName());}}}this.cleanUpTransientMeasureFilters(a.getPrimaryCalculationDimension());this.cleanUpTransientMeasureFilters(a.getSecondaryCalculationDimension());this.cleanUpTransientDrills(a);if(q.getTagging().containsKey("originalMaxRows")){var x=f.XInteger.convertFromString(q.getTagging().getByKey("originalMaxRows"));q.setMaxRows(x);q.getTagging().remove("originalMaxRows");}q.resumeEventing();}};f.BlendingProcess.prototype.cleanUpTransientMeasureFilters=function(d){if(f.notNull(d)){var a=d.getFilter();if(f.notNull(a)){for(var i=a.size()-1;i>=0;i--){var b=a.get(i);if(b.getTagging().containsKey("isTransient")){a.removeElement(b);}}}var v=d.getQueryModel().getFilter().getVisibilityFilter();if(f.notNull(v)){var c=v.getCartesianList(d);if(f.notNull(c)){for(var j=c.size()-1;j>=0;j--){var e=c.get(j);if(e.getTagging().containsKey("isTransient")){c.removeElement(e);}}}}}};f.BlendingProcess.prototype.cleanUpTransientDrills=function(q){var d=q.getAccountDimension();var t=this.m_transientMembers.getByKey(q.getDatasetId());if(f.notNull(d)&&f.notNull(t)&&t.size()>0){var a=d.getDrillManager();var z=a.getAllZoomDrillOperationsForDimension(d);this.removeTransientDrillPaths(a,z);var b=a.getDrillOperationsByDimension(d);a.removeDrillOperationsByDimension(d);this.removeTransientDrillPaths(a,b);}};f.BlendingProcess.prototype.removeTransientDrillPaths=function(d,a){if(f.notNull(a)){for(var j=0;j<a.size();j++){var b=a.get(j);var c=b.getDrillPath();var n=f.XCollectionUtils.filter(c,function(e){return!e.getTagging().containsKey("isTransient");}.bind(this));if(n.size()>0){d.setDrillState(n,b.getDrillState());}}}};f.BlendingProcess.prototype.onQueryManagerCreated=function(e,q,c){this.addAllMessages(e);if(e.hasErrors()){this.endSync();}else{q.getTagging().put(f.QStateConstants.TAG_UNDO_IGNORE,"");var b=q.getQueryModel();var a=this.m_configs.get(0);f.BlendingProcess.activateAllDimensionHierarchies(b,a);var s=this.m_configs.createListCopy();s.removeAt(0);f.BlendingProcess.moveOOCLinkedDimensionsToFreeAxis(b,a);if(s.size()>0){this.createSubBlendingProcess(s,q);}else{this.m_originalProcess.onRuntimeBlendedQueryManagerCreated(e,q,c);}}};f.BlendingProcess.prototype.applySorts=function(){var b=this.m_blendedQueryManager.getQueryModel();b.getSortingManager().getSortingOperations().clear();var a=this.m_blendableQueryManager.getBlendableDimensionSorts();var p=this.m_blendableQueryManager.getPrimaryBlendableMeasureMemberSort();if(a.size()>0){this.applyDimensionSorts(a);}else if(f.notNull(p)){this.applyMeasureSort(p,this.m_primaryBlendedMeasures,b.getPrimaryCalculationDimension());}};f.BlendingProcess.prototype.applyDimensionSorts=function(b){var a=this.m_blendedQueryManager.getQueryModel();var s=a.getSortingManager();var c=b.getIterator();while(c.hasNext()){var d=c.next();var e=f.BlendingUtils.getBlendedFieldFromLeafField(d.getFieldName(),d.getDatasetId(),this.m_blendableQueryManager,a);var g=s.getFieldSorting(e,true);g.setDirection(d.getSortDirection());g.setPreserveGrouping(d.getPreserveGrouping());}};f.BlendingProcess.prototype.applyMeasureSort=function(b,a,c){var m=b.getMeasureMemberName();var d=b.getDatasetId();var e=this.m_blendedQueryManager.getQueryModel();var p=e.getBlendingSources().get(0).getQueryModel();var s=e.getBlendingSources().get(1).getQueryModel();var g=p.getAccountDimension();var h=s.getAccountDimension();var i=f.XList.create();if(f.notNull(g)){var j=f.QFactory.createDimensionElement(e.getMeasureDimension().getKeyField(),null,"SignedData");i.add(j);}else{if(f.notNull(h)){var k=f.QFactory.createDimensionElement(e.getDimensionByName("SignedData").getKeyField(),null,"SignedData");i.add(k);}}var l=f.XCollectionUtils.contains(a,function(t){return f.XString.isEqual(t.getName(),m);}.bind(this));var n=l?c.getDimensionMember(m):f.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(m,c.getName(),d,this.m_blendableQueryManager,e);var o=f.QFactory.createDimensionElement(c.getKeyField(),null,n.getName());i.add(o);var q=e.getSortingManager();var r=q.getDataCellSorting(i,true);r.setDirection(b.getSortDirection());if(q.supportsBreakGrouping(r.getSortingType())){r.setBreakGrouping(true);}};f.BlendingProcess.prototype.applyRanks=function(){var b=this.m_blendedQueryManager.getQueryModel();this.m_blendedQueryManager.getConvenienceCommands().clearRank(null);var p=this.m_blendableQueryManager.getPrimaryBlendableRank();if(f.notNull(p)){this.applyRank(p,this.m_primaryBlendedMeasures,b.getPrimaryCalculationDimension());}};f.BlendingProcess.prototype.applyRank=function(b,a,d){var c=this.m_blendedQueryManager.getQueryModel();var m=b.getMeasureMemberName();var e=b.getMeasureMemberDatasetId();var i=f.XCollectionUtils.contains(a,function(u){return f.XString.isEqual(u.getName(),m);}.bind(this));var g=i?d.getDimensionMember(m):f.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(m,d.getName(),e,this.m_blendableQueryManager,c);var h=f.XListOfString.create();var j=b.getDimensionNames();var k=b.getDimensionDatasetIds();var l=j.getIterator();var n=k.getIterator();while(l.hasNext()&&n.hasNext()){var o=l.next();var p=n.next();var q=f.BlendingUtils.getBlendedDimensionFromLeafDimension(o,p,this.m_blendableQueryManager,c);h.add(q.getName());}this.m_blendedQueryManager.getConvenienceCommands().buildRank(b.getThreshold(),g.getName(),"",h,b.getConditionComparisonOperator(),"",c.getDimensionByType(f.DimensionType.VERSION));c.getConditionManager().getConditionByName("RANKING_CONDITION").setApplyConditionAfterVisibilityFilter(c.getFilter().getVisibilityFilter()!==null);var r=this.m_blendableQueryManager.getAllQueryManagers();var s=r.getIterator();while(s.hasNext()){var t=s.next();t.getTagging().put("originalMaxRows",f.XInteger.convertToString(t.getMaxRows()));t.setMaxRows(b.getThreshold());}};f.BlendingProcess.prototype.applyMeasureRenames=function(){var b=this.m_blendedQueryManager.getQueryModel();var m=b.getPrimaryCalculationDimension();var a=m.getLoadedStructureMembers();var c=a.getIterator();while(c.hasNext()){var d=c.next();var e=d.getName();var l=f.BlendingUtils.getLeafMeasureMemberFromBlendedMeasureMember(e,b);if(f.notNull(l)&&l.hasOverrideTextDefined()){var g=l.getOverrideText();var s=l.getSharedOverrideText();if(f.notNull(g)){d.setOverrideText(g);}else if(f.notNull(s)){d.setOverrideText(s);}}}};f.BlendingProcess.prototype.callListener=function(e,l,d,c){l.onQueryManagerCreated(e,d,c);};f.BlendingProcess.prototype.processBlendedDrills=function(q,d){var b=d.getIterator();while(b.hasNext()){var a=b.next();var c=f.BlendingUtils.findContextDimensionFromDrillDimension(q,a.getDimensionName(),a.getDatasetId());if(f.notNull(c)){if(!c.isHierarchyActive()){if(c.getHierarchyName()===null){f.BlendingUtils.setHierarchyNameAndActivate(c);}}var e=a.getBlendedDrillPathElementInfos().getIterator();var g=f.XList.create();while(e.hasNext()){var h=e.next();var i=f.BlendingUtils.findContextDimensionFromDrillDimension(q,h.getDimensionName(),h.getDatasetId());if(f.notNull(i)){if(i.supportsHierarchy()&&!i.isHierarchyActive()){if(i.getHierarchyName()===null){i.setHierarchyName(i.getDefaultHierarchyName());}i.setHierarchyActive(true);}var m=null;if(i.getDimensionType()===f.DimensionType.ACCOUNT){if(i.getStructureMember(h.getDrillMember())!==null){m=h.getDrillMember();}else{var l=f.BlendingUtils.getQueryModelFromDatasetId(q,h.getDatasetId());if(l.getAccountDimension()!==null){var j=l.getAccountDimension().getStructureMember(h.getDrillMember());if(f.notNull(j)){var k=f.XStringUtils.concatenate3(f.BlendingUtils.getAliasPrefixForMember(q.getQueryModel(),j),".",h.getDrillMember());if(q.getQueryModel().getAccountDimension().getStructureMember(k)!==null){m=k;}}}}}else{m=h.getDrillMember();}if(f.notNull(m)){g.add(f.QFactory.createDrillPathElement(q.getQueryModel(),m,i));}}}if(g.size()>0){q.getQueryModel().getDrillManager().setDrillState(g,a.getDrillState());}}}};f.BlendingProcess.prototype.processBlendedDimensionsOnAxis=function(q,a){var b=this.m_blendedDimensionInfoAxisMap.getByKey(a.getName());if(f.notNull(b)){for(var r=0;r<b.size();r++){var c=b.get(r);var d=c.getDimensionName();var e=q.getQueryModel().getDimensionByName(d);if(f.notNull(e)){q.getConvenienceCommands().moveDimensionOnAxisTo(e.getName(),a,r);if(e.supportsHierarchy()){if(!e.isHierarchyActive()){if(e.getHierarchyName()===null){e.setHierarchyName(e.getDefaultHierarchyName());}e.setHierarchyActive(true);}if(c.getInitialDrillLevel()!==0){e.setInitialDrillLevel(c.getInitialDrillLevel());}}}}}};f.BlendingProcess.prototype.prepareQueryExecution=function(){if(f.notNull(this.m_blendedQueryManager)){this.applyMeasureRenames();this.processBlendedMeasures();this.applySorts();this.applyRanks();this.processBlendedDimensionsOnAxis(this.m_blendedQueryManager,f.AxisType.ROWS);this.processBlendedDimensionsOnAxis(this.m_blendedQueryManager,f.AxisType.COLUMNS);this.processBlendedDrills(this.m_blendedQueryManager,this.m_leafAccountDrillOperations);this.processBlendedDrills(this.m_blendedQueryManager,this.m_blendedDrillOperations);}};f.BlendingProcess.prototype.postQueryExecution=function(){if(f.notNull(this.m_blendedQueryManager)){this.cleanupTransientState(this.m_blendedQueryManager);}};f.BlendingProcess.prototype.processBlendedMeasures=function(){var p=this.m_blendedQueryManager.getQueryModel().getPrimaryCalculationDimension();var a=p.getAllStructureMembers();if(f.XCollectionUtils.contains(a,function(s){return s.getMemberType().isCustomMember();}.bind(this))){p.removeCustomMembers();}this.applyBlendedMeasures(this.m_transientPrimaryBlendedMeasures,true);this.applyBlendedMeasures(this.m_primaryBlendedMeasures,false);};f.BlendingProcess.prototype.applyBlendedMeasures=function(b,i){if(f.notNull(this.m_blendedQueryManager)&&f.notNull(b)){var a;var c;var q=this.m_blendedQueryManager.getQueryModel();var d=b.getIterator();while(d.hasNext()){var e=d.next();a=e.getDimension()===e.getQueryModel().getPrimaryCalculationDimension();if(e.getMemberType()===f.MemberType.FORMULA){var g=e;c=a?q.getPrimaryCalculationDimension():q.getSecondaryCalculationDimension();if(c.getStructureMember(e.getName())!==null){c.removeMeasure(e.getName());}var r=f.QFactory.createFormulaMeasure(q,c,e.getName(),e.getText(),null);r.setFormula(f.BlendingUtils.convertToBlendedFormula(g.getFormula(),r));if(i){r.setResultVisibility(f.ResultVisibility.HIDDEN);}c.addMeasure(r);}}var t=this.m_transientMembers.getIterator();while(t.hasNext()){var h=t.next();var j=h.getIterator();var k=null;while(j.hasNext()){var l=j.next();if(f.isNull(k)){k=f.BlendingUtils.getAliasPrefixForMember(q,l);}a=l.getDimension()===l.getQueryModel().getPrimaryCalculationDimension();c=a?q.getPrimaryCalculationDimension():q.getSecondaryCalculationDimension();var m=f.XStringUtils.concatenate3(k,".",l.getName());var s=c.getStructureMember(m);if(f.notNull(s)){s.setResultVisibility(f.ResultVisibility.HIDDEN);if(c.getStructureLayout().getByKey(m)===null){c.getStructureLayout().add(s);}}}}}};f.BlendingProcess.prototype.createSubBlendingProcess=function(c,b){this.m_childProcess=this.createSubProcess(c,b);this.m_childProcess.processBlendingQueryManagerCreation();};f.BlendingProcess.prototype.addOriginalDimensionResultSetFields=function(d,o){this.m_originalDimensionResultSetFields.put(d,o);};f.BlendingProcess.prototype.onRuntimeBlendedQueryManagerCreated=function(e,r,c){this.addAllMessages(e);if(!e.hasErrors()){r.setClientQueryObjectStorageName(this.m_blendableQueryManager.getClientQueryObjectStorageName());this.m_blendedQueryManager=r;this.m_cachedRuntimeBlendedQueryManagerResult=r;this.setData(r);}this.endSync();};f.OlapEnvVarProcessor=function(){};f.OlapEnvVarProcessor.prototype=new f.AbstractOlapEnvQueryManagerHandler();f.OlapEnvVarProcessor.prototype._ff_c="OlapEnvVarProcessor";f.OlapEnvVarProcessor.create=function(o){var n=new f.OlapEnvVarProcessor();n.setupQueryManagerHandler(o);return n;};f.OlapEnvVarProcessor.prototype.m_state=null;f.OlapEnvVarProcessor.prototype.releaseObject=function(){this.m_state=null;f.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject.call(this);};f.OlapEnvVarProcessor.prototype.supportsCheckVariables=function(){return f.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(q){return q.supportsCheckVariables();}.bind(this));};f.OlapEnvVarProcessor.prototype.supportsVariableMasking=function(){return f.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(q){return q.supportsVariableMasking();}.bind(this));};f.OlapEnvVarProcessor.prototype.supportsReInitVariables=function(){return f.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(q){return q.supportsReInitVariables();}.bind(this));};f.OlapEnvVarProcessor.prototype.supportsDirectVariableTransfer=function(){var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var v=b.getVariableProcessor();if(!v.supportsReInitVariables()){return false;}}return true;};f.OlapEnvVarProcessor.prototype.getVariableMode=function(){var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var v=b.getVariableProcessor();if(v.getVariableMode()===f.VariableMode.SUBMIT_AND_REINIT){return f.VariableMode.SUBMIT_AND_REINIT;}}return f.VariableMode.DIRECT_VALUE_TRANSFER;};f.OlapEnvVarProcessor.prototype.hasInputEnabledVariables=function(){return f.QVariableUtils.hasInputEnabledVariables(this.getVariables());};f.OlapEnvVarProcessor.prototype.clearExternalVariablesRepresentations=function(){this.queueEventing();f.QVariableUtils.clearExternalVariablesRepresentations(this.getVariables());this.resumeEventing();};f.OlapEnvVarProcessor.prototype.hasMandatoryVariables=function(){return f.QVariableUtils.hasMandatoryVariables(this.getVariables());};f.OlapEnvVarProcessor.prototype.hasVariables=function(){return this.getVariables().hasElements();};f.OlapEnvVarProcessor.prototype.getInputEnabledVariable=function(n){return f.QVariableUtils.getInputEnabledVariable(this.getVariables(),n);};f.OlapEnvVarProcessor.prototype.getInputEnabledVariables=function(){return f.QVariableUtils.getInputEnabledVariables(this.getVariables());};f.OlapEnvVarProcessor.prototype.getInputEnabledAndNonTechnicalVariables=function(){return f.QVariableUtils.getInputEnabledAndNonTechnicalVariables(this.getVariables());};f.OlapEnvVarProcessor.prototype.getHierarchyNodeVariable=function(n){return f.QVariableUtils.getVariableByType(this.getVariables(),n,f.VariableType.HIERARCHY_NODE_VARIABLE);};f.OlapEnvVarProcessor.prototype.getHierarchyNameVariable=function(n){return f.QVariableUtils.getVariableByType(this.getVariables(),n,f.VariableType.HIERARCHY_NAME_VARIABLE);};f.OlapEnvVarProcessor.prototype.getHierarchyNameVariables=function(){return f.QVariableUtils.getHierarchyNameVariables(this.getVariables());};f.OlapEnvVarProcessor.prototype.getDimensionMemberVariables=function(){return f.QVariableUtils.getDimensionMemberVariables(this.getVariables());};f.OlapEnvVarProcessor.prototype.setWinControlInAutoSubmitByType=function(v,i,a){return;};f.OlapEnvVarProcessor.prototype.syncVariableValues=function(){var m=this.getMergedVariables();var a=m.size();for(var i=0;i<a;i++){m.get(i).sync();}};f.OlapEnvVarProcessor.prototype.getVariables=function(){var v=f.XListOfNameObject.create();var m=this.getMergedVariables();var a=m.size();for(var i=0;i<a;i++){v.add(m.get(i).getMainVariable());}return v;};f.OlapEnvVarProcessor.prototype.getVariable=function(n){var m=this.getMergedVariables();for(var i=0;i<m.size();i++){var v=m.get(i).getMainVariable();if(f.XString.isEqual(v.getName(),n)){return v;}}return null;};f.OlapEnvVarProcessor.prototype.getMergedVariables=function(){var m=f.XListOfNameObject.create();var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var v=b.getVariableProcessor();var c=v.getVariableContainer();var d=c.getVariables();var e=d.size();for(var j=0;j<e;j++){var g=d.get(j);var k=this.createMergeVarKey(b,g);var h=m.getByKey(k);if(f.isNull(h)){m.add(f.OlapEnvVariable.create(k,g));}else{h.addSecondaryVariable(g);}}}return m;};f.OlapEnvVarProcessor.prototype.createMergeVarKey=function(q,v){var b=f.XStringBuffer.create();b.append(q.getSystemName());b.append("~");var d=q.getDataSource();b.append(d.getFullQualifiedName());b.append("~");b.append(v.getName());return b.toString();};f.OlapEnvVarProcessor.prototype.getDimensionAccessor=f.noSupport;f.OlapEnvVarProcessor.prototype.getDrillManager=f.noSupport;f.OlapEnvVarProcessor.prototype.getKeyRefStorage=f.noSupport;f.OlapEnvVarProcessor.prototype.submitVariables=function(s,l,c){return f.OlapEnvVarAction.createAndRunSubmit(this,s,l,c);};f.OlapEnvVarProcessor.prototype.reInitVariablesAfterSubmit=function(s,l,c){return f.OlapEnvVarAction.createAndRunReInitAfterSubmit(this,s,l,c);};f.OlapEnvVarProcessor.prototype.cancelReInitVariables=function(s,l,c){return f.OlapEnvVarAction.createAndRunCancel(this,s,l,c);};f.OlapEnvVarProcessor.prototype.transferVariables=function(s,l,c){return f.OlapEnvVarAction.createAndRunSetGetValues(this,s,l,c);};f.OlapEnvVarProcessor.prototype.emptyVariableDefinition=function(s,l,c){return f.OlapEnvVarAction.createAndRunEmptyVariableDefinition(this,s,l,c);};f.OlapEnvVarProcessor.prototype.checkVariables=function(s,l,c){return f.OlapEnvVarAction.createAndRunCheck(this,s,l,c);};f.OlapEnvVarProcessor.prototype.transferVariablesByVariable=f.noSupport;f.OlapEnvVarProcessor.prototype.setDirectVariableTransferEnabled=f.noSupport;f.OlapEnvVarProcessor.prototype.isDirectVariableTransferEnabled=function(){return this.getVariableProcessorState()===f.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER;};f.OlapEnvVarProcessor.prototype.isSubmitted=function(){return this.getVariableProcessorState()===f.VariableProcessorState.SUBMITTED;};f.OlapEnvVarProcessor.prototype.getVariableProcessorState=function(){if(f.notNull(this.m_state)){return this.m_state;}var v=null;var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var c=b.getVariableProcessor();var d=c.getVariableProcessorState();if(d.isTypeOf(f.VariableProcessorState.PROCESSING)){return f.VariableProcessorState.PROCESSING;}if(f.isNull(v)){v=d;}else if(v!==d){var n=null;if(v.isTypeOf(f.VariableProcessorState.CHANGEABLE)){if(d===f.VariableProcessorState.SUBMITTED){n=f.VariableProcessorState.SUBMITTED;}else if(d.isTypeOf(f.VariableProcessorState.CHANGEABLE)){if(d===f.VariableProcessorState.CHANGEABLE_REINIT||v===f.VariableProcessorState.CHANGEABLE_REINIT){n=f.VariableProcessorState.CHANGEABLE_REINIT;}else if(d===f.VariableProcessorState.SUBMIT_FAILED||v===f.VariableProcessorState.SUBMIT_FAILED){n=f.VariableProcessorState.SUBMIT_FAILED;}else{n=f.VariableProcessorState.CHANGEABLE;}}}else if(v===f.VariableProcessorState.SUBMITTED&&d.isTypeOf(f.VariableProcessorState.CHANGEABLE)){n=f.VariableProcessorState.SUBMITTED;}if(f.isNull(n)){n=f.VariableProcessorState.MIXED;}v=n;}}return v;};f.OlapEnvVarProcessor.prototype.setVariableProcessorState=function(s){this.m_state=s;};f.OlapEnvVarProcessor.prototype.registerVariableProcessorStateChangedListener=f.noSupport;f.OlapEnvVarProcessor.prototype.unregisterVariableProcessorStateChangedListener=f.noSupport;f.OlapEnvVarProcessor.prototype.getSelectedVariableProcessors=function(t){var v=f.XList.create();var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var c=b.getVariableProcessor();if(c.hasVariables()){if(f.isNull(t)){v.add(c);}else{var d=c.getVariableProcessorState();if(d.isTypeOf(t)||f.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION===d){v.add(c);}}}}return v;};f.OlapEnvVarProcessor.prototype.getAllBWVariableProcessors=function(){var v=f.XList.create();var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var c=b.getVariableProcessor();var d=b.getConvenienceCommands();if(f.notNull(d)&&d.isBw()&&c.hasVariables()){v.add(c);}}return v;};f.OlapEnvVarProcessor.prototype.getVariableContainer=function(){return this;};f.OlapEnvVarProcessor.prototype.registerChangedListener=f.noSupport;f.OlapEnvVarProcessor.prototype.unregisterChangedListener=f.noSupport;f.OlapEnvVarProcessor.prototype.getOlapComponentType=f.noSupport;f.OlapEnvVarProcessor.prototype.isComponentNode=f.noSupport;f.OlapEnvVarProcessor.prototype.getChildren=function(){return this.getChildrenIterator();};f.OlapEnvVarProcessor.prototype.getChildrenIterator=f.noSupport;f.OlapEnvVarProcessor.prototype.getNamedChildren=f.noSupport;f.OlapEnvVarProcessor.prototype.getIndexedChildren=f.noSupport;f.OlapEnvVarProcessor.prototype.serializeToStringExt=f.noSupport;f.OlapEnvVarProcessor.prototype.serialize=f.noSupport;f.OlapEnvVarProcessor.prototype.serializeToContent=f.noSupport;f.OlapEnvVarProcessor.prototype.serializeToFormat=f.noSupport;f.OlapEnvVarProcessor.prototype.serializeToString=f.noSupport;f.OlapEnvVarProcessor.prototype.serializeToElement=function(m){return this.serializeToElementExt(m,null);};f.OlapEnvVarProcessor.prototype.serializeToElementExt=f.noSupport;f.OlapEnvVarProcessor.prototype.deserializeExt=f.noSupport;f.OlapEnvVarProcessor.prototype.deserializeFromContent=f.noSupport;f.OlapEnvVarProcessor.prototype.deserializeFromElementExt=f.noSupport;f.OlapEnvVarProcessor.prototype.deserializeNewComponentExt=f.noSupport;f.OlapEnvVarProcessor.prototype.deserializeNewComponentFromElementExt=f.noSupport;f.OlapEnvVarProcessor.prototype.getTagging=f.noSupport;f.OlapEnvVarProcessor.prototype.isEventingStopped=f.noSupport;f.OlapEnvVarProcessor.prototype.stopEventing=function(){var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var v=b.getVariableProcessor();var c=v.getVariableContainer();c.stopEventing();}};f.OlapEnvVarProcessor.prototype.queueEventing=function(){var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var v=b.getVariableProcessor();var c=v.getVariableContainer();c.queueEventing();}};f.OlapEnvVarProcessor.prototype.resumeEventing=function(){var q=this.getTaggedQueryManagers();var a=q.size();for(var i=0;i<a;i++){var b=q.get(i);var v=b.getVariableProcessor();var c=v.getVariableContainer();c.resumeEventing();}};f.OlapEnvVarProcessor.prototype.getComponentType=f.noSupport;f.OlapEnvVarProcessor.prototype.getName=f.noSupport;f.OlapEnvVarProcessor.prototype.getText=f.noSupport;f.OlapEnvVarProcessor.prototype.getContext=f.noSupport;f.OlapEnvVarProcessor.prototype.getFieldAccessorSingle=f.noSupport;f.OlapEnvVarProcessor.prototype.getQueryModel=f.noSupport;f.OlapEnvVarProcessor.prototype.getQueryManager=f.noSupport;f.OlapEnvVarProcessor.prototype.getModelCapabilities=f.noSupport;f.OlapEnvVarProcessor.prototype.isSubmitNeeded=function(){return this.getVariableProcessorState().isSubmitNeeded();};f.OlapEnvVarProcessor.prototype.isReinitNeeded=function(){return this.getVariableProcessorState().isReinitNeeded();};f.OlapEnvVarProcessor.prototype.isCancelNeeded=function(){return this.getVariableProcessorState().isCancelNeeded();};f.OlapEnvVarProcessor.prototype.getTagValue=f.noSupport;f.OlapEnvVarProcessor.prototype.getContentElement=f.noSupport;f.OlapEnvVarProcessor.prototype.getContentConstant=f.noSupport;f.OlapEnvVarProcessor.prototype.isNode=f.noSupport;f.OlapEnvVarProcessor.prototype.isLeaf=f.noSupport;f.OlapEnvVarProcessor.prototype.activateVariableVariant=function(v,s,l,c){return f.OlapEnvVarAction.createAndRunVariantActivation(this,s,l,c,v);};f.OlapEnvVarProcessor.prototype.deleteVariableVariant=function(v,s,l,c){var q=this.findQmForDatasource(v.getDataSource());if(f.isNull(q)){return f.OlapVarImmediateCallback.createAndRunError(f.ErrorCodes.INVALID_STATE,"No QueryManager found to delete the variant",s,l,c);}return q.deleteVariableVariant(v,s,l,c);};f.OlapEnvVarProcessor.prototype.updateVariableVariantValues=function(v,s,l,c){var q=this.findQmForDatasource(v.getDataSource());if(f.isNull(q)){return f.OlapVarImmediateCallback.createAndRunError(f.ErrorCodes.INVALID_STATE,"No QueryManager found to save the variant",s,l,c);}this.syncVariableValues();return q.updateVariableVariantValues(v,s,l,c);};f.OlapEnvVarProcessor.prototype.saveVariableVariant=function(v,s,l,c){var q=this.findQmForDatasource(v.getDataSource());if(f.isNull(q)){return f.OlapVarImmediateCallback.createAndRunError(f.ErrorCodes.INVALID_STATE,"No QueryManager found to modify the variant",s,l,c);}return q.saveVariableVariant(v,s,l,c);};f.OlapEnvVarProcessor.prototype.findQmForDatasource=function(d){var a=d.getFullQualifiedName();var s=d.getSystemName();return f.XCollectionUtils.findFirst(this.getTaggedQueryManagers(),function(q){return f.XString.isEqual(q.getDataSource().getFullQualifiedName(),a)&&f.XString.isEqual(q.getDataSource().getSystemName(),s);}.bind(this));};f.OlapEnvVarProcessor.prototype.cloneOlapComponent=f.noSupport;f.OlapEnvVarProcessor.prototype.getParent=function(){return null;};f.OlapEnvVarProcessor.prototype.getDataSourceOrigin=function(){return this.getDataSource();};f.OlapEnvVarProcessor.prototype.getDataSourceTarget=function(){return this.getDataSource();};f.OlapEnvVarProcessor.prototype.getDataSource=function(){var r=null;var t=this.getTaggedQueryManagers();for(var i=0;i<t.size();i++){var d=t.get(i).getDataSource();if(f.isNull(r)){r=d;continue;}if(f.notNull(d)){if(!f.XString.isEqual(r.getSystemName(),d.getSystemName())||!f.XString.isEqual(r.getFullQualifiedName(),d.getFullQualifiedName())){return null;}}}return r;};f.OlapEnvVarProcessor.prototype.updateDynamicVariables=function(s,l,c){f.OlapEnvUpdateAction.createAndRunUpdateDynamicValues(this,s,l,c,false);};f.OlapEnvVarProcessor.prototype.resetExitOrUpdateDynamicVariable=function(s,l,c,o){f.OlapEnvUpdateAction.createAndRunUpdateDynamicValues(this,s,l,c,o);};f.OlapEnvVarProcessor.prototype.getConvenienceCommands=f.noSupport;f.OlapEnvVarProcessor.prototype.getVariableVariants=function(){var a=f.XListOfNameObject.create();var q=this.getTaggedQueryManagers();for(var i=0;i<q.size();i++){var v=q.get(i).getVariableVariants();if(!f.XCollectionUtils.hasElements(v)){continue;}for(var j=0;j<v.size();j++){var b=v.get(j);if(!a.containsKey(b.getName())){a.add(b);}}}return a;};f.OlapEnvVarProcessor.prototype.getSelectionTagging=function(){return this.getSelectionMap();};f.OlapEnvVarProcessor.prototype.getStorageName=f.noSupport;f.OlapEnvVarProcessor.prototype.getStorageGroupName=f.noSupport;f.OlapEnvVarProcessor.prototype.getStorageObjectName=f.noSupport;f.OlapEnvVarProcessor.prototype.serializeToContentExt=function(m,c){return null;};f.OlapEnvVarProcessor.prototype.hasPropertyChanged=function(p){return false;};f.OlapEnvVarProcessor.prototype.getModCounter=f.noSupport;f.OlapEnvVarProcessor.prototype.reconfigure=f.noSupport;f.OlapEnvVarProcessor.prototype.getChangedProperties=function(){return null;};f.OlapEnvVarProcessor.prototype.setChangedProperties=f.noSupport;f.OlapEnvVarProcessor.prototype.getSystemName=function(){return null;};f.OlapEnvVarProcessor.prototype.supportsMaintainsVariableVariants=function(){return f.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(q){return q.supportsMaintainsVariableVariants();}.bind(this));};f.QueryManagerProcessingSequence=function(){};f.QueryManagerProcessingSequence.prototype=new f.SyncActionSequence();f.QueryManagerProcessingSequence.prototype._ff_c="QueryManagerProcessingSequence";f.QueryManagerProcessingSequence.createSequence=function(q,r,v,e){var a=new f.QueryManagerProcessingSequence();a.setupAction(null,null,null,q);a.m_resultSetContainer=r;a.m_varSubmitRequired=v;a.m_enforceCustomHierarchyRequests=e;return a;};f.QueryManagerProcessingSequence.supportsCustomHierarchies=function(q){return f.notNull(q)&&q.getSystemType().isTypeOf(f.SystemType.ABAP)&&q.getModelCapabilities().supportsCustomHierarchy();};f.QueryManagerProcessingSequence.getHierarchiesUsedInMeasures=function(q){var h=f.XList.create();var m=q.getMeasureDimension();if(f.notNull(m)){var a=m.getExtendedStructureMembers();for(var i=0;i<a.size();i++){var b=a.get(i);if(b.getMemberType().isTypeOf(f.MemberType.RESTRICTED_MEASURE)){h.addAll(b.getFilter().getUsedCustomHierarchies());}}}return h;};f.QueryManagerProcessingSequence.getHierarchiesUsedInFilter=function(q){var a=q.getFilter().getEffectiveFilter();return f.notNull(a)?a.getUsedCustomHierarchies():null;};f.QueryManagerProcessingSequence.prototype.m_resultSetContainer=null;f.QueryManagerProcessingSequence.prototype.m_varSubmitRequired=false;f.QueryManagerProcessingSequence.prototype.m_enforceCustomHierarchyRequests=false;f.QueryManagerProcessingSequence.prototype.releaseObject=function(){f.SyncActionSequence.prototype.releaseObject.call(this);this.m_resultSetContainer=null;};f.QueryManagerProcessingSequence.prototype.processSynchronization=function(s){var q=this.getActionContext();var a=q.getQueryModel();var r=this.m_resultSetContainer.processExecution(f.SyncType.DELAYED,null,null);if(f.QueryManagerProcessingSequence.supportsCustomHierarchies(a)){var b=f.XList.create();this.processCustomHierarchySubmitsForDimension(a.getRowsAxis().getDimensions(),this.m_enforceCustomHierarchyRequests,b);this.processCustomHierarchySubmitsForDimension(a.getColumnsAxis().getDimensions(),this.m_enforceCustomHierarchyRequests,b);this.processCustomHierarchySubmitsForDimension(a.getFreeAxis().getDimensions(),this.m_enforceCustomHierarchyRequests,b);this.processCustomHierarchySubmits(f.QueryManagerProcessingSequence.getHierarchiesUsedInMeasures(a),b,this.m_enforceCustomHierarchyRequests);this.processCustomHierarchySubmits(f.QueryManagerProcessingSequence.getHierarchiesUsedInFilter(a),b,this.m_enforceCustomHierarchyRequests);}if(this.m_varSubmitRequired){var c=q.submitVariables(f.SyncType.DELAYED,null,null);if(f.notNull(c)){this.addAction(c);}}this.setMainAction(r);return f.SyncActionSequence.prototype.processSynchronization.call(this,s);};f.QueryManagerProcessingSequence.prototype.processCustomHierarchySubmitsForDimension=function(d,e,s){for(var i=0;i<d.size();i++){var a=d.get(i);var c=a.getCustomHierarchyDefinition();if(f.notNull(c)&&a.isHierarchyActive()){var b=this.getActionContext().createCustomHierarchyProvider(c,e);this.addAction(b.processExecution(f.SyncType.DELAYED,null,null));s.add(c);}}};f.QueryManagerProcessingSequence.prototype.processCustomHierarchySubmits=function(h,s,e){if(f.notNull(h)){for(var i=0;i<h.size();i++){var c=h.get(i);if(!s.contains(c)){var a=this.getActionContext().createCustomHierarchyProvider(c,e);this.addAction(a.processExecution(f.SyncType.DELAYED,null,null));s.add(c);}}}};f.ValueHelpProcessingSequence=function(){};f.ValueHelpProcessingSequence.prototype=new f.SyncActionSequence();f.ValueHelpProcessingSequence.prototype._ff_c="ValueHelpProcessingSequence";f.ValueHelpProcessingSequence.createSequence=function(q,d,r,e,a,b){var c=new f.ValueHelpProcessingSequence();c.setupAction(null,null,null,q);c.m_resultSetContainer=r;c.m_dimension=d;c.m_exportValueHelp=e;c.m_requiresCustomHierarchySubmit=a;c.m_requiresVariableSubmit=b;return c;};f.ValueHelpProcessingSequence.customHierarchySubmitRequiredForValueHelp=function(d){if(f.ValueHelpProcessingSequence.supportsCustomHierarchies(d.getQueryModel())){return d.getCustomHierarchyDefinition()!==null&&d.isHierarchyActive()&&d.isSelectorHierarchyActive();}return false;};f.ValueHelpProcessingSequence.supportsCustomHierarchies=function(q){return f.notNull(q)&&q.getSystemType().isTypeOf(f.SystemType.ABAP)&&q.getModelCapabilities().supportsCustomHierarchy();};f.ValueHelpProcessingSequence.prototype.m_customHierarchySubmitAction=null;f.ValueHelpProcessingSequence.prototype.m_resultSetContainer=null;f.ValueHelpProcessingSequence.prototype.m_dimension=null;f.ValueHelpProcessingSequence.prototype.m_exportValueHelp=null;f.ValueHelpProcessingSequence.prototype.m_requiresCustomHierarchySubmit=false;f.ValueHelpProcessingSequence.prototype.m_requiresVariableSubmit=false;f.ValueHelpProcessingSequence.prototype.releaseObject=function(){f.SyncActionSequence.prototype.releaseObject.call(this);this.m_customHierarchySubmitAction=null;this.m_exportValueHelp=null;this.m_resultSetContainer=null;this.m_dimension=null;};f.ValueHelpProcessingSequence.prototype.processSynchronization=function(s){var q=this.getActionContext();if(this.m_requiresCustomHierarchySubmit&&f.ValueHelpProcessingSequence.supportsCustomHierarchies(q.getQueryModel())){var c=q.createCustomHierarchyProvider(this.m_dimension.getCustomHierarchyDefinition(),false);this.m_customHierarchySubmitAction=c.processExecution(f.SyncType.DELAYED,null,null);this.addAction(this.m_customHierarchySubmitAction);}if(this.m_requiresVariableSubmit){var a=q.submitVariables(f.SyncType.DELAYED,null,null);if(f.notNull(a)){this.addAction(a);}}var r=this.m_resultSetContainer.processExecution(f.SyncType.DELAYED,null,null);this.setMainAction(r);return f.SyncActionSequence.prototype.processSynchronization.call(this,s);};f.ValueHelpProcessingSequence.prototype.onActionExecuted=function(s){if(f.notNull(this.m_exportValueHelp)&&s===this.m_customHierarchySubmitAction){var c=this.m_customHierarchySubmitAction.getData();if(f.notNull(c)){var d=c.getDimension();var i=f.notNull(d)?this.getDimensionStructureFromMainRequest(d):null;if(f.notNull(i)){this.m_exportValueHelp.exportHierarchy(d,i);}}}};f.ValueHelpProcessingSequence.prototype.getDimensionStructureFromMainRequest=function(d){var r=this.getMainAction().getRequest();var a=f.PrUtils.getStructureProperty(r,"Analytics");var b=f.PrUtils.getStructureProperty(a,"Definition");var c=f.PrUtils.getListProperty(b,"Dimensions");for(var i=0;i<f.PrUtils.getListSize(c,0);i++){var e=c.getStructureAt(0);if(f.XString.isEqual(e.getStringByKey("Name"),d.getName())){return e;}}return null;};f.BlendableResultSetContainer=function(){};f.BlendableResultSetContainer.prototype=new f.ResultSetContainer();f.BlendableResultSetContainer.prototype._ff_c="BlendableResultSetContainer";f.BlendableResultSetContainer.createBlendableResultSetContainer=function(b,p){var r=new f.BlendableResultSetContainer();r.setupBlendableResultSetContainer(b);r.m_runtimeQueryManager=p;return r;};f.BlendableResultSetContainer.prototype.m_runtimeQueryManager=null;f.BlendableResultSetContainer.prototype.m_blendingProcess=null;f.BlendableResultSetContainer.prototype.setupBlendableResultSetContainer=function(b){f.ResultSetContainer.prototype.setupContainer.call(this,b,null,null,null,null);};f.BlendableResultSetContainer.prototype.releaseObject=function(){f.BlendingUtils.releaseAllBlendNodes(this.m_runtimeQueryManager);this.m_runtimeQueryManager=null;this.m_blendingProcess=f.XObjectExt.release(this.m_blendingProcess);f.ResultSetContainer.prototype.releaseObject.call(this);};f.BlendableResultSetContainer.prototype.getCursorResultSet=function(){if(f.isNull(this.m_cursorResultSetInSync)){var s=this.getSyncState();if(s===f.SyncState.PROCESSING){throw f.XException.createIllegalStateException("Cannot retrieve the resultset while processing");}if(s===f.SyncState.OUT_OF_SYNC){var b=this.getActionContext();if(f.isNull(this.m_blendingProcess)||this.m_blendingProcess.isSyncCanceled()){this.m_blendingProcess=f.XObjectExt.release(this.m_blendingProcess);var c=b.getBlendingProcessConfigs();this.m_blendingProcess=f.BlendingProcess.create(b,c,this.m_runtimeQueryManager);}var p=this.m_blendingProcess.processBlendedQueryManagerCreation(f.SyncType.BLOCKING,null,null);this.m_runtimeQueryManager=p.getData();if(this.m_runtimeQueryManager.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){this.m_blendingProcess.prepareQueryExecution();f.ResultSetContainer.prototype.processExecution.call(this,f.SyncType.BLOCKING,null,null);this.m_blendingProcess.postQueryExecution();}else{f.ResultSetContainer.prototype.processExecution.call(this,f.SyncType.BLOCKING,null,null);}}}return f.XWeakReferenceUtil.getHardRef(this.m_cursorResultSetInSync);};f.BlendableResultSetContainer.prototype.processExecution=function(s,l,c){this.attachListener(l,f.ListenerType.SPECIFIC,c);this.createBlendedQueryManager(s,this,null);return this;};f.BlendableResultSetContainer.prototype.createBlendedQueryManager=function(s,l,c){var b=this.getActionContext();if(f.isNull(this.m_blendingProcess)||this.m_blendingProcess.isSyncCanceled()){this.m_blendingProcess=f.XObjectExt.release(this.m_blendingProcess);this.m_blendingProcess=f.BlendingProcess.create(b,b.getBlendingProcessConfigs(),this.m_runtimeQueryManager);}return this.m_blendingProcess.processBlendedQueryManagerCreation(s,l,c);};f.BlendableResultSetContainer.prototype._resetSyncStateInternal=function(e){if(e||this.getSyncState().isInSync()){this.m_blendingProcess=f.XObjectExt.release(this.m_blendingProcess);this.m_runtimeQueryManager=f.XObjectExt.release(this.m_runtimeQueryManager);}f.ResultSetContainer.prototype._resetSyncStateInternal.call(this,e);};f.BlendableResultSetContainer.prototype.onQueryManagerCreated=function(e,q,c){this.addAllMessages(e);if(!e.hasErrors()){this.m_runtimeQueryManager=q;this.m_blendingProcess.prepareQueryExecution();this.m_runtimeQueryManager.processQueryExecution(this.getActiveSyncType(),this,c);this.m_blendingProcess.postQueryExecution();}else{this.endSync();}};f.BlendableResultSetContainer.prototype.onQueryExecuted=function(e,r,c){this.addAllMessages(e);this.setData(r);this.endSync();};f.BlendableResultSetContainer.prototype.getContext=function(){return this.m_runtimeQueryManager;};f.BlendableResultSetContainer.prototype.getRuntimeQueryManager=function(){return this.m_runtimeQueryManager;};f.BlendedDrillInfo=function(){};f.BlendedDrillInfo.prototype=new f.QModelComponent();f.BlendedDrillInfo.prototype._ff_c="BlendedDrillInfo";f.BlendedDrillInfo.createBlendedDimensionDrillInfo=function(b,d,a){var c=new f.BlendedDrillInfo();c.setupModelComponent(b,b);c.m_blendedDrillPathElementInfos=f.XList.create();c.m_dimensionName=a;c.m_datasetId=d;return c;};f.BlendedDrillInfo.prototype.m_dimensionName=null;f.BlendedDrillInfo.prototype.m_datasetId=null;f.BlendedDrillInfo.prototype.m_blendedDrillPathElementInfos=null;f.BlendedDrillInfo.prototype.m_drillState=null;f.BlendedDrillInfo.prototype.releaseObject=function(){f.QModelComponent.prototype.releaseObject.call(this);this.m_dimensionName=null;this.m_datasetId=null;this.m_blendedDrillPathElementInfos=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillPathElementInfos);this.m_drillState=null;};f.BlendedDrillInfo.prototype.copyFromInternal=function(o,a){var b=o;this.m_dimensionName=b.getDimensionName();this.m_datasetId=b.getDatasetId();f.XCollectionUtils.addAllClones(this.m_blendedDrillPathElementInfos,b.getBlendedDrillPathElementInfos());this.m_drillState=b.getDrillState();};f.BlendedDrillInfo.prototype.cloneOlapComponent=function(c,p){var n=f.BlendedDrillInfo.createBlendedDimensionDrillInfo(this.getContext(),this.m_datasetId,this.m_dimensionName);n.copyFrom(this,null);return n;};f.BlendedDrillInfo.prototype.getDimensionName=function(){return this.m_dimensionName;};f.BlendedDrillInfo.prototype.getDatasetId=function(){return this.m_datasetId;};f.BlendedDrillInfo.prototype.getDrillState=function(){return this.m_drillState;};f.BlendedDrillInfo.prototype.setDrillState=function(d){this.m_drillState=d;this.notifyNodeChanged();};f.BlendedDrillInfo.prototype.getBlendedDrillPathElementInfos=function(){return this.m_blendedDrillPathElementInfos;};f.BlendedDrillInfo.prototype.addBlendedDrillPathElementInfo=function(d,a,s){this.m_blendedDrillPathElementInfos.add(f.BlendedDrillPathElementInfo.createBlendedDrillPathElementInfo(d,a,s));this.notifyNodeChanged();};f.BlendedDrillInfo.prototype.removeBlendedDrillPathElementInfo=function(b){this.m_blendedDrillPathElementInfos.removeElement(b);this.notifyNodeChanged();};f.BlendedDrillInfo.prototype.clearBlendedDrillPathElementInfos=function(){this.m_blendedDrillPathElementInfos.clear();this.notifyNodeChanged();};f.OlapEnvUpdateAction=function(){};f.OlapEnvUpdateAction.prototype=new f.QOlapSyncAction();f.OlapEnvUpdateAction.prototype._ff_c="OlapEnvUpdateAction";f.OlapEnvUpdateAction.createAndRunUpdateDynamicValues=function(p,s,l,c,o){var n=new f.OlapEnvUpdateAction();n.m_overwriteDefaultForInputEnabledVar=o;n.setupVarActionAndRun(s,p,l,c);return n;};f.OlapEnvUpdateAction.prototype.m_finishedCount=0;f.OlapEnvUpdateAction.prototype.m_affectedVarProcessors=null;f.OlapEnvUpdateAction.prototype.m_overwriteDefaultForInputEnabledVar=false;f.OlapEnvUpdateAction.prototype.releaseObject=function(){this.m_affectedVarProcessors=f.XObjectExt.release(this.m_affectedVarProcessors);f.QOlapSyncAction.prototype.releaseObject.call(this);};f.OlapEnvUpdateAction.prototype.setupVarActionAndRun=function(s,c,l,a){f.QOlapSyncAction.prototype.setupActionAndRun.call(this,s,l,a,c);};f.OlapEnvUpdateAction.prototype.processSynchronization=function(s){var v=this.getActionContext();var o=v.getVariableProcessorState();v.setVariableProcessorState(f.VariableProcessorState.PROCESSING_UPDATE_DYNAMIC_VALUES);var a=v.getSelectedVariableProcessors(f.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER);var b=v.getAllBWVariableProcessors();var c=f.XList.create();c.addAll(b);c.addAll(a);this.m_affectedVarProcessors=c;if(this.m_affectedVarProcessors.isEmpty()){v.setVariableProcessorState(o);this.addWarning(f.ErrorCodes.NO_VARIABLE_PROCESSOR_AFFECTED,"No affected variable processor was found.");return false;}var d=this.getActiveSyncType();for(var i=0;i<this.m_affectedVarProcessors.size();i++){var e=this.m_affectedVarProcessors.get(i);e.resetExitOrUpdateDynamicVariable(d,this,null,this.m_overwriteDefaultForInputEnabledVar);}return true;};f.OlapEnvUpdateAction.prototype.onQueryExecuted=function(e,r,c){this.addAllMessages(e);this.m_finishedCount++;if(this.m_finishedCount===this.m_affectedVarProcessors.size()){var v=this.getActionContext();v.setVariableProcessorState(null);this.endSync();}};f.OlapEnvUpdateAction.prototype.callListener=function(e,l,d,c){l.onQueryExecuted(e,d,c);};f.OlapEnvVarAction=function(){};f.OlapEnvVarAction.prototype=new f.QOlapSyncAction();f.OlapEnvVarAction.prototype._ff_c="OlapEnvVarAction";f.OlapEnvVarAction.createAndRunVariantActivation=function(p,s,l,c,v){var n=new f.OlapEnvVarAction();n.m_activeVariant=v;n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION);return n;};f.OlapEnvVarAction.createAndRunSubmit=function(p,s,l,c){var n=new f.OlapEnvVarAction();n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_SUBMIT);return n;};f.OlapEnvVarAction.createAndRunCancel=function(p,s,l,c){var n=new f.OlapEnvVarAction();n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_CANCEL);return n;};f.OlapEnvVarAction.createAndRunCheck=function(p,s,l,c){var n=new f.OlapEnvVarAction();n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_CHECK);return n;};f.OlapEnvVarAction.createAndRunReInitAfterSubmit=function(p,s,l,c){var n=new f.OlapEnvVarAction();n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_REINIT);return n;};f.OlapEnvVarAction.createAndRunSetGetValues=function(p,s,l,c){var n=new f.OlapEnvVarAction();n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_UPDATE_VALUES);return n;};f.OlapEnvVarAction.createAndRunEmptyVariableDefinition=function(p,s,l,c){var n=new f.OlapEnvVarAction();n.setupVarActionAndRun(s,p,l,c,f.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION);return n;};f.OlapEnvVarAction.prototype.m_actionState=null;f.OlapEnvVarAction.prototype.m_finishedCount=0;f.OlapEnvVarAction.prototype.m_affectedVarProcessors=null;f.OlapEnvVarAction.prototype.m_activeVariant=null;f.OlapEnvVarAction.prototype.releaseObject=function(){this.m_actionState=null;this.m_affectedVarProcessors=f.XObjectExt.release(this.m_affectedVarProcessors);this.m_activeVariant=null;f.QOlapSyncAction.prototype.releaseObject.call(this);};f.OlapEnvVarAction.prototype.setupVarActionAndRun=function(s,c,l,a,b){this.m_actionState=b;f.QOlapSyncAction.prototype.setupActionAndRun.call(this,s,l,a,c);};f.OlapEnvVarAction.prototype.processSynchronization=function(s){this.setData(this);var v=this.getActionContext();var o=v.getVariableProcessorState();v.setVariableProcessorState(this.m_actionState);if(this.m_actionState===f.VariableProcessorState.PROCESSING_SUBMIT||this.m_actionState===f.VariableProcessorState.PROCESSING_AUTO_SUBMIT){v.syncVariableValues();this.m_affectedVarProcessors=v.getSelectedVariableProcessors(f.VariableProcessorState.CHANGEABLE_STATEFUL);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_CANCEL){this.m_affectedVarProcessors=v.getSelectedVariableProcessors(f.VariableProcessorState.CHANGEABLE_STATEFUL);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_CHECK){v.syncVariableValues();this.m_affectedVarProcessors=v.getSelectedVariableProcessors(f.VariableProcessorState.CHANGEABLE_STATEFUL);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_UPDATE_VALUES){v.syncVariableValues();this.m_affectedVarProcessors=v.getSelectedVariableProcessors(f.VariableProcessorState.CHANGEABLE_STATEFUL);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_REINIT){this.m_affectedVarProcessors=v.getSelectedVariableProcessors(f.VariableProcessorState.SUBMITTED);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION){this.m_affectedVarProcessors=v.getSelectedVariableProcessors(f.VariableProcessorState.CHANGEABLE_STATEFUL);}if(this.m_affectedVarProcessors.isEmpty()){v.setVariableProcessorState(o);this.addWarning(f.ErrorCodes.NO_VARIABLE_PROCESSOR_AFFECTED,"No affected variable processor was found.");return false;}var a=this.getActiveSyncType();for(var i=0;i<this.m_affectedVarProcessors.size();i++){var b=this.m_affectedVarProcessors.get(i);if(this.m_actionState===f.VariableProcessorState.PROCESSING_SUBMIT){b.submitVariables(a,this,null);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_CANCEL){b.cancelReInitVariables(a,this,null);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_CHECK){b.checkVariables(a,this,null);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_UPDATE_VALUES){b.transferVariables(a,this,null);}else if(this.m_actionState===f.VariableProcessorState.PROCESSING_REINIT){b.reInitVariablesAfterSubmit(a,this,null);}else if(this.m_actionState.isTypeOf(f.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION)){b.activateVariableVariant(this.m_activeVariant.clone(),a,this,null);}}return true;};f.OlapEnvVarAction.prototype.onVariableProcessorExecuted=function(e,r,c){this.addAllMessages(e);this.m_finishedCount++;if(this.m_finishedCount===this.m_affectedVarProcessors.size()){var v=this.getActionContext();v.setVariableProcessorState(null);this.endSync();}};f.OlapEnvVarAction.prototype.callListener=function(e,l,d,c){l.onVariableProcessorExecuted(e,d,c);};f.OlapEnvVarAction.prototype.isSuccessfullyProcessed=function(){return this.getSyncState().isInSync()&&this.isValid();};f.OlapFilterManager=function(){};f.OlapFilterManager.prototype=new f.QModelComponent();f.OlapFilterManager.prototype._ff_c="OlapFilterManager";f.OlapFilterManager.TAGGING_STORY_VARIABLES="TAGGING_STORY_VARIABLES";f.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET="TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET";f.OlapFilterManager.create=function(c){var a=new f.OlapFilterManager();a.setupExt(c);return a;};f.OlapFilterManager.prototype.m_filters=null;f.OlapFilterManager.prototype.m_prunedDimensions=null;f.OlapFilterManager.prototype.m_flattenedComplexFilters=null;f.OlapFilterManager.prototype.m_capabilities=null;f.OlapFilterManager.prototype.setupExt=function(c){this.setupModelComponentWithName(c,null,"FilterManager");this.m_filters=f.XHashMapByString.create();this.m_prunedDimensions=f.XHashMapByString.create();this.m_flattenedComplexFilters=f.XHashSetOfString.create();this.m_capabilities=f.QCapabilities.create();this.m_capabilities.setSupportsVisibilityFilter(true);this.m_capabilities.setSupportsComplexFilter(true);this.m_capabilities.setSupportsCellValueOperand(true);this.m_capabilities.setSupportsIntersectLayers(true);this.m_capabilities.setSupportsHierarchyLevelOffsetFilter(true);this.m_capabilities.setSupportsHierarchyTrapezoidFilter(true);this.m_capabilities.setSupportsTuplesOperand(true);this.m_capabilities.setSupportsComplexTupleFilter(true);this.m_capabilities.setSupportsCalculatedDimensions(true);this.m_capabilities.setSupportsFormulaMeasures(true);this.m_capabilities.setSupportsDynamicVariableRefresh(true);};f.OlapFilterManager.prototype.getOlapComponentType=function(){return f.OlapComponentType.OLAP_FILTER_MANAGER;};f.OlapFilterManager.prototype.releaseObject=function(){this.m_filters=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_filters);f.QModelComponent.prototype.releaseObject.call(this);};f.OlapFilterManager.prototype.getFilterByName=function(n){if(f.isNull(n)){return null;}if(this.m_filters.containsKey(n)){return this.m_filters.getByKey(n);}this.notifyNodeChanged();var a=f.QFilterExpression.create(this,this);this.m_filters.put(n,a);return a;};f.OlapFilterManager.prototype.getFilters=function(){return this.m_filters;};f.OlapFilterManager.prototype.getModelCapabilities=function(){return this.m_capabilities;};f.OlapFilterManager.prototype.deleteFilterByName=function(n){var a=this.m_filters.remove(n);if(f.notNull(a)){a.setComplexRoot(null);f.XObjectExt.release(a);}};f.OlapFilterManager.prototype.addFilter=function(a){if(f.notNull(a)){var b=a.getUniqueId();this.deleteFilterByName(b);this.m_filters.put(b,a);}};f.OlapFilterManager.prototype.containsName=function(n){return this.m_filters.containsKey(n);};f.OlapFilterManager.prototype.getFilterById=function(u){if(f.isNull(u)){return null;}var i=this.m_filters.getIterator();while(i.hasNext()){var a=i.next();if(f.XString.isEqual(a.getUniqueId(),u)){return a;}}return null;};f.OlapFilterManager.prototype.externalizeDynamicFilterAfterSubmit=function(q,i){this._externalizeDynamicFilter(q,i);};f.OlapFilterManager.prototype.externalizeDynamicFilter=function(q){this._externalizeDynamicFilter(q,true);};f.OlapFilterManager.prototype.cleanupFilterBeforeAutoSubmit=function(q,i){if(f.notNull(q)&&q.getActiveResultSetContainer().getSyncState().isNotInSync()&&q.isAutoVariableSubmitActive()&&q.getInitSettings().isExternalizedDynamicFilter()){var a=q.getQueryModel();if(f.isNull(a)){return;}var b=q;var v=b.getVariableProcessorState();var c=v===f.VariableProcessorState.PROCESSING_AUTO_SUBMIT||v===f.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT;var d=a.getVariableManager();if(c&&d.hasDimensionMemberVariableAffectingDynamicFilter()){a.queueEventing();var e=a.getFilter();var g=e.getDynamicFilter();var h=e.getExternalizedFilterName();var k=this.getFilterByName(h);var l=f.XHashSetOfString.create();var t=f.XString.isEqual(q.getTagging().getByKey(f.OlapFilterManager.TAGGING_STORY_VARIABLES),"true");var m=d.getDimensionNamesOfVariablesAffectingDynamicFilter();var n=e.getDynamicFilter().getDimensionsUsedInFilter();if(t){l.addAll(m);}l.addAll(n);var o=this._unlinkOrCollectConflictingDimensionsForOverwrittenFilters(e,l,k,t).getValuesAsReadOnlyListOfString();this.clearFilterByDimensionNames(q,o,null);this.clearFilterByDimensionNames(q,m,null);var p=this.m_prunedDimensions.getByKey(q.getInstanceId());if(f.notNull(p)){this.clearFilterByDimensionNames(q,p,m);}if(g.isComplexFilter()){this.m_flattenedComplexFilters.add(h);var r=f.QFilterUtil.convertComplexFilterToCartesian(g.getComplexRoot());if(f.notNull(r)){g.setCartesianProduct(r);}}var s=g.getCartesianProduct();if(f.notNull(s)){var u=d.getVariablesAffectingDynamicFilter();for(var j=0;j<u.size();j++){var w=u.get(j);if(!w.isHierarchyInfoVariable()){var x=w.getDimension();if(!o.contains(x.getName())&&(f.isNull(p)||!p.contains(x.getName())||f.XString.isEqual(q.getTagging().getByKey(f.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true"))){var y=s.getCartesianListWithDefault(x);y.clear();var z=y.addNewCartesianElement().getLow();z.setVariableValue(w);this.addHierarchyInfo(w,y,e.isFlattenHierarchyNodeFiltersFromVariables());}}}}this.m_prunedDimensions.remove(q.getInstanceId());e.linkFilterExt(h,null,a.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);a.resumeEventing();}}};f.OlapFilterManager.prototype.addHierarchyInfo=function(v,d,i){if(v.getVariableType().isTypeOf(f.VariableType.HIERARCHY_NODE_VARIABLE)){var a=v.getDimension();var h=a.getHierarchyName();if(a.useHierarchyNameVariable()){h=a.getHierarchyNameVariableName();}var b=a.getHierarchyDueDate();if(a.useHierarchyDueDateVariable()){b=null;}var c=a.getHierarchyVersion();if(a.useHierarchyVersionVariable()){c=a.getHierarchyVersionVariableName();}d.setHierarchyInfo(h,b,c);if(i){d.setConvertToFlatFilter(true);}}};f.OlapFilterManager.prototype.clearFilterByDimensionNames=function(q,d,e){var c=q.getConvenienceCommands();var i=d.getIterator();while(i.hasNext()){var a=i.next();if(f.isNull(e)||!e.contains(a)){c.clearFiltersByDimensionName(a);}}};f.OlapFilterManager.prototype._externalizeDynamicFilter=function(q,a){if(f.isNull(q)){return;}var b=q.getQueryModel();if(f.isNull(b)){return;}var v=b.getVariableManager();var c=b.getFilter();var d=c.getDynamicFilter();var e=q.getPreviousVariableProcessorState()!==f.VariableProcessorState.SUBMITTED;if(!d.isComplexFilter()&&e){b.queueEventing();var g=c.getExternalizedFilterName();var h=this.getFilterByName(g);var k=f.XHashSetOfString.create();k.addAll(v.getDimensionNamesOfVariablesAffectingDynamicFilter());k.addAll(d.getDimensionsUsedInFilter());var l=this._unlinkOrCollectConflictingDimensionsForOverwrittenFilters(c,k,h,f.XString.isEqual(q.getTagging().getByKey(f.OlapFilterManager.TAGGING_STORY_VARIABLES),"true")).getValuesAsReadOnlyListOfString();var m=h.getUniqueId();h.copyFrom(d,null);h.setUniqueId(m);var n=h.getCartesianProductWithDefault();var i;for(i=0;i<l.size();i++){var o=l.get(i);n.removeByDimensionName(o);}if(c.isFlattenHierarchyNodeFiltersFromVariables()){for(i=0;i<n.size();i++){var p=n.getCartesianChild(i);if(f.XStringUtils.isNotNullAndNotEmpty(p.getHierarchyName())){p.setConvertToFlatFilter(true);}}}c.linkFilterExt(g,h,b.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);this._removeEmptyCartesianLists(d,h);b.getConvenienceCommands().clearNonMeasureFilters();if(d.isCartesianProduct()&&d.getCartesianProduct().size()===1&&this.m_flattenedComplexFilters.contains(g)){this.m_flattenedComplexFilters.removeElement(g);var r=f.QFactory.createFilterAnd(b);r.add(d.getCartesianProduct().getCartesianChild(0));d.setComplexRoot(r);}var s=d.getDimensionsUsedInFilter().getIterator();while(s.hasNext()){n.removeByDimensionName(s.next());}var t=b.getVariableManager().getVariablesAffectingDynamicFilter();for(var j=0;j<t.size();j++){var u=t.get(j);u.setWinControlInAutoSubmit(false);}b.resumeEventing();}};f.OlapFilterManager.prototype._unlinkOrCollectConflictingDimensionsForOverwrittenFilters=function(a,b,c,d){var e=b.getIterator();var s=f.XHashSetOfString.create();var g=a.getBackProjectionFilterIds();while(e.hasNext()){var h=e.next();var l=a.getLinkedFilters();var i=l.getKeysAsIteratorOfString();while(i.hasNext()){var j=i.next();var k=l.getByKey(j);var m=k.getCartesianProduct();if(k===c||f.isNull(m)||!g.contains(k.getUniqueId())){continue;}if(m.getCartesianListByDimensionName(h)!==null){if(d){s.add(h);}else{a.linkFilterExt(j,null,true,true);}}}}return s;};f.OlapFilterManager.prototype._removeEmptyCartesianLists=function(d,e){var a=e.getCartesianProductWithDefault();var b=d.getCartesianProductWithDefault();var c=e.getDimensionsUsedInFilter().getIterator();while(c.hasNext()){var g=c.next();var h=b.getCartesianListByDimensionName(g);if(!f.XCollectionUtils.hasElements(h)){a.removeByDimensionName(g);}}};f.OlapFilterManager.prototype._getBackProjectionFilter=function(a){var b=a.getBackProjectionFilterIds();if(b.isEmpty()){return null;}var c=f.QFactory.createFilterExpression(this,this);var d=c.getCartesianProductWithDefault();var e=a.getExternalizedFilterName();if(this.containsName(e)){var s=this.getFilterByName(e);this._mergeCartesianLists(d,this.getFilterByName(e));c.setUniqueId(s.getUniqueId());}var l=a.getLinkedFilters();var g=l.getKeysAsIteratorOfString();while(g.hasNext()){var h=g.next();var i=l.getByKey(h);if(!f.XString.isEqual(h,e)&&b.contains(i.getUniqueId())){this._mergeCartesianLists(d,i);}}return c;};f.OlapFilterManager.prototype._mergeCartesianLists=function(c,b){if(f.notNull(b)&&b.isCartesianProduct()){var a=b.getCartesianProduct();var d=a.getIterator();while(d.hasNext()){var e=d.next();var g=c.getCartesianListByDimensionMdWithDefault(e.getFieldMetadata().getDimensionMetadata());g.copyFrom(e,null);}}};f.OlapFilterManager.prototype.getExternalizeDynamicFilter=function(q){if(f.isNull(q)){return null;}return this.getFilterByName(q.getQueryModel().getFilter().getExternalizedFilterName());};f.OlapFilterManager.prototype.pruneNonVariableFilters=function(q){if(f.notNull(q)&&q.getQueryModel()!==null){var a=q.getQueryModel();var b=a.getFilter().getDynamicFilter();var v=a.getVariableManager();if(f.notNull(b)){var p=f.XHashSetOfString.create();p.addAll(b.getDimensionsUsedInFilter());var e=a.getFilter().getExternalizedFilterName();var i=this.getFilterByName(e);if(f.notNull(i)){p.addAll(i.getDimensionsUsedInFilter());}var c=v.getDimensionNamesOfVariablesAffectingDynamicFilter().getIterator();while(c.hasNext()){var d=c.next();if(p.contains(d)){p.removeElement(d);}}var m=a.getMeasureDimension().getName();if(p.contains(m)){p.removeElement(m);}if(f.XCollectionUtils.hasElements(p)){this.pruneDimensionNamesInternal(q,p);}}}};f.OlapFilterManager.prototype.pruneDimensionNamesForDynamicFilter=function(q,d){if(f.notNull(q)&&q.getQueryModel()!==null&&q.getQueryModel().getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){if(!f.XString.isEqual(q.getTagging().getByKey(f.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true")){this.pruneDimensionNamesInternal(q,d);}}};f.OlapFilterManager.prototype.pruneDimensionNamesInternal=function(q,d){var a=q.getQueryModel().getFilter();var e=a.getExternalizedFilterName();var i=this.getFilterByName(e);if(f.notNull(d)&&f.notNull(i)){var b=d.getIterator();while(b.hasNext()){f.QFilterUtil.clearSelectionsInContainerByDimension(b.next(),i);}}if(q.getVariableProcessorState().isTypeOf(f.VariableProcessorState.SUBMITTED)){q.getQueryModel().getConvenienceCommands().clearNonMeasureFilters();}else if(f.notNull(d)&&q.isAutoVariableSubmitActive()){var p=this.m_prunedDimensions.getByKey(q.getInstanceId());if(f.notNull(p)){var c=f.XListOfString.create();c.addAll(p);c.addAll(d);this.m_prunedDimensions.put(q.getInstanceId(),c);}else{this.m_prunedDimensions.put(q.getInstanceId(),d.getValuesAsReadOnlyListOfString());}}};f.OlapFilterManager.prototype.pruneExternalizedDynamicFilter=function(q){if(f.notNull(q)&&q.getQueryModel()!==null&&q.getVariableProcessorState().isTypeOf(f.VariableProcessorState.SUBMITTED)&&q.getQueryModel().getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){var a=q.getQueryModel();var b=a.getFilter();var d=b.getDynamicFilter();var e=b.getExternalizedFilterName();var i=this.getFilterByName(e);if(f.notNull(i)){if(!f.XString.isEqual(q.getTagging().getByKey(f.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true")){var c=d.getDimensionsUsedInFilter();var g=i.getDimensionsUsedInFilter().getIterator();var h=i.getCartesianProduct();while(g.hasNext()){var j=g.next();if(!c.contains(j)){h.removeByDimensionName(j);}}b.linkFilterExt(e,i,a.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);}a.getConvenienceCommands().clearNonMeasureFilters();}}};f.OlapFilterManager.prototype.projectExternalizedFilter=function(q){if(f.isNull(q)){return;}var a=q.getQueryModel();if(f.isNull(a)){return;}if(a.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){q.queueEventing();var b=a.getFilter();var d=b.getDynamicFilter();var c=this._getBackProjectionFilter(b);if(f.notNull(c)){a.getConvenienceCommands().clearNonMeasureFilters();if(d.isComplexFilter()){this.m_flattenedComplexFilters.add(b.getExternalizedFilterName());}var r=d.getFilterRootElement();d.copyFrom(c,null);this.complementCartesianProductFromComplex(d.getCartesianProductWithDefault(),r);}a.resumeEventing();}};f.OlapFilterManager.prototype.complementCartesianProductFromComplex=function(c,r){if(f.notNull(r)){var a=r.getOlapComponentType();if(a.isTypeOf(f.FilterComponentType.CARTESIAN_LIST)){var b=r;if(c.getCartesianListByDimensionName(b.getDimensionName())===null){var n=c.getCartesianListByDimensionMdWithDefault(b.getFieldMetadata().getDimensionMetadata());n.copyFrom(b,null);}}else if(a.isTypeOf(f.FilterComponentType.AND)){var d=r;for(var i=0;i<d.size();i++){this.complementCartesianProductFromComplex(c,d.get(i));}}}};f.OlapFilterManager.prototype.releaseExternalizedFilter=function(q){if(f.isNull(q)){return;}var a=q.getQueryModel();if(f.isNull(a)){return;}var b=a.getFilter();if(f.isNull(b)){return;}this.deleteFilterByName(b.getExternalizedFilterName());};f.OlapFilterManager.prototype.setModCounter=function(m){this.updateModCounter(m);};f.QGeoManager=function(){};f.QGeoManager.prototype=new f.QModelComponent();f.QGeoManager.prototype._ff_c="QGeoManager";f.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER="hierarchy:";f.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER="drillpath:";f.QGeoManager.CHOROPLETH_TABLE_PREFIX="table:[";f.QGeoManager.EXTENDED_DIMENSION_NAME_EXT="_extDim_";f.QGeoManager.EXTENDED_DIMENSION_NAME_HIERARCHY="_H";f.QGeoManager.EXTENDED_DIMENSION_NAME_LEVEL="_L";f.QGeoManager.create=function(c){var g=new f.QGeoManager();g.setupGeoManager(c);return g;};f.QGeoManager.prototype.m_choroplethHierarchies=null;f.QGeoManager.prototype.m_choroplethDrillPaths=null;f.QGeoManager.prototype.m_sharedQueryManagers=null;f.QGeoManager.prototype.m_choroplethIntermediateDrillPaths=null;f.QGeoManager.prototype.m_listenerIdentifiers=null;f.QGeoManager.prototype.m_syncTypes=null;f.QGeoManager.prototype.m_queryManagers=null;f.QGeoManager.prototype.m_systemNames=null;f.QGeoManager.prototype.m_shouldUseSynonyms=null;f.QGeoManager.prototype.m_levelKeys=null;f.QGeoManager.prototype.m_levelInfos=null;f.QGeoManager.prototype.m_drillPoints=null;f.QGeoManager.prototype.m_drillPathTableKeyToLevelKeys=null;f.QGeoManager.prototype.setupGeoManager=function(c){this.setupModelComponentWithName(c,null,"GeoManager");f.QGeoConstants.staticSetup();this.initialize();};f.QGeoManager.prototype.initialize=function(){this.m_choroplethHierarchies=f.XHashMapByString.create();this.m_choroplethDrillPaths=f.XHashMapByString.create();this.m_sharedQueryManagers=f.XHashMapByString.create();this.m_choroplethIntermediateDrillPaths=f.XHashMapByString.create();this.m_listenerIdentifiers=f.XHashMapByString.create();this.m_syncTypes=f.XHashMapByString.create();this.m_queryManagers=f.XHashMapByString.create();this.m_systemNames=f.XHashMapOfStringByString.create();this.m_shouldUseSynonyms=f.XHashMapByString.create();this.m_levelKeys=f.XHashMapOfStringByString.create();this.m_levelInfos=f.XHashMapByString.create();this.m_drillPoints=f.XHashMapByString.create();this.m_drillPathTableKeyToLevelKeys=f.XHashMapByString.create();};f.QGeoManager.prototype.getOlapComponentType=function(){return f.OlapComponentType.GEO_MANAGER;};f.QGeoManager.prototype.releaseObject=function(){this.clearCache();f.QModelComponent.prototype.releaseObject.call(this);};f.QGeoManager.prototype.clearCache=function(){this.m_choroplethHierarchies=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethHierarchies);this.m_choroplethDrillPaths=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethDrillPaths);this.m_sharedQueryManagers=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_sharedQueryManagers);this.m_choroplethIntermediateDrillPaths=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethIntermediateDrillPaths);this.m_listenerIdentifiers=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_listenerIdentifiers);this.m_syncTypes=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_syncTypes);this.m_queryManagers=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryManagers);this.m_systemNames=f.XObjectExt.release(this.m_systemNames);this.m_shouldUseSynonyms=f.XObjectExt.release(this.m_shouldUseSynonyms);this.m_levelKeys=f.XObjectExt.release(this.m_levelKeys);this.m_levelInfos=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_levelInfos);this.m_drillPoints=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_drillPoints);this.m_drillPathTableKeyToLevelKeys=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_drillPathTableKeyToLevelKeys);};f.QGeoManager.prototype.reset=function(){this.clearCache();this.initialize();};f.QGeoManager.prototype.loadChoroplethHierarchies=function(s,l,a,b,c){var t=a;var m=this.getApplication().getSystemLandscape().getMasterSystemName();if(f.isNull(t)){t=m;}var i=this.isMasterSystemName(t);var h=this.getChoroplethHierarchiesBySystemName(t);if(f.isNull(h)){var d=null;if(b&&!i){var e=this.getApplication().getConnectionPool().getConnection(t);var g=e.getServerMetadata();if(f.notNull(g)&&g.supportsAnalyticCapability(f.InACapabilities.C177_DATA_ENTRY_ON_UNBOOKED)){d=f.XBooleanValue.create(true);}}if(s===f.SyncType.BLOCKING){this.processQueryManagerCreationForChoroplethHierarchies(t,s,d,null,null);h=this.getChoroplethHierarchiesBySystemName(t);if(h.hasErrors()&&!i){this.processQueryManagerCreationForChoroplethHierarchies(m,s,null,null,null);h=this.getChoroplethHierarchiesBySystemName(m);}}else{var r=f.XStringUtils.concatenate3(f.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER,t,f.XBoolean.convertToString(!i&&b));var j=this.m_listenerIdentifiers.getByKey(r);if(f.notNull(j)){j.add(f.XPair.create(l,c));}else{j=f.XList.create();j.add(f.XPair.create(l,c));this.m_listenerIdentifiers.put(r,j);this.m_syncTypes.put(r,s);this.m_systemNames.put(r,t);this.m_shouldUseSynonyms.put(r,d);this.processQueryManagerCreationForChoroplethHierarchies(t,s,d,this,f.XStringValue.create(r));}}}if(f.notNull(h)){if(h.hasErrors()&&!i&&s!==f.SyncType.BLOCKING){this.loadChoroplethHierarchies(s,l,m,false,c);}else if(f.notNull(l)){l.onChoroplethHierarchiesLoaded(h,h.getData(),c);}}return h;};f.QGeoManager.prototype.processQueryManagerCreationForChoroplethHierarchies=function(s,a,b,l,c){var d=this.getChoroplethHierarchyTableName(s,b);var q=this.getOlapEnv().getQueryManagerByDataSource(s,d);var e=null;if(f.notNull(q)){e=f.ExtResult.create(q.cloneQueryManager(),null);if(a===f.SyncType.BLOCKING){this.processQueryExecutionForChoroplethHierarchies(e,e.getData(),s,a,b,null,c);}else{this.processQueryExecutionForChoroplethHierarchies(e,e.getData(),s,a,b,this,c);}}else{e=this.getOlapEnv().processQueryManagerCreationWithDataSourceName(a,l,c,s,d);if(a===f.SyncType.BLOCKING){this.processQueryExecutionForChoroplethHierarchies(e,e.getData(),s,a,b,null,c);}}};f.QGeoManager.prototype.isMasterSystemName=function(s){return f.XString.isEqual(s,this.getApplication().getSystemLandscape().getMasterSystemName());};f.QGeoManager.prototype.getChoroplethHierarchyTableName=function(s,a){var t=f.XStringBuffer.create();if(this.isMasterSystemName(s)){t.append(f.QGeoManager.CHOROPLETH_TABLE_PREFIX).append(f.QGeoConstants.CHOROPLETH_HIERARCHY_SCHEMANAME).append("][");var b=this.getApplication().getSystemLandscape().getSystemDescription(s);var c=b.getTenantRootPackage();if(f.XStringUtils.isNotNullAndNotEmpty(c)){t.append(c).append(".");}t.append(f.QGeoConstants.CHOROPLETH_HIERARCHY_PACKAGENAME).append("][").append(f.QGeoConstants.CHOROPLETH_HIERARCHY_OBJECTNAME).append("]");}else{t.append(s).append("//").append(f.QGeoManager.CHOROPLETH_TABLE_PREFIX);if(f.notNull(a)&&a.getBoolean()){t.append(f.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_SCHEMANAME).append("][").append(f.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_PACKAGENAME).append("][").append(f.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_OBJECTNAME);}else{t.append(f.QGeoConstants.CHOROPLETH_HIERARCHY_SCHEMANAME).append("][").append(f.QGeoConstants.CHOROPLETH_HIERARCHY_PACKAGENAME).append("][").append(f.QGeoConstants.CHOROPLETH_HIERARCHY_OBJECTNAME);}t.append("]");}return t.toString();};f.QGeoManager.prototype.onQueryManagerCreated=function(e,q,c){if(f.isNull(c)){throw f.XException.createRuntimeException("Identifier can not be null");}var x=c;var r=x.getString();var s=this.m_syncTypes.getByKey(r);if(this.isForChoroplethHierarchies(r)){this.m_queryManagers.put(r,q);var a=this.m_systemNames.getByKey(r);var b=this.m_shouldUseSynonyms.getByKey(r);this.processQueryExecutionForChoroplethHierarchies(e,q,a,s,b,this,c);}else if(this.isForChoroplethDrillPath(r)){var d=r;this.m_sharedQueryManagers.put(d,e);var l=this.m_drillPathTableKeyToLevelKeys.remove(d);for(var i=0;i<l.size();i++){var g=l.get(i);r=this.m_levelKeys.getByKey(g);var h=this.m_levelInfos.getByKey(g);var p=this.m_drillPoints.getByKey(g);this.processQueryExecutionForChoroplethDrillPath(e,q,s,h,p,r,this,f.XStringValue.create(g));}}};f.QGeoManager.prototype.processQueryExecutionForChoroplethHierarchies=function(e,q,s,a,b,l,c){if(e.isValid()){var d=q.getConvenienceCommands();for(var i=0;i<f.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.size();i++){d.moveDimensionToRows(f.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.get(i));}var r=q.processQueryExecution(a,l,c);if(a===f.SyncType.BLOCKING){this.processResultSetForChoroplethHierarchies(r,r.getData(),a,s,b,null);f.XObjectExt.release(q);}}else{this.handleErrorsForChoroplethHierarchies(e,null,s,a,c);}};f.QGeoManager.prototype.onQueryExecuted=function(e,r,c){if(f.isNull(c)){throw f.XException.createRuntimeException("Identifier can not be null");}var x=c;var a=x.getString();var s=this.m_syncTypes.getByKey(a);if(this.isForChoroplethHierarchies(a)){var b=this.m_systemNames.getByKey(a);var d=this.m_shouldUseSynonyms.getByKey(a);this.processResultSetForChoroplethHierarchies(e,r,s,b,d,c);}else if(this.isForChoroplethDrillPath(a)){var l=a;a=this.m_levelKeys.getByKey(l);var g=this.m_levelInfos.getByKey(l);this.processResultSetForChoroplethDrillPath(e,r,s,g,l,a);}};f.QGeoManager.prototype.processResultSetForChoroplethHierarchies=function(e,r,s,a,b,c){if(e.isValid()){var d=r.getCursorResultSet();var g=d.getCursorRowsAxis();var h=g.getRsDimensions();var j=h.size();var l=null;if(j!==f.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.size()){l=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.FAILED_TO_READ_CHOROPLETH_HIERARCHIES,"Error reading choropleth hierarchies: the number of dimensions is not matched",null,false,null);this.handleErrorsForChoroplethHierarchies(null,l,a,s,c);return;}for(var m=0;m<j;m++){var n=h.get(m);if(!f.XString.isEqual(n.getName(),f.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.get(m))){l=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.FAILED_TO_READ_CHOROPLETH_HIERARCHIES,"Error reading choropleth hierarchies: the dimension name is not matched",null,false,null);this.handleErrorsForChoroplethHierarchies(null,l,a,s,c);return;}}var o=f.XHashMapByString.create();var p=null;var q=null;var t=f.QGeoConstants.CHOROPLETH_DATASOURCE_OBJECTNAME;var u=f.QGeoConstants.CHOROPLETH_DATASOURCE_PACKAGENAME;var v=f.QGeoConstants.CHOROPLETH_DATASOURCE_SCHEMANAME;if(f.notNull(b)&&b.getBoolean()){t=f.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_OBJECTNAME;u=f.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_PACKAGENAME;v=f.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_SCHEMANAME;}g.setTupleCursorBeforeStart();var w=g.getTuplesCount();var x=g.getTupleElementsCount();for(var i=0;i<w;i++){g.nextTuple();var y=f.XListOfString.create();for(var k=0;k<x;k++){g.nextTupleElement();while(g.hasNextFieldValue()){var z=g.nextFieldValue();y.add(z.getValue().getStringRepresentation());}}if(f.isNull(p)||!f.XString.isEqual(p.getHierarchyId(),y.get(0))){p=f.QGeoChoroplethHierarchy.create(y.get(0),y.get(1));o.put(y.get(0),p);q=null;}if(f.isNull(q)||!f.XString.isEqual(q.getLevelId(),y.get(2))){q=f.QGeoChoroplethHierarchyLevel.create(y.get(2),y.get(3));q.setLocation(y.get(4));q.setObjectName(y.get(5));q.setPackageName(y.get(6));q.setSchemaName(y.get(7));q.setIsCustom(!f.XString.isEqual(q.getObjectName(),t)||!f.XString.isEqual(q.getPackageName(),u)||!f.XString.isEqual(q.getSchemaName(),v));p.addLevel(q);}q.addColumn(f.QGeoColumn.create(y.get(8),y.get(9)));}var A=f.ExtResult.create(o,null);this.m_choroplethHierarchies.put(a,A);if(s!==f.SyncType.BLOCKING){this.processChoroplethHiearachiesResult(c);}}else{this.handleErrorsForChoroplethHierarchies(e,null,a,s,c);}};f.QGeoManager.prototype.getChoroplethHierarchiesBySystemName=function(s){return this.m_choroplethHierarchies.getByKey(s);};f.QGeoManager.prototype.handleErrorsForChoroplethHierarchies=function(e,a,s,b,c){if(f.notNull(e)&&!e.isValid()||f.notNull(a)){var d;if(f.notNull(e)){d=f.ExtResult.createWithExternalMessages(null,e);}else{d=f.ExtResult.createWithMessage(a);}this.m_choroplethHierarchies.put(s,d);if(b!==f.SyncType.BLOCKING){this.processChoroplethHiearachiesResult(c);}}};f.QGeoManager.prototype.processChoroplethHiearachiesResult=function(c){var x=c;var r=x.getString();var s=this.m_systemNames.remove(r);var a=this.m_syncTypes.remove(r);this.m_shouldUseSynonyms.remove(r);var q=this.m_queryManagers.remove(r);if(f.notNull(q)){f.XObjectExt.release(q);}var l=this.m_listenerIdentifiers.remove(r);var h=this.getChoroplethHierarchiesBySystemName(s);for(var i=0;i<l.size();i++){var b=l.get(i);var d=b.getFirstObject();var e=b.getSecondObject();if(!h.isValid()&&!this.isMasterSystemName(s)){this.loadChoroplethHierarchies(a,d,this.getApplication().getSystemLandscape().getMasterSystemName(),false,e);}else if(f.notNull(d)){d.onChoroplethHierarchiesLoaded(h,h.getData(),e);}}};f.QGeoManager.prototype.getChoroplethExtendedDimension=function(s,h,l,g,p){var a=this.getChoroplethHierarchyLevel(s,h,l);if(f.isNull(a)){throw f.XException.createRuntimeException("Fail to get choropleth hierarchy level");}var j=this.getAgileAreaFieldName(g,p);var u=f.notNull(j);if(f.isNull(j)){var i=this.isAreaEnriched(g,p);u=i&&this.hasMatchingAreaField(g,p);j=this.getJoinFieldName(g,p,u,i&&!u);}if(f.isNull(j)){throw f.XException.createRuntimeException("Fail to get join field");}var e=f.QFactory.createDataSource();e.setSchemaName(a.getSchemaName());if(f.XStringUtils.isNotNullAndNotEmpty(a.getPackageName())){e.setPackageName(a.getPackageName());}e.setObjectName(a.getObjectName());e.setType(f.MetaObjectType.DBVIEW);var b=this.getExtendedDimensionName(h,a,g,p);var c=f.QExtendedDimension.create(b,j,a.getLocation());c.setDataSource(e);var d=u?f.JoinType.INNER:f.JoinType.WITHIN_DISTANCE;c.setJoinType(d);if(d===f.JoinType.WITHIN_DISTANCE){c.getJoinParameters().add(f.QGeoConstants.SPATIAL_JOIN_PARAMETER_0);c.getJoinParameters().add(f.QGeoConstants.SPATIAL_JOIN_PARAMETER_METER);}else{var k=this.getApplication().getConnectionPool().getConnection(s);var m=k.getServerMetadata();if(f.notNull(m)&&m.supportsAnalyticCapability(f.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY)){c.setJoinCardinality(f.JoinCardinality.N_ONE);}}c.setVisibility(f.DimensionVisibility.METADATA);return c;};f.QGeoManager.prototype.getChoroplethHierarchyLevel=function(s,h,l){var a=this.getChoroplethHierarchiesBySystemName(s);if(f.notNull(a)&&!a.hasErrors()){var b=a.getData();if(f.notNull(b)){var c=b.getByKey(h);if(f.notNull(c)){var d=c.getLevelById(l);return d;}}}else{if(!this.isMasterSystemName(s)){return this.getChoroplethHierarchyLevel(this.getApplication().getSystemLandscape().getMasterSystemName(),h,l);}}return null;};f.QGeoManager.prototype.getJoinFieldName=function(g,p,i,a){if(f.notNull(p)&&f.notNull(g)){var d=p.getQueryModel().getDimensionByName(g);if(f.notNull(d)){var j=null;var b=d.getFields();for(var c=0;c<b.size();c++){var e=b.getFieldAt(c);var v=e.getValueType();if(i){if(f.XString.startsWith(f.XString.toUpperCase(e.getName()),f.QGeoConstants.CHOROPLETH_METADATA_AREA_ID)){j=e;break;}}else if(v.isSpatial()){if(v===f.XValueType.POINT){j=e;if(a){break;}}else if(!a){j=e;break;}}}if(f.notNull(j)){return j.getName();}}}return null;};f.QGeoManager.prototype.isAreaEnriched=function(g,p){var i=false;var e=p.getQueryModel().getExtendedDimensions();if(f.notNull(e)){for(var a=0;a<e.size();a++){var b=e.get(a);if(f.XString.isEqual(g,b.getName())){i=b.getLocationType()===f.LocationType.AREA;break;}}}return i;};f.QGeoManager.prototype.getAgileAreaFieldName=function(g,p){var d=p.getQueryModel().getDimensionByName(g);if(f.notNull(d)){var a=d.getFields();for(var i=0;i<a.size();i++){var b=a.getFieldAt(i);var s=b.getSemanticType();if(f.notNull(s)){for(var c=0;c<f.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.size();c++){if(f.XString.isEqual(s,f.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.get(c))){return b.getName();}}}}}return null;};f.QGeoManager.prototype.hasMatchingAreaField=function(g,p){var c=p.getConvenienceCommands();var d=p.getQueryModel().getDimensionByName(g);var a=c.getGISAttributesForDimension(d);for(var i=0;i<a.size();i++){var b=a.get(i);var e=b.getName();var h=f.QGeoConstants.AREA_ENRICHED_PREFIXES.getIterator();while(h.hasNext()){if(f.XString.startsWith(f.XString.toUpperCase(e),h.next())){return true;}}}return false;};f.QGeoManager.prototype.getExtendedDimensionName=function(h,l,g,p){var e=f.XStringBuffer.create().append(g).append(f.QGeoManager.EXTENDED_DIMENSION_NAME_EXT).append(l.getLevelName()).append(f.QGeoManager.EXTENDED_DIMENSION_NAME_HIERARCHY).append(h).append(f.QGeoManager.EXTENDED_DIMENSION_NAME_LEVEL).append(l.getLevelId());var q=p.getQueryModel();var d=q.getDimensionByName(e.toString());if(f.notNull(d)){e=e.append("_");}var i=1;while(f.notNull(d)){e=e.appendInt(i++);d=q.getDimensionByName(e.toString());}return e.toString();};f.QGeoManager.prototype.getChoroplethDrillPath=function(s,l,a,h,b,x,y,c){var d=null;var e=null;if(f.isNull(h)||f.isNull(b)||b.isEmpty()){e=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.CHOROPLETH_DRILL_PATH_INVALID_PARAMETERS,"HierarchyId and levelIds can not be null",null,false,null);d=f.ExtResult.createWithMessage(e);}else{var t=a;var m=this.getApplication().getSystemLandscape().getMasterSystemName();if(f.isNull(t)){t=m;}var g=f.XListOfString.createFromReadOnlyList(b);g.sortByDirection(f.XSortDirection.ASCENDING);var p=f.XPointValue.createWithPosition(x,y);p.setSrid(f.XIntegerValue.create(f.QGeoConstants.SPATIAL_REFERENCE_WGS_1984_WEB_MERCATOR_AUXILIARY_SPHERE));var r=f.XStringUtils.concatenate5(f.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER,t,h,g.toString(),p.toString());d=this.m_choroplethDrillPaths.getByKey(r);if(f.isNull(d)){var i=f.XListOfString.create();var j=f.XHashMapByString.create();for(var k=0;k<g.size();k++){var n=g.get(k);var o=this.getChoroplethHierarchyLevel(a,h,n);if(f.isNull(o)){e=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.CHOROPLETH_DRILL_PATH_CHOROPLETH_HIERARCHIES_NOT_LOADED,"Choropleth hierarchy levels are either not loaded or not valid",null,false,null);d=f.ExtResult.createWithMessage(e);break;}var q=f.XStringUtils.concatenate5(r,o.getSchemaName(),o.getPackageName(),o.getObjectName(),o.getLocation());var u=j.getByKey(q);if(f.isNull(u)){i.add(q);j.put(q,f.XList.create());u=j.getByKey(q);}u.add(o);}if(f.isNull(d)){if(s===f.SyncType.BLOCKING){this.processQueryManagerCreationForChoroplethDrillPath(t,s,i,j,p,r);d=this.processIntermediateDrillPaths(r);}else{var v=this.m_listenerIdentifiers.getByKey(r);if(f.notNull(v)){v.add(f.XPair.create(l,c));}else{v=f.XList.create();v.add(f.XPair.create(l,c));this.m_listenerIdentifiers.put(r,v);this.processQueryManagerCreationForChoroplethDrillPath(t,s,i,j,p,r);}}}}}if(f.notNull(d)&&f.notNull(l)){l.onChoroplethDrillPathsLoaded(d,d.getData(),c);}return d;};f.QGeoManager.prototype.getChoroplethDrillPathTableName=function(l){var a=l.get(0);var d=f.XStringUtils.concatenate5(f.QGeoManager.CHOROPLETH_TABLE_PREFIX,a.getSchemaName(),"][",a.getPackageName(),"][");d=f.XStringUtils.concatenate3(d,a.getObjectName(),"]");return d;};f.QGeoManager.prototype.processQueryManagerCreationForChoroplethDrillPath=function(s,a,l,b,p,r){for(var i=0;i<l.size();i++){var c=l.get(i);var d=b.getByKey(c);if(a!==f.SyncType.BLOCKING){this.m_levelKeys.put(c,r);this.m_levelInfos.put(c,d);this.m_syncTypes.put(c,a);this.m_drillPoints.put(c,p);}var e=this.getChoroplethDrillPathTableName(d);var g=f.XStringUtils.concatenate3(f.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER,s,e);var h=this.m_sharedQueryManagers.getByKey(g);if(f.isNull(h)){var q=this.getOlapEnv().getQueryManagerByDataSource(s,e);if(f.notNull(q)){h=f.ExtResult.create(q.cloneQueryManager(),null);this.m_sharedQueryManagers.put(g,h);}}if(f.isNull(h)){if(a===f.SyncType.BLOCKING){h=this.getOlapEnv().processQueryManagerCreationWithDataSourceName(a,null,null,s,e);this.m_sharedQueryManagers.put(g,h);}else{var j=this.m_drillPathTableKeyToLevelKeys.getByKey(g);if(f.notNull(j)){j.add(c);}else{j=f.XListOfString.create();j.add(c);this.m_drillPathTableKeyToLevelKeys.put(g,j);this.getOlapEnv().processQueryManagerCreationWithDataSourceName(a,this,f.XStringValue.create(g),s,e);}}}if(f.notNull(h)){if(a===f.SyncType.BLOCKING){this.processQueryExecutionForChoroplethDrillPath(h,h.getData(),a,d,p,r,null,f.XStringValue.create(c));}else{this.processQueryExecutionForChoroplethDrillPath(h,h.getData(),a,d,p,r,this,f.XStringValue.create(c));}}}};f.QGeoManager.prototype.processQueryExecutionForChoroplethDrillPath=function(e,q,s,l,p,r,a,c){var x=c;var b=x.getString();if(e.isValid()){var d=q.cloneQueryManager();var g=null;var h=l.get(0);var j=d.getQueryModel();var k=j.getFilter().getDynamicFilter();var m=k.getCartesianProductWithDefault();var n=j.getDimensionByName(h.getLocation());if(f.isNull(n)){g=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.CHOROPLETH_DRILL_PATH_FIELD_NOT_FOUND,f.XStringUtils.concatenate2("Location dimension is not found: ",h.getLocation()),null,false,null);}else{var o=d.getConvenienceCommands();var t=m.getCartesianListWithDefault(n);var u=n.getKeyField();u.setTextTransformation(f.TextTransformationType.SPATIAL_AS_GEOJSON);t.setField(u);var v=t.addNewCartesianElement();v.setComparisonOperator(f.SpatialComparisonOperator.INTERSECTS);v.setField(u);v.getLow().setPoint(p);if(h.isCustom()){o.moveDimensionToRows(f.QGeoConstants.CHOROPLETH_METADATA_CUSTOM_ID);}else{o.moveDimensionToRows(f.QGeoConstants.CHOROPLETH_METADATA_LEVEL);o.moveDimensionToRows(f.QGeoConstants.CHOROPLETH_METADATA_FEATURE_ID);var w=j.getDimensionByName(f.QGeoConstants.CHOROPLETH_METADATA_LEVEL);if(f.isNull(w)){g=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.CHOROPLETH_DRILL_PATH_FIELD_NOT_FOUND,"Level dimension is not found",null,false,null);}else{var y=m.getCartesianListWithDefault(w);var z=w.getKeyField();y.setField(z);for(var i=0;i<l.size();i++){h=l.get(i);var A=y.addNewCartesianElement();A.configureSingleParameterExpression(f.XStringValue.create(h.getLevelId()),f.ComparisonOperator.EQUAL);A.setField(z);}}}o.moveDimensionToRows(h.getLocation());var B=this.getColumnDimensionName(h);if(f.notNull(B)){o.moveDimensionToRows(B);}}if(f.isNull(g)){if(s!==f.SyncType.BLOCKING){this.m_queryManagers.put(b,d);}var C=d.processQueryExecution(s,a,c);if(s===f.SyncType.BLOCKING){this.processResultSetForChoroplethDrillPath(C,C.getData(),s,l,b,r);f.XObjectExt.release(d);}}else{this.processResultSetForChoroplethDrillPath(f.ExtResult.createWithMessage(g),null,s,l,b,r);f.XObjectExt.release(d);}}else{this.processResultSetForChoroplethDrillPath(f.ExtResult.createWithExternalMessages(null,e),null,s,l,b,r);}};f.QGeoManager.prototype.getColumnDimensionName=function(l){var c=l.getColumns();for(var i=0;i<c.size();i++){var a=c.get(i);if(f.XString.isEqual(a.getText(),f.QGeoConstants.CHOROPLETH_LEVEL_COLUMN_LABEL_NAME)){return a.getName();}}return null;};f.QGeoManager.prototype.processResultSetForChoroplethDrillPath=function(e,r,s,l,a,b){var d=this.m_choroplethIntermediateDrillPaths.getByKey(b);if(f.isNull(d)){this.m_choroplethIntermediateDrillPaths.put(b,f.XHashMapByString.create());d=this.m_choroplethIntermediateDrillPaths.getByKey(b);}if(e.isValid()&&f.notNull(l)&&!l.isEmpty()){var c=l.get(0);var g=this.getColumnDimensionName(c);var h=c.getLocation();var m=f.XList.create();var n=r.getCursorResultSet();var o=n.getCursorRowsAxis();o.setTupleCursorBeforeStart();var p=-1;var q=-1;var t=-1;var u=-1;var v=o.getRsDimensions();var w=v.size();for(var j=0;j<w;j++){var x=v.get(j);var y=x.getName();if(f.XString.isEqual(y,f.QGeoConstants.CHOROPLETH_METADATA_LEVEL)){p=j;}else if(f.XString.isEqual(y,f.QGeoConstants.CHOROPLETH_METADATA_FEATURE_ID)||f.XString.isEqual(y,f.QGeoConstants.CHOROPLETH_METADATA_CUSTOM_ID)){q=j;}else if(f.XString.isEqual(y,h)){t=j;}else if(f.notNull(g)&&f.XString.isEqual(y,g)){u=j;}}var z=o.getTuplesCount();var A=o.getTupleElementsCount();for(var i=0;i<z;i++){o.nextTuple();var B=f.XListOfString.create();for(var k=0;k<A;k++){o.nextTupleElement();while(o.hasNextFieldValue()){var C=o.nextFieldValue();B.add(C.getValue().getStringRepresentation());}}var D=f.QGeoChoroplethDrillPath.create();if(t>=0){D.setShape(B.get(t));}if(u>=0){D.setAreaName(B.get(u));}if(q>=0){D.setAreaId(B.get(q));}if(p>=0){D.setLevelId(B.get(p));}else{if(i<l.size()){c=l.get(i);}D.setLevelId(c.getLevelId());}D.setSRID(f.QGeoConstants.SPATIAL_REFERENCE_WGS_1984_WEB_MERCATOR_AUXILIARY_SPHERE);m.add(D);}d.put(a,f.ExtResult.create(m,null));}else if(!e.isValid()){d.put(a,f.ExtResult.createWithExternalMessages(null,e));}else if(f.isNull(l)||l.isEmpty()){var E=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.FAILED_TO_GET_CHOROPLETH_DRILL_PATH,"Levels are invalid",null,false,null);d.put(a,f.ExtResult.createWithMessage(E));}if(s!==f.SyncType.BLOCKING){var F=f.XListOfString.create();var G=this.m_levelKeys.getKeysAsIteratorOfString();var H=null;while(G.hasNext()){H=G.next();if(f.XString.isEqual(b,this.m_levelKeys.getByKey(H))){F.add(H);}}if(d.size()===F.size()){var I=this.processIntermediateDrillPaths(b);for(var J=0;J<F.size();J++){H=F.get(J);this.m_levelKeys.remove(H);this.m_levelInfos.remove(H);this.m_drillPoints.remove(H);this.m_syncTypes.remove(H);var K=this.m_queryManagers.remove(H);if(f.notNull(K)){f.XObjectExt.release(K);}}this.m_choroplethIntermediateDrillPaths.remove(b);var L=this.m_listenerIdentifiers.remove(b);for(var M=0;M<L.size();M++){var N=L.get(M);var O=N.getFirstObject();var P=N.getSecondObject();if(f.notNull(O)){O.onChoroplethDrillPathsLoaded(I,I.getData(),P);}}}}};f.QGeoManager.prototype.processIntermediateDrillPaths=function(r){var d=this.m_choroplethIntermediateDrillPaths.remove(r);var e=null;if(f.isNull(d)){var a=f.XMessage.createErrorWithCode(f.OriginLayer.UTILITY,f.ErrorCodes.FAILED_TO_GET_CHOROPLETH_DRILL_PATH,"Failed to choropleth drill path",null,false,null);e=f.ExtResult.createWithMessage(a);}else{var b=f.XList.create();var m=f.MessageManagerSimple.createMessageManager();var i=d.getIterator();while(i.hasNext()){var c=i.next();if(c.hasErrors()){m.copyAllMessages(c);}else{b.addAll(c.getData());}}if(m.isValid()){b.sortByComparator(f.QGeoChoroplethDrillPathComparatorAsc.create());e=f.ExtResult.create(b,null);}else{e=f.ExtResult.createWithExternalMessages(null,m);}}this.m_choroplethDrillPaths.put(r,e);return e;};f.QGeoManager.prototype.isForChoroplethHierarchies=function(r){return f.XString.startsWith(r,f.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER);};f.QGeoManager.prototype.isForChoroplethDrillPath=function(r){return f.XString.startsWith(r,f.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER);};f.QModelDimensionLinksManager=function(){};f.QModelDimensionLinksManager.prototype=new f.QModelComponent();f.QModelDimensionLinksManager.prototype._ff_c="QModelDimensionLinksManager";f.QModelDimensionLinksManager.create=function(c){var m=new f.QModelDimensionLinksManager();m.setupModelLinkManager(c);return m;};f.QModelDimensionLinksManager.prototype.m_dimensionLinksMap=null;f.QModelDimensionLinksManager.prototype.setupModelLinkManager=function(c){this.setupModelComponentWithName(c,null,"ModelLinkManager");this.m_dimensionLinksMap=f.XHashMapByString.create();};f.QModelDimensionLinksManager.prototype.releaseObject=function(){this.m_dimensionLinksMap=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimensionLinksMap);};f.QModelDimensionLinksManager.prototype.addDimensionLinkFromDimensionParts=function(s,a,b,l){var c=a.getQueryManagerKey();if(f.isNull(c)){throw f.XException.createIllegalArgumentException("firstDimensionLinkPart requires query manager key.");}var d=b.getQueryManagerKey();if(f.isNull(d)){throw f.XException.createIllegalArgumentException("secondDimensionLinkPart requires query manager key.");}var m=this.m_dimensionLinksMap.getByKey(s);if(f.isNull(m)){m=f.XList.create();this.m_dimensionLinksMap.put(s,m);}var e=f.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(c,d,m);if(f.isNull(e)){e=f.QModelDimensionLinks.create(this,c,d);m.add(e);}e.addNewLinkFromParts(a,b,l);a.addSecondaryParent(e);b.addSecondaryParent(e);};f.QModelDimensionLinksManager.prototype.removeDimensionLink=function(s,a,b){var c=a.getQueryManagerKey();if(f.isNull(c)){throw f.XException.createIllegalArgumentException("firstDimensionLinkPart requires query manager key.");}var d=b.getQueryManagerKey();if(f.isNull(d)){throw f.XException.createIllegalArgumentException("secondDimensionLinkPart requires query manager key.");}var m=this.m_dimensionLinksMap.getByKey(s);if(f.notNull(m)){var e=f.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(c,d,m);if(f.notNull(e)){e.removeLinkByParts(a,b);}}};f.QModelDimensionLinksManager.prototype.removeAllDimensionLinks=function(s){var d=this.m_dimensionLinksMap.getByKey(s);if(f.notNull(d)){var a=d.getIterator();while(a.hasNext()){var b=a.next();b.clear();}}};f.QModelDimensionLinksManager.prototype.getModelDimensionLinksStorage=function(s,a,b){return f.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(a,b,this.m_dimensionLinksMap.getByKey(s));};f.QModelDimensionLinksManager.prototype.getDimensionLinksByDatasetId=function(s,d,r){var a=this.m_dimensionLinksMap.getByKey(s);var m=f.XList.create();if(f.notNull(a)){var b=a.getIterator();while(b.hasNext()){var c=b.next();if(f.XString.isEqual(d,c.getFirstDatasetId())||f.XString.isEqual(d,c.getSecondDatasetId())){var e=c.getIterator();while(e.hasNext()){var g=e.next();if(f.XString.isEqual(d,g.getFirstPart().getQueryManagerKey())){m.add(g);}else if(f.XString.isEqual(d,g.getSecondPart().getQueryManagerKey())){if(r){m.add(f.QDimensionLink.createDimensionLinkFromParts(this.getContext(),null,g.getSecondPart(),g.getFirstPart(),g.isLinkOnMatchingHierarchies()));}else{m.add(g);}}}}}}return m;};f.QModelDimensionLinksManager.prototype.getDimensionLinksByDatasetIds=function(s,a,b,r){var m=f.XList.create();var c=f.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(a,b,this.m_dimensionLinksMap.getByKey(s));if(f.notNull(c)){var d=c.getIterator();while(d.hasNext()){var e=d.next();var g=e.getFirstPart().getQueryManagerKey();var h=e.getSecondPart().getQueryManagerKey();if(f.XString.isEqual(a,g)&&f.XString.isEqual(b,h)||f.XString.isEqual(a,h)&&f.XString.isEqual(b,g)){if(!r||f.XString.isEqual(a,e.getFirstPart().getQueryManagerKey())){m.add(e);}else{m.add(f.QDimensionLink.createDimensionLinkFromParts(this.getContext(),null,e.getSecondPart(),e.getFirstPart(),e.isLinkOnMatchingHierarchies()));}}}}return m;};f.QModelDimensionLinksManager.prototype.getDimensionLinks=function(s){var m=this.m_dimensionLinksMap.getByKey(s);if(f.isNull(m)){m=f.XList.create();}return m;};f.QModelDimensionLinksManager.prototype.createBlendableQueryManager=function(s,p,n){var k=f.QFactory.createKeyRefStoreContext(this,s);var b=f.BlendableQueryManager.create(k,n);b.setClientQueryObjectStorageName(s);if(f.notNull(p)){b.setPrimaryQueryManager(p);}return b;};f.HierarchyCatalogManager=function(){};f.HierarchyCatalogManager.prototype=new f.QOlapSyncAction();f.HierarchyCatalogManager.prototype._ff_c="HierarchyCatalogManager";f.HierarchyCatalogManager.OBJECT_VERSION="objectVersion";f.HierarchyCatalogManager.HIERARCHY_NAME="hierarchyName";f.HierarchyCatalogManager.VERSION_NAME="versionName";f.HierarchyCatalogManager.BW_NAME_KEY="Name.KEY";f.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT="Text.SHORT_TEXT";f.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT="Text.MEDIUM_TEXT";f.HierarchyCatalogManager.BW_TEXT_LONG_TEXT="Text.LONG_TEXT";f.HierarchyCatalogManager.BW_VERSION_DISPLAY_KEY="Version.DISPLAY_KEY";f.HierarchyCatalogManager.BW_VERSION_KEY="Version.KEY";f.HierarchyCatalogManager.BW_VERSION_LONG_TEXT="Version.LONG_TEXT";f.HierarchyCatalogManager.BW_DATE_TO_KEY="DateTo.KEY";f.HierarchyCatalogManager.BW_DATE_FROM="DateFrom";f.HierarchyCatalogManager.BW_DATE_FROM_KEY="DateFrom.KEY";f.HierarchyCatalogManager.BW_OWNER_KEY="Owner.KEY";f.HierarchyCatalogManager.BW_HIEID="HieID";f.HierarchyCatalogManager.BW_HIEID_KEY="HieID.KEY";f.HierarchyCatalogManager.BW_HIETYPE="HieType";f.HierarchyCatalogManager.BW_HIETYPE_KEY="HieType.KEY";f.HierarchyCatalogManager.BW_OBJVERS="ObjVers";f.HierarchyCatalogManager.BW_OBJVERS_KEY="ObjVers.KEY";f.HierarchyCatalogManager.BW_IS_REMOTE="Is_Remote_Hier";f.HierarchyCatalogManager.BW_IS_REMOTE_KEY="Is_Remote_Hier.KEY";f.HierarchyCatalogManager.BW_TYPE_CUSTOM_HIERARCHY="0";f.HierarchyCatalogManager.create=function(q,d,a){var o=new f.HierarchyCatalogManager();o.setupCatalogManager(q,d,a);return o;};f.HierarchyCatalogManager.prototype.m_filter=null;f.HierarchyCatalogManager.prototype.m_operator=null;f.HierarchyCatalogManager.prototype.m_dataSource=null;f.HierarchyCatalogManager.prototype.m_dimensionName=null;f.HierarchyCatalogManager.prototype.m_filterHierarchyDate=null;f.HierarchyCatalogManager.prototype.m_enableFilterHierarchyDate=false;f.HierarchyCatalogManager.prototype.m_includeCustomHierarchies=false;f.HierarchyCatalogManager.prototype.m_catalogResult=null;f.HierarchyCatalogManager.prototype.setupCatalogManager=function(q,d,a){this.setupAction(null,null,null,q);this.m_dataSource=d;this.m_dimensionName=a;this.m_filter=f.XHashMapOfStringByString.create();this.m_operator=f.XHashMapByString.create();};f.HierarchyCatalogManager.prototype.releaseObject=function(){this.m_dataSource=null;this.m_dimensionName=null;this.m_catalogResult=f.XObjectExt.release(this.m_catalogResult);this.m_filterHierarchyDate=f.XObjectExt.release(this.m_filterHierarchyDate);this.m_filter=f.XObjectExt.release(this.m_filter);this.m_operator=f.XObjectExt.release(this.m_operator);f.XObjectExt.release(this.getQueryManager());f.QOlapSyncAction.prototype.releaseObject.call(this);};f.HierarchyCatalogManager.prototype.processGetResult=function(s,l,c){return this.processSyncAction(s,l,c);};f.HierarchyCatalogManager.prototype.callListener=function(e,l,d,c){l.onHierarchyCatalogResult(e,d,c);};f.HierarchyCatalogManager.prototype.processSynchronization=function(s){var q=this.getQueryManager();var a=q.getQueryModel();var c=a.getConvenienceCommands();c.resetToDefault();if(q.getSystemType()===f.SystemType.HANA){this.processHana(c);}else{this.processBW(c);}this._addFilter(c,"Name",this.getFilterHierarchyName(),this.getOperatorHierarchyName());this._addFilter(c,"Version",this.getFilterVersionName(),this.getOperatorVersionName());q.processQueryExecution(s,this,null);return true;};f.HierarchyCatalogManager.prototype._addFilter=function(c,d,a,o){c.clearFiltersByDimensionName(d);if(f.notNull(o)){c.addSingleMemberFilterByDimensionName(d,a,o);}};f.HierarchyCatalogManager.prototype.processHana=function(c){c.moveDimensionToRows("Dimension");c.moveDimensionToRows("Name");c.moveDimensionToRows("Description");c.moveDimensionToRows("Version");c.moveDimensionToRows("DateTo");var d=this.m_dataSource;c.addSimpleSingleMemberFilter("Type",d.getType()===null?null:d.getType().getCamelCaseName());c.addSimpleSingleMemberFilter("SchemaName",d.getSchemaName());c.addSimpleSingleMemberFilter("PackageName",d.getPackageName());c.addSimpleSingleMemberFilter("ObjectName",d.getObjectName());if(f.XStringUtils.isNotNullAndNotEmpty(this.m_dimensionName)){c.addSimpleSingleMemberFilter("Dimension",this.m_dimensionName);}};f.HierarchyCatalogManager.prototype.addDimensionAndField=function(c,d,a){c.moveDimensionToRows(d);c.addFieldToResultSet(d,a);};f.HierarchyCatalogManager.prototype.processBW=function(c){this.addDimensionAndField(c,"Name",f.HierarchyCatalogManager.BW_NAME_KEY);c.moveDimensionToRows("Text");c.addFieldToResultSet("Text",f.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT);c.addFieldToResultSet("Text",f.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT);c.addFieldToResultSet("Text",f.HierarchyCatalogManager.BW_TEXT_LONG_TEXT);c.moveDimensionToRows("Version");c.addFieldToResultSet("Version",f.HierarchyCatalogManager.BW_VERSION_KEY);c.addFieldToResultSet("Version",f.HierarchyCatalogManager.BW_VERSION_LONG_TEXT);this.addDimensionAndField(c,"DateTo",f.HierarchyCatalogManager.BW_DATE_TO_KEY);this.addDimensionAndField(c,f.HierarchyCatalogManager.BW_DATE_FROM,f.HierarchyCatalogManager.BW_DATE_FROM_KEY);this.addDimensionAndField(c,"Owner",f.HierarchyCatalogManager.BW_OWNER_KEY);this.addDimensionAndField(c,f.HierarchyCatalogManager.BW_HIEID,f.HierarchyCatalogManager.BW_HIEID_KEY);this.addDimensionAndField(c,f.HierarchyCatalogManager.BW_OBJVERS,f.HierarchyCatalogManager.BW_OBJVERS_KEY);this.addDimensionAndField(c,f.HierarchyCatalogManager.BW_IS_REMOTE,f.HierarchyCatalogManager.BW_IS_REMOTE_KEY);this._addFilter(c,f.HierarchyCatalogManager.BW_OBJVERS,this.getFilterHierarchyObjectVersion(),this.getOperatorHierarchyObjectVersion());if(f.notNull(this.m_filterHierarchyDate)&&this.m_enableFilterHierarchyDate){var h=this.m_filterHierarchyDate.toSAPFormat();this._addFilter(c,f.HierarchyCatalogManager.BW_DATE_FROM,h,f.ComparisonOperator.LESS_EQUAL);this._addFilter(c,"DateTo",h,f.ComparisonOperator.GREATER_EQUAL);}};f.HierarchyCatalogManager.prototype.onQueryExecuted=function(e,r,c){this.addAllMessages(e);if(e.isValid()){var a=r.getClassicResultSet();var b=f.QFactory.createHierarchyCatalogResult();this.setupExt(b,a,this.m_dimensionName);if(this.customHierarchiesIncluded()){var d=a.getQueryManager().getSystemType().isTypeOf(f.SystemType.ABAP)?null:this.m_dataSource.getName();this.addCustomHierarchies(b,a,this.m_dimensionName,d,this.getOlapEnv().getCustomHierarchyRepository(),this.m_filter.getByKey(f.HierarchyCatalogManager.HIERARCHY_NAME));}this.m_catalogResult=b;this.setData(this.m_catalogResult);}this.endSync();};f.HierarchyCatalogManager.prototype.addCustomHierarchies=function(c,r,d,a,b,h){c.addAllItems(b._getCustomHierarchyCatalogItemsByDimensionName(r.getQueryManager().getSystemName(),a,d,h));};f.HierarchyCatalogManager.prototype.setupExt=function(c,r,d){if(r.getQueryModel().getSystemType()===f.SystemType.HANA){this.setupHana(c,r);}else{this.setupBW(c,r,d);}};f.HierarchyCatalogManager.prototype.setupHana=function(c,r){var q=r.getQueryModel();var d=q.getDimensionByName("Dimension").getFieldByName("KeyDimension");var h=q.getDimensionByName("Name").getFieldByName("KeyName");var a=q.getDimensionByName("Description").getFieldByName("KeyDescription");var v=q.getDimensionByName("Version").getFieldByName("KeyVersion");var b=q.getDimensionByName("DateTo").getFieldByName("KeyDateTo");var e=r.getRowsAxis();var t=e.getTuplesCount();for(var i=0;i<t;i++){var g=e.getTupleAt(i);var j=f.HierarchyCatalogItem.createCatalogItem();if(f.notNull(d)){j.setDimensionName(g.getStringByField(d));}if(f.notNull(h)){j.setHierarchyName(g.getStringByField(h));}if(f.notNull(a)){j.setHierarchyLongText(g.getStringByField(a));}if(f.notNull(v)){j.setVersionName(g.getStringByField(v));}if(f.notNull(b)){var k=g.getStringByField(b);if(f.XStringUtils.isNotNullAndNotEmpty(k)){j.setDateTo(f.XDate.createDateFromIsoFormat(k));}}c.addItem(j);}};f.HierarchyCatalogManager.prototype.setupBW=function(c,r,d){var q=r.getQueryModel();var a=q.getConvenienceCommands();var h=q.getDimensionByName("Name").getFieldByName(f.HierarchyCatalogManager.BW_NAME_KEY);var b=this.getFieldIfPresent(a,q,"Text",f.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT);var e=this.getFieldIfPresent(a,q,"Text",f.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT);var g=this.getFieldIfPresent(a,q,"Text",f.HierarchyCatalogManager.BW_TEXT_LONG_TEXT);var v=q.getDimensionByName("Version");var j=v.getFieldByName(f.HierarchyCatalogManager.BW_VERSION_DISPLAY_KEY);var k=v.getFieldByName(f.HierarchyCatalogManager.BW_VERSION_KEY);var l=v.getFieldByName(f.HierarchyCatalogManager.BW_VERSION_LONG_TEXT);var m=q.getDimensionByName("DateTo").getFieldByName(f.HierarchyCatalogManager.BW_DATE_TO_KEY);var n=this.getFieldIfPresent(a,q,f.HierarchyCatalogManager.BW_DATE_FROM,f.HierarchyCatalogManager.BW_DATE_FROM_KEY);var o=this.getFieldIfPresent(a,q,"Owner",f.HierarchyCatalogManager.BW_OWNER_KEY);var p=this.getFieldIfPresent(a,q,f.HierarchyCatalogManager.BW_HIEID,f.HierarchyCatalogManager.BW_HIEID_KEY);var t=this.getFieldIfPresent(a,q,f.HierarchyCatalogManager.BW_HIETYPE,f.HierarchyCatalogManager.BW_HIETYPE_KEY);var s=this.getFieldIfPresent(a,q,f.HierarchyCatalogManager.BW_OBJVERS,f.HierarchyCatalogManager.BW_OBJVERS_KEY);var u=this.getFieldIfPresent(a,q,f.HierarchyCatalogManager.BW_IS_REMOTE,f.HierarchyCatalogManager.BW_IS_REMOTE_KEY);var w=r.getQueryManager().getConnection();var x=f.notNull(w)?w.getCustomObject(f.CustomHierarchySessionData.CUSTOM_HIERARCHY_SESSION_DATA):null;var y=r.getRowsAxis();var z=y.getTuplesCount();for(var i=0;i<z;i++){var A=y.getTupleAt(i);var B=f.notNull(t)?A.getStringByField(t):null;var C=f.notNull(h)?A.getStringByField(h):null;if(f.XString.isEqual(B,f.HierarchyCatalogManager.BW_TYPE_CUSTOM_HIERARCHY)&&f.notNull(x)&&x.getHierarchyDefinitionByName(C)!==null){continue;}var D=f.HierarchyCatalogItem.createCatalogItem();D.setDimensionName(d);if(f.notNull(C)){D.setHierarchyName(C);}if(f.notNull(b)){D.setHierarchyShortText(A.getStringByField(b));}if(f.notNull(e)){D.setHierarchyMediumText(A.getStringByField(e));}if(f.notNull(g)){D.setHierarchyLongText(A.getStringByField(g));}if(f.notNull(k)){D.setVersionName(A.getStringByField(k));}if(f.notNull(j)){D.setVersionDisplayKey(A.getStringByField(j));}if(f.notNull(l)){D.setVersionDescription(A.getStringByField(l));}if(f.notNull(m)){var E=A.getStringByField(m);if(f.XStringUtils.isNotNullAndNotEmpty(E)){D.setDateTo(f.XDate.createDateFromSAPFormat(E));}}if(f.notNull(n)){var F=A.getStringByField(n);if(f.XStringUtils.isNotNullAndNotEmpty(F)){D.setDateFrom(f.XDate.createDateFromSAPFormat(F));}}if(f.notNull(o)){D.setOwner(A.getStringByField(o));}if(f.notNull(p)){D.setHierId(A.getStringByField(p));}if(f.notNull(B)){D.setHierType(B);}if(f.notNull(s)){D.setObjectVersion(A.getStringByField(s));}if(f.notNull(u)){var G=false;if(u.getValueType()===f.XValueType.STRING){if(f.XString.isEqual(A.getStringByField(u),"X")){G=true;}}else if(u.getValueType()===f.XValueType.BOOLEAN){G=A.getBooleanByField(u);}D.setIsRemote(G);}c.addItem(D);}};f.HierarchyCatalogManager.prototype.getFieldIfPresent=function(c,q,d,a){if(c.containsResultSetField(d,a)){return q.getDimensionByName(d).getFieldByName(a);}return null;};f.HierarchyCatalogManager.prototype.setFilterHierarchyName=function(h,e){if(e){this.setFilterHierarchyNameWithOperator(h,f.ComparisonOperator.EQUAL);}else{this.setFilterHierarchyNameWithOperator(h,null);}};f.HierarchyCatalogManager.prototype.assertComparisonOperator=function(c){if(f.notNull(c)&&c!==f.ComparisonOperator.EQUAL&&c!==f.ComparisonOperator.MATCH){throw f.XException.createRuntimeException("illegal comparison operator");}};f.HierarchyCatalogManager.prototype._setFilterInternal=function(k,v,o){this.assertComparisonOperator(o);this.m_filter.put(k,v);this.m_operator.put(k,o);this.resetSyncState();};f.HierarchyCatalogManager.prototype.setFilterHierarchyNameWithOperator=function(h,c){this._setFilterInternal(f.HierarchyCatalogManager.HIERARCHY_NAME,h,c);};f.HierarchyCatalogManager.prototype.getOperatorHierarchyName=function(){return this.m_operator.getByKey(f.HierarchyCatalogManager.HIERARCHY_NAME);};f.HierarchyCatalogManager.prototype.getFilterHierarchyName=function(){return this.m_filter.getByKey(f.HierarchyCatalogManager.HIERARCHY_NAME);};f.HierarchyCatalogManager.prototype.isFilterHierarchyNameEnabled=function(){return this.getOperatorHierarchyName()!==null;};f.HierarchyCatalogManager.prototype.setFilterVersionName=function(v,e){if(e){this.setFilterVersionNameWithOperator(v,f.ComparisonOperator.EQUAL);}else{this.setFilterVersionNameWithOperator(v,null);}};f.HierarchyCatalogManager.prototype.setFilterVersionNameWithOperator=function(v,c){this._setFilterInternal(f.HierarchyCatalogManager.VERSION_NAME,v,c);};f.HierarchyCatalogManager.prototype.getOperatorVersionName=function(){return this.m_operator.getByKey(f.HierarchyCatalogManager.VERSION_NAME);};f.HierarchyCatalogManager.prototype.getFilterVersionName=function(){return this.m_filter.getByKey(f.HierarchyCatalogManager.VERSION_NAME);};f.HierarchyCatalogManager.prototype.isFilterVersionNameEnabled=function(){return this.getOperatorVersionName()!==null;};f.HierarchyCatalogManager.prototype.setFilterHierarchyObjectVersion=function(o,e){if(e){this.setFilterHierarchyObjectVersionWithOperator(o,f.ComparisonOperator.EQUAL);}else{this.setFilterHierarchyObjectVersionWithOperator(o,null);}};f.HierarchyCatalogManager.prototype.setFilterHierarchyObjectVersionWithOperator=function(o,c){this._setFilterInternal(f.HierarchyCatalogManager.OBJECT_VERSION,o,c);};f.HierarchyCatalogManager.prototype.getOperatorHierarchyObjectVersion=function(){return this.m_operator.getByKey(f.HierarchyCatalogManager.OBJECT_VERSION);};f.HierarchyCatalogManager.prototype.getFilterHierarchyObjectVersion=function(){return this.m_filter.getByKey(f.HierarchyCatalogManager.OBJECT_VERSION);};f.HierarchyCatalogManager.prototype.isFilterHierarchyObjectVersionEnabled=function(){return this.getOperatorHierarchyObjectVersion()!==null;};f.HierarchyCatalogManager.prototype.setFilterHierarchyDate=function(d,e){if(f.isNull(d)){this.m_filterHierarchyDate=f.XObjectExt.release(this.m_filterHierarchyDate);}else{if(f.isNull(this.m_filterHierarchyDate)){this.m_filterHierarchyDate=f.XDate.createDateWithValues(d.getYear(),d.getMonthOfYear(),d.getDayOfMonth());}else{this.m_filterHierarchyDate.resetValue(d);}}this.resetSyncState();this.m_enableFilterHierarchyDate=e;};f.HierarchyCatalogManager.prototype.getFilterHierarchyDate=function(){return this.m_filterHierarchyDate;};f.HierarchyCatalogManager.prototype.setIncludeCustomHierarchies=function(i){this.m_includeCustomHierarchies=i;this.resetSyncState();};f.HierarchyCatalogManager.prototype.customHierarchiesIncluded=function(){return this.m_includeCustomHierarchies;};f.QmShutdownAction=function(){};f.QmShutdownAction.prototype=new f.QOlapSyncAction();f.QmShutdownAction.prototype._ff_c="QmShutdownAction";f.QmShutdownAction.createAndRun=function(s,l,c,p){var n=new f.QmShutdownAction();n.setupActionAndRun(s,l,c,p);return n;};f.QmShutdownAction.prototype.m_providerShutdownAction=null;f.QmShutdownAction.prototype.releaseObject=function(){this.m_providerShutdownAction=null;f.QOlapSyncAction.prototype.releaseObject.call(this);};f.QmShutdownAction.prototype.processSynchronization=function(s){var p=this.getActionContext();if(f.notNull(p)){if(p.getLifeCycleState()!==f.LifeCycleState.ACTIVE){this.addError(f.ErrorCodes.INVALID_STATE,"Query Manager cannot be shutdown, it is not in active state");return false;}p.setLifeCycleState(f.LifeCycleState.SHUTTING_DOWN);this.m_providerShutdownAction=p.processProviderShutdown(s,this,null);return true;}return false;};f.QmShutdownAction.prototype.onProviderShutdown=function(e,q,c){this.addAllMessages(e);var p=this.getActionContext();if(f.notNull(p)){p.setLifeCycleState(f.LifeCycleState.TERMINATED);}this.setData(p);this.endSync();};f.QmShutdownAction.prototype.callListener=function(e,l,d,c){l.onQueryManagerRelease(e,d,c);};f.QmShutdownAction.prototype.cancelSynchronization=function(){f.QOlapSyncAction.prototype.cancelSynchronization.call(this);this.m_providerShutdownAction.cancelSynchronization();};f.QueryManager=function(){};f.QueryManager.prototype=new f.DfService();f.QueryManager.prototype._ff_c="QueryManager";f.QueryManager.prototype.m_name=null;f.QueryManager.prototype.m_dataSource=null;f.QueryManager.prototype.m_lifeCycleState=null;f.QueryManager.prototype.m_systemDescription=null;f.QueryManager.prototype.m_queryModel=null;f.QueryManager.prototype.m_activeContainer=null;f.QueryManager.prototype.m_convenienceCmds=null;f.QueryManager.prototype.m_metadataModel=null;f.QueryManager.prototype.m_directVariableTransferConsumer=false;f.QueryManager.prototype.m_mode=null;f.QueryManager.prototype.m_processorStateListeners=null;f.QueryManager.prototype.m_activeReturnedDataSelections=null;f.QueryManager.prototype.m_inactiveReturnedDataSelections=null;f.QueryManager.prototype.m_queryExecutedListener=null;f.QueryManager.prototype.m_variableProcessorPreviousState=null;f.QueryManager.prototype.m_variableProcessorState=null;f.QueryManager.prototype.m_hasPreparedAfterVariables=false;f.QueryManager.prototype.m_planningManager=null;f.QueryManager.prototype.m_dimensionsToClone=null;f.QueryManager.prototype.m_dimensionsRequestedFromClient=null;f.QueryManager.prototype.m_preQueryExecutor=null;f.QueryManager.prototype.m_enableHierarchyToUDHConversion=false;f.QueryManager.prototype.m_includePerformanceData=null;f.QueryManager.prototype.m_myNameAsMicroCube=null;f.QueryManager.prototype.m_lovManager=null;f.QueryManager.prototype.m_cacheHintsEnabled=false;f.QueryManager.prototype.m_isMetadataCached=false;f.QueryManager.prototype.m_preQueryName=null;f.QueryManager.prototype.m_suppressExitVariableValues=false;f.QueryManager.prototype.m_keyRefSerializationEnabled=false;f.QueryManager.prototype.m_requestCellDocumentID=false;f.QueryManager.prototype.m_clientQueryObjectStorageName=null;f.QueryManager.prototype.setupService=function(s){f.DfService.prototype.setupService.call(this,s);var c=s;var d=c.getDataSource();var t=null;if(f.notNull(d)){t=d.clone();}else{t=f.QDataSource.create();}this.setDataSource(t);};f.QueryManager.prototype.getComponentType=function(){return this.getOlapComponentType();};f.QueryManager.prototype.getOlapComponentType=function(){return f.OlapComponentType.QUERY_MANAGER;};f.QueryManager.prototype.releaseObject=function(){var o=this.getOlapEnvironmentBase();if(f.notNull(o)){o.getFilterManager().releaseExternalizedFilter(this);o.unregisterQueryManager(this);if(f.notNull(this.m_myNameAsMicroCube)){o.removeMicroCubeName(this.getSystemName(),this.m_myNameAsMicroCube);this.m_myNameAsMicroCube=null;}}this.m_convenienceCmds=f.XObjectExt.release(this.m_convenienceCmds);this.m_activeReturnedDataSelections=f.XObjectExt.release(this.m_activeReturnedDataSelections);this.m_inactiveReturnedDataSelections=f.XObjectExt.release(this.m_inactiveReturnedDataSelections);this.m_activeContainer=f.XObjectExt.release(this.m_activeContainer);this.m_processorStateListeners=f.XObjectExt.release(this.m_processorStateListeners);this.m_queryModel=f.XObjectExt.release(this.m_queryModel);this.setLifeCycleState(f.LifeCycleState.RELEASED);this.m_metadataModel=f.XObjectExt.release(this.m_metadataModel);this.m_planningManager=f.XObjectExt.release(this.m_planningManager);this.m_preQueryExecutor=f.XObjectExt.release(this.m_preQueryExecutor);this.m_systemDescription=null;this.m_variableProcessorPreviousState=null;this.m_variableProcessorState=null;this.m_queryExecutedListener=null;this.m_dimensionsToClone=f.XObjectExt.release(this.m_dimensionsToClone);this.m_dimensionsRequestedFromClient=f.XObjectExt.release(this.m_dimensionsRequestedFromClient);this.m_includePerformanceData=null;this.m_lovManager=f.XObjectExt.release(this.m_lovManager);this.m_clientQueryObjectStorageName=null;f.DfService.prototype.releaseObject.call(this);};f.QueryManager.prototype.setupValues=function(){this.m_lifeCycleState=f.LifeCycleState.INITIAL;this.m_activeContainer=f.ResultSetContainer.create(this,null);this.m_variableProcessorState=f.VariableProcessorState.CHANGEABLE_STARTUP;var o=this.getOlapEnvironmentBase();o.registerQueryManager(this);this.m_queryExecutedListener=f.XSimpleMap.create();this.m_activeReturnedDataSelections=f.XHashSetOfString.create();this.m_inactiveReturnedDataSelections=f.XHashSetOfString.create();this.m_includePerformanceData=f.TriStateBool._DEFAULT;this.m_isMetadataCached=false;this.m_keyRefSerializationEnabled=true;this.m_requestCellDocumentID=false;this.m_clientQueryObjectStorageName=null;};f.QueryManager.prototype.setupClone=function(o,c,d){var a=o.getApplication();var s=o.getServiceConfig();var b;if(c===f.QueryCloneMode.MICRO_CUBE){b=s.cloneUsingExtDataSource(d);}else{b=s.clone();}f.DfService.prototype.setupService.call(this,b);b.linkToQueryManager(this);var e=a.getConnectionPool();var g=o.getSystemDescription();var h=o.getConnection();var i=h;if(f.isNull(h)){i=e.getConnection(g.getSystemName());}else if(h.useSessionUrlRewrite()&&e.getMaximumSharedConnections(g.getSystemName())>1){i=e.getConnectionExt(g.getSystemName(),false,h.getName());if(h.getWebServicePathForBLOBs()!==null){i.setWebServicePathForBLOBs(h.getWebServicePathForBLOBs().getPath());}}if(c===f.QueryCloneMode.MICRO_CUBE){this.setDataSource(d);}else{var j=o.getDataSource();var k=null;if(f.notNull(j)){k=j.clone();}this.setDataSource(k);}this.setConnection(i);this.setSystemDescription(g);this.getSettingsBase().setDataRequest(o.getInitSettings().getDataRequest());this.setupValues();this.m_includePerformanceData=o.getIncludePerformanceData();if(o.getQueryModel()!==null){this.setupQueryModel();}this.m_lifeCycleState=f.LifeCycleState.STARTING_UP;this.m_mode=o.getMode();this.m_activeContainer=f.ResultSetContainer.create(this,o.getActiveResultSetContainer());this.m_enableHierarchyToUDHConversion=o.isHierarchyToUDHConversionEnabled();this.setOffsetColumns(o.getOffsetColumns());this.setOffsetRows(o.getOffsetRows());this.setMaxRows(o.getMaxRows());this.setMaxColumns(o.getMaxColumns());this.setSuppressExitVariableValuesInRepoMode(o.isSuppressExitVariableValuesInRepoMode());if(o.supportsReturnedDataSelection()){this.m_activeReturnedDataSelections=f.XHashSetOfString.create();this.m_activeReturnedDataSelections.addAll(o.getAllEnabledReturnedDataSelections());this.m_inactiveReturnedDataSelections=f.XHashSetOfString.create();this.m_inactiveReturnedDataSelections.addAll(o.getAllDisabledReturnedDataSelections());}if(c!==f.QueryCloneMode.MICRO_CUBE){var v=o.getVariableVariants();if(f.notNull(v)){var l=v.size();for(var m=0;m<l;m++){this.addVariableVariant(v.get(m).clone());}}}if(f.XCollectionUtils.hasElements(s.getRequiredDimensions())){b.setRequiredDimensions(s.getRequiredDimensions().createListOfStringCopy());}if(f.XCollectionUtils.hasElements(o.getDimensionsToClone())){this.setDimensionsToClone(o.getDimensionsToClone().createSetCopy());this.setDimensionsRequestedFromClient(o.getDimensionsRequestedFromClient().createSetCopy());}if(f.notNull(this.m_queryModel)){this.m_queryModel.stopEventing();}var n=o.getQueryModel();if(f.notNull(n)){var p=null;if(c===f.QueryCloneMode.BASE_STATE){p=n.getServerBaseSerializationForBaseState();}else{p=n.getServerBaseSerialization();}if(c===f.QueryCloneMode.CURRENT_STATE||c===f.QueryCloneMode.MICRO_CUBE){this.m_queryModel.copyQueryModel(n,c);}else{var q=this.getModelCapabilities();if(c===f.QueryCloneMode.CURRENT_STATE_INA){var r=f.QInAExportFactory.createForCloning(a,q);var t=r.exportQueryModel(n,true,true);var u=f.QInAImportFactory.createForCloning(a,q);u.importQueryModel(t,this.m_queryModel);f.MessageUtil.checkNoError(u);}else if(c===f.QueryCloneMode.BASE_STATE){var w=f.QInAImportFactory.create(a,f.QModelFormat.INA_METADATA,q);w.importQueryModel(p,this.m_queryModel);}else{throw f.XException.createRuntimeException(f.XStringUtils.concatenate2("Mode not yet supported: ",c.toString()));}}this.m_queryModel.getDrillManager().setValidateContextFreeNavigations(n.getDrillManager().isValidatingContextFreeNavigations());this.m_queryModel.setExportFixedFilter(n.isExportingFixedFilter());this.m_queryModel.setExportVariables(n.isExportingVariables());this.m_queryModel.setServerBaseSerialization(null,f.QModelOrigin.CLONING,p);this.m_queryModel.setSupportsDataEntryReadOnly(n.supportsDataEntryReadOnly());this.m_queryModel.setDataEntryReadOnly(n.isDataEntryReadOnly());this.m_queryModel.setDataEntryEnabled(n.isDataEntryEnabled());this.reorderStructureMember(this.m_queryModel.getMeasureDimension(),n.getMeasureDimension());this.reorderStructureMember(this.m_queryModel.getNonMeasureDimension(),n.getNonMeasureDimension());this.reorderStructureMember(this.m_queryModel.getNonMeasureDimension2(),n.getNonMeasureDimension2());this.reorderStructureMember(this.m_queryModel.getAccountDimension(),n.getAccountDimension());this.m_queryModel.getDrillManagerBase().copyRootNodesFrom(n.getDrillManager());}this.m_metadataModel=o.getMetadataModel().cloneOlapComponent(this.getQueryModel(),null);if(f.notNull(this.m_queryModel)){var x=b.getInstanceId();var y=this.m_queryModel.getDataSourceBase();y.setInstanceId(x);this.m_queryModel.resumeEventing();}if(this.getResultSetPersistenceIdentifier()!==null){this.setResultSetPersistenceIdentifier(null);this.setResultSetPersistanceTargetSchema(null);this.setResultSetPersistanceTargetTable(null);}if(o.hasLovManager()){this.getLovManager().copyFrom(o.getLovManager(),null);}this.setLifeCycleState(f.LifeCycleState.ACTIVE);if(f.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION===o.getVariableProcessorState()){this.setVariableProcessorState(o.getVariableProcessorState());}this.m_includePerformanceData=o.getIncludePerformanceData();this.setCacheHintEnabled(o.isCacheHintEnabled());this.m_keyRefSerializationEnabled=o.isKeyRefSerializationEnabled();this.m_requestCellDocumentID=o.isRequestCellDocumentID();this.m_clientQueryObjectStorageName=o.getClientQueryObjectStorageName();};f.QueryManager.prototype.reorderStructureMember=function(c,o){if(f.notNull(c)&&f.notNull(o)){c.reOrderStructureMembers(o.getOrderedStructureMemberNames());}};f.QueryManager.prototype.cloneOlapComponent=function(c,p){return this.cloneQueryManagerExt(f.QueryCloneMode.CURRENT_STATE);};f.QueryManager.prototype.cloneQueryManager=function(){return this.cloneQueryManagerExt(f.QueryCloneMode.CURRENT_STATE);};f.QueryManager.prototype.cloneExt=function(a){var c=f.QueryCloneMode.findInFlags(a,f.QueryCloneMode.CURRENT_STATE);return this.cloneQueryManagerExt(c);};f.QueryManager.prototype.cloneQueryManagerExt=function(c){var q;if(this.getMode()===f.QueryManagerMode.BLENDING){var s=this.getServiceConfig();var b=s.getBlendingDefinition();var a=b.clone();var d=f.QueryServiceConfig.createWithBlendingDefinition(this.getApplication(),a);var e=d.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);f.MessageUtil.checkNoError(e);q=e.getData();var g=q.getQueryModel();g.getDrillManager().setValidateContextFreeNavigations(this.m_queryModel.getDrillManager().isValidatingContextFreeNavigations());var o=this.m_queryModel.serializeToString(f.QModelFormat.INA_REPOSITORY);var h=g.deserializeExt(f.QModelFormat.INA_REPOSITORY,o);var i=this.m_queryModel.getDimensions();if(f.notNull(i)){var j=i.size();for(var k=0;k<j;k++){var l=i.get(k);if(f.isNull(l)){continue;}var m=g.getDimensionByNameFromExistingMetadata(l.getName());if(f.isNull(m)){continue;}m.reOrderStructureMembers(l.getOrderedStructureMemberNames());}}g.getDrillManager().copyRootNodesFrom(this.m_queryModel.getDrillManager());f.MessageUtil.checkNoError(h);if(c===f.QueryCloneMode.BASE_STATE){q.getConvenienceCommands().resetToDefault();}}else{q=this.cloneQueryManagerBase(c);}return q;};f.QueryManager.prototype.cloneQueryManagerBase=function(c){this.assertLifeCycleActive();var q=this.newObject();q.setupClone(this,c,null);return q;};f.QueryManager.prototype.newObject=f.noSupport;f.QueryManager.prototype.cloneQueryManagerOptimized=function(n){var q=this.getQueryModelBase();var u=f.XHashSetOfString.create();var d=f.XHashSetOfString.create();d.addAll(n);d.add(q.getMeasureDimension().getName());this.setDimensionsRequestedFromClient(d);u.addAll(n);f.DimensionUsageAnalyzer2.addDimensionsUsedByVariables(q,u);f.DimensionUsageAnalyzer2.addDimensionsUsedInFilters(q,u);f.DimensionUsageAnalyzer2.addDimensionsUsedInUniversalDisplayHierarchies(q,u);f.DimensionUsageAnalyzer2.addDimensionsUsedByLeveledHierarchies(q,u);f.DimensionUsageAnalyzer2.addDimensionsUsedInExceptions(q,u);f.DimensionUsageAnalyzer2.addDimensionsUsedInConditions(q,u);u.add(this.getQueryModel().getMeasureDimension().getName());this.setDimensionsToClone(u);var c=this.cloneQueryManagerBase(f.QueryCloneMode.CURRENT_STATE);var a=c.getQueryServiceConfig();a.setRequiredDimensions(f.XListOfString.createFromReadOnlyList(u.getValuesAsReadOnlyListOfString()));a.setSupportsDimensionLazyLoad(false);this.getDimensionsToClone().clear();this.getDimensionsRequestedFromClient().clear();return c;};f.QueryManager.prototype.setupQueryModel=function(){var c=this.getCapabilitiesBase();this.m_queryModel=f.QueryModel.create(this.getOlapEnv(),this,c);if(this.isLightweightSearch()){this.m_queryModel.getModelCapabilitiesBase().setSupportsComplexFilter(true);}var d=this.getDataSource();if(f.notNull(d)){this.m_queryModel.getModelCapabilitiesBase().setSupportsExtendedVariableDefinition(this.supportsAndAllowsEmptyExtendedVarDefinition());this.m_queryModel.getDataSourceBase().copyFrom(d,null);}return this.m_queryModel;};f.QueryManager.prototype.invalidateState=function(){if(this._createPlanningManager()){this.m_planningManager.setPublicVersionEditPossible(false);}if(this.getMode()===f.QueryManagerMode.RAW_QUERY){this.getResultsetContainer(true);}else{this.m_queryModel.notifyNodeChanged();}};f.QueryManager.prototype.lazyLoadMetadataModel=function(){if(f.isNull(this.m_metadataModel)){this.m_metadataModel=f.QMetadataModel.create(this.m_queryModel);}};f.QueryManager.prototype.getMetadataModelBase=function(){this.lazyLoadMetadataModel();return this.m_metadataModel;};f.QueryManager.prototype.getMetadataModel=function(){this.lazyLoadMetadataModel();return this.m_metadataModel;};f.QueryManager.prototype.processQueryExecution=function(s,l,c){this.checkRootNodeFetching();this.maintainStateForRsWithAutoSubmit(null);if(f.notNull(this.m_lovManager)&&this.m_lovManager.isLovAbstractionEnabled()&&this.getActiveResultSetContainer().getSyncState().isNotInSync()){var a=this.m_lovManager.createConfigForActiveResultSetContainer(this.getActiveResultSetContainer());if(a.isValid()){return this.m_lovManager.processListOfValuesByConfig(a,s,l,c);}f.XObjectExt.release(a);}return this.processQueryExecutionInternal(s,l,c,this.getMode()===f.QueryManagerMode.BLENDING);};f.QueryManager.prototype.checkRootNodeFetching=function(){var d=this.getDrillManager();if(f.notNull(d)){d.checkRootNodeFetching();}};f.QueryManager.prototype.maintainStateForRsWithAutoSubmit=function(r){if(f.notNull(this.m_queryModel)&&this.getModelCapabilities().supportsAutoVariableSubmit()){this.m_queryModel.setIsMetadataUpdatedByAutoSubmit(false);}var v=this.getVariableProcessorState();if(this.isAutoVariableSubmitActive()&&v!==f.VariableProcessorState.PROCESSING_AUTO_SUBMIT&&v!==f.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT){if(v!==f.VariableProcessorState.SUBMITTED&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())){if(v===f.VariableProcessorState.CHANGEABLE_REINIT){var a=f.notNull(r)?r:this.getActiveResultSetContainer();if(a.getSyncState().isInSync()){this.getResultsetContainer(true);}}if(v!==f.VariableProcessorState.VALUE_HELP){var d=this.getDimensionMemberVariables();for(var i=0;i<d.size();i++){var b=d.get(i);b.maintainFilterStateForAutoSubmit();var c=b.getVariableType();if(c===f.VariableType.HIERARCHY_NAME_VARIABLE){var h=b.getHierarchyNameDimension();var e=h.getHierarchyNameVariableName();if(f.XString.isEqual(b.getName(),e)&&h.useHierarchyNameVariable()&&b.isWinControlInAutoSubmit()){h.setHierarchy(null);}}}var n=v===f.VariableProcessorState.CHANGEABLE_REINIT?f.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT:f.VariableProcessorState.PROCESSING_AUTO_SUBMIT;this.setVariableProcessorState(n);}}}};f.QueryManager.prototype.processQueryExecutionAsBlendingSource=function(s,p,l,c){this.setResultSetPersistenceTargetType(p);return this.processQueryExecutionInternal(s,l,c,true);};f.QueryManager.prototype.processQueryExecutionAsRemotePreQuery=function(s,l,c){this.getActiveResultSetContainerBase().setIsRemotePreQuery(true);return this.processQueryExecutionInternal(s,l,c,true);};f.QueryManager.prototype.processQueryExecutionAsLovProcess=function(l,s,a,c){var b=this.getLovManager();if(l.isUseActiveResultSetContainer()){return this.processQueryExecutionInternal(s,a,c,false);}var d=this.m_activeContainer;this.m_activeContainer=f.ResultSetContainer.create(this,d);this.m_activeContainer.setLovConfig(l);b.setKeyFigureCalculation(this.m_activeContainer,l);var r=this.processQueryExecutionInternal(s,a,c,false);this.m_activeContainer=d;return r;};f.QueryManager.prototype.processQueryExecutionInternal=function(s,l,c,i){this.assertLifeCycleActive();if(s===f.SyncType.REGISTER){this.m_queryExecutedListener.put(l,f.XPair.create(l,c));this.getActiveResultSetContainerBase().attachListener(l,f.ListenerType.SPECIFIC,c);return null;}else if(s===f.SyncType.UNREGISTER){this.m_queryExecutedListener.remove(l);return null;}if(this.getOlapEnv()!==null&&this.getOlapEnv().getFilterManager()!==null){var v=this.getVariableProcessorState();this.getOlapEnv().getFilterManager().cleanupFilterBeforeAutoSubmit(this,v===f.VariableProcessorState.PROCESSING_SUBMIT||v===f.VariableProcessorState.PROCESSING_AUTO_SUBMIT||v===f.VariableProcessorState.CHANGEABLE_STARTUP);}var m=this.initializeMainSequence(s,l,c);if(this.variablesRequireImplicitSubmit()){this.getActiveResultSetContainerBase().attachAllListeners(this.m_queryExecutedListener.getValuesAsReadOnlyList());return this.processSequenceWithMainSequence(m,f.QueryManagerProcessingSequence.createSequence(this,this.getActiveResultSetContainer(),true,false),s,l,c);}this.prepareAfterVariables();this.getActiveResultSetContainerBase().attachAllListeners(this.m_queryExecutedListener.getValuesAsReadOnlyList());if(!this.getActiveResultSetContainer().areAllPrequeriesInSync()||this.getPreQueryName()!==null||f.notNull(this.m_queryModel)&&this.m_queryModel.isBasedOnMicroCube()||i&&this.getActiveResultSetContainer().getSyncState().isTypeOf(f.SyncState.PROCESSING)){this.getResultsetContainer(true);}if(!i&&this.getResultSetPersistenceIdentifier()!==null){this.cleanPersistencySettings();}if(this.getModelCapabilities().supportsCustomHierarchy()){return this.processSequenceWithMainSequence(m,f.QueryManagerProcessingSequence.createSequence(this,this.getActiveResultSetContainer(),false,false),s,l,c);}if(f.isNull(m)){return this.getActiveResultSetContainerBase().processExecution(s,l,c);}else{m.setMainAction(f.ResultSetContainerProcessExecutionAction.createAction(this.getActiveResultSetContainer()));return m.processSyncAction(s,l,c);}};f.QueryManager.prototype.initializeMainSequence=function(s,l,c){var t=this.getTransientFilterActions(s);var m=null;if(t.size()>0){m=f.SyncActionSequence.create(s,l,c,this);for(var i=0;i<t.size();i++){m.addAction(t.get(i));}}return m;};f.QueryManager.prototype.getTransientFilterActions=function(s){var a=f.XList.create();var b=f.QFilterUtil.collectFilterAcrossModels(this.getQueryModel());for(var i=0;i<b.size();i++){var c=b.get(i).processLovQueriesExecution(this.getQueryModel(),s,null,null);if(f.notNull(c)){a.add(c);}}return a;};f.QueryManager.prototype.processSequenceWithMainSequence=function(m,s,a,l,c){if(f.isNull(m)){return s.processSyncAction(a,l,c);}else{m.setMainAction(s);return m.processSyncAction(a,l,c);}};f.QueryManager.prototype.retriggerQueryExecutionWithCustomHierarchies=function(s,l,c,r){f.QueryManagerProcessingSequence.createSequence(this,r,false,true).processSyncAction(s,l,c);};f.QueryManager.prototype.cleanPersistencySettings=function(){this.setResultSetPersistenceIdentifier(null);this.setResultSetPersistanceTargetSchema(null);this.setResultSetPersistanceTargetTable(null);this.getActiveResultSetContainerBase().setSerializedData(null,null);};f.QueryManager.prototype.getResultsetContainer=function(e){if(f.isNull(this.m_activeContainer)||this.m_activeContainer.isReleased()||e&&this.m_activeContainer.getSyncState()!==f.SyncState.OUT_OF_SYNC){var o=this.m_activeContainer;this.m_activeContainer=f.ResultSetContainer.create(this,this.m_activeContainer);if(f.notNull(o)){o.setSerializedData(null,null);}}return this.m_activeContainer;};f.QueryManager.prototype.getClassicResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getClassicResultSet();};f.QueryManager.prototype.isClassicResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isClassicResultSetAvailable();};f.QueryManager.prototype.getCursorResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getCursorResultSet();};f.QueryManager.prototype.getAbstractRendering=function(t,p){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getAbstractRendering(t,p);};f.QueryManager.prototype.isCursorResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isCursorResultSetAvailable();};f.QueryManager.prototype.setOffsetRows=function(o){if(this.getResultsetContainer(false).getOffsetRows()!==o){this.getResultsetContainer(true).setOffsetRows(o);}return null;};f.QueryManager.prototype.getOffsetRows=function(){return this.getResultsetContainer(false).getOffsetRows();};f.QueryManager.prototype.setOffsetColumns=function(o){if(this.getResultsetContainer(false).getOffsetColumns()!==o){this.getResultsetContainer(true).setOffsetColumns(o);}return null;};f.QueryManager.prototype.getOffsetColumns=function(){return this.getResultsetContainer(false).getOffsetColumns();};f.QueryManager.prototype.setSuppressKeyfigureCalculation=function(d){if(this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()!==d){this.getResultsetContainer(true).setSuppressKeyfigureCalculation(d);}return null;};f.QueryManager.prototype.isKeyfigureCalculationSuppressed=function(){return this.getResultsetContainer(false).isKeyfigureCalculationSuppressed();};f.QueryManager.prototype.setMaxRows=function(m){if(this.getResultsetContainer(false).getMaxRows()!==m){this.getResultsetContainer(true).setMaxRows(m);}return null;};f.QueryManager.prototype.getMaxRows=function(){return this.getResultsetContainer(false).getMaxRows();};f.QueryManager.prototype.setMaxColumns=function(m){if(this.getResultsetContainer(false).getMaxColumns()!==m){this.getResultsetContainer(true).setMaxColumns(m);}return null;};f.QueryManager.prototype.getMaxColumns=function(){return this.getResultsetContainer(false).getMaxColumns();};f.QueryManager.prototype.getMaxResultRecords=function(){return this.getResultsetContainer(false).getMaxResultRecords();};f.QueryManager.prototype.setMaxResultRecords=function(m){if(this.getResultsetContainer(false).getMaxResultRecords()!==m){this.getResultsetContainer(true).setMaxResultRecords(m);}return null;};f.QueryManager.prototype.resetMaxResultRecords=function(){this.getResultsetContainer(true).resetMaxResultRecords();return null;};f.QueryManager.prototype.setResultSetPersistanceTargetSchema=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceSchema();if(!f.XString.isEqual(c,r)){this.getResultsetContainer(true).setResultSetPersistanceTargetSchema(r);}return null;};f.QueryManager.prototype.setResultSetPersistanceTargetTable=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceTable();if(!f.XString.isEqual(c,r)){this.getResultsetContainer(true).setResultSetPersistanceTargetTable(r);}return null;};f.QueryManager.prototype.setResultSetPersistenceTargetType=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceType();if(c!==r){this.getResultsetContainer(true).setResultSetPersistenceTargetType(r);}return null;};f.QueryManager.prototype.setResultSetPersistenceIdentifier=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceIdentifier();if(!f.XString.isEqual(c,r)){this.getResultsetContainer(true).setResultSetPersistenceIdentifier(r);}return null;};f.QueryManager.prototype.getResultSetPersistenceSchema=function(){return this.getResultsetContainer(false).getResultSetPersistenceSchema();};f.QueryManager.prototype.getResultSetPersistenceTable=function(){return this.getResultsetContainer(false).getResultSetPersistenceTable();};f.QueryManager.prototype.getResultSetPersistenceType=function(){return this.getResultsetContainer(false).getResultSetPersistenceType();};f.QueryManager.prototype.getResultSetPersistenceIdentifier=function(){return this.getResultsetContainer(false).getResultSetPersistenceIdentifier();};f.QueryManager.prototype.setExecuteRequestOnOldResultSet=function(e){if(this.getResultsetContainer(false).getExecuteRequestOnOldResultSet()!==e){this.getResultsetContainer(true).setExecuteRequestOnOldResultSet(e);}return null;};f.QueryManager.prototype.isResultSetTransportEnabled=function(){return this.getResultsetContainer(false).isResultSetTransportEnabled();};f.QueryManager.prototype.setResultSetTransportEnabled=function(i){if(this.getResultsetContainer(false).isResultSetTransportEnabled()!==i){this.getResultsetContainer(true).setResultSetTransportEnabled(i);}return null;};f.QueryManager.prototype.setDataRefreshEnabled=function(d){if(this.getResultsetContainer(false).getDataRefreshEnabled()!==d){this.getResultsetContainer(true).setDataRefreshEnabled(d);}};f.QueryManager.prototype.getDataRefreshEnabled=function(){return this.getResultsetContainer(false).getDataRefreshEnabled();};f.QueryManager.prototype.getExecuteRequestOnOldResultSet=function(){return this.getActiveResultSetContainer().getExecuteRequestOnOldResultSet();};f.QueryManager.prototype.getActiveResultSetContainer=function(){return this.getResultsetContainer(false);};f.QueryManager.prototype.getActiveResultSetContainerBase=function(){return this.getResultsetContainer(false);};f.QueryManager.prototype.setActiveResultSetContainer=function(a){this.m_activeContainer=a;};f.QueryManager.prototype.getResultSetSyncState=function(){return this.getActiveResultSetContainer().getResultSetSyncState();};f.QueryManager.prototype.getResultSetMessages=function(){return this.getActiveResultSetContainer();};f.QueryManager.prototype.getQueryServiceConfig=function(){return this.getServiceConfig();};f.QueryManager.prototype.getSystemDescription=function(){if(f.isNull(this.m_systemDescription)){var i=this.getInitSettings();var s=i.getSystemDescription();this.m_systemDescription=f.XWeakReferenceUtil.getWeakRef(s);}return f.XWeakReferenceUtil.getHardRef(this.m_systemDescription);};f.QueryManager.prototype.setSystemDescription=function(s){this.m_systemDescription=f.XWeakReferenceUtil.getWeakRef(s);};f.QueryManager.prototype.isDataSourceInitial=function(){return f.isNull(this.m_dataSource)||this.m_dataSource.getType()===null;};f.QueryManager.prototype.getDataSourceOrigin=function(){return this.getDataSource();};f.QueryManager.prototype.getDataSourceTarget=function(){return this.getDataSource();};f.QueryManager.prototype.getDataSource=function(){return this.m_dataSource;};f.QueryManager.prototype.setDataSource=function(d){this.m_dataSource=d;};f.QueryManager.prototype.getMode=function(){if(f.isNull(this.m_mode)){this.m_mode=this.getInitSettings().getMode();}return this.m_mode;};f.QueryManager.prototype.setMode=function(m){this.m_mode=m;};f.QueryManager.prototype.getInstanceId=function(){return this.getInitSettings().getInstanceId();};f.QueryManager.prototype.getProviderType=function(){return this.getInitSettings().getProviderType();};f.QueryManager.prototype.getDefinition=function(){return this.getInitSettings().getDefinition();};f.QueryManager.prototype.getInitSettings=function(){return this.getServiceConfig();};f.QueryManager.prototype.getSettingsBase=function(){return this.getServiceConfig();};f.QueryManager.prototype.getOlapEnvironmentBase=function(){var a=this.getApplication();return f.isNull(a)?null:a.getOlapEnvironment();};f.QueryManager.prototype.getTagging=function(){return this.getServiceConfig().getTagging();};f.QueryManager.prototype.getSelectionTagging=function(){return null;};f.QueryManager.prototype.enableReturnedDataSelection=function(d){if(this.supportsReturnedDataSelection()){if(d===f.ReturnedDataSelection.INPUT_READINESS_STATES){if(!this.supportsInputReadinessStates()){return;}}var n=d.getName();this.m_activeReturnedDataSelections.add(n);this.m_inactiveReturnedDataSelections.removeElement(n);this.m_queryModel.notifyNodeChanged();}};f.QueryManager.prototype.getAllEnabledReturnedDataSelections=function(){return this.supportsReturnedDataSelection()?this.m_activeReturnedDataSelections.getValuesAsReadOnlyListOfString():null;};f.QueryManager.prototype.clearDataSelections=function(){this.m_activeReturnedDataSelections.clear();this.m_inactiveReturnedDataSelections.clear();};f.QueryManager.prototype.disableReturnedDataSelection=function(d){if(this.supportsReturnedDataSelection()){if(d===f.ReturnedDataSelection.INPUT_READINESS_STATES){if(!this.supportsInputReadinessStates()){return;}}var n=d.getName();this.m_inactiveReturnedDataSelections.add(n);this.m_activeReturnedDataSelections.removeElement(n);this.m_queryModel.notifyNodeChanged();}};f.QueryManager.prototype.getAllDisabledReturnedDataSelections=function(){return!this.supportsReturnedDataSelection()?null:this.m_inactiveReturnedDataSelections.getValuesAsReadOnlyListOfString();};f.QueryManager.prototype.supportsBatchRsStreaming=function(){return this.getCapabilitiesBase().supportsBatchRsStreaming();};f.QueryManager.prototype.supportsBatchBlendingRsStreaming=function(){return this.getCapabilitiesBase().supportsBatchBlendingRsStreaming();};f.QueryManager.prototype.supportsDirectVariableTransfer=function(){return this.getCapabilitiesBase().supportsDirectVariableTransfer();};f.QueryManager.prototype.supportsCheckVariables=function(){return this.getCapabilitiesBase().supportsCheckVariables();};f.QueryManager.prototype.supportsReInitVariables=function(){return this.getCapabilitiesBase().supportsReInitVariables();};f.QueryManager.prototype.supportsVariableMasking=function(){return this.getCapabilitiesBase().supportsVariableMasking();};f.QueryManager.prototype.supportsReturnedDataSelection=function(){return this.getCapabilitiesBase().supportsReturnedDataSelection();};f.QueryManager.prototype.supportsInputReadinessStates=function(){return this.getCapabilitiesBase().supportsInputReadinessStates();};f.QueryManager.prototype.supportsShutdown=function(){return this.getCapabilitiesBase().supportsShutdown();};f.QueryManager.prototype.supportsServerState=function(){return this.getCapabilitiesBase().supportsServerState();};f.QueryManager.prototype.supportsAnalyticCapability=function(c){if(f.XStringUtils.isNullOrEmpty(c)){return false;}var a=this.getConnection();if(f.isNull(a)){return false;}if(this.getSession().hasFeature(f.FeatureToggleOlap.SERVER_METADATA_VIA_SYSTEM_CONNECT)){return a.getSystemConnect().getServerMetadata().supportsAnalyticCapability(c);}return a.getServerMetadata().supportsAnalyticCapability(c);};f.QueryManager.prototype.supportsMaintainsVariableVariants=function(){return this.getCapabilitiesBase().supportsMaintainsVariableVariants();};f.QueryManager.prototype.registerChangedListener=f.noSupport;f.QueryManager.prototype.unregisterChangedListener=f.noSupport;f.QueryManager.prototype.hasChangedValues=function(){return this.getPlanningManager().hasChangedValues();};f.QueryManager.prototype.hasChangedValueLocks=function(){return this.getPlanningManager().hasChangedValueLocks();};f.QueryManager.prototype.hasChangedCells=function(){return this.getPlanningManager().hasChangedCells();};f.QueryManager.prototype.transferNewValues=function(){this.getPlanningManager().transferNewValues();};f.QueryManager.prototype.resetNewValues=function(){this.getPlanningManager().resetNewValues();};f.QueryManager.prototype.hasNewValues=function(){return this.getPlanningManager().hasNewValues();};f.QueryManager.prototype.setDataEntryReadOnly=function(d){this.getPlanningManager().setDataEntryReadOnly(d);};f.QueryManager.prototype.isDataEntryReadOnly=function(){return this.getPlanningManager().isDataEntryReadOnly();};f.QueryManager.prototype.setDataEntryEnabled=function(d){this.getPlanningManager().setDataEntryEnabled(d);};f.QueryManager.prototype.isDataEntryEnabled=function(){return this.getPlanningManager().isDataEntryEnabled();};f.QueryManager.prototype.initializeDataAreaState=function(){return this.getPlanningManager().initializeDataAreaState();};f.QueryManager.prototype.getPlanningModel=function(){return this.getPlanningManager().getPlanningModel();};f.QueryManager.prototype.getDataArea=function(){return this.getPlanningManager().getDataArea();};f.QueryManager.prototype.isPublicVersionEditPossible=function(){return this.getPlanningManager().isPublicVersionEditPossible();};f.QueryManager.prototype.setPublicVersionEditPossible=function(p){this.getPlanningManager().setPublicVersionEditPossible(p);};f.QueryManager.prototype.setVersionAliasById=function(a,v){this.getPlanningManager().setVersionAliasById(a,v);};f.QueryManager.prototype.removeVersionAlias=function(a){this.getPlanningManager().removeVersionAlias(a);};f.QueryManager.prototype.clearVersionAliases=function(){this.getPlanningManager().clearVersionAliases();};f.QueryManager.prototype.getVersionAliases=function(){return this.getPlanningManager().getVersionAliases();};f.QueryManager.prototype.getPlanningVersionIdentifier=function(v,s,a){return this.getPlanningManager().getPlanningVersionIdentifier(v,s,a);};f.QueryManager.prototype.getPlanningVersionSettings=function(v,s,u){return this.getPlanningManager().getPlanningVersionSettings(v,s,u);};f.QueryManager.prototype.getPlanningVersionSettingsSimple=function(v,s,u){return this.getPlanningManager().getPlanningVersionSettingsSimple(v,s,u);};f.QueryManager.prototype.addPlanningVersionSettings=function(s){return this.getPlanningManager().addPlanningVersionSettings(s);};f.QueryManager.prototype.deletePlanningVersionSettings=function(v){return this.getPlanningManager().deletePlanningVersionSettings(v);};f.QueryManager.prototype.getAllPlanningVersionSettings=function(){return this.getPlanningManager().getAllPlanningVersionSettings();};f.QueryManager.prototype.setPlanningVersionSettingsMode=function(s){this.getPlanningManager().setPlanningVersionSettingsMode(s);};f.QueryManager.prototype.getPlanningVersionSettingsMode=function(){return this.getPlanningManager().getPlanningVersionSettingsMode();};f.QueryManager.prototype.getPlanningMode=function(){return this.getPlanningManager().getPlanningMode();};f.QueryManager.prototype.setPlanningMode=function(p){this.getPlanningManager().setPlanningMode(p);};f.QueryManager.prototype.getPlanningRestriction=function(){return this.getPlanningManager().getPlanningRestriction();};f.QueryManager.prototype.setPlanningRestriction=function(r){this.getPlanningManager().setPlanningRestriction(r);};f.QueryManager.prototype.supportsDataEntryReadOnly=function(){return this.getPlanningManager().supportsDataEntryReadOnly();};f.QueryManager.prototype._createPlanningManager=function(){return this.getPlanningManager()!==null;};f.QueryManager.prototype.getPlanningManager=function(){if(f.isNull(this.m_planningManager)){this.m_planningManager=f.PlanningFactory.createPlanningManager(this);}return this.m_planningManager;};f.QueryManager.prototype.getContext=function(){return this;};f.QueryManager.prototype.getOlapEnv=function(){var a=this.getApplication();return f.isNull(a)?null:a.getOlapEnvironment();};f.QueryManager.prototype.getOlapSystemContainer=function(){var s=this.getSystemName();return this.getOlapEnv().getSystemContainer(s);};f.QueryManager.prototype.getQueryManager=function(){return this;};f.QueryManager.prototype.getQueryModel=function(){return this.m_queryModel;};f.QueryManager.prototype.getQueryModelBase=function(){return this.m_queryModel;};f.QueryManager.prototype.getConvenienceCommands=function(){if(f.isNull(this.m_convenienceCmds)){this.m_convenienceCmds=this.getOlapEnv().selectCmds(this);}return this.m_convenienceCmds;};f.QueryManager.prototype.getModelCapabilities=function(){this.assertLifeCycleActive();if(f.isNull(this.m_queryModel)){return this.getOlapSystemContainer().getServiceCapabilitiesExt(this.getProviderType());}return this.m_queryModel.getModelCapabilities();};f.QueryManager.prototype.getFieldAccessorSingle=function(){this.assertLifeCycleActive();return f.isNull(this.m_queryModel)?null:this.m_queryModel.getFieldAccessorSingle();};f.QueryManager.prototype.getDimensionAccessor=function(){this.assertLifeCycleActive();return f.isNull(this.m_queryModel)?null:this.m_queryModel.getDimensionAccessor();};f.QueryManager.prototype.getDrillManager=function(){this.assertLifeCycleActive();return f.isNull(this.m_queryModel)?null:this.m_queryModel.getDrillManager();};f.QueryManager.prototype.isSystemMappingValid=function(r){return this.getSystemDescription().isSystemMappingValid(r.getSystemDescription());};f.QueryManager.prototype.prepareAfterVariables=function(){if(!this.m_hasPreparedAfterVariables){var s=this.getVariableProcessorState();var h=this.hasVariables();if(!h||s===f.VariableProcessorState.SUBMITTED||s===f.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER){var i=this.getInitSettings();var d=i.getDefinitionType();var a=i.getDefinitionAsStructure();if(f.notNull(d)&&f.notNull(a)){var p=f.QueryPreparatorFactory.newInstance(d);if(f.notNull(p)){p.prepareAfterVariables(this,a);}}this.m_hasPreparedAfterVariables=true;}}};f.QueryManager.prototype.resetPreparation=function(){this.m_hasPreparedAfterVariables=false;};f.QueryManager.prototype.isLightweightSearch=function(){var d=this.getDataSource();return f.notNull(d)&&d.getType()===f.MetaObjectType.CATALOG_VIEW_2;};f.QueryManager.prototype.getDimensionsToClone=function(){return this.m_dimensionsToClone;};f.QueryManager.prototype.setDimensionsToClone=function(d){this.m_dimensionsToClone=d;};f.QueryManager.prototype.getDimensionsRequestedFromClient=function(){return this.m_dimensionsRequestedFromClient;};f.QueryManager.prototype.setDimensionsRequestedFromClient=function(d){this.m_dimensionsRequestedFromClient=d;};f.QueryManager.prototype.getPreQueryExecutor=function(){if(f.isNull(this.m_preQueryExecutor)){this.m_preQueryExecutor=f.PreQueryExecutor.create(this);}return this.m_preQueryExecutor;};f.QueryManager.prototype.enableHierarchyToUDHConversion=function(e){if(this.getSystemType().isTypeOf(f.SystemType.BW)&&this.getModelCapabilities().supportsUniversalDisplayHierarchiesCustomDimensions()){this.m_enableHierarchyToUDHConversion=e;this.invalidateState();}};f.QueryManager.prototype.isHierarchyToUDHConversionEnabled=function(){return this.m_enableHierarchyToUDHConversion;};f.QueryManager.prototype.isHierarchyToUDHConversionEnabledForCurrentRs=function(){return this.getActiveResultSetContainer().isHierarchyToUDHConversionEnabled();};f.QueryManager.prototype.setNameForMicroCubeUse=function(n){var o=this.getOlapEnv();var i=o.addMicroCube(this.getSystemName(),n,this);f.XBooleanUtils.checkTrue(i,f.XStringUtils.concatenate2("MicroCube's name is not valid or already exists: ",n));this.m_myNameAsMicroCube=n;};f.QueryManager.prototype.getNameForMicroCubeUse=function(){return this.m_myNameAsMicroCube;};f.QueryManager.prototype.getKeyRefStorage=f.noSupport;f.QueryManager.prototype.setSuppressCalculatedMembersWithoutBookedData=function(s){this.getResultsetContainer(true).setSuppressCalculatedMembersWithoutBookedData(s);};f.QueryManager.prototype.getSuppressCalculatedMembersWithoutBookedData=function(){return this.getResultsetContainer(false).getSuppressCalculatedMembersWithoutBookedData();};f.QueryManager.prototype.setRequestPerformanceData=function(r){if(this.getSystemType().isTypeOf(f.SystemType.HANA)){this.m_includePerformanceData=f.TriStateBool.lookup(r);}};f.QueryManager.prototype.isRequestingPerformanceData=function(){return this.m_includePerformanceData.getBoolean()===true;};f.QueryManager.prototype.getIncludePerformanceData=function(){return this.m_includePerformanceData;};f.QueryManager.prototype.assertLifeCycleActive=function(){if(this.m_lifeCycleState!==f.LifeCycleState.ACTIVE&&this.m_lifeCycleState!==f.LifeCycleState.STARTING_UP){throw f.XException.createIllegalStateException("Query manager is not active");}};f.QueryManager.prototype.getLifeCycleState=function(){return this.m_lifeCycleState;};f.QueryManager.prototype.setLifeCycleState=function(d){if(d===f.LifeCycleState.TERMINATED&&this.m_lifeCycleState===f.LifeCycleState.RELEASED){return;}if(d.getCode()<this.m_lifeCycleState.getCode()){var b=f.XStringBuffer.create();b.append("QueryManager: cannot change lifeCycle from ");b.append(this.m_lifeCycleState.getName()).append(" to ");b.append(d.getName());throw f.XException.createIllegalStateException(b.toString());}this.m_lifeCycleState=d;};f.QueryManager.prototype.queueEventing=function(){this.assertLifeCycleActive();if(f.notNull(this.m_queryModel)){this.m_queryModel.queueEventing();}};f.QueryManager.prototype.stopEventing=function(){this.assertLifeCycleActive();if(f.notNull(this.m_queryModel)){this.m_queryModel.stopEventing();}};f.QueryManager.prototype.isEventingStopped=function(){this.assertLifeCycleActive();return f.notNull(this.m_queryModel)&&this.m_queryModel.isEventingStopped();};f.QueryManager.prototype.resumeEventing=function(){this.assertLifeCycleActive();if(f.notNull(this.m_queryModel)){this.m_queryModel.resumeEventing();}};f.QueryManager.prototype.onModelChange=function(p){if(p===f.QDeltaBroadcastPhase.BEFORE_EVENTS_BROADCAST&&!this.getVariableProcessorState().isTypeOf(f.VariableProcessorState.PROCESSING_SUBMIT)){this.getResultsetContainer(true);}};f.QueryManager.prototype.processCancel=function(s){this.getQueryManagerProvider().processProviderCancelThreads(s,null,null);};f.QueryManager.prototype.processClearCache=function(s,t){this.getQueryManagerProvider().processProviderClearCache(s,null,null,t);};f.QueryManager.prototype.processShutdown=function(s,l,c){return f.QmShutdownAction.createAndRun(s,l,c,this);};f.QueryManager.prototype.getVariableProcessor=function(){return this;};f.QueryManager.prototype.hasVariables=function(){this.assertLifeCycleActive();return f.notNull(this.m_queryModel)&&this.m_queryModel.hasVariables();};f.QueryManager.prototype.hasInputEnabledVariables=function(){this.assertLifeCycleActive();return f.notNull(this.m_queryModel)&&this.m_queryModel.hasInputEnabledVariables();};f.QueryManager.prototype.clearExternalVariablesRepresentations=function(){this.assertLifeCycleActive();this.m_queryModel.clearExternalVariablesRepresentations();};f.QueryManager.prototype.hasMandatoryVariables=function(){this.assertLifeCycleActive();return f.notNull(this.m_queryModel)&&this.m_queryModel.hasMandatoryVariables();};f.QueryManager.prototype.getVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getVariables();};f.QueryManager.prototype.getInputEnabledVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getInputEnabledVariables();};f.QueryManager.prototype.getInputEnabledAndNonTechnicalVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getInputEnabledAndNonTechnicalVariables();};f.QueryManager.prototype.getVariable=function(n){this.assertLifeCycleActive();var v=this.m_queryModel.getVariableManagerBase();return v.getVariableBaseByName(n);};f.QueryManager.prototype.setWinControlInAutoSubmitByType=function(v,i,a){this.assertLifeCycleActive();this.m_queryModel.setWinControlInAutoSubmitByType(v,i,a);};f.QueryManager.prototype.getPreviousVariableProcessorState=function(){return this.m_variableProcessorPreviousState;};f.QueryManager.prototype.registerVariableProcessorStateChangedListener=function(l,c){if(f.notNull(l)){if(f.isNull(this.m_processorStateListeners)){this.m_processorStateListeners=f.XList.create();}this.m_processorStateListeners.add(f.ListenerPair.create(l,c));}};f.QueryManager.prototype.unregisterVariableProcessorStateChangedListener=function(l){if(f.notNull(this.m_processorStateListeners)){for(var i=0;i<this.m_processorStateListeners.size();){var a=this.m_processorStateListeners.get(i);if(a.getListener()===l){this.m_processorStateListeners.removeAt(i);}else{i++;}}}};f.QueryManager.prototype.setVariableProcessorState=function(v){if(v===f.VariableProcessorState.VALUE_HELP){this.m_variableProcessorPreviousState=v;this.m_variableProcessorState=v;}else{if(this.m_variableProcessorState!==v){this.m_variableProcessorPreviousState=this.m_variableProcessorState;this.m_variableProcessorState=v;if(f.notNull(this.m_processorStateListeners)){var p=this.m_processorStateListeners.size();for(var i=0;i<p;i++){var l=this.m_processorStateListeners.get(i);var a=l.getListener();a.onVariableProcessorStateChanged(this,l.getCustomIdentifier());}}}}};f.QueryManager.prototype.getVariableProcessorState=function(){return this.m_variableProcessorState;};f.QueryManager.prototype.isSubmitNeeded=function(){return this.getVariableProcessorState().isSubmitNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition());};f.QueryManager.prototype.isReinitNeeded=function(){return this.getVariableProcessorState().isReinitNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition());};f.QueryManager.prototype.isCancelNeeded=function(){return this.getVariableProcessorState().isCancelNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition());};f.QueryManager.prototype.isSubmitted=function(){return this.m_variableProcessorState.isTypeOf(f.VariableProcessorState.SUBMITTED);};f.QueryManager.prototype.returnToPreviousProcessorState=function(){if(this.m_variableProcessorPreviousState===f.VariableProcessorState.PROCESSING_REINIT){this.m_variableProcessorPreviousState=f.VariableProcessorState.CHANGEABLE_REINIT;}else if(this.m_variableProcessorPreviousState===f.VariableProcessorState.PROCESSING_SUBMIT||this.m_variableProcessorPreviousState===f.VariableProcessorState.PROCESSING_SUBMIT_AFTER_REINIT||this.m_variableProcessorPreviousState===f.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.m_variableProcessorPreviousState===f.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT){this.m_variableProcessorPreviousState=f.VariableProcessorState.SUBMITTED;}if(this.m_variableProcessorPreviousState!==f.VariableProcessorState.CHANGEABLE_REINIT&&this.m_variableProcessorPreviousState!==f.VariableProcessorState.CHANGEABLE_STARTUP&&this.m_variableProcessorPreviousState!==f.VariableProcessorState.SUBMITTED&&this.m_variableProcessorPreviousState!==f.VariableProcessorState.SUBMIT_FAILED&&this.m_variableProcessorPreviousState!==f.VariableProcessorState.VALUE_HELP&&this.m_variableProcessorPreviousState!==f.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION&&this.m_variableProcessorPreviousState!==f.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER){f.XObjectExt.assertNotNullExt(this.m_variableProcessorPreviousState,"Not allowed to return to previous state: [null]");throw f.XException.createIllegalStateException(f.XStringUtils.concatenate2("Not allowed to return to previous state: ",this.m_variableProcessorPreviousState.getName()));}var t=this.m_variableProcessorPreviousState;this.setVariableProcessorState(t);this.m_variableProcessorPreviousState=null;};f.QueryManager.prototype.getVariableContainer=function(){return this.getVariableContainerBase();};f.QueryManager.prototype.getVariableContainerBase=function(){return f.isNull(this.m_queryModel)?null:this.m_queryModel.getVariableManagerBase();};f.QueryManager.prototype.reInitVariablesAfterSubmit=function(s,l,c){return this.getVariableProcessorProvider().processReInitVariableAfterSubmit(s,l,c);};f.QueryManager.prototype.submitVariables=function(s,l,c){return this.getVariableProcessorProvider().processVariableSubmit(s,l,c);};f.QueryManager.prototype.cancelReInitVariables=function(s,l,c){return this.getVariableProcessorProvider().processVariableCancel(s,l,c);};f.QueryManager.prototype.isDirectVariableTransferEnabled=function(){return this.m_directVariableTransferConsumer;};f.QueryManager.prototype.setDirectVariableTransferEnabled=function(d){if(this.m_directVariableTransferConsumer!==d){if(this.supportsDirectVariableTransfer()){this.m_directVariableTransferConsumer=d;this.getVariableProcessorProvider().setDirectVariableTransfer(d);this.getVariableProcessorProvider().setIsVariableSubmitNeeded(!this.m_directVariableTransferConsumer);if(f.notNull(this.m_queryModel)){this.m_queryModel.notifyNodeChanged();}if(this.m_directVariableTransferConsumer){this.setVariableProcessorState(f.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER);}else{this.setVariableProcessorState(f.VariableProcessorState.CHANGEABLE_REINIT);}}}};f.QueryManager.prototype.checkVariables=function(s,l,c){return this.getVariableProcessorProvider().processCheckVariables(s,l,c);};f.QueryManager.prototype.variablesRequireImplicitSubmit=function(){if(this.isDirectVariableTransferEnabled()){return false;}if(this.isShallow()){return false;}if(this.isAutoVariableSubmitActive()){return false;}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed();};f.QueryManager.prototype.variablesRequireSACImplicitSubmit=function(){if(this.isDirectVariableTransferEnabled()||this.isShallow()){return false;}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed();};f.QueryManager.prototype.isAutoVariableSubmitActive=function(){return f.notNull(this.m_queryModel)&&this.getModelCapabilities().supportsAutoVariableSubmit()&&this.getInitSettings().isExecuteAutoVariableSubmit();};f.QueryManager.prototype.isVariableSubmitFailed=function(){return this.m_variableProcessorState===f.VariableProcessorState.SUBMIT_FAILED;};f.QueryManager.prototype.supportsAndAllowsEmptyExtendedVarDefinition=function(){var t=this.getDataSource().getType();return this.getCapabilitiesBase().supportsExtendedVariableDefinition()&&this.getQueryServiceConfig().getMakeEmptyVariableDefinitionInsteadOfMetadata()&&(f.MetaObjectType.QUERY===t||f.MetaObjectType.DEFAULT_PLAN_QUERY===t||f.MetaObjectType.DEFAULT_REPORT_QUERY===t||f.MetaObjectType.LOCAL_QUERY===t||f.MetaObjectType.QUERY_VIEW===t);};f.QueryManager.prototype.supportsBatchBlendingRsStreamingExt=function(){var i=false;var a=this.getInitSettings();if(a.getMode()===f.QueryManagerMode.BLENDING){i=true;}else if(a.getMode()===f.QueryManagerMode.RAW_QUERY){var s=a.getDataRequest();if(f.notNull(s)&&s.containsKey("Analytics")){s=s.getStructureByKey("Analytics");if(s.containsKey("DataSource")){s=s.getStructureByKey("DataSource");if(s.containsKey("Sources")){var b=s.getListByKey("Sources");if(b.size()>0){i=true;}}}}}return i?this.supportsBatchBlendingRsStreaming():this.supportsBatchRsStreaming();};f.QueryManager.prototype.getLovManager=function(){if(f.isNull(this.m_lovManager)){this.m_lovManager=f.LovManager.create(this);}return this.m_lovManager;};f.QueryManager.prototype.hasLovManager=function(){return f.notNull(this.m_lovManager);};f.QueryManager.prototype.serialize=function(m,c){return this.serializeToStringExt(m,c);};f.QueryManager.prototype.serializeToFormat=function(m){return this.serializeToString(m);};f.QueryManager.prototype.serializeToString=function(m){var c=this.serializeToContentExt(m,null);var i=c.getJsonContent();return f.PrUtils.serialize(i,true,false,0);};f.QueryManager.prototype.serializeToStringExt=function(m,c){var a=this.serializeToContentExt(m,c);var i=a.getJsonContent();return f.PrUtils.serialize(i,true,false,0);};f.QueryManager.prototype.serializeToElement=function(m){return this.serializeToElementExt(m,null);};f.QueryManager.prototype.serializeToElementExt=function(m,c){var a=this.serializeToContentExt(m,c);var i=a.getJsonContent();return i;};f.QueryManager.prototype.serializeToContent=function(m){return this.serializeToContentExt(m,null);};f.QueryManager.prototype.serializeToContentExt=function(m,c){var e;var t=c;if(f.isNull(t)&&m.isTypeOf(f.QModelFormat.INA_DATA)){t=this.getModelCapabilities();}var a=null;if(m.isTypeOf(f.QModelFormat.INA_DATA)){a=f.QContextType.RESULT_SET;}e=f.QInAExportFactory.create(this.getApplication(),m,t,a);var b=e.exportComponent(null,this,null,f.QImExFlag.DEFAULT_ALL);var d=f.XContent.createJsonObjectContent(m,b);return d;};f.QueryManager.prototype.deserializeFromContent=function(c){return this.deserializeFromElementExt(c.getContentType(),c.getJsonContent());};f.QueryManager.prototype.isShallow=function(){var i=this.getInitSettings();var h=i.getMode()===f.QueryManagerMode.RAW_QUERY&&i.getDefinitionType()===f.QModelFormat.INA_CLONE_RENDERING;return i.getDataRequestAsString()!==null&&(this.getQueryModel()===null||h);};f.QueryManager.prototype.isBasedOnVirtualDataSource=function(){return f.XString.isEqual(this.getDataSource().getFullQualifiedName(),f.QModelConstants.UPDATE_DYN_VAR_VIRTUAL_DATASOURCE);};f.QueryManager.prototype.hasMoreColumnRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreColumnRecordsAvailable();};f.QueryManager.prototype.hasMoreRowRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreRowRecordsAvailable();};f.QueryManager.prototype.getInputEnabledVariable=function(n){return this.getVariableContainer().getInputEnabledVariable(n);};f.QueryManager.prototype.getHierarchyNodeVariable=function(n){return this.getVariableContainer().getHierarchyNodeVariable(n);};f.QueryManager.prototype.getHierarchyNameVariable=function(n){return this.getVariableContainer().getHierarchyNameVariable(n);};f.QueryManager.prototype.getHierarchyNameVariables=function(){return this.getVariableContainer().getHierarchyNameVariables();};f.QueryManager.prototype.getDimensionMemberVariables=function(){return this.getVariableContainer().getDimensionMemberVariables();};f.QueryManager.prototype.getVariableMode=function(){if(this.getVariableProcessorProvider().isDirectVariableTransfer()){return f.VariableMode.DIRECT_VALUE_TRANSFER;}return f.VariableMode.SUBMIT_AND_REINIT;};f.QueryManager.prototype.setCacheHintEnabled=function(e){this.m_cacheHintsEnabled=e;};f.QueryManager.prototype.isCacheHintEnabled=function(){return this.m_cacheHintsEnabled;};f.QueryManager.prototype.getSystemName=function(){var s=this.getSystemDescription();if(f.isNull(s)){return null;}return s.getSystemName();};f.QueryManager.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType();};f.QueryManager.prototype.setIsMetadataCached=function(i){this.m_isMetadataCached=i;};f.QueryManager.prototype.isMetadataCached=function(){return this.m_isMetadataCached;};f.QueryManager.prototype.getPreQueryName=function(){return this.m_preQueryName;};f.QueryManager.prototype.setPreQueryName=function(p){this.m_preQueryName=p;};f.QueryManager.prototype.isSuppressExitVariableValuesInRepoMode=function(){return this.m_suppressExitVariableValues;};f.QueryManager.prototype.setSuppressExitVariableValuesInRepoMode=function(s){this.m_suppressExitVariableValues=s;};f.QueryManager.prototype.getQueryManagerProvider=f.noSupport;f.QueryManager.prototype.getVariableProcessorProvider=f.noSupport;f.QueryManager.prototype.isUpdatingDataRequestCapabilities=f.noSupport;f.QueryManager.prototype.setUpdatingDataRequestCapabilities=f.noSupport;f.QueryManager.prototype.getVariableVariantByName=f.noSupport;f.QueryManager.prototype.processModelInitialization=f.noSupport;f.QueryManager.prototype.processModelInitializationAndApplyRepoState=f.noSupport;f.QueryManager.prototype.loadQueryModel=f.noSupport;f.QueryManager.prototype.getRriTargetManager=f.noSupport;f.QueryManager.prototype.cloneQueryManagerUsingExtDataSource=f.noSupport;f.QueryManager.prototype.setDeserializationStructureAsNull=f.noSupport;f.QueryManager.prototype.setNoVariableSubmitResponse=f.noSupport;f.QueryManager.prototype.processBLOB=f.noSupport;f.QueryManager.prototype.processUpdateRuntimeBlendQueryFromDependentQueries=f.noSupport;f.QueryManager.prototype.getResourcePath=f.noSupport;f.QueryManager.prototype.getResourceDetailsFromResourceIdentifier=f.noSupport;f.QueryManager.prototype.recordingStateOfQueryManager=f.noSupport;f.QueryManager.prototype.applyingStateOnQueryManager=f.noSupport;f.QueryManager.prototype.applyRSFeatureRequest=f.noSupport;f.QueryManager.prototype.setClientQueryObjectMigrationStorageName=function(s){this.m_clientQueryObjectStorageName=s;};f.QueryManager.prototype.getClientQueryObjectMigrationStorageName=function(){return this.m_clientQueryObjectStorageName;};f.QueryManager.prototype.setClientQueryObjectStorageName=function(s){this.m_clientQueryObjectStorageName=s;};f.QueryManager.prototype.getClientQueryObjectStorageName=function(){return this.m_clientQueryObjectStorageName;};f.QueryManager.prototype.getDataRequestAsString=f.noSupport;f.QueryManager.prototype.getDataRequest=f.noSupport;f.QueryManager.prototype.emptyVariableDefinition=f.noSupport;f.QueryManager.prototype.activateVariableVariant=f.noSupport;f.QueryManager.prototype.deleteVariableVariant=f.noSupport;f.QueryManager.prototype.updateVariableVariantValues=f.noSupport;f.QueryManager.prototype.saveVariableVariant=f.noSupport;f.QueryManager.prototype.transferVariables=f.noSupport;f.QueryManager.prototype.transferVariablesByVariable=f.noSupport;f.QueryManager.prototype.updateDynamicVariables=f.noSupport;f.QueryManager.prototype.resetExitOrUpdateDynamicVariable=f.noSupport;f.QueryManager.prototype.getVariableVariants=f.noSupport;f.QueryManager.prototype.getValueHelpProvider=f.noSupport;f.QueryManager.prototype.setValueHelpProvider=f.noSupport;f.QueryManager.prototype.applyState=f.noSupport;f.QueryManager.prototype.recordState=f.noSupport;f.QueryManager.prototype.getMessageManager=f.noSupport;f.QueryManager.prototype.addVariableVariant=f.noSupport;f.QueryManager.prototype.removeVariableVariant=f.noSupport;f.QueryManager.prototype.applyValueHelpCapabilities=f.noSupport;f.QueryManager.prototype.getCapabilitiesBase=f.noSupport;f.QueryManager.prototype.createCustomHierarchyProvider=f.noSupport;f.QueryManager.prototype.getResultSetProviderFactory=f.noSupport;f.QueryManager.prototype.deserializeExt=f.noSupport;f.QueryManager.prototype.deserializeFromElementExt=function(m,e){return this.getQueryModel().deserializeFromElementExt(m,e);};f.QueryManager.prototype.deserializeNewComponentExt=f.noSupport;f.QueryManager.prototype.deserializeNewComponentFromElementExt=f.noSupport;f.QueryManager.prototype.updateQueryManager=f.noSupport;f.QueryManager.prototype.isIncludePerformanceNotDefault=f.noSupport;f.QueryManager.prototype.isApplyingRepoState=f.noSupport;f.QueryManager.prototype.getName=function(){return f.isNull(this.m_name)?this.getInstanceId():this.m_name;};f.QueryManager.prototype.setName=function(n){f.XStringUtils.checkStringNotEmpty(n,"Name of query manager must be a valid string");var o=this.getOlapEnvironmentBase();if(!f.XString.isEqual(n,this.m_name)){if(o.containsQueryManagerWithName(n)){throw f.XException.createIllegalArgumentException(f.XStringUtils.concatenate2("Olap Environment already contains Query Manager with name:",n));}o.unregisterQueryManager(this);this.m_name=n;o.registerQueryManager(this);}};f.QueryManager.prototype.isKeyRefSerializationEnabled=function(){return this.m_keyRefSerializationEnabled;};f.QueryManager.prototype.setkeyRefSerializationEnabled=function(k){this.m_keyRefSerializationEnabled=k;};f.QueryManager.prototype.getStorageGroupName=function(){return null;};f.QueryManager.prototype.getStorageName=function(){return null;};f.QueryManager.prototype.getStorageObjectName=function(){return null;};f.QueryManager.prototype.setRequestCellDocumentID=function(r){this.m_requestCellDocumentID=r;};f.QueryManager.prototype.isRequestCellDocumentID=function(){return this.m_requestCellDocumentID;};f.QueryManager.prototype.getChangedProperties=function(){return null;};f.QueryManager.prototype.setChangedProperties=f.noSupport;f.OlapVarImmediateCallback=function(){};f.OlapVarImmediateCallback.prototype=new f.QOlapSyncAction();f.OlapVarImmediateCallback.prototype._ff_c="OlapVarImmediateCallback";f.OlapVarImmediateCallback.createAndRun=function(s,l,c){var o=new f.OlapVarImmediateCallback();o.setupActionAndRun(s,l,c,null);return o;};f.OlapVarImmediateCallback.createAndRunError=function(e,a,s,l,c){var o=new f.OlapVarImmediateCallback();o.m_errorMessage=a;o.m_errorCode=e;o.setupActionAndRun(s,l,c,null);return o;};f.OlapVarImmediateCallback.prototype.m_errorMessage=null;f.OlapVarImmediateCallback.prototype.m_errorCode=0;f.OlapVarImmediateCallback.prototype.isSuccessfullyProcessed=function(){return this.isValid();};f.OlapVarImmediateCallback.prototype.callListener=function(e,l,d,c){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_errorMessage)){this.addError(this.m_errorCode,this.m_errorMessage);}l.onVariableProcessorExecuted(this,this,c);};f.AbstractBlendableQueryManager=function(){};f.AbstractBlendableQueryManager.prototype=new f.QModelComponent();f.AbstractBlendableQueryManager.prototype._ff_c="AbstractBlendableQueryManager";f.AbstractBlendableQueryManager.prototype.m_primaryDatasetId=null;f.AbstractBlendableQueryManager.prototype.m_queryManagers=null;f.AbstractBlendableQueryManager.prototype.m_activeContainer=null;f.AbstractBlendableQueryManager.prototype.m_clientQueryObjectStorageName=null;f.AbstractBlendableQueryManager.prototype.getOlapComponentType=function(){return f.OlapComponentType.BLENDABLE_QUERY_MANAGER;};f.AbstractBlendableQueryManager.prototype.setupBlendingManager=function(c){this.setupModelComponent(c,null);this.m_queryManagers=f.XLinkedHashMapByString.create();this.m_primaryDatasetId=null;};f.AbstractBlendableQueryManager.prototype.copyFromInternal=function(o,a){f.QModelComponent.prototype.copyFromInternal.call(this,o,a);var b=o;this.setupClone(b,f.QueryCloneMode.CURRENT_STATE,null);};f.AbstractBlendableQueryManager.prototype.clearCache=function(){this.m_primaryDatasetId=null;this.m_queryManagers=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryManagers);this.m_activeContainer=f.XObjectExt.release(this.m_activeContainer);};f.AbstractBlendableQueryManager.prototype.releaseObject=function(){this.clearCache();f.QModelComponent.prototype.releaseObject.call(this);};f.AbstractBlendableQueryManager.prototype.getPrimaryQueryManager=function(){return this.getQueryManagerByDatasetId(this.m_primaryDatasetId);};f.AbstractBlendableQueryManager.prototype.getSecondaryQueryManagers=function(){var a=this.getAllQueryManagers();var s=f.XList.create();var q=a.getIterator();while(q.hasNext()){var b=q.next();if(!f.XString.isEqual(b.getQueryModel().getDatasetId(),this.m_primaryDatasetId)){s.add(b);}}return s;};f.AbstractBlendableQueryManager.prototype.getAllQueryManagers=function(){return this.m_queryManagers.getValuesAsReadOnlyList();};f.AbstractBlendableQueryManager.prototype.getQueryManagerByDatasetId=function(n){return this.m_queryManagers.getByKey(n);};f.AbstractBlendableQueryManager.prototype.setPrimaryQueryManager=function(q){this.addQueryManager(q);this.m_primaryDatasetId=q.getQueryModel().getDatasetId();};f.AbstractBlendableQueryManager.prototype.addSecondaryQueryManager=function(q){this.addQueryManager(q);};f.AbstractBlendableQueryManager.prototype.addQueryManager=function(q){var d=q.getQueryModel().getDatasetId();if(f.isNull(d)){throw f.XException.createIllegalArgumentException("The query manager requires a datasetId.");}this.m_queryManagers.put(d,q);q.getQueryModel().addSecondaryParent(this);q.getTagging().put(f.QStateConstants.TAG_UNDO_IGNORE,"");};f.AbstractBlendableQueryManager.prototype.cloneQueryManagerExt=function(c){var a=this.newBlendableQueryManager();a.setupBlendingManager(this.getContext());a.setupClone(this,c,null);return a;};f.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimized=function(n){var c=this.newBlendableQueryManager();c.setupBlendingManager(this.getContext());c.setupClone(this,f.QueryCloneMode.CURRENT_STATE,null);return c;};f.AbstractBlendableQueryManager.prototype.cloneQueryManager=function(){return this.cloneQueryManagerExt(f.QueryCloneMode.CURRENT_STATE);};f.AbstractBlendableQueryManager.prototype.setupClone=function(o,c,d){var a=o;this.m_primaryDatasetId=a.m_primaryDatasetId;this.m_queryManagers.clear();var b=a.getAllQueryManagers();for(var j=0;j<b.size();j++){var e=b.get(j);var g=e.cloneQueryManagerExt(c);this.m_queryManagers.put(e.getQueryModel().getDatasetId(),g);}};f.AbstractBlendableQueryManager.prototype.cloneQueryManagerUsingExtDataSource=function(c,d){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.cloneQueryManagerUsingExtDataSource(c,d);}return a;};f.AbstractBlendableQueryManager.prototype.cloneQueryManagerBase=function(c){return this.cloneQueryManagerExt(c);};f.AbstractBlendableQueryManager.prototype.getQueryManager=function(){return this.getPrimaryQueryManager();};f.AbstractBlendableQueryManager.prototype.getQueryModel=function(){var p=this.getQueryManagerByDatasetId(this.m_primaryDatasetId);var q=null;if(f.notNull(p)){q=p.getQueryModel();}return q;};f.AbstractBlendableQueryManager.prototype.getContext=function(){return this;};f.AbstractBlendableQueryManager.prototype.getModelCapabilities=function(){var p=this.getQueryManagerByDatasetId(this.m_primaryDatasetId);var m=null;if(f.notNull(p)){m=p.getModelCapabilities();}return m;};f.AbstractBlendableQueryManager.prototype.supportsServerState=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsServerState();}return s;};f.AbstractBlendableQueryManager.prototype.supportsReturnedDataSelection=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsReturnedDataSelection();}return s;};f.AbstractBlendableQueryManager.prototype.supportsShutdown=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsShutdown();}return s;};f.AbstractBlendableQueryManager.prototype.supportsInputReadinessStates=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsInputReadinessStates();}return s;};f.AbstractBlendableQueryManager.prototype.supportsBatchRsStreaming=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsBatchRsStreaming();}return s;};f.AbstractBlendableQueryManager.prototype.supportsBatchBlendingRsStreaming=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsBatchBlendingRsStreaming();}return s;};f.AbstractBlendableQueryManager.prototype.supportsAnalyticCapability=function(c){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsAnalyticCapability(c);}return s;};f.AbstractBlendableQueryManager.prototype.applyValueHelpCapabilities=function(){this.getQueryManagerBase().applyValueHelpCapabilities();};f.AbstractBlendableQueryManager.prototype.getCapabilitiesBase=function(){return this.getQueryManagerBase().getCapabilitiesBase();};f.AbstractBlendableQueryManager.prototype.processModelInitialization=f.noSupport;f.AbstractBlendableQueryManager.prototype.processModelInitializationAndApplyRepoState=f.noSupport;f.AbstractBlendableQueryManager.prototype.loadQueryModel=f.noSupport;f.AbstractBlendableQueryManager.prototype.processShutdown=function(s,l,c){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.processShutdown(s,l,c);}return a;};f.AbstractBlendableQueryManager.prototype.processClearCache=function(s,t){var q=this.getQueryManager();if(f.notNull(q)){q.processClearCache(s,t);}};f.AbstractBlendableQueryManager.prototype.processCancel=function(s){var q=this.getQueryManager();if(f.notNull(q)){q.processCancel(s);}};f.AbstractBlendableQueryManager.prototype.processQueryExecutionAsBlendingSource=f.noSupport;f.AbstractBlendableQueryManager.prototype.retriggerQueryExecutionWithCustomHierarchies=f.noSupport;f.AbstractBlendableQueryManager.prototype.processQueryExecutionAsRemotePreQuery=function(s,l,c){return this.getQueryManagerBase().processQueryExecutionAsRemotePreQuery(s,l,c);};f.AbstractBlendableQueryManager.prototype.processQueryExecutionAsLovProcess=function(l,s,a,c){return this.getQueryManagerBase().processQueryExecutionAsLovProcess(l,s,a,c);};f.AbstractBlendableQueryManager.prototype.createCustomHierarchyProvider=function(c,e){return this.getQueryManagerBase().createCustomHierarchyProvider(c,e);};f.AbstractBlendableQueryManager.prototype.processUpdateRuntimeBlendQueryFromDependentQueries=f.noSupport;f.AbstractBlendableQueryManager.prototype.setRequestPerformanceData=function(r){var q=this.getQueryManager();if(f.notNull(q)){q.setRequestPerformanceData(r);}};f.AbstractBlendableQueryManager.prototype.isRequestingPerformanceData=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isRequestingPerformanceData();}return i;};f.AbstractBlendableQueryManager.prototype.isUpdatingDataRequestCapabilities=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isUpdatingDataRequestCapabilities();}return i;};f.AbstractBlendableQueryManager.prototype.setUpdatingDataRequestCapabilities=function(u){var q=this.getQueryManager();if(f.notNull(q)){q.setRequestPerformanceData(u);}};f.AbstractBlendableQueryManager.prototype.setPreQueryName=function(p){var q=this.getQueryManager();if(f.notNull(q)){q.setPreQueryName(p);}};f.AbstractBlendableQueryManager.prototype.getPreQueryName=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPreQueryName();}return p;};f.AbstractBlendableQueryManager.prototype.getVariableVariantByName=function(v){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.getVariableVariantByName(v);}return a;};f.AbstractBlendableQueryManager.prototype.enableReturnedDataSelection=function(d){var q=this.getQueryManager();if(f.notNull(q)){q.enableReturnedDataSelection(d);}};f.AbstractBlendableQueryManager.prototype.disableReturnedDataSelection=function(d){var q=this.getQueryManager();if(f.notNull(q)){q.disableReturnedDataSelection(d);}};f.AbstractBlendableQueryManager.prototype.getAllEnabledReturnedDataSelections=function(){var q=this.getQueryManager();var e=f.XListOfString.create();if(f.notNull(q)){e=q.getAllEnabledReturnedDataSelections();}return e;};f.AbstractBlendableQueryManager.prototype.getAllDisabledReturnedDataSelections=function(){var q=this.getQueryManager();var d=f.XListOfString.create();if(f.notNull(q)){d=q.getAllDisabledReturnedDataSelections();}return d;};f.AbstractBlendableQueryManager.prototype.clearDataSelections=function(){var q=this.getQueryManager();if(f.notNull(q)){q.clearDataSelections();}};f.AbstractBlendableQueryManager.prototype.updateQueryManager=function(m,n){var q=this.getQueryManager();if(f.notNull(q)){q.updateQueryManager(m,n);}};f.AbstractBlendableQueryManager.prototype.invalidateState=function(){var q=this.getQueryManager();if(f.notNull(q)){q.invalidateState();}this.getResultsetContainer(true);};f.AbstractBlendableQueryManager.prototype.getMetadataModel=function(){var q=this.getQueryManager();var m=null;if(f.notNull(q)){m=q.getMetadataModel();}return m;};f.AbstractBlendableQueryManager.prototype.getRriTargetManager=function(){var q=this.getQueryManager();var r=null;if(f.notNull(q)){r=q.getRriTargetManager();}return r;};f.AbstractBlendableQueryManager.prototype.setSuppressExitVariableValuesInRepoMode=function(s){var q=this.getQueryManager();if(f.notNull(q)){q.setSuppressExitVariableValuesInRepoMode(s);}};f.AbstractBlendableQueryManager.prototype.isSuppressExitVariableValuesInRepoMode=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isSuppressExitVariableValuesInRepoMode();}return i;};f.AbstractBlendableQueryManager.prototype.isSystemMappingValid=function(r){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isSystemMappingValid(r);}return i;};f.AbstractBlendableQueryManager.prototype.setIsMetadataCached=function(i){var q=this.getQueryManager();if(f.notNull(q)){q.setIsMetadataCached(i);}};f.AbstractBlendableQueryManager.prototype.setDeserializationStructureAsNull=function(){var q=this.getQueryManager();if(f.notNull(q)){q.setDeserializationStructureAsNull();}};f.AbstractBlendableQueryManager.prototype.setNoVariableSubmitResponse=function(n){var q=this.getQueryManager();if(f.notNull(q)){q.setNoVariableSubmitResponse(n);}};f.AbstractBlendableQueryManager.prototype.getPreQueryExecutor=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPreQueryExecutor();}return p;};f.AbstractBlendableQueryManager.prototype.processBLOB=function(s,l,c,i){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.processBLOB(s,l,c,i);}return a;};f.AbstractBlendableQueryManager.prototype.getResourcePath=function(){var q=this.getQueryManager();var r=null;if(f.notNull(q)){r=q.getResourcePath();}return r;};f.AbstractBlendableQueryManager.prototype.getResourceDetailsFromResourceIdentifier=function(r){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.getResourceDetailsFromResourceIdentifier(r);}return a;};f.AbstractBlendableQueryManager.prototype.enableHierarchyToUDHConversion=function(e){var q=this.getQueryManager();if(f.notNull(q)){q.enableHierarchyToUDHConversion(e);}};f.AbstractBlendableQueryManager.prototype.isHierarchyToUDHConversionEnabled=function(){var q=this.getQueryManager();return f.notNull(q)&&q.isHierarchyToUDHConversionEnabled();};f.AbstractBlendableQueryManager.prototype.isHierarchyToUDHConversionEnabledForCurrentRs=function(){var q=this.getQueryManager();return f.notNull(q)&&q.isHierarchyToUDHConversionEnabledForCurrentRs();};f.AbstractBlendableQueryManager.prototype.isShallow=function(){return false;};f.AbstractBlendableQueryManager.prototype.supportsAndAllowsEmptyExtendedVarDefinition=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsAndAllowsEmptyExtendedVarDefinition();}return s;};f.AbstractBlendableQueryManager.prototype.getNameForMicroCubeUse=function(){var q=this.getQueryManager();var n=null;if(f.notNull(q)){n=q.getNameForMicroCubeUse();}return n;};f.AbstractBlendableQueryManager.prototype.setNameForMicroCubeUse=function(n){var q=this.getQueryManager();if(f.notNull(q)){q.setNameForMicroCubeUse(n);}};f.AbstractBlendableQueryManager.prototype.recordingStateOfQueryManager=function(){var q=this.getQueryManager();var r=false;if(f.notNull(q)){r=q.recordingStateOfQueryManager();}return r;};f.AbstractBlendableQueryManager.prototype.applyingStateOnQueryManager=function(){var q=this.getQueryManager();var a=false;if(f.notNull(q)){a=q.applyingStateOnQueryManager();}return a;};f.AbstractBlendableQueryManager.prototype.setCacheHintEnabled=function(e){var q=this.getQueryManager();if(f.notNull(q)){q.setCacheHintEnabled(e);}};f.AbstractBlendableQueryManager.prototype.isCacheHintEnabled=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isCacheHintEnabled();}return i;};f.AbstractBlendableQueryManager.prototype.resetPreparation=function(){var q=this.getQueryManager();if(f.notNull(q)){q.resetPreparation();}};f.AbstractBlendableQueryManager.prototype.getLovManager=function(){var q=this.getQueryManager();var l=null;if(f.notNull(q)){l=q.getLovManager();}return l;};f.AbstractBlendableQueryManager.prototype.setDataSource=function(d){var q=this.getQueryManager();if(f.notNull(q)){q.setDataSource(d);}};f.AbstractBlendableQueryManager.prototype.applyRSFeatureRequest=function(){var q=this.getQueryManager();if(f.notNull(q)){q.applyRSFeatureRequest();}};f.AbstractBlendableQueryManager.prototype.getInitSettings=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getInitSettings();}return s;};f.AbstractBlendableQueryManager.prototype.setClientQueryObjectMigrationStorageName=function(s){var q=this.getQueryManager();if(f.notNull(q)){q.setClientQueryObjectStorageName(s);}};f.AbstractBlendableQueryManager.prototype.getClientQueryObjectMigrationStorageName=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getClientQueryObjectStorageName();}return s;};f.AbstractBlendableQueryManager.prototype.setClientQueryObjectStorageName=function(s){this.m_clientQueryObjectStorageName=s;};f.AbstractBlendableQueryManager.prototype.getClientQueryObjectStorageName=function(){return this.m_clientQueryObjectStorageName;};f.AbstractBlendableQueryManager.prototype.getDataRequestAsString=function(){var q=this.getQueryManager();var r=null;if(f.notNull(q)){r=q.getDataRequestAsString();}return r;};f.AbstractBlendableQueryManager.prototype.getDataRequest=function(){var q=this.getQueryManager();var r=null;if(f.notNull(q)){r=q.getDataRequest();}return r;};f.AbstractBlendableQueryManager.prototype.getPlanningManager=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPlanningManager();}return p;};f.AbstractBlendableQueryManager.prototype.setRequestCellDocumentID=function(r){var q=this.getQueryManager();if(f.notNull(q)){q.setRequestCellDocumentID(r);}};f.AbstractBlendableQueryManager.prototype.isRequestCellDocumentID=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isRequestCellDocumentID();}return i;};f.AbstractBlendableQueryManager.prototype.isKeyRefSerializationEnabled=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isKeyRefSerializationEnabled();}return i;};f.AbstractBlendableQueryManager.prototype.setkeyRefSerializationEnabled=function(k){var q=this.getQueryManager();if(f.notNull(q)){q.setkeyRefSerializationEnabled(k);}};f.AbstractBlendableQueryManager.prototype.getLifeCycleState=function(){var q=this.getQueryManager();var l=null;if(f.notNull(q)){l=q.getLifeCycleState();}return l;};f.AbstractBlendableQueryManager.prototype.getInstanceId=function(){var q=this.getQueryManager();var i=null;if(f.notNull(q)){i=q.getInstanceId();}return i;};f.AbstractBlendableQueryManager.prototype.applyState=function(s,l,c,a){var q=this.getQueryManager();var b=null;if(f.notNull(q)){b=q.applyState(s,l,c,a);}return b;};f.AbstractBlendableQueryManager.prototype.recordState=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.recordState();}return s;};f.AbstractBlendableQueryManager.prototype.getMode=function(){var q=this.getQueryManager();var m=null;if(f.notNull(q)){m=q.getInitSettings().getMode();}return m;};f.AbstractBlendableQueryManager.prototype.getProviderType=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getInitSettings().getProviderType();}return p;};f.AbstractBlendableQueryManager.prototype.getDefinition=function(){var q=this.getQueryManager();var d=null;if(f.notNull(q)){d=q.getInitSettings().getDefinition();}return d;};f.AbstractBlendableQueryManager.prototype.isDataSourceInitial=function(){return this.getQueryManagerBase().isDataSourceInitial();};f.AbstractBlendableQueryManager.prototype.getIncludePerformanceData=function(){return this.getQueryManagerBase().getIncludePerformanceData();};f.AbstractBlendableQueryManager.prototype.getValueHelpProvider=function(){return this.getQueryManagerBase().getValueHelpProvider();};f.AbstractBlendableQueryManager.prototype.setValueHelpProvider=function(v){this.getQueryManagerBase().setValueHelpProvider(v);};f.AbstractBlendableQueryManager.prototype.isIncludePerformanceNotDefault=function(){return this.getQueryManagerBase().isIncludePerformanceNotDefault();};f.AbstractBlendableQueryManager.prototype.isApplyingRepoState=function(){return this.getQueryManagerBase().isApplyingRepoState();};f.AbstractBlendableQueryManager.prototype.hasLovManager=function(){return this.getQueryManagerBase().hasLovManager();};f.AbstractBlendableQueryManager.prototype.isBasedOnVirtualDataSource=function(){return false;};f.AbstractBlendableQueryManager.prototype.setLifeCycleState=function(d){this.getQueryManagerBase().setLifeCycleState(d);};f.AbstractBlendableQueryManager.prototype.onModelChange=function(p){this.getQueryManagerBase().onModelChange(p);};f.AbstractBlendableQueryManager.prototype.getDimensionsToClone=function(){return this.getQueryManagerBase().getDimensionsToClone();};f.AbstractBlendableQueryManager.prototype.getDimensionsRequestedFromClient=function(){return this.getQueryManagerBase().getDimensionsRequestedFromClient();};f.AbstractBlendableQueryManager.prototype.isMetadataCached=function(){return this.getQueryManagerBase().isMetadataCached();};f.AbstractBlendableQueryManager.prototype.setupQueryModel=function(){return this.getQueryManagerBase().setupQueryModel();};f.AbstractBlendableQueryManager.prototype.getMetadataModelBase=function(){return this.getQueryManagerBase().getMetadataModelBase();};f.AbstractBlendableQueryManager.prototype.isLightweightSearch=function(){return this.getQueryManagerBase().isLightweightSearch();};f.AbstractBlendableQueryManager.prototype.getMessageManager=function(){return this.getQueryManagerBase();};f.AbstractBlendableQueryManager.prototype.isValid=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isValid();}return i;};f.AbstractBlendableQueryManager.prototype.hasErrors=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasErrors();}return h;};f.AbstractBlendableQueryManager.prototype.hasWarnings=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasWarnings();}return h;};f.AbstractBlendableQueryManager.prototype.getNumberOfErrors=function(){var q=this.getQueryManager();var n=0;if(f.notNull(q)){n=q.getNumberOfErrors();}return n;};f.AbstractBlendableQueryManager.prototype.getNumberOfWarnings=function(){var q=this.getQueryManager();var n=0;if(f.notNull(q)){n=q.getNumberOfWarnings();}return n;};f.AbstractBlendableQueryManager.prototype.hasSeverity=function(s){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasSeverity(s);}return h;};f.AbstractBlendableQueryManager.prototype.getNumberOfSeverity=function(s){var q=this.getQueryManager();var n=0;if(f.notNull(q)){n=q.getNumberOfSeverity(s);}return n;};f.AbstractBlendableQueryManager.prototype.getFirstWithSeverity=function(s){var q=this.getQueryManager();var m=null;if(f.notNull(q)){m=q.getFirstWithSeverity(s);}return m;};f.AbstractBlendableQueryManager.prototype.getErrors=function(){var q=this.getQueryManager();var m=f.XList.create();if(f.notNull(q)){m=q.getErrors();}return m;};f.AbstractBlendableQueryManager.prototype.getWarnings=function(){var q=this.getQueryManager();var m=f.XList.create();if(f.notNull(q)){m=q.getWarnings();}return m;};f.AbstractBlendableQueryManager.prototype.getInfos=function(){var q=this.getQueryManager();var m=f.XList.create();if(f.notNull(q)){m=q.getInfos();}return m;};f.AbstractBlendableQueryManager.prototype.getSemanticalErrors=function(){var q=this.getQueryManager();var m=f.XList.create();if(f.notNull(q)){m=q.getSemanticalErrors();}return m;};f.AbstractBlendableQueryManager.prototype.getMessages=function(){var q=this.getQueryManager();var m=f.XList.create();if(f.notNull(q)){m=q.getMessages();}return m;};f.AbstractBlendableQueryManager.prototype.containsCode=function(s,c){var q=this.getQueryManager();var a=false;if(f.notNull(q)){a=q.containsCode(s,c);}return a;};f.AbstractBlendableQueryManager.prototype.getMessage=function(s,c){var q=this.getQueryManager();var m=null;if(f.notNull(q)){m=q.getMessage(s,c);}return m;};f.AbstractBlendableQueryManager.prototype.getFirstError=function(){var q=this.getQueryManager();var e=null;if(f.notNull(q)){e=q.getFirstError();}return e;};f.AbstractBlendableQueryManager.prototype.getRootProfileNode=function(){var q=this.getQueryManager();var n=null;if(f.notNull(q)){n=q.getRootProfileNode();}return n;};f.AbstractBlendableQueryManager.prototype.getSummary=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getSummary();}return s;};f.AbstractBlendableQueryManager.prototype.getClientStatusCode=function(){var q=this.getQueryManager();var c=0;if(f.notNull(q)){c=q.getClientStatusCode();}return c;};f.AbstractBlendableQueryManager.prototype.getServerStatusCode=function(){var q=this.getQueryManager();var c=0;if(f.notNull(q)){c=q.getServerStatusCode();}return c;};f.AbstractBlendableQueryManager.prototype.getServerStatusDetails=function(){var q=this.getQueryManager();var d=null;if(f.notNull(q)){d=q.getServerStatusDetails();}return d;};f.AbstractBlendableQueryManager.prototype.getOlapSystemContainer=function(){var q=this.getQueryManager();var o=null;if(f.notNull(q)){o=q.getOlapSystemContainer();}return o;};f.AbstractBlendableQueryManager.prototype.getServiceConfig=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getServiceConfig();}return s;};f.AbstractBlendableQueryManager.prototype.getQueryServiceConfig=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getQueryServiceConfig();}return s;};f.AbstractBlendableQueryManager.prototype.getSystemDescription=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getSystemDescription();}return s;};f.AbstractBlendableQueryManager.prototype.getSystemType=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getSystemType();}return s;};f.AbstractBlendableQueryManager.prototype.getSystemName=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getSystemName();}return s;};f.AbstractBlendableQueryManager.prototype.getConnection=function(){return this.getQueryManagerBase().getConnection();};f.AbstractBlendableQueryManager.prototype.setSystemDescription=function(s){this.getQueryManagerBase().setSystemDescription(s);};f.AbstractBlendableQueryManager.prototype.processQueryExecution=function(s,l,c){return this.getResultsetContainer(false).processExecution(s,l,c);};f.AbstractBlendableQueryManager.prototype.getResultsetContainer=function(e){if(f.isNull(this.m_activeContainer)||this.m_activeContainer.isReleased()||e&&this.m_activeContainer.getSyncState()!==f.SyncState.OUT_OF_SYNC){var p=null;if(f.notNull(this.m_activeContainer)&&!this.m_activeContainer.isReleased()){var a=this.m_activeContainer;var r=a.getRuntimeQueryManager();if(f.notNull(r)){if(r.getInitSettings().getMode()===f.QueryManagerMode.BLENDING){p=r;p.invalidateState();}}}var o=this.m_activeContainer;this.m_activeContainer=f.BlendableResultSetContainer.createBlendableResultSetContainer(this,p);if(f.notNull(o)){o.setSerializedData(null,null);}}return this.m_activeContainer;};f.AbstractBlendableQueryManager.prototype.assertLifeCycleActive=function(){if(this.getLifeCycleState()!==f.LifeCycleState.ACTIVE&&this.getLifeCycleState()!==f.LifeCycleState.STARTING_UP){throw f.XException.createIllegalStateException("Query manager is not active");}};f.AbstractBlendableQueryManager.prototype.getClassicResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getClassicResultSet();};f.AbstractBlendableQueryManager.prototype.isClassicResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isClassicResultSetAvailable();};f.AbstractBlendableQueryManager.prototype.getCursorResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getCursorResultSet();};f.AbstractBlendableQueryManager.prototype.getAbstractRendering=function(t,p){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getAbstractRendering(t,p);};f.AbstractBlendableQueryManager.prototype.isCursorResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isCursorResultSetAvailable();};f.AbstractBlendableQueryManager.prototype.setOffsetRows=function(o){if(this.getResultsetContainer(false).getOffsetRows()!==o){this.getResultsetContainer(true).setOffsetRows(o);}return null;};f.AbstractBlendableQueryManager.prototype.getOffsetRows=function(){return this.getResultsetContainer(false).getOffsetRows();};f.AbstractBlendableQueryManager.prototype.setOffsetColumns=function(o){if(this.getResultsetContainer(false).getOffsetColumns()!==o){this.getResultsetContainer(true).setOffsetColumns(o);}return null;};f.AbstractBlendableQueryManager.prototype.getOffsetColumns=function(){return this.getResultsetContainer(false).getOffsetColumns();};f.AbstractBlendableQueryManager.prototype.setSuppressKeyfigureCalculation=function(d){if(this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()!==d){this.getResultsetContainer(true).setSuppressKeyfigureCalculation(d);}return null;};f.AbstractBlendableQueryManager.prototype.isKeyfigureCalculationSuppressed=function(){return this.getResultsetContainer(false).isKeyfigureCalculationSuppressed();};f.AbstractBlendableQueryManager.prototype.setMaxRows=function(m){if(this.getResultsetContainer(false).getMaxRows()!==m){this.getResultsetContainer(true).setMaxRows(m);}return null;};f.AbstractBlendableQueryManager.prototype.getMaxRows=function(){return this.getResultsetContainer(false).getMaxRows();};f.AbstractBlendableQueryManager.prototype.setMaxColumns=function(m){if(this.getResultsetContainer(false).getMaxColumns()!==m){this.getResultsetContainer(true).setMaxColumns(m);}return null;};f.AbstractBlendableQueryManager.prototype.getMaxColumns=function(){return this.getResultsetContainer(false).getMaxColumns();};f.AbstractBlendableQueryManager.prototype.getMaxResultRecords=function(){return this.getResultsetContainer(false).getMaxResultRecords();};f.AbstractBlendableQueryManager.prototype.setMaxResultRecords=function(m){if(this.getResultsetContainer(false).getMaxResultRecords()!==m){this.getResultsetContainer(true).setMaxResultRecords(m);}return null;};f.AbstractBlendableQueryManager.prototype.resetMaxResultRecords=function(){this.getResultsetContainer(true).resetMaxResultRecords();return null;};f.AbstractBlendableQueryManager.prototype.setResultSetPersistanceTargetSchema=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceSchema();if(!f.XString.isEqual(c,r)){this.getResultsetContainer(true).setResultSetPersistanceTargetSchema(r);}return null;};f.AbstractBlendableQueryManager.prototype.setResultSetPersistanceTargetTable=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceTable();if(!f.XString.isEqual(c,r)){this.getResultsetContainer(true).setResultSetPersistanceTargetTable(r);}return null;};f.AbstractBlendableQueryManager.prototype.setResultSetPersistenceTargetType=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceType();if(c!==r){this.getResultsetContainer(true).setResultSetPersistenceTargetType(r);}return null;};f.AbstractBlendableQueryManager.prototype.setResultSetPersistenceIdentifier=function(r){var c=this.getResultsetContainer(false).getResultSetPersistenceIdentifier();if(!f.XString.isEqual(c,r)){this.getResultsetContainer(true).setResultSetPersistenceIdentifier(r);}return null;};f.AbstractBlendableQueryManager.prototype.getResultSetPersistenceSchema=function(){return this.getResultsetContainer(false).getResultSetPersistenceSchema();};f.AbstractBlendableQueryManager.prototype.getResultSetPersistenceTable=function(){return this.getResultsetContainer(false).getResultSetPersistenceTable();};f.AbstractBlendableQueryManager.prototype.getResultSetPersistenceType=function(){return this.getResultsetContainer(false).getResultSetPersistenceType();};f.AbstractBlendableQueryManager.prototype.getResultSetPersistenceIdentifier=function(){return this.getResultsetContainer(false).getResultSetPersistenceIdentifier();};f.AbstractBlendableQueryManager.prototype.setExecuteRequestOnOldResultSet=function(e){if(this.getResultsetContainer(false).getExecuteRequestOnOldResultSet()!==e){this.getResultsetContainer(true).setExecuteRequestOnOldResultSet(e);}return null;};f.AbstractBlendableQueryManager.prototype.isResultSetTransportEnabled=function(){return this.getResultsetContainer(false).isResultSetTransportEnabled();};f.AbstractBlendableQueryManager.prototype.setResultSetTransportEnabled=function(i){if(this.getResultsetContainer(false).isResultSetTransportEnabled()!==i){this.getResultsetContainer(true).setResultSetTransportEnabled(i);}return null;};f.AbstractBlendableQueryManager.prototype.setDataRefreshEnabled=function(d){if(this.getResultsetContainer(false).getDataRefreshEnabled()!==d){this.getResultsetContainer(true).setDataRefreshEnabled(d);}};f.AbstractBlendableQueryManager.prototype.getDataRefreshEnabled=function(){return this.getResultsetContainer(false).getDataRefreshEnabled();};f.AbstractBlendableQueryManager.prototype.getExecuteRequestOnOldResultSet=function(){return this.getActiveResultSetContainer().getExecuteRequestOnOldResultSet();};f.AbstractBlendableQueryManager.prototype.getActiveResultSetContainer=function(){return this.getResultsetContainer(false);};f.AbstractBlendableQueryManager.prototype.getResultSetSyncState=function(){return this.getActiveResultSetContainer().getResultSetSyncState();};f.AbstractBlendableQueryManager.prototype.getResultSetMessages=function(){return this.getActiveResultSetContainer();};f.AbstractBlendableQueryManager.prototype.hasMoreColumnRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreColumnRecordsAvailable();};f.AbstractBlendableQueryManager.prototype.hasMoreRowRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreRowRecordsAvailable();};f.AbstractBlendableQueryManager.prototype.setSuppressCalculatedMembersWithoutBookedData=function(s){this.getResultsetContainer(true).setSuppressCalculatedMembersWithoutBookedData(s);};f.AbstractBlendableQueryManager.prototype.getSuppressCalculatedMembersWithoutBookedData=function(){return this.getResultsetContainer(false).getSuppressCalculatedMembersWithoutBookedData();};f.AbstractBlendableQueryManager.prototype.getActiveResultSetContainerBase=function(){return this.getResultsetContainer(false);};f.AbstractBlendableQueryManager.prototype.getResultSetProviderFactory=function(){return this.getQueryManagerBase().getResultSetProviderFactory();};f.AbstractBlendableQueryManager.prototype.setActiveResultSetContainer=function(a){this.m_activeContainer=a;};f.AbstractBlendableQueryManager.prototype.emptyVariableDefinition=f.noSupport;f.AbstractBlendableQueryManager.prototype.submitVariables=function(s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.submitVariables(s,l,c);};f.AbstractBlendableQueryManager.prototype.reInitVariablesAfterSubmit=function(s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.reInitVariablesAfterSubmit(s,l,c);};f.AbstractBlendableQueryManager.prototype.activateVariableVariant=function(v,s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.activateVariableVariant(v,s,l,c);};f.AbstractBlendableQueryManager.prototype.deleteVariableVariant=f.noSupport;f.AbstractBlendableQueryManager.prototype.updateVariableVariantValues=f.noSupport;f.AbstractBlendableQueryManager.prototype.saveVariableVariant=f.noSupport;f.AbstractBlendableQueryManager.prototype.cancelReInitVariables=function(s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.cancelReInitVariables(s,l,c);};f.AbstractBlendableQueryManager.prototype.supportsMaintainsVariableVariants=function(){return false;};f.AbstractBlendableQueryManager.prototype.isSubmitted=function(){var i=true;var a=this.getAllQueryManagers().getIterator();while(a.hasNext()){var q=a.next();if((q.supportsAndAllowsEmptyExtendedVarDefinition()||q.hasVariables())&&!q.isSubmitted()){i=false;break;}}return i;};f.AbstractBlendableQueryManager.prototype.transferVariables=function(s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.transferVariables(s,l,c);};f.AbstractBlendableQueryManager.prototype.transferVariablesByVariable=function(v,s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.transferVariablesByVariable(v,s,l,c);};f.AbstractBlendableQueryManager.prototype.setDirectVariableTransferEnabled=function(d){var q=this.getQueryManager();if(f.notNull(q)){q.setDirectVariableTransferEnabled(d);}};f.AbstractBlendableQueryManager.prototype.isDirectVariableTransferEnabled=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isDirectVariableTransferEnabled();}return i;};f.AbstractBlendableQueryManager.prototype.getVariableProcessorState=function(){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getVariableProcessorState();}return v;};f.AbstractBlendableQueryManager.prototype.registerVariableProcessorStateChangedListener=function(l,c){var q=this.getQueryManager();if(f.notNull(q)){q.registerVariableProcessorStateChangedListener(l,c);}};f.AbstractBlendableQueryManager.prototype.unregisterVariableProcessorStateChangedListener=function(l){var q=this.getQueryManager();if(f.notNull(q)){q.unregisterVariableProcessorStateChangedListener(l);}};f.AbstractBlendableQueryManager.prototype.checkVariables=function(s,l,c){var b=f.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return b.checkVariables(s,l,c);};f.AbstractBlendableQueryManager.prototype.getSelectionTagging=function(){var q=this.getQueryManager();var t=null;if(f.notNull(q)){t=q.getSelectionTagging();}return t;};f.AbstractBlendableQueryManager.prototype.updateDynamicVariables=function(s,l,c){var q=this.getQueryManager();if(f.notNull(q)){q.updateDynamicVariables(s,l,c);}};f.AbstractBlendableQueryManager.prototype.getVariableVariants=function(){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getVariableVariants();}return v;};f.AbstractBlendableQueryManager.prototype.resetExitOrUpdateDynamicVariable=function(s,l,c,o){var q=this.getQueryManager();if(f.notNull(q)){q.resetExitOrUpdateDynamicVariable(s,l,c,o);}};f.AbstractBlendableQueryManager.prototype.supportsCheckVariables=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsCheckVariables();}return s;};f.AbstractBlendableQueryManager.prototype.supportsReInitVariables=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsReInitVariables();}return s;};f.AbstractBlendableQueryManager.prototype.supportsDirectVariableTransfer=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsDirectVariableTransfer();}return s;};f.AbstractBlendableQueryManager.prototype.supportsVariableMasking=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsVariableMasking();}return s;};f.AbstractBlendableQueryManager.prototype.clearExternalVariablesRepresentations=function(){var q=this.getQueryManager();if(f.notNull(q)){q.clearExternalVariablesRepresentations();}};f.AbstractBlendableQueryManager.prototype.getVariableMode=function(){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getVariableMode();}return v;};f.AbstractBlendableQueryManager.prototype.hasVariables=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasVariables();}return h;};f.AbstractBlendableQueryManager.prototype.hasMandatoryVariables=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasMandatoryVariables();}return h;};f.AbstractBlendableQueryManager.prototype.hasInputEnabledVariables=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasInputEnabledVariables();}return h;};f.AbstractBlendableQueryManager.prototype.getVariables=function(){var q=this.getQueryManager();var v=f.XListOfNameObject.create();if(f.notNull(q)){v=q.getVariables();}return v;};f.AbstractBlendableQueryManager.prototype.setWinControlInAutoSubmitByType=function(v,i,a){var q=this.getQueryManager();if(f.notNull(q)){q.setWinControlInAutoSubmitByType(v,i,a);}};f.AbstractBlendableQueryManager.prototype.getInputEnabledVariables=function(){var q=this.getQueryManager();var v=f.XListOfNameObject.create();if(f.notNull(q)){v=q.getInputEnabledVariables();}return v;};f.AbstractBlendableQueryManager.prototype.getInputEnabledAndNonTechnicalVariables=function(){var q=this.getQueryManager();var v=f.XListOfNameObject.create();if(f.notNull(q)){v=q.getInputEnabledAndNonTechnicalVariables();}return v;};f.AbstractBlendableQueryManager.prototype.getInputEnabledVariable=function(n){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getInputEnabledVariable(n);}return v;};f.AbstractBlendableQueryManager.prototype.getVariable=function(n){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getVariable(n);}return v;};f.AbstractBlendableQueryManager.prototype.getHierarchyNodeVariable=function(n){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getHierarchyNodeVariable(n);}return v;};f.AbstractBlendableQueryManager.prototype.getHierarchyNameVariable=function(n){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getHierarchyNameVariable(n);}return v;};f.AbstractBlendableQueryManager.prototype.getHierarchyNameVariables=function(){var q=this.getQueryManager();var v=f.XList.create();if(f.notNull(q)){v=q.getHierarchyNameVariables();}return v;};f.AbstractBlendableQueryManager.prototype.getDimensionMemberVariables=function(){var q=this.getQueryManager();var v=f.XList.create();if(f.notNull(q)){v=q.getDimensionMemberVariables();}return v;};f.AbstractBlendableQueryManager.prototype.isSubmitNeeded=function(){var i=false;var a=this.getAllQueryManagers().getIterator();while(a.hasNext()){var q=a.next();i=q.isSubmitNeeded();if(i){break;}}return i;};f.AbstractBlendableQueryManager.prototype.isReinitNeeded=function(){var i=false;var a=this.getAllQueryManagers().getIterator();while(a.hasNext()){var q=a.next();i=q.isReinitNeeded();if(i){break;}}return i;};f.AbstractBlendableQueryManager.prototype.isAutoVariableSubmitActive=function(){return this.getQueryManagerBase().isAutoVariableSubmitActive();};f.AbstractBlendableQueryManager.prototype.maintainStateForRsWithAutoSubmit=function(r){this.getQueryManagerBase().maintainStateForRsWithAutoSubmit(r);};f.AbstractBlendableQueryManager.prototype.variablesRequireImplicitSubmit=function(){return this.getQueryManagerBase().variablesRequireImplicitSubmit();};f.AbstractBlendableQueryManager.prototype.variablesRequireSACImplicitSubmit=function(){return this.getQueryManager().variablesRequireSACImplicitSubmit();};f.AbstractBlendableQueryManager.prototype.isCancelNeeded=function(){var i=false;var a=this.getAllQueryManagers().getIterator();while(a.hasNext()){var q=a.next();i=q.isCancelNeeded();if(i){break;}}return i;};f.AbstractBlendableQueryManager.prototype.getVariableProcessor=function(){var q=this.getQueryManager();var v=null;if(f.notNull(q)){v=q.getVariableProcessor();}return v;};f.AbstractBlendableQueryManager.prototype.addVariableVariant=function(v){this.getQueryManagerBase().addVariableVariant(v);};f.AbstractBlendableQueryManager.prototype.removeVariableVariant=function(v){this.getQueryManagerBase().removeVariableVariant(v);};f.AbstractBlendableQueryManager.prototype.setVariableProcessorState=function(v){this.getQueryManagerBase().setVariableProcessorState(v);};f.AbstractBlendableQueryManager.prototype.returnToPreviousProcessorState=function(){this.getQueryManagerBase().returnToPreviousProcessorState();};f.AbstractBlendableQueryManager.prototype.getVariableContainerBase=function(){return this.getQueryManagerBase().getVariableContainerBase();};f.AbstractBlendableQueryManager.prototype.prepareAfterVariables=function(){this.getQueryManagerBase().prepareAfterVariables();};f.AbstractBlendableQueryManager.prototype.getPreviousVariableProcessorState=function(){return this.getQueryManagerBase().getPreviousVariableProcessorState();};f.AbstractBlendableQueryManager.prototype.isPublicVersionEditPossible=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isPublicVersionEditPossible();}return i;};f.AbstractBlendableQueryManager.prototype.hasChangedValues=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasChangedValues();}return h;};f.AbstractBlendableQueryManager.prototype.hasChangedValueLocks=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasChangedValueLocks();}return h;};f.AbstractBlendableQueryManager.prototype.hasChangedCells=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasChangedCells();}return h;};f.AbstractBlendableQueryManager.prototype.transferNewValues=function(){var q=this.getQueryManager();if(f.notNull(q)){q.transferNewValues();}};f.AbstractBlendableQueryManager.prototype.resetNewValues=function(){var q=this.getQueryManager();if(f.notNull(q)){q.resetNewValues();}};f.AbstractBlendableQueryManager.prototype.hasNewValues=function(){var q=this.getQueryManager();var h=false;if(f.notNull(q)){h=q.hasNewValues();}return h;};f.AbstractBlendableQueryManager.prototype.setDataEntryReadOnly=function(d){var q=this.getQueryManager();if(f.notNull(q)){q.setDataEntryReadOnly(d);}};f.AbstractBlendableQueryManager.prototype.isDataEntryReadOnly=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isDataEntryReadOnly();}return i;};f.AbstractBlendableQueryManager.prototype.isDataEntryEnabled=function(){var q=this.getQueryManager();var i=false;if(f.notNull(q)){i=q.isDataEntryEnabled();}return i;};f.AbstractBlendableQueryManager.prototype.getPlanningModel=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPlanningModel();}return p;};f.AbstractBlendableQueryManager.prototype.getDataArea=function(){var q=this.getQueryManager();var d=null;if(f.notNull(q)){d=q.getDataArea();}return d;};f.AbstractBlendableQueryManager.prototype.getPlanningMode=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPlanningMode();}return p;};f.AbstractBlendableQueryManager.prototype.setPlanningMode=function(p){var q=this.getQueryManager();if(f.notNull(q)){q.setPlanningMode(p);}};f.AbstractBlendableQueryManager.prototype.getPlanningRestriction=function(){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPlanningRestriction();}return p;};f.AbstractBlendableQueryManager.prototype.setPlanningRestriction=function(r){var q=this.getQueryManager();if(f.notNull(q)){q.setPlanningRestriction(r);}};f.AbstractBlendableQueryManager.prototype.supportsDataEntryReadOnly=function(){var q=this.getQueryManager();var s=false;if(f.notNull(q)){s=q.supportsDataEntryReadOnly();}return s;};f.AbstractBlendableQueryManager.prototype.getPlanningVersionIdentifier=function(v,s,a){var q=this.getQueryManager();var p=null;if(f.notNull(q)){p=q.getPlanningVersionIdentifier(v,s,a);}return p;};f.AbstractBlendableQueryManager.prototype.getPlanningVersionSettings=function(v,s,u){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.getPlanningVersionSettings(v,s,u);}return a;};f.AbstractBlendableQueryManager.prototype.getPlanningVersionSettingsSimple=function(v,s,u){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.getPlanningVersionSettingsSimple(v,s,u);}return a;};f.AbstractBlendableQueryManager.prototype.addPlanningVersionSettings=function(s){var q=this.getQueryManager();var a=null;if(f.notNull(q)){a=q.addPlanningVersionSettings(s);}return a;};f.AbstractBlendableQueryManager.prototype.deletePlanningVersionSettings=function(v){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.deletePlanningVersionSettings(v);}return s;};f.AbstractBlendableQueryManager.prototype.getAllPlanningVersionSettings=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getAllPlanningVersionSettings();}return s;};f.AbstractBlendableQueryManager.prototype.setPlanningVersionSettingsMode=function(s){var q=this.getQueryManager();if(f.notNull(q)){q.setPlanningVersionSettingsMode(s);}};f.AbstractBlendableQueryManager.prototype.getPlanningVersionSettingsMode=function(){var q=this.getQueryManager();var s=null;if(f.notNull(q)){s=q.getPlanningVersionSettingsMode();}return s;};f.AbstractBlendableQueryManager.prototype.setDataEntryEnabled=function(d){var q=this.getQueryManager();if(f.notNull(q)){q.setDataEntryEnabled(d);}};f.AbstractBlendableQueryManager.prototype.initializeDataAreaState=function(){var q=this.getQueryManager();var i=null;if(f.notNull(q)){i=q.initializeDataAreaState();}return i;};f.AbstractBlendableQueryManager.prototype.setPublicVersionEditPossible=function(p){var q=this.getQueryManager();if(f.notNull(q)){q.setPublicVersionEditPossible(p);}};f.AbstractBlendableQueryManager.prototype.setVersionAliasById=function(a,v){var q=this.getQueryManager();if(f.notNull(q)){q.setVersionAliasById(a,v);}};f.AbstractBlendableQueryManager.prototype.removeVersionAlias=function(a){var q=this.getQueryManager();if(f.notNull(q)){q.removeVersionAlias(a);}};f.AbstractBlendableQueryManager.prototype.clearVersionAliases=function(){var q=this.getQueryManager();if(f.notNull(q)){q.clearVersionAliases();}};f.AbstractBlendableQueryManager.prototype.getVersionAliases=function(){var q=this.getQueryManager();var v=f.XHashMapOfStringByString.create();if(f.notNull(q)){v=q.getVersionAliases();}return v;};f.QCustomHierarchyDefinitionExt=function(){};f.QCustomHierarchyDefinitionExt.prototype=new f.QCustomHierarchyDefinition();f.QCustomHierarchyDefinitionExt.prototype._ff_c="QCustomHierarchyDefinitionExt";f.QCustomHierarchyDefinitionExt.createExtendedHierarchyDefinition=function(o,i){var d=new f.QCustomHierarchyDefinitionExt();d.setupHierarchyDefinition(null,null,null,null,true);d.copyFrom(o,null);d.m_inaHierarchy=i;return d;};f.QCustomHierarchyDefinitionExt.prototype.m_inaHierarchy=null;f.QCustomHierarchyDefinitionExt.prototype.releaseObject=function(){f.QCustomHierarchyDefinition.prototype.releaseObject.call(this);this.m_inaHierarchy=f.XObjectExt.release(this.m_inaHierarchy);};f.QCustomHierarchyDefinitionExt.prototype.getInaHierarchy=function(){return this.m_inaHierarchy;};f.QCustomHierarchyDefinitionExt.prototype.setInaHierarchy=function(i){this.m_inaHierarchy=i;};f.BlendableQueryManager=function(){};f.BlendableQueryManager.prototype=new f.AbstractBlendableQueryManager();f.BlendableQueryManager.prototype._ff_c="BlendableQueryManager";f.BlendableQueryManager.create=function(c,n){var b=new f.BlendableQueryManager();b.setupModelComponent(c,null);b.setName(f.notNull(n)?n:c.getApplication().createNextInstanceId());b.setupBlendingManager(c);return b;};f.BlendableQueryManager.prototype.m_primaryBlendedMeasures=null;f.BlendableQueryManager.prototype.m_queryModelLinkSettings=null;f.BlendableQueryManager.prototype.m_blendableDimensionSorts=null;f.BlendableQueryManager.prototype.m_primaryBlendableMeasureMemberSort=null;f.BlendableQueryManager.prototype.m_primaryBlendableRank=null;f.BlendableQueryManager.prototype.m_blendedDimensionOrder=null;f.BlendableQueryManager.prototype.m_blendedDrillOperations=null;f.BlendableQueryManager.prototype.m_useEmptyAllMemberMeasureFilter=false;f.BlendableQueryManager.prototype.setName=function(n){f.XStringUtils.checkStringNotEmpty(n,"Name of query manager must be a valid string");var o=this.getOlapEnv();if(!f.XString.isEqual(n,this.getName())){if(o.containsQueryManagerWithName(n)){throw f.XException.createIllegalArgumentException(f.XStringUtils.concatenate2("Olap Environment already contains Query Manager with name:",n));}o.unregisterQueryManager(this);f.AbstractBlendableQueryManager.prototype.setName.call(this,n);o.registerQueryManager(this);}};f.BlendableQueryManager.prototype.newBlendableQueryManager=function(){return new f.BlendableQueryManager();};f.BlendableQueryManager.prototype.setupBlendingManager=function(c){f.AbstractBlendableQueryManager.prototype.setupBlendingManager.call(this,c);this.m_primaryBlendedMeasures=f.QModelComponentList.createModelComponentWithNameList(c,this,false,"Primary Blended Measures",true);this.m_queryModelLinkSettings=f.QModelComponentList.createModelComponentList(c,this,true,"Query Model Link Settings");this.m_blendableDimensionSorts=f.XLinkedHashMapByString.create();this.m_blendedDimensionOrder=f.XHashMapByString.create();this.m_blendedDrillOperations=f.XList.create();this.m_useEmptyAllMemberMeasureFilter=true;};f.BlendableQueryManager.prototype.copyFromInternal=function(o,a){f.AbstractBlendableQueryManager.prototype.copyFromInternal.call(this,o,a);var b=o;this.m_primaryBlendedMeasures.clear();var p=b.m_primaryBlendedMeasures.getIterator();while(p.hasNext()){this.m_primaryBlendedMeasures.add(p.next());}this.m_queryModelLinkSettings.clear();var q=b.m_queryModelLinkSettings.getIterator();while(q.hasNext()){var c=q.next();this.m_queryModelLinkSettings.add(c.cloneOlapComponent(this,null));}this.m_blendableDimensionSorts.clear();var d=b.m_blendableDimensionSorts.getIterator();while(d.hasNext()){var e=d.next();this.addBlendableDimensionSort(e.getFieldName(),e.getDatasetId(),e.getSortDirection(),e.getPreserveGrouping());}f.XObjectExt.release(this.m_primaryBlendableMeasureMemberSort);if(f.notNull(b.m_primaryBlendableMeasureMemberSort)){this.setPrimaryBlendableMeasureMemberSort(b.m_primaryBlendableMeasureMemberSort.getMeasureMemberName(),b.m_primaryBlendableMeasureMemberSort.getDatasetId(),b.m_primaryBlendableMeasureMemberSort.getSortDirection());}f.XObjectExt.release(this.m_primaryBlendableRank);if(f.notNull(b.m_primaryBlendableRank)){this.setPrimaryBlendableRank(b.m_primaryBlendableRank.getThreshold(),b.m_primaryBlendableRank.getMeasureMemberName(),b.m_primaryBlendableRank.getMeasureMemberDatasetId(),b.m_primaryBlendableRank.getDimensionNames(),b.m_primaryBlendableRank.getDimensionDatasetIds(),b.m_primaryBlendableRank.getConditionComparisonOperator());}this.m_blendedDimensionOrder.clear();var g=b.getBlendedDimensionsByAxis(f.AxisType.ROWS).getIterator();while(g.hasNext()){var h=g.next();var n=this.addBlendedDimensionInfoToAxis(f.AxisType.ROWS,h.getDatasetId(),h.getDimensionName());n.copyFrom(h,null);}var i=b.getBlendedDimensionsByAxis(f.AxisType.COLUMNS).getIterator();while(i.hasNext()){var j=i.next();var k=this.addBlendedDimensionInfoToAxis(f.AxisType.COLUMNS,j.getDatasetId(),j.getDimensionName());k.copyFrom(j,null);}this.m_blendedDrillOperations.clear();var l=b.getBlendedDrillOperations().getIterator();while(l.hasNext()){var m=l.next();var r=this.addNewBlendedDrillOperation(m.getDatasetId(),m.getDimensionName());r.copyFrom(m,null);}this.m_useEmptyAllMemberMeasureFilter=b.m_useEmptyAllMemberMeasureFilter;};f.BlendableQueryManager.prototype.releaseObject=function(){var o=this.getOlapEnv();o.unregisterQueryManager(this);this.m_primaryBlendedMeasures=f.XObjectExt.release(this.m_primaryBlendedMeasures);this.m_queryModelLinkSettings=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryModelLinkSettings);this.m_blendableDimensionSorts=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendableDimensionSorts);this.m_blendedDimensionOrder=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDimensionOrder);this.m_primaryBlendableMeasureMemberSort=f.XObjectExt.release(this.m_primaryBlendableMeasureMemberSort);this.m_primaryBlendableRank=f.XObjectExt.release(this.m_primaryBlendableRank);this.m_blendedDrillOperations=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillOperations);f.AbstractBlendableQueryManager.prototype.releaseObject.call(this);};f.BlendableQueryManager.prototype.clearPrimaryBlendedMeasures=function(){for(var i=this.m_primaryBlendedMeasures.size()-1;i>=0;i--){this.removePrimaryBlendedMeasure(this.m_primaryBlendedMeasures.get(i));}};f.BlendableQueryManager.prototype.clearQueryModelLinkSettings=function(){f.XCollectionUtils.releaseEntriesFromCollection(this.m_queryModelLinkSettings);this.m_queryModelLinkSettings.clear();};f.BlendableQueryManager.prototype.addSecondaryQueryManager=function(q){f.AbstractBlendableQueryManager.prototype.addSecondaryQueryManager.call(this,q);var p=this.getPrimaryQueryManager().getQueryModel().getDatasetId();var s=q.getQueryModel().getDatasetId();this.addNewQueryModelLinkSettings(p,s);};f.BlendableQueryManager.prototype.addNewQueryModelLinkSettings=function(p,s){var q=f.QueryModelLinkSettings.create(this,p,s);this.m_queryModelLinkSettings.add(q);};f.BlendableQueryManager.prototype.getLinkType=function(s){var b=null;var q=this.m_queryModelLinkSettings.getByKey(s);if(f.notNull(q)){b=q.getLinkType();}return b;};f.BlendableQueryManager.prototype.setLinkType=function(s,b){var q=this.getQueryModelLinkSettings(s);q.setLinkType(b);};f.BlendableQueryManager.prototype.getUnlinkedDimensionJoinType=function(s){var u=null;var q=this.m_queryModelLinkSettings.getByKey(s);if(f.notNull(q)){u=q.getUnlinkedDimensionJoinType();}return u;};f.BlendableQueryManager.prototype.setUnlinkedDimensionJoinType=function(s,u){var q=this.getQueryModelLinkSettings(s);q.setUnlinkedDimensionJoinType(u);};f.BlendableQueryManager.prototype.getActivePrimaryLinkDimensionNames=function(s){var a=null;var q=this.m_queryModelLinkSettings.getByKey(s);if(f.notNull(q)){a=q.getActivePrimaryLinkDimensionNames();}return a;};f.BlendableQueryManager.prototype.addActivePrimaryLinkDimensionName=function(s,p){var q=this.getQueryModelLinkSettings(s);q.addActivePrimaryLinkDimensionName(p);};f.BlendableQueryManager.prototype.removeActivePrimaryLinkDimensionName=function(s,p){var q=this.getQueryModelLinkSettings(s);q.removeActivePrimaryLinkDimensionName(p);};f.BlendableQueryManager.prototype.removeAllActivePrimaryLinkDimensionNames=function(s){var q=this.getQueryModelLinkSettings(s);q.removeAllActivePrimaryLinkDimensionNames();};f.BlendableQueryManager.prototype.getQueryModelLinkSettings=function(s){var q=this.m_queryModelLinkSettings.getByKey(s);if(this.getQueryManagerByDatasetId(s)!==null&&f.isNull(q)){q=f.QueryModelLinkSettings.create(this,this.getPrimaryQueryManager().getQueryModel().getDatasetId(),s);this.m_queryModelLinkSettings.add(q);}return q;};f.BlendableQueryManager.prototype.getPrimaryBlendedMeasures=function(){return this.m_primaryBlendedMeasures;};f.BlendableQueryManager.prototype.removePrimaryBlendedMeasure=function(m){this.m_primaryBlendedMeasures.removeElement(m);if(m.getContext()===this){f.XObjectExt.release(m);}else{m.removeSecondaryParent(this);}};f.BlendableQueryManager.prototype.addPrimaryBlendedMeasure=function(m){this.m_primaryBlendedMeasures.add(m);m.addSecondaryParent(this);};f.BlendableQueryManager.prototype.getBlendingProcessConfigs=function(){var m=this.getOlapEnv().getModelLinkManager();var p=this.getPrimaryQueryManager();var a=p.getQueryModel().getDatasetId();var c=f.XList.create();var q=this.m_queryModelLinkSettings.getIterator();while(q.hasNext()){var b=q.next();var s=b.getSecondDatasetId();var d=m.getDimensionLinksByDatasetIds(this.getStorageName(),a,s,true);if(d.size()>0){var e=f.QueryModelLinkSettings.create(this,a,s);e.copyFrom(b,null);var g=f.XList.create();var h=d.getIterator();while(h.hasNext()){var i=h.next();g.add(i.cloneOlapComponent(this.getContext(),null));}var j=this.getQueryManagerByDatasetId(b.getSecondDatasetId());if(f.isNull(j)||!f.BlendingUtils.isQueryModelInUseForBlending(j.getQueryModel(),this.isUseEmptyAllMemberMeasureFilter())){continue;}c.add(f.BlendingProcessConfig.create(p,j,g,e));}}return c;};f.BlendableQueryManager.prototype.cloneQueryManagerExt=function(c){var a=f.AbstractBlendableQueryManager.prototype.cloneQueryManagerExt.call(this,c);a.copyFrom(this,null);return a;};f.BlendableQueryManager.prototype.cloneQueryManagerOptimized=function(n){var c=f.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimized.call(this,n);c.copyFrom(this,null);return c;};f.BlendableQueryManager.prototype.notifyChildChanged=function(c){this.getResultsetContainer(true);f.AbstractBlendableQueryManager.prototype.notifyChildChanged.call(this,c);};f.BlendableQueryManager.prototype.getRuntimeQueryManager=function(s,l,c){var r=f.RuntimeBlendedQueryManagerAction.create(this);return r.processSyncAction(s,l,c);};f.BlendableQueryManager.prototype.exportPersistedQueriesAndRuntimeQueryManager=function(s,l,c){var b=f.BlendableQMPersistedInAExportAction.create(this);return b.processSyncAction(s,l,c);};f.BlendableQueryManager.prototype.serializeToContentExt=function(m,c){var a;if(m.isTypeOf(f.QModelFormat.INA_DATA)){var p=this.getRuntimeQueryManager(f.SyncType.BLOCKING,null,null);if(!p.hasErrors()){var r=p.getData();a=r.serializeToContentExt(m,f.notNull(c)?c:r.getModelCapabilities());}else{a=null;}f.XObjectExt.release(p);}else{a=f.AbstractBlendableQueryManager.prototype.serializeToContentExt.call(this,m,c);}return a;};f.BlendableQueryManager.prototype.getBlendedDimensionsByAxis=function(a){var b=this.m_blendedDimensionOrder.getByKey(a.getName());if(f.isNull(b)){b=f.XList.create();}return b;};f.BlendableQueryManager.prototype.setBlendedDimensionInfosByAxis=function(a,b){var n=f.XList.create();n.addAll(b);this.m_blendedDimensionOrder.put(a.getName(),n);this.notifyNodeChanged();};f.BlendableQueryManager.prototype.clearBlendedDimensionInfosByAxis=function(a){var b=this.m_blendedDimensionOrder.getByKey(a.getName());if(f.notNull(b)){b.clear();this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.addBlendedDimensionInfoToAxis=function(a,d,b){var c=this.m_blendedDimensionOrder.getByKey(a.getName());if(f.isNull(c)){c=f.XList.create();this.m_blendedDimensionOrder.put(a.getName(),c);}var n=f.BlendedDimensionInfo.createBlendedDimensionInfo(d,b);c.add(n);this.notifyNodeChanged();return n;};f.BlendableQueryManager.prototype.removeBlendedDimensionInfo=function(a,b){var r=this.m_blendedDimensionOrder.getByKey(a.getName());if(f.notNull(r)){r.removeElement(b);this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.getBlendedDrillOperations=function(){return this.m_blendedDrillOperations;};f.BlendableQueryManager.prototype.addNewBlendedDrillOperation=function(d,a){var n=f.BlendedDrillInfo.createBlendedDimensionDrillInfo(this,d,a);this.m_blendedDrillOperations.add(n);this.notifyNodeChanged();return n;};f.BlendableQueryManager.prototype.clearBlendedDrillOperations=function(){this.m_blendedDrillOperations.clear();this.notifyNodeChanged();};f.BlendableQueryManager.prototype.setUseEmptyAllMemberMeasureFilter=function(u){if(this.m_useEmptyAllMemberMeasureFilter!==u){this.m_useEmptyAllMemberMeasureFilter=u;this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.isUseEmptyAllMemberMeasureFilter=function(){return this.m_useEmptyAllMemberMeasureFilter;};f.BlendableQueryManager.prototype.removeBlendedDrillOperation=function(b){this.m_blendedDrillOperations.removeElement(b);this.notifyNodeChanged();};f.BlendableQueryManager.prototype.migrateLegacyBlendedQueryState=function(o){f.BlendingUtils.migrateAxis(this,o,f.AxisType.ROWS);f.BlendingUtils.migrateAxis(this,o,f.AxisType.COLUMNS);};f.BlendableQueryManager.prototype.getBlendableDimensionSortMapKey=function(a,d){return f.XStringUtils.concatenate3(d,".",a);};f.BlendableQueryManager.prototype.addBlendableDimensionSort=function(a,d,s,p){var q=this.getQueryManagerByDatasetId(d);var b=f.notNull(q)?q.getQueryModel():null;var c=f.notNull(b)?b.getFieldByName(a):null;if(f.notNull(c)){var e=this.m_blendableDimensionSorts.getByKey(this.getBlendableDimensionSortMapKey(a,d));var i=f.isNull(e)||s!==e.getSortDirection()||p!==e.getPreserveGrouping();var g=q!==this.getPrimaryQueryManager();var h=f.BlendingUtils.isDimensionFromLinkedDimension(this,c.getDimension().getName(),d);if(i&&(!g||!h)){this.removeBlendableDimensionSort(a,d);if(this.getPrimaryBlendableMeasureMemberSort()!==null){this.clearPrimaryBlendableMemberMeasureSort();}this.m_blendableDimensionSorts.put(this.getBlendableDimensionSortMapKey(a,d),f.BlendableDimensionSort.createBlendableDimensionSort(a,d,s,p));this.notifyNodeChanged();}}};f.BlendableQueryManager.prototype.removeBlendableDimensionSort=function(a,d){var b=this.m_blendableDimensionSorts.remove(this.getBlendableDimensionSortMapKey(a,d));if(f.notNull(b)){f.XObjectExt.release(b);this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.clearBlendableDimensionSorts=function(){f.XCollectionUtils.releaseEntriesFromCollection(this.m_blendableDimensionSorts);this.m_blendableDimensionSorts.clear();this.notifyNodeChanged();};f.BlendableQueryManager.prototype.getBlendableDimensionSorts=function(){return this.m_blendableDimensionSorts.getValuesAsReadOnlyList();};f.BlendableQueryManager.prototype.setPrimaryBlendableMeasureMemberSort=function(m,d,s){var b=this.getPrimaryBlendableMeasureMemberSort();var i=f.isNull(b)||!f.XString.isEqual(m,b.getMeasureMemberName())||!f.XString.isEqual(d,b.getDatasetId())||s!==b.getSortDirection();var a=false;if(f.notNull(d)){var q=this.getQueryManagerByDatasetId(d);var c=f.notNull(q)?q.getQueryModel():null;var p=f.notNull(c)?c.getPrimaryCalculationDimension():null;a=f.notNull(p)&&(p.getStructureMember(m)!==null||p.getDimensionMember(m)!==null);}else{a=f.XCollectionUtils.contains(this.m_primaryBlendedMeasures,function(e){return f.XString.isEqual(e.getName(),m);}.bind(this));}if(i&&a){if(this.getBlendableDimensionSorts().size()>0){this.clearBlendableDimensionSorts();}if(this.getPrimaryBlendableMeasureMemberSort()!==null){this.clearPrimaryBlendableMemberMeasureSort();}this.m_primaryBlendableMeasureMemberSort=f.BlendableMeasureMemberSort.createDimensionFieldSort(m,d,s);this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.clearPrimaryBlendableMemberMeasureSort=function(){if(f.notNull(this.m_primaryBlendableMeasureMemberSort)){this.m_primaryBlendableMeasureMemberSort=f.XObjectExt.release(this.m_primaryBlendableMeasureMemberSort);this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.getPrimaryBlendableMeasureMemberSort=function(){return this.m_primaryBlendableMeasureMemberSort;};f.BlendableQueryManager.prototype.setPrimaryBlendableRank=function(t,m,a,d,b,c){var p=this.getPrimaryBlendableRank();var i=f.isNull(p)||t!==p.getThreshold()||!f.XString.isEqual(m,p.getMeasureMemberName())||!f.XString.isEqual(a,p.getMeasureMemberDatasetId())||!d.isEqualTo(p.getDimensionNames())||!b.isEqualTo(p.getDimensionDatasetIds())||c!==p.getConditionComparisonOperator();var e=false;if(f.notNull(a)){var g=false;var h=false;var j=this.getQueryManagerByDatasetId(a);var k=f.notNull(j)?j.getQueryModel():null;var l=f.notNull(k)?k.getPrimaryCalculationDimension():null;g=f.notNull(l)&&(l.getStructureMember(m)!==null||l.getDimensionMember(m)!==null);if(d.size()===b.size()){var n=d.getIterator();var o=b.getIterator();while(n.hasNext()&&o.hasNext()){var q=n.next();var r=o.next();var s=this.getQueryManagerByDatasetId(r);var u=f.notNull(s)?s.getQueryModel():null;var v=f.notNull(u)?u.getDimensionByName(q):null;if(f.isNull(v)){return;}var w=s!==this.getPrimaryQueryManager();var x=f.BlendingUtils.isDimensionFromLinkedDimension(this,q,r);if(w&&x){return;}}h=true;}e=g&&h;}else{e=f.XCollectionUtils.contains(this.m_primaryBlendedMeasures,function(y){return f.XString.isEqual(y.getName(),m);}.bind(this));}if(i&&e){this.m_primaryBlendableRank=f.BlendableRank.createBlendableRank(t,m,a,d,b,c);this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.clearPrimaryBlendableRank=function(){if(f.notNull(this.m_primaryBlendableRank)){this.m_primaryBlendableRank=f.XObjectExt.release(this.m_primaryBlendableRank);this.notifyNodeChanged();}};f.BlendableQueryManager.prototype.getPrimaryBlendableRank=function(){return this.m_primaryBlendableRank;};f.BlendableQueryManager.prototype.isBlended=function(){var s=this.getSecondaryQueryManagers();return f.XCollectionUtils.contains(s,function(a){return f.BlendingUtils.isQueryModelInUseForBlending(a.getQueryModel(),this.isUseEmptyAllMemberMeasureFilter());}.bind(this));};f.BlendableQueryManager.prototype.supportsBatchBlendingRsStreamingExt=function(){if(this.isBlended()){return this.supportsBatchBlendingRsStreaming();}return this.supportsBatchRsStreaming();};f.OlapImplModule=function(){};f.OlapImplModule.prototype=new f.DfModule();f.OlapImplModule.prototype._ff_c="OlapImplModule";f.OlapImplModule.s_module=null;f.OlapImplModule.getInstance=function(){if(f.isNull(f.OlapImplModule.s_module)){f.DfModule.checkInitialized(f.ProtocolModule.getInstance());f.DfModule.checkInitialized(f.OlapApiModule.getInstance());f.DfModule.checkInitialized(f.OlapApiBaseModule.getInstance());f.DfModule.checkInitialized(f.ResultsetModule.getInstance());f.DfModule.checkInitialized(f.OlapModelModule.getInstance());f.OlapImplModule.s_module=f.DfModule.startExt(new f.OlapImplModule());var r=f.RegistrationService.getInstance();f.QInAConverter.staticSetup();f.QDeltaOperationPhase.staticSetup();f.QDeltaBroadcastPhase.staticSetup();f.QDeltaChangeState.staticSetup();f.QInAImportFactory.staticSetup();f.QInAExportFactory.staticSetup();f.QTechnicalVariableNames.staticSetup();f.InACapabilitiesProvider.staticSetup();f.QFactory.setInstance(f.QFactoryImpl.create());f.HierarchyCatalogServiceConfig.staticSetup();r.addServiceConfig(f.OlapApiModule.XS_HIERARCHY_CATALOG,f.HierarchyCatalogServiceConfig.CLAZZ);f.HierarchyCatalogService.staticSetup();r.addService(f.OlapApiModule.XS_HIERARCHY_CATALOG,f.HierarchyCatalogService.CLAZZ);f.OlapEnvironmentFactoryImpl.staticSetupImpl();f.PlanningFactory.setInstance(new f.PlanningManagerFactoryDummyImpl());f.CommandSpaceFactory.setInstance(new f.CommandSpaceFactoryImpl());f.DfModule.stopExt(f.OlapImplModule.s_module);}return f.OlapImplModule.s_module;};f.OlapImplModule.prototype.getName=function(){return"ff4310.olap.impl";};f.OlapImplModule.getInstance();return sap.firefly;});
