/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff0210.io.native","sap/zen/dsh/firefly/ff0230.io.ext","sap/zen/dsh/firefly/ff1040.kernel.native","sap/zen/dsh/firefly/ff2010.binding"],function(f){"use strict";f.ApplicationFactory={createDefaultApplication:function(){return f.ApplicationFactory.createDefaultApplicationWithVersion(0);},createDefaultApplicationWithVersion:function(x){var a=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,null,x,null,null,null,null,f.ApplicationSystemOption.AUTO,false,null);var d=a.getData();f.XObjectExt.release(a);return d;},createApplicationWithVersionAndKernelBoot:function(x){var a=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,null,x,null,null,null,null,f.ApplicationSystemOption.AUTO,true,null);var d=a.getData();f.XObjectExt.release(a);return d;},createApplicationWithUri:function(u){return f.ApplicationFactory.createApplicationWithUriAndVersion(u,0);},createApplicationWithUriAndVersion:function(u,x){var s=f.XUri.createFromUrl(u);var a=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,null,x,null,null,s,null,f.ApplicationSystemOption.AUTO,false,null);var d=a.getData();f.XObjectExt.release(a);return d;},createApplication:function(p){var a=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,p,0,null,null,null,null,f.ApplicationSystemOption.AUTO,false,null);var d=a.getData();f.XObjectExt.release(a);return d;},createApplicationWithLandscapeBlocking:function(p,s){return f.ApplicationFactory.createApplicationWithVersionAndLandscape(p,0,s);},createApplicationWithVersionAndLandscape:function(p,x,s){return f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,p,x,null,null,null,s,f.ApplicationSystemOption.PATH,false,null);},createApplicationWithDefaultSystem:function(p,s,a){return f.ApplicationFactory.createApplicationWithVersionAndDefaultSystem(p,0,s,a);},createApplicationWithVersionAndDefaultSystem:function(p,x,s,a){var b=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,p,x,s,a,null,null,f.ApplicationSystemOption.LOCATION_AND_TYPE,false,null);var d=b.getData();f.XObjectExt.release(b);return d;},createApplicationFull:function(p,x,s,a,b,c,d,l){return f.ApplicationFactory.createApplicationExt2(d,l,null,null,p,x,s,a,b,c,f.ApplicationSystemOption.AUTO,false,null);},createApplicationExt:function(s,l,c,p,x,a,b,d,e){return f.ApplicationFactory.createApplicationExt2(s,l,c,null,p,x,a,b,d,e,f.ApplicationSystemOption.AUTO,false,null);},createApplicationForOrca:function(s,l,c,p,x,a){return f.ApplicationFactory.createApplicationExt2(s,l,c,null,p,x,null,null,null,a,f.ApplicationSystemOption.PATH,true,f.OrcaAppProgram.DEFAULT_PROGRAM_NAME);},createApplicationForDragonfly:function(l){var e=f.XEnvironment.getInstance();e.setVariable(f.XEnvironmentConstants.FIREFLY_FEATURE_TOGGLES,"+Olap.AutoVariableSubmitCapability");e.setVariable(f.XEnvironmentConstants.FIREFLY_FEATURE_TOGGLES,"+Olap.AutoVariableSubmitFunctionality");return f.ApplicationFactory.createApplicationExt2(f.SyncType.NON_BLOCKING,l,null,null,null,f.XVersion.MAX,null,null,null,null,f.ApplicationSystemOption.PATH,true,f.DragonflyAppProgram.DEFAULT_PROGRAM_NAME);},createApplicationExt2:function(s,l,c,k,p,x,a,b,d,e,g,u,h){var r=f.ApplicationFactory.createApplicationInitializeAction();r.setProcess(p);r.setActiveSyncType(s);r.registerListener(l,c);r.setXVersion(x);r.setSystemType(a);r.setSystemName(b);r.setSystemUri(d);r.setSystemLandscapeUrl(e);r.setSystemOption(g);r.setUseKernelBoot(u);r.setKernel(k);r.setProgramName(h);r.process();return r;},createApplicationInitializeAction:function(){return f.ApplicationInitializeAction.create();}};f.QInAClientInfo={exportClientInfo:function(a,c,s){if(f.notNull(a)){var b=c.getStoryId();var d=c.getStoryName();var l=c.getLanguageLocale();var w=c.getWidgetId();var h=f.XStringUtils.isNotNullAndNotEmpty(b)||f.XStringUtils.isNotNullAndNotEmpty(d)||f.XStringUtils.isNotNullAndNotEmpty(l)||f.XStringUtils.isNotNullAndNotEmpty(w);if(!s&&!h){return;}var e=c.getClientIdentifier();if(c.getSession().hasFeature(f.FeatureToggleOlap.CLIENT_INFO_METADATA)&&f.XStringUtils.isNullOrEmpty(e)&&!h){return;}var g=a.putNewStructure(f.InAConstantsBios.QY_CLIENT_INFO);if(s){g.putStringNotNull(f.InAConstantsBios.QY_CLIENT_VERSION,c.getClientVersion());g.putStringNotNull(f.InAConstantsBios.QY_CLIENT_IDENTIFIER,e);g.putStringNotNull(f.InAConstantsBios.QY_CLIENT_COMPONENT,c.getClientComponent());}var j=f.XListOfString.create();if(h){var k=g.putNewStructure(f.InAConstantsBios.QY_CLIENT_CONTEXT);k.putStringNotNull(f.InAConstantsBios.QY_STORY_ID,b);k.putStringNotNull(f.InAConstantsBios.QY_STORY_NAME,d);k.putStringNotNull(f.InAConstantsBios.QY_LANGUAGE_LOCALE,l);if(f.XStringUtils.isNotNullAndNotEmpty(w)){j.add(w);}}var m=a.getListByKey(f.ConnectionConstants.INA_BATCH);if(f.notNull(m)){var n=m.size();for(var i=0;i<n;i++){var o=m.getStructureAt(i);var p=o.getStructureByKey(f.InAConstantsBios.QY_CLIENT_INFO);o.remove(f.InAConstantsBios.QY_CLIENT_INFO);if(f.isNull(p)){continue;}var q=p.getStructureByKey(f.InAConstantsBios.QY_CLIENT_CONTEXT);if(f.isNull(q)){continue;}var r=q.getListByKey(f.InAConstantsBios.QY_WIDGET_ID);if(f.notNull(r)){j.add(r.getStringAt(0));}}}if(j.hasElements()){var t=g.getStructureByKey(f.InAConstantsBios.QY_CLIENT_CONTEXT).putNewList(f.InAConstantsBios.QY_WIDGET_ID);t.addAllStrings(j);}}}};f.OlapEnvironmentFactory=function(){};f.OlapEnvironmentFactory.prototype=new f.XObject();f.OlapEnvironmentFactory.prototype._ff_c="OlapEnvironmentFactory";f.OlapEnvironmentFactory.s_olapEnvironmentFactory=null;f.OlapEnvironmentFactory.staticSetup=function(){var d=new f.OlapEnvironmentFactory();f.OlapEnvironmentFactory.registerFactory(d);};f.OlapEnvironmentFactory.newInstance=function(a){return f.OlapEnvironmentFactory.s_olapEnvironmentFactory.newOlapEnvironmentInstance(a);};f.OlapEnvironmentFactory.registerFactory=function(o){var a=f.OlapEnvironmentFactory.s_olapEnvironmentFactory;f.OlapEnvironmentFactory.s_olapEnvironmentFactory=o;return a;};f.OlapEnvironmentFactory.prototype.newOlapEnvironmentInstance=function(a){return null;};f.ServiceTypeInfo=function(){};f.ServiceTypeInfo.prototype=new f.XObject();f.ServiceTypeInfo.prototype._ff_c="ServiceTypeInfo";f.ServiceTypeInfo.prototype.createServiceConfigInternal=function(a){var s=this.getServiceConfigReferenceName();var r=f.RegistrationService.getInstance();var b=r.getReferences(s);if(b.size()===1){var c=b.get(0);var d=c.newInstance(a);d.setServiceTypeInfo(this);d.setupConfig(a);return d;}throw f.XException.createIllegalStateException("more than one reference for service config");};f.ServiceUtils=function(){};f.ServiceUtils.prototype=new f.XObject();f.ServiceUtils.prototype._ff_c="ServiceUtils";f.ServiceUtils.getMatchingService=function(c,s,m){var r=f.RegistrationService.getInstance();var a=r.getReferences(s);for(var i=0;i<a.size();i++){var b=a.get(i);var d=b.newInstance(c);if(d.isServiceConfigMatching(c,c.getConnectionContainer(),m)){d.setupService(c);return d;}}return null;};f.NopUsageTracker=function(){};f.NopUsageTracker.prototype=new f.XObject();f.NopUsageTracker.prototype._ff_c="NopUsageTracker";f.NopUsageTracker.prototype.trackUsage=function(a,p,s){};f.NopUsageTracker.prototype.track=function(e){};f.NopUsageTracker.prototype.isEnabled=function(){return false;};f.UsageTrackerProvider={instance:null,getUsageTracker:function(){if(f.isNull(f.UsageTrackerProvider.instance)){f.UsageTrackerProvider.instance=new f.NopUsageTracker();}return f.UsageTrackerProvider.instance;},setUsageTracker:function(i){f.UsageTrackerProvider.instance=i;}};f.BatchRequestManager=function(){};f.BatchRequestManager.prototype=new f.XObject();f.BatchRequestManager.prototype._ff_c="BatchRequestManager";f.BatchRequestManager.CONSTANT_ID=null;f.BatchRequestManager.create=function(s){var b=new f.BatchRequestManager();b.m_session=s;b.m_batchFunctions=f.XList.create();b.m_preQueryNames=f.XHashSetOfString.create();b.m_microCubeNames=f.XHashSetOfString.create();return b;};f.BatchRequestManager.prototype.m_session=null;f.BatchRequestManager.prototype.m_batchFunctions=null;f.BatchRequestManager.prototype.m_preQueryNames=null;f.BatchRequestManager.prototype.m_batchFunctionsIdMapping=null;f.BatchRequestManager.prototype.m_streamingGuid=null;f.BatchRequestManager.prototype.m_functionFactory=null;f.BatchRequestManager.prototype.m_batchModePath=null;f.BatchRequestManager.prototype.m_syncType=null;f.BatchRequestManager.prototype.m_microCubeNames=null;f.BatchRequestManager.prototype.m_cacheHintsEnabled=false;f.BatchRequestManager.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_session=null;this.m_batchFunctions=null;this.m_batchFunctionsIdMapping=null;this.m_streamingGuid=null;this.m_functionFactory=null;this.m_batchModePath=null;this.m_syncType=null;this.m_microCubeNames=f.XObjectExt.release(this.m_microCubeNames);this.m_preQueryNames=f.XObjectExt.release(this.m_preQueryNames);};f.BatchRequestManager.prototype.getBatchFunctions=function(){var b=f.XList.create();for(var i=0;i<this.m_batchFunctions.size();i++){b.add(this.m_batchFunctions.get(i));}return b;};f.BatchRequestManager.prototype.addPreQueryName=function(p){this.m_preQueryNames.add(p);};f.BatchRequestManager.prototype.containsPreQueryName=function(p){return this.m_preQueryNames.contains(p);};f.BatchRequestManager.prototype.addBatchFunction=function(_){this.m_batchFunctions.add(_);};f.BatchRequestManager.prototype.getMicroCubesNames=function(){return this.m_microCubeNames;};f.BatchRequestManager.prototype.addMicroCubeName=function(n){this.m_microCubeNames.add(n);};f.BatchRequestManager.prototype.isRsStreamingEnabled=function(){return f.notNull(this.m_streamingGuid);};f.BatchRequestManager.prototype.executeBatch=function(s,a,b,e){this.removeExecutedFunctions();this.m_preQueryNames.clear();var c=a.getProcess().getApplication();var o=c.getOlapEnvironment();o.clearTransientQueryManager();if(!f.XCollectionUtils.hasElements(this.m_batchFunctions)){return;}this.m_syncType=s;this.m_functionFactory=a;this.m_batchModePath=b;var d=f.PrFactory.createStructure();var r=d.putNewList(f.ConnectionConstants.INA_BATCH);var i=this.addQueriesToRequestList(r);f.QInAClientInfo.exportClientInfo(d,c,a.supportsAnalyticCapability(f.InAConstantsBios.QY_CLIENT_INFO));if(e&&i){this.m_streamingGuid=this.createGuid(null);this.ensureUniqueInstanceIds();var g=d.putNewStructure(f.ConnectionConstants.INA_BATCH_ASYNC_RESPONSE_REQUEST);g.putString(f.ConnectionConstants.INA_BATCH_ID,this.m_streamingGuid);}var _=a.newRpcFunctionInternal(b,false);var h=_.getRpcRequest();h.setMethod(f.HttpRequestMethod.HTTP_POST);h.setAcceptContentType(f.ContentType.APPLICATION_JSON);h.setRequestStructure(d);this.collectProcessingHints(_);_.processFunctionExecution(s,this,null);};f.BatchRequestManager.prototype.collectProcessingHints=function(_){this.m_cacheHintsEnabled=_.getProcessingHint().getBooleanByKeyExt(f.ConnectionParameters.CACHE_HINTS_ENABLED,false);var h=_.getProcessingHint().putNewList(f.ConnectionConstants.INA_BATCH);var i=0;while(i<this.m_batchFunctions.size()){var r=this.m_batchFunctions.get(i);var p=r.getProcessingHint();h.add(p);this.m_cacheHintsEnabled=this.m_cacheHintsEnabled||p.getBooleanByKeyExt(f.ConnectionParameters.CACHE_HINTS_ENABLED,false);i++;}};f.BatchRequestManager.prototype.removeExecutedFunctions=function(){var i=0;while(i<this.m_batchFunctions.size()){var r=this.m_batchFunctions.get(i);var a=r.getRpcRequest().getRequestStructure();if(r.getSyncState()!==f.SyncState.PROCESSING||f.isNull(a)||a.isReleased()){this.m_batchFunctions.removeAt(i);continue;}i++;}};f.BatchRequestManager.prototype.addQueriesToRequestList=function(r){var b=this.m_batchFunctions.size();var a=b>1;for(var i=0;i<b;i++){var c=this.m_batchFunctions.get(i);var d=c.getRpcRequest();var e=d.getRequestStructure();var g=f.BatchRequestDecoratorFactory.getBatchRequestDecorator(this.m_session,e);if(f.isNull(g)){r.add(e);if(this.getInstanceId(e)===null){a=false;}}else{a=false;c.setDecorator(g);var h=g.getRequestItems();if(f.notNull(h)){for(var j=0;j<h.size();j++){r.add(h.get(j));}}}}return a;};f.BatchRequestManager.prototype.executeNextStreamingRequest=function(){var b=f.PrFactory.createStructure();var a=b.putNewStructure(f.ConnectionConstants.INA_ANALYTICS);var c=a.putNewList(f.ConnectionConstants.INA_ACTIONS);var s=c.addNewStructure();s.putString(f.ConnectionConstants.INA_TYPE,f.ConnectionConstants.INA_BATCH_NEXT_ASYNC_RESPONSE);s.putString(f.ConnectionConstants.INA_BATCH_ID,this.m_streamingGuid);var d=s.putNewList(f.ConnectionConstants.INA_BATCH);f.XStream.of(this.m_batchFunctions).map(function(e){return e.getRpcRequest().getRequestStructure();}.bind(this)).filter(function(e){return this.getDataSource(e)!==null;}.bind(this)).forEach(function(e){var g=d.addNewStructure();var h=this.getStructureRootKey(e);if(f.notNull(h)){g=g.putNewStructure(h);}g.put(f.ConnectionConstants.INA_DATA_SOURCE,this.getDataSource(e));}.bind(this));var _=this.m_functionFactory.newRpcFunctionInternal(this.m_batchModePath,false);var r=_.getRpcRequest();r.setMethod(f.HttpRequestMethod.HTTP_POST);r.setAcceptContentType(f.ContentType.APPLICATION_JSON);r.setRequestStructure(b);_.getProcessingHint().putBoolean(f.ConnectionParameters.CACHE_HINTS_ENABLED,this.m_cacheHintsEnabled);_.processFunctionExecution(this.m_syncType,this,null);};f.BatchRequestManager.prototype.onFunctionExecuted=function(e,r,c){f.XBooleanUtils.checkFalse(this.m_batchFunctions.isReleased(),"Fatal error: Batch functions object is not valid anymore");var a=this.updateResponsesInBatchFunctions(e);var b=a.getData();this.endFunctions(b,e);this.removeExecutedFunctions();if(this.isRsStreamingEnabled()&&this.m_batchFunctions.hasElements()){if(e.isValid()&&a.isValid()){this.executeNextStreamingRequest();}else{this.endFunctions(this.m_batchFunctions,e);f.XObjectExt.release(this);}}else{f.XObjectExt.release(this);}f.XObjectExt.release(b);};f.BatchRequestManager.prototype.endFunctions=function(e,a){var s=e.size();for(var i=0;i<s;i++){var _=e.get(i);_.addAllMessages(a);_.endSync();}};f.BatchRequestManager.prototype.updateResponsesInBatchFunctions=function(e){if(e.isValid()){var r=e.getData();var a=r.getRootElement();var b=a.getListByKey(f.ConnectionConstants.INA_BATCH);if(this.isRsStreamingEnabled()){return this.updateRespondedBatchFunctions(b,a);}this.updateAllBatchFunctions(b,a);}return f.ExtResult.create(this.m_batchFunctions,null);};f.BatchRequestManager.prototype.updateAllBatchFunctions=function(b,r){var a=this.m_batchFunctions.size();if(f.notNull(b)){var c=0;for(var k=0;k<a;k++){var d=this.m_batchFunctions.get(k);var e=d.getRpcResponse();var g=d.getDecorator();if(f.isNull(g)){var h=b.getStructureAt(c);e.setRootElement(h,null);c++;}else{var j=g.getItemsSize();var l=f.XList.create();for(var m=0;m<j;m++){var n=b.getStructureAt(c+m);l.add(n);}var o=g.buildResponse(l);e.setRootElement(o,null);c=c+j;}}}else{for(var i=0;i<a;i++){this.m_batchFunctions.get(i).getRpcResponse().setRootElement(r,null);}}};f.BatchRequestManager.prototype.updateRespondedBatchFunctions=function(b,r){var m=f.MessageManager.createMessageManagerExt(this.m_session);var e=f.XList.create();if(f.notNull(b)&&b.hasElements()){var s=b.size();for(var i=0;i<s;i++){var a=b.getStructureAt(i);var c=this.getInstanceId(a);var _=this.m_batchFunctionsIdMapping.getByKey(c);if(f.notNull(_)){_.getRpcResponse().setRootElement(a,null);e.add(_);}else{m.addError(0,"Request not found for response");}}}if(!this.isValidBatchStreamingResponse(r)){m.addError(0,"Response does not contain correct batch id");}return f.ExtResult.create(e,m);};f.BatchRequestManager.prototype.getInstanceId=function(s){var d=this.getDataSource(s);if(f.notNull(d)){return d.getStringByKey(f.ConnectionConstants.INA_INSTANCE_ID);}return null;};f.BatchRequestManager.prototype.getDataSource=function(s){var a=this.getStructureRootKey(s);if(f.notNull(a)){return s.getStructureByKey(a).getStructureByKey(f.ConnectionConstants.INA_DATA_SOURCE);}return f.notNull(s)?s.getStructureByKey(f.ConnectionConstants.INA_DATA_SOURCE):null;};f.BatchRequestManager.prototype.getStructureRootKey=function(s){if(f.isNull(s)){return null;}if(s.containsKey(f.ConnectionConstants.INA_ANALYTICS)){return f.ConnectionConstants.INA_ANALYTICS;}if(s.containsKey(f.ConnectionConstants.INA_METADATA)){return f.ConnectionConstants.INA_METADATA;}if(s.containsKey(f.ConnectionConstants.INA_CUBE)){return f.ConnectionConstants.INA_CUBE;}if(s.containsKey(f.ConnectionConstants.INA_DS_VALIDATION)){return f.ConnectionConstants.INA_DS_VALIDATION;}return null;};f.BatchRequestManager.prototype.ensureUniqueInstanceIds=function(){this.m_batchFunctionsIdMapping=f.XHashMapByString.create();var s=this.m_batchFunctions.size();for(var i=0;i<s;i++){var b=this.m_batchFunctions.get(i);var r=b.getRpcRequest().getRequestStructure();var a=this.getInstanceId(r);if(this.m_batchFunctionsIdMapping.containsKey(a)||f.XStringUtils.isNotNullAndNotEmpty(f.BatchRequestManager.CONSTANT_ID)){a=this.createGuid(f.XInteger.convertToString(i));this.getDataSource(r).putString(f.ConnectionConstants.INA_INSTANCE_ID,a);}this.m_batchFunctionsIdMapping.put(a,b);}};f.BatchRequestManager.prototype.isValidBatchStreamingResponse=function(r){var a=r.getStructureByKey(f.ConnectionConstants.INA_BATCH_ASYNC_RESPONSE_REQUEST);if(f.notNull(a)){var b=a.getStringByKey(f.ConnectionConstants.INA_BATCH_ID);return f.notNull(b)&&f.XString.isEqual(b,this.m_streamingGuid);}return false;};f.BatchRequestManager.prototype.createGuid=function(c){if(f.XStringUtils.isNotNullAndNotEmpty(f.BatchRequestManager.CONSTANT_ID)){return f.XStringUtils.concatenate2(f.BatchRequestManager.CONSTANT_ID,c);}return f.XGuid.getGuid();};f.BatchRequestManagerInAFactory=function(){};f.BatchRequestManagerInAFactory.prototype=new f.BatchRequestManagerFactory();f.BatchRequestManagerInAFactory.prototype._ff_c="BatchRequestManagerInAFactory";f.BatchRequestManagerInAFactory.staticSetupBatchInAFactory=function(){f.BatchRequestManagerFactory.registerFactory(new f.BatchRequestManagerInAFactory());};f.BatchRequestManagerInAFactory.prototype.newBatchRequestManager=function(s){return f.BatchRequestManager.create(s);};f.ServiceType=function(){};f.ServiceType.prototype=new f.ServiceTypeInfo();f.ServiceType.prototype._ff_c="ServiceType";f.ServiceType.createType=function(s){var a=new f.ServiceType();var b=f.XStringUtils.concatenate3(f.RegistrationService.SERVICE_CONFIG,".",s);var c=f.XStringUtils.concatenate3(f.RegistrationService.SERVICE,".",s);a.setupExt(b,c);return a;};f.ServiceType.prototype.m_srvConfigReferenceName=null;f.ServiceType.prototype.m_serviceReferenceName=null;f.ServiceType.prototype.setupExt=function(s,a){this.m_srvConfigReferenceName=s;this.m_serviceReferenceName=a;};f.ServiceType.prototype.createServiceConfig=function(a){return this.createServiceConfigInternal(a);};f.ServiceType.prototype.getServiceReferenceName=function(){return this.m_serviceReferenceName;};f.ServiceType.prototype.getServiceConfigReferenceName=function(){return this.m_srvConfigReferenceName;};f.ServiceType.prototype.toString=function(){var s=f.XStringBuffer.create();if(f.notNull(this.m_srvConfigReferenceName)){s.appendLine(this.m_srvConfigReferenceName);}if(f.notNull(this.m_serviceReferenceName)){s.appendLine(this.m_serviceReferenceName);}return s.toString();};f.DcsUsageTracker=function(){};f.DcsUsageTracker.prototype=new f.XObject();f.DcsUsageTracker.prototype._ff_c="DcsUsageTracker";f.DcsUsageTracker.MAX_INTERVAL=600000;f.DcsUsageTracker.create=function(){var d=new f.DcsUsageTracker();d.m_interval=20000;d.m_enabled=false;d.m_failedCount=0;d.setup();return d;};f.DcsUsageTracker.prototype.m_interval=0;f.DcsUsageTracker.prototype.m_dcsUrl=null;f.DcsUsageTracker.prototype.m_session=null;f.DcsUsageTracker.prototype.m_syncType=null;f.DcsUsageTracker.prototype.eventQueue=null;f.DcsUsageTracker.prototype.m_requestRunning=false;f.DcsUsageTracker.prototype.m_timerHandle=null;f.DcsUsageTracker.prototype.m_xlang=null;f.DcsUsageTracker.prototype.m_enabled=false;f.DcsUsageTracker.prototype.m_tenantId=null;f.DcsUsageTracker.prototype.m_productVersion=null;f.DcsUsageTracker.prototype.m_failedCount=0;f.DcsUsageTracker.prototype.m_language=null;f.DcsUsageTracker.prototype.m_dispatcher=null;f.DcsUsageTracker.prototype.setup=function(){this.eventQueue=f.XList.create();this.m_dispatcher=f.Dispatcher.getInstance();};f.DcsUsageTracker.prototype.setDispatcher=function(d){this.m_dispatcher=d;};f.DcsUsageTracker.prototype.setInterval=function(i){this.m_interval=i;};f.DcsUsageTracker.prototype.setDcsUrl=function(d){this.m_dcsUrl=f.XUri.createFromUrl(d);};f.DcsUsageTracker.prototype.trackUsage=function(a,p,s){if(!this.isEnabled()){return;}this.addEvent(a,p,s);this.checkTimer();};f.DcsUsageTracker.prototype.track=function(e){if(!this.isEnabled()){return;}if(e.getEventTime()===null){e.setEventTime(f.XDateTime.createCurrentLocalDateTime());}this.eventQueue.add(e);this.checkTimer();};f.DcsUsageTracker.prototype.checkTimer=function(){if(this.m_requestRunning){return;}if(f.notNull(this.m_timerHandle)){return;}var n=f.XDouble.convertToInt(this.m_interval*f.XMath.pow(2,this.m_failedCount));this.m_timerHandle=this.m_dispatcher.registerTimer(f.XMath.min(n,f.DcsUsageTracker.MAX_INTERVAL),this,null);};f.DcsUsageTracker.prototype.addEvent=function(a,p,s){var u=new f.UTEvent();u.setSession(s);u.setEventId(a);u.setEventTime(f.XDateTime.createCurrentLocalDateTime());u.setFeature(p.getByKey("feature"));u.setParameters(p);this.eventQueue.add(u);};f.DcsUsageTracker.prototype.isEnabled=function(){return this.m_enabled;};f.DcsUsageTracker.prototype.setEnabled=function(e){this.m_enabled=e;};f.DcsUsageTracker.prototype.process=function(){if(this.eventQueue.isEmpty()){this.cancelTimer();return;}var r=this.createHttpRequest();var h=r.newHttpClient(this.getSession());this.m_requestRunning=true;h.processHttpRequest(this.getSyncType(),this,null);};f.DcsUsageTracker.prototype.cancelTimer=function(){this.m_dispatcher.unregisterInterval(this.m_timerHandle);this.m_timerHandle=f.XObjectExt.release(this.m_timerHandle);};f.DcsUsageTracker.prototype.getSyncType=function(){if(f.isNull(this.m_syncType)){this.m_syncType=f.SyncType.NON_BLOCKING;}return this.m_syncType;};f.DcsUsageTracker.prototype.setSyncType=function(s){this.m_syncType=s;};f.DcsUsageTracker.prototype.getSession=function(){if(f.isNull(this.m_session)){this.m_session=f.DefaultSession.create();}return this.m_session;};f.DcsUsageTracker.prototype.createHttpRequest=function(){var r=f.HttpRequest.create();r.setMethod(f.HttpRequestMethod.HTTP_POST);r.setFromUri(this.getDscUri());r.setContentType(f.ContentType.APPLICATION_JSON);r.setString(this.buildContent());return r;};f.DcsUsageTracker.prototype.getDscUri=function(){if(f.isNull(this.m_dcsUrl)){var l=f.NetworkEnv.getLocation();if(f.isNull(l)){throw f.XException.createIllegalArgumentException("Data Collection Url must be provided");}this.m_dcsUrl=f.XUri.createFromOther(l);this.m_dcsUrl.setPath("/datacollection/api/v2/application/data");this.m_dcsUrl.setQuery("");}return this.m_dcsUrl;};f.DcsUsageTracker.prototype.buildContent=function(){var c=f.PrFactory.createStructure();this.addCommonFacts(c);var a=c.getListByKey("actiondata");var s=this.eventQueue.size();for(var i=0;i<s;i++){var b=f.PrFactory.createStructure();a.add(b);var e=this.eventQueue.get(i);var p=e.getParameters();b.putString("action",e.getEventId());b.putString("feature",e.getFeature());var d=e.getErrorSize();b.putInteger("numoferrormessages",d);if(d>0){var g=f.XStringBuffer.create();var h=e.getErrors().getKeysAsIteratorOfString();while(h.hasNext()){var j=h.next();g.append(j).append(":").append(e.getErrors().getByKey(j)).append(";");}b.putString("errormessages",g.toString());}var v=e.getEventTime().toIsoFormatWithFractions(3);b.putString("actiontimestamp",f.XString.replace(v,"T"," "));b.putString("sessionid",e.getSession().getAppSessionId());b.putInteger("actionduration",0);b.putInteger("xversion",this.getSession().getXVersion());var o=b.putNewList("options");var k=p.getKeysAsIteratorOfString();while(k.hasNext()){var l=k.next();if(f.XString.compare(l,"actionId")!==0&&f.XString.compare(l,"feature")!==0){var m=o.addNewStructure();m.putString("param",l);m.putString("value",p.getByKey(l));}}}this.eventQueue.clear();return f.PrUtils.serialize(c,true,true,0);};f.DcsUsageTracker.prototype.addCommonFacts=function(c){c.putString("applicationtype","service");c.putString("applicationname","firefly");c.putString("fireflyversion",f.XLibVersionUtil.getLibVersion(this.getSession()));c.putString("productversion",this.getProductVersion());c.putString("xlang",this.mapXLang());c.putString("tenantid",this.getTenantId());c.putString("os",f.XSystemUtils.getOsName());c.putString("language",this.getLanguage());c.putString("userid","");var l=f.NetworkEnv.getLocation();var h="N/A";if(f.notNull(l)&&f.XStringUtils.isNotNullAndNotEmpty(l.getHost())){h=l.getHost();}c.putString("publichost",h);c.putNewList("actiondata");};f.DcsUsageTracker.prototype.mapXLang=function(){if(f.isNull(this.m_xlang)){var x=f.XLanguage.getLanguage();if(x===f.XLanguage.JAVASCRIPT){this.m_xlang="js";}else if(x===f.XLanguage.TYPESCRIPT){this.m_xlang="ts";}else if(x===f.XLanguage.JAVA){this.m_xlang="java";}else if(x===f.XLanguage.CSHARP){this.m_xlang="csharp";}else if(x===f.XLanguage.CPP){this.m_xlang="cpp";}else if(x===f.XLanguage.OBJECTIVE_C){this.m_xlang="objc";}}return this.m_xlang;};f.DcsUsageTracker.prototype.onHttpResponse=function(e,r,c){if(r.getStatusCode()!==202){this.m_failedCount=this.m_failedCount===10?10:this.m_failedCount+1;}else{this.m_failedCount=0;}this.m_requestRunning=false;this.cancelTimer();};f.DcsUsageTracker.prototype.onTimerEvent=function(t,c){this.process();};f.DcsUsageTracker.prototype.getTenantId=function(){return this.m_tenantId;};f.DcsUsageTracker.prototype.setTenantId=function(t){this.m_tenantId=t;};f.DcsUsageTracker.prototype.getProductVersion=function(){return this.m_productVersion;};f.DcsUsageTracker.prototype.setProductVersion=function(p){this.m_productVersion=p;};f.DcsUsageTracker.prototype.getLanguage=function(){return f.notNull(this.m_language)?this.m_language:"N/A";};f.DcsUsageTracker.prototype.setLanguage=function(l){this.m_language=l;};f.UTEvent=function(){};f.UTEvent.prototype=new f.XObject();f.UTEvent.prototype._ff_c="UTEvent";f.UTEvent.prototype.eventTime=null;f.UTEvent.prototype.host=null;f.UTEvent.prototype.tenantId=null;f.UTEvent.prototype.session=null;f.UTEvent.prototype.m_eventId=null;f.UTEvent.prototype.m_parameters=null;f.UTEvent.prototype.m_feature=null;f.UTEvent.prototype.errors=null;f.UTEvent.prototype.getEventTime=function(){return this.eventTime;};f.UTEvent.prototype.setEventTime=function(e){this.eventTime=e;};f.UTEvent.prototype.getHost=function(){return this.host;};f.UTEvent.prototype.setHost=function(h){this.host=h;};f.UTEvent.prototype.getTenantId=function(){return this.tenantId;};f.UTEvent.prototype.setTenantId=function(t){this.tenantId=t;};f.UTEvent.prototype.getSession=function(){return this.session;};f.UTEvent.prototype.setSession=function(s){this.session=s;};f.UTEvent.prototype.setEventId=function(e){this.m_eventId=e;};f.UTEvent.prototype.getEventId=function(){return this.m_eventId;};f.UTEvent.prototype.setParameters=function(p){this.m_parameters=p;};f.UTEvent.prototype.getParameters=function(){return this.m_parameters;};f.UTEvent.prototype.getFeature=function(){return this.m_feature;};f.UTEvent.prototype.setFeature=function(a){this.m_feature=a;};f.UTEvent.prototype.getErrorSize=function(){if(f.notNull(this.errors)){return this.errors.size();}return 0;};f.UTEvent.prototype.getErrors=function(){return this.errors;};f.UTEvent.prototype.setErrors=function(e){this.errors=e;};f.DfApplicationContext=function(){};f.DfApplicationContext.prototype=new f.XObjectExt();f.DfApplicationContext.prototype._ff_c="DfApplicationContext";f.DfApplicationContext.prototype.m_application=null;f.DfApplicationContext.prototype.setupApplicationContext=function(a){this.setApplication(a);};f.DfApplicationContext.prototype.releaseObject=function(){this.m_application=null;f.XObjectExt.prototype.releaseObject.call(this);};f.DfApplicationContext.prototype.getLogWriter=function(){var s=this.getSession();if(f.notNull(s)){return s.getLogWriter();}return null;};f.DfApplicationContext.prototype.getSession=function(){var a=this.getApplication();return f.isNull(a)?null:a.getSession();};f.DfApplicationContext.prototype.getApplication=function(){return f.XWeakReferenceUtil.getHardRef(this.m_application);};f.DfApplicationContext.prototype.setApplication=function(a){this.m_application=f.XWeakReferenceUtil.getWeakRef(a);};f.DfApplicationContext.prototype.toString=function(){return f.isNull(this.m_application)?"":this.m_application.toString();};f.DfApplicationContextHard=function(){};f.DfApplicationContextHard.prototype=new f.XObjectExt();f.DfApplicationContextHard.prototype._ff_c="DfApplicationContextHard";f.DfApplicationContextHard.prototype.m_application=null;f.DfApplicationContextHard.prototype.setupApplicationContext=function(a){this.setApplication(a);};f.DfApplicationContextHard.prototype.releaseObject=function(){this.m_application=null;f.XObjectExt.prototype.releaseObject.call(this);};f.DfApplicationContextHard.prototype.getLogWriter=function(){var s=this.getSession();if(f.notNull(s)){return s.getLogWriter();}return null;};f.DfApplicationContextHard.prototype.getSession=function(){var a=this.getApplication();return f.isNull(a)?null:a.getSession();};f.DfApplicationContextHard.prototype.getApplication=function(){return this.m_application;};f.DfApplicationContextHard.prototype.setApplication=function(a){this.m_application=a;};f.DfApplicationContextHard.prototype.toString=function(){return f.isNull(this.m_application)?"":this.m_application.toString();};f.FileSystemService=function(){};f.FileSystemService.prototype=new f.XObjectExt();f.FileSystemService.prototype._ff_c="FileSystemService";f.FileSystemService.FILES="Files";f.FileSystemService.NAME="Name";f.FileSystemService.TYPE="Type";f.FileSystemService.IS_EXECUTABLE="IsExecutable";f.FileSystemService.TYPE_DIR="Dir";f.FileSystemService.TYPE_FILE="File";f.FileSystemService.EXISTING="Existing";f.FileSystemService.prototype.m_env=null;f.FileSystemService.prototype.m_kernelBase=null;f.FileSystemService.prototype.initServerContainer=function(e){this.m_env=e;this.m_kernelBase=f.Kernel.create(e);var s=this.m_kernelBase.getKernelProcessBase();s.newWorkingTaskManager(f.WorkingTaskManagerType.SINGLE_THREADED);};f.FileSystemService.prototype.onHttpRequest=function(s){var r=s.newServerResponse();var c=s.getClientRequest();var e=f.XHashMapOfStringByString.create();e.putAll(this.m_env);var u=c.getUser();if(f.notNull(u)){e.put(f.XEnvironmentConstants.FIREFLY_KERNEL_USER,u);}e.put("ff_vfs","true");var a=f.XFile.createExt(this.m_kernelBase.getSession(),"vfs:///",f.PathFormat.URL,f.VarResolveMode.NONE);var b=this.entryPoint(a,c);if(f.notNull(b)){r.setFromContent(b);r.setStatusCode(200);}else{r.setString("Oops, nothing found ");r.setContentType(f.ContentType.TEXT_PLAIN);r.setStatusCode(404);}s.setResponse(r);};f.FileSystemService.prototype.entryPoint=function(r,c){var p=c.getRelativePath();if(f.XString.endsWith(p,"/")){p=f.XStringUtils.concatenate2(p,".index.json");}var t=f.XStringTokenizer.splitString(p,"/");var s=t.size();if(s>0){var a=f.XContent.createContent();var b;var l=t.get(s-1);l=f.XString.toLowerCase(l);if(f.XString.isEqual(l,".index.json")){var d=f.XString.lastIndexOf(p,"/");var e=f.XString.substring(p,0,d);if(f.XStringUtils.isNotNullAndNotEmpty(e)){b=r.newChild(e);}else{b=r;}var g=this.listFiles(b);a.setJsonObject(g);a.setContentType(f.ContentType.APPLICATION_JSON);return a;}else if(f.XString.isEqual(l,".info.json")){var h=f.XString.lastIndexOf(p,"/");var i=f.XString.substring(p,0,h);b=r.newChild(i);var j=this.fileInfo(b);a.setJsonObject(j);a.setContentType(f.ContentType.APPLICATION_JSON);return a;}else{var v=r.getVfsUri();var k=f.XUri.createChild(v,p);k.setQuery(c.getQuery());b=f.XFile.createByUri(r.getSession(),k);if(b.isExisting()&&b.isFile()){var m=null;var n=null;if(b.getFileType()===f.XFileType.PRG){var o=b.processExecute(f.SyncType.BLOCKING,null,null);m=b.getFileContent();n=o;}else{m=b.load();n=b;}if(f.notNull(m)&&n.isValid()){var w=f.XContent.createContent();w.setFromContent(m);var q=f.ContentType.lookupByFileEnding(l);if(f.notNull(q)){w.setContentType(q);}return w;}}}}return null;};f.FileSystemService.prototype.fileInfo=function(a){var c=f.PrFactory.createStructure();this.addFileEntry(a,c);return c;};f.FileSystemService.prototype.listFiles=function(a){var c=f.PrFactory.createStructure();var b=c.putNewList(f.FileSystemService.FILES);if(a.isDirectory()){var d=a.getChildren();for(var i=0;i<d.size();i++){var e=d.get(i);var g=b.addNewStructure();this.addFileEntry(e,g);}}return c;};f.FileSystemService.prototype.addFileEntry=function(a,c){c.putString(f.FileSystemService.NAME,a.getName());if(a.isExisting()){if(a.isDirectory()){c.putString(f.FileSystemService.TYPE,f.FileSystemService.TYPE_DIR);}else{c.putString(f.FileSystemService.TYPE,f.FileSystemService.TYPE_FILE);}if(a.isExecutable()){c.putBoolean(f.FileSystemService.IS_EXECUTABLE,true);}}else{c.putBoolean(f.FileSystemService.EXISTING,false);}};f.FileSystemServiceV2=function(){};f.FileSystemServiceV2.prototype=new f.XObjectExt();f.FileSystemServiceV2.prototype._ff_c="FileSystemServiceV2";f.FileSystemServiceV2.prototype.m_env=null;f.FileSystemServiceV2.prototype.m_kernelBase=null;f.FileSystemServiceV2.prototype.initServerContainer=function(e){this.m_env=e;this.m_kernelBase=f.Kernel.create(e);var s=this.m_kernelBase.getKernelProcessBase();s.newWorkingTaskManager(f.WorkingTaskManagerType.SINGLE_THREADED);};f.FileSystemServiceV2.prototype.onHttpRequest=function(s){var r=s.newServerResponse();var c=s.getClientRequest();var e=f.XHashMapOfStringByString.create();e.putAll(this.m_env);var u=c.getUser();if(f.notNull(u)){e.put(f.XEnvironmentConstants.FIREFLY_KERNEL_USER,u);}e.put("ff_vfs","true");this.validateClientRequest(c,r);if(r.getStatusCode()===0){var a=f.XFile.createExt(this.m_kernelBase.getSession(),"vfs:///",f.PathFormat.URL,f.VarResolveMode.NONE);var t=this.entryPoint(a,c);if(!f.XString.isEqual(c.getQueryMap().getByKey(f.XRemoteHttpFileConstants.VFS),"false")){var b=this.createFileDescription(t);r.setJsonObject(b);r.setStatusCode(200);f.XLogger.println(f.XStringUtils.concatenate2("Result: ",f.PrUtils.serialize(b,false,false,0)));f.XCollectionUtils.forEach(t.getMessages(),function(i){f.XLogger.println(f.XStringUtils.concatenate3(i.getSeverity().toString(),": ",i.getText()));}.bind(this));}else{if(f.isNull(t)||!t.isExisting()){r.setStatusCode(f.HttpStatusCode.SC_NOT_FOUND);}else{var m=f.MessageManagerSimple.createMessageManager();var d=this.getFileContent(t,m);if(m.isValid()){r.setFromContent(d);r.setStatusCode(f.HttpStatusCode.SC_OK);}else{r.setStatusCode(f.HttpStatusCode.SC_INTERNAL_SERVER_ERROR);r.setStatusCodeDetails(m.getSummary());}}}}s.setResponse(r);};f.FileSystemServiceV2.prototype.entryPoint=function(r,c){var p=c.getRelativePath();var t=f.XStringTokenizer.splitString(p,"/");var s=t.size();var a=null;if(s>0){var v=r.getVfsUri();var b=f.XUri.createChild(v,p);b.setQuery(c.getQuery());a=f.XFile.createByUri(r.getSession(),b);var h=c.getMethod();var d=f.XStringBuffer.create();d.append("Processing ").append(b.toString()).append(" Method=").append(h.getName()).append(", resolved to native '").append(a.getNativePath()).append("'");f.XLogger.println(d.toString());if(h===f.HttpRequestMethod.HTTP_POST){var e=c.getJsonContent().asStructure();f.XLogger.println("Update from:");f.XLogger.println(c.getStringContentWithCharset(-1));var i=f.XString.isEqual(e.getStringByKey(f.XRemoteHttpFileConstants.FILE_TYPE),f.XRemoteHttpFileConstants.FILE_TYPE_DIR);if(!a.isExisting()){if(i){a.mkdirs();}else{var g=a.getParent();g.mkdirs();if(!g.isValid()){a.addAllMessages(g);}}}if(!i){var j=e.getStringByKey(f.XRemoteHttpFileConstants.CONTENT);if(f.notNull(j)){a.saveByteArray(f.XByteArray.convertFromString(j));}}var n=e.getStringByKey(f.XRemoteHttpFileConstants.NEW_FILE_NAME);if(f.XStringUtils.isNotNullAndNotEmpty(n)){var k=a.rename(n);if(k.isValid()){a=k;}else{f.XLogger.println(k.getSummary());a.addAllMessages(k);}}}else if(h===f.HttpRequestMethod.HTTP_DELETE){if(a.isExisting()){if(a.isDirectory()){a.deleteRecursive();}else{a.deleteFile();}}}}return a;};f.FileSystemServiceV2.prototype.validateClientRequest=function(c,r){r.setStatusCode(0);};f.FileSystemServiceV2.prototype.createFileDescription=function(t){var a=f.PrFactory.createStructure();this.addFileEntry(t,a);this.addErrorMessages(t,a);if(t.isExisting()){var d=t.isDirectory();if(d){a.put(f.XRemoteHttpFileConstants.CHILDREN,this.listFiles(t));}else{var m=f.MessageManagerSimple.createMessageManager();var l=this.getFileContent(t,m);if(f.notNull(l)&&m.isValid()){var c=l.getContentType();a.putString(f.XRemoteHttpFileConstants.CONTENT_TYPE,c.getName());var b=c.isTypeOf(f.ContentType.BINARY)?f.XByteArray.convertToString(l.getByteArray()):l.getString();a.putString(f.XRemoteHttpFileConstants.CONTENT,b);}}}return a;};f.FileSystemServiceV2.prototype.addErrorMessages=function(t,a){var m=t.getMessages();if(f.XCollectionUtils.hasElements(m)){var b=a.putNewList("Messages");var c=f.PrFactory.createStructure();c.putString("Text","File operation failed");c.putString("Type",f.Severity.ERROR.getName());c.putInteger("Code",f.ErrorCodes.SYSTEM_IO_WRITE_ACCESS);b.add(c);f.XStream.of(m).forEach(function(d){f.XLogger.println(d.getText());}.bind(this));}};f.FileSystemServiceV2.prototype.getFileContent=function(t,m){var l;if(t.getFileType()===f.XFileType.PRG){var e=t.processExecute(f.SyncType.BLOCKING,null,null);l=t.getFileContent();m.addAllMessages(e);}else{l=t.load();m.addAllMessages(t);}return l;};f.FileSystemServiceV2.prototype.listFiles=function(a){var b=f.PrFactory.createList();if(a.isDirectory()){var c=a.getChildren();for(var i=0;i<c.size();i++){var d=c.get(i);var e=b.addNewStructure();this.addFileEntry(d,e);}}return b;};f.FileSystemServiceV2.prototype.addFileEntry=function(a,c){c.putString(f.XRemoteHttpFileConstants.FILE_NAME,a.getName());if(a.isExisting()){c.putBoolean(f.XRemoteHttpFileConstants.EXISTS,true);c.putString(f.XRemoteHttpFileConstants.FILE_TYPE,a.isDirectory()?f.XRemoteHttpFileConstants.FILE_TYPE_DIR:f.XRemoteHttpFileConstants.FILE_TYPE_FILE);if(a.isExecutable()){c.putBoolean(f.XRemoteHttpFileConstants.EXECUTABLE,true);}}else{c.putBoolean(f.XRemoteHttpFileConstants.EXISTS,false);}};f.DfApplication=function(){};f.DfApplication.prototype=new f.DfProcessContext();f.DfApplication.prototype._ff_c="DfApplication";f.DfApplication.prototype.m_undoManager=null;f.DfApplication.prototype.m_releaseProcess=false;f.DfApplication.prototype.m_olapEnvironment=null;f.DfApplication.prototype.m_serviceRegistry=null;f.DfApplication.prototype.m_dataProviders=null;f.DfApplication.prototype.m_subApplications=null;f.DfApplication.prototype.m_bindingManager=null;f.DfApplication.prototype.m_version=null;f.DfApplication.prototype.m_identifier=null;f.DfApplication.prototype.m_component=null;f.DfApplication.prototype.m_storyId=null;f.DfApplication.prototype.m_storyName=null;f.DfApplication.prototype.m_languageLocale=null;f.DfApplication.prototype.setup=function(){f.DfProcessContext.prototype.setup.call(this);this.m_dataProviders=f.XList.create();this.m_subApplications=f.XList.create();this.m_serviceRegistry=f.XHashMapByString.create();};f.DfApplication.prototype.releaseObject=function(){this.m_subApplications=f.XObjectExt.release(this.m_subApplications);this.m_serviceRegistry=f.XObjectExt.release(this.m_serviceRegistry);this.m_bindingManager=f.XObjectExt.release(this.m_bindingManager);this.m_version=null;this.m_identifier=null;this.m_component=null;this.m_storyId=null;this.m_storyName=null;this.m_languageLocale=null;if(this.m_releaseProcess){f.XObjectExt.release(this.getProcess());}f.DfProcessContext.prototype.releaseObject.call(this);};f.DfApplication.prototype.releaseManagedObjects=function(){if(!this.isReleased()){this.releaseAllSubApplications();this.releaseDataProviders();this.m_dataProviders=f.XObjectExt.release(this.m_dataProviders);this.releaseServices();this.m_olapEnvironment=f.XObjectExt.release(this.m_olapEnvironment);}};f.DfApplication.prototype.setClientInfo=function(v,i,c){this.m_version=v;this.m_identifier=i;this.m_component=c;};f.DfApplication.prototype.getClientComponent=function(){return this.m_component;};f.DfApplication.prototype.getClientVersion=function(){return this.m_version;};f.DfApplication.prototype.getClientIdentifier=function(){return this.m_identifier;};f.DfApplication.prototype.setWidgetId=function(w){};f.DfApplication.prototype.getWidgetId=function(){return null;};f.DfApplication.prototype.clearClientInfo=function(){this.m_version=null;this.m_identifier=null;this.m_component=null;this.m_storyId=null;this.m_storyName=null;this.m_languageLocale=null;};f.DfApplication.prototype.getOlapEnvironment=function(){return this.getDocument("DefaultOlapEnvironment",f.XComponentType._DATASOURCE);};f.DfApplication.prototype.getDocument=function(n,t){if(f.isNull(this.m_olapEnvironment)){this.m_olapEnvironment=f.OlapEnvironmentFactory.newInstance(this);}return this.m_olapEnvironment;};f.DfApplication.prototype.releaseDataProviders=function(){if(f.notNull(this.m_dataProviders)){while(this.m_dataProviders.size()>0){var c=this.m_dataProviders.size();var d=this.m_dataProviders.get(0);f.XObjectExt.release(d);if(c===this.m_dataProviders.size()){throw f.XException.createIllegalStateException("DataProvider was not correctly released from storage");}}}};f.DfApplication.prototype.releaseServices=function(){if(f.notNull(this.m_serviceRegistry)){var k=this.m_serviceRegistry.getKeysAsReadOnlyListOfString();for(var i=0;i<k.size();i++){var a=k.get(i);var s=this.m_serviceRegistry.getByKey(a);if(f.notNull(s)&&!s.isReleased()){for(var b=s.size()-1;b>-1;b--){var c=s.get(b);f.XObjectExt.release(c);}s.clear();f.XObjectExt.release(s);}}this.m_serviceRegistry.clear();}};f.DfApplication.prototype.getDataProviders=function(){return this.m_dataProviders;};f.DfApplication.prototype.registerDataProvider=function(d){if(f.notNull(d)){this.m_dataProviders.add(d);}};f.DfApplication.prototype.unregisterDataProvider=function(d){if(f.notNull(d)){this.m_dataProviders.removeElement(d);}};f.DfApplication.prototype.getReferenceNameFromService=function(s){if(f.notNull(s)){var a=s.getServiceConfig();if(f.notNull(a)){var b=a.getServiceTypeInfo();if(f.notNull(b)){return b.getServiceReferenceName();}}}return null;};f.DfApplication.prototype.registerService=function(s){var a=this.getReferenceNameFromService(s);if(f.notNull(a)){var b=this.m_serviceRegistry.getByKey(a);if(f.isNull(b)){b=f.XList.create();this.m_serviceRegistry.put(a,b);}for(var i=0;i<b.size();i++){var e=b.get(i);if(s===e){return;}}b.add(s);}};f.DfApplication.prototype.unregisterService=function(s){var a=this.getReferenceNameFromService(s);if(f.notNull(a)){if(f.notNull(this.m_serviceRegistry)){var b=this.m_serviceRegistry.getByKey(a);if(f.notNull(b)&&!b.isReleased()){for(var i=0;i<b.size();i++){var e=b.get(i);if(s===e){b.removeAt(i);break;}}}}}};f.DfApplication.prototype.getServices=function(s){if(f.notNull(s)){var a=s.getServiceReferenceName();if(f.notNull(a)){if(f.notNull(this.m_serviceRegistry)){var b=this.m_serviceRegistry.getByKey(a);if(f.notNull(b)&&b.size()>0){return b;}}}}return null;};f.DfApplication.prototype.newSubApplication=function(p){var s=f.SubApplication.create(this,p);this.m_subApplications.add(s);return s;};f.DfApplication.prototype.releaseAllSubApplications=function(){if(f.notNull(this.m_subApplications)){while(this.m_subApplications.size()>0){var c=this.m_subApplications.size();var s=this.m_subApplications.get(0);f.XObjectExt.release(s);if(c===this.m_subApplications.size()){throw f.XException.createIllegalStateException("DataProvider was not correctly released from storage");}}}};f.DfApplication.prototype.unregisterSubApplication=function(s){var i=this.m_subApplications.getIndex(s);if(i!==-1){this.m_subApplications.removeAt(i);}};f.DfApplication.prototype.createNextInstanceId=function(){return f.XGuid.getGuid();};f.DfApplication.prototype.selectProviderComponents=function(o,d,c,a){var b=o.getDomain();if(f.isNull(b)||b===f.SigSelDomain.CONTEXT){b=d;}if(b===f.SigSelDomain.DATA){var e=f.XList.create();var g=o.getOperationType();var h=this.getDataProviders();if(g===f.SigSelType.MATCH_NAME){var n=o.getName();for(var k=0;k<h.size();k++){var i=h.get(k);var j=i.getComponentType();if(f.XString.isEqual(n,i.getDataProviderName())&&j.isTypeOf(f.IoComponentType.DATA_PROVIDER)){e.add(i);break;}}}else if(g===f.SigSelType.MATCH){var s=o.getSelectedComponentType();if(f.notNull(s)){for(var m=0;m<h.size()&&(a===-1||e.size()<a);m++){var l=h.get(m);var p=l.getComponentType();if(p.isTypeOf(s)){e.add(l);}}}}return e;}return null;};f.DfApplication.prototype.setStoryId=function(s){this.m_storyId=s;};f.DfApplication.prototype.getStoryId=function(){return this.m_storyId;};f.DfApplication.prototype.setStoryName=function(s){this.m_storyName=s;};f.DfApplication.prototype.getStoryName=function(){return this.m_storyName;};f.DfApplication.prototype.setLanguageLocale=function(l){this.m_languageLocale=l;};f.DfApplication.prototype.getLanguageLocale=function(){return this.m_languageLocale;};f.DfApplication.prototype.setDefaultSyncType=function(s){this.getProcess().setDefaultSyncType(s);};f.DfApplication.prototype.setProcessExt=function(p,r){this.setProcess(p);this.m_releaseProcess=r;var s=p.getSelector();s.registerSelector(f.SigSelDomain.DATA,this);this.m_undoManager=f.UndoManager.create(this);this.m_bindingManager=f.DpBindingManager.create(p);p.setEntity(f.ProcessEntity.APPLICATION,this);};f.DfApplication.prototype.getDefaultSyncType=function(){return this.getProcess().getDefaultSyncType();};f.DfApplication.prototype.getXVersion=function(){return this.getProcess().getXVersion();};f.DfApplication.prototype.getBindingManager=function(){return this.m_bindingManager;};f.DfApplication.prototype.getHttpExchangeEnhancer=function(){return this.getSession().getHttpExchangeEnhancer();};f.DfApplication.prototype.getUiManager=function(){return this.getUiManagerExt(true);};f.DfApplication.prototype.getUndoManager=function(){return this.m_undoManager;};f.RepoMountPoint=function(){};f.RepoMountPoint.prototype=new f.DfNameObject();f.RepoMountPoint.prototype._ff_c="RepoMountPoint";f.RepoMountPoint.createConditional=function(s,t,n,u){var a=f.XUri.createFromFileSystemPath(s,u,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.notNull(a)){return f.RepoMountPoint.create(t,n,a);}else{return null;}};f.RepoMountPoint.create=function(t,n,u){var a=new f.RepoMountPoint();a.setupExt(t,n,u);return a;};f.RepoMountPoint.prototype.m_uri=null;f.RepoMountPoint.prototype.m_type=null;f.RepoMountPoint.prototype.setupExt=function(t,n,u){this._setupInternal(n);this.m_uri=u;this.m_type=t;};f.RepoMountPoint.prototype.getUri=function(){return this.m_uri;};f.RepoMountPoint.prototype.getMountType=function(){return this.m_type;};f.RepositoryManager=function(){};f.RepositoryManager.prototype=new f.DfApplicationContext();f.RepositoryManager.prototype._ff_c="RepositoryManager";f.RepositoryManager.create=function(a){var r=new f.RepositoryManager();r.setupApplicationContext(a);return r;};f.RepositoryManager.prototype.m_location=null;f.RepositoryManager.prototype.setupApplicationContext=function(a){f.DfApplicationContext.prototype.setupApplicationContext.call(this,a);};f.RepositoryManager.prototype.getLocation=function(){return this.m_location;};f.RepositoryManager.prototype.setLocation=function(l){this.m_location=l;};f.RepositoryManager.prototype.newRpcFunction=function(u){var a=this.getApplication();var r=a.getRepositoryManager();var b=r.getLocation();var c;if(f.isNull(b)){c=f.XUri.createFromUrl(u);}else{c=f.XUri.createFromUrlWithParent(u,b,false);}var s=c.getUrlStringExt(true,true,true,true,true,false,false,false);var d=f.XUri.createFromUrl(s);var e=c.getUrlStringExt(false,false,false,false,false,true,true,true);var g=a.getSystemLandscape();var t=f.XStringUtils.concatenate3("##Tmp#",f.XGuid.getGuid(),"##");g.setSystemByUri(t,d,f.SystemType.GENERIC);var h=a.getConnection(t);var i=h.newRpcFunction(e);var j=i.getRpcRequest();j.setMethod(f.HttpRequestMethod.HTTP_GET);return i;};f.UndoManager=function(){};f.UndoManager.prototype=new f.DfApplicationContext();f.UndoManager.prototype._ff_c="UndoManager";f.UndoManager.create=function(a){var n=new f.UndoManager();n.setupApplicationContext(a);a.getSession().registerInterruptStepListener(n,null);n.m_undoStates=f.XListOfString.create();n.m_redoStates=f.XListOfString.create();n.m_listeners=f.XList.create();return n;};f.UndoManager.prototype.m_undoStates=null;f.UndoManager.prototype.m_redoStates=null;f.UndoManager.prototype.m_listeners=null;f.UndoManager.prototype.stackSize=0;f.UndoManager.prototype.processUndo=function(s,l,c){var a=null;var b=this.m_undoStates.size();if(b>1){this.m_redoStates.add(this.m_undoStates.removeAt(b-1));a=this.m_undoStates.get(b-2);}this.logStates(a);var d=f.UndoRedoAction.createAndRun(s,this,l,c,a,this.getApplication().getOlapEnvironment());this.notifyListener();return d;};f.UndoManager.prototype.processRedo=function(s,l,c){var a=null;var b=this.m_redoStates.size();if(b>0){a=this.m_redoStates.removeAt(b-1);this.m_undoStates.add(a);}this.logStates(a);var d=f.UndoRedoAction.createAndRun(s,this,l,c,a,this.getApplication().getOlapEnvironment());this.notifyListener();return d;};f.UndoManager.prototype.getAvailableUndoStepCount=function(){return f.XMath.max(this.m_undoStates.size()-1,0);};f.UndoManager.prototype.getAvailableRedoStepCount=function(){return this.m_redoStates.size();};f.UndoManager.prototype.registerUndoManagerListener=function(l){this.m_listeners.add(l);};f.UndoManager.prototype.unregisterUndoManagerListener=function(l){this.m_listeners.removeElement(l);};f.UndoManager.prototype.onInterruptStepStart=function(s,c){if(this.m_undoStates.isEmpty()){this.onInterruptStepEnd(s,c);}else{var a=this.m_undoStates.get(this.m_undoStates.size()-1);this.getApplication().getOlapEnvironment().getDocumentStateManager().updateDocumentState(a);}};f.UndoManager.prototype.onInterruptStepEnd=function(s,c){var n=this.getApplication().getOlapEnvironment().getDocumentStateManager().recordDocumentState();this.clear(this.m_redoStates);this.m_undoStates.add(n);this.logStates(n);this.updateStack();this.notifyListener();};f.UndoManager.prototype.reset=function(){this.clear(this.m_redoStates);this.clear(this.m_undoStates);};f.UndoManager.prototype.setMaxAvailableSteps=function(m){this.stackSize=m;this.updateStack();};f.UndoManager.prototype.updateStack=function(){if(this.stackSize>0){while(this.m_undoStates.size()-1>this.stackSize){var s=this.m_undoStates.removeAt(0);this.getApplication().getOlapEnvironment().getDocumentStateManager().clearDocumentState(s);}}};f.UndoManager.prototype.logStates=function(s){this.getSession().getLogger().log(f.XStringUtils.concatenate2("UndoManager: new currentState ->",s));};f.UndoManager.prototype.notifyListener=function(){var s=this.m_listeners.size();for(var i=0;i<s;i++){this.m_listeners.get(i).undoManagerStateChanged();}};f.UndoManager.prototype.clear=function(s){var i=s.getIterator();while(i.hasNext()){this.getApplication().getOlapEnvironment().getDocumentStateManager().clearDocumentState(i.next());}s.clear();};f.UndoManager.prototype.dump=function(){var d=this.getApplication().getOlapEnvironment().getDocumentStateManager();var s=f.PrFactory.createStructure();var u=s.putNewList("UndoStates");var a=this.m_undoStates.size();for(var i=a-1;i>=0;i--){u.add(d.dumpState(this.m_undoStates.get(i)));}var r=s.putNewList("RedoStates");var b=this.m_redoStates.size();for(var j=b-1;j>=0;j--){r.add(d.dumpState(this.m_redoStates.get(j)));}return f.PrUtils.serialize(s,false,true,2);};f.ApplicationSystemOption=function(){};f.ApplicationSystemOption.prototype=new f.XConstant();f.ApplicationSystemOption.prototype._ff_c="ApplicationSystemOption";f.ApplicationSystemOption.NONE=null;f.ApplicationSystemOption.AUTO=null;f.ApplicationSystemOption.PATH=null;f.ApplicationSystemOption.LOCATION_AND_TYPE=null;f.ApplicationSystemOption.staticSetup=function(){f.ApplicationSystemOption.NONE=f.XConstant.setupName(new f.ApplicationSystemOption(),"None");f.ApplicationSystemOption.AUTO=f.XConstant.setupName(new f.ApplicationSystemOption(),"Auto");f.ApplicationSystemOption.PATH=f.XConstant.setupName(new f.ApplicationSystemOption(),"Path");f.ApplicationSystemOption.LOCATION_AND_TYPE=f.XConstant.setupName(new f.ApplicationSystemOption(),"LocationAndType");};f.Application=function(){};f.Application.prototype=new f.DfApplication();f.Application.prototype._ff_c="Application";f.Application.create=function(p,v){var a=new f.Application();a.setupApplication(p,v);return a;};f.Application.prototype.m_applicationName=null;f.Application.prototype.m_applicationId=null;f.Application.prototype.m_messageManager=null;f.Application.prototype.m_userManager=null;f.Application.prototype.m_repositoryManager=null;f.Application.prototype.m_connectionPool=null;f.Application.prototype.m_systemLandscape=null;f.Application.prototype.m_uiManager=null;f.Application.prototype.m_sendBottleMessages=0;f.Application.prototype.setupApplication=function(p,v){this.setup();this.setProcessExt(p,false);this.setErrorManager(f.MessageManager.createMessageManagerExt(p));this.m_repositoryManager=f.RepositoryManager.create(this);this.m_userManager=f.RuntimeUserManager.create(p);this.m_applicationId=f.XGuid.getGuid();p.setEntity(f.ProcessEntity.USER_MANAGER,this.m_userManager);this.m_connectionPool=f.ConnectionPool.create(p);p.setEntity(f.ProcessEntity.CONNECTION_POOL,this.m_connectionPool);};f.Application.prototype.releaseObject=function(){this.releaseManagedObjects();if(this.isReleased()===false){this.m_connectionPool=f.XObjectExt.release(this.m_connectionPool);this.m_messageManager=f.XObjectExt.release(this.m_messageManager);this.m_systemLandscape=null;this.m_uiManager=null;this.m_userManager=null;this.m_repositoryManager=null;this.m_applicationName=null;}f.DfApplication.prototype.releaseObject.call(this);};f.Application.prototype.processBooting=f.noSupport;f.Application.prototype.getErrorManager=function(){return this.m_messageManager;};f.Application.prototype.setErrorManager=function(e){this.m_messageManager=e;};f.Application.prototype.getSystemLandscape=function(){return this.m_systemLandscape;};f.Application.prototype.setSystemLandscape=function(s){this.m_systemLandscape=s;var p=this.getProcess();p.setEntity(f.ProcessEntity.SYSTEM_LANDSCAPE,s);};f.Application.prototype.getConnectionPool=function(){return this.m_connectionPool;};f.Application.prototype.getConnection=function(s){return this.m_connectionPool.getConnection(s);};f.Application.prototype.getSystemConnect=function(s){return this.m_connectionPool.getSystemConnect(s);};f.Application.prototype.getRepositoryManager=function(){return this.m_repositoryManager;};f.Application.prototype.getUiManagerExt=function(c){if(f.isNull(this.m_uiManager)&&c===true){var s=this.getProcess().openSubSystem(f.SubSystemType.GUI);this.m_uiManager=s.getMainApi();}if(f.isNull(this.m_uiManager)){var p=this.getProcess();while(f.notNull(p)&&f.isNull(this.m_uiManager)){this.m_uiManager=p.getSubSystem(f.SubSystemType.GUI);p=p.getParentProcess();}}return this.m_uiManager;};f.Application.prototype.setUiManager=function(u){this.m_uiManager=u;};f.Application.prototype.getApplicationName=function(){return this.m_applicationName;};f.Application.prototype.setApplicationName=function(n){this.m_applicationName=n;var p=this.getProcess();p.setApplicationName(n);};f.Application.prototype.isSapStatisticsEnabled=function(){return this.getSession().isSapStatisticsEnabled();};f.Application.prototype.setSapStatisticsEnabled=function(e){this.getSession().setSapStatisticsEnabled(e);};f.Application.prototype.getUserManager=function(){return this.m_userManager;};f.Application.prototype.getSyncManager=function(){return this;};f.Application.prototype.receiveMessage=function(m){var a=f.JsonParserFactory.createFromString(m);var p=this.getConnectionPool();var c=a.getListByKey("Connections");for(var i=0;i<c.size();i++){var s=c.getStructureAt(i);var b=s.getStringByKey("SysName");var d=s.getListByKey("Shared");for(var k=0;k<d.size();k++){var e=d.getStructureAt(k);var n=e.getStringByKey("Name");var g=e.getStringByKey("CsrfToken");var h=e.getStringByKey("SessionUrlRewrite");p.setExternalSharedConnection(b,n,g,h);}}};f.Application.prototype.prepareMessage=function(){var m=f.PrFactory.createStructure();m.putString("AppId",this.m_applicationId);m.putString("Time",f.XDateTime.createCurrentLocalDateTime().toIso8601Format());m.putInteger("Number",this.m_sendBottleMessages);var p=this.getConnectionPool();var a=p.getActiveSystems();var c=m.putNewList("Connections");for(var i=0;i<a.size();i++){var s=a.get(i);var o=p.getOpenConnections(s);var b=o.size();var d=c.addNewStructure();d.putString("SysName",s);d.putInteger("OpenConn",b);var e=d.putNewList("Shared");for(var k=0;k<b;k++){var g=o.get(k);if(g.isShared()&&g.useSessionUrlRewrite()&&f.XStringUtils.isNotNullAndNotEmpty(g.getSessionUrlRewrite())){var h=e.addNewStructure();h.putString("Name",g.getName());h.putString("CsrfToken",g.getCsrfToken());h.putString("SessionUrlRewrite",g.getSessionUrlRewrite());}}}var j=f.PrUtils.serialize(m,false,false,0);return j;};f.Application.prototype.toString=function(){var s=f.XStringBuffer.create();s.appendLine("Application");if(f.notNull(this.m_messageManager)){s.appendNewLine();s.append(this.m_messageManager.toString());}return s.toString();};f.SubApplication=function(){};f.SubApplication.prototype=new f.DfApplication();f.SubApplication.prototype._ff_c="SubApplication";f.SubApplication.create=function(p,a){var b=new f.SubApplication();b.setupSubApplication(p,a);return b;};f.SubApplication.prototype.m_parentApplication=null;f.SubApplication.prototype.m_subUiManager=null;f.SubApplication.prototype.setupSubApplication=function(p,a){f.DfApplication.prototype.setup.call(this);var s=a;if(f.isNull(s)){var b=p.getProcess();s=b.newChildProcess(f.ProcessType.SERVICE);}this.setProcessExt(s,true);this.m_parentApplication=p;this.m_undoManager=f.UndoManager.create(this);};f.SubApplication.prototype.releaseObject=function(){this.releaseManagedObjects();this.m_subUiManager=f.XObjectExt.release(this.m_subUiManager);this.m_parentApplication.unregisterSubApplication(this);this.m_parentApplication=null;f.DfApplication.prototype.releaseObject.call(this);};f.SubApplication.prototype.getUserManager=function(){return this.m_parentApplication.getUserManager();};f.SubApplication.prototype.getConnectionPool=function(){return this.m_parentApplication.getConnectionPool();};f.SubApplication.prototype.getConnection=function(s){return this.m_parentApplication.getConnection(s);};f.SubApplication.prototype.getSystemConnect=function(s){return this.m_parentApplication.getSystemConnect(s);};f.SubApplication.prototype.getRepositoryManager=function(){return this.m_parentApplication.getRepositoryManager();};f.SubApplication.prototype.getUiManagerExt=function(c){if(f.isNull(this.m_subUiManager)){var u=this.m_parentApplication.getUiManagerExt(c);this.m_subUiManager=u;}return this.m_subUiManager;};f.SubApplication.prototype.setUiManager=function(u){this.m_subUiManager=u;};f.SubApplication.prototype.setSapStatisticsEnabled=function(e){this.m_parentApplication.setSapStatisticsEnabled(e);};f.SubApplication.prototype.isSapStatisticsEnabled=function(){return this.m_parentApplication.isSapStatisticsEnabled();};f.SubApplication.prototype.setApplicationName=function(n){this.m_parentApplication.setApplicationName(n);};f.SubApplication.prototype.getApplicationName=function(){return this.m_parentApplication.getApplicationName();};f.SubApplication.prototype.setErrorManager=function(e){this.m_parentApplication.setErrorManager(e);};f.SubApplication.prototype.getErrorManager=function(){return this.m_parentApplication.getErrorManager();};f.SubApplication.prototype.setSystemLandscape=function(s){this.m_parentApplication.setSystemLandscape(s);};f.SubApplication.prototype.getSystemLandscape=function(){return this.m_parentApplication.getSystemLandscape();};f.SubApplication.prototype.getSyncManager=function(){return this.m_parentApplication.getSyncManager();};f.SubApplication.prototype.processBooting=f.noSupport;f.SubApplication.prototype.getUndoManager=function(){return this.m_undoManager;};f.DfApplicationProgram=function(){};f.DfApplicationProgram.prototype=new f.DfProgram();f.DfApplicationProgram.prototype._ff_c="DfApplicationProgram";f.DfApplicationProgram.PARAM_TRACE_NAME="TraceName";f.DfApplicationProgram.PARAM_ENABLE_CACHES="EnableCaches";f.DfApplicationProgram.PARAM_SYS_USE_MIRRORS="UseMirrors";f.DfApplicationProgram.prototype.m_releaseApplication=false;f.DfApplicationProgram.prototype.m_application=null;f.DfApplicationProgram.prototype.m_traceName=null;f.DfApplicationProgram.prototype.m_useMirrors=false;f.DfApplicationProgram.prototype.m_masterSystemName=null;f.DfApplicationProgram.prototype.m_systemLandscapePath=null;f.DfApplicationProgram.prototype.m_systemOption=null;f.DfApplicationProgram.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfApplicationProgram.PARAM_TRACE_NAME,"The trace name","name",f.XValueType.STRING);m.addOption(f.DfApplicationProgram.PARAM_ENABLE_CACHES,"Enables the cache","true|false",f.XValueType.BOOLEAN);m.addOption(f.DfApplicationProgram.PARAM_SYS_USE_MIRRORS,"Using the system mirrors","true|false",f.XValueType.BOOLEAN);m.addOption(f.DfProgram.PARAM_SYS_LANDSCAPE,"The system landscape","true|false",f.XValueType.BOOLEAN);};f.DfApplicationProgram.prototype.setup=function(){f.DfProgram.prototype.setup.call(this);this.m_useMirrors=false;this.m_masterSystemName="gipsy";this.m_systemOption=f.ApplicationSystemOption.NONE;};f.DfApplicationProgram.prototype.releaseObject=function(){this.m_traceName=null;if(this.m_releaseApplication===true){this.m_application=f.XObjectExt.release(this.m_application);}f.DfProgram.prototype.releaseObject.call(this);};f.DfApplicationProgram.prototype.getComponentType=function(){return f.RuntimeComponentType.APPLICATION_PROGRAM;};f.DfApplicationProgram.prototype.initializeProgram=function(){f.DfProgram.prototype.initializeProgram.call(this);if(this.isShowHelp()===false){if(this.getApplication()===null){var p=this.getProcess();var e;var s=this.getSystemOption();var a=this.getSystemLandscapeUrl();var i=this.getInitialSystemType();if(s===f.ApplicationSystemOption.LOCATION_AND_TYPE&&f.notNull(i)){e=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,p,f.XVersion.MAX,i,"master",null,null,s,false,null);this.setApplicationExt(e.getData(),true);f.XObjectExt.release(e);}else if(s===f.ApplicationSystemOption.PATH&&f.notNull(a)){e=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,p,f.XVersion.MAX,null,null,null,a,f.ApplicationSystemOption.PATH,false,null);if(e.hasErrors()){this.log("Error during application initialization");this.log(e.getSummary());}else{this.setApplicationExt(e.getData(),true);var b=this.getApplication().getSystemLandscape();var m=this.getMasterSystemName();if(f.notNull(m)){b.setDefaultSystemName(f.SystemRole.MASTER,m);}if(this.useMirrors()){b.replaceOriginsWithMirror();}}f.XObjectExt.release(e);}var c=this.getApplication();if(f.isNull(c)){e=f.ApplicationFactory.createApplicationExt2(f.SyncType.BLOCKING,null,null,null,p,f.XVersion.MAX,null,null,null,null,f.ApplicationSystemOption.NONE,false,null);this.setApplicationExt(e.getData(),true);f.XObjectExt.release(e);}if(f.notNull(c)){if(f.notNull(this.m_traceName)){c.setApplicationName(this.m_traceName);var d=c.getConnectionPool();var g=c.getSystemLandscape().getSystemNames();for(var t=0;t<g.size();t++){var h=f.TraceInfo.create();h.setTraceType(f.TraceType.URL);h.setTraceName(this.m_traceName);d.setTraceInfo(g.get(t),h);}}}}}};f.DfApplicationProgram.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);var i=this.getArgumentStructure();this.m_traceName=i.getStringByKeyExt(f.DfApplicationProgram.PARAM_TRACE_NAME,this.m_traceName);this.m_useMirrors=i.getBooleanByKeyExt(f.DfApplicationProgram.PARAM_SYS_USE_MIRRORS,this.m_useMirrors);this.m_systemLandscapePath=i.getStringByKeyExt(f.DfProgram.PARAM_SYS_LANDSCAPE,this.m_systemLandscapePath);if(f.isNull(this.m_systemOption)){if(f.notNull(this.m_systemLandscapePath)){this.m_systemOption=f.ApplicationSystemOption.PATH;}else if(this.getInitialSystemType()!==null){this.m_systemOption=f.ApplicationSystemOption.LOCATION_AND_TYPE;}else{this.m_systemOption=f.ApplicationSystemOption.NONE;}}};f.DfApplicationProgram.prototype.setApplication=function(a){this.setApplicationExt(a,false);};f.DfApplicationProgram.prototype.setApplicationExt=function(a,r){if(f.notNull(a)&&this.getSession()===null){this.setProcess(a.getProcess());}this.m_application=a;this.m_releaseApplication=r;};f.DfApplicationProgram.prototype.getApplication=function(){return this.m_application;};f.DfApplicationProgram.prototype.getTraceName=function(){return this.m_traceName;};f.DfApplicationProgram.prototype.setTraceName=function(t){this.m_traceName=t;};f.DfApplicationProgram.prototype.useMirrors=function(){return this.m_useMirrors;};f.DfApplicationProgram.prototype.setUseMirrors=function(u){this.m_useMirrors=u;};f.DfApplicationProgram.prototype.getMasterSystemName=function(){return this.m_masterSystemName;};f.DfApplicationProgram.prototype.setMasterSystemName=function(m){this.m_masterSystemName=m;};f.DfApplicationProgram.prototype.getSystemLandscapeUrl=function(){return this.m_systemLandscapePath;};f.DfApplicationProgram.prototype.setSystemLandscapeUrl=function(u){this.m_systemLandscapePath=u;};f.DfApplicationProgram.prototype.getSystemOption=function(){return this.m_systemOption;};f.DfApplicationProgram.prototype.setSystemOption=function(o){this.m_systemOption=o;};f.RepoMountType=function(){};f.RepoMountType.prototype=new f.XConstant();f.RepoMountType.prototype._ff_c="RepoMountType";f.RepoMountType.FILE=null;f.RepoMountType.staticSetup=function(){f.RepoMountType.FILE=f.XConstant.setupName(new f.RepoMountType(),"File");};f.ApplicationInitializeAction=function(){};f.ApplicationInitializeAction.prototype=new f.SyncAction();f.ApplicationInitializeAction.prototype._ff_c="ApplicationInitializeAction";f.ApplicationInitializeAction.create=function(){var o=new f.ApplicationInitializeAction();o.setupActionExt(f.SyncType.NON_BLOCKING,null,null,null,f.XVersion.MAX,null,null,null,null,f.ApplicationSystemOption.AUTO,true);return o;};f.ApplicationInitializeAction.prototype.m_application=null;f.ApplicationInitializeAction.prototype.m_xVersion=0;f.ApplicationInitializeAction.prototype.m_systemLandscapeUrl=null;f.ApplicationInitializeAction.prototype.m_systemName=null;f.ApplicationInitializeAction.prototype.m_systemUri=null;f.ApplicationInitializeAction.prototype.m_systemType=null;f.ApplicationInitializeAction.prototype.m_systemOption=null;f.ApplicationInitializeAction.prototype.m_useKernelBoot=false;f.ApplicationInitializeAction.prototype.m_kernel=null;f.ApplicationInitializeAction.prototype.m_programName=null;f.ApplicationInitializeAction.prototype.m_useSingleKernel=false;f.ApplicationInitializeAction.prototype.setupActionExt=function(s,l,c,p,x,a,b,d,e,g,u){this.setupAction(s,l,c,p);this.m_xVersion=x;this.m_systemLandscapeUrl=e;this.m_systemName=b;this.m_systemUri=d;this.m_systemType=a;this.m_systemOption=g;this.m_useKernelBoot=u;this.m_programName=f.StandardAppProgram.DEFAULT_PROGRAM_NAME;};f.ApplicationInitializeAction.prototype.releaseObject=function(){this.m_systemName=null;this.m_systemUri=null;this.m_systemType=null;this.m_application=null;this.m_xVersion=0;this.m_systemOption=null;f.SyncAction.prototype.releaseObject.call(this);};f.ApplicationInitializeAction.prototype.processSynchronization=function(s){var d;var p=this.getActionContext();if(this.m_useKernelBoot===true){var k=f.KernelBoot.createByName(this.m_programName);k.setDefaultSyncType(s);k.setXVersion(this.m_xVersion);k.addProgramStartedListener(this);k.setKernel(this.m_kernel);if(f.isNull(p)){if(f.notNull(this.m_systemLandscapeUrl)){k.setSystemLandscapeUrl(this.m_systemLandscapeUrl);}}else{var a=p.getKernel();k.setKernel(a);}k.runFull();d=s===f.SyncType.NON_BLOCKING;}else{if(f.isNull(p)){p=f.DefaultSession.createWithVersion(this.m_xVersion);if(f.notNull(s)){p.setDefaultSyncType(s);}}this.m_application=f.Application.create(p,p.getXVersion());if(this.m_systemOption!==f.ApplicationSystemOption.NONE){var b=p.getSystemLandscape();if(f.isNull(b)){var e=p.getEnvironment();if(f.isNull(this.m_systemLandscapeUrl)){this.m_systemLandscapeUrl=e.getVariable(f.XEnvironmentConstants.SYSTEM_LANDSCAPE_URI);}if(f.isNull(this.m_systemUri)&&f.isNull(this.m_systemName)){var m=e.getVariable(f.XEnvironmentConstants.FIREFLY_MASTER_SYSTEM_URI);if(f.XStringUtils.isNotNullAndNotEmpty(m)){this.m_systemUri=f.XUri.createFromUrl(m);if(f.XStringUtils.isNullOrEmpty(this.m_systemName)){this.m_systemName="master";}}}}}if(this.m_systemOption!==f.ApplicationSystemOption.NONE&&f.XStringUtils.isNotNullAndNotEmpty(this.m_systemLandscapeUrl)){var c=f.StandaloneSystemLandscape.create(this.m_application);this.m_application.setSystemLandscape(c);var u=f.XUri.createFromFileSystemPath(p,this.m_systemLandscapeUrl,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);f.SystemLandscapeLoadAction.createAndRun(s,this,null,this.m_application,c,this.m_application.getConnectionPool(),u);d=true;}else{this.configureLandscape();d=false;}}return d;};f.ApplicationInitializeAction.prototype.onLandscapeNodeLoaded=function(e,l,c){this.addAllMessages(e);this.configureLandscape();};f.ApplicationInitializeAction.prototype.onProgramStarted=function(e,p,c){this.addAllMessages(e);if(e.isValid()){var a=p.getProcess();this.m_application=a.getApplication();}this.configureLandscape();};f.ApplicationInitializeAction.prototype.configureLandscape=function(){if(f.notNull(this.m_application)){var l=f.NetworkEnv.getLocation();var s=this.m_application.getSystemLandscape();if(this.m_systemOption!==f.ApplicationSystemOption.NONE&&f.notNull(s)||f.notNull(this.m_systemUri)||f.notNull(l)&&f.notNull(this.m_systemType)){if(f.isNull(s)){s=f.StandaloneSystemLandscape.create(this.m_application);this.m_application.setSystemLandscape(s);}if(s.getMasterSystemName()===null){var u=this.m_systemName;if(f.isNull(u)){u="master";}if(f.notNull(this.m_systemUri)){s.setSystemByUri(u,this.m_systemUri,null);}else if(f.notNull(l)&&f.notNull(this.m_systemType)){var a=s.createSystem();a.setSystemType(this.m_systemType);var b=l.getScheme();if(f.notNull(b)){if(f.XString.startsWith(b,"https")){a.setProtocolType(f.ProtocolType.HTTPS);}else{a.setProtocolType(f.ProtocolType.HTTP);}}a.setSystemName(u);a.setSystemText(u);a.setHost(l.getHost());a.setPort(l.getPort());s.setSystemByDescription(a);}else{var c=s.getSystemNames();if(c.size()===1){u=c.get(0);}else{u=null;}}if(f.notNull(u)){s.setMasterSystemName(u);}}}else{var d=this.m_application.getProcess().getSystemLandscape();this.m_application.setSystemLandscape(d);}this.setData(this.m_application);}this.endSync();};f.ApplicationInitializeAction.prototype.callListener=function(e,l,d,c){l.onApplicationReady(e,d,c);};f.ApplicationInitializeAction.prototype.registerListener=function(l,c){if(f.notNull(l)){this.attachListener(l,f.ListenerType.SPECIFIC,c);}};f.ApplicationInitializeAction.prototype.setProcess=function(p){this.setActionContext(p);this.setSession(p);};f.ApplicationInitializeAction.prototype.getProcess=function(){return this.getActionContext();};f.ApplicationInitializeAction.prototype.setXVersion=function(x){this.m_xVersion=x;};f.ApplicationInitializeAction.prototype.getXVersion=function(){return this.m_xVersion;};f.ApplicationInitializeAction.prototype.setSystemType=function(s){this.m_systemType=s;};f.ApplicationInitializeAction.prototype.getSystemType=function(){return this.m_systemType;};f.ApplicationInitializeAction.prototype.setSystemName=function(s){this.m_systemName=s;};f.ApplicationInitializeAction.prototype.getSystemName=function(){return this.m_systemName;};f.ApplicationInitializeAction.prototype.setSystemUri=function(u){this.m_systemUri=u;};f.ApplicationInitializeAction.prototype.getSystemUri=function(){return this.m_systemUri;};f.ApplicationInitializeAction.prototype.setSystemLandscapeUrl=function(u){this.m_systemLandscapeUrl=u;};f.ApplicationInitializeAction.prototype.getSystemLandscapeUrl=function(){return this.m_systemLandscapeUrl;};f.ApplicationInitializeAction.prototype.getSystemOption=function(){return this.m_systemOption;};f.ApplicationInitializeAction.prototype.setSystemOption=function(s){this.m_systemOption=s;};f.ApplicationInitializeAction.prototype.isUsingKernelBoot=function(){return this.m_useKernelBoot;};f.ApplicationInitializeAction.prototype.setUseKernelBoot=function(u){this.m_useKernelBoot=u;};f.ApplicationInitializeAction.prototype.setKernel=function(k){this.m_kernel=k;};f.ApplicationInitializeAction.prototype.getKernel=function(){return this.m_kernel;};f.ApplicationInitializeAction.prototype.setProgramName=function(p){this.m_programName=p;};f.ApplicationInitializeAction.prototype.getProgramName=function(){return this.m_programName;};f.ApplicationInitializeAction.prototype.setUseSingleKernel=function(u){this.m_useSingleKernel=u;};f.ApplicationInitializeAction.prototype.useSingleKernel=function(){return this.m_useSingleKernel;};f.DragonflyAppProgram=function(){};f.DragonflyAppProgram.prototype=new f.DfApplicationProgram();f.DragonflyAppProgram.prototype._ff_c="DragonflyAppProgram";f.DragonflyAppProgram.DEFAULT_PROGRAM_NAME="DragonflyAppProgram";f.DragonflyAppProgram.prototype.newProgram=function(){var n=new f.DragonflyAppProgram();n.setup();return n;};f.DragonflyAppProgram.prototype.runProcess=function(){return true;};f.OrcaAppProgram=function(){};f.OrcaAppProgram.prototype=new f.DfApplicationProgram();f.OrcaAppProgram.prototype._ff_c="OrcaAppProgram";f.OrcaAppProgram.DEFAULT_PROGRAM_NAME="OrcaAppProgram";f.OrcaAppProgram.prototype.newProgram=function(){var n=new f.OrcaAppProgram();n.setup();return n;};f.OrcaAppProgram.prototype.runProcess=function(){return true;};f.StandardAppProgram=function(){};f.StandardAppProgram.prototype=new f.DfApplicationProgram();f.StandardAppProgram.prototype._ff_c="StandardAppProgram";f.StandardAppProgram.DEFAULT_PROGRAM_NAME="StandardAppProgram";f.StandardAppProgram.prototype.newProgram=function(){var n=new f.StandardAppProgram();n.setup();return n;};f.StandardAppProgram.prototype.runProcess=function(){return true;};f.DfService=function(){};f.DfService.prototype=new f.SyncAction();f.DfService.prototype._ff_c="DfService";f.DfService.prototype.m_connectionContainer=null;f.DfService.prototype.m_isInRelease=false;f.DfService.prototype.m_serviceConfig=null;f.DfService.prototype.m_application=null;f.DfService.prototype.setupService=function(s){this.setupAction(null,null,null,s);this.m_serviceConfig=s;this.m_application=s.getApplication();if(s.isSystemBoundService()){this.setConnection(s.getConnectionContainer());}this.registerServiceAtApplication();};f.DfService.prototype.releaseObject=function(){if(!this.m_isInRelease){this.m_isInRelease=true;this.unregisterServiceAtApplication();this.m_serviceConfig=f.XObjectExt.release(this.m_serviceConfig);this.m_connectionContainer=null;this.m_application=null;f.SyncAction.prototype.releaseObject.call(this);}};f.DfService.prototype.processInitialization=function(s,l,c){return this.processSyncAction(s,l,c);};f.DfService.prototype.callListener=function(e,l,d,c){l.onServiceInitialized(e,d,c);};f.DfService.prototype.requiresInitialization=function(){return true;};f.DfService.prototype.registerServiceAtApplication=function(){var a=this.getApplication();if(f.isNull(a)){return;}a.registerService(this);};f.DfService.prototype.unregisterServiceAtApplication=function(){var a=this.getApplication();if(f.notNull(a)){a.unregisterService(this);}};f.DfService.prototype.isServiceConfigMatching=function(s,c,m){return true;};f.DfService.prototype.getConnection=function(){return f.XWeakReferenceUtil.getHardRef(this.m_connectionContainer);};f.DfService.prototype.setConnection=function(c){this.m_connectionContainer=f.XWeakReferenceUtil.getWeakRef(c);};f.DfService.prototype.getServiceConfig=function(){return this.m_serviceConfig;};f.DfService.prototype.getApplication=function(){return this.m_application;};f.DfServiceConfig=function(){};f.DfServiceConfig.prototype=new f.SyncAction();f.DfServiceConfig.prototype._ff_c="DfServiceConfig";f.DfServiceConfig.prototype.m_application=null;f.DfServiceConfig.prototype.m_name=null;f.DfServiceConfig.prototype.m_connectionContainer=null;f.DfServiceConfig.prototype.m_usePrivateConnection=false;f.DfServiceConfig.prototype.m_connectionName=null;f.DfServiceConfig.prototype.m_syncTypeForInitialization=null;f.DfServiceConfig.prototype.m_serverMetadata=null;f.DfServiceConfig.prototype.m_serviceType=null;f.DfServiceConfig.prototype.m_systemName=null;f.DfServiceConfig.prototype.m_requestTimeZone=null;f.DfServiceConfig.prototype.m_serviceTemporary=null;f.DfServiceConfig.prototype.m_isInRelease=false;f.DfServiceConfig.prototype.m_tagging=null;f.DfServiceConfig.prototype.m_useAsDataProvider=false;f.DfServiceConfig.prototype.setupConfig=function(a){var l=null;this.setupAction(null,l,null,a);this.m_application=a;this.setAutoConvertDataToWeakRef(true);this.m_tagging=f.XHashMapOfStringByString.create();a.registerDataProvider(this);};f.DfServiceConfig.prototype.releaseObject=function(){if(!this.m_isInRelease){this.m_isInRelease=true;this.m_application.unregisterDataProvider(this);if(this.m_useAsDataProvider){var d=this.getData();d=f.XObjectExt.release(d);this.setData(d);}this.m_application=null;this.m_tagging=null;this.m_connectionContainer=null;this.m_connectionName=null;this.m_serverMetadata=null;this.m_serviceTemporary=f.XObjectExt.release(this.m_serviceTemporary);this.m_serviceType=null;this.m_syncTypeForInitialization=null;this.m_systemName=null;this.m_requestTimeZone=null;f.SyncAction.prototype.releaseObject.call(this);}};f.DfServiceConfig.prototype.copyFromInternal=function(o,a){var b=o;this.m_systemName=b.getSystemName();this.m_application=b.getApplication();this.m_requestTimeZone=b.getRequestTimeZone();this.m_useAsDataProvider=b.m_useAsDataProvider;this.m_tagging=b.m_tagging.createMapOfStringByStringCopy();this.m_syncTypeForInitialization=b.m_syncTypeForInitialization;this.m_serviceType=b.m_serviceType;this.m_connectionContainer=b.m_connectionContainer;this.m_connectionName=b.m_connectionName;};f.DfServiceConfig.prototype.getComponentType=function(){return f.RuntimeComponentType.SERVICE_DATA_PROVIDER;};f.DfServiceConfig.prototype.getName=function(){return this.m_name;};f.DfServiceConfig.prototype.setName=function(n){this.m_name=n;};f.DfServiceConfig.prototype.getDataProviderName=function(){return this.m_name;};f.DfServiceConfig.prototype.setDataProviderName=function(n){this.m_name=n;};f.DfServiceConfig.prototype.getTagging=function(){return this.m_tagging;};f.DfServiceConfig.prototype.processSynchronization=function(s){this.m_syncTypeForInitialization=s;this.prepareDefinition();if(this.isSystemBoundService()){var a=this.getSystemDescription();if(f.isNull(a)){this.addError(0,f.XStringUtils.concatenate2("Cannot find system description: ",this.getSystemName()));return false;}if(f.isNull(this.m_connectionContainer)){var c=this.getActionContext().getConnectionPool();this.m_connectionContainer=f.XWeakReferenceUtil.getWeakRef(c.getConnectionExt(a.getSystemName(),this.m_usePrivateConnection,this.m_connectionName));}var b=this.getConnectionContainer();if(s===f.SyncType.BLOCKING){var d=b.getSystemConnect().getServerMetadataExt(s,null,null);this.onServerMetadataLoaded(d,d.getData(),null);}else{b.getSystemConnect().getServerMetadataExt(s,this,null);}}else{this.onServerMetadataLoaded(null,null,null);}return true;};f.DfServiceConfig.prototype.onServerMetadataLoaded=function(e,s,c){this.addAllMessages(e);this.m_serverMetadata=e;if(this.isSystemBoundService()&&this.m_serverMetadata.hasErrors()){this.endSync();return;}var a=this.m_syncTypeForInitialization;this.m_syncTypeForInitialization=null;var b=this.getServiceTypeInfo();var d=f.isNull(b)?null:b.getServiceReferenceName();this.m_serviceTemporary=this.getMatchingServiceForServiceName(d);if(f.isNull(this.m_serviceTemporary)){this.addError(f.ErrorCodes.SERVICE_NOT_FOUND,d);this.endSync();return;}if(this.m_serviceTemporary.requiresInitialization()){var g=this.m_serviceTemporary.processInitialization(a,this,null);if(f.isNull(g)){this.setDataFromService(this.m_serviceTemporary);this.endSync();}}else{this.setDataFromService(this.m_serviceTemporary);this.endSync();}};f.DfServiceConfig.prototype.onServiceInitialized=function(e,s,c){this.addAllMessages(e);if(e.isValid()){this.setDataFromService(this.m_serviceTemporary);}this.endSync();};f.DfServiceConfig.prototype.endSync=function(){this.m_serviceTemporary=null;f.SyncAction.prototype.endSync.call(this);};f.DfServiceConfig.prototype.getMatchingServiceForServiceName=function(s){return f.ServiceUtils.getMatchingService(this,s,this);};f.DfServiceConfig.prototype.hasSystemNameSet=function(){return f.notNull(this.m_systemName);};f.DfServiceConfig.prototype.getSystemName=function(){if(f.isNull(this.m_systemName)){this.m_systemName=this.getApplication().getSystemLandscape().getMasterSystemName();}return this.m_systemName;};f.DfServiceConfig.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType();};f.DfServiceConfig.prototype.setSystemName=function(s){this.m_systemName=s;};f.DfServiceConfig.prototype.isSystemBoundService=function(){return true;};f.DfServiceConfig.prototype.getServiceTypeInfo=function(){return this.m_serviceType;};f.DfServiceConfig.prototype.setServiceTypeInfo=function(s){this.m_serviceType=s;};f.DfServiceConfig.prototype.getApplication=function(){return this.m_application;};f.DfServiceConfig.prototype.getSystemDescription=function(){var a=this.getActionContext();var s=a.getSystemLandscape();if(f.isNull(s)){return null;}var b=this.getSystemName();if(f.isNull(b)){return s.getMasterSystem();}return s.getSystemDescription(b);};f.DfServiceConfig.prototype.processSyncAction=function(s,l,c){if(this.getSyncState().isInSync()){this.resetSyncState();}return f.SyncAction.prototype.processSyncAction.call(this,s,l,c);};f.DfServiceConfig.prototype.setConnectionContainer=function(c){this.m_connectionContainer=f.XWeakReferenceUtil.getWeakRef(c);};f.DfServiceConfig.prototype.getConnectionContainer=function(){return f.XWeakReferenceUtil.getHardRef(this.m_connectionContainer);};f.DfServiceConfig.prototype.setConnectionName=function(n){this.m_connectionName=n;};f.DfServiceConfig.prototype.getConnectionName=function(){return this.m_connectionName;};f.DfServiceConfig.prototype.usePrivateConnection=function(u){this.m_usePrivateConnection=u;};f.DfServiceConfig.prototype.hasPrivateConnection=function(){return this.m_usePrivateConnection;};f.DfServiceConfig.prototype.setUseAsDataProvider=function(u){this.m_useAsDataProvider=u;this.setAutoConvertDataToWeakRef(!u);};f.DfServiceConfig.prototype.isDataProviderUsage=function(){return this.m_useAsDataProvider;};f.DfServiceConfig.prototype.prepareDefinition=function(){};f.DfServiceConfig.prototype.setRequestTimeZone=function(r){this.m_requestTimeZone=r;};f.DfServiceConfig.prototype.isRequestTimeZoneSet=function(){return f.notNull(this.m_requestTimeZone);};f.DfServiceConfig.prototype.getRequestTimeZone=function(){return this.m_requestTimeZone;};f.DfServiceConfig.prototype.setDefaultTimeZone=function(){this.m_requestTimeZone=f.XTimeZone.getCurrentTimeZoneString();};f.UndoRedoAction=function(){};f.UndoRedoAction.prototype=new f.SyncAction();f.UndoRedoAction.prototype._ff_c="UndoRedoAction";f.UndoRedoAction.createAndRun=function(s,c,l,a,b,d){var e=new f.UndoRedoAction();e.m_stateId=b;e.m_document=d;e.setupActionAndRun(s,l,a,c);return e;};f.UndoRedoAction.prototype.m_stateId=null;f.UndoRedoAction.prototype.m_document=null;f.UndoRedoAction.prototype.processSynchronization=function(s){if(f.isNull(this.m_stateId)){this.addError(1,"Undo not possible");return false;}else{var a=this.m_document.getDocumentStateManager().applyDocumentState(s,this,null,this.m_stateId);if(f.isNull(a)){this.addError(1000,"Undo failed");this.endSync();return false;}}return true;};f.UndoRedoAction.prototype.callListener=function(e,l,d,c){l.undoRedoActionFinished(e,d,c);};f.UndoRedoAction.prototype.documentStateApplied=function(e,u,c){if(e.hasErrors()){this.addAllMessages(e);}this.setData(e.getData());this.endSync();};f.RuntimeComponentType=function(){};f.RuntimeComponentType.prototype=new f.XComponentType();f.RuntimeComponentType.prototype._ff_c="RuntimeComponentType";f.RuntimeComponentType.APPLICATION=null;f.RuntimeComponentType.SUB_APPLICATION=null;f.RuntimeComponentType.SERVICE_DATA_PROVIDER=null;f.RuntimeComponentType.APPLICATION_PROGRAM=null;f.RuntimeComponentType.staticSetupRuntimeComponentTypes=function(){f.RuntimeComponentType.APPLICATION=f.RuntimeComponentType.createRuntimeType("Application",f.XComponentType._ROOT);f.RuntimeComponentType.SUB_APPLICATION=f.RuntimeComponentType.createRuntimeType("SubApplication",f.XComponentType._ROOT);f.RuntimeComponentType.SERVICE_DATA_PROVIDER=f.RuntimeComponentType.createRuntimeType("ServiceDataProvider",f.IoComponentType.DATA_PROVIDER);f.RuntimeComponentType.APPLICATION_PROGRAM=f.RuntimeComponentType.createRuntimeType("ApplicationProgram",f.XComponentType.PROGRAM);};f.RuntimeComponentType.createRuntimeType=function(c,p){var m=new f.RuntimeComponentType();if(f.isNull(p)){m.setupExt(c,f.XComponentType._ROOT);}else{m.setupExt(c,p);}return m;};f.DfServiceConfigClassic=function(){};f.DfServiceConfigClassic.prototype=new f.DfServiceConfig();f.DfServiceConfigClassic.prototype._ff_c="DfServiceConfigClassic";f.DfServiceConfigClassic.prototype.processServiceCreation=function(s,l,c){return this.processSyncAction(s,l,c);};f.DfServiceConfigClassic.prototype.callListener=function(e,l,d,c){var m=l;m.onServiceCreation(e,d,c);};f.DfServiceConfigClassic.prototype.setDataFromService=function(s){this.setData(s);};f.RuntimeModule=function(){};f.RuntimeModule.prototype=new f.DfModule();f.RuntimeModule.prototype._ff_c="RuntimeModule";f.RuntimeModule.LISTENER_SERVICE_INCUBATOR=null;f.RuntimeModule.LISTENER_SERVER_METADATA_VALID=null;f.RuntimeModule.XS_REPOSITORY="REPOSITORY";f.RuntimeModule.s_module=null;f.RuntimeModule.getInstance=function(){if(f.isNull(f.RuntimeModule.s_module)){f.DfModule.checkInitialized(f.IoExtModule.getInstance());f.DfModule.checkInitialized(f.KernelImplModule.getInstance());f.DfModule.checkInitialized(f.KernelNativeModule.getInstance());f.DfModule.checkInitialized(f.BindingModule.getInstance());f.RuntimeModule.s_module=f.DfModule.startExt(new f.RuntimeModule());var r=f.RegistrationService.getInstance();f.RuntimeModule.LISTENER_SERVICE_INCUBATOR=f.XStringValue.create("IServiceCreationListener");f.RuntimeModule.LISTENER_SERVER_METADATA_VALID=f.XStringValue.create("IServerMetadataListener");f.RuntimeComponentType.staticSetupRuntimeComponentTypes();f.OlapEnvironmentFactory.staticSetup();f.RepoMountType.staticSetup();f.ApplicationSystemOption.staticSetup();f.RpcHttpFunctionFactory.staticSetup();f.BatchRequestManagerInAFactory.staticSetupBatchInAFactory();f.NestedBatchRequestDecoratorProvider.staticSetup();r.addReference(f.BatchRequestDecoratorFactory.BATCH_REQUEST_DECORATOR_PROVIDER,f.NestedBatchRequestDecoratorProvider.CLAZZ);f.DsrConstants.staticSetup();f.DsrPassport.staticSetup();f.DsrPassportFactory.staticSetup();f.ProgramRegistration.setProgramFactory(f.StandardAppProgram.DEFAULT_PROGRAM_NAME,new f.StandardAppProgram());f.ProgramRegistration.setProgramFactory(f.OrcaAppProgram.DEFAULT_PROGRAM_NAME,new f.OrcaAppProgram());f.ProgramRegistration.setProgramFactory(f.DragonflyAppProgram.DEFAULT_PROGRAM_NAME,new f.DragonflyAppProgram());f.DfModule.stopExt(f.RuntimeModule.s_module);}return f.RuntimeModule.s_module;};f.RuntimeModule.prototype.getName=function(){return"ff2100.runtime";};f.RuntimeModule.getInstance();return sap.firefly;});
