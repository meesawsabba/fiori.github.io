/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff0070.structures"],function(f){"use strict";f.NativeJsonParser=function(){f.DfDocumentParser.call(this);this._ff_c="NativeJsonParser";this.setup();};f.NativeJsonParser.prototype=new f.DfDocumentParser();f.NativeJsonParser.prototype.parseUnsafe=function(c){this.clearMessages();if(c===null||c===undefined){return null;}return new f.NativeJsonProxyElement(JSON.parse(c));};f.NativeJsonParser.prototype.parse=function(c){var j;this.clearMessages();if(c===null){return null;}var r=/^\uFEFF?|\u200B?/;if(r.test(c)){c=c.replace(r,"");}try{j=JSON.parse(c);}catch(e){this.addError(f.JsonParserErrorCode.JSON_PARSER_ROOT_ERROR,e.message);return null;}if(j===undefined){return null;}return new f.NativeJsonProxyElement(j);};f.NativeJsonParser.prototype.convertFromNative=function(j){var o;this.clearMessages();if(j===null||j===undefined){return null;}try{o=new f.NativeJsonProxyElement(j);}catch(e){this.addError(f.JsonParserErrorCode.JSON_PARSER_ROOT_ERROR,e.message);return null;}return o;};f.NativeJsonParser.prototype.convertToNative=function(j){this.clearMessages();if(j===null||j===undefined){return null;}else{try{var a=f.PrUtils.serialize(j,false,false,0);var n=JSON.parse(a);return n;}catch(e){this.addError(f.JsonParserErrorCode.JSON_PARSER_ROOT_ERROR,e.message);return null;}}};f.NativeJsonParserFactory=function(){f.JsonParserFactory.call(this);this._ff_c="NativeJsonParserFactory";};f.NativeJsonParserFactory.prototype=new f.JsonParserFactory();f.NativeJsonParserFactory.staticSetup=function(){f.JsonParserFactory.setJsonParserFactory(new f.NativeJsonParserFactory());};f.NativeJsonParserFactory.prototype.newParserInstance=function(){return new f.NativeJsonParser();};f.NativeJsonProxyElement=function(j){f.DfPrProxyElement.call(this);this.m_jsonRootElement=j;this._ff_c="NativeJsonProxyElement";};f.NativeJsonProxyElement.prototype=new f.DfPrProxyElement();f.NativeJsonProxyElement.prototype.releaseObject=function(){this.m_jsonRootElement=null;f.DfPrProxyElement.prototype.releaseObject.call(this);};f.NativeJsonProxyElement.prototype.put=function(n,e){if(e===null){delete this.m_jsonRootElement[n];}else{this.m_jsonRootElement[n]=e;}};f.NativeJsonProxyElement.prototype.insert=f.NativeJsonProxyElement.prototype.put;f.NativeJsonProxyElement.prototype.getIndex=function(_){for(var i=0;i<this.m_jsonRootElement.length;i++){var e=this.getByKey(i);if(e===_||(e!==null&&e.isEqualTo(_))){return i;}}return-1;};f.NativeJsonProxyElement.prototype.getKeyInternal=function(_){if(Array.isArray(this.m_jsonRootElement)){var i=this.getIndex(_);if(i>-1){return i;}return null;}for(var a in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(a)){var e=this.getByKey(a);if(e===_||(e!==null&&e.isEqualTo(_))){return a;}}}return null;};f.NativeJsonProxyElement.prototype.putNotNullAndNotEmpty=function(n,e){if(f.isNull(e)||e.isList()&&e.asList().isEmpty()||e.isStructure()&&e.asStructure().isEmpty()||e.isString()&&f.XStringUtils.isNullOrEmpty(e.asString().getString())){return;}this.put(n,e);};f.NativeJsonProxyElement.prototype.remove=function(k){var v=this.m_jsonRootElement[k];if(v!==undefined){var e=this.getByKey(k);if(typeof k==="number"&&Array.isArray(this.m_jsonRootElement)){this.m_jsonRootElement.splice(k,1);}else{delete this.m_jsonRootElement[k];}return e;}return null;};f.NativeJsonProxyElement.prototype.removeAt=f.NativeJsonProxyElement.prototype.remove;f.NativeJsonProxyElement.prototype.removeElement=function(v){var k=this.getKeyInternal(v);if(k!==null){this.remove(k);}return v;};f.NativeJsonProxyElement.prototype.getPermaCopy=function(){return new f.NativeJsonProxyElement(this.m_jsonRootElement);};f.NativeJsonProxyElement.prototype.asString=function(){return this;};f.NativeJsonProxyElement.prototype.asNumber=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asBoolean=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asNull=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asInteger=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asLong=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asDouble=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asList=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.asStructure=f.NativeJsonProxyElement.prototype.asString;f.NativeJsonProxyElement.prototype.putString=function(n,v){this.m_jsonRootElement[n]=v;};f.NativeJsonProxyElement.prototype.setStringAt=f.NativeJsonProxyElement.prototype.putString;f.NativeJsonProxyElement.prototype.putDouble=function(n,v){if(typeof v==="number"){this.m_jsonRootElement[n]=v;}else{this.m_jsonRootElement[n]=parseFloat(v);}};f.NativeJsonProxyElement.prototype.setDoubleAt=f.NativeJsonProxyElement.prototype.putDouble;f.NativeJsonProxyElement.prototype.putBoolean=function(n,v){this.m_jsonRootElement[n]=(v===true)||(v==="true");};f.NativeJsonProxyElement.prototype.setBooleanAt=f.NativeJsonProxyElement.prototype.putBoolean;f.NativeJsonProxyElement.prototype.putInteger=f.NativeJsonProxyElement.prototype.putDouble;f.NativeJsonProxyElement.prototype.putLong=f.NativeJsonProxyElement.prototype.putDouble;f.NativeJsonProxyElement.prototype.setIntegerAt=f.NativeJsonProxyElement.prototype.putDouble;f.NativeJsonProxyElement.prototype.setLongAt=f.NativeJsonProxyElement.prototype.putDouble;f.NativeJsonProxyElement.prototype.putNull=function(n){this.m_jsonRootElement[n]=null;};f.NativeJsonProxyElement.prototype.setNullAt=f.NativeJsonProxyElement.prototype.putNull;f.NativeJsonProxyElement.prototype.setNullByName=f.NativeJsonProxyElement.prototype.putNull;f.NativeJsonProxyElement.prototype.set=function(p,e){this.m_jsonRootElement[p]=e;};f.NativeJsonProxyElement.prototype.getType=function(){return this.getTypeOf(this.m_jsonRootElement);};f.NativeJsonProxyElement.prototype.hasElements=function(){return!this.isEmpty();};f.NativeJsonProxyElement.prototype.getElementTypeByKey=function(n){var e=this.m_jsonRootElement[n];return e===undefined?null:this.getTypeOf(e);};f.NativeJsonProxyElement.prototype.getElementTypeAt=f.NativeJsonProxyElement.prototype.getElementTypeByKey;f.NativeJsonProxyElement.prototype.getTypeOf=function(e){if(e===null){return f.PrElementType.THE_NULL;}switch(typeof e){case"string":return f.PrElementType.STRING;case"boolean":return f.PrElementType.BOOLEAN;case"number":return f.PrElementType.DOUBLE;case"object":if(Array.isArray(e)){return f.PrElementType.LIST;}if(e instanceof f.PrElement){return e.getType();}return f.PrElementType.STRUCTURE;default:return null;}};f.NativeJsonProxyElement.prototype.getString=function(){return this.m_jsonRootElement;};f.NativeJsonProxyElement.prototype.getDouble=function(){if(typeof this.m_jsonRootElement==="number"){return this.m_jsonRootElement;}return parseFloat(this.m_jsonRootElement);};f.NativeJsonProxyElement.prototype.getStringValue=f.NativeJsonProxyElement.prototype.getString;f.NativeJsonProxyElement.prototype.getInteger=f.NativeJsonProxyElement.prototype.getDouble;f.NativeJsonProxyElement.prototype.getIntegerValue=f.NativeJsonProxyElement.prototype.getDouble;f.NativeJsonProxyElement.prototype.getLong=f.NativeJsonProxyElement.prototype.getDouble;f.NativeJsonProxyElement.prototype.getLongValue=f.NativeJsonProxyElement.prototype.getDouble;f.NativeJsonProxyElement.prototype.getDoubleValue=f.NativeJsonProxyElement.prototype.getDouble;f.NativeJsonProxyElement.prototype.getBoolean=function(){return this.m_jsonRootElement===true||this.m_jsonRootElement==="true";};f.NativeJsonProxyElement.prototype.getBooleanValue=f.NativeJsonProxyElement.prototype.getBoolean;f.NativeJsonProxyElement.prototype.setString=function(v){this.m_jsonRootElement=v;};f.NativeJsonProxyElement.prototype.setDouble=function(v){if(typeof this.m_jsonRootElement==="number"){this.m_jsonRootElement=v;}else{this.m_jsonRootElement=parseFloat(v);}};f.NativeJsonProxyElement.prototype.setInteger=f.NativeJsonProxyElement.prototype.setDouble;f.NativeJsonProxyElement.prototype.setIntegerValue=f.NativeJsonProxyElement.prototype.setDouble;f.NativeJsonProxyElement.prototype.setLong=f.NativeJsonProxyElement.prototype.setDouble;f.NativeJsonProxyElement.prototype.setLongValue=f.NativeJsonProxyElement.prototype.setDouble;f.NativeJsonProxyElement.prototype.setDoubleValue=f.NativeJsonProxyElement.prototype.setDouble;f.NativeJsonProxyElement.prototype.setBoolean=function(v){this.m_jsonRootElement=(v===true)||(v==="true");};f.NativeJsonProxyElement.prototype.setBooleanValue=f.NativeJsonProxyElement.prototype.setBoolean;f.NativeJsonProxyElement.prototype.containsKey=function(n){return this.m_jsonRootElement.hasOwnProperty(n);};f.NativeJsonProxyElement.prototype.contains=function(e){return this.getKeyInternal(e)!==null;};f.NativeJsonProxyElement.prototype.getTypeOfElement=function(n){var e=this.m_jsonRootElement[n];if(e===undefined){throw new Error("Illegal State: Json Element not available: "+n);}return this.getTypeOf(e);};f.NativeJsonProxyElement.prototype.getStringByKey=function(n){var e=this.m_jsonRootElement[n];if(e instanceof f.PrElement){return e.asString().getString();}return e===undefined?null:e;};f.NativeJsonProxyElement.prototype.getDoubleByKey=function(n){var e=this.m_jsonRootElement[n];if(e===undefined||e===null){return null;}if(typeof e==="number"){return e;}if(e instanceof f.PrElement){return e.asDouble().getDouble();}return parseFloat(e);};f.NativeJsonProxyElement.prototype.getIntegerByKey=f.NativeJsonProxyElement.prototype.getDoubleByKey;f.NativeJsonProxyElement.prototype.getLongByKey=f.NativeJsonProxyElement.prototype.getDoubleByKey;f.NativeJsonProxyElement.prototype.getBooleanByKey=function(n){var e=this.m_jsonRootElement[n];if(e===undefined||e===null){return null;}if(e instanceof f.PrElement){return e.asBoolean().getBoolean();}return e===true||e==="true";};f.NativeJsonProxyElement.prototype.getKeysAsReadOnlyListOfString=function(){var n=new f.XListOfString();for(var a in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(a)){n.add(a);}}return n;};f.NativeJsonProxyElement.prototype.getByKey=function(n){var e=this.m_jsonRootElement[n];if(e===null||e===undefined){return null;}if(e instanceof f.PrElement){return e;}return new f.NativeJsonProxyElement(e);};f.NativeJsonProxyElement.prototype.getElementByName=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getStructureByKey=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getStructureByName=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getListByKey=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getListByName=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getElementAt=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getListAt=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getStructureAt=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.get=f.NativeJsonProxyElement.prototype.getByKey;f.NativeJsonProxyElement.prototype.getStringAt=function(i){var e=this.m_jsonRootElement[i];if(e instanceof f.PrElement){return e.asString().getString();}return e;};f.NativeJsonProxyElement.prototype.getDoubleAt=function(i){var e=this.m_jsonRootElement[i];if(typeof e==="number"){return e;}if(e instanceof f.PrElement){return e.asDouble().getDouble();}return parseFloat(e);};f.NativeJsonProxyElement.prototype.getIntegerAt=f.NativeJsonProxyElement.prototype.getDoubleAt;f.NativeJsonProxyElement.prototype.getBooleanAt=function(i){var e=this.m_jsonRootElement[i];if(e instanceof f.PrElement){return e.asBoolean().getBoolean();}return e===true||e==="true";};f.NativeJsonProxyElement.prototype.getLongAt=f.NativeJsonProxyElement.prototype.getDoubleAt;f.NativeJsonProxyElement.prototype.getStringAtExt=function(i,d){if(this.m_jsonRootElement.hasOwnProperty(i)){var e=this.m_jsonRootElement[i];if(e instanceof f.PrElement){return e.asString().getString();}else if(e!==undefined&&e!==null){return e;}}return d;};f.NativeJsonProxyElement.prototype.getDoubleAtExt=function(i,d){if(this.m_jsonRootElement.hasOwnProperty(i)){var e=this.m_jsonRootElement[i];if(typeof e==="number"){return e;}if(typeof e==="string"){return parseFloat(e);}if(e instanceof f.PrElement){return e.asDouble().getDouble();}}return d;};f.NativeJsonProxyElement.prototype.getIntegerAtExt=f.NativeJsonProxyElement.prototype.getDoubleAtExt;f.NativeJsonProxyElement.prototype.getLongAtExt=f.NativeJsonProxyElement.prototype.getDoubleAtExt;f.NativeJsonProxyElement.prototype.getBooleanAtExt=function(i,d){if(this.m_jsonRootElement.hasOwnProperty(i)){var e=this.m_jsonRootElement[i];if(e instanceof f.PrElement){return e.asBoolean().getBoolean();}else if(e!==undefined&&e!==null){return e===true||e==="true";}}return d;};f.NativeJsonProxyElement.prototype.size=function(){if(typeof this.m_jsonRootElement==="object"){if(Array.isArray(this.m_jsonRootElement)){return this.m_jsonRootElement.length;}var s=0;for(var p in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(p)){s++;}}return s;}return 0;};f.NativeJsonProxyElement.prototype.isEmpty=function(){if(typeof this.m_jsonRootElement==="object"){if(Array.isArray(this.m_jsonRootElement)){return this.m_jsonRootElement.length<1;}for(var p in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(p)){return false;}}}return true;};f.NativeJsonProxyElement.prototype.getStringByKeyExt=f.NativeJsonProxyElement.prototype.getStringAtExt;f.NativeJsonProxyElement.prototype.getBooleanByKeyExt=f.NativeJsonProxyElement.prototype.getBooleanAtExt;f.NativeJsonProxyElement.prototype.getIntegerByKeyExt=f.NativeJsonProxyElement.prototype.getDoubleAtExt;f.NativeJsonProxyElement.prototype.getLongByKeyExt=f.NativeJsonProxyElement.prototype.getDoubleAtExt;f.NativeJsonProxyElement.prototype.getDoubleByKeyExt=f.NativeJsonProxyElement.prototype.getDoubleAtExt;f.NativeJsonProxyElement.prototype.getObjectByKeyExt=f.NativeJsonProxyElement.prototype.getStringAtExt;f.NativeJsonProxyElement.prototype.putStringNotNull=function(n,v){if(v!==null){this.m_jsonRootElement[n]=v;}};f.NativeJsonProxyElement.prototype.putStringNotNullAndNotEmpty=function(n,v){if(f.XStringUtils.isNotNullAndNotEmpty(v)){this.m_jsonRootElement[n]=v;}};f.NativeJsonProxyElement.prototype.putNewList=function(n){this.m_jsonRootElement[n]=[];return new f.NativeJsonProxyElement(this.m_jsonRootElement[n]);};f.NativeJsonProxyElement.prototype.setNewListByKey=f.NativeJsonProxyElement.prototype.putNewList;f.NativeJsonProxyElement.prototype.addAllStrings=function(l){if(l!==undefined&&l!==null){if(l instanceof f.XListOfString){for(var i=0;i<l.size();i=i+10000){Array.prototype.push.apply(this.m_jsonRootElement,l.m_list.slice(i,i+10000));}}else{for(var j=0;j<l.size();j++){this.m_jsonRootElement.push(l.get(j));}}}return this;};f.NativeJsonProxyElement.prototype.addAll=function(_){if(_!==undefined&&_!==null){var l=_.getValuesAsReadOnlyList();if(l!==undefined&&l!==null){for(var i=0;i<l.size();i++){this.m_jsonRootElement.push(l.get(i));}}}return this;};f.NativeJsonProxyElement.prototype.putNewStructure=function(n){this.m_jsonRootElement[n]={};return new f.NativeJsonProxyElement(this.m_jsonRootElement[n]);};f.NativeJsonProxyElement.prototype.setNewStructureByKey=f.NativeJsonProxyElement.prototype.putNewStructure;f.NativeJsonProxyElement.prototype.getKeysAsReadOnlyListOfStringSorted=function(){var s=this.getKeysAsReadOnlyListOfString();if(s===null||s.isEmpty()){return s;}s.sortByDirection(f.XSortDirection.ASCENDING);return s;};f.NativeJsonProxyElement.prototype.hasStringByKey=function(n){if(this.containsKey(n)){return this.getElementTypeByKey(n)===f.PrElementType.STRING;}return false;};f.NativeJsonProxyElement.prototype.hasStringByName=f.NativeJsonProxyElement.prototype.hasStringByKey;f.NativeJsonProxyElement.prototype.getValuesAsReadOnlyList=function(){switch(typeof this.m_jsonRootElement){case"object":if(Array.isArray(this.m_jsonRootElement)){return this;}else{var r=new f.XList();for(var p in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(p)){var t=this.getTypeOf(this.m_jsonRootElement[p]);if(t.isNumber()||t===f.PrElementType.BOOLEAN||t===f.PrElementType.STRING){r.add(this.getByKey(p));}}}return r;}}return this;};f.NativeJsonProxyElement.prototype.getIterator=function(){if(typeof this.m_jsonRootElement==="object"&&Array.isArray(this.m_jsonRootElement)){return f.XIterator.createFromList(this);}return this.getValuesAsReadOnlyList().getIterator();};f.NativeJsonProxyElement.prototype.addPrimitive=function(v){this.m_jsonRootElement.push(v);};f.NativeJsonProxyElement.prototype.addNumeric=function(v){this.m_jsonRootElement.push((typeof v==="number")?v:parseFloat(v));};f.NativeJsonProxyElement.prototype.addString=f.NativeJsonProxyElement.prototype.addPrimitive;f.NativeJsonProxyElement.prototype.addBoolean=function(v){this.m_jsonRootElement.push((v===true)||(v==="true"));};f.NativeJsonProxyElement.prototype.addInteger=f.NativeJsonProxyElement.prototype.addNumeric;f.NativeJsonProxyElement.prototype.addLong=f.NativeJsonProxyElement.prototype.addNumeric;f.NativeJsonProxyElement.prototype.addDouble=f.NativeJsonProxyElement.prototype.addNumeric;f.NativeJsonProxyElement.prototype.addNull=function(n){this.m_jsonRootElement.push(null);};f.NativeJsonProxyElement.prototype.addNewList=function(){var e=[];this.m_jsonRootElement.push(e);return new f.NativeJsonProxyElement(e);};f.NativeJsonProxyElement.prototype.addNewStructure=function(){var e={};this.m_jsonRootElement.push(e);return new f.NativeJsonProxyElement(e);};f.NativeJsonProxyElement.prototype.add=function(_){this.m_jsonRootElement.push(_);};f.NativeJsonProxyElement.prototype.clear=function(){if(this.m_jsonRootElement===null){return;}switch(typeof this.m_jsonRootElement){case"object":if(Array.isArray(this.m_jsonRootElement)){this.m_jsonRootElement.splice(0,this.m_jsonRootElement.length);}else if(this.m_jsonRootElement instanceof f.PrElement){if(this.getTypeOf(this.m_jsonRootElement)===f.PrElementType.STRUCTURE||this.getTypeOf(this.m_jsonRootElement)===f.PrElementType.LIST){this.m_jsonRootElement.clear();}}else{for(var p in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(p)){delete this.m_jsonRootElement[p];}}}return;default:return;}};f.NativeJsonProxyElement.prototype.createArrayCopy=function(){if(typeof this.m_jsonRootElement==="object"&&Array.isArray(this.m_jsonRootElement)){var c=new f.XArray(0);for(var i=0;i<this.m_jsonRootElement.length;i++){c.m_list.push(this.getByKey(i));}return c;}return null;};f.NativeJsonProxyElement.prototype.createMapByStringCopy=function(){if(typeof this.m_jsonRootElement==="object"&&!Array.isArray(this.m_jsonRootElement)){var h=new f.XHashMapByString();for(var p in this.m_jsonRootElement){if(this.m_jsonRootElement.hasOwnProperty(p)){h.getMapFromImplementation()[p]=this.getByKey(p);}}return h;}return null;};f.NativePrSerializer=function(s,p,i){this.m_sort=s;this.m_pretty=p;this.m_indentation=i;};f.NativePrSerializer.escapeSlash=function(v){if(v.indexOf("/")!==-1){var r=new RegExp("/","g");return v.replace(r,"\\/");}return v;};f.NativePrSerializer.prototype=new f.XObject();f.NativePrSerializer.prototype.serialize=function(e){var r=null;if(e!==null){var w=new f.NativeJsonSerializer(e,this.m_sort);if(this.m_pretty){r=f.NativePrSerializer.escapeSlash(JSON.stringify(w,null,this.m_indentation));}else{r=f.NativePrSerializer.escapeSlash(JSON.stringify(w));}}return r;};f.NativePrSerializerFactory=function(){f.PrSerializerFactory.call(this);this._ff_c="NativePrSerializerFactory";};f.NativePrSerializerFactory.prototype=new f.PrSerializerFactory();f.NativePrSerializerFactory.staticSetup=function(){f.PrSerializerFactory.setActiveFactory(new f.NativePrSerializerFactory());};f.NativePrSerializerFactory.prototype.newInstance=function(s,p,i){return new f.NativePrSerializer(s,p,i);};f.NativeJsonExtractor=function(){f.DfDocumentParser.call(this);this._ff_c="NativeJsonExtractor";};f.NativeJsonExtractor.prototype=new f.DfDocumentParser();f.NativeJsonExtractor.staticSetup=function(){f.XJson.setJsonExtractor(new f.NativeJsonExtractor());};f.NativeJsonExtractor.prototype.extractJsonContent=function(c){if(c instanceof f.XJson){return c.getElement();}return f.PrUtils.deepCopyElement(new f.NativeJsonProxyElement(c));};f.NativeJsonSerializer=function(j,s){this._ff_c="NativeJsonSerializer";this.m_jsonObject=j;this.m_sort=s;};f.NativeJsonSerializer.prototype=new f.XObject();f.NativeJsonSerializer.prototype.toJSON=function(){if(this.m_jsonObject===null||this.m_jsonObject===undefined){return null;}switch(typeof this.m_jsonObject){case"object":if(this.m_jsonObject instanceof f.NativeJsonProxyElement){return new f.NativeJsonSerializer(this.m_jsonObject.m_jsonRootElement,this.m_sort).toJSON();}var w;var k;var i,n;if(this.m_jsonObject instanceof f.PrElement){switch(this.m_jsonObject.getType()){case f.PrElementType.LIST:w=[];for(i=0;i<this.m_jsonObject.size();i++){w.push(new f.NativeJsonSerializer(this.m_jsonObject.get(i),this.m_sort));}return w;case f.PrElementType.STRUCTURE:w={};k=this.m_sort?this.m_jsonObject.getKeysAsReadOnlyListOfStringSorted():this.m_jsonObject.getKeysAsReadOnlyListOfString();for(i=0;i<k.size();i++){w[k.get(i)]=new f.NativeJsonSerializer(this.m_jsonObject.getByKey(k.get(i)),this.m_sort);}return w;case f.PrElementType.STRING:return this.m_jsonObject.asString().getString();case f.PrElementType.BOOLEAN:return this.m_jsonObject.asBoolean().getBoolean();case f.PrElementType.THE_NULL:return null;case f.PrElementType.INTEGER:n=this.m_jsonObject.asInteger().getInteger();if(typeof n!=="number"){return parseInt(n);}return n;case f.PrElementType.LONG:n=this.m_jsonObject.asLong().getLong();if(typeof n!=="number"){return parseInt(n);}return n;case f.PrElementType.DOUBLE:n=this.m_jsonObject.asDouble().getDouble();if(typeof n!=="number"){return parseFloat(n);}return n;}}if(Array.isArray(this.m_jsonObject)){w=[];for(i=0;i<this.m_jsonObject.length;i++){w.push(new f.NativeJsonSerializer(this.m_jsonObject[i],this.m_sort));}return w;}w={};k=Object.keys(this.m_jsonObject);if(this.m_sort){k=k.sort();}for(i=0;i<k.length;i++){w[k[i]]=new f.NativeJsonSerializer(this.m_jsonObject[k[i]],this.m_sort);}return w;}return this.m_jsonObject;};f.NativePrSerializer=function(s,p,i){this.m_sort=s;this.m_pretty=p;this.m_indentation=i;};f.NativePrSerializer.escapeSlash=function(v){if(v.indexOf("/")!==-1){var r=new RegExp("/","g");return v.replace(r,"\\/");}return v;};f.NativePrSerializer.prototype=new f.XObject();f.NativePrSerializer.prototype.serialize=function(e){var r=null;if(e!==null){var w=new f.NativeJsonSerializer(e,this.m_sort);if(this.m_pretty){r=f.NativePrSerializer.escapeSlash(JSON.stringify(w,null,this.m_indentation));}else{r=f.NativePrSerializer.escapeSlash(JSON.stringify(w));}}return r;};f.NativePrSerializerFactory=function(){f.PrSerializerFactory.call(this);this._ff_c="NativePrSerializerFactory";};f.NativePrSerializerFactory.prototype=new f.PrSerializerFactory();f.NativePrSerializerFactory.staticSetup=function(){f.PrSerializerFactory.setActiveFactory(new f.NativePrSerializerFactory());};f.NativePrSerializerFactory.prototype.newInstance=function(s,p,i){return new f.NativePrSerializer(s,p,i);};f.NativeJsonFilteringSerializer=function(){this._ff_c="NativeJsonFilteringSerializer";};f.NativeJsonFilteringSerializer.prototype=new f.XObject();f.NativeJsonFilteringSerializer.prototype.serializeWithFilter=function(e,p){return JSON.stringify(new f.NativeJsonPrFilterWrapper(e,p));};f.NativeJsonPrFilterWrapper=function(j,p){this._ff_c="NativeJsonPrFilterWrapper";this.m_jsonObject=j;this.m_prFilter=p;};f.NativeJsonPrFilterWrapper.prototype=new f.XObject();f.NativeJsonPrFilterWrapper.prototype.toJSON=function(){var s;if(this.m_jsonObject===null||this.m_jsonObject===undefined){return null;}switch(typeof this.m_jsonObject){case"object":if(this.m_jsonObject instanceof f.NativeJsonProxyElement){return new f.NativeJsonPrFilterWrapper(this.m_jsonObject.m_jsonRootElement,this.m_prFilter).toJSON();}var a;var w;var i;if(this.m_jsonObject instanceof f.PrElement){switch(this.m_jsonObject.getType()){case f.PrElementType.LIST:s=this.m_prFilter===null?null:this.m_prFilter.getListSubFilter();w=[];if(s){for(i=0;i<this.m_jsonObject.size();i++){s.submitIndex(i,this.m_jsonObject.get(i));w.push(new f.NativeJsonPrFilterWrapper(this.m_jsonObject.get(i)),this.m_prFilter);}}else{for(i=0;i<this.m_jsonObject.size();i++){w.push(new f.NativeJsonSerializer(this.m_jsonObject.get(i),true));}}return w;case f.PrElementType.STRUCTURE:w={};a=this.m_jsonObject.getKeysAsReadOnlyListOfStringSorted();for(i=0;i<a.size();i++){s=this.m_prFilter===null?null:this.m_prFilter.getSubFilter(a.get(i));if(s===null){w[a.get(i)]=new f.NativeJsonSerializer(this.m_jsonObject.getByKey(a.get(i)),true);}else if(!s.isIgnore(a.get(i),this.m_jsonObject.getByKey(a.get(i)))){w[a.get(i)]=new f.NativeJsonPrFilterWrapper(this.m_jsonObject.getByKey(a.get(i)),this.m_prFilter);}}return w;case f.PrElementType.STRING:return this.m_jsonObject.asString().getString();case f.PrElementType.INTEGER:return this.m_jsonObject.asInteger().getInteger();case f.PrElementType.LONG:return this.m_jsonObject.asLong().getLong();case f.PrElementType.DOUBLE:return this.m_jsonObject.asDouble().getDouble();case f.PrElementType.BOOLEAN:return this.m_jsonObject.asBoolean().getBoolean();case f.PrElementType.THE_NULL:return null;}return new f.NativeJsonPrFilterWrapper(JSON.parse(this.m_jsonObject.toString()),this.m_prFilter).toJSON();}if(Array.isArray(this.m_jsonObject)){s=this.m_prFilter===null?null:this.m_prFilter.getListSubFilter();w=[];if(s){for(i=0;i<this.m_jsonObject.length;i++){s.submitIndex(i,new f.NativeJsonProxyElement(this.m_jsonObject[i]));w.push(new f.NativeJsonPrFilterWrapper(this.m_jsonObject[i],s));}}else{for(i=0;i<this.m_jsonObject.length;i++){w.push(new f.NativeJsonSerializer(this.m_jsonObject[i],true));}}return w;}w={};a=Object.keys(this.m_jsonObject).sort();for(i=0;i<a.length;i++){s=this.m_prFilter===null?null:this.m_prFilter.getSubFilter(a[i]);if(s===null){w[a[i]]=new f.NativeJsonSerializer(this.m_jsonObject[a[i]],true);}else if(!s.isIgnore(a[i],new f.NativeJsonProxyElement(this.m_jsonObject[a[i]]))){w[a[i]]=new f.NativeJsonPrFilterWrapper(this.m_jsonObject[a[i]],s);}}return w;}return this.m_jsonObject;};f.NativeJsonFilteringSerializerFactory=function(){f.JsonFilteringSerializerFactory.call(this);this._ff_c="NativeJsonFilteringSerializerFactory";};f.NativeJsonFilteringSerializerFactory.prototype=new f.JsonFilteringSerializerFactory();f.NativeJsonFilteringSerializerFactory.staticSetup=function(){f.JsonFilteringSerializerFactory.setActiveFactory(new f.NativeJsonFilteringSerializerFactory());};f.NativeJsonFilteringSerializerFactory.prototype.newInstance=function(){return new f.NativeJsonFilteringSerializer();};f.StructuresNativeModule=function(){f.DfModule.call(this);this._ff_c="StructuresNativeModule";};f.StructuresNativeModule.prototype=new f.DfModule();f.StructuresNativeModule.s_module=null;f.StructuresNativeModule.getInstance=function(){var n=f.StructuresNativeModule;if(n.s_module===null){if(f.StructuresModule.getInstance()===null){throw new Error("Initialization Exception");}n.s_module=f.DfModule.startExt(new f.StructuresNativeModule());f.NativeJsonParserFactory.staticSetup();f.NativeJsonExtractor.staticSetup();f.NativePrSerializerFactory.staticSetup();f.NativeJsonFilteringSerializerFactory.staticSetup();f.DfModule.stopExt(n.s_module);}return n.s_module;};f.StructuresNativeModule.prototype.getName=function(){return"ff0080.structures.native";};f.StructuresNativeModule.getInstance();return sap.firefly;});
