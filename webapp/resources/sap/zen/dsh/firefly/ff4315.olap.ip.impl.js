/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff4310.olap.impl"],function(f){"use strict";f.XCommandCallback=function(){};f.XCommandCallback.prototype=new f.XObject();f.XCommandCallback.prototype._ff_c="XCommandCallback";f.XCommandCallback.create=function(c){var a=new f.XCommandCallback();a.m_callbackListener=c;return a;};f.XCommandCallback.prototype.m_callbackListener=null;f.XCommandCallback.prototype.onCommandProcessed=function(e,c,a){this.m_callbackListener.onXCommandCallbackProcessed(e,c,a);};f.XPlanningCommandCallback=function(){};f.XPlanningCommandCallback.prototype=new f.XObject();f.XPlanningCommandCallback.prototype._ff_c="XPlanningCommandCallback";f.XPlanningCommandCallback.create=function(c){var a=new f.XPlanningCommandCallback();a.m_commandListener=c;return a;};f.XPlanningCommandCallback.prototype.m_commandListener=null;f.XPlanningCommandCallback.prototype.onCommandProcessed=function(e){this.m_commandListener.onXPlanningCommandProcessed(e);};f.PlanningContext=function(){};f.PlanningContext.prototype=new f.XObject();f.PlanningContext.prototype._ff_c="PlanningContext";f.PlanningContext.prototype.m_planningService=null;f.PlanningContext.prototype.getPlanningService=function(){return this.m_planningService;};f.PlanningContext.prototype.releaseObject=function(){this.m_planningService=null;f.XObject.prototype.releaseObject.call(this);};f.PlanningContext.prototype.setPlanningService=function(p){this.m_planningService=p;};f.PlanningContext.prototype.createPlanningCommand=function(c){var e=this.createRequestCreateCommandWithId(c).processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(e.getData(),e);};f.PlanningContext.prototype.executeCommandBlocking=function(c){var a=this.createPlanningContextCommand(c);var b=a.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(b.getData(),b);};f.PlanningContext.prototype.publish=function(){return this.executeCommandBlocking(f.PlanningContextCommandType.PUBLISH);};f.PlanningContext.prototype.backup=function(){return this.executeCommandBlocking(f.PlanningContextCommandType.BACKUP);};f.PlanningContext.prototype.refresh=function(){return this.executeCommandBlocking(f.PlanningContextCommandType.REFRESH);};f.PlanningContext.prototype.hardDelete=function(){return this.executeCommandBlocking(f.PlanningContextCommandType.HARD_DELETE);};f.PlanningContext.prototype.reset=function(){return this.executeCommandBlocking(f.PlanningContextCommandType.RESET);};f.PlanningContext.prototype.close=function(){return this.executeCommandBlocking(f.PlanningContextCommandType.CLOSE);};f.PlanningContext.prototype.createCommandRefresh=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.REFRESH);};f.PlanningContext.prototype.createCommandHardDelete=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.HARD_DELETE);};f.PlanningContext.prototype.createCommandReset=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.RESET);};f.PlanningContext.prototype.invalidate=function(){var q=this.getQueryConsumerServices();if(f.notNull(q)){for(var i=0;i<q.size();i++){var a=q.get(i);a.invalidateState();}}};f.PlanningContext.prototype.toString=function(){var s=f.XStringBuffer.create();s.appendLine(this.getPlanningContextType().toString());if(f.notNull(this.m_planningService)){s.appendLine(this.m_planningService.toString());}s.appendLine("Related query consumer services:");var q=this.getQueryConsumerServices();if(f.notNull(q)){for(var i=0;i<q.size();i++){var a=q.get(i);s.appendLine(a.toString());}}return s.toString();};f.PlanningState={isApplicable:function(a,s,r){if(f.isNull(a)){return false;}if(f.XStringUtils.isNullOrEmpty(s)){return false;}return f.notNull(r);},update:function(a,s,r,m){if(f.PlanningState.isApplicable(a,s,r)){f.DataAreaState.updateState(a,s,r);f.PlanningModel.updateState(a,s,r,m);}},updateFromResponse:function(a,s,r,b,m){if(f.PlanningState.isApplicable(a,s,b)&&f.notNull(r)){f.PlanningModel.updateStateFromResponse(a,s,r,b,m);}}};f.DataAreaState=function(){};f.DataAreaState.prototype=new f.XObject();f.DataAreaState.prototype._ff_c="DataAreaState";f.DataAreaState.SINGLETON_KEY="com.oFF.ip.da.DataAreaState.Map";f.DataAreaState.updateState=function(a,s,r){var b=a.getSystemLandscape();if(f.isNull(b)){return;}var c=b.getSystemDescription(s);if(f.isNull(c)){return;}var d=c.getSystemType();if(!d.isTypeOf(f.SystemType.BW)){return;}var e=f.PrUtils.getListProperty(r,"DataAreas");if(f.isNull(e)){return;}for(var i=0;i<e.size();i++){var g=f.PrUtils.getStructureElement(e,i);if(f.isNull(g)){continue;}var n=f.PrUtils.getStringProperty(g,"Name");if(f.isNull(n)){continue;}var h=f.DataAreaState.getDataAreaStateByName(a,s,n.getString());if(f.isNull(h)){continue;}h.setSubmitted();var m=f.PrUtils.getStringProperty(g,"Model");if(f.notNull(m)){h.setModel(m.getString());}var j=f.PrUtils.getStringProperty(g,"Environment");if(f.notNull(j)){h.setEnvrionment(j.getString());}var k=f.PrUtils.getStringProperty(g,"CellLocking");if(f.notNull(k)){h.setCellLocking(f.CellLockingType.lookupByBWName(k.getString()));}var l=f.PrUtils.getNumberProperty(g,"ChangeCounter");if(f.notNull(l)){h.setChangeCounter(l.getInteger());}var o=f.PrUtils.getBooleanProperty(g,"HasChangedData");if(f.notNull(o)){h.setChangedData(o.getBoolean());}var w=f.PrUtils.getBooleanProperty(g,"IsWorkStatusActive");if(f.notNull(w)){h.setWorkStatusActive(w.getBoolean());}}};f.DataAreaState.getDataAreaStates=function(a,s){if(f.isNull(a)){return null;}if(f.XStringUtils.isNullOrEmpty(s)){return null;}var b=a.getSession().getSessionSingletons();if(f.isNull(b)){return null;}var c=b.getByKey(f.DataAreaState.SINGLETON_KEY);if(f.isNull(c)){c=f.XHashMapByString.create();b.put(f.DataAreaState.SINGLETON_KEY,c);}var d=c.getByKey(s);if(f.isNull(d)){d=f.XHashMapByString.create();c.put(s,d);}return d;};f.DataAreaState.createDataAreaState=function(a,s,d,e,m,c){var b=f.DataAreaState.getDataAreaStates(a,s);if(f.isNull(b)){return null;}var g=d;if(f.XStringUtils.isNullOrEmpty(g)){g="DEFAULT";}var h=c;if(f.isNull(h)){h=f.CellLockingType.DEFAULT_SETTING_BACKEND;}var i=b.getByKey(g);if(f.notNull(i)){throw f.XException.createIllegalStateException("data area already existing");}if(f.XString.isEqual(g,"DEFAULT")){if(f.XStringUtils.isNotNullAndNotEmpty(e)){throw f.XException.createIllegalStateException("DEFAULT data area - environment not supported");}if(f.XStringUtils.isNotNullAndNotEmpty(m)){throw f.XException.createIllegalStateException("DEFAULT data area - model not supported");}}i=new f.DataAreaState();i.m_systemName=s;i.m_dataArea=g;i.setModel(m);i.setEnvrionment(e);i.setCellLocking(h);i.setChangeCounter(-1);i.setChangedData(false);i.setWorkStatusActive(false);b.put(i.m_dataArea,i);return i;};f.DataAreaState.getDataAreaStateByName=function(a,s,d){var b=f.DataAreaState.getDataAreaStates(a,s);if(f.isNull(b)){return null;}var c=d;if(f.XStringUtils.isNullOrEmpty(c)){c="DEFAULT";}return b.getByKey(c);};f.DataAreaState.removeDataAreaStateByName=function(a,s,d){var b=f.DataAreaState.getDataAreaStates(a,s);if(f.isNull(b)){return;}var c=d;if(f.XStringUtils.isNullOrEmpty(c)){c="DEFAULT";}b.remove(c);};f.DataAreaState.getQueryConsumerServicesByName=function(a,s,d){return f.DataAreaUtil.getQueryConsumerServicesByName(a,s,d);};f.DataAreaState.getQueryConsumerServices=function(d){return f.DataAreaUtil.getQueryConsumerServices(d);};f.DataAreaState.getDataAreaStateByQueryConsumerService=function(q){if(f.isNull(q)){return null;}var s=q.getSystemType();if(!s.isTypeOf(f.SystemType.BW)){return null;}var d=q.getDataSource();if(f.isNull(d)){return null;}var a=d.getDataArea();if(f.XStringUtils.isNullOrEmpty(a)){a="DEFAULT";}return f.DataAreaState.getDataAreaStateByName(q.getApplication(),q.getSystemName(),a);};f.DataAreaState.getDataAreaState=function(d){if(f.isNull(d)){return null;}var p=d.getPlanningService();return f.DataAreaState.getDataAreaStateByPlanningService(p);};f.DataAreaState.removeDataAreaState=function(d){if(f.isNull(d)){return;}var p=d.getPlanningService();f.DataAreaState.removeDataAreaStateByPlanningService(p);};f.DataAreaState.getDataAreaStateByPlanningService=function(p){if(f.isNull(p)){return null;}var s=p.getPlanningServiceConfig();if(f.isNull(s)){return null;}var a=s.getSystemType();if(!a.isTypeOf(f.SystemType.BW)){return null;}var b=s.getProperties();if(f.isNull(b)){return null;}var c=b.getStringByKeyExt(f.PlanningConstants.DATA_AREA,"DEFAULT");return f.DataAreaState.getDataAreaStateByName(p.getApplication(),s.getSystemName(),c);};f.DataAreaState.removeDataAreaStateByPlanningService=function(p){if(f.isNull(p)){return;}var s=p.getPlanningServiceConfig();if(f.isNull(s)){return;}var a=s.getSystemType();if(!a.isTypeOf(f.SystemType.BW)){return;}var b=s.getProperties();if(f.isNull(b)){return;}var c=b.getStringByKeyExt(f.PlanningConstants.DATA_AREA,"DEFAULT");f.DataAreaState.removeDataAreaStateByName(p.getApplication(),s.getSystemName(),c);};f.DataAreaState.prototype.m_systemName=null;f.DataAreaState.prototype.m_dataArea=null;f.DataAreaState.prototype.m_environment=null;f.DataAreaState.prototype.m_model=null;f.DataAreaState.prototype.m_cellLocking=null;f.DataAreaState.prototype.m_submitted=false;f.DataAreaState.prototype.m_changeCounter=0;f.DataAreaState.prototype.m_changedData=false;f.DataAreaState.prototype.m_workStatusActive=false;f.DataAreaState.prototype.releaseObject=function(){this.m_systemName=null;this.m_dataArea=null;this.m_environment=null;this.m_model=null;this.m_cellLocking=null;f.XObject.prototype.releaseObject.call(this);};f.DataAreaState.prototype.getSystemName=function(){return this.m_systemName;};f.DataAreaState.prototype.getDataArea=function(){return this.m_dataArea;};f.DataAreaState.prototype.getEnvironment=function(){return this.m_environment;};f.DataAreaState.prototype.setEnvrionment=function(e){if(f.XStringUtils.isNullOrEmpty(e)){this.m_environment=null;}else{this.m_environment=e;}};f.DataAreaState.prototype.getModel=function(){return this.m_model;};f.DataAreaState.prototype.setModel=function(m){if(f.XStringUtils.isNullOrEmpty(m)){this.m_model=null;}else{this.m_model=m;}};f.DataAreaState.prototype.getCellLocking=function(){return this.m_cellLocking;};f.DataAreaState.prototype.setCellLocking=function(c){if(f.isNull(c)){this.m_cellLocking=f.CellLockingType.DEFAULT_SETTING_BACKEND;}else{this.m_cellLocking=c;}};f.DataAreaState.prototype.isSubmitted=function(){return this.m_submitted;};f.DataAreaState.prototype.setSubmitted=function(){this.m_submitted=true;};f.DataAreaState.prototype.getChangeCounter=function(){return this.m_changeCounter;};f.DataAreaState.prototype.setChangeCounter=function(c){this.m_changeCounter=c;};f.DataAreaState.prototype.hasChangedData=function(){return this.m_changedData;};f.DataAreaState.prototype.setChangedData=function(c){this.m_changedData=c;};f.DataAreaState.prototype.isWorkStatusActive=function(){return this.m_workStatusActive;};f.DataAreaState.prototype.setWorkStatusActive=function(w){this.m_workStatusActive=w;};f.DataAreaState.prototype.isEqualSettings=function(e,m,c){if(!f.XString.isEqual(this.m_environment,e)){return false;}if(!f.XString.isEqual(this.m_model,m)){return false;}return this.m_cellLocking===c;};f.DataAreaState.prototype.serializeToJson=function(){var s=f.PrFactory.createStructure();s.putStringNotNull("Name",this.m_dataArea);s.putStringNotNull("Environment",this.m_environment);s.putStringNotNull("Model",this.m_model);s.putString("BackendCellLocking",this.m_cellLocking.toBwName());return s;};f.PlanningOperationMetadata=function(){};f.PlanningOperationMetadata.prototype=new f.XObject();f.PlanningOperationMetadata.prototype._ff_c="PlanningOperationMetadata";f.PlanningOperationMetadata.prototype.m_dataArea=null;f.PlanningOperationMetadata.prototype.m_planningOperationIdentifier=null;f.PlanningOperationMetadata.prototype.m_instanceId=null;f.PlanningOperationMetadata.prototype.m_dimensions=null;f.PlanningOperationMetadata.prototype.m_variables=null;f.PlanningOperationMetadata.prototype.getDataArea=function(){return this.m_dataArea;};f.PlanningOperationMetadata.prototype.setDataArea=function(d){this.m_dataArea=d;};f.PlanningOperationMetadata.prototype.getPlanningOperationIdentifier=function(){return this.m_planningOperationIdentifier;};f.PlanningOperationMetadata.prototype.setPlanningOperationIdentifier=function(p){this.m_planningOperationIdentifier=p;};f.PlanningOperationMetadata.prototype.getInstanceId=function(){return this.m_instanceId;};f.PlanningOperationMetadata.prototype.setInstanceId=function(i){this.m_instanceId=i;};f.PlanningOperationMetadata.prototype.getDimensions=function(){return this.m_dimensions;};f.PlanningOperationMetadata.prototype.setDimenstions=function(d){this.m_dimensions=d;};f.PlanningOperationMetadata.prototype.getVariables=function(){return this.m_variables;};f.PlanningOperationMetadata.prototype.setVariables=function(v){this.m_variables=v;};f.PlanningSequenceStepMetadata=function(){};f.PlanningSequenceStepMetadata.prototype=new f.XObject();f.PlanningSequenceStepMetadata.prototype._ff_c="PlanningSequenceStepMetadata";f.PlanningSequenceStepMetadata.prototype.m_number=0;f.PlanningSequenceStepMetadata.prototype.m_baseDatasource=null;f.PlanningSequenceStepMetadata.prototype.m_type=null;f.PlanningSequenceStepMetadata.prototype.m_filterName=null;f.PlanningSequenceStepMetadata.prototype.m_planningFunctionName=null;f.PlanningSequenceStepMetadata.prototype.m_queryName=null;f.PlanningSequenceStepMetadata.prototype.m_planningFunctionDescription=null;f.PlanningSequenceStepMetadata.prototype.m_commandType=null;f.PlanningSequenceStepMetadata.prototype.getNumber=function(){return this.m_number;};f.PlanningSequenceStepMetadata.prototype.setNumber=function(n){this.m_number=n;};f.PlanningSequenceStepMetadata.prototype.getBaseDataSource=function(){return this.m_baseDatasource;};f.PlanningSequenceStepMetadata.prototype.setBaseDataSource=function(b){this.m_baseDatasource=b;};f.PlanningSequenceStepMetadata.prototype.getType=function(){return this.m_type;};f.PlanningSequenceStepMetadata.prototype.setType=function(t){this.m_type=t;};f.PlanningSequenceStepMetadata.prototype.getFilterName=function(){return this.m_filterName;};f.PlanningSequenceStepMetadata.prototype.setFilterName=function(a){this.m_filterName=a;};f.PlanningSequenceStepMetadata.prototype.getPlanningFunctionName=function(){return this.m_planningFunctionName;};f.PlanningSequenceStepMetadata.prototype.setPlanningFunctionName=function(n){this.m_planningFunctionName=n;};f.PlanningSequenceStepMetadata.prototype.getQueryName=function(){return this.m_queryName;};f.PlanningSequenceStepMetadata.prototype.setQueryName=function(n){this.m_queryName=n;};f.PlanningSequenceStepMetadata.prototype.getPlanningFunctionDescription=function(){return this.m_planningFunctionDescription;};f.PlanningSequenceStepMetadata.prototype.setPlanningFunctionDescription=function(d){this.m_planningFunctionDescription=d;};f.PlanningSequenceStepMetadata.prototype.getCommendType=function(){return this.m_commandType;};f.PlanningSequenceStepMetadata.prototype.setCommendType=function(t){this.m_commandType=t;};f.PlanningBatchRequestDecorator=function(){};f.PlanningBatchRequestDecorator.prototype=new f.XObject();f.PlanningBatchRequestDecorator.prototype._ff_c="PlanningBatchRequestDecorator";f.PlanningBatchRequestDecorator.getBatchRequestDecorator=function(r){if(f.isNull(r)){return null;}var p=f.PrUtils.getStructureProperty(r,"Planning");if(f.isNull(p)){return null;}var c=f.PrUtils.getListProperty(p,"commands");if(f.isNull(c)){return null;}var a=f.XList.create();for(var i=0;i<c.size();i++){var b=f.PrUtils.getStructureElement(c,i);f.XObjectExt.assertNotNullExt(b,"illegal planning batch commands syntax");var d=f.PrFactory.createStructure();d.put("Planning",b);a.add(d);}var e=new f.PlanningBatchRequestDecorator();e.m_requestItems=a;return e;};f.PlanningBatchRequestDecorator.prototype.m_requestItems=null;f.PlanningBatchRequestDecorator.prototype.getItemsSize=function(){return this.m_requestItems.size();};f.PlanningBatchRequestDecorator.prototype.getRequestItems=function(){return this.m_requestItems;};f.PlanningBatchRequestDecorator.prototype.buildResponse=function(r){if(r.size()!==this.getItemsSize()){throw f.XException.createIllegalStateException("illegal planning batch response structure");}var a=f.PrFactory.createStructure();var p=a.putNewList("Planning");for(var i=0;i<r.size();i++){var b=r.get(i);var c=f.PrUtils.getStructureProperty(b,"Planning");f.XObjectExt.assertNotNullExt(c,"illegal planning batch response structure");p.add(c);}return a;};f.PlanningBatchRequestDecoratorProvider=function(){};f.PlanningBatchRequestDecoratorProvider.prototype=new f.XObject();f.PlanningBatchRequestDecoratorProvider.prototype._ff_c="PlanningBatchRequestDecoratorProvider";f.PlanningBatchRequestDecoratorProvider.CLAZZ=null;f.PlanningBatchRequestDecoratorProvider.staticSetup=function(){f.PlanningBatchRequestDecoratorProvider.CLAZZ=f.XClass.create(f.PlanningBatchRequestDecoratorProvider);};f.PlanningBatchRequestDecoratorProvider.prototype.getBatchRequestDecorator=function(r){return f.PlanningBatchRequestDecorator.getBatchRequestDecorator(r);};f.PlanningRsRequestDecorator=function(){};f.PlanningRsRequestDecorator.prototype=new f.XObject();f.PlanningRsRequestDecorator.prototype._ff_c="PlanningRsRequestDecorator";f.PlanningRsRequestDecorator.getResultsetRequestDecorator=function(a,s,r){if(f.isNull(a)){return null;}if(f.isNull(s)){return null;}var b=s.getSystemType();if(f.isNull(b)){return null;}if(!b.isTypeOf(f.SystemType.HANA)){return null;}if(f.isNull(r)){return null;}var c=f.PrUtils.getStructureProperty(r,"Analytics");if(f.isNull(c)){return null;}var d=f.PrUtils.getStructureProperty(c,"Definition");if(f.isNull(d)){return null;}var n=f.PrUtils.getListProperty(d,"NewValues");if(f.PrUtils.isListEmpty(n)){return null;}var e=f.PrUtils.getStructureProperty(c,"DataSource");if(f.isNull(e)){return null;}var t=f.PrUtils.getStringProperty(e,"Type");if(f.isNull(t)){return null;}var g=f.MetaObjectType.lookup(t.getString());if(f.isNull(g)){return null;}if(g!==f.MetaObjectType.PLANNING){return null;}var h=f.QFactory.createDataSourceWithType(g,f.PrUtils.getStringValueProperty(e,"ObjectName",null));h.setSchemaName(f.PrUtils.getStringValueProperty(e,"SchemaName",null));var j=s.getSystemName();var p=f.PlanningModelUtil.getPlanningServiceFromQueryDataSource(a,j,h);if(f.isNull(p)){return null;}var k=p.getPlanningContext();if(f.isNull(k)){return null;}var l=k.createCommandRefresh();if(f.isNull(l)){return null;}var m=l.serializeToJson();if(f.isNull(m)){return null;}var o=f.PlanningBatchRequestDecorator.getBatchRequestDecorator(m);var q=f.PrFactory.createStructure();var u=q.putNewList(f.ConnectionConstants.INA_BATCH);u.add(r);if(f.isNull(o)){u.add(m);}else{var v=o.getRequestItems();if(f.notNull(v)){for(var i=0;i<v.size();i++){u.add(v.get(i));}}}var w=new f.PlanningRsRequestDecorator();w.m_decoratedRequest=q;w.m_planningRequest=m;w.m_planningBatchDecorator=o;return w;};f.PlanningRsRequestDecorator.prototype.m_decoratedRequest=null;f.PlanningRsRequestDecorator.prototype.m_planningRequest=null;f.PlanningRsRequestDecorator.prototype.m_planningResponse=null;f.PlanningRsRequestDecorator.prototype.m_planningBatchDecorator=null;f.PlanningRsRequestDecorator.prototype.getDecoratedRequest=function(){return this.m_decoratedRequest;};f.PlanningRsRequestDecorator.prototype.getPlanningRequest=function(){return this.m_planningRequest;};f.PlanningRsRequestDecorator.prototype.getPlanningResponse=function(){return this.m_planningResponse;};f.PlanningRsRequestDecorator.prototype.buildResponse=function(d){this.m_planningResponse=null;if(f.isNull(d)){return null;}var b=f.PrUtils.getListProperty(d,f.ConnectionConstants.INA_BATCH);if(f.isNull(b)){return null;}var e;if(f.isNull(this.m_planningBatchDecorator)){e=2;}else{e=1+this.m_planningBatchDecorator.getItemsSize();}if(b.size()!==e){return null;}var r=f.PrUtils.getStructureElement(b,0);if(f.isNull(r)){return null;}f.PrUtils.removeProperty(r,"Planning");var p;if(f.isNull(this.m_planningBatchDecorator)){p=f.PrUtils.getStructureElement(b,1);}else{var a=f.XList.create();for(var c=1;c<e;c++){a.add(f.PrUtils.getStructureElement(b,c));}p=this.m_planningBatchDecorator.buildResponse(a);}if(f.isNull(p)){return null;}this.m_planningResponse=p;return r;};f.PlanningRsRequestDecoratorProvider=function(){};f.PlanningRsRequestDecoratorProvider.prototype=new f.XObject();f.PlanningRsRequestDecoratorProvider.prototype._ff_c="PlanningRsRequestDecoratorProvider";f.PlanningRsRequestDecoratorProvider.CLAZZ=null;f.PlanningRsRequestDecoratorProvider.staticSetup=function(){f.PlanningRsRequestDecoratorProvider.CLAZZ=f.XClass.create(f.PlanningRsRequestDecoratorProvider);};f.PlanningRsRequestDecoratorProvider.prototype.getResultsetRequestDecorator=function(a,s,r){return f.PlanningRsRequestDecorator.getResultsetRequestDecorator(a,s,r);};f.PlanningManager=function(){};f.PlanningManager.prototype=new f.XObject();f.PlanningManager.prototype._ff_c="PlanningManager";f.PlanningManager.create=function(q){var p=new f.PlanningManager();p.m_queryManager=f.XWeakReferenceUtil.getWeakRef(q);p.m_allPlanningVersionSettings=f.XList.create();p.m_planningActionSequenceSettingsMode=f.PlanningVersionSettingsMode.SERVER_DEFAULT;p.m_versionAliases=f.XHashMapOfStringByString.create();return p;};f.PlanningManager.prototype.m_queryManager=null;f.PlanningManager.prototype.m_allPlanningVersionSettings=null;f.PlanningManager.prototype.m_versionRestrictionType=null;f.PlanningManager.prototype.m_planningActionSequenceSettingsMode=null;f.PlanningManager.prototype.m_isPublicVersionEditPossible=false;f.PlanningManager.prototype.m_versionAliases=null;f.PlanningManager.prototype.getQueryManager=function(){return f.XWeakReferenceUtil.getHardRef(this.m_queryManager);};f.PlanningManager.prototype.getResultSetContainer=function(){return this.getQueryManager().getActiveResultSetContainer();};f.PlanningManager.prototype.getQueryModel=function(){return this.getQueryManager().getQueryModelBase();};f.PlanningManager.prototype.releaseObject=function(){this.m_queryManager=f.XObjectExt.release(this.m_queryManager);this.m_allPlanningVersionSettings=f.XObjectExt.release(this.m_allPlanningVersionSettings);this.m_versionRestrictionType=null;this.m_planningActionSequenceSettingsMode=null;this.m_versionAliases=f.XObjectExt.release(this.m_versionAliases);f.XObject.prototype.releaseObject.call(this);};f.PlanningManager.prototype.hasChangedValues=function(){var r=this.getResultSetContainer();if(!r.hasDataEntryCollection()){return false;}var d=r.getDataEntryCollection();return d.hasChangedValues();};f.PlanningManager.prototype.hasChangedValueLocks=function(){var r=this.getResultSetContainer();if(!r.hasDataEntryCollection()){return false;}var d=r.getDataEntryCollection();return d.hasChangedValueLocks();};f.PlanningManager.prototype.hasChangedCells=function(){var r=this.getResultSetContainer();if(!r.hasDataEntryCollection()){return false;}var d=r.getDataEntryCollection();return d.hasChangedDataEntries();};f.PlanningManager.prototype.transferNewValues=function(){var r=this.getResultSetContainer();var a=r.getId();var d=r.getDataEntryCollection();r.setDataEntryCollection(null);var n=r.getNewLineCollection();r.setNewLineCollection(null);this.getQueryManager().invalidateState();r=this.getResultSetContainer();r.setId(a);r.setDataEntryCollection(d);r.setNewLineCollection(n);};f.PlanningManager.prototype.resetNewValues=function(){var a=this.getResultSetContainer();a.resetDataEntryCollection();a.resetNewLineCollection();};f.PlanningManager.prototype.hasNewValues=function(){var r=this.getResultSetContainer();if(r.hasDataEntryCollection()){var d=r.getDataEntryCollection();if(d.hasChangedDataEntries()){return true;}}if(r.hasNewLineCollection()){var n=r.getNewLineCollection();return n.hasValidNewLines();}return false;};f.PlanningManager.prototype.setDataEntryReadOnly=function(d){this.getQueryModel().setDataEntryReadOnly(d);};f.PlanningManager.prototype.isDataEntryReadOnly=function(){return this.getQueryModel().isDataEntryReadOnly();};f.PlanningManager.prototype.isDataEntryEnabled=function(){return this.getQueryModel().isDataEntryEnabled();};f.PlanningManager.prototype.getPlanningModel=function(){var q=this.getQueryManager();if(this.getQueryManager().isReleased()){return null;}var a=q.getApplication();if(f.isNull(a)){return null;}var d=q.getDataSource();if(f.isNull(d)){return null;}var p=f.PlanningModelUtil.getPlanningServiceFromQueryDataSource(a,q.getSystemName(),d);if(f.isNull(p)){return null;}var b=p.getPlanningContext();if(f.isNull(b)){return null;}return b;};f.PlanningManager.prototype.getDataAreaName=function(){var q=this.getQueryModel();if(f.isNull(q)){return null;}return q.getDataArea();};f.PlanningManager.prototype.getDataArea=function(){var d=this.getDataAreaName();if(f.XStringUtils.isNullOrEmpty(d)){return null;}var q=this.getQueryManager();var a=q.getApplication();if(f.isNull(a)){return null;}var p=f.DataAreaUtil.getPlanningService(a,q.getSystemName(),d);if(f.isNull(p)){return null;}var b=p.getPlanningContext();if(f.isNull(b)){return null;}return b;};f.PlanningManager.prototype.getPlanningMode=function(){return this.getQueryModel().getPlanningMode();};f.PlanningManager.prototype.setPlanningMode=function(p){this.getQueryModel().setPlanningMode(p);};f.PlanningManager.prototype.getPlanningRestriction=function(){return this.m_versionRestrictionType;};f.PlanningManager.prototype.setPlanningRestriction=function(r){this.m_versionRestrictionType=r;};f.PlanningManager.prototype.supportsDataEntryReadOnly=function(){return this.getQueryModel().supportsDataEntryReadOnly();};f.PlanningManager.prototype.getPlanningVersionIdentifier=function(v,s,a){return f.PlanningVersionIdentifier.create(v,s,a);};f.PlanningManager.prototype.getPlanningVersionSettings=function(v,s,u){return f.PlanningVersionSettings.create(v,s,u);};f.PlanningManager.prototype.getPlanningVersionSettingsSimple=function(v,s,u){return f.PlanningVersionSettingsSimple.create(v,s,u);};f.PlanningManager.prototype.addPlanningVersionSettings=function(s){if(f.isNull(s)){return null;}var e=this.findPlanningActionSequenceSettingsInternal(s);if(this.isPlanningVersionSettingsEqual(e,s)){return e;}this.m_allPlanningVersionSettings.removeElement(e);this.m_allPlanningVersionSettings.add(s);this.getQueryManager().invalidateState();return s;};f.PlanningManager.prototype.findPlanningActionSequenceSettingsInternal=function(v){if(f.isNull(v)){return null;}var a=v.getVersionUniqueName();var b=this.m_allPlanningVersionSettings.size();for(var i=0;i<b;i++){var s=this.m_allPlanningVersionSettings.get(i);if(f.XString.isEqual(s.getVersionUniqueName(),a)){return s;}}return null;};f.PlanningManager.prototype.isPlanningVersionSettingsEqual=function(s,a){if(s===a){return true;}if(f.isNull(s)||f.isNull(a)){return false;}if(!f.XString.isEqual(s.getVersionUniqueName(),a.getVersionUniqueName())){return false;}if(!f.XString.isEqual(s.getActionSequenceId(),a.getActionSequenceId())){return false;}if(s.getUseExternalView()!==a.getUseExternalView()){return false;}return s.getIsRestrictionEnabled()===a.getIsRestrictionEnabled();};f.PlanningManager.prototype.deletePlanningVersionSettings=function(v){var s=this.findPlanningActionSequenceSettingsInternal(v);return this.m_allPlanningVersionSettings.removeElement(s);};f.PlanningManager.prototype.getAllPlanningVersionSettings=function(){return this.m_allPlanningVersionSettings;};f.PlanningManager.prototype.setPlanningVersionSettingsMode=function(s){if(f.isNull(s)){this.m_planningActionSequenceSettingsMode=f.PlanningVersionSettingsMode.SERVER_DEFAULT;}else{this.m_planningActionSequenceSettingsMode=s;}};f.PlanningManager.prototype.getPlanningVersionSettingsMode=function(){if(f.isNull(this.m_planningActionSequenceSettingsMode)){return f.PlanningVersionSettingsMode.SERVER_DEFAULT;}return this.m_planningActionSequenceSettingsMode;};f.PlanningManager.prototype.setDataEntryEnabled=function(d){this.getQueryModel().setDataEntryEnabled(d);};f.PlanningManager.prototype.initializeDataAreaState=function(){var m=f.MessageManagerSimple.createMessageManager();if(this.isDataEntryEnabled()){var q=this.getQueryManager();var s=q.getSystemType();if(s.isTypeOf(f.SystemType.BW)){var a=q.getSystemName();var b=q.getApplication();var d=this.getDataAreaName();var c=f.DataAreaState.getDataAreaStateByName(b,a,d);if(f.isNull(c)){c=f.DataAreaState.createDataAreaState(b,a,d,null,null,null);if(f.isNull(c)){m.addError(f.ErrorCodes.INVALID_STATE,"illegal data area");}}else{if(!c.isSubmitted()){m.addErrorExt(f.OriginLayer.DRIVER,0,"illegal data area",c);}}}}return m;};f.PlanningManager.prototype.isPublicVersionEditPossible=function(){return this.m_isPublicVersionEditPossible&&this.getPlanningMode()===f.PlanningMode.FORCE_PLANNING;};f.PlanningManager.prototype.setPublicVersionEditPossible=function(p){this.m_isPublicVersionEditPossible=p;};f.PlanningManager.prototype.setVersionAliasById=function(a,v){this.m_versionAliases.put(a,v);var q=this.getQueryManager();if(f.notNull(q)){q.invalidateState();}};f.PlanningManager.prototype.removeVersionAlias=function(a){this.m_versionAliases.remove(a);var q=this.getQueryManager();if(f.notNull(q)){q.invalidateState();}};f.PlanningManager.prototype.clearVersionAliases=function(){this.m_versionAliases.clear();var q=this.getQueryManager();if(f.notNull(q)){q.invalidateState();}};f.PlanningManager.prototype.getVersionAliases=function(){return this.m_versionAliases;};f.PlanningManagerFactoryImpl=function(){};f.PlanningManagerFactoryImpl.prototype=new f.XObject();f.PlanningManagerFactoryImpl.prototype._ff_c="PlanningManagerFactoryImpl";f.PlanningManagerFactoryImpl.create=function(){return new f.PlanningManagerFactoryImpl();};f.PlanningManagerFactoryImpl.prototype.createPlanningManager=function(q){return f.PlanningManager.create(q);};f.PlanningModelQueryDataSource=function(){};f.PlanningModelQueryDataSource.prototype=new f.XObject();f.PlanningModelQueryDataSource.prototype._ff_c="PlanningModelQueryDataSource";f.PlanningModelQueryDataSource.prototype.m_description=null;f.PlanningModelQueryDataSource.prototype.m_datasource=null;f.PlanningModelQueryDataSource.prototype.m_primary=false;f.PlanningModelQueryDataSource.prototype.releaseObject=function(){this.m_description=null;this.m_datasource=null;f.XObject.prototype.releaseObject.call(this);};f.PlanningModelQueryDataSource.prototype.getDescription=function(){return this.m_description;};f.PlanningModelQueryDataSource.prototype.setDescription=function(d){this.m_description=d;};f.PlanningModelQueryDataSource.prototype.getDataSource=function(){return this.m_datasource;};f.PlanningModelQueryDataSource.prototype.setDataSource=function(d){this.m_datasource=d;};f.PlanningModelQueryDataSource.prototype.isPrimary=function(){return this.m_primary;};f.PlanningModelQueryDataSource.prototype.setPrimary=function(p){this.m_primary=p;};f.PlanningVersionIdentifier=function(){};f.PlanningVersionIdentifier.prototype=new f.XObject();f.PlanningVersionIdentifier.prototype._ff_c="PlanningVersionIdentifier";f.PlanningVersionIdentifier.create=function(v,s,a){var i=new f.PlanningVersionIdentifier();i.m_versionId=v;i.m_sharedVersion=s;i.m_versionOwner=a;return i;};f.PlanningVersionIdentifier.prototype.m_versionId=0;f.PlanningVersionIdentifier.prototype.m_sharedVersion=false;f.PlanningVersionIdentifier.prototype.m_versionOwner=null;f.PlanningVersionIdentifier.prototype.releaseObject=function(){this.m_versionOwner=null;f.XObject.prototype.releaseObject.call(this);};f.PlanningVersionIdentifier.prototype.getVersionId=function(){return this.m_versionId;};f.PlanningVersionIdentifier.prototype.isSharedVersion=function(){return this.m_sharedVersion;};f.PlanningVersionIdentifier.prototype.getVersionOwner=function(){return this.m_versionOwner;};f.PlanningVersionIdentifier.prototype.getVersionUniqueName=function(){var s=f.XStringBuffer.create();s.append(f.XInteger.convertToString(this.m_versionId));if(this.m_sharedVersion){s.append(":");if(f.XStringUtils.isNotNullAndNotEmpty(this.m_versionOwner)){s.append(this.m_versionOwner);}}return s.toString();};f.PlanningVersionIdentifier.prototype.toString=function(){return this.getVersionUniqueName();};f.PlanningVersionParameterMetadata=function(){};f.PlanningVersionParameterMetadata.prototype=new f.XObject();f.PlanningVersionParameterMetadata.prototype._ff_c="PlanningVersionParameterMetadata";f.PlanningVersionParameterMetadata.prototype.m_name=null;f.PlanningVersionParameterMetadata.prototype.m_description=null;f.PlanningVersionParameterMetadata.prototype.m_type=null;f.PlanningVersionParameterMetadata.prototype.m_valueAllowed=false;f.PlanningVersionParameterMetadata.prototype.m_hasValue=false;f.PlanningVersionParameterMetadata.prototype.m_valueElement=null;f.PlanningVersionParameterMetadata.prototype.releaseObject=function(){this.m_name=null;this.m_description=null;this.m_type=null;this.m_valueElement=f.XObjectExt.release(this.m_valueElement);f.XObject.prototype.releaseObject.call(this);};f.PlanningVersionParameterMetadata.prototype.setName=function(n){this.m_name=n;};f.PlanningVersionParameterMetadata.prototype.getName=function(){return this.m_name;};f.PlanningVersionParameterMetadata.prototype.setDescription=function(d){this.m_description=d;};f.PlanningVersionParameterMetadata.prototype.getDescription=function(){return this.m_description;};f.PlanningVersionParameterMetadata.prototype.setType=function(t){this.m_type=t;};f.PlanningVersionParameterMetadata.prototype.getType=function(){return this.m_type;};f.PlanningVersionParameterMetadata.prototype.setValueAllowed=function(v){this.m_valueAllowed=v;};f.PlanningVersionParameterMetadata.prototype.isValueAllowed=function(){return this.m_valueAllowed;};f.PlanningVersionParameterMetadata.prototype.setHasValue=function(h){this.m_hasValue=h;};f.PlanningVersionParameterMetadata.prototype.hasValue=function(){return this.m_hasValue;};f.PlanningVersionParameterMetadata.prototype.setValue=function(v){if(f.isNull(v)){this.m_valueElement=null;}else{this.m_valueElement=f.PrUtils.deepCopyElement(v);}};f.PlanningVersionParameterMetadata.prototype.getValue=function(){return this.m_valueElement;};f.PlanningVersionStateDescription=function(){};f.PlanningVersionStateDescription.prototype=new f.XObject();f.PlanningVersionStateDescription.prototype._ff_c="PlanningVersionStateDescription";f.PlanningVersionStateDescription.create=function(s,d,u,a,e,c){var b=new f.PlanningVersionStateDescription();b.m_id=s;b.m_description=d;b.m_userName=u;b.m_startTime=a;b.m_endTime=e;b.m_changeCount=c;return b;};f.PlanningVersionStateDescription.prototype.m_id=null;f.PlanningVersionStateDescription.prototype.m_description=null;f.PlanningVersionStateDescription.prototype.m_userName=null;f.PlanningVersionStateDescription.prototype.m_startTime=null;f.PlanningVersionStateDescription.prototype.m_endTime=null;f.PlanningVersionStateDescription.prototype.m_changeCount=0;f.PlanningVersionStateDescription.prototype.getId=function(){return this.m_id;};f.PlanningVersionStateDescription.prototype.getDescription=function(){return this.m_description;};f.PlanningVersionStateDescription.prototype.getUserName=function(){return this.m_userName;};f.PlanningVersionStateDescription.prototype.getChangeCount=function(){return this.m_changeCount;};f.PlanningVersionStateDescription.prototype.getStartTime=function(){return this.m_startTime;};f.PlanningVersionStateDescription.prototype.getEndTime=function(){return this.m_endTime;};f.PlanningVersionStateDescription.prototype.toString=function(){var b=f.XStringBuffer.create();b.append("(");b.append("id: ").append(this.m_id);b.append(", ");b.append("description: ").append("\"").append(this.m_description).append("\"");b.append(")");return b.toString();};f.PlanningModelCommandHelper={createCommandsList:function(r){var p=r.putNewStructure("Planning");return p.putNewList("commands");},getCommandsList:function(r){var p=f.PrUtils.getStructureProperty(r,"Planning");return f.PrUtils.getListProperty(p,"commands");},getResponsesList:function(r){return f.PrUtils.getListProperty(r,"Planning");},getCommandResponse:function(c,r,a){var b=f.PlanningModelCommandHelper.getCommandIndex(c,a);return f.PrUtils.getStructureElement(r,b);},getCommandIndex:function(c,a){if(f.isNull(c)){return-1;}var e=a;var b=false;var m=null;if(f.XString.isEqual("get_action_parameters",a)){e="get_parameters";b=true;m="LIST_ACTIONS";}for(var i=0;i<c.size();i++){var d=f.PrUtils.getStructureElement(c,i);var g=f.PrUtils.getStringProperty(d,"command");if(f.isNull(g)){continue;}if(f.XString.isEqual(g.getString(),e)){if(!b){return i;}var h=f.PrUtils.getStringProperty(d,"mode");if(f.notNull(h)){if(f.XString.isEqual(h.getString(),m)){return i;}}var j=f.PrUtils.getListProperty(d,"mode");var l=f.PrUtils.getListSize(j,0);for(var k=0;k<l;k++){var n=f.PrUtils.getStringElement(j,k);if(f.notNull(n)){if(f.XString.isEqual(n.getString(),m)){return i;}}}}}return-1;},createModelCommand:function(m,c){var a=f.PrFactory.createStructure();var e=c;if(f.XString.isEqual("get_action_parameters",c)){e="get_parameters";}a.putString("command",e);a.putString("schema",m.getPlanningModelSchema());a.putString("model",m.getPlanningModelName());if(f.XString.isEqual("get_parameters",c)){a.putString("mode","LIST_PERSISTENT");}else if(f.XString.isEqual("get_versions",c)){var b=a.putNewList("mode");b.addString("LIST_PERSISTENT_PARAMETERS");if(m.isWithSharedVersions()){b.addString("LIST_SHARED_VERSIONS");}b.addString("LIST_QUERY_SOURCES");b.addString("LIST_SHARED_PRIVILEGES");b.addString("LIST_BACKUP_TIMESTAMP");b.addString("LIST_ACTION_STATE");}else if(f.XString.isEqual("get_actions",c)){var d=a.putNewList("mode");d.addString("LIST_ACTION_PARAMETERS");}else if(f.XString.isEqual("get_action_parameters",c)){var g=a.putNewList("mode");g.addString("LIST_ACTIONS");}return a;},createVersionCommand:function(v,c){var m=v.getPlanningModel();var a=f.PrFactory.createStructure();a.putString("command",c);a.putString("schema",m.getPlanningModelSchema());a.putString("model",m.getPlanningModelName());a.putInteger("version_id",v.getVersionId());if(v.isSharedVersion()){a.putString("owner",v.getVersionOwner());}if(f.XString.isEqual("get_version_state",c)){var b=a.putNewList("mode");b.addString("LIST_BACKUP_TIMESTAMP");b.addString("LIST_ACTION_STATE");}else if(f.XString.isEqual("get_parameters",c)){a.putString("mode","LIST_PERSISTENT");}else if(f.XString.isEqual("init",c)){var p=v.getPlanningModel().getPersistenceType();if(f.notNull(p)&&p!==f.PlanningPersistenceType.DEFAULT){a.putString("persistent_pdcs",p.getName());}}else if(f.XString.isEqual("close",c)){a.putString("mode",f.CloseModeType.BACKUP.getName());}return a;},getResponsesReturnCodeStrict:function(r,m,d,u){if(f.isNull(r)||f.isNull(m)){return-1;}var a=0;var h=false;var p=f.PrUtils.getStructureProperty(r,"Planning");if(f.isNull(p)){var b=f.PrUtils.getListProperty(r,"Planning");if(f.notNull(b)){h=true;for(var i=0;i<b.size();i++){p=f.PrUtils.getStructureElement(b,i);if(f.notNull(p)){var c=f.PlanningModelCommandHelper.isValidPlanningStructure(p,m,d,u);if(c!==0){a=c;break;}}}}}else{h=true;a=f.PlanningModelCommandHelper.isValidPlanningStructure(p,m,d,u);}if(!h){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.PARSER_ERROR,"Planning structure is missing",r);return d;}return a;},isValidPlanningStructure:function(p,m,d,u){var r=f.PrUtils.getIntegerValueProperty(p,"return_code",d);if(f.isNull(p)){m.addError(f.ErrorCodes.PARSER_ERROR,"Planning structure is missing");return r;}var e=f.PrUtils.getStringValueProperty(p,"exception_text",null);if(f.notNull(e)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.OTHER_ERROR,e,p);return r;}var a=f.PrUtils.getStringValueProperty(p,"message",null);if(f.notNull(a)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.OTHER_ERROR,a,p);return r;}if(!u&&r!==0){var s=f.XStringBuffer.create();s.append("Error: return code ").appendInt(r);m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_STATE,s.toString(),p);}return r;},processResponseEndActionSequence:function(c,r,v){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,f.PlanningModelRequestType.END_ACTION_SEQUENCE.getName());if(f.notNull(a)){v.setActionSequenceId(null);}},processResponseKillActionSequence:function(c,r,v){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,f.PlanningModelRequestType.KILL_ACTION_SEQUENCE.getName());if(f.notNull(a)){v.setActionSequenceId(null);}},processResponseGetVersionState:function(c,r,v){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_version_state");if(f.isNull(a)){return false;}var b=f.PrUtils.getStructureProperty(a,"version_state");if(f.isNull(b)){return false;}return f.PlanningModelCommandHelper.setVersionState(b,v);},setVersionState:function(v,a){var s=f.PrUtils.getStringValueProperty(v,"state",null);var p=f.PlanningVersionState.lookup(s);if(f.isNull(p)){return false;}var t=f.PrUtils.getIntegerValueProperty(v,"changes",0);var u=f.PrUtils.getIntegerValueProperty(v,"undo_changes",0);a.setVersionState(p);a.setTotalChangesSize(t);a.setUndoChangesSize(u);var b=f.PrUtils.getStringProperty(v,"create_time");if(f.notNull(b)){var c=f.XDateTime.createDateTimeFromIsoFormat(b.getString());a.setCreationTime(c);}var d=f.PrUtils.getStringProperty(v,"backup_time");if(f.notNull(d)){var e=f.XDateTime.createDateTimeFromIsoFormat(d.getString());a.setBackupTime(e);}f.PlanningModelCommandHelper.resetActionState(v,a);return true;},processResponseGetParameters:function(c,r,v){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_parameters");if(f.notNull(a)){f.PlanningModelCommandHelper.resetVersionParameters(a,v);}},processResponseStartActionSequence:function(c,r,a){var b=a.getPlanningModelRequestVersion();var d=b.getRequestType().getName();var e=f.PlanningModelCommandHelper.getCommandResponse(c,r,d);if(f.isNull(e)){return false;}var s=f.PrUtils.getStringProperty(e,"sequence_id");if(f.isNull(s)){return false;}var g=s.getString();a.setSequenceId(g);var v=b.getPlanningVersion();v.setActionSequenceId(g);return true;},processResponseStateDescriptions:function(c,r,a){var b=a.getPlanningModelRequestVersion();var d=b.getRequestType().getName();var e=f.PlanningModelCommandHelper.getCommandResponse(c,r,d);if(f.isNull(e)){return false;}var v=f.PrUtils.getStructureProperty(e,"version_state_descriptions");if(f.isNull(v)){return false;}var g=b.getPlanningVersion();var h=a;h.setVersionDescription(g.getVersionDescription());var i=f.PlanningVersionIdentifier.create(g.getVersionId(),g.isSharedVersion(),g.getVersionOwner());h.setVersionIdentifier(i);var j=v.getIntegerByKey("available_undo");h.setAvailableUndos(j);var k=v.getIntegerByKey("available_redo");h.setAvailableRedos(k);var l=f.PlanningModelCommandHelper.getVersionStateDescriptionList(v);h.setVersionStateDescriptions(l);return true;},getVersionStateDescriptionList:function(s){var a=f.PrUtils.getListProperty(s,"states");if(f.isNull(a)){return null;}var d=f.XList.create();for(var i=0;i<a.size();i++){var b=f.PlanningModelCommandHelper.getVersionStateDescription(a.getStructureAt(i));if(f.isNull(b)){continue;}d.add(b);}return d;},getVersionStateDescription:function(s){var i=s.getStringByKey("id");if(f.XStringUtils.isNullOrEmpty(i)){return null;}var a=f.PrUtils.getIntegerProperty(s,"changes");if(f.isNull(a)){return null;}var b=f.PrUtils.getDateTimeProperty(s,"start_time",false,null);if(f.isNull(b)){return null;}var e=f.PrUtils.getDateTimeProperty(s,"end_time",false,null);if(f.isNull(e)){return null;}var d=s.getStringByKey("description");var u=s.getStringByKey("user_name");return f.PlanningVersionStateDescription.create(i,d,u,b,e,a.getInteger());},resetVersionParameters:function(c,v){var a=f.PrFactory.createStructure();var p=f.PrUtils.getListProperty(c,"parameters");if(f.notNull(p)){for(var i=0;i<p.size();i++){var b=f.PrUtils.getStructureElement(p,i);if(f.isNull(b)){continue;}if(!f.PrUtils.getBooleanValueProperty(b,"hasValue",false)){continue;}var n=f.PrUtils.getStringProperty(b,"name");if(f.isNull(n)){continue;}var d=f.PrUtils.getProperty(b,"value");a.put(n.getString(),d);}}v.setParametersStructureInternal(a);},processResponseGetVersions:function(c,r,m){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_versions");if(f.isNull(a)){return false;}var v=f.PrUtils.getListProperty(a,"versions");if(f.isNull(v)){return false;}m.resetAllVersionStates();m.setVersionPrivilegesInitialized();f.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesServerState(m);var b=true;for(var i=0;i<v.size();i++){var d=f.PrUtils.getStructureElement(v,i);if(!f.PlanningModelCommandHelper.processVersionStructure(d,m)){b=false;}}f.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesClientState(m);m.updateAllInvalidPrivileges();return b;},processVersionStructure:function(v,m){if(f.isNull(v)){return false;}var s=f.PrUtils.getStringValueProperty(v,"schema",null);if(f.isNull(s)){return false;}if(!f.XString.isEqual(f.PrUtils.getStringValueProperty(v,"model",null),m.getPlanningModelName())){return false;}var a=f.PrUtils.getIntegerProperty(v,"version_id");if(f.isNull(a)){return false;}var b=f.PrUtils.getBooleanProperty(v,"active");if(f.isNull(b)){return false;}var c=f.PlanningVersionState.lookup(f.PrUtils.getStringValueProperty(v,"state",null));if(f.isNull(c)){return false;}var i=b.getBoolean();if(i!==c.isActive()){return false;}var t=f.PrUtils.getIntegerValueProperty(v,"changes",0);var u=f.PrUtils.getIntegerValueProperty(v,"undo_changes",0);var d=false;var e=f.PrUtils.getStringValueProperty(v,"owner",null);var p=f.PlanningPrivilege.lookupWithDefault(f.PrUtils.getStringValueProperty(v,"privilege",null),null);if(f.isNull(p)){if(m.isWithSharedVersions()){return false;}e=null;p=f.PlanningPrivilege.OWNER;}else{if(p===f.PlanningPrivilege.OWNER){e=null;}else{d=true;}}if(d===(p===f.PlanningPrivilege.OWNER)){return false;}var g=a.getInteger();var h=f.PrUtils.getStringValueProperty(v,"description",null);var j=m.getVersionIdentifier(g,d,e);var k=m.getVersionById(j,h);k.setPrivilege(p);k.setVersionState(c);k.setTotalChangesSize(t);k.setUndoChangesSize(u);var l=f.PrUtils.getStringProperty(v,"create_time");if(f.notNull(l)){var n=f.XDateTime.createDateTimeFromIsoFormat(l.getString());k.setCreationTime(n);}var o=f.PrUtils.getStringProperty(v,"backup_time");if(f.notNull(o)){var q=f.XDateTime.createDateTimeFromIsoFormat(o.getString());k.setBackupTime(q);}f.PlanningModelCommandHelper.resetVersionParameters(v,k);if(!j.isSharedVersion()){var r=f.PrUtils.getListProperty(v,"query_sources");var w=f.PrUtils.getListSize(r,0);for(var x=0;x<w;x++){var y=f.PrUtils.getStructureElement(r,x);var z=f.PlanningModelResponseUpdateVersionPrivileges.getVersionDataSource(y);var A=f.PrUtils.getListProperty(y,"version_privileges");f.PlanningModelResponseUpdateVersionPrivileges.updateVersionPrivileges(m,z,j,A);}}f.PlanningModelCommandHelper.resetActionState(v,k);return true;},resetActionState:function(v,p){var s=false;var a=null;var b=null;var c=false;var d=null;var e=null;var u=null;var g=f.PrUtils.getStructureProperty(v,"action_state");if(f.notNull(g)){s=f.PrUtils.getBooleanValueProperty(g,"sequence_active",false);if(s){a=f.PrUtils.getStringValueProperty(g,"description",null);b=f.PrUtils.getDateTimeProperty(g,"sequence_create_time",false,null);e=f.PrUtils.getDateTimeProperty(g,"action_end_time",false,null);u=f.PrUtils.getStringValueProperty(g,"user_name",null);}c=f.PrUtils.getBooleanValueProperty(g,"action_active",false);if(c){d=f.PrUtils.getDateTimeProperty(g,"action_start_time",false,null);}}p.setActionSequenceActive(s);p.setActionSequenceDescription(a);p.setActionSequenceCreateTime(b);p.setActionActive(c);p.setActionStartTime(d);p.setActionEndTime(e);p.setUserName(u);},processResponseGetQuerySources:function(c,r,m){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_query_sources");if(f.isNull(a)){return false;}var d=m.getDataSourcesInternal();d.clear();var q=f.PrUtils.getListProperty(a,"query_sources");if(f.isNull(q)){return false;}for(var i=0;i<q.size();i++){var b=f.PrUtils.getStructureElement(q,i);var s=f.PrUtils.getStringValueProperty(b,"schema",null);if(f.isNull(s)){return false;}var n=f.PrUtils.getStringValueProperty(b,"name",null);if(f.isNull(n)){return false;}var e=f.QFactory.createDataSourceWithType(f.MetaObjectType.PLANNING,n);e.setSchemaName(s);var g=new f.PlanningModelQueryDataSource();var h=f.PrUtils.getStringValueProperty(b,"description",null);g.setDescription(h);g.setDataSource(e);g.setPrimary(b.getBooleanByKeyExt("primary",true));d.add(g);}return true;},processResponseGetActionParameters:function(c,r,m){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_action_parameters");if(f.isNull(a)){return false;}var p=f.XHashMapByString.create();var b=f.PrUtils.getListProperty(a,"parameters");var l=f.PrUtils.getListSize(b,0);for(var i=0;i<l;i++){var d=f.PrUtils.getStructureElement(b,i);var e=f.PrUtils.getStringProperty(d,"name");if(f.isNull(e)){return false;}var g=e.getString();if(p.containsKey(g)){return false;}p.put(g,d);}var h=m.getActionMetadataListInternal();if(f.notNull(h)){for(var j=0;j<h.size();j++){var k=h.get(j);var n=k.getActionParameterNames();var o=new f.PlanningActionParameterMetadata();o.setActionMetadata(k);var q=f.PrFactory.createList();if(f.notNull(n)){for(var s=0;s<n.size();s++){var t=n.get(s);if(!p.containsKey(t)){return false;}var u=p.getByKey(t);q.add(f.PrUtils.deepCopyElement(u));}}o.setParameters(q);k.setActionParameterMetadata(o);}}return true;},processResponseGetParametersForModelTemplate:function(c,r,m){if(!m.supportsVersionParameters()){return true;}var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_parameters");if(f.isNull(a)){return false;}var v=m.getVersionParametersMetadataInternal();v.clear();var p=f.PrUtils.getListProperty(a,"parameters");if(f.isNull(p)){return true;}for(var i=0;i<p.size();i++){var b=f.PrUtils.getStructureElement(p,i);if(f.isNull(b)){continue;}var n=f.PrUtils.getStringProperty(b,"name");if(f.isNull(n)){continue;}var d=n.getString();if(f.XStringUtils.isNullOrEmpty(d)){continue;}var e=new f.PlanningVersionParameterMetadata();e.setName(d);var g=f.PrUtils.getStringProperty(b,"description");if(f.notNull(g)){e.setDescription(g.getString());}var t=f.PrUtils.getStringProperty(b,"type");if(f.notNull(t)){e.setType(t.getString());}var h=f.PrUtils.getBooleanValueProperty(b,"valueAllowed",false);e.setValueAllowed(h);var j=f.PrUtils.getBooleanValueProperty(b,"hasValue",false);e.setHasValue(j);e.setValue(f.PrUtils.getProperty(b,"value"));v.put(e.getName(),e);}return true;},processResponseGetActions:function(c,r,m){var a=f.PlanningModelCommandHelper.getCommandResponse(c,r,"get_actions");if(f.isNull(a)){return false;}var b=m.getActionMetadataListInternal();b.clear();var d=f.PrUtils.getListProperty(a,"actions");if(f.isNull(d)){return false;}for(var i=0;i<d.size();i++){var e=f.PrUtils.getStructureElement(d,i);var g=f.PrUtils.getStringValueProperty(e,"id",null);if(f.isNull(g)){return false;}var h=f.PrUtils.getStringValueProperty(e,"name",null);if(f.isNull(h)){return false;}var j=f.PlanningActionType.lookup(f.PrUtils.getIntegerValueProperty(e,"type",-1));if(f.PrUtils.getBooleanValueProperty(e,"publish",false)){j=f.PlanningActionType.PUBLISH;}var k=new f.PlanningActionMetadata();k.setActionId(g);k.setActionName(h);var l=f.PrUtils.getStringValueProperty(e,"description",null);k.setActionDescription(l);k.setActionType(j);var n=f.PrUtils.getBooleanValueProperty(e,"default",false);k.setDefault(n);var p=null;var o=f.PrUtils.getListProperty(e,"parameters");var q=f.PrUtils.getListSize(o,0);for(var s=0;s<q;s++){var t=f.PrUtils.getStringElement(o,s);if(f.notNull(t)){if(f.isNull(p)){p=f.XListOfString.create();}p.add(t.getString());}}k.setActionParameterNames(p);b.add(k);}return true;}};f.PlanningActionParameterMetadata=function(){};f.PlanningActionParameterMetadata.prototype=new f.XObject();f.PlanningActionParameterMetadata.prototype._ff_c="PlanningActionParameterMetadata";f.PlanningActionParameterMetadata.prototype.m_actionMetadata=null;f.PlanningActionParameterMetadata.prototype.m_parameters=null;f.PlanningActionParameterMetadata.prototype.getActionMetadata=function(){return f.XWeakReferenceUtil.getHardRef(this.m_actionMetadata);};f.PlanningActionParameterMetadata.prototype.setActionMetadata=function(a){this.m_actionMetadata=f.XWeakReferenceUtil.getWeakRef(a);};f.PlanningActionParameterMetadata.prototype.getParameters=function(){return this.m_parameters;};f.PlanningActionParameterMetadata.prototype.setParameters=function(p){this.m_parameters=p;};f.PlanningActionParameterMetadata.prototype.hasParameters=function(){return f.PrUtils.isListEmpty(this.m_parameters);};f.PlanningActionParameterMetadata.prototype.toString=function(){if(f.isNull(this.m_parameters)){return"no parameters";}return f.PrUtils.serialize(this.m_parameters,true,true,4);};f.DataArea=function(){};f.DataArea.prototype=new f.PlanningContext();f.DataArea.prototype._ff_c="DataArea";f.DataArea.create=function(){return new f.DataArea();};f.DataArea.prototype.m_dataArea=null;f.DataArea.prototype.m_environment=null;f.DataArea.prototype.m_model=null;f.DataArea.prototype.m_cellLockingType=null;f.DataArea.prototype.releaseObject=function(){this.m_dataArea=null;this.m_environment=null;this.m_model=null;this.m_cellLockingType=null;f.PlanningContext.prototype.releaseObject.call(this);};f.DataArea.prototype.getPlanningContextType=function(){return f.PlanningContextType.DATA_AREA;};f.DataArea.prototype.getDataArea=function(){return this.m_dataArea;};f.DataArea.prototype.setDataArea=function(d){this.m_dataArea=d;};f.DataArea.prototype.getEnvironment=function(){var d=f.DataAreaState.getDataAreaState(this);if(f.notNull(d)){return d.getEnvironment();}return this.m_environment;};f.DataArea.prototype.setEnvironment=function(e){this.m_environment=e;};f.DataArea.prototype.getModel=function(){var d=f.DataAreaState.getDataAreaState(this);if(f.notNull(d)){return d.getModel();}return this.m_model;};f.DataArea.prototype.setModel=function(m){this.m_model=m;};f.DataArea.prototype.getCellLockingType=function(){var d=f.DataAreaState.getDataAreaState(this);if(f.notNull(d)){return d.getCellLocking();}return this.m_cellLockingType;};f.DataArea.prototype.setCellLockingType=function(c){this.m_cellLockingType=c;};f.DataArea.prototype.getQueryConsumerServices=function(){return f.DataAreaUtil.getQueryConsumerServices(this);};f.DataArea.prototype.supportsPlanningContextCommandType=function(p){if(f.isNull(p)){return false;}if(p===f.PlanningContextCommandType.PUBLISH){return true;}if(p===f.PlanningContextCommandType.REFRESH){return true;}if(p===f.PlanningContextCommandType.RESET){return true;}if(p===f.PlanningContextCommandType.CLOSE){return this.supportsClose();}return false;};f.DataArea.prototype.m_supportsClose=false;f.DataArea.prototype.m_supportsCloseChecked=false;f.DataArea.prototype.supportsClose=function(){if(!this.m_supportsCloseChecked){this.m_supportsClose=this._supportsClose();this.m_supportsCloseChecked=true;}return this.m_supportsClose;};f.DataArea.prototype._getServiceConfig=function(){var p=this.getPlanningService();return f.isNull(p)?null:p.getServiceConfig();};f.DataArea.prototype._supportsCapability=function(c){var s=this._getServiceConfig();if(f.isNull(s)){return false;}var a=s.getApplication();if(f.isNull(a)){return false;}var b=a.getConnection(s.getSystemName());return b.supportsAnalyticCapability(c);};f.DataArea.prototype._supportsChangedData=function(){return this._supportsCapability("ChangeCounter");};f.DataArea.prototype._supportsClose=function(){return this._supportsCapability("ActionClose");};f.DataArea.prototype.createPlanningContextCommand=function(p){if(!this.supportsPlanningContextCommandType(p)){return null;}var d;if(p===f.PlanningContextCommandType.CLOSE){d=new f.DataAreaCommandClose();}else{d=new f.DataAreaCommand();}d.setPlanningService(this.getPlanningService());d.setCommandType(f.PlanningCommandType.DATA_AREA_COMMAND);d.setPlanningContext(this);d.setPlanningContextCommandType(p);d.setInvalidatingResultSet(p.isInvalidatingResultSet());return d;};f.DataArea.prototype.createRequestCreateCommandWithId=function(c){return this.createRequestCreatePlanningOperation(c);};f.DataArea.prototype.createPlanningFunctionIdentifier=function(p){var i=new f.PlanningFunctionIdentifier();i.setPlanningCommandType(f.PlanningCommandType.PLANNING_FUNCTION);i.setPlanningOperationType(f.PlanningOperationType.PLANNING_FUNCTION);i.setCommandId(p);return i;};f.DataArea.prototype.createRequestGetPlanningFunctionMetadata=function(p){var r=new f.DataAreaRequestGetPlanningFunctionMetadata();r.setPlanningService(this.getPlanningService());r.setCommandType(f.PlanningCommandType.PLANNING_MODEL_REQUEST);r.setRequestType(f.DataAreaRequestType.GET_PLANNING_FUNCTION_METADATA);r.setPlanningOperationIdentifier(p);r.setPlanningContext(this);return r;};f.DataArea.prototype.createPlanningSequenceIdentifier=function(p){var i=new f.PlanningSequenceIdentifier();i.setPlanningCommandType(f.PlanningCommandType.PLANNING_SEQUENCE);i.setPlanningOperationType(f.PlanningOperationType.PLANNING_SEQUENCE);i.setCommandId(p);return i;};f.DataArea.prototype.createRequestGetPlanningSequenceMetadata=function(p){var r=new f.DataAreaRequestGetPlanningSequenceMetadata();r.setPlanningService(this.getPlanningService());r.setCommandType(f.PlanningCommandType.PLANNING_MODEL_REQUEST);r.setRequestType(f.DataAreaRequestType.GET_PLANNING_SEQUENCE_METADATA);r.setPlanningOperationIdentifier(p);r.setPlanningContext(this);return r;};f.DataArea.prototype.createPlanningOperationIdentifierByDataSource=function(d){if(f.isNull(d)){return null;}var p=d.getObjectName();var t=d.getType();if(t===f.MetaObjectType.PLANNING_FUNCTION){return this.createPlanningFunctionIdentifier(p);}else if(t===f.MetaObjectType.PLANNING_SEQUENCE){return this.createPlanningSequenceIdentifier(p);}return null;};f.DataArea.prototype.createPlanningOperationIdentifier=function(p,a){if(a===f.PlanningOperationType.PLANNING_FUNCTION){return this.createPlanningFunctionIdentifier(p);}if(a===f.PlanningOperationType.PLANNING_SEQUENCE){return this.createPlanningSequenceIdentifier(p);}f.noSupport();};f.DataArea.prototype.createRequestGetPlanningOperationMetadata=function(p){var a=p.getPlanningOperationType();if(a===f.PlanningOperationType.PLANNING_FUNCTION){return this.createRequestGetPlanningFunctionMetadata(p);}if(a===f.PlanningOperationType.PLANNING_SEQUENCE){return this.createRequestGetPlanningSequenceMetadata(p);}f.noSupport();};f.DataArea.prototype.createRequestCreatePlanningOperation=function(p){var o=p.getPlanningOperationType();if(o===f.PlanningOperationType.PLANNING_FUNCTION){return this.createRequestCreatePlanningFunction(p);}else if(o===f.PlanningOperationType.PLANNING_SEQUENCE){return this.createRequestCreatePlanningSequence(p);}throw f.XException.createRuntimeException("illegal operation identifier");};f.DataArea.prototype.createRequestCreatePlanningFunction=function(p){var a=this.getPlanningService();var r=f.DataAreaRequestCreatePlanningFunction.create(a);r.setCommandType(f.PlanningCommandType.PLANNING_MODEL_REQUEST);r.setRequestType(f.DataAreaRequestType.CREATE_PLANNING_FUNCTION);r.setCommandIdentifier(p);r.setPlanningContext(this);return r;};f.DataArea.prototype.createRequestCreatePlanningSequence=function(p){var r=f.DataAreaRequestCreatePlanningSequence.create(this.getPlanningService());r.setCommandType(f.PlanningCommandType.PLANNING_MODEL_REQUEST);r.setRequestType(f.DataAreaRequestType.CREATE_PLANNING_SEQUENCE);r.setCommandIdentifier(p);r.setPlanningContext(this);return r;};f.DataArea.prototype.supportsChangedData=function(){if(!this.m_supportsChangedDataChecked){this.m_supportsChangedData=this._supportsChangedData();this.m_supportsChangedDataChecked=true;}return this.m_supportsChangedData;};f.DataArea.prototype.m_supportsChangedData=false;f.DataArea.prototype.m_supportsChangedDataChecked=false;f.DataArea.prototype.hasChangedData=function(){var d=f.DataAreaState.getDataAreaState(this);if(f.isNull(d)){return false;}return d.hasChangedData();};f.DataArea.prototype.supportsWorkStatus=function(){return this.supportsChangedData();};f.DataArea.prototype.isWorkStatusActive=function(){var d=f.DataAreaState.getDataAreaState(this);if(f.isNull(d)){return false;}return d.isWorkStatusActive();};f.DataArea.prototype.isInitializedAtServer=function(){var d=f.DataAreaState.getDataAreaState(this);if(f.isNull(d)){return false;}return d.isSubmitted();};f.DataArea.prototype.createCommandPublish=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.PUBLISH);};f.DataArea.prototype.createCommandClose=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.CLOSE);};f.PlanningFunctionMetadata=function(){};f.PlanningFunctionMetadata.prototype=new f.PlanningOperationMetadata();f.PlanningFunctionMetadata.prototype._ff_c="PlanningFunctionMetadata";f.PlanningFunctionMetadata.prototype.m_baseDatasource=null;f.PlanningFunctionMetadata.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier();};f.PlanningFunctionMetadata.prototype.getBaseDataSource=function(){return this.m_baseDatasource;};f.PlanningFunctionMetadata.prototype.setBaseDataSource=function(b){this.m_baseDatasource=b;};f.PlanningSequenceMetadata=function(){};f.PlanningSequenceMetadata.prototype=new f.PlanningOperationMetadata();f.PlanningSequenceMetadata.prototype._ff_c="PlanningSequenceMetadata";f.PlanningSequenceMetadata.prototype.m_stepMetadataList=null;f.PlanningSequenceMetadata.prototype.getPlanningSequenceIdentifier=function(){return this.getPlanningOperationIdentifier();};f.PlanningSequenceMetadata.prototype.getStepMetadataList=function(){return this.m_stepMetadataList;};f.PlanningSequenceMetadata.prototype.setStepMetadataList=function(s){this.m_stepMetadataList=s;};f.PlanningModel=function(){};f.PlanningModel.prototype=new f.PlanningContext();f.PlanningModel.prototype._ff_c="PlanningModel";f.PlanningModel.create=function(){var m=new f.PlanningModel();m.m_versionParametersMetadata=f.XHashMapByString.create();m.m_planningModelBehaviour=f.PlanningModelBehaviour.STANDARD;m.m_persistenceType=f.PlanningPersistenceType.DEFAULT;return m;};f.PlanningModel.updateStateFromResponse=function(a,s,r,b,m){var c=a.getSystemLandscape();if(f.isNull(c)||!c.existsSystemName(s)){return;}var d=c.getSystemDescription(s).getSystemType();if(f.isNull(d)||!d.isTypeOf(f.SystemType.HANA)){return;}var h=f.InAHelper.importMessages(b,m);if(h){return;}var e=r.getStructureByKey("Planning").getListByKey("commands");var g=f.PrUtils.getStructureWithKeyValuePair(e,"command","get_versions");var p=f.PlanningModelUtil.getPlanningService(a,s,g.getStringByKey("schema"),g.getStringByKey("model"));if(f.isNull(p)){return;}if(f.PlanningModelCommandHelper.getResponsesReturnCodeStrict(b,m,9999,true)!==0){return;}var i=p.getPlanningContext();var j=b.getListByKey("Planning");if(!f.PlanningModelCommandHelper.processResponseGetVersions(e,j,i)){m.addErrorExt(f.OriginLayer.PROTOCOL,0,"Planning response structure invalid",null);}};f.PlanningModel.updateState=function(a,s,r,m){var b=a.getSystemLandscape();if(f.isNull(b)){return;}var c=b.getSystemDescription(s);if(f.isNull(c)){return;}var d=c.getSystemType();if(f.isNull(d)){return;}if(!d.isTypeOf(f.SystemType.HANA)){return;}var p=f.PrUtils.getStructureProperty(r,"Planning");if(f.isNull(p)){return;}var e=f.PrUtils.getIntegerValueProperty(p,"return_code",-1);if(e!==0){m.addErrorExt(f.OriginLayer.SERVER,0,f.XStringBuffer.create().append("Planning return code: ").appendInt(e).toString(),null);return;}if(!f.PlanningModel.updateVersionsState(a,s,p)){m.addErrorExt(f.OriginLayer.PROTOCOL,0,f.XStringBuffer.create().append("Planning response structure invalid").toString(),null);}};f.PlanningModel.updateVersionsState=function(a,s,p){var b=true;var v=f.PrUtils.getListProperty(p,"versions");var l=f.PrUtils.getListSize(v,0);for(var i=0;i<l;i++){var c=f.PrUtils.getStructureElement(v,i);if(!f.PlanningModel.updateVersionState(a,s,c)){b=false;}}return b;};f.PlanningModel.updateVersionState=function(a,s,v){if(f.isNull(v)){return false;}var p=f.PrUtils.getStringValueProperty(v,"schema",null);if(f.isNull(p)){return false;}var b=f.PrUtils.getStringValueProperty(v,"model",null);if(f.isNull(b)){return false;}var c=f.PlanningModelUtil.getPlanningService(a,s,p,b);if(f.isNull(c)){return false;}var m=c.getPlanningContext();return f.isNull(m)?false:m.updateVersionStateInternalIgnoreUndesired(v);};f.PlanningModel.prototype.m_planningModelSchema=null;f.PlanningModel.prototype.m_planningModelName=null;f.PlanningModel.prototype.m_planningModelBehaviour=null;f.PlanningModel.prototype.m_versionsList=null;f.PlanningModel.prototype.m_versionsMap=null;f.PlanningModel.prototype.m_dataSources=null;f.PlanningModel.prototype.m_actionMetadataList=null;f.PlanningModel.prototype.m_actionMetadataMap=null;f.PlanningModel.prototype.m_privileges=null;f.PlanningModel.prototype.m_privilegesMap=null;f.PlanningModel.prototype.m_modelInitialized=false;f.PlanningModel.prototype.m_versionPrivilegesInitialized=false;f.PlanningModel.prototype.m_versionParametersMetadata=null;f.PlanningModel.prototype.m_withSharedVersions=false;f.PlanningModel.prototype.m_backendUserName=null;f.PlanningModel.prototype.m_persistenceType=null;f.PlanningModel.prototype.m_withUniqueVersionDescriptions=false;f.PlanningModel.prototype.m_withPublicVersionEdit=false;f.PlanningModel.prototype.m_isPublicVersionEditInProgress=false;f.PlanningModel.prototype.getPlanningContextType=function(){return f.PlanningContextType.PLANNING_MODEL;};f.PlanningModel.prototype.isModelInitialized=function(){return this.m_modelInitialized;};f.PlanningModel.prototype.checkModelInitialized=function(){if(!this.isModelInitialized()){throw f.XException.createIllegalStateException("planning model is not initialized");}};f.PlanningModel.prototype.setModelInitialized=function(){this.m_modelInitialized=true;this.invalidate();};f.PlanningModel.prototype.invalidate=function(){if(!this.isModelInitialized()){return;}if(this.supportsPublicVersionEdit()&&this.isPublicVersionEditInProgress()){this.setPublicVersionEditInProgress(false);}f.PlanningContext.prototype.invalidate.call(this);};f.PlanningModel.prototype.resetPlanningModel=function(){if(this.supportsPublicVersionEdit()&&this.isPublicVersionEditInProgress()){this.setPublicVersionEditInProgress(false);}this.m_modelInitialized=false;this.getActionMetadataListInternal().clear();this.resetAllVersionStates();this.updateAllInvalidPrivileges();};f.PlanningModel.prototype.isVersionPrivilegesInitialized=function(){return this.m_versionPrivilegesInitialized;};f.PlanningModel.prototype.setVersionPrivilegesInitialized=function(){this.m_versionPrivilegesInitialized=true;};f.PlanningModel.prototype.hasChangedVersionPrivileges=function(){if(!this.isVersionPrivilegesInitialized()){return false;}var v=this.getVersionPrivileges();if(f.isNull(v)||v.isEmpty()){return false;}for(var i=0;i<v.size();i++){var a=v.get(i);var p=a.getPrivilegeState();if(p===f.PlanningPrivilegeState.TO_BE_GRANTED||p===f.PlanningPrivilegeState.TO_BE_REVOKED){return true;}}return false;};f.PlanningModel.prototype.resetAllVersionStates=function(){if(f.isNull(this.m_versionsList)){return;}for(var i=0;i<this.m_versionsList.size();i++){var v=this.m_versionsList.get(i);v.resetVersionState();}};f.PlanningModel.prototype.updateAllInvalidPrivileges=function(){if(f.isNull(this.m_versionsList)){return;}for(var i=0;i<this.m_versionsList.size();i++){var v=this.m_versionsList.get(i);v.updateInvalidPrivileges();}};f.PlanningModel.prototype.getVersionIdentifier=function(v,s,a){return f.PlanningVersionIdentifier.create(v,s,a);};f.PlanningModel.prototype.copyVersionIdentifier=function(v){return f.PlanningVersionIdentifier.create(v.getVersionId(),v.isSharedVersion(),v.getVersionOwner());};f.PlanningModel.prototype.getVersionByIdInternal=function(v){return this.m_versionsMap.getByKey(v.getVersionUniqueName());};f.PlanningModel.prototype.addInputEnabledPublicVersion=function(s){this.checkModelInitialized();var p=this.m_versionsMap.getByKey(s);if(f.isNull(p)){p=f.PlanningVersion.create();p.setPlanningModel(this);p.setVersionIdentifier(f.PlanningVersionIdentifier.create(-1,false,null));}p.setSourceVersionName(s);p.setShowingAsPublicVersion(true);p.updateInvalidPrivileges();p.setVersionState(f.PlanningVersionState.CLEAN);this.m_versionsMap.put(s,p);this.m_versionsList.add(p);this.setWithPublicVersionEdit(true);this.setPublicVersionEditInProgress(true);return true;};f.PlanningModel.prototype.getVersionById=function(v,a){this.checkModelInitialized();var p=this.getVersionByIdInternal(v);if(f.isNull(p)){p=f.PlanningVersion.create();p.setPlanningModel(this);p.setVersionIdentifier(v);p.setVersionDescription(a);p.updateInvalidPrivileges();this.m_versionsMap.put(v.getVersionUniqueName(),p);this.m_versionsList.add(p);}else if(p.getVersionState()===null){p.setVersionDescription(a);}return p;};f.PlanningModel.prototype.getDataSourcesInternal=function(){return this.m_dataSources;};f.PlanningModel.prototype.getActionMetadataListInternal=function(){this.m_actionMetadataMap=f.XObjectExt.release(this.m_actionMetadataMap);return this.m_actionMetadataList;};f.PlanningModel.prototype.getActionMetadataMap=function(){this.checkModelInitialized();if(f.isNull(this.m_actionMetadataMap)){this.m_actionMetadataMap=f.XHashMapByString.create();for(var i=0;i<this.m_actionMetadataList.size();i++){var a=this.m_actionMetadataList.get(i);var b=a.getActionId();this.m_actionMetadataMap.put(b,a);}}return this.m_actionMetadataMap;};f.PlanningModel.prototype.getPlanningModelSchema=function(){return this.m_planningModelSchema;};f.PlanningModel.prototype.setPlanningModelSchema=function(p){this.m_planningModelSchema=p;};f.PlanningModel.prototype.getPlanningModelName=function(){return this.m_planningModelName;};f.PlanningModel.prototype.setPlanningModelName=function(p){this.m_planningModelName=p;};f.PlanningModel.prototype.getPlanningModelBehaviour=function(){return this.m_planningModelBehaviour;};f.PlanningModel.prototype.setPlanningModelBehaviour=function(p){this.m_planningModelBehaviour=p;};f.PlanningModel.prototype.initializePlanningModel=function(s){this.m_dataSources=f.XList.create();this.m_versionsList=f.XList.create();this.m_versionsMap=f.XHashMapByString.create();this.m_actionMetadataList=f.XList.create();this.m_privileges=f.XList.create();this.m_privilegesMap=f.XHashMapByString.create();var c=f.XCommandFactory.create(this.getPlanningService().getApplication());var a=c.createCommand(f.XCmdInitPlanningStep.CMD_NAME);a.addParameter(f.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL,this);a.addParameter(f.XCmdInitPlanningStep.PARAM_I_STEP,f.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS);var b=c.createCommand(f.XCmdInitPlanningStep.CMD_NAME);b.addParameter(f.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL,this);b.addParameter(f.XCmdInitPlanningStep.PARAM_I_STEP,f.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS);a.setFollowUpCommand(f.XCommandFollowUpType.SUCCESS,b);a.processCommand(s,this,null);};f.PlanningModel.prototype.onCommandProcessed=function(e,c,a){var p=this.getPlanningService();p.addAllMessages(e);this.getPlanningService()._setInitialized(this);};f.PlanningModel.prototype.supportsPlanningContextCommandType=function(p){if(f.isNull(p)){return false;}if(p===f.PlanningContextCommandType.SAVE){return true;}if(p===f.PlanningContextCommandType.BACKUP){return true;}if(p===f.PlanningContextCommandType.REFRESH){return true;}if(p===f.PlanningContextCommandType.RESET){return true;}if(p===f.PlanningContextCommandType.CLOSE){return true;}return p===f.PlanningContextCommandType.HARD_DELETE;};f.PlanningModel.prototype.createPlanningContextCommand=function(p){if(!this.supportsPlanningContextCommandType(p)){return null;}var a;if(p===f.PlanningContextCommandType.CLOSE){a=new f.PlanningModelCloseCommand();}else{a=new f.PlanningModelCommand();}a.setPlanningService(this.getPlanningService());a.setCommandType(f.PlanningCommandType.PLANNING_MODEL_COMMAND);a.setPlanningContext(this);a.setPlanningContextCommandType(p);a.setInvalidatingResultSet(p.isInvalidatingResultSet());return a;};f.PlanningModel.prototype.createRequestUpdateVersionPrivileges=function(){this.checkModelInitialized();var r=new f.PlanningModelRequestUpdateVersionPrivileges();this.initializePlanningModelRequest(r,f.PlanningModelRequestType.UPDATE_PRIVILEGES);return r;};f.PlanningModel.prototype.updateVersionPrivileges=function(){this.checkModelInitialized();var c=this.createRequestUpdateVersionPrivileges();var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningModel.prototype.createRequestCleanup=function(){this.checkModelInitialized();var r=new f.PlanningModelRequestCleanup();this.initializePlanningModelRequest(r,f.PlanningModelRequestType.CLEANUP);return r;};f.PlanningModel.prototype.createRequestCreateCommandWithId=function(c){this.checkModelInitialized();var a=c;f.XObjectExt.assertNotNullExt(a,"Action  is not yet known by client");var r=new f.PlanningModelRequestCreateAction();this.initializePlanningModelRequest(r,f.PlanningModelRequestType.CREATE_PLANNING_ACTION);r.setCommandIdentifier(a);var m=this.getActionMetadata(a.getActionId()).getActionParameterMetadata();r.setActionParameters(m);return r;};f.PlanningModel.prototype.getActionIdentifierById=function(a,p){this.checkModelInitialized();var b=this.getActionMetadata(a);if(f.isNull(b)){return null;}var c=b.getActionType();if(f.isNull(c)){return null;}if(!c.isTypeOf(f.PlanningActionType.VERSION_ACTION)){return null;}var d=new f.PlanningActionIdentifier();d.setActionMetadata(b);d.setCommandId(b.getActionId());d.setPlanningCommandType(f.PlanningCommandType.PLANNING_ACTION);d.setVersionIdentifier(p);return d;};f.PlanningModel.prototype.getQueryDataSources=function(){this.checkModelInitialized();var r=f.XList.create();r.addAll(this.m_dataSources);return r;};f.PlanningModel.prototype.getVersions=function(){return this._getVersions(true,false,true);};f.PlanningModel.prototype.getActiveVersions=function(){return this._getVersions(true,false,false);};f.PlanningModel.prototype.getAllVersions=function(){return this._getVersions(true,true,true);};f.PlanningModel.prototype.getSharedVersions=function(){return this._getVersions(false,true,true);};f.PlanningModel.prototype._getVersions=function(w,a,b){this.checkModelInitialized();var r=f.XList.create();for(var i=0;i<this.m_versionsList.size();i++){var v=this.m_versionsList.get(i);if(v.getVersionState()===null){continue;}if(!w){if(!v.isSharedVersion()){continue;}}if(!a){if(v.isSharedVersion()){continue;}}if(!b){if(!v.isActive()){continue;}}r.add(v);}return r;};f.PlanningModel.prototype.getActionIdentifiers=function(){this.checkModelInitialized();var v=this.getAllVersions();var r=f.XList.create();for(var i=0;i<this.m_actionMetadataList.size();i++){var a=this.m_actionMetadataList.get(i);for(var j=0;j<v.size();j++){var b=v.get(j);if(!b.isActive()){continue;}var c=this.getActionIdentifierById(a.getActionId(),b);if(f.isNull(c)){continue;}r.add(c);}}return r;};f.PlanningModel.prototype.getActionMetadataList=function(){this.checkModelInitialized();var r=f.XList.create();r.addAll(this.m_actionMetadataList);return r;};f.PlanningModel.prototype.getActionMetadata=function(a){this.checkModelInitialized();var b=this.getActionMetadataMap();return b.getByKey(a);};f.PlanningModel.prototype.getQueryConsumerServices=function(){this.checkModelInitialized();return f.PlanningModelUtil.getQueryConsumerServices(this);};f.PlanningModel.prototype.supportsChangedData=function(){return true;};f.PlanningModel.prototype.hasChangedData=function(){for(var i=0;i<this.m_versionsList.size();i++){var v=this.m_versionsList.get(i);if(v.getVersionState()===f.PlanningVersionState.CHANGED){return true;}}return false;};f.PlanningModel.prototype.supportsWorkStatus=function(){return false;};f.PlanningModel.prototype.isWorkStatusActive=function(){return false;};f.PlanningModel.prototype.getVersionPrivilege=function(q,p,a,g){return this.getVersionPrivilegeById(q,this.getVersionIdentifier(p,false,null),a,g);};f.PlanningModel.prototype.getVersionPrivilegeById=function(q,p,a,g){if(!this.isVersionPrivilegesInitialized()){throw f.XException.createIllegalStateException("version privileges are not yet initialized");}if(p.isSharedVersion()){f.noSupport();}var b=f.PlanningVersionPrivilege.createQualifiedName(this,q,p,a,g);var r=this.m_privilegesMap.getByKey(b);if(f.isNull(r)){var n=f.PlanningVersionPrivilege.create(this,q,p,a,g);if(!f.XString.isEqual(n.getQualifiedName(),b)){throw f.XException.createIllegalStateException("illegal qualified name");}this.m_privileges.add(n);this.m_privilegesMap.put(b,n);r=n;}return r;};f.PlanningModel.prototype.getVersionPrivileges=function(){if(!this.isVersionPrivilegesInitialized()){throw f.XException.createIllegalStateException("version privileges are not yet initialized");}return this.m_privileges;};f.PlanningModel.prototype.getActionForQueryIdentifiers=function(){this.checkModelInitialized();var r=f.XList.create();var a=this.getActionMetadataList();for(var i=0;i<a.size();i++){var b=a.get(i);var c=this.getActionForQueryIdentifier(b.getActionId());if(f.isNull(c)){continue;}r.add(c);}return r;};f.PlanningModel.prototype.getActionForQueryIdentifier=function(a){this.checkModelInitialized();var b=this.getActionMetadata(a);if(f.isNull(b)){return null;}var c=b.getActionType();if(f.isNull(c)){return null;}if(!c.isTypeOf(f.PlanningActionType.QUERY_ACTION)){return null;}var d=new f.PlanningActionForQueryIdentifier();d.setActionMetadata(b);d.setCommandId(b.getActionId());d.setPlanningCommandType(f.PlanningCommandType.PLANNING_ACTION);return d;};f.PlanningModel.prototype.initializePlanningModelRequest=function(r,a){r.setCommandType(f.PlanningCommandType.PLANNING_MODEL_REQUEST);r.setRequestType(a);r.setPlanningContext(this);r.setPlanningService(this.getPlanningService());r.setInvalidatingResultSet(a.isInvalidatingResultSet());};f.PlanningModel.prototype.getVersionParametersMetadata=function(){return this.m_versionParametersMetadata;};f.PlanningModel.prototype.getVersionParametersMetadataInternal=function(){return this.m_versionParametersMetadata;};f.PlanningModel.prototype.getPlanningCapabilities=function(){var o=this.getPlanningService().getApplication().getOlapEnvironment();var s=o.getSystemContainer(this.getPlanningService().getServiceConfig().getSystemName());return s.getServiceCapabilities(f.ServerService.PLANNING);};f.PlanningModel.prototype.supportsVersionParameters=function(){return this.getPlanningCapabilities().supportsVersionParameters();};f.PlanningModel.prototype.supportsVersionPrivileges=function(){return this.getPlanningCapabilities().supportsVersionPrivileges();};f.PlanningModel.prototype.createRequestRefreshVersions=function(){this.checkModelInitialized();var r=new f.PlanningModelRequestRefreshVersions();this.initializePlanningModelRequest(r,f.PlanningModelRequestType.REFRESH_VERSIONS);return r;};f.PlanningModel.prototype.createRequestRefreshActions=function(){this.checkModelInitialized();var r=new f.PlanningModelRequestRefreshActions();this.initializePlanningModelRequest(r,f.PlanningModelRequestType.REFRESH_ACTIONS);return r;};f.PlanningModel.prototype.refreshVersions=function(){this.checkModelInitialized();var c=this.createRequestRefreshVersions();var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningModel.prototype.setBackendUserName=function(b){this.m_backendUserName=b;};f.PlanningModel.prototype.getBackendUserName=function(){return this.m_backendUserName;};f.PlanningModel.prototype.setWithSharedVersions=function(w){this.m_withSharedVersions=w;};f.PlanningModel.prototype.isWithSharedVersions=function(){return this.m_withSharedVersions;};f.PlanningModel.prototype.getPersistenceType=function(){return this.m_persistenceType;};f.PlanningModel.prototype.setPersistenceType=function(p){f.XObjectExt.assertNotNullExt(p,"persistence type must not be null");this.m_persistenceType=p;};f.PlanningModel.prototype.updateVersionStateInternalIgnoreUndesired=function(v){var a=f.PrUtils.getIntegerProperty(v,"version_id");if(f.isNull(a)){return false;}var b=f.PrUtils.getBooleanProperty(v,"active");if(f.isNull(b)){return false;}var c=f.PlanningVersionState.lookup(v.getStringByKey("state"));if(f.isNull(c)){return false;}var i=b.getBoolean();if(i!==c.isActive()){return false;}var t=v.getIntegerByKeyExt("changes",0);var u=v.getIntegerByKeyExt("undo_changes",0);var s=false;var d=v.getStringByKey("owner");if(!f.XStringUtils.isNullOrEmpty(d)||f.XString.isEqual(d,this.m_backendUserName)){d=null;}var p=f.PlanningPrivilege.lookup(v.getStringByKey("privilege"));if(f.XStringUtils.isNullOrEmpty(d)&&f.isNull(p)){p=f.PlanningPrivilege.OWNER;}if(p===f.PlanningPrivilege.OWNER){d=null;}else{s=true;}if(s&&!this.m_withSharedVersions&&!f.XStringUtils.isNullOrEmpty(this.m_backendUserName)){return true;}if(!s&&p!==f.PlanningPrivilege.OWNER){return false;}if(s&&p===f.PlanningPrivilege.OWNER){return false;}var e=a.getInteger();var g=v.getStringByKey("description");var h=this.getVersionIdentifier(e,s,d);var j=this.getVersionById(h,g);if(j.getVersionState()===null){return false;}j.setVersionState(c);j.setTotalChangesSize(t);j.setUndoChangesSize(u);return true;};f.PlanningModel.prototype.getAction=function(a){var b=new f.PlanningAction();b.setCommandType(f.PlanningCommandType.PLANNING_ACTION);b.setPlanningService(this.getPlanningService());b.setPlanningContext(this);b.setCommandIdentifier(a);var m=this.getActionMetadata(a.getActionId()).getActionParameterMetadata();b.setActionParameterMetadata(m);return b;};f.PlanningModel.prototype.getActionForQuery=function(a){this.checkModelInitialized();if(f.isNull(a)){return null;}var b=new f.PlanningAction();b.setCommandType(f.PlanningCommandType.PLANNING_ACTION);b.setPlanningService(this.getPlanningService());b.setPlanningContext(this);b.setCommandIdentifier(a);var m=this.getActionMetadata(a.getActionId()).getActionParameterMetadata();b.setActionParameterMetadata(m);return b;};f.PlanningModel.prototype.isWithUniqueVersionDescriptions=function(){return this.m_withUniqueVersionDescriptions;};f.PlanningModel.prototype.setWithUniqueVersionDescriptions=function(u){this.m_withUniqueVersionDescriptions=u;};f.PlanningModel.prototype.isVersionDescriptionUnique=function(v){var a=this.getVersions().getIterator();var n=f.XString.toLowerCase(v);while(a.hasNext()){var o=f.XString.toLowerCase(a.next().getVersionDescription());if(f.XString.isEqual(o,n)){return false;}}return true;};f.PlanningModel.prototype.createCommandSave=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.SAVE);};f.PlanningModel.prototype.createCommandClose=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.CLOSE);};f.PlanningModel.prototype.createCommandBackup=function(){return this.createPlanningContextCommand(f.PlanningContextCommandType.BACKUP);};f.PlanningModel.prototype.isWithIgnoreUndesiredSharedVersions=function(){return true;};f.PlanningModel.prototype.hasActiveActions=function(){if(!this.isModelInitialized()){return false;}var v=this.getAllVersions();if(f.isNull(v)){return false;}for(var i=0;i<v.size();i++){var a=v.get(i);if(f.isNull(a)){continue;}if(a.isActionActive()){return true;}}return false;};f.PlanningModel.prototype.hasActiveActionSequences=function(){if(!this.isModelInitialized()){return false;}var v=this.getAllVersions();if(f.isNull(v)){return false;}for(var i=0;i<v.size();i++){var a=v.get(i);if(f.isNull(a)){continue;}if(a.isActionSequenceActive()){return true;}}return false;};f.PlanningModel.prototype.supportsPublicVersionEdit=function(){return this.m_withPublicVersionEdit;};f.PlanningModel.prototype.setWithPublicVersionEdit=function(p){this.m_withPublicVersionEdit=p;};f.PlanningModel.prototype.setPublicVersionEditInProgress=function(i){var s=this.getQueryConsumerServices();if(f.notNull(s)){var a=s.getIterator();while(a.hasNext()){var q=a.next();q.setPublicVersionEditPossible(i);}}this.m_isPublicVersionEditInProgress=i;};f.PlanningModel.prototype.isPublicVersionEditInProgress=function(){return this.m_isPublicVersionEditInProgress;};f.PlanningModel.prototype.releaseObject=function(){if(this.supportsPublicVersionEdit()&&this.isPublicVersionEditInProgress()){this.setPublicVersionEditInProgress(false);}this.m_privileges=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_privileges);this.m_privilegesMap=f.XObjectExt.release(this.m_privilegesMap);this.m_planningModelSchema=null;this.m_backendUserName=null;this.m_persistenceType=null;this.m_planningModelBehaviour=null;this.m_planningModelName=null;this.m_versionParametersMetadata=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_versionParametersMetadata);this.m_versionsList=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_versionsList);this.m_versionsMap=f.XObjectExt.release(this.m_versionsMap);this.m_dataSources=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dataSources);this.m_actionMetadataList=f.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_actionMetadataList);this.m_actionMetadataMap=f.XObjectExt.release(this.m_actionMetadataMap);f.PlanningContext.prototype.releaseObject.call(this);};f.PlanningVersionPrivilege=function(){};f.PlanningVersionPrivilege.prototype=new f.XObject();f.PlanningVersionPrivilege.prototype._ff_c="PlanningVersionPrivilege";f.PlanningVersionPrivilege.create=function(p,q,v,a,g){var r=new f.PlanningVersionPrivilege();r.setupExt(p,q,v,a,g);return r;};f.PlanningVersionPrivilege.createQualifiedName=function(p,q,v,a,g){f.XObjectExt.assertNotNullExt(p,"planning model null");var s=f.XStringBuffer.create();s.append("model:[").append(p.getPlanningModelSchema()).append("]");s.append("[").append(p.getPlanningModelName()).append("]");f.XObjectExt.assertNotNullExt(q,"query data source null");if(q.getType()!==f.MetaObjectType.PLANNING){throw f.XException.createIllegalArgumentException("illegal query data source object type");}s.append("datasource:[").append(q.getSchemaName()).append("]");s.append("[").append(q.getPackageName()).append("]");s.append("[").append(q.getObjectName()).append("]");s.append("version:[").append(v.getVersionUniqueName()).append("]");f.XObjectExt.assertNotNullExt(a,"planning privilege null");s.append("privilege:[").append(a.getName()).append("]");f.XStringUtils.checkStringNotEmpty(g,"Grantee null");s.append("grantee:[").append(g).append("]");return s.toString();};f.PlanningVersionPrivilege.prototype.m_planningModel=null;f.PlanningVersionPrivilege.prototype.m_queryDataSource=null;f.PlanningVersionPrivilege.prototype.m_versionIdentifier=null;f.PlanningVersionPrivilege.prototype.m_privilege=null;f.PlanningVersionPrivilege.prototype.m_grantee=null;f.PlanningVersionPrivilege.prototype.m_serverState=null;f.PlanningVersionPrivilege.prototype.m_clientState=null;f.PlanningVersionPrivilege.prototype.m_qualifiedName=null;f.PlanningVersionPrivilege.prototype.releaseObject=function(){this.m_qualifiedName=null;this.m_clientState=null;this.m_serverState=null;this.m_grantee=null;this.m_privilege=null;this.m_versionIdentifier=f.XObjectExt.release(this.m_versionIdentifier);this.m_queryDataSource=null;this.m_planningModel=null;f.XObject.prototype.releaseObject.call(this);};f.PlanningVersionPrivilege.prototype.getQualifiedName=function(){return this.m_qualifiedName;};f.PlanningVersionPrivilege.prototype.setupExt=function(p,q,v,a,g){f.XObjectExt.assertNotNullExt(p,"Planning model null");this.m_planningModel=p;f.XObjectExt.assertNotNullExt(q,"Query data source null");this.m_queryDataSource=q;if(this.m_queryDataSource.getType()!==f.MetaObjectType.PLANNING){throw f.XException.createIllegalArgumentException("illegal query data source object type");}this.m_versionIdentifier=this.getPlanningModel().copyVersionIdentifier(v);f.XObjectExt.assertNotNullExt(a,"Planning privilege null");this.m_privilege=a;f.XStringUtils.checkStringNotEmpty(g,"grantee null");this.m_grantee=g;this.m_serverState=f.PlanningPrivilegeState.NEW;this.m_clientState=f.PlanningPrivilegeState.NEW;this.m_qualifiedName=f.PlanningVersionPrivilege.createQualifiedName(this.m_planningModel,this.m_queryDataSource,this.m_versionIdentifier,this.m_privilege,this.m_grantee);};f.PlanningVersionPrivilege.prototype.getPlanningModel=function(){return this.m_planningModel;};f.PlanningVersionPrivilege.prototype.getQueryDataSource=function(){return this.m_queryDataSource;};f.PlanningVersionPrivilege.prototype.getVersionId=function(){return this.m_versionIdentifier.getVersionId();};f.PlanningVersionPrivilege.prototype.isSharedVersion=function(){return this.m_versionIdentifier.isSharedVersion();};f.PlanningVersionPrivilege.prototype.getVersionOwner=function(){return this.m_versionIdentifier.getVersionOwner();};f.PlanningVersionPrivilege.prototype.getVersionUniqueName=function(){return this.m_versionIdentifier.getVersionUniqueName();};f.PlanningVersionPrivilege.prototype.getPrivilege=function(){return this.m_privilege;};f.PlanningVersionPrivilege.prototype.getGrantee=function(){return this.m_grantee;};f.PlanningVersionPrivilege.prototype.getPrivilegeState=function(){return this.m_clientState;};f.PlanningVersionPrivilege.prototype.getPrivilegeStateServer=function(){return this.m_serverState;};f.PlanningVersionPrivilege.prototype.setPrivilegeState=function(p){this.m_clientState=p;};f.PlanningVersionPrivilege.prototype.setPrivilegeStateServer=function(p){this.m_serverState=p;};f.PlanningVersionPrivilege.prototype.doGrant=function(){if(this.m_serverState===f.PlanningPrivilegeState.GRANTED){this.m_clientState=f.PlanningPrivilegeState.GRANTED;}else{this.m_clientState=f.PlanningPrivilegeState.TO_BE_GRANTED;}};f.PlanningVersionPrivilege.prototype.doRevoke=function(){if(this.m_serverState===f.PlanningPrivilegeState.NEW){this.m_clientState=f.PlanningPrivilegeState.NEW;}else{this.m_clientState=f.PlanningPrivilegeState.TO_BE_REVOKED;}};f.PlanningVersionPrivilege.prototype.toString=function(){var s=f.XStringBuffer.create();s.append(this.getQualifiedName());var c=this.getPrivilegeState();if(f.notNull(c)){s.append(" - ");s.append(c.getName());}return s.toString();};f.PlanningVersionSettings=function(){};f.PlanningVersionSettings.prototype=new f.XObject();f.PlanningVersionSettings.prototype._ff_c="PlanningVersionSettings";f.PlanningVersionSettings.create=function(v,s,u){var a=new f.PlanningVersionSettings();a.m_versionIdentifier=f.PlanningVersionIdentifier.create(v.getVersionId(),v.isSharedVersion(),v.getVersionOwner());a.m_sequenceId=s;a.m_useExternalView=u;return a;};f.PlanningVersionSettings.prototype.m_versionIdentifier=null;f.PlanningVersionSettings.prototype.m_sequenceId=null;f.PlanningVersionSettings.prototype.m_useExternalView=false;f.PlanningVersionSettings.prototype.releaseObject=function(){this.m_versionIdentifier=null;this.m_sequenceId=null;f.XObject.prototype.releaseObject.call(this);};f.PlanningVersionSettings.prototype.getVersionId=function(){return this.m_versionIdentifier.getVersionId();};f.PlanningVersionSettings.prototype.isSharedVersion=function(){return this.m_versionIdentifier.isSharedVersion();};f.PlanningVersionSettings.prototype.getVersionOwner=function(){return this.m_versionIdentifier.getVersionOwner();};f.PlanningVersionSettings.prototype.getVersionUniqueName=function(){return this.m_versionIdentifier.getVersionUniqueName();};f.PlanningVersionSettings.prototype.getActionSequenceId=function(){return this.m_sequenceId;};f.PlanningVersionSettings.prototype.getUseExternalView=function(){return this.m_useExternalView;};f.PlanningVersionSettings.prototype.toString=function(){return this.getVersionUniqueName();};f.PlanningVersionSettings.prototype.getIsRestrictionEnabled=function(){return true;};f.PlanningVersionSettings.prototype.createVersionSettings=function(){return f.PlanningVersionSettings.create(this,this.getActionSequenceId(),this.getUseExternalView());};f.PlanningVersionSettingsSimple=function(){};f.PlanningVersionSettingsSimple.prototype=new f.XObject();f.PlanningVersionSettingsSimple.prototype._ff_c="PlanningVersionSettingsSimple";f.PlanningVersionSettingsSimple.create=function(v,s,u){var a=new f.PlanningVersionSettingsSimple();a.m_versionId=v;a.m_sequenceId=s;a.m_useExternalView=u;return a;};f.PlanningVersionSettingsSimple.prototype.m_versionId=null;f.PlanningVersionSettingsSimple.prototype.m_sequenceId=null;f.PlanningVersionSettingsSimple.prototype.m_useExternalView=false;f.PlanningVersionSettingsSimple.prototype.releaseObject=function(){this.m_versionId=null;this.m_sequenceId=null;f.XObject.prototype.releaseObject.call(this);};f.PlanningVersionSettingsSimple.prototype.getVersionId=function(){return-1;};f.PlanningVersionSettingsSimple.prototype.isSharedVersion=function(){return false;};f.PlanningVersionSettingsSimple.prototype.getVersionOwner=function(){return null;};f.PlanningVersionSettingsSimple.prototype.getVersionUniqueName=function(){return this.m_versionId;};f.PlanningVersionSettingsSimple.prototype.getActionSequenceId=function(){return this.m_sequenceId;};f.PlanningVersionSettingsSimple.prototype.getUseExternalView=function(){return this.m_useExternalView;};f.PlanningVersionSettingsSimple.prototype.toString=function(){return this.getVersionUniqueName();};f.PlanningVersionSettingsSimple.prototype.getIsRestrictionEnabled=function(){return true;};f.PlanningVersionSettingsSimple.prototype.createVersionSettings=function(){return f.PlanningVersionSettingsSimple.create(this.m_versionId,this.m_sequenceId,this.m_useExternalView);};f.PlanningActionMetadata=function(){};f.PlanningActionMetadata.prototype=new f.XObject();f.PlanningActionMetadata.prototype._ff_c="PlanningActionMetadata";f.PlanningActionMetadata.prototype.m_actionId=null;f.PlanningActionMetadata.prototype.m_actionName=null;f.PlanningActionMetadata.prototype.m_actionDescription=null;f.PlanningActionMetadata.prototype.m_defaultAction=false;f.PlanningActionMetadata.prototype.m_actionType=null;f.PlanningActionMetadata.prototype.m_actionParameterMetadata=null;f.PlanningActionMetadata.prototype.m_actionParameterNames=null;f.PlanningActionMetadata.prototype.getActionId=function(){return this.m_actionId;};f.PlanningActionMetadata.prototype.setActionId=function(a){this.m_actionId=a;};f.PlanningActionMetadata.prototype.getActionName=function(){return this.m_actionName;};f.PlanningActionMetadata.prototype.setActionName=function(a){this.m_actionName=a;};f.PlanningActionMetadata.prototype.getActionDescription=function(){return this.m_actionDescription;};f.PlanningActionMetadata.prototype.setActionDescription=function(a){this.m_actionDescription=a;};f.PlanningActionMetadata.prototype.getActionType=function(){if(f.isNull(this.m_actionType)){return f.PlanningActionType.UNKNOWN;}return this.m_actionType;};f.PlanningActionMetadata.prototype.setActionType=function(a){this.m_actionType=a;};f.PlanningActionMetadata.prototype.isDefault=function(){return this.m_defaultAction;};f.PlanningActionMetadata.prototype.setDefault=function(d){this.m_defaultAction=d;};f.PlanningActionMetadata.prototype.getActionParameterMetadata=function(){return this.m_actionParameterMetadata;};f.PlanningActionMetadata.prototype.setActionParameterMetadata=function(a){this.m_actionParameterMetadata=a;};f.PlanningActionMetadata.prototype.setActionParameterNames=function(p){if(f.notNull(this.m_actionParameterNames)){throw f.XException.createIllegalStateException("already set");}this.m_actionParameterNames=f.XListOfString.create();if(f.notNull(p)){this.m_actionParameterNames.addAll(p);}};f.PlanningActionMetadata.prototype.getActionParameterNames=function(){f.XObjectExt.assertNotNullExt(this.m_actionParameterNames,"not set");return this.m_actionParameterNames;};f.PlanningActionMetadata.prototype.toString=function(){var s=f.XStringBuffer.create();s.append("action: ");s.append("id: ");if(f.notNull(this.m_actionId)){s.append(this.m_actionId);}s.appendNewLine();s.append("name: ");if(f.notNull(this.m_actionName)){s.append(this.m_actionName);}s.appendNewLine();s.append("description: ");if(f.notNull(this.m_actionDescription)){s.append(this.m_actionDescription);}s.appendNewLine();s.append("type: ");if(f.notNull(this.m_actionType)){s.append(this.m_actionType.toString());s.append(" ");}if(this.m_defaultAction){s.append("default=true");}s.appendNewLine();var a=this.getActionParameterMetadata();if(f.isNull(a)){s.append("action does not have parameters");}else{s.appendLine("parameters:");s.append(a.toString());}s.appendNewLine();return s.toString();};f.XCmdCreatePlanningOperation=function(){};f.XCmdCreatePlanningOperation.prototype=new f.XCommand();f.XCmdCreatePlanningOperation.prototype._ff_c="XCmdCreatePlanningOperation";f.XCmdCreatePlanningOperation.CLAZZ=null;f.XCmdCreatePlanningOperation.CMD_NAME="CREATE_PLANNING_OPERATION";f.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA="DATA_AREA";f.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER="PLANNING_OPERATION_IDENTIFIER";f.XCmdCreatePlanningOperation.PARAM_E_PLANNING_OPERATION="PLANNING_OPERATION";f.XCmdCreatePlanningOperation.staticSetup=function(){f.XCmdCreatePlanningOperation.CLAZZ=f.XClass.create(f.XCmdCreatePlanningOperation);};f.XCmdCreatePlanningOperation.prototype.getCommandResultClass=function(){return f.XCmdCreatePlanningOperationResult.CLAZZ;};f.XCmdCreatePlanningOperationResult=function(){};f.XCmdCreatePlanningOperationResult.prototype=new f.XCommandResult();f.XCmdCreatePlanningOperationResult.prototype._ff_c="XCmdCreatePlanningOperationResult";f.XCmdCreatePlanningOperationResult.CLAZZ=null;f.XCmdCreatePlanningOperationResult.staticSetup=function(){f.XCmdCreatePlanningOperationResult.CLAZZ=f.XClass.create(f.XCmdCreatePlanningOperationResult);};f.XCmdCreatePlanningOperationResult.prototype.process=function(){var d=this.getParameter(f.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA);var p=this.getParameter(f.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER);var a=p.getPlanningOperationType();if(a!==f.PlanningOperationType.PLANNING_FUNCTION&&a!==f.PlanningOperationType.PLANNING_SEQUENCE){this.getMessageManager().addError(0,"illegal planning operation type");this.onProcessFinished();return;}var r=d.createRequestGetPlanningOperationMetadata(p);r.processCommand(this.getSyncType(),f.XPlanningCommandCallback.create(this),null);};f.XCmdCreatePlanningOperationResult.prototype.onXPlanningCommandProcessed=function(e){this.getMessageManager().addAllMessages(e);if(e.isValid()){var d=this.getParameter(f.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA);var p=this.getParameter(f.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER);var a=p.getPlanningOperationType();var b=null;if(a===f.PlanningOperationType.PLANNING_FUNCTION){var c=new f.PlanningFunction();c.setCommandType(f.PlanningCommandType.PLANNING_FUNCTION);c.setPlanningService(d.getPlanningService());c.setPlanningContext(d);c.setCommandIdentifier(p);c.setPlanningOperationMetadata(e.getData().getPlanningFunctionMetadata());c.initializePlanningOperation();b=c;}else if(a===f.PlanningOperationType.PLANNING_SEQUENCE){var g=new f.PlanningSequence();g.setCommandType(f.PlanningCommandType.PLANNING_SEQUENCE);g.setPlanningService(d.getPlanningService());g.setPlanningContext(d);g.setCommandIdentifier(p);g.setPlanningOperationMetadata(e.getData().getPlanningSequenceMetadata());g.initializePlanningOperation();b=g;}if(f.isNull(b)){this.getMessageManager().addError(0,"illegal planning operation type");this.onProcessFinished();return;}this.addResultParameter(f.XCmdCreatePlanningOperation.PARAM_E_PLANNING_OPERATION,b);}this.onProcessFinished();};f.XCmdInitPlanningStep=function(){};f.XCmdInitPlanningStep.prototype=new f.XCommand();f.XCmdInitPlanningStep.prototype._ff_c="XCmdInitPlanningStep";f.XCmdInitPlanningStep.CLAZZ=null;f.XCmdInitPlanningStep.CMD_NAME="INIT_PLANNING_STEP";f.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL="PLANNING_MODEL";f.XCmdInitPlanningStep.PARAM_I_STEP="STEP";f.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS=null;f.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS=null;f.XCmdInitPlanningStep.staticSetup=function(){f.XCmdInitPlanningStep.CLAZZ=f.XClass.create(f.XCmdInitPlanningStep);f.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS=f.XStringValue.create("STEP_1_REFRESH_VERSIONS");f.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS=f.XStringValue.create("STEP_2_INIT_VERSIONS");};f.XCmdInitPlanningStep.prototype.getCommandResultClass=function(){return f.XCmdInitPlanningStepResult.CLAZZ;};f.XCmdInitPlanningStepResult=function(){};f.XCmdInitPlanningStepResult.prototype=new f.XCommandResult();f.XCmdInitPlanningStepResult.prototype._ff_c="XCmdInitPlanningStepResult";f.XCmdInitPlanningStepResult.CLAZZ=null;f.XCmdInitPlanningStepResult.staticSetup=function(){f.XCmdInitPlanningStepResult.CLAZZ=f.XClass.create(f.XCmdInitPlanningStepResult);};f.XCmdInitPlanningStepResult.prototype.process=function(){var p=this.getParameter(f.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL);if(f.isNull(p)){this.onProcessFinished();}var s=this.getParameter(f.XCmdInitPlanningStep.PARAM_I_STEP);if(s===f.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS){this.processStep1RefreshVersions(p);}else if(s===f.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS){this.processStep2InitVersions(p);}else{this.onProcessFinished();}};f.XCmdInitPlanningStepResult.prototype.processStep1RefreshVersions=function(p){if(p.isWithSharedVersions()){var u=p.getBackendUserName();if(f.XStringUtils.isNullOrEmpty(u)){this.getMessageManager().addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_STATE,"undo/redo stack with shared versions requires backend user",null);}}var a=p.getPlanningModelBehaviour();if(f.isNull(a)){this.getMessageManager().addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_STATE,"planning model behavior is null",null);}var c=f.PlanningContextCommandType.REFRESH;if(a===f.PlanningModelBehaviour.ENFORCE_NO_VERSION_HARD_DELETE){c=f.PlanningContextCommandType.HARD_DELETE;}var b=p.createPlanningContextCommand(c);b.processCommand(this.getSyncType(),f.XPlanningCommandCallback.create(this),f.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS);};f.XCmdInitPlanningStepResult.prototype.processStep2InitVersions=function(p){var a=p.getPlanningModelBehaviour();if(a===f.PlanningModelBehaviour.CREATE_DEFAULT_VERSION){if(this.checkBlocking(a)){f.PlanningModelUtil.initCreateDefaultVersion(p);}}else if(a===f.PlanningModelBehaviour.ENFORCE_NO_VERSION||a===f.PlanningModelBehaviour.ENFORCE_NO_VERSION_HARD_DELETE){if(this.checkBlocking(a)){f.PlanningModelUtil.initEnforceNoVersion(p);}}else if(a===f.PlanningModelBehaviour.ENFORCE_SINGLE_VERSION){if(this.checkBlocking(a)){f.PlanningModelUtil.initEnforceSingleVersion(p);}}this.onProcessFinished();};f.XCmdInitPlanningStepResult.prototype.checkBlocking=function(p){if(this.getSyncType()!==f.SyncType.BLOCKING){this.getMessageManager().addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_STATE,f.XStringBuffer.create().append("Planning model behaviour ").append(p.getName()).append(" is only supported in blocking mode").toString(),null);return false;}return true;};f.XCmdInitPlanningStepResult.prototype.onXPlanningCommandProcessed=function(e){this.getMessageManager().addAllMessages(e);this.onProcessFinished();};f.PlanningVersion=function(){};f.PlanningVersion.prototype=new f.XObject();f.PlanningVersion.prototype._ff_c="PlanningVersion";f.PlanningVersion.create=function(){var v=new f.PlanningVersion();v.m_useExternalView=true;v.m_isRestrictionEnabled=true;return v;};f.PlanningVersion.parametersStructure2ParametersStringMap=function(p){if(f.isNull(p)){return null;}var a=f.XHashMapOfStringByString.create();var n=f.PrUtils.getKeysAsReadOnlyListOfString(p,null);if(f.notNull(n)){for(var i=0;i<n.size();i++){var b=n.get(i);var v=f.PrUtils.getProperty(p,b);if(f.isNull(v)){continue;}if(v.getType()!==f.PrElementType.STRING){continue;}var s=v;a.put(b,s.getString());}}return a;};f.PlanningVersion.parametersStringMap2ParametersStructure=function(p){if(f.isNull(p)){return null;}var a=f.PrFactory.createStructure();var k=p.getKeysAsIteratorOfString();while(k.hasNext()){var b=k.next();var v=p.getByKey(b);a.putString(b,v);}return a;};f.PlanningVersion.prototype.m_planningModel=null;f.PlanningVersion.prototype.m_versionIdentifier=null;f.PlanningVersion.prototype.m_versionDescription=null;f.PlanningVersion.prototype.m_versionState=null;f.PlanningVersion.prototype.m_privilege=null;f.PlanningVersion.prototype.m_parametersStructure=null;f.PlanningVersion.prototype.m_creationTime=null;f.PlanningVersion.prototype.m_backupTime=null;f.PlanningVersion.prototype.m_actionSequenceId=null;f.PlanningVersion.prototype.m_useExternalView=false;f.PlanningVersion.prototype.m_totalChangesSize=0;f.PlanningVersion.prototype.m_undoChangesSize=0;f.PlanningVersion.prototype.m_sequenceActive=false;f.PlanningVersion.prototype.m_sequenceDescription=null;f.PlanningVersion.prototype.m_sequenceCreateTime=null;f.PlanningVersion.prototype.m_actionActive=false;f.PlanningVersion.prototype.m_actionStartTime=null;f.PlanningVersion.prototype.m_actionEndTime=null;f.PlanningVersion.prototype.m_isRestrictionEnabled=false;f.PlanningVersion.prototype.m_userName=null;f.PlanningVersion.prototype.m_isShowingAsPublicVersion=false;f.PlanningVersion.prototype.m_sourceVersionName=null;f.PlanningVersion.prototype.releaseObject=function(){this.m_planningModel=null;this.m_versionIdentifier=f.XObjectExt.release(this.m_versionIdentifier);this.m_versionDescription=null;this.m_versionState=null;this.m_privilege=null;this.m_parametersStructure=f.XObjectExt.release(this.m_parametersStructure);this.m_creationTime=f.XObjectExt.release(this.m_creationTime);this.m_backupTime=f.XObjectExt.release(this.m_backupTime);this.m_sequenceCreateTime=f.XObjectExt.release(this.m_sequenceCreateTime);this.m_actionStartTime=f.XObjectExt.release(this.m_actionStartTime);this.m_actionEndTime=f.XObjectExt.release(this.m_actionEndTime);f.XObject.prototype.releaseObject.call(this);};f.PlanningVersion.prototype.isEqualTo=function(o){if(f.isNull(o)){return false;}var a=o;if(a.getPlanningModel()!==this.getPlanningModel()){return false;}if(!f.XString.isEqual(a.getVersionUniqueName(),this.getVersionUniqueName())){return false;}if(a.getVersionState()!==this.getVersionState()){return false;}if(a.isActive()!==this.isActive()){return false;}return true;};f.PlanningVersion.prototype.toString=function(){var s=f.XStringBuffer.create();s.append("Id  : ");s.append(this.m_versionIdentifier.getVersionUniqueName());s.append(", Active : ");s.append(f.XBoolean.convertToString(this.isActive()));s.append(", State : ");if(f.isNull(this.m_versionState)){s.append("null");}else{s.append(this.m_versionState.getName());}return s.toString();};f.PlanningVersion.prototype.getPlanningModel=function(){return this.m_planningModel;};f.PlanningVersion.prototype.setPlanningModel=function(p){this.m_planningModel=p;};f.PlanningVersion.prototype.checkModelInitialized=function(){this.getPlanningModel().checkModelInitialized();};f.PlanningVersion.prototype.invalidateVersion=function(){this.m_creationTime=null;this.m_backupTime=null;this.m_parametersStructure=f.XObjectExt.release(this.m_parametersStructure);this.m_privilege=null;this.m_versionDescription=null;this.m_versionState=null;};f.PlanningVersion.prototype.resetVersionState=function(){this.m_versionState=null;};f.PlanningVersion.prototype.updateInvalidPrivileges=function(){if(f.notNull(this.m_versionState)){return;}var p=this.getPlanningModel();if(f.notNull(p)&&p.isVersionPrivilegesInitialized()){var a=p.getVersionPrivileges();if(f.notNull(a)){for(var i=0;i<a.size();i++){var b=a.get(i);if(f.XString.isEqual(b.getVersionUniqueName(),this.getVersionUniqueName())){b.setPrivilegeState(f.PlanningPrivilegeState.NEW);b.setPrivilegeStateServer(f.PlanningPrivilegeState.NEW);}}}}};f.PlanningVersion.prototype.setVersionIdentifier=function(v){this.m_versionIdentifier=this.getPlanningModel().copyVersionIdentifier(v);};f.PlanningVersion.prototype.getVersionId=function(){return this.m_versionIdentifier.getVersionId();};f.PlanningVersion.prototype.isSharedVersion=function(){return this.m_versionIdentifier.isSharedVersion();};f.PlanningVersion.prototype.getVersionOwner=function(){return this.m_versionIdentifier.getVersionOwner();};f.PlanningVersion.prototype.getVersionUniqueName=function(){return this.m_versionIdentifier.getVersionUniqueName();};f.PlanningVersion.prototype.getVersionDescription=function(){return this.m_versionDescription;};f.PlanningVersion.prototype.setVersionDescription=function(v){if(this.getPlanningModel().isWithUniqueVersionDescriptions()){this.assertVersionDescriptionUniqueAndNotNullOrEmpty(v);}this.m_versionDescription=v;};f.PlanningVersion.prototype.assertVersionDescriptionUniqueAndNotNullOrEmpty=function(v){f.XStringUtils.checkStringNotEmpty(v,"version description is null or empty.");if(f.XString.isEqual(this.m_versionDescription,v)){return;}if(!this.getPlanningModel().isVersionDescriptionUnique(v)){throw f.XException.createIllegalArgumentException("version description is not unique.");}};f.PlanningVersion.prototype.isActive=function(){var p=this.getVersionState();if(f.isNull(p)){return false;}return p.isActive();};f.PlanningVersion.prototype.getVersionState=function(){return this.m_versionState;};f.PlanningVersion.prototype.getTotalChangesSize=function(){return this.m_totalChangesSize;};f.PlanningVersion.prototype.setTotalChangesSize=function(u){this.m_totalChangesSize=u;};f.PlanningVersion.prototype.getUndoChangesSize=function(){return this.m_undoChangesSize;};f.PlanningVersion.prototype.setUndoChangesSize=function(r){this.m_undoChangesSize=r;};f.PlanningVersion.prototype.setVersionState=function(v){f.XObjectExt.assertNotNullExt(v,"illegal version state");this.m_versionState=v;if(f.isNull(this.m_privilege)){if(this.isSharedVersion()){throw f.XException.createIllegalStateException("illegal privilege");}this.m_privilege=f.PlanningPrivilege.OWNER;}};f.PlanningVersion.prototype.getPrivilege=function(){return this.m_privilege;};f.PlanningVersion.prototype.setPrivilege=function(p){f.XObjectExt.assertNotNullExt(p,"illegal privilege");this.m_privilege=p;};f.PlanningVersion.prototype.getActionIdentifiers=function(){this.checkModelInitialized();var r=f.XList.create();var a=this.getPlanningModel().getActionMetadataList();for(var i=0;i<a.size();i++){var b=a.get(i);var c=this.getActionIdentifier(b.getActionId());if(f.isNull(c)){continue;}r.add(c);}return r;};f.PlanningVersion.prototype.getActionIdentifier=function(a){this.checkModelInitialized();return this.getPlanningModel().getActionIdentifierById(a,this);};f.PlanningVersion.prototype.createRequestVersion=function(r){this.checkModelInitialized();if(!r.isTypeOf(f.PlanningModelRequestType.VERSION_REQUEST)){throw f.XException.createIllegalStateException("illegal request type");}var a;if(r===f.PlanningModelRequestType.INIT_VERSION){a=new f.PlanningModelRequestVersionInit();}else if(r===f.PlanningModelRequestType.SET_PARAMETERS){a=new f.PlanningModelRequestVersionSetParameters();}else if(r===f.PlanningModelRequestType.SET_TIMEOUT){a=new f.PlanningModelRequestVersionSetTimeout();}else if(r===f.PlanningModelRequestType.CLOSE_VERSION){a=new f.PlanningModelRequestVersionClose();a.setCloseMode(f.CloseModeType.DISCARD);}else if(r===f.PlanningModelRequestType.START_ACTION_SEQUENCE){a=new f.PlanningModelRequestVersionStartActionSequence();}else if(r===f.PlanningModelRequestType.END_ACTION_SEQUENCE){a=new f.PlanningModelRequestVersionEndActionSequence();}else if(r===f.PlanningModelRequestType.UNDO_VERSION||r===f.PlanningModelRequestType.REDO_VERSION){a=new f.PlanningModelRequestVersionUndoRedo();}else if(r===f.PlanningModelRequestType.GET_VERSION_STATE_DESCRIPTIONS){a=new f.PlanningModelRequestVersionStateDescriptions();}else{a=new f.PlanningModelRequestVersion();}a.setPlanningService(this.getPlanningModel().getPlanningService());a.setCommandType(f.PlanningCommandType.PLANNING_MODEL_REQUEST);a.setRequestType(r);a.setPlanningContext(this.getPlanningModel());a.setPlanningVersion(this);a.setInvalidatingResultSet(r.isInvalidatingResultSet());return a;};f.PlanningVersion.prototype.createRequestInitVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.INIT_VERSION);};f.PlanningVersion.prototype.createRequestSetParameters=function(){return this.createRequestVersion(f.PlanningModelRequestType.SET_PARAMETERS);};f.PlanningVersion.prototype.createRequestBackupVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.BACKUP_VERSION);};f.PlanningVersion.prototype.createRequestCloseVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.CLOSE_VERSION);};f.PlanningVersion.prototype.createRequestDropVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.DROP_VERSION);};f.PlanningVersion.prototype.createRequestResetVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.RESET_VERSION);};f.PlanningVersion.prototype.createRequestUndoVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.UNDO_VERSION);};f.PlanningVersion.prototype.createRequestRedoVersion=function(){return this.createRequestVersion(f.PlanningModelRequestType.REDO_VERSION);};f.PlanningVersion.prototype.createRequestSetTimeout=function(){return this.createRequestVersion(f.PlanningModelRequestType.SET_TIMEOUT);};f.PlanningVersion.prototype.createRequestUpdateParameters=function(){return this.createRequestVersion(f.PlanningModelRequestType.UPDATE_PARAMETERS);};f.PlanningVersion.prototype.createRequestStateDescriptions=function(){return this.createRequestVersion(f.PlanningModelRequestType.GET_VERSION_STATE_DESCRIPTIONS);};f.PlanningVersion.prototype.createRequestStartActionSequence=function(){return this.createRequestVersion(f.PlanningModelRequestType.START_ACTION_SEQUENCE);};f.PlanningVersion.prototype.createRequestEndActionSequence=function(){return this.createRequestVersion(f.PlanningModelRequestType.END_ACTION_SEQUENCE);};f.PlanningVersion.prototype.createRequestKillActionSequence=function(){return this.createRequestVersion(f.PlanningModelRequestType.KILL_ACTION_SEQUENCE);};f.PlanningVersion.prototype.initializeVersion=function(r){this.checkModelInitialized();return this.initializeVersionWithParameters(r,null);};f.PlanningVersion.prototype.initializeVersionWithParameters=function(r,p){var a=f.PlanningVersion.parametersStringMap2ParametersStructure(p);if(f.notNull(p)){a=f.PrFactory.createStructure();var k=p.getKeysAsIteratorOfString();while(k.hasNext()){var b=k.next();var v=p.getByKey(b);a.putString(b,v);}}return this.initializeVersionWithParametersJson(r,a);};f.PlanningVersion.prototype.initializeVersionWithParametersJson=function(r,p){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.INIT_VERSION);c.setRestoreBackupType(r);if(this.getPlanningModel().supportsVersionParameters()){c.setVersionParametersAsJson(p);}var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.updateParameters=function(){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.UPDATE_PARAMETERS);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.setTimeout=function(s){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.SET_TIMEOUT);c.setTimeout(s);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.backup=function(){this.checkModelInitialized();return this.processVersionRequest(f.PlanningModelRequestType.BACKUP_VERSION);};f.PlanningVersion.prototype.close=function(){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.CLOSE_VERSION);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.drop=function(){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.DROP_VERSION);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.startActionSequence=function(){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.START_ACTION_SEQUENCE);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.endActionSequence=function(){this.checkModelInitialized();var c=this.createRequestVersion(f.PlanningModelRequestType.END_ACTION_SEQUENCE);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.killActionSequence=function(){this.checkModelInitialized();return this.processVersionRequest(f.PlanningModelRequestType.KILL_ACTION_SEQUENCE);};f.PlanningVersion.prototype.reset=function(){this.checkModelInitialized();return this.processVersionRequest(f.PlanningModelRequestType.RESET_VERSION);};f.PlanningVersion.prototype.undo=function(){this.checkModelInitialized();return this.processVersionRequest(f.PlanningModelRequestType.UNDO_VERSION);};f.PlanningVersion.prototype.redo=function(){this.checkModelInitialized();return this.processVersionRequest(f.PlanningModelRequestType.REDO_VERSION);};f.PlanningVersion.prototype.processVersionRequest=function(p){this.checkModelInitialized();var c=this.createRequestVersion(p);var a=c.processCommand(f.SyncType.BLOCKING,null,null);return f.ExtResult.create(a.getData(),a);};f.PlanningVersion.prototype.getParameters=function(){if(f.isNull(this.m_parametersStructure)){return f.XHashMapOfStringByString.create();}return f.PlanningVersion.parametersStructure2ParametersStringMap(this.m_parametersStructure);};f.PlanningVersion.prototype.getParametersStructure=function(){if(f.isNull(this.m_parametersStructure)){return f.PrFactory.createStructure();}return f.PrFactory.createStructureDeepCopy(this.m_parametersStructure);};f.PlanningVersion.prototype.setParametersStructureInternal=function(p){if(f.isNull(p)){this.m_parametersStructure=null;}else{this.m_parametersStructure=f.PrFactory.createStructureDeepCopy(p);}};f.PlanningVersion.prototype.getCreationTime=function(){return this.m_creationTime;};f.PlanningVersion.prototype.setCreationTime=function(c){this.m_creationTime=c;};f.PlanningVersion.prototype.getBackupTime=function(){return this.m_backupTime;};f.PlanningVersion.prototype.setBackupTime=function(b){this.m_backupTime=b;};f.PlanningVersion.prototype.getAction=function(a){return this.getPlanningModel().getAction(a);};f.PlanningVersion.prototype.getActionSequenceId=function(){return this.m_actionSequenceId;};f.PlanningVersion.prototype.setActionSequenceId=function(s){this.m_actionSequenceId=s;};f.PlanningVersion.prototype.getUseExternalView=function(){return this.m_useExternalView;};f.PlanningVersion.prototype.setUseExternalView=function(u){if(this.m_useExternalView===u){return;}this.m_useExternalView=u;this.getPlanningModel().invalidate();};f.PlanningVersion.prototype.isActionSequenceActive=function(){return this.m_sequenceActive;};f.PlanningVersion.prototype.setActionSequenceActive=function(s){this.m_sequenceActive=s;if(!this.m_sequenceActive){this.m_sequenceCreateTime=null;this.m_sequenceDescription=null;this.m_actionSequenceId=null;}};f.PlanningVersion.prototype.getActionSequenceDescription=function(){return this.m_sequenceDescription;};f.PlanningVersion.prototype.setActionSequenceDescription=function(s){this.m_sequenceDescription=s;};f.PlanningVersion.prototype.getActionSequenceCreateTime=function(){return this.m_sequenceCreateTime;};f.PlanningVersion.prototype.setActionSequenceCreateTime=function(s){this.m_sequenceCreateTime=s;};f.PlanningVersion.prototype.isActionActive=function(){return this.m_actionActive;};f.PlanningVersion.prototype.setActionActive=function(a){this.m_actionActive=a;};f.PlanningVersion.prototype.getActionEndTime=function(){return this.m_actionEndTime;};f.PlanningVersion.prototype.setActionEndTime=function(a){this.m_actionEndTime=a;};f.PlanningVersion.prototype.getActionStartTime=function(){return this.m_actionStartTime;};f.PlanningVersion.prototype.setActionStartTime=function(a){this.m_actionStartTime=a;};f.PlanningVersion.prototype.getIsRestrictionEnabled=function(){return this.m_isRestrictionEnabled;};f.PlanningVersion.prototype.setIsRestrictionEnabled=function(r){this.m_isRestrictionEnabled=r;};f.PlanningVersion.prototype.getUserName=function(){return this.m_userName;};f.PlanningVersion.prototype.setUserName=function(u){this.m_userName=u;};f.PlanningVersion.prototype.isShowingAsPublicVersion=function(){return this.m_isShowingAsPublicVersion;};f.PlanningVersion.prototype.setShowingAsPublicVersion=function(i){this.m_isShowingAsPublicVersion=i;};f.PlanningVersion.prototype.getSourceVersionName=function(){return this.m_sourceVersionName;};f.PlanningVersion.prototype.setSourceVersionName=function(s){this.m_sourceVersionName=s;};f.PlanningVersion.prototype.createVersionSettings=function(){return f.PlanningVersionSettings.create(this,this.getActionSequenceId(),this.getUseExternalView());};f.PlanningService=function(){};f.PlanningService.prototype=new f.DfService();f.PlanningService.prototype._ff_c="PlanningService";f.PlanningService.CLAZZ=null;f.PlanningService.s_capabilitiesProviderFactory=null;f.PlanningService.staticSetup=function(){f.PlanningService.CLAZZ=f.XClass.create(f.PlanningService);};f.PlanningService.prototype.m_planningContext=null;f.PlanningService.prototype.m_initialized=false;f.PlanningService.prototype.m_capabilitiesProvider=null;f.PlanningService.prototype.getInaCapabilities=function(){return this.m_capabilitiesProvider;};f.PlanningService.prototype.isInitialized=function(){return this.m_initialized;};f.PlanningService.prototype.getActiveCapabilities=function(){return this.m_capabilitiesProvider.getActiveCapabilities();};f.PlanningService.prototype.releaseObject=function(){this.releasePlanningContext();this.m_capabilitiesProvider=null;f.DfService.prototype.releaseObject.call(this);};f.PlanningService.prototype.isServiceConfigMatching=function(s,c,m){var a=s;var b=a.getSystemType();if(f.isNull(b)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_SYSTEM,"illegal system type",null);return false;}if(b.isTypeOf(f.SystemType.BW)){var p=a.getProperties();var d=p.getStringByKeyExt(f.PlanningConstants.DATA_AREA,"DEFAULT");var e=p.getStringByKey(f.PlanningConstants.ENVIRONMENT);var g=p.getStringByKey(f.PlanningConstants.MODEL);var h=f.CellLockingType.lookupWithDefault(p.getStringByKey(f.PlanningConstants.CELL_LOCKING),f.CellLockingType.DEFAULT_SETTING_BACKEND);var i=f.DataAreaState.getDataAreaStateByPlanningService(this);if(f.isNull(i)){var j=a.getApplication();var k=a.getSystemName();i=f.DataAreaState.createDataAreaState(j,k,d,e,g,h);if(f.isNull(i)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_STATE,"illegal data area",p);return false;}}else if(!i.isEqualSettings(e,g,h)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.INVALID_STATE,"data area with different settings already existing",p);return false;}}return true;};f.PlanningService.prototype.getPlanningServiceConfig=function(){return this.getServiceConfig();};f.PlanningService.prototype.processSynchronization=function(s){if(this.m_initialized){return false;}this.initializeContext(s);return true;};f.PlanningService.prototype.getPlanningContext=function(){this.initializeContext(f.SyncType.BLOCKING);return this.m_planningContext;};f.PlanningService.prototype.initializeContext=function(s){if(this.m_initialized){return;}var a;if(this.getSession().hasFeature(f.FeatureToggleOlap.SERVER_METADATA_VIA_SYSTEM_CONNECT)){a=this.getConnection().getSystemConnect().getServerMetadata();}else{a=this.getConnection().getServerMetadata();}this.m_capabilitiesProvider=f.PlanningService.s_capabilitiesProviderFactory.create(this.getSession(),a,f.ProviderType.PLANNING_COMMAND);var b=this.getPlanningServiceConfig();var p=b.getProperties();var c=b.getSystemType();if(c.isTypeOf(f.SystemType.BW)){var d=f.DataArea.create();d.setPlanningService(this);d.setDataArea(p.getStringByKeyExt(f.PlanningConstants.DATA_AREA,"DEFAULT"));d.setEnvironment(p.getStringByKey(f.PlanningConstants.ENVIRONMENT));d.setModel(p.getStringByKey(f.PlanningConstants.MODEL));d.setCellLockingType(f.CellLockingType.lookupWithDefault(p.getStringByKey(f.PlanningConstants.CELL_LOCKING),f.CellLockingType.DEFAULT_SETTING_BACKEND));this._setInitialized(d);}if(c===f.SystemType.HANA){var e=f.PlanningModel.create();e.setPlanningService(this);e.setPlanningModelSchema(p.getStringByKey(f.PlanningConstants.PLANNING_SCHEMA));e.setPlanningModelName(p.getStringByKey(f.PlanningConstants.PLANNING_MODEL));e.setPlanningModelBehaviour(f.PlanningModelBehaviour.lookupWithDefault(p.getStringByKey(f.PlanningConstants.PLANNING_MODEL_BEHAVIOUR),f.PlanningModelBehaviour.STANDARD));e.setBackendUserName(p.getStringByKeyExt(f.PlanningConstants.BACKEND_USER_NAME,b.getSystemDescription().getUser()));e.setWithSharedVersions(p.getBooleanByKeyExt(f.PlanningConstants.WITH_SHARED_VERSIONS,false));e.setPersistenceType(f.PlanningPersistenceType.lookupWithDefault(p.getStringByKeyExt(f.PlanningConstants.PERSISTENCE_TYPE,null),f.PlanningPersistenceType.DEFAULT));e.initializePlanningModel(s);}};f.PlanningService.prototype._setInitialized=function(p){if(this.m_initialized){throw f.XException.createInitializationException();}this.m_initialized=true;this.m_planningContext=p;this.setData(this);this.endSync();};f.PlanningService.prototype.processCommand=function(s,p,c,a){return p.processCommand(s,c,a);};f.PlanningService.prototype.releasePlanningContext=function(){this.m_initialized=false;this.m_planningContext=f.XObjectExt.release(this.m_planningContext);};f.PlanningService.prototype.getOlapEnv=function(){return this.getApplication().getOlapEnvironment();};f.PlanningService.prototype.toString=function(){var s=f.XStringBuffer.create();var p=this.getPlanningServiceConfig();if(f.notNull(p)){s.append(p.toString());}return s.toString();};f.PlanningService.prototype.supportsPlanningValueHelp=function(){var a=this.getActiveCapabilities();return a.containsKey(f.InACapabilities.C054_EXTENDED_SORT)&&a.containsKey(f.InACapabilities.C100_EXPAND_BOTTOM_UP);};f.PlanningPropertiesObject=function(){};f.PlanningPropertiesObject.prototype=new f.QModelComponent();f.PlanningPropertiesObject.prototype._ff_c="PlanningPropertiesObject";f.PlanningPropertiesObject.prototype.m_properties=null;f.PlanningPropertiesObject.prototype.getProperties=function(){if(f.isNull(this.m_properties)){this.m_properties=f.XHashMapByString.create();}return this.m_properties;};f.PlanningPropertiesObject.prototype.releaseObject=function(){this.m_properties=f.XObjectExt.release(this.m_properties);f.QModelComponent.prototype.releaseObject.call(this);};f.PlanningPropertiesObject.prototype.getPropertiesCopy=function(){var c=null;if(f.notNull(this.m_properties)){c=this.m_properties.createMapByStringCopy();}return c;};f.PlanningPropertiesObject.prototype.setProperties=function(p){this.m_properties=p;};f.PlanningPropertiesObject.prototype.getPropertyObject=function(p){return this.getProperties().getByKey(p);};f.PlanningPropertiesObject.prototype.setPropertyObject=function(p,a){if(f.isNull(a)){this.getProperties().remove(p);}else{this.getProperties().put(p,a);}};f.PlanningPropertiesObject.prototype.getPropertyString=function(p){var o=this.getPropertyObject(p);if(f.isNull(o)){return null;}return o.getString();};f.PlanningPropertiesObject.prototype.setPropertyString=function(p,a){var o=this.getPropertyObject(p);if(f.isNull(o)){o=f.XStringValue.create(a);this.getProperties().put(p,o);}else{o.setString(a);}};f.PlanningPropertiesObject.prototype.getPropertyBoolean=function(p){var o=this.getPropertyObject(p);if(f.isNull(o)){return false;}return o.getBoolean();};f.PlanningPropertiesObject.prototype.setPropertyBoolean=function(p,a){var o=this.getPropertyObject(p);if(f.isNull(o)){o=f.XBooleanValue.create(a);this.getProperties().put(p,o);}else{o.setBoolean(a);}};f.PlanningPropertiesObject.prototype.getPropertyInteger=function(p){var o=this.getPropertyObject(p);if(f.isNull(o)){return 0;}return o.getInteger();};f.PlanningPropertiesObject.prototype.setPropertyInteger=function(p,a){var o=this.getPropertyObject(p);if(f.isNull(o)){o=f.XIntegerValue.create(a);this.getProperties().put(p,o);}else{o.setInteger(a);}};f.PlanningServiceConfig=function(){};f.PlanningServiceConfig.prototype=new f.DfServiceConfigClassic();f.PlanningServiceConfig.prototype._ff_c="PlanningServiceConfig";f.PlanningServiceConfig.CLAZZ=null;f.PlanningServiceConfig.staticSetup=function(){f.PlanningServiceConfig.CLAZZ=f.XClass.create(f.PlanningServiceConfig);};f.PlanningServiceConfig.prototype.m_properties=null;f.PlanningServiceConfig.prototype.setupConfig=function(a){f.DfServiceConfigClassic.prototype.setupConfig.call(this,a);this.m_properties=f.XProperties.create();};f.PlanningServiceConfig.prototype.releaseObject=function(){this.m_properties=f.XObjectExt.release(this.m_properties);f.DfServiceConfigClassic.prototype.releaseObject.call(this);};f.PlanningServiceConfig.prototype.getProperties=function(){return this.m_properties;};f.PlanningServiceConfig.prototype.getDataSource=function(){var d=f.QFactory.createDataSource();var p=this.getProperties();if(p.containsKey(f.PlanningConstants.PLANNING_MODEL)){d.setType(f.MetaObjectType.PLANNING_MODEL);d.setObjectName(p.getStringByKey(f.PlanningConstants.PLANNING_MODEL));if(p.contains(f.PlanningConstants.PLANNING_SCHEMA)){d.setSchemaName(p.getByKey(f.PlanningConstants.PLANNING_SCHEMA));}}else{if(p.contains(f.PlanningConstants.MODEL)){d.setModelName(f.PlanningConstants.MODEL);}if(p.contains(f.PlanningConstants.ENVIRONMENT)){d.setEnvironmentName(f.PlanningConstants.ENVIRONMENT);}var a=null;if(p.contains(f.PlanningConstants.DATA_AREA)){a=p.getByKey(f.PlanningConstants.DATA_AREA);}if(f.XStringUtils.isNullOrEmpty(a)){a=f.PlanningConstants.DATA_AREA_DEFAULT;}d.setDataArea(a);}return d;};f.PlanningServiceConfig.prototype.setDataSourceName=function(d){this.setDataSource(f.QFactory.createDataSourceWithFqn(d));};f.PlanningServiceConfig.prototype.setDataSource=function(d){var p=this.getProperties();p.remove(f.PlanningConstants.PLANNING_MODEL);p.remove(f.PlanningConstants.PLANNING_SCHEMA);p.remove(f.PlanningConstants.MODEL);p.remove(f.PlanningConstants.ENVIRONMENT);p.remove(f.PlanningConstants.DATA_AREA);if(f.isNull(d)){return;}var t=d.getType();if(t===f.MetaObjectType.PLANNING_MODEL){this.setStringNotEmpty(p,f.PlanningConstants.PLANNING_SCHEMA,d.getSchemaName());this.setStringNotEmpty(p,f.PlanningConstants.PLANNING_MODEL,d.getObjectName());}else if(f.isNull(t)){this.setStringNotEmpty(p,f.PlanningConstants.MODEL,d.getModelName());this.setStringNotEmpty(p,f.PlanningConstants.ENVIRONMENT,d.getEnvironmentName());var a=d.getDataArea();if(f.XStringUtils.isNullOrEmpty(a)){a=f.PlanningConstants.DATA_AREA_DEFAULT;}p.putString(f.PlanningConstants.DATA_AREA,a);}};f.PlanningServiceConfig.prototype.setStringNotEmpty=function(p,n,v){if(f.XStringUtils.isNotNullAndNotEmpty(v)){p.putString(n,v);}};f.PlanningServiceConfig.prototype.getMatchingServiceForServiceName=function(s){var p=this.getProperties();var e=f.XList.create();if(this.getSystemType()===f.SystemType.BW){var d=p.getStringByKeyExt(f.PlanningConstants.DATA_AREA,"DEFAULT");e=f.DataAreaUtil.getPlanningServices(this.getApplication(),this.getSystemName(),d);}else if(this.getSystemType()===f.SystemType.HANA){var a=p.getStringByKey(f.PlanningConstants.PLANNING_SCHEMA);var b=p.getStringByKey(f.PlanningConstants.PLANNING_MODEL);e=f.PlanningModelUtil.getPlanningServices(this.getApplication(),this.getSystemName(),a,b);}var c=this.getConnectionContainer();var t=f.MessageManager.createMessageManagerExt(this.getSession());for(var i=0;i<e.size();i++){var g=e.get(i);if(g.isServiceConfigMatching(this,c,t)){return g;}}return f.DfServiceConfigClassic.prototype.getMatchingServiceForServiceName.call(this,s);};f.PlanningServiceConfig.prototype.toString=function(){if(this.hasErrors()){return this.getSummary();}var s=f.XStringBuffer.create();if(f.notNull(this.m_properties)){var c=this.m_properties.getKeysAsReadOnlyListOfString();for(var i=0;i<c.size();i++){var a=c.get(i);var b=this.m_properties.getByKey(a);s.append(a).append("=").appendLine(b);}}return s.toString();};f.PlanningCommandModelComponent=function(){};f.PlanningCommandModelComponent.prototype=new f.QModelComponent();f.PlanningCommandModelComponent.prototype._ff_c="PlanningCommandModelComponent";f.PlanningCommandModelComponent.create=function(c,p){var a=new f.PlanningCommandModelComponent();a.setupModelComponent(c,null);a.m_planningCommand=f.XWeakReferenceUtil.getWeakRef(p);return a;};f.PlanningCommandModelComponent.prototype.m_planningCommand=null;f.PlanningCommandModelComponent.prototype.getPlanningCommand=function(){return f.XWeakReferenceUtil.getHardRef(this.m_planningCommand);};f.PlanningCommandModelComponent.prototype.getOlapComponentType=function(){return f.OlapComponentType.PLANNING_COMMAND;};f.PlanningCommandModelComponent.prototype.getContext=function(){return this;};f.PlanningCommandModelComponent.prototype.getFieldAccessorSingle=function(){return this.getPlanningCommand();};f.PlanningCommand=function(){};f.PlanningCommand.prototype=new f.PlanningPropertiesObject();f.PlanningCommand.prototype._ff_c="PlanningCommand";f.PlanningCommand.PLANNING_SERVICE="PLANNING_SERVICE";f.PlanningCommand.COMMAND_TYPE="COMMAND_TYPE";f.PlanningCommand.PLANNING_COMMAND_JSON="PLANNING_COMMAND_JSON";f.PlanningCommand.INVALIDATE_RESULT_SET="INVALIDATE_RESULT_SET";f.PlanningCommand.prototype.m_synchronizationType=null;f.PlanningCommand.prototype.m_extPlanningCommandResult=null;f.PlanningCommand.prototype.m_analyticsCapabilities=null;f.PlanningCommand.prototype.setCommandType=function(c){this.setPropertyObject(f.PlanningCommand.COMMAND_TYPE,c);};f.PlanningCommand.prototype.getCommandType=function(){return this.getPropertyObject(f.PlanningCommand.COMMAND_TYPE);};f.PlanningCommand.prototype.getPlanningService=function(){return this.getPropertyObject(f.PlanningCommand.PLANNING_SERVICE);};f.PlanningCommand.prototype.setPlanningService=function(p){this.setPropertyObject(f.PlanningCommand.PLANNING_SERVICE,p);this.setupContext(p.getOlapEnv().getContext());};f.PlanningCommand.prototype.isInvalidatingResultSet=function(){var o=this.getPropertyObject(f.PlanningCommand.INVALIDATE_RESULT_SET);if(f.isNull(o)){return true;}return o.getBoolean();};f.PlanningCommand.prototype.setInvalidatingResultSet=function(i){this.setPropertyBoolean(f.PlanningCommand.INVALIDATE_RESULT_SET,i);return this;};f.PlanningCommand.prototype.serializeToJson=function(){var p=this.getPropertyObject(f.PlanningCommand.PLANNING_COMMAND_JSON);if(f.isNull(p)){p=this.createCommandStructure();this.setPropertyObject(f.PlanningCommand.PLANNING_COMMAND_JSON,p);}return p;};f.PlanningCommand.prototype.resetCommand=function(){this.setPropertyObject(f.PlanningCommand.PLANNING_COMMAND_JSON,null);};f.PlanningCommand.prototype.createCommandStructure=f.noSupport;f.PlanningCommand.prototype.createCommandResultInstance=f.noSupport;f.PlanningCommand.prototype.createCommandResult=function(c,a){var b=this.createCommandResultInstance();b.setCustomIdentifier(a);b.setPlanningCommand(this);b.setPlanningCommandCallback(c);return b;};f.PlanningCommand.prototype.onCommandProcessed=function(e){var c=e.getData().getPlanningCommandCallback();if(f.notNull(c)){c.onCommandProcessed(e);}};f.PlanningCommand.prototype.processCommand=function(s,c,a){var p=this.createCommandResult(c,a);this.m_synchronizationType=s;this.doProcessCommand(s,p);var r=null;if(s===f.SyncType.BLOCKING){r=this.m_extPlanningCommandResult;this.m_extPlanningCommandResult=null;}return r;};f.PlanningCommand.prototype.getCapabilities=function(){if(f.isNull(this.m_analyticsCapabilities)){var c=this.getConnection();var s;if(this.getSession().hasFeature(f.FeatureToggleOlap.SERVER_METADATA_VIA_SYSTEM_CONNECT)){s=c.getSystemConnect().getServerMetadata();}else{s=c.getServerMetadata();}this.m_analyticsCapabilities=s.getMetadataForService(f.ServerService.ANALYTIC);}return this.m_analyticsCapabilities;};f.PlanningCommand.prototype.getServicePath=function(){var c=this.getConnection();var s=c.getSystemDescription();var a=this.getCapabilities().getByKey(f.InACapabilities.C032_FAST_PATH);if(f.notNull(a)&&a.getValue()!==null){return a.getValue();}return s.getSystemType().getInAPath();};f.PlanningCommand.prototype.getConnection=function(){var p=this.getPlanningService();var c=p.getPlanningServiceConfig().getConnectionContainer();if(f.isNull(c)){var s=p.getServiceConfig().getSystemName();c=p.getApplication().getConnection(s);}return c;};f.PlanningCommand.prototype.doProcessCommand=function(s,p){var c=this.getConnection();var a=this.getServicePath();var o=c.newRpcFunction(a);var r=o.getRpcRequest();var b=this.serializeToJson();r.setRequestStructure(b);o.processFunctionExecution(s,this,p);};f.PlanningCommand.prototype.onFunctionExecuted=function(e,r,c){var p=c;var a;if(e.hasErrors()){a=f.ExtResult.create(p,e);}else{var b=r.getRootElement();var d=f.PrFactory.createStructureDeepCopy(b);var m=f.MessageManager.createMessageManagerExt(this.getSession());this.updatePlanningContext(d,m);p.processResponseStructrue(d,m);a=f.ExtResult.create(p,m);}this.onCommandExecuted(a);};f.PlanningCommand.prototype.updatePlanningContext=function(r,m){if(f.isNull(r)){return;}var p=this.getPlanningService();if(f.isNull(p)){return;}var a=p.getApplication();if(f.isNull(a)){return;}var s=p.getServiceConfig();if(f.isNull(s)){return;}var b=s.getSystemName();f.PlanningState.update(a,b,r,m);};f.PlanningCommand.prototype.onCommandExecuted=function(e){if(this.m_synchronizationType===f.SyncType.BLOCKING){this.m_extPlanningCommandResult=e;}var c=e.getData().getPlanningCommandCallback();if(f.notNull(c)){c.onCommandProcessed(e);}};f.PlanningCommandResult=function(){};f.PlanningCommandResult.prototype=new f.PlanningPropertiesObject();f.PlanningCommandResult.prototype._ff_c="PlanningCommandResult";f.PlanningCommandResult.PLANNING_COMMAND="PLANNING_COMMAND";f.PlanningCommandResult.CUSTOM_IDENTIFIER="CUSTOM_IDENTIFIER";f.PlanningCommandResult.PLANNING_COMMAND_CALLBACK="PLANNING_COMMAND_CALLBACK";f.PlanningCommandResult.prototype.getPlanningCommand=function(){return this.getPropertyObject(f.PlanningCommandResult.PLANNING_COMMAND);};f.PlanningCommandResult.prototype.setPlanningCommand=function(p){this.setPropertyObject(f.PlanningCommandResult.PLANNING_COMMAND,p);};f.PlanningCommandResult.prototype.getCustomIdentifier=function(){return this.getPropertyObject(f.PlanningCommandResult.CUSTOM_IDENTIFIER);};f.PlanningCommandResult.prototype.setCustomIdentifier=function(c){this.setPropertyObject(f.PlanningCommandResult.CUSTOM_IDENTIFIER,c);};f.PlanningCommandResult.prototype.getPlanningCommandCallback=function(){return this.getPropertyObject(f.PlanningCommandResult.PLANNING_COMMAND_CALLBACK);};f.PlanningCommandResult.prototype.setPlanningCommandCallback=function(p){this.setPropertyObject(f.PlanningCommandResult.PLANNING_COMMAND_CALLBACK,p);};f.PlanningCommandResult.prototype.cloneOlapComponent=function(c,p){var a=this.getPlanningCommand();var b=a.createCommandResultInstance();b.setProperties(this.getPropertiesCopy());return b;};f.PlanningCommandResult.prototype.processResponseStructrue=function(r,m){this.initResponseStructureCommand(r,m);if(this.isValidResponseStructure(r,m)){this.processResponseStructureCommand(r,m,m.hasErrors());}this.getPlanningCommand().resetCommand();this.checkErrorState();};f.PlanningCommandResult.prototype.initResponseStructureCommand=function(r,m){};f.PlanningCommandResult.prototype.processResponseStructureCommand=function(r,m,h){};f.PlanningCommandResult.prototype.checkErrorState=function(){};f.PlanningCommandResult.prototype.onCommandProcessed=f.noSupport;f.PlanningCommandResult.prototype.isValidResponseStructure=function(r,m){if(f.isNull(r)){return false;}if(f.isNull(m)){return false;}f.InAHelper.importMessages(r,m);return true;};f.PlanningCommandIdentifier=function(){};f.PlanningCommandIdentifier.prototype=new f.PlanningPropertiesObject();f.PlanningCommandIdentifier.prototype._ff_c="PlanningCommandIdentifier";f.PlanningCommandIdentifier.PLANNING_COMMAND_TYPE="PLANNING_COMMAND_TYPE";f.PlanningCommandIdentifier.COMMAND_ID="COMMAND_ID";f.PlanningCommandIdentifier.prototype.getPlanningCommandType=function(){return this.getPropertyObject(f.PlanningCommandIdentifier.PLANNING_COMMAND_TYPE);};f.PlanningCommandIdentifier.prototype.setPlanningCommandType=function(p){this.setPropertyObject(f.PlanningCommandIdentifier.PLANNING_COMMAND_TYPE,p);};f.PlanningCommandIdentifier.prototype.getCommandId=function(){return this.getPropertyString(f.PlanningCommandIdentifier.COMMAND_ID);};f.PlanningCommandIdentifier.prototype.setCommandId=function(c){this.setPropertyString(f.PlanningCommandIdentifier.COMMAND_ID,c);};f.PlanningContextCommand=function(){};f.PlanningContextCommand.prototype=new f.PlanningCommand();f.PlanningContextCommand.prototype._ff_c="PlanningContextCommand";f.PlanningContextCommand.PLANNING_CONTEXT="PLANNING_CONTEXT";f.PlanningContextCommand.PLANNING_CONTEXT_COMMAND_TYPE="PLANNING_CONTEXT_COMMAND_TYPE";f.PlanningContextCommand.prototype.getPlanningContext=function(){return this.getPropertyObject(f.PlanningContextCommand.PLANNING_CONTEXT);};f.PlanningContextCommand.prototype.setPlanningContext=function(p){this.setPropertyObject(f.PlanningContextCommand.PLANNING_CONTEXT,p);};f.PlanningContextCommand.prototype.getPlanningContextCommandType=function(){return this.getPropertyObject(f.PlanningContextCommand.PLANNING_CONTEXT_COMMAND_TYPE);};f.PlanningContextCommand.prototype.setPlanningContextCommandType=function(p){this.setPropertyObject(f.PlanningContextCommand.PLANNING_CONTEXT_COMMAND_TYPE,p);};f.PlanningContextCommandResult=function(){};f.PlanningContextCommandResult.prototype=new f.PlanningCommandResult();f.PlanningContextCommandResult.prototype._ff_c="PlanningContextCommandResult";f.PlanningContextCommandResult.prototype.getPlanningContextCommand=function(){return this.getPlanningCommand();};f.PlanningContextCommandResult.prototype.initResponseStructureCommand=function(r,m){var c=this.getPlanningContextCommand();if(c.isInvalidatingResultSet()){c.getPlanningContext().invalidate();}};f.PlanningCommandWithId=function(){};f.PlanningCommandWithId.prototype=new f.PlanningCommand();f.PlanningCommandWithId.prototype._ff_c="PlanningCommandWithId";f.PlanningCommandWithId.PLANNING_CONTEXT="PLANNING_CONTEXT";f.PlanningCommandWithId.COMMAND_IDENTIFIER="COMMAND_IDENTIFIER";f.PlanningCommandWithId.SELECTOR="SELECTOR";f.PlanningCommandWithId.VARIABLES="VARIABLES";f.PlanningCommandWithId.VARIABLE_PROCESSOR="VARIABLE_PROCESSOR";f.PlanningCommandWithId.VARIABLE_PROCESSOR_PROVIDER="VARIABLE_PROCESSOR_PROVIDER";f.PlanningCommandWithId.VARIABLE_HELP_PROVIDER="VARIABLE_HELP_PROVIDER";f.PlanningCommandWithId.s_variableHelpProviderFactory=null;f.PlanningCommandWithId.prototype.getPlanningContext=function(){return this.getPropertyObject(f.PlanningCommandWithId.PLANNING_CONTEXT);};f.PlanningCommandWithId.prototype.releaseObject=function(){var v=this.getVariableProcessorProvider();if(f.notNull(v)){f.XObjectExt.release(v);}f.PlanningCommand.prototype.releaseObject.call(this);};f.PlanningCommandWithId.prototype.setPlanningContext=function(p){this.setPropertyObject(f.PlanningCommandWithId.PLANNING_CONTEXT,p);};f.PlanningCommandWithId.prototype.getCommandIdentifier=function(){return this.getPropertyObject(f.PlanningCommandWithId.COMMAND_IDENTIFIER);};f.PlanningCommandWithId.prototype.setCommandIdentifier=function(c){this.setPropertyObject(f.PlanningCommandWithId.COMMAND_IDENTIFIER,c);};f.PlanningCommandWithId.prototype.getSelector=function(){return this.getPropertyObject(f.PlanningCommandWithId.SELECTOR);};f.PlanningCommandWithId.prototype.setSelector=function(s){this.setPropertyObject(f.PlanningCommandWithId.SELECTOR,s);};f.PlanningCommandWithId.prototype.getDimensionAccessor=function(){var s=this.getSelector();if(f.isNull(s)){return null;}return s.getSelectableDimensions();};f.PlanningCommandWithId.prototype.getListOfVariables=function(){return this.getPropertyObject(f.PlanningCommandWithId.VARIABLES);};f.PlanningCommandWithId.prototype.setListOfVariables=function(v){this.setPropertyObject(f.PlanningCommandWithId.VARIABLES,v);};f.PlanningCommandWithId.prototype.hasVariables=function(){return f.XCollectionUtils.hasElements(this.getListOfVariables());};f.PlanningCommandWithId.prototype.hasInputEnabledVariables=function(){return f.QVariableUtils.hasInputEnabledVariables(this.getListOfVariables());};f.PlanningCommandWithId.prototype.clearExternalVariablesRepresentations=function(){this.queueEventing();f.QVariableUtils.clearExternalVariablesRepresentations(this.getListOfVariables());this.resumeEventing();};f.PlanningCommandWithId.prototype.hasMandatoryVariables=function(){return f.QVariableUtils.hasMandatoryVariables(this.getListOfVariables());};f.PlanningCommandWithId.prototype.getVariables=function(){var v=this.getListOfVariables();if(f.isNull(v)){v=f.XListOfNameObject.create();this.setListOfVariables(v);}return v;};f.PlanningCommandWithId.prototype.getInputEnabledVariables=function(){return f.QVariableUtils.getInputEnabledVariables(this.getListOfVariables());};f.PlanningCommandWithId.prototype.getInputEnabledAndNonTechnicalVariables=function(){return f.QVariableUtils.getInputEnabledAndNonTechnicalVariables(this.getListOfVariables());};f.PlanningCommandWithId.prototype.getInputEnabledVariable=function(n){return f.QVariableUtils.getInputEnabledVariable(this.getListOfVariables(),n);};f.PlanningCommandWithId.prototype.getHierarchyNodeVariable=function(n){return f.QVariableUtils.getVariableByType(this.getListOfVariables(),n,f.VariableType.HIERARCHY_NODE_VARIABLE);};f.PlanningCommandWithId.prototype.getHierarchyNameVariable=function(n){return f.QVariableUtils.getVariableByType(this.getListOfVariables(),n,f.VariableType.HIERARCHY_NAME_VARIABLE);};f.PlanningCommandWithId.prototype.getHierarchyNameVariables=function(){return f.QVariableUtils.getHierarchyNameVariables(this.getListOfVariables());};f.PlanningCommandWithId.prototype.getDimensionMemberVariables=function(){return f.QVariableUtils.getDimensionMemberVariables(this.getListOfVariables());};f.PlanningCommandWithId.prototype.addVariable=function(v){var a=this.getVariables();if(!a.containsKey(v.getName())){a.add(v);}};f.PlanningCommandWithId.prototype.clearVariables=function(){var v=this.getVariables();v.clear();};f.PlanningCommandWithId.prototype.removeVariable=function(n){var v=this.getVariables();var a=v.getByKey(n);v.removeElement(a);};f.PlanningCommandWithId.prototype.getVariableBaseAt=function(i){var v=this.getVariables();return v.get(i);};f.PlanningCommandWithId.prototype.getVariableBaseByName=function(n){var v=this.getVariables();return v.getByKey(n);};f.PlanningCommandWithId.prototype.getModelComponentBase=function(){return null;};f.PlanningCommandWithId.prototype.getSystemDescription=function(){return this.getPlanningService().getServiceConfig().getSystemDescription();};f.PlanningCommandWithId.prototype.getSystemName=function(){return this.getSystemDescription().getSystemName();};f.PlanningCommandWithId.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType();};f.PlanningCommandWithId.prototype.setVariableProcessorBase=function(p){this.setPropertyObject(f.PlanningCommandWithId.VARIABLE_PROCESSOR,p);};f.PlanningCommandWithId.prototype.getVariableProcessor=function(){return this.getPropertyObject(f.PlanningCommandWithId.VARIABLE_PROCESSOR);};f.PlanningCommandWithId.prototype.getVariableHelpProvider=function(){return this.getPropertyObject(f.PlanningCommandWithId.VARIABLE_HELP_PROVIDER);};f.PlanningCommandWithId.prototype.getVariableProcessorProvider=function(){return this.getPropertyObject(f.PlanningCommandWithId.VARIABLE_PROCESSOR_PROVIDER);};f.PlanningCommandWithId.prototype.setVariableHelpProvider=function(p){this.setPropertyObject(f.PlanningCommandWithId.VARIABLE_HELP_PROVIDER,p);};f.PlanningCommandWithId.prototype.setVariableProcessorProvider=function(p){this.setPropertyObject(f.PlanningCommandWithId.VARIABLE_PROCESSOR_PROVIDER,p);};f.PlanningCommandWithId.prototype.fillVariableRequestorDataRequestContext=f.noSupport;f.PlanningCommandWithId.prototype.getFieldByName=function(n){var d=this.getDimensionAccessor();for(var i=0;i<d.size();i++){var a=d.get(i).getFieldByName(n);if(f.notNull(a)){return a;}}return null;};f.PlanningCommandWithId.prototype.getFieldByNameOrAlias=function(n){var d=this.getDimensionAccessor();for(var i=0;i<d.size();i++){var a=d.get(i).getFieldByNameOrAlias(n);if(f.notNull(a)){return a;}}return null;};f.PlanningCommandWithId.prototype.getVariableMode=function(){return null;};f.PlanningCommandWithId.prototype.getCommandForExport=function(){return this.createCommandStructure();};f.PlanningCommandWithIdResult=function(){};f.PlanningCommandWithIdResult.prototype=new f.PlanningCommandResult();f.PlanningCommandWithIdResult.prototype._ff_c="PlanningCommandWithIdResult";f.PlanningCommandWithIdResult.prototype.getPlanningCommandWithId=function(){return this.getPlanningCommand();};f.PlanningCommandWithIdResult.prototype.initResponseStructureCommand=function(r,m){var c=this.getPlanningCommandWithId();if(c.isInvalidatingResultSet()){c.getPlanningContext().invalidate();}};f.PlanningRequest=function(){};f.PlanningRequest.prototype=new f.PlanningCommand();f.PlanningRequest.prototype._ff_c="PlanningRequest";f.PlanningRequest.PLANNING_CONTEXT="PLANNING_CONTEXT";f.PlanningRequest.prototype.getPlanningContext=function(){return this.getPropertyObject(f.PlanningRequest.PLANNING_CONTEXT);};f.PlanningRequest.prototype.setPlanningContext=function(p){this.setPropertyObject(f.PlanningRequest.PLANNING_CONTEXT,p);};f.PlanningResponse=function(){};f.PlanningResponse.prototype=new f.PlanningCommandResult();f.PlanningResponse.prototype._ff_c="PlanningResponse";f.PlanningResponse.prototype.getPlanningRequest=function(){return this.getPlanningCommand();};f.PlanningOperationIdentifier=function(){};f.PlanningOperationIdentifier.prototype=new f.PlanningCommandIdentifier();f.PlanningOperationIdentifier.prototype._ff_c="PlanningOperationIdentifier";f.PlanningOperationIdentifier.PLANNING_OPERATION_TYPE="PLANNING_OPERATION_TYPE";f.PlanningOperationIdentifier.prototype.getPlanningOperationName=function(){return this.getCommandId();};f.PlanningOperationIdentifier.prototype.getPlanningOperationType=function(){return this.getPropertyObject(f.PlanningOperationIdentifier.PLANNING_OPERATION_TYPE);};f.PlanningOperationIdentifier.prototype.setPlanningOperationType=function(p){this.setPropertyObject(f.PlanningOperationIdentifier.PLANNING_OPERATION_TYPE,p);};f.PlanningOperationIdentifier.prototype.getDataSource=function(){var p=this.getPlanningOperationType();if(p===f.PlanningOperationType.PLANNING_FUNCTION){return f.QFactory.createDataSourceWithType(f.MetaObjectType.PLANNING_FUNCTION,this.getPlanningOperationName());}else if(p===f.PlanningOperationType.PLANNING_SEQUENCE){return f.QFactory.createDataSourceWithType(f.MetaObjectType.PLANNING_SEQUENCE,this.getPlanningOperationName());}else{return null;}};f.PlanningActionIdentifierBase=function(){};f.PlanningActionIdentifierBase.prototype=new f.PlanningCommandIdentifier();f.PlanningActionIdentifierBase.prototype._ff_c="PlanningActionIdentifierBase";f.PlanningActionIdentifierBase.ACTION_METADATA="ACTION_METADATA";f.PlanningActionIdentifierBase.prototype.setActionMetadata=function(a){this.setPropertyObject(f.PlanningActionIdentifierBase.ACTION_METADATA,a);};f.PlanningActionIdentifierBase.prototype.getActionMetadata=function(){return this.getPropertyObject(f.PlanningActionIdentifierBase.ACTION_METADATA);};f.PlanningActionIdentifierBase.prototype.getActionId=function(){return this.getActionMetadata().getActionId();};f.PlanningActionIdentifierBase.prototype.getActionName=function(){return this.getActionMetadata().getActionName();};f.PlanningActionIdentifierBase.prototype.getActionDescription=function(){return this.getActionMetadata().getActionDescription();};f.PlanningActionIdentifierBase.prototype.getActionType=function(){return this.getActionMetadata().getActionType();};f.PlanningActionIdentifierBase.prototype.isDefault=function(){return this.getActionMetadata().isDefault();};f.PlanningActionIdentifierBase.prototype.getActionParameterMetadata=function(){return this.getActionMetadata().getActionParameterMetadata();};f.PlanningActionIdentifierBase.prototype.setActionParameterMetadata=function(a){this.getActionMetadata().setActionParameterMetadata(a);};f.PlanningActionIdentifierBase.prototype.setActionParameterNames=function(p){this.getActionMetadata().setActionParameterNames(p);};f.PlanningActionIdentifierBase.prototype.getActionParameterNames=function(){return this.getActionMetadata().getActionParameterNames();};f.DataAreaCommand=function(){};f.DataAreaCommand.prototype=new f.PlanningContextCommand();f.DataAreaCommand.prototype._ff_c="DataAreaCommand";f.DataAreaCommand.prototype.getDataArea=function(){return this.getPlanningContext();};f.DataAreaCommand.prototype.serializeDataAreaCommandToStructure=function(){var p=this.getPlanningContextCommandType();var o=p.toString();if(p===f.PlanningContextCommandType.PUBLISH){o="SAVE";}var a=this.getDataArea();var d=a.getDataArea();if(f.isNull(d)){d="DEFAULT";}var c=f.PrFactory.createStructure();var b=c.putNewStructure("DataSource");b.putString("ObjectName",o);b.putString("Type","DataAreaCommand");b.putString("DataArea",d);return c;};f.DataAreaCommand.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var d=f.DataAreaState.getDataAreaState(this.getDataArea());if(!d.isSubmitted()){var a=d.serializeToJson();if(f.notNull(a)){r.putNewList("DataAreas").add(a);}}var p=r.putNewStructure("Planning");this.getPlanningService().getInaCapabilities().exportActiveCapabilities(p);var c=p.putNewList("Commands");c.add(this.serializeDataAreaCommandToStructure());return r;};f.DataAreaCommand.prototype.createCommandResultInstance=function(){return new f.DataAreaCommandResult();};f.DataAreaCommandResult=function(){};f.DataAreaCommandResult.prototype=new f.PlanningContextCommandResult();f.DataAreaCommandResult.prototype._ff_c="DataAreaCommandResult";f.DataAreaCommandResult.EXECUTED="EXECUTED";f.DataAreaCommandResult.prototype.getDataAreaCommand=function(){return this.getPlanningCommand();};f.DataAreaCommandResult.prototype.isExecuted=function(){return this.getPropertyBoolean(f.DataAreaCommandResult.EXECUTED);};f.DataAreaCommandResult.prototype.setExecuted=function(e){this.setPropertyBoolean(f.DataAreaCommandResult.EXECUTED,e);};f.DataAreaCommandResult.prototype.processResponseStructureCommand=function(r,m,h){if(h){return;}var c=f.PrUtils.getListProperty(r,"CommandResults");if(f.isNull(c)||c.size()!==1){return;}var a=f.PrUtils.getStructureElement(c,0);var e=f.PrUtils.getBooleanProperty(a,"Executed").getBoolean();this.setExecuted(e);};f.PlanningFunctionIdentifier=function(){};f.PlanningFunctionIdentifier.prototype=new f.PlanningOperationIdentifier();f.PlanningFunctionIdentifier.prototype._ff_c="PlanningFunctionIdentifier";f.PlanningFunctionIdentifier.prototype.getPlanningFunctionName=function(){return this.getPlanningOperationName();};f.PlanningOperation=function(){};f.PlanningOperation.prototype=new f.PlanningCommandWithId();f.PlanningOperation.prototype._ff_c="PlanningOperation";f.PlanningOperation.PLANNING_OPERATION_METADATA="PLANNING_OPERATION_METADATA";f.PlanningOperation.DIMENSIONS="DIMENSIONS";f.PlanningOperation.prototype.getDataArea=function(){return this.getPlanningContext();};f.PlanningOperation.prototype.getPlanningOperationIdentifier=function(){return this.getCommandIdentifier();};f.PlanningOperation.prototype.getPlanningOperationMetadata=function(){return this.getPropertyObject(f.PlanningOperation.PLANNING_OPERATION_METADATA);};f.PlanningOperation.prototype.setPlanningOperationMetadata=function(p){this.setPropertyObject(f.PlanningOperation.PLANNING_OPERATION_METADATA,p);};f.PlanningOperation.prototype.initializePlanningOperation=function(){var m=this.getPlanningOperationMetadata();this.initializeSelector(m.getDimensions());this.initializeVariables(m.getVariables());};f.PlanningOperation.prototype.m_planningCommandModelComponent=null;f.PlanningOperation.prototype.getPlanningCommandModelComponent=function(){if(f.isNull(this.m_planningCommandModelComponent)){this.m_planningCommandModelComponent=f.PlanningCommandModelComponent.create(this.getContext(),this);}return this.m_planningCommandModelComponent;};f.PlanningOperation.prototype.initializeSelector=function(d){if(f.isNull(d)){return;}var a=f.QDimensionList.createDimensionList(this,null,null);this.setPropertyObject(f.PlanningOperation.DIMENSIONS,a);var c=this.getOlapEnv().getSystemContainer(this.getSystemName()).getServiceCapabilitiesExt(f.ProviderType.PLANNING_VALUE_HELP);var b=f.QInAImportFactory.createForMetadata(this.getApplication(),c);for(var i=0;i<d.size();i++){var e=f.PrUtils.getStructureElement(d,i);var g=b.importDimension(e,this);a.add(g);}var m=this.getPlanningCommandModelComponent();var s=f.QFilter.createWithModelComponent(this,m);this.setSelector(s);};f.PlanningOperation.prototype.initializeVariables=function(i){this.clearVariables();this.setVariableProcessorProvider(null);this.setVariableHelpProvider(null);if(!f.PrUtils.isListEmpty(i)){var v=f.PlanningCommandWithId.s_variableHelpProviderFactory.createVariableHelpProvider(this);var p=f.PlanningCommandWithId.s_variableHelpProviderFactory.createProcessorProvider(this.getDataSource(),this,this);p.importVariables(i,this);this.setVariableHelpProvider(v);this.setVariableProcessorProvider(p);}};f.PlanningOperation.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();this.fillRequest(r,false);return r;};f.PlanningOperation.prototype.fillRequest=function(r,w){var d=f.DataAreaState.getDataAreaState(this.getDataArea());if(!d.isSubmitted()){var a=d.serializeToJson();if(f.notNull(a)){r.putNewList("DataAreas").add(a);}}var b=this.getDataArea();var p=r.putNewStructure("Planning");this.getPlanningService().getInaCapabilities().exportActiveCapabilities(p);var c=p.putNewStructure("Command");var e=c.putNewStructure("DataSource");var g=b.getDataArea();if(f.isNull(g)){g="DEFAULT";}e.putString("DataArea",g);var m=this.getPlanningOperationMetadata();var i=m.getPlanningOperationIdentifier();e.putString("ObjectName",i.getPlanningOperationName());e.putString("Type",this.getPlanningType());e.putString("InstanceId",m.getInstanceId());var s=this.getSelectionJson();if(f.notNull(s)){c.put("Filter",s);}if(w){var h=this.getVariableProcessorProvider();h.exportVariables(this,c);}};f.PlanningOperation.prototype.getDataSource=function(){var p=this.getPlanningOperationMetadata().getPlanningOperationIdentifier();var d=f.QFactory.createDataSource();d.setObjectName(p.getPlanningOperationName());d.setSystemName(this.getPlanningService().getConnection().getSystemDescription().getSystemName());if(p.getPlanningOperationType()===f.PlanningOperationType.PLANNING_SEQUENCE){d.setType(f.MetaObjectType.PLANNING_SEQUENCE);}else if(p.getPlanningOperationType()===f.PlanningOperationType.PLANNING_FUNCTION){d.setType(f.MetaObjectType.PLANNING_FUNCTION);}return d;};f.PlanningOperation.prototype.getPlanningType=f.noSupport;f.PlanningOperation.prototype.getSelectionJson=function(){return null;};f.PlanningOperation.prototype.fillVariableRequestorDataRequestContext=function(s,w,p){this.fillRequest(s,w);var i=s.getStructureByKey("Planning");if(f.notNull(p)){var a=i.putNewStructure("ProcessingDirectives");a.putString("ProcessingStep",p);}return i.getStructureByKey("Command");};f.PlanningOperation.prototype.getVariable=function(n){return this.getVariableBaseByName(n);};f.PlanningOperation.prototype.getDimensionAccessor=function(){return this.getPropertyObject(f.PlanningOperation.DIMENSIONS);};f.PlanningOperation.prototype.getContext=function(){return this;};f.PlanningOperation.prototype.getVariableContainerBase=function(){return this;};f.PlanningOperation.prototype.getVariableContainer=function(){return this;};f.PlanningOperation.prototype.getFieldAccessorSingle=function(){return this;};f.PlanningOperation.prototype.setWinControlInAutoSubmitByType=function(v,i,a){return;};f.PlanningOperationResult=function(){};f.PlanningOperationResult.prototype=new f.PlanningCommandWithIdResult();f.PlanningOperationResult.prototype._ff_c="PlanningOperationResult";f.PlanningOperationResult.prototype.getPlanningOperation=function(){return this.getPlanningCommand();};f.PlanningSequenceIdentifier=function(){};f.PlanningSequenceIdentifier.prototype=new f.PlanningOperationIdentifier();f.PlanningSequenceIdentifier.prototype._ff_c="PlanningSequenceIdentifier";f.PlanningSequenceIdentifier.prototype.getPlanningSequenceName=function(){return this.getPlanningOperationName();};f.DataAreaRequest=function(){};f.DataAreaRequest.prototype=new f.PlanningRequest();f.DataAreaRequest.prototype._ff_c="DataAreaRequest";f.DataAreaRequest.REQUEST_TYPE="REQUEST_TYPE";f.DataAreaRequest.prototype.getDataArea=function(){return this.getPlanningContext();};f.DataAreaRequest.prototype.getRequestType=function(){return this.getPropertyObject(f.DataAreaRequest.REQUEST_TYPE);};f.DataAreaRequest.prototype.setRequestType=function(r){this.setPropertyObject(f.DataAreaRequest.REQUEST_TYPE,r);};f.DataAreaResponse=function(){};f.DataAreaResponse.prototype=new f.PlanningResponse();f.DataAreaResponse.prototype._ff_c="DataAreaResponse";f.DataAreaResponse.prototype.getDataAreaRequest=function(){return this.getPlanningRequest();};f.DataAreaResponse.prototype.processResponseStructureCommand=function(r,m,h){if(h){return;}if(!this.processResponseStructureInternal(r,m)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.PARSER_ERROR,"error in processing response structure",r);}};f.DataAreaResponse.prototype.processResponseStructureInternal=f.noSupport;f.PlanningModelCommand=function(){};f.PlanningModelCommand.prototype=new f.PlanningContextCommand();f.PlanningModelCommand.prototype._ff_c="PlanningModelCommand";f.PlanningModelCommand.prototype.getPlanningModel=function(){return this.getPlanningContext();};f.PlanningModelCommand.prototype.createCommandStructure=function(){var m=this.getPlanningModel();var r=f.PrFactory.createStructure();var c=f.PlanningModelCommandHelper.createCommandsList(r);this.fillCommandList(c,this.getPlanningContextCommandType());c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_versions"));return r;};f.PlanningModelCommand.prototype.fillCommandList=function(c,a){if(a===f.PlanningContextCommandType.RESET){this.addCommandPerActiveVersionToList(c,"close");this.addCommandPerActiveVersionToList(c,"init");return;}if(a===f.PlanningContextCommandType.SAVE){this.addCommandPerActiveVersionToList(c,"save");return;}if(a===f.PlanningContextCommandType.BACKUP){this.addCommandPerActiveVersionToList(c,"backup");return;}if(a===f.PlanningContextCommandType.CLOSE){this.addCommandPerActiveVersionToList(c,"close");return;}if(a===f.PlanningContextCommandType.REFRESH||a===f.PlanningContextCommandType.HARD_DELETE){if(a===f.PlanningContextCommandType.HARD_DELETE){c.add(f.PlanningModelCommandHelper.createModelCommand(this.getPlanningModel(),"delete_all_versions"));}this.addRefreshCommandsToList(c);return;}throw f.XException.createIllegalStateException("illegal command type");};f.PlanningModelCommand.prototype.addCommandPerActiveVersionToList=function(c,a){var v=this.getPlanningModel().getActiveVersions();for(var i=0;i<v.size();i++){var b=v.get(i);var d=f.PlanningModelCommandHelper.createVersionCommand(b,a);this.addParametersToJson(d);c.add(d);}};f.PlanningModelCommand.prototype.addRefreshCommandsToList=function(c){var m=this.getPlanningModel();if(!m.isModelInitialized()){c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_query_sources"));c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_actions"));if(m.supportsVersionParameters()){c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_parameters"));}c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_action_parameters"));}};f.PlanningModelCommand.prototype.createCommandResultInstance=function(){return new f.PlanningModelCommandResult();};f.PlanningModelCommand.prototype.addParametersToJson=function(p){};f.PlanningModelCommandResult=function(){};f.PlanningModelCommandResult.prototype=new f.PlanningContextCommandResult();f.PlanningModelCommandResult.prototype._ff_c="PlanningModelCommandResult";f.PlanningModelCommandResult.RETURN_CODE="RETURN_CODE";f.PlanningModelCommandResult.prototype.getPlanningModelCommand=function(){return this.getPlanningCommand();};f.PlanningModelCommandResult.prototype.getReturnCode=function(){return this.getPropertyInteger(f.PlanningModelCommandResult.RETURN_CODE);};f.PlanningModelCommandResult.prototype.setReturnCode=function(r){this.setPropertyInteger(f.PlanningModelCommandResult.RETURN_CODE,r);};f.PlanningModelCommandResult.prototype.processResponseStructureCommand=function(r,m,h){var a=f.PlanningModelCommandHelper.getResponsesReturnCodeStrict(r,m,9999,true);this.setReturnCode(a);if(h||a!==0){return;}if(!this.processResponseStructureInternal(r)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.PARSER_ERROR,"error in processing response structure",r);}};f.PlanningModelCommandResult.prototype.processResponseStructureInternal=function(r){var c=this.getPlanningModelCommand();var a=f.PlanningModelCommandHelper.getCommandsList(c.serializeToJson());if(f.isNull(a)){return false;}var b=f.PlanningModelCommandHelper.getResponsesList(r);if(f.isNull(b)){return false;}var d=this.getPlanningModelCommand().getPlanningContextCommandType();if(d!==f.PlanningContextCommandType.REFRESH&&d!==f.PlanningContextCommandType.RESET&&d!==f.PlanningContextCommandType.SAVE&&d!==f.PlanningContextCommandType.BACKUP&&d!==f.PlanningContextCommandType.CLOSE&&d!==f.PlanningContextCommandType.HARD_DELETE){throw f.XException.createIllegalStateException("illegal command type");}var m=c.getPlanningModel();if(d===f.PlanningContextCommandType.REFRESH||d===f.PlanningContextCommandType.HARD_DELETE){if(!this.refreshResponseStructrue(a,b,m)){if(!m.isModelInitialized()){return false;}}else{m.setModelInitialized();}}if(!f.PlanningModelCommandHelper.processResponseGetVersions(a,b,m)){return false;}if(d===f.PlanningContextCommandType.HARD_DELETE){var v=m.getVersions();return v.size()<=0;}return true;};f.PlanningModelCommandResult.prototype.refreshResponseStructrue=function(c,r,m){if(!f.PlanningModelCommandHelper.processResponseGetQuerySources(c,r,m)){return false;}if(!f.PlanningModelCommandHelper.processResponseGetActions(c,r,m)){return false;}if(!f.PlanningModelCommandHelper.processResponseGetParametersForModelTemplate(c,r,m)){return false;}return f.PlanningModelCommandHelper.processResponseGetActionParameters(c,r,m);};f.PlanningModelCommandResult.prototype.checkErrorState=function(){if(this.getReturnCode()===3042){var p=this.getPlanningModelCommand().getPlanningModel();p.resetPlanningModel();}};f.PlanningAction=function(){};f.PlanningAction.prototype=new f.PlanningCommandWithId();f.PlanningAction.prototype._ff_c="PlanningAction";f.PlanningAction.PARAMETER_METADATA="PARAMETER_METADATA";f.PlanningAction.ACTION_PARAMETERS="ACTION_PARAMETERS";f.PlanningAction.ACTION_GROUP="ACTION_GROUP";f.PlanningAction.TARGET_VERSION_ID="TARGET_VERSION_ID";f.PlanningAction.SEQUENCE_ID="SEQUENCE_ID";f.PlanningAction.DESCRIPTION="DESCRIPTION";f.PlanningAction.TARGET_CELL_ROW="TARGET_CELL_ROW";f.PlanningAction.TARGET_CELL_COLUMN="TARGET_CELL_COLUMN";f.PlanningAction.TARGET_CELL_RS="TARGET_CELL_RS";f.PlanningAction.prototype.getPlanningModel=function(){return this.getPlanningContext();};f.PlanningAction.prototype.getActionIdentifier=function(){return this.getCommandIdentifier();};f.PlanningAction.prototype.getActionForQueryIdentifier=function(){return this.getCommandIdentifier();};f.PlanningAction.prototype.getActionParameterMetadata=function(){return this.getPropertyObject(f.PlanningAction.PARAMETER_METADATA);};f.PlanningAction.prototype.setActionParameterMetadata=function(p){this.setPropertyObject(f.PlanningAction.PARAMETER_METADATA,p);if(f.notNull(p)&&!f.PrUtils.isListEmpty(p.getParameters())){this.initializeVariables(p.getParameters());}};f.PlanningAction.prototype.initializeVariables=function(v){var a=f.PrFactory.createList();for(var i=0;i<v.size();i++){var b=f.PrUtils.getStructureElement(v,i);if(f.isNull(b)){continue;}var p=b.getStringByKeyExt("optionOccurrence",null);if(f.notNull(p)){var c=a.addNewStructure();c.putString("Name",b.getStringByKey("name"));c.putString("Description",b.getStringByKey("description"));c.putString("VariableType","OptionListVariable");c.putString("Type","String");c.putString("InputType","Optional");c.putNewList("DependentOfVariable");if(f.XString.isEqual(p,"exactly-one")){c.putBoolean("MultipleValues",false);}else{c.putBoolean("MultipleValues",true);}c.putBoolean("InputEnabled",true);var d=b.getListByKey("options");var e=c.putNewList("Options");if(!f.PrUtils.isListEmpty(d)){for(var j=0;j<d.size();j++){var g=d.getStructureAt(j);var o=g.getIntegerByKeyExt("id",-1);if(o!==-1){var h=g.getStringByKey("description");var l=e.addNewStructure();l.putString("Name",f.XInteger.convertToString(o));l.putString("Description",h);}}var m=b.getListByKey("defaultOptions");var n=c.putNewList("OptionValues");if(f.notNull(m)){for(var k=0;k<m.size();k++){var q=m.getIntegerAt(k);n.addString(f.XInteger.convertToString(q));}}}}else{a.add(b.clone());}}this.clearVariables();this.setVariableProcessorProvider(null);this.setVariableHelpProvider(null);if(!f.PrUtils.isListEmpty(a)){var r=f.PlanningCommandWithId.s_variableHelpProviderFactory.createVariableHelpProvider(this);var s=f.PlanningCommandWithId.s_variableHelpProviderFactory.createProcessorProvider(this.getDataSource(),this,this);s.setIsVariableSubmitNeeded(false);s.importVariables(a,this);this.setVariableHelpProvider(r);this.setVariableProcessorProvider(s);}};f.PlanningAction.prototype.setActionParameters=function(a){this.setPropertyObject(f.PlanningAction.ACTION_PARAMETERS,a);this.tryPublicVersionEdit(a);};f.PlanningAction.prototype.setActionGroup=function(a){this.setPropertyString(f.PlanningAction.ACTION_GROUP,a);};f.PlanningAction.prototype.tryPublicVersionEdit=function(a){if(this.getSystemType()!==f.SystemType.HANA){return;}var p=this.getPlanningModel();if(f.isNull(p)||!p.supportsPublicVersionEdit()){return;}var b=p.getActionMetadata(this.getActionIdentifier().getActionId());if(f.isNull(b)){return;}var c=b.getActionType();if(f.isNull(c)){return;}if(!c.isTypeOf(f.PlanningActionType.VERSION_ACTION)){return;}var d=this.getActionIdentifier().getActionId();if(!f.XString.isEqual(d,"populate_single_version")){return;}var v=this.getVersion();if(f.isNull(v)||!v.isShowingAsPublicVersion()){return;}if(f.XStringUtils.isNullOrEmpty(v.getSourceVersionName())){return;}if(f.isNull(a)){return;}var e=a.getStructureByKey("epmPopulate.fromVersion");if(f.isNull(e)){return;}var g=e.getStringByKey("value");if(f.XStringUtils.isNullOrEmpty(g)){return;}p.setPublicVersionEditInProgress(true);var h=f.XString.endsWith(g,v.getSourceVersionName());this.setInvalidatingResultSet(!h);};f.PlanningAction.prototype.getActionParameters=function(){return this.getPropertyObject(f.PlanningAction.ACTION_PARAMETERS);};f.PlanningAction.prototype.getActionGroup=function(){return this.getPropertyString(f.PlanningAction.ACTION_GROUP);};f.PlanningAction.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var c=f.PlanningModelCommandHelper.createCommandsList(r);var a=this.addCommand(c,"action");var b=this.getActionIdentifier();var d=b.getActionId();a.putString("action_id",d);var e=this.getSequenceIdEffective();if(f.XStringUtils.isNotNullAndNotEmpty(e)){a.putString("sequence_id",e);}if(!this.getVersion().isActionSequenceActive()){var g=this.getDescription();if(f.XStringUtils.isNotNullAndNotEmpty(g)){a.putString("description",g);}}var h=this.getActionParameters();if(f.notNull(h)){a.put("parameters",h);}else{if(this.hasVariables()){var v=this.getVariableProcessor().getVariables();var p=a.putNewStructure("parameters");for(var i=0;i<v.size();i++){var j=v.get(i);if(j.getVariableType().isTypeOf(f.VariableType.OPTION_LIST_VARIABLE)){var o=j;var k=o.getCurrentOption();p.putInteger(j.getName(),f.XInteger.convertFromStringWithDefault(k.getName(),-1));}}}}this.addCommand(c,"get_version_state");return r;};f.PlanningAction.prototype.addCommand=function(c,a){var v=this.getVersion();var b=f.PlanningModelCommandHelper.createVersionCommand(v,a);c.add(b);return b;};f.PlanningAction.prototype.getVersion=function(){var p=this.getPlanningModel();return p.getVersionByIdInternal(this.getActionIdentifier());};f.PlanningAction.prototype.createCommandResultInstance=function(){return new f.PlanningActionResult();};f.PlanningAction.prototype.getVariableContainerBase=function(){return this;};f.PlanningAction.prototype.getVariableContainer=function(){return this;};f.PlanningAction.prototype.getVariable=function(n){return this.getVariableBaseByName(n);};f.PlanningAction.prototype.setTargetVersionId=function(t){this.setPropertyString(f.PlanningAction.TARGET_VERSION_ID,t);return this;};f.PlanningAction.prototype.getTargetVersionId=function(){return this.getPropertyString(f.PlanningAction.TARGET_VERSION_ID);};f.PlanningAction.prototype.setSequenceId=function(s){this.setPropertyString(f.PlanningAction.SEQUENCE_ID,s);return this;};f.PlanningAction.prototype.getSequenceId=function(){return this.getPropertyString(f.PlanningAction.SEQUENCE_ID);};f.PlanningAction.prototype.getSequenceIdEffective=function(){var s=this.getPropertyString(f.PlanningAction.SEQUENCE_ID);if(f.XStringUtils.isNullOrEmpty(s)){s=this.getVersion().getActionSequenceId();}return s;};f.PlanningAction.prototype.setDescription=function(d){this.setPropertyString(f.PlanningAction.DESCRIPTION,d);return this;};f.PlanningAction.prototype.getDescription=function(){return this.getPropertyString(f.PlanningAction.DESCRIPTION);};f.PlanningAction.prototype.setTargetCell=function(t){if(f.isNull(t)){this.getProperties().remove(f.PlanningAction.TARGET_CELL_ROW);this.getProperties().remove(f.PlanningAction.TARGET_CELL_RS);}else{this.setPropertyInteger(f.PlanningAction.TARGET_CELL_COLUMN,t.getColumn());this.setPropertyInteger(f.PlanningAction.TARGET_CELL_ROW,t.getRow());}return this;};f.PlanningAction.prototype.setTargetColumn=function(c){this.setPropertyInteger(f.PlanningAction.TARGET_CELL_COLUMN,c);return this;};f.PlanningAction.prototype.setTargetRow=function(r){this.setPropertyInteger(f.PlanningAction.TARGET_CELL_ROW,r);return this;};f.PlanningAction.prototype.hasTargetCell=function(){return this.getProperties().getByKey(f.PlanningAction.TARGET_CELL_COLUMN)!==null&&this.getProperties().getByKey(f.PlanningAction.TARGET_CELL_ROW)!==null;};f.PlanningAction.prototype.getTargetRow=function(){return this.getPropertyInteger(f.PlanningAction.TARGET_CELL_ROW);};f.PlanningAction.prototype.getTargetColumn=function(){return this.getPropertyInteger(f.PlanningAction.TARGET_CELL_COLUMN);};f.PlanningAction.prototype.setWinControlInAutoSubmitByType=function(v,i,a){return;};f.PlanningActionForQueryIdentifier=function(){};f.PlanningActionForQueryIdentifier.prototype=new f.PlanningActionIdentifierBase();f.PlanningActionForQueryIdentifier.prototype._ff_c="PlanningActionForQueryIdentifier";f.PlanningActionForQueryIdentifier.prototype.cloneOlapComponent=function(c,p){var a=new f.PlanningActionForQueryIdentifier();a.setProperties(this.getPropertiesCopy());return a;};f.PlanningActionForQueryIdentifier.prototype.toString=function(){var s=f.XStringBuffer.create();s.appendLine("Planning action for query identifier");s.append(this.getActionMetadata().toString());return s.toString();};f.PlanningActionIdentifier=function(){};f.PlanningActionIdentifier.prototype=new f.PlanningActionIdentifierBase();f.PlanningActionIdentifier.prototype._ff_c="PlanningActionIdentifier";f.PlanningActionIdentifier.VERSION_IDENTIFIER="VERSION_IDENDTIFIER";f.PlanningActionIdentifier.prototype.cloneOlapComponent=function(c,p){var a=new f.PlanningActionIdentifier();a.setProperties(this.getPropertiesCopy());return a;};f.PlanningActionIdentifier.prototype.getVersionIdentifier=function(){return this.getPropertyObject(f.PlanningActionIdentifier.VERSION_IDENTIFIER);};f.PlanningActionIdentifier.prototype.setVersionIdentifier=function(v){this.setPropertyObject(f.PlanningActionIdentifier.VERSION_IDENTIFIER,v);};f.PlanningActionIdentifier.prototype.getVersionId=function(){return this.getVersionIdentifier().getVersionId();};f.PlanningActionIdentifier.prototype.isSharedVersion=function(){return this.getVersionIdentifier().isSharedVersion();};f.PlanningActionIdentifier.prototype.getVersionOwner=function(){return this.getVersionIdentifier().getVersionOwner();};f.PlanningActionIdentifier.prototype.getVersionUniqueName=function(){return this.getVersionIdentifier().getVersionUniqueName();};f.PlanningActionIdentifier.prototype.toString=function(){var s=f.XStringBuffer.create();s.append("Planning action identifier for version \"");s.append(this.getVersionIdentifier().getVersionUniqueName());s.appendLine("\"");s.append(this.getActionMetadata().toString());return s.toString();};f.PlanningActionResult=function(){};f.PlanningActionResult.prototype=new f.PlanningCommandWithIdResult();f.PlanningActionResult.prototype._ff_c="PlanningActionResult";f.PlanningActionResult.RETURN_CODE="RETURN_CODE";f.PlanningActionResult.prototype.getPlanningAction=function(){return this.getPlanningCommand();};f.PlanningActionResult.prototype.getReturnCode=function(){return this.getPropertyInteger(f.PlanningActionResult.RETURN_CODE);};f.PlanningActionResult.prototype.setReturnCode=function(r){this.setPropertyInteger(f.PlanningActionResult.RETURN_CODE,r);};f.PlanningActionResult.prototype.processResponseStructureCommand=function(r,m,h){var a=f.PlanningModelCommandHelper.getResponsesReturnCodeStrict(r,m,9999,true);var b=f.PlanningModelCommandHelper.getResponsesList(r);if(f.isNull(b)){if(a===0){a=-1;}}var c=this.getPlanningAction();var d=f.PlanningModelCommandHelper.getCommandsList(c.serializeToJson());if(f.isNull(d)){if(a===0){a=-1;}}var v=c.getVersion();if(!f.PlanningModelCommandHelper.processResponseGetVersionState(d,b,v)){if(a===0){a=-1;}}this.setReturnCode(a);};f.PlanningActionResult.prototype.checkErrorState=function(){var r=this.getReturnCode();if(r===3042){var p=this.getPlanningAction().getPlanningModel();p.resetPlanningModel();}};f.PlanningModelRequest=function(){};f.PlanningModelRequest.prototype=new f.PlanningRequest();f.PlanningModelRequest.prototype._ff_c="PlanningModelRequest";f.PlanningModelRequest.REQUEST_TYPE="REQUEST_TYPE";f.PlanningModelRequest.prototype.getPlanningModel=function(){return this.getPlanningContext();};f.PlanningModelRequest.prototype.getRequestType=function(){return this.getPropertyObject(f.PlanningModelRequest.REQUEST_TYPE);};f.PlanningModelRequest.prototype.setRequestType=function(r){this.setPropertyObject(f.PlanningModelRequest.REQUEST_TYPE,r);};f.PlanningModelResponse=function(){};f.PlanningModelResponse.prototype=new f.PlanningResponse();f.PlanningModelResponse.prototype._ff_c="PlanningModelResponse";f.PlanningModelResponse.RETURN_CODE="RETURN_CODE";f.PlanningModelResponse.prototype.getPlanningModelRequest=function(){return this.getPlanningCommand();};f.PlanningModelResponse.prototype.getReturnCode=function(){return this.getPropertyInteger(f.PlanningModelResponse.RETURN_CODE);};f.PlanningModelResponse.prototype.setReturnCode=function(r){this.setPropertyInteger(f.PlanningModelResponse.RETURN_CODE,r);};f.PlanningModelResponse.prototype.processResponseStructureCommand=function(r,m,h){var a=f.PlanningModelCommandHelper.getResponsesReturnCodeStrict(r,m,9999,true);this.setReturnCode(a);if(a!==0){return;}if(h){return;}if(!this.processResponseStructureInternal(r,m)){m.addErrorExt(f.OriginLayer.DRIVER,f.ErrorCodes.PARSER_ERROR,"error in processing response structure",r);}};f.PlanningModelResponse.prototype.processResponseStructureInternal=f.noSupport;f.PlanningModelResponse.prototype.checkErrorState=function(){if(this.getReturnCode()===3042){var p=this.getPlanningModelRequest().getPlanningModel();p.resetPlanningModel();}};f.DataAreaCommandClose=function(){};f.DataAreaCommandClose.prototype=new f.DataAreaCommand();f.DataAreaCommandClose.prototype._ff_c="DataAreaCommandClose";f.DataAreaCommandClose.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var d=this.getDataArea().getDataArea();var p=r.putNewStructure("Analytics");var a=p.putNewList("Actions");var b=a.addNewStructure();b.putString("Type","Close");var c=b.putNewList("DataAreas");c.addString(d);return r;};f.DataAreaCommandClose.prototype.createCommandResultInstance=function(){return new f.DataAreaCommandResultClose();};f.DataAreaCommandResultClose=function(){};f.DataAreaCommandResultClose.prototype=new f.DataAreaCommandResult();f.DataAreaCommandResultClose.prototype._ff_c="DataAreaCommandResultClose";f.DataAreaCommandResultClose.prototype.processResponseStructureCommand=function(r,m,h){if(h){return;}var d=this.getDataAreaCommand().getDataArea();var q=f.DataAreaUtil.getQueryConsumerServices(d);if(f.notNull(q)){for(var i=0;i<q.size();i++){var a=q.get(i);f.XObjectExt.release(a);}}f.DataAreaState.removeDataAreaState(d);var p=d.getPlanningService();f.XObjectExt.release(p);this.setExecuted(true);};f.PlanningFunction=function(){};f.PlanningFunction.prototype=new f.PlanningOperation();f.PlanningFunction.prototype._ff_c="PlanningFunction";f.PlanningFunction.prototype.createCommandResultInstance=function(){return new f.PlanningFunctionResult();};f.PlanningFunction.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier();};f.PlanningFunction.prototype.getPlanningFunctionMetadata=function(){return this.getPlanningOperationMetadata();};f.PlanningFunction.prototype.getPlanningType=function(){return"PlanningFunction";};f.PlanningFunction.prototype.getSelectionJson=function(){var s=this.getSelector();if(f.notNull(s)){var a=s.getDynamicFilter();if(f.notNull(a)){return a.serializeToElement(f.QModelFormat.INA_DATA);}}return null;};f.PlanningFunctionResult=function(){};f.PlanningFunctionResult.prototype=new f.PlanningOperationResult();f.PlanningFunctionResult.prototype._ff_c="PlanningFunctionResult";f.PlanningFunctionResult.prototype.getPlanningFunction=function(){return this.getPlanningOperation();};f.PlanningSequence=function(){};f.PlanningSequence.prototype=new f.PlanningOperation();f.PlanningSequence.prototype._ff_c="PlanningSequence";f.PlanningSequence.QUERY_MANAGER="QUERY_MANAGER";f.PlanningSequence.prototype.createCommandResultInstance=function(){return new f.PlanningSequenceResult();};f.PlanningSequence.prototype.getPlanningSequenceIdentifier=function(){return this.getCommandIdentifier();};f.PlanningSequence.prototype.getPlanningSequenceMetadata=function(){return this.getPlanningOperationMetadata();};f.PlanningSequence.prototype.getPlanningType=function(){return"PlanningSequence";};f.PlanningSequence.prototype.submitVariables=function(s,l,c){return this.getVariableProcessor().submitVariables(s,l,c);};f.PlanningSequence.prototype.getQueryManagerForDimension=function(s){var a=this.getDataSource().getSystemName();var d=this.getPropertyObject(f.XStringUtils.concatenate2(f.PlanningSequence.QUERY_MANAGER,s.getName()));var t;if(f.isNull(d)){var b=f.QFactory.createDataSourceWithType(f.MetaObjectType.DIMENSION,s.getName());var q=f.QueryServiceConfig.createWithDataSource(s.getApplication(),a,b);var r=q.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);f.MessageUtil.checkNoError(r);d=r.getData();t=d.getQueryModel().getDimensionByName(s.getName());t.getFieldContainer().copyFrom(s.getFieldContainer(),null);this.setPropertyObject(f.XStringUtils.concatenate2(f.PlanningSequence.QUERY_MANAGER,s.getName()),d);}else{t=d.getQueryModel().getDimensionByName(s.getName());}var c=s.getSelectorFields();var e=t.getSelectorFields();for(var i=0;i<c.size();i++){e.add(t.getFieldByName(c.get(i).getName()));}var g=t.getFieldByPresentationType(f.PresentationType.DISPLAY_KEY);if(f.notNull(g)){t.getSelectorFields().add(g);}var h=t.getFieldByPresentationType(f.PresentationType.TEXT);if(f.notNull(h)){t.getSelectorFields().add(h);}var o=this.getSelector().getValuehelpFilter();var j=d.getQueryModel().getFilter().getValuehelpFilter();j.copyFrom(o,null);var k=s.getSelectorHierarchyNode();if(f.notNull(k)){t.setSelectorHierarchyNode(k);}return d;};f.PlanningSequenceResult=function(){};f.PlanningSequenceResult.prototype=new f.PlanningOperationResult();f.PlanningSequenceResult.prototype._ff_c="PlanningSequenceResult";f.PlanningSequenceResult.prototype.getPlanningSequence=function(){return this.getPlanningCommand();};f.DataAreaRequestCreatePlanningOperation=function(){};f.DataAreaRequestCreatePlanningOperation.prototype=new f.DataAreaRequest();f.DataAreaRequestCreatePlanningOperation.prototype._ff_c="DataAreaRequestCreatePlanningOperation";f.DataAreaRequestCreatePlanningOperation.COMMAND_IDENTIFIER="COMMAND_IDENTIFIER";f.DataAreaRequestCreatePlanningOperation.prototype.getCommandIdentifier=function(){return this.getPropertyObject(f.DataAreaRequestCreatePlanningOperation.COMMAND_IDENTIFIER);};f.DataAreaRequestCreatePlanningOperation.prototype.setCommandIdentifier=function(c){this.setPropertyObject(f.DataAreaRequestCreatePlanningOperation.COMMAND_IDENTIFIER,c);};f.DataAreaRequestCreatePlanningOperation.prototype.getPlanningOperationIdentifier=function(){return this.getCommandIdentifier();};f.DataAreaRequestCreatePlanningOperation.prototype.doProcessCommand=function(s,p){var c=f.XCommandFactory.create(this.getApplication());var a=c.createCommand(f.XCmdCreatePlanningOperation.CMD_NAME);a.addParameter(f.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA,this.getDataArea());a.addParameter(f.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER,this.getPlanningOperationIdentifier());a.processCommand(s,f.XCommandCallback.create(this),p);};f.DataAreaRequestCreatePlanningOperation.prototype.onXCommandCallbackProcessed=function(e,c,a){var b=f.ExtResult.create(a,e);if(e.isValid()){var r=a;r.setCreatedPlanningOperation(c.getResultParameter(f.XCmdCreatePlanningOperation.PARAM_E_PLANNING_OPERATION));}this.onCommandExecuted(b);};f.DataAreaRequestGetPlanningOperationMetadata=function(){};f.DataAreaRequestGetPlanningOperationMetadata.prototype=new f.DataAreaRequest();f.DataAreaRequestGetPlanningOperationMetadata.prototype._ff_c="DataAreaRequestGetPlanningOperationMetadata";f.DataAreaRequestGetPlanningOperationMetadata.PLANNING_OPERATION_IDENTIFIER="PLANNING_OPERATION_IDENTIFIER";f.DataAreaRequestGetPlanningOperationMetadata.INSTANCE_ID="INSTANCE_ID";f.DataAreaRequestGetPlanningOperationMetadata.prototype.getPlanningOperationIdentifier=function(){return this.getPropertyObject(f.DataAreaRequestGetPlanningOperationMetadata.PLANNING_OPERATION_IDENTIFIER);};f.DataAreaRequestGetPlanningOperationMetadata.prototype.setPlanningOperationIdentifier=function(p){this.setPropertyObject(f.DataAreaRequestGetPlanningOperationMetadata.PLANNING_OPERATION_IDENTIFIER,p);};f.DataAreaRequestGetPlanningOperationMetadata.prototype.getInstanceId=function(){var i=this.getPropertyString(f.DataAreaRequestGetPlanningOperationMetadata.INSTANCE_ID);if(f.isNull(i)){i=this.getPlanningService().getApplication().createNextInstanceId();this.setPropertyString(f.DataAreaRequestGetPlanningOperationMetadata.INSTANCE_ID,i);}return i;};f.DataAreaRequestGetPlanningOperationMetadata.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var d=f.DataAreaState.getDataAreaState(this.getDataArea());if(!d.isSubmitted()){var a=d.serializeToJson();if(f.notNull(a)){r.putNewList("DataAreas").add(a);}}var m=r.putNewStructure("Metadata");this.getPlanningService().getInaCapabilities().exportActiveCapabilities(m);m.putString("Context","Planning");var e=m.putNewList("Expand");e.addString("Command");var b=m.putNewStructure("DataSource");var c=this.getDataArea().getDataArea();if(f.isNull(c)){c="DEFAULT";}b.putString("DataArea",c);b.putString("InstanceId",this.getInstanceId());return r;};f.DataAreaResponseCreatePlanningOperation=function(){};f.DataAreaResponseCreatePlanningOperation.prototype=new f.DataAreaResponse();f.DataAreaResponseCreatePlanningOperation.prototype._ff_c="DataAreaResponseCreatePlanningOperation";f.DataAreaResponseCreatePlanningOperation.CREATED_PLANNING_OPERATION="CREATED_PLANNING_OPERATION";f.DataAreaResponseCreatePlanningOperation.prototype.getPlanningRequestCreateCommandWithId=function(){return this.getPlanningCommand();};f.DataAreaResponseCreatePlanningOperation.prototype.getCreatedPlanningCommandWithId=function(){return this.getCreatedPlanningOperation();};f.DataAreaResponseCreatePlanningOperation.prototype.setCreatedPlanningOperation=function(p){this.setPropertyObject(f.DataAreaResponseCreatePlanningOperation.CREATED_PLANNING_OPERATION,p);};f.DataAreaResponseCreatePlanningOperation.prototype.getDataAreaRequestCreatePlanningOperation=function(){return this.getPlanningRequestCreateCommandWithId();};f.DataAreaResponseCreatePlanningOperation.prototype.getCreatedPlanningOperation=function(){return this.getPropertyObject(f.DataAreaResponseCreatePlanningOperation.CREATED_PLANNING_OPERATION);};f.DataAreaResponseGetPlanningOperationMetadata=function(){};f.DataAreaResponseGetPlanningOperationMetadata.prototype=new f.DataAreaResponse();f.DataAreaResponseGetPlanningOperationMetadata.prototype._ff_c="DataAreaResponseGetPlanningOperationMetadata";f.DataAreaResponseGetPlanningOperationMetadata.PLANNING_OPERATION_METADATA="PLANNING_OPERATION_METADATA";f.DataAreaResponseGetPlanningOperationMetadata.prototype.getDataAreaRequestGetPlanningOperationMetadata=function(){return this.getPlanningRequest();};f.DataAreaResponseGetPlanningOperationMetadata.prototype.getPlanningOperationMetadata=function(){return this.getPropertyObject(f.DataAreaResponseGetPlanningOperationMetadata.PLANNING_OPERATION_METADATA);};f.DataAreaResponseGetPlanningOperationMetadata.prototype.setPlanningOperationMetadata=function(p){this.setPropertyObject(f.DataAreaResponseGetPlanningOperationMetadata.PLANNING_OPERATION_METADATA,p);};f.DataAreaResponseGetPlanningOperationMetadata.prototype.extractBaseDataSource=function(s){var b=f.PrUtils.getStructureProperty(s,"BaseDataSource");if(f.isNull(b)){return null;}var o=f.PrUtils.getStringValueProperty(b,"ObjectName",null);if(f.isNull(o)){return null;}var m=f.MetaObjectType.lookup(f.PrUtils.getStringValueProperty(b,"Type",null));if(f.isNull(m)){return null;}return f.QFactory.createDataSourceWithType(m,o);};f.PlanningModelCloseCommand=function(){};f.PlanningModelCloseCommand.prototype=new f.PlanningModelCommand();f.PlanningModelCloseCommand.prototype._ff_c="PlanningModelCloseCommand";f.PlanningModelCloseCommand.CLOSE_MODE="CLOSE_MODE";f.PlanningModelCloseCommand.prototype.setCloseMode=function(c){this.setPropertyObject(f.PlanningModelCloseCommand.CLOSE_MODE,c);return this;};f.PlanningModelCloseCommand.prototype.getCloseMode=function(){return this.getPropertyObject(f.PlanningModelCloseCommand.CLOSE_MODE);};f.PlanningModelCloseCommand.prototype.addParametersToJson=function(p){var c=this.getCloseMode();if(f.isNull(c)){c=f.CloseModeType.BACKUP;}p.putString("mode",c.getName());};f.PlanningModelRequestCleanup=function(){};f.PlanningModelRequestCleanup.prototype=new f.PlanningModelRequest();f.PlanningModelRequestCleanup.prototype._ff_c="PlanningModelRequestCleanup";f.PlanningModelRequestCleanup.createCleanupCommand=function(){var c=f.PrFactory.createStructure();c.putString("command","cleanup");return c;};f.PlanningModelRequestCleanup.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var c=f.PlanningModelCommandHelper.createCommandsList(r);c.add(f.PlanningModelRequestCleanup.createCleanupCommand());c.add(f.PlanningModelCommandHelper.createModelCommand(this.getPlanningModel(),"get_versions"));return r;};f.PlanningModelRequestCleanup.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseCleanup();};f.PlanningModelRequestCreateAction=function(){};f.PlanningModelRequestCreateAction.prototype=new f.PlanningModelRequest();f.PlanningModelRequestCreateAction.prototype._ff_c="PlanningModelRequestCreateAction";f.PlanningModelRequestCreateAction.COMMAND_IDENTIFIER="COMMAND_IDENTIFIER";f.PlanningModelRequestCreateAction.ACTION_PARAMETERS="ACTION_PARAMETERS";f.PlanningModelRequestCreateAction.prototype.getCommandIdentifier=function(){return this.getPropertyObject(f.PlanningModelRequestCreateAction.COMMAND_IDENTIFIER);};f.PlanningModelRequestCreateAction.prototype.setCommandIdentifier=function(c){this.setPropertyObject(f.PlanningModelRequestCreateAction.COMMAND_IDENTIFIER,c);};f.PlanningModelRequestCreateAction.prototype.getActionParameters=function(){return this.getPropertyObject(f.PlanningModelRequestCreateAction.ACTION_PARAMETERS);};f.PlanningModelRequestCreateAction.prototype.setActionParameters=function(a){this.setPropertyObject(f.PlanningModelRequestCreateAction.ACTION_PARAMETERS,a);};f.PlanningModelRequestCreateAction.prototype.doProcessCommand=function(s,p){var e=this.getActionParameters();var a;var m=f.MessageManager.createMessageManagerExt(this.getSession());if(f.isNull(e)){m.addError(0,"illegal state - not action parameters");a=f.ExtResult.create(p,m);}else{var b=new f.PlanningAction();b.setCommandType(f.PlanningCommandType.PLANNING_ACTION);b.setPlanningService(this.getPlanningService());b.setPlanningContext(this.getPlanningModel());b.setCommandIdentifier(this.getActionIdentifier());b.setActionParameterMetadata(e);p.setCreatedPlanningAction(b);a=f.ExtResult.create(p,m);}this.onCommandExecuted(f.ExtResult.create(a.getData(),a));};f.PlanningModelRequestCreateAction.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseCreateAction();};f.PlanningModelRequestCreateAction.prototype.getActionIdentifier=function(){return this.getCommandIdentifier();};f.PlanningModelRequestRefreshActions=function(){};f.PlanningModelRequestRefreshActions.prototype=new f.PlanningModelRequest();f.PlanningModelRequestRefreshActions.prototype._ff_c="PlanningModelRequestRefreshActions";f.PlanningModelRequestRefreshActions.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var c=f.PlanningModelCommandHelper.createCommandsList(r);var m=this.getPlanningModel();c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_actions"));c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_action_parameters"));return r;};f.PlanningModelRequestRefreshActions.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseRefreshActions();};f.PlanningModelRequestRefreshVersions=function(){};f.PlanningModelRequestRefreshVersions.prototype=new f.PlanningModelRequest();f.PlanningModelRequestRefreshVersions.prototype._ff_c="PlanningModelRequestRefreshVersions";f.PlanningModelRequestRefreshVersions.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var c=f.PlanningModelCommandHelper.createCommandsList(r);var m=this.getPlanningModel();c.add(f.PlanningModelCommandHelper.createModelCommand(m,"get_versions"));return r;};f.PlanningModelRequestRefreshVersions.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseRefreshVersions();};f.PlanningModelRequestUpdateVersionPrivileges=function(){};f.PlanningModelRequestUpdateVersionPrivileges.prototype=new f.PlanningModelRequest();f.PlanningModelRequestUpdateVersionPrivileges.prototype._ff_c="PlanningModelRequestUpdateVersionPrivileges";f.PlanningModelRequestUpdateVersionPrivileges.addShowVersionPrivilegesCommands=function(c,p){var q=p.getQueryDataSources();var v=p.getVersions();for(var i=0;i<q.size();i++){var a=q.get(i).getDataSource();for(var j=0;j<v.size();j++){var b=v.get(j);f.PlanningModelRequestUpdateVersionPrivileges.addShowVersionPrivilegesCommand(c,p,a,b);}}};f.PlanningModelRequestUpdateVersionPrivileges.addShowVersionPrivilegesCommand=function(c,p,d,v){var a=c.addNewStructure();a.putString("command","show_version_privileges");a.putString("schema",p.getPlanningModelSchema());a.putString("model",p.getPlanningModelName());a.putString("query_source_schema",d.getSchemaName());a.putString("query_source",d.getObjectName());a.putInteger("version_id",v.getVersionId());if(v.isSharedVersion()){a.putString("owner",v.getVersionOwner());}};f.PlanningModelRequestUpdateVersionPrivileges.addPrivilegeCommand=function(c,v){var p=v.getPrivilegeState();if(p!==f.PlanningPrivilegeState.TO_BE_GRANTED&&p!==f.PlanningPrivilegeState.TO_BE_REVOKED){return;}var a;if(p===f.PlanningPrivilegeState.TO_BE_GRANTED){a="grant_version_privilege";}else if(p===f.PlanningPrivilegeState.TO_BE_REVOKED){a="revoke_version_privilege";}else{throw f.XException.createIllegalStateException("illegal privilege command");}var b=c.addNewStructure();b.putString("command",a);var d=v.getPlanningModel();b.putString("schema",d.getPlanningModelSchema());b.putString("model",d.getPlanningModelName());var e=v.getQueryDataSource();b.putString("query_source_schema",e.getSchemaName());b.putString("query_source",e.getObjectName());b.putInteger("version_id",v.getVersionId());if(v.isSharedVersion()){b.putString("owner",v.getVersionOwner());}b.putString("privilege",v.getPrivilege().getName());b.putString("grantee",v.getGrantee());};f.PlanningModelRequestUpdateVersionPrivileges.prototype.doProcessCommand=function(s,p){if(this.isServerRoundtripRequired()){f.PlanningModelRequest.prototype.doProcessCommand.call(this,s,p);}else{var m=f.MessageManager.createMessageManagerExt(this.getSession());var e=f.ExtResult.create(p,m);this.onCommandExecuted(e);}};f.PlanningModelRequestUpdateVersionPrivileges.prototype.isServerRoundtripRequired=function(){var p=this.getPlanningModel();if(!p.hasChangedVersionPrivileges()){return false;}var v=p.getVersions();return!v.isEmpty();};f.PlanningModelRequestUpdateVersionPrivileges.prototype.createCommandStructure=function(){var r=f.PrFactory.createStructure();var p=r.putNewStructure("Planning");var c=p.putNewList("commands");var a=this.getPlanningModel();if(a.isVersionPrivilegesInitialized()){var v=a.getVersionPrivileges();if(f.notNull(v)){for(var i=0;i<v.size();i++){f.PlanningModelRequestUpdateVersionPrivileges.addPrivilegeCommand(c,v.get(i));}}}f.PlanningModelRequestUpdateVersionPrivileges.addShowVersionPrivilegesCommands(c,a);return r;};f.PlanningModelRequestUpdateVersionPrivileges.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseUpdateVersionPrivileges();};f.PlanningModelRequestVersion=function(){};f.PlanningModelRequestVersion.prototype=new f.PlanningModelRequest();f.PlanningModelRequestVersion.prototype._ff_c="PlanningModelRequestVersion";f.PlanningModelRequestVersion.PLANNING_VERSION="PLANNING_VERSION";f.PlanningModelRequestVersion.prototype.getPlanningVersion=function(){return this.getPropertyObject(f.PlanningModelRequestVersion.PLANNING_VERSION);};f.PlanningModelRequestVersion.prototype.setPlanningVersion=function(p){this.setPropertyObject(f.PlanningModelRequestVersion.PLANNING_VERSION,p);};f.PlanningModelRequestVersion.prototype.supportsTryOption=function(){return false;};f.PlanningModelRequestVersion.prototype.setTryOption=function(u){return this;};f.PlanningModelRequestVersion.prototype.useTryOption=function(){return false;};f.PlanningModelRequestVersion.prototype.useStateUpdate=function(){var r=this.getRequestType();if(f.isNull(r)){return false;}return r.isTypeOf(f.PlanningModelRequestType.VERSION_REQUEST_WITH_STATE_UPDATE);};f.PlanningModelRequestVersion.prototype.createCommandStructure=function(){var r=this.getRequestType();var a=f.PrFactory.createStructure();var c=f.PlanningModelCommandHelper.createCommandsList(a);if(r===f.PlanningModelRequestType.RESET_VERSION){this.addCommand(c,f.PlanningModelRequestType.CLOSE_VERSION.getName());this.addCommand(c,f.PlanningModelRequestType.INIT_VERSION.getName());}else if(r!==f.PlanningModelRequestType.UPDATE_PARAMETERS){if(r===f.PlanningModelRequestType.CLOSE_VERSION){var b=this;if(b.getCloseMode().isWithKillActionSequence()){this.addCommand(c,f.PlanningModelRequestType.KILL_ACTION_SEQUENCE.getName());}}this.addParametersToJson(this.addCommand(c,this.getRequestType().getName()));}this.addGetParametersCommand(c,r);if(this.useStateUpdate()){this.addGetVersionStateCommand(c,r);}return a;};f.PlanningModelRequestVersion.prototype.addGetVersionStateCommand=function(c,r){if(r===f.PlanningModelRequestType.DROP_VERSION){return;}this.addCommand(c,"get_version_state");};f.PlanningModelRequestVersion.prototype.addGetParametersCommand=function(c,r){if(r!==f.PlanningModelRequestType.INIT_VERSION&&r!==f.PlanningModelRequestType.RESET_VERSION&&r!==f.PlanningModelRequestType.UPDATE_PARAMETERS){return;}if(!this.getPlanningModel().supportsVersionParameters()){return;}if(this.getPlanningVersion().isSharedVersion()){return;}this.addCommand(c,"get_parameters");};f.PlanningModelRequestVersion.prototype.addCommand=function(c,a){var b=f.PlanningModelCommandHelper.createVersionCommand(this.getPlanningVersion(),a);c.add(b);return b;};f.PlanningModelRequestVersion.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseVersion();};f.PlanningModelRequestVersion.prototype.addParametersToJson=function(p){};f.PlanningModelResponseCleanup=function(){};f.PlanningModelResponseCleanup.prototype=new f.PlanningModelResponse();f.PlanningModelResponseCleanup.prototype._ff_c="PlanningModelResponseCleanup";f.PlanningModelResponseCleanup.prototype.getPlanningModelRequestCleanup=function(){return this.getPlanningCommand();};f.PlanningModelResponseCleanup.prototype.processResponseStructureInternal=function(r,m){var a=this.getPlanningModelRequest();var b=a.getPlanningModel();var c=f.PlanningModelCommandHelper.getCommandsList(a.serializeToJson());var d=f.PlanningModelCommandHelper.getResponsesList(r);return f.PlanningModelCommandHelper.processResponseGetVersions(c,d,b);};f.PlanningModelResponseCreateAction=function(){};f.PlanningModelResponseCreateAction.prototype=new f.PlanningModelResponse();f.PlanningModelResponseCreateAction.prototype._ff_c="PlanningModelResponseCreateAction";f.PlanningModelResponseCreateAction.CREATED_PLANNING_ACTION="CREATED_PLANNING_ACTION";f.PlanningModelResponseCreateAction.prototype.getPlanningRequestCreateCommandWithId=function(){return this.getPlanningCommand();};f.PlanningModelResponseCreateAction.prototype.getCreatedPlanningCommandWithId=function(){return this.getCreatedPlanningAction();};f.PlanningModelResponseCreateAction.prototype.setCreatedPlanningAction=function(p){this.setPropertyObject(f.PlanningModelResponseCreateAction.CREATED_PLANNING_ACTION,p);};f.PlanningModelResponseCreateAction.prototype.getCreatedPlanningAction=function(){return this.getPropertyObject(f.PlanningModelResponseCreateAction.CREATED_PLANNING_ACTION);};f.PlanningModelResponseCreateAction.prototype.getPlanningModelRequestCreateAction=function(){return this.getPlanningCommand();};f.PlanningModelResponseRefreshActions=function(){};f.PlanningModelResponseRefreshActions.prototype=new f.PlanningModelResponse();f.PlanningModelResponseRefreshActions.prototype._ff_c="PlanningModelResponseRefreshActions";f.PlanningModelResponseRefreshActions.prototype.getPlanningModelRequestRefreshVersions=function(){return this.getPlanningCommand();};f.PlanningModelResponseRefreshActions.prototype.processResponseStructureInternal=function(r,m){var a=this.getPlanningModelRequest();var c=f.PlanningModelCommandHelper.getCommandsList(a.serializeToJson());var b=f.PlanningModelCommandHelper.getResponsesList(r);return f.PlanningModelCommandHelper.processResponseGetActions(c,b,a.getPlanningModel());};f.PlanningModelResponseRefreshVersions=function(){};f.PlanningModelResponseRefreshVersions.prototype=new f.PlanningModelResponse();f.PlanningModelResponseRefreshVersions.prototype._ff_c="PlanningModelResponseRefreshVersions";f.PlanningModelResponseRefreshVersions.prototype.getPlanningModelRequestRefreshVersions=function(){return this.getPlanningCommand();};f.PlanningModelResponseRefreshVersions.prototype.processResponseStructureInternal=function(r,m){var a=this.getPlanningModelRequest();var c=f.PlanningModelCommandHelper.getCommandsList(a.serializeToJson());var b=f.PlanningModelCommandHelper.getResponsesList(r);return f.PlanningModelCommandHelper.processResponseGetVersions(c,b,a.getPlanningModel());};f.PlanningModelResponseUpdateVersionPrivileges=function(){};f.PlanningModelResponseUpdateVersionPrivileges.prototype=new f.PlanningModelResponse();f.PlanningModelResponseUpdateVersionPrivileges.prototype._ff_c="PlanningModelResponseUpdateVersionPrivileges";f.PlanningModelResponseUpdateVersionPrivileges.getVersionDataSource=function(q){var d=f.QFactory.createDataSourceWithType(f.MetaObjectType.PLANNING,f.PrUtils.getStringValueProperty(q,"query_source",null));d.setSchemaName(f.PrUtils.getStringValueProperty(q,"query_source_schema",null));return d;};f.PlanningModelResponseUpdateVersionPrivileges.updateVersionPrivileges=function(p,d,a,v){var l=f.PrUtils.getListSize(v,0);for(var i=0;i<l;i++){var b=f.PrUtils.getStructureElement(v,i);var c=f.PlanningPrivilege.lookupWithDefault(f.PrUtils.getStringValueProperty(b,"privilege",null),null);var g=f.PrUtils.getStringValueProperty(b,"grantee",null);var e=p.getVersionPrivilegeById(d,a,c,g);e.setPrivilegeStateServer(f.PlanningPrivilegeState.GRANTED);}};f.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesServerState=function(p){var v=p.getVersionPrivileges();for(var i=0;i<v.size();i++){var a=v.get(i);a.setPrivilegeStateServer(f.PlanningPrivilegeState.NEW);}};f.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesClientState=function(p){var v=p.getVersionPrivileges();for(var i=0;i<v.size();i++){var a=v.get(i);var s=a.getPrivilegeStateServer();var c;if(s===f.PlanningPrivilegeState.GRANTED){c=f.PlanningPrivilegeState.GRANTED;}else if(s===f.PlanningPrivilegeState.NEW){c=f.PlanningPrivilegeState.NEW;}else{throw f.XException.createIllegalStateException("illegal state");}a.setPrivilegeState(c);}};f.PlanningModelResponseUpdateVersionPrivileges.prototype.getPlanningModelRequestUpdateVersionPrivileges=function(){return this.getPlanningCommand();};f.PlanningModelResponseUpdateVersionPrivileges.prototype.processResponseStructureInternal=function(r,m){return this.processUpdate(r,m);};f.PlanningModelResponseUpdateVersionPrivileges.prototype.processUpdate=function(r,m){var a=this.getPlanningModelRequest();var b=a.getPlanningModel();b.setVersionPrivilegesInitialized();var c=f.PlanningModelCommandHelper.getCommandsList(a.serializeToJson());var d=f.PlanningModelCommandHelper.getResponsesList(r);if(f.isNull(c)&&f.isNull(d)){return true;}if(f.isNull(c)||f.isNull(d)){return false;}if(c.size()!==d.size()){return false;}f.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesServerState(this.getPlanningModelRequest().getPlanningModel());for(var i=0;i<c.size();i++){var e=f.PrUtils.getStructureElement(c,i);var g=f.PrUtils.getStringValueProperty(e,"command",null);if(!f.XString.isEqual(g,"show_version_privileges")){continue;}var h=f.PrUtils.getStructureElement(d,i);var v=f.PrUtils.getListProperty(h,"version_privileges");if(f.isNull(v)){continue;}var j=f.PlanningModelResponseUpdateVersionPrivileges.getVersionDataSource(e);var k=f.PrUtils.getIntegerValueProperty(e,"version_id",-1);var s=false;var l=null;var o=f.PrUtils.getStringProperty(e,"owner");if(f.notNull(o)){s=true;l=o.getString();}var p=b.getVersionIdentifier(k,s,l);f.PlanningModelResponseUpdateVersionPrivileges.updateVersionPrivileges(b,j,p,v);}f.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesClientState(this.getPlanningModelRequest().getPlanningModel());return true;};f.PlanningModelResponseVersion=function(){};f.PlanningModelResponseVersion.prototype=new f.PlanningModelResponse();f.PlanningModelResponseVersion.prototype._ff_c="PlanningModelResponseVersion";f.PlanningModelResponseVersion.prototype.getPlanningModelRequestVersion=function(){return this.getPlanningCommand();};f.PlanningModelResponseVersion.prototype.initResponseStructureCommand=function(r,m){var a=this.getPlanningRequest();if(a.isInvalidatingResultSet()){a.getPlanningContext().invalidate();}};f.PlanningModelResponseVersion.prototype.processResponseStructureInternal=function(r,m){var a=f.PlanningModelCommandHelper.getResponsesList(r);if(f.isNull(a)){return false;}var b=this.getPlanningModelRequestVersion();var c=f.PlanningModelCommandHelper.getCommandsList(b.serializeToJson());if(f.isNull(c)){return false;}var v=b.getPlanningVersion();f.PlanningModelCommandHelper.processResponseEndActionSequence(c,a,v);f.PlanningModelCommandHelper.processResponseKillActionSequence(c,a,v);f.PlanningModelCommandHelper.processResponseGetParameters(c,a,v);if(!f.PlanningModelCommandHelper.processResponseGetVersionState(c,a,v)){if(b.getRequestType()===f.PlanningModelRequestType.DROP_VERSION){v.invalidateVersion();v.updateInvalidPrivileges();}}return true;};f.DataAreaRequestCreatePlanningFunction=function(){};f.DataAreaRequestCreatePlanningFunction.prototype=new f.DataAreaRequestCreatePlanningOperation();f.DataAreaRequestCreatePlanningFunction.prototype._ff_c="DataAreaRequestCreatePlanningFunction";f.DataAreaRequestCreatePlanningFunction.create=function(p){var n=new f.DataAreaRequestCreatePlanningFunction();var o=p.getApplication().getOlapEnvironment();var c=o.getContext();n.setupModelComponent(c,null);n.setPlanningService(p);return n;};f.DataAreaRequestCreatePlanningFunction.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier();};f.DataAreaRequestCreatePlanningFunction.prototype.createCommandResultInstance=function(){return new f.DataAreaResponseCreatePlanningFunction();};f.DataAreaRequestCreatePlanningSequence=function(){};f.DataAreaRequestCreatePlanningSequence.prototype=new f.DataAreaRequestCreatePlanningOperation();f.DataAreaRequestCreatePlanningSequence.prototype._ff_c="DataAreaRequestCreatePlanningSequence";f.DataAreaRequestCreatePlanningSequence.create=function(p){var n=new f.DataAreaRequestCreatePlanningSequence();var o=p.getApplication().getOlapEnvironment();var c=o.getContext();n.setupModelComponent(c,null);n.setPlanningService(p);return n;};f.DataAreaRequestCreatePlanningSequence.prototype.getPlanningSequenceIdentifier=function(){return this.getPlanningOperationIdentifier();};f.DataAreaRequestCreatePlanningSequence.prototype.createCommandResultInstance=function(){return new f.DataAreaResponseCreatePlanningSequence();};f.DataAreaRequestGetPlanningFunctionMetadata=function(){};f.DataAreaRequestGetPlanningFunctionMetadata.prototype=new f.DataAreaRequestGetPlanningOperationMetadata();f.DataAreaRequestGetPlanningFunctionMetadata.prototype._ff_c="DataAreaRequestGetPlanningFunctionMetadata";f.DataAreaRequestGetPlanningFunctionMetadata.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier();};f.DataAreaRequestGetPlanningFunctionMetadata.prototype.createCommandStructure=function(){var r=f.DataAreaRequestGetPlanningOperationMetadata.prototype.createCommandStructure.call(this);var m=r.getStructureByKey("Metadata");var d=m.getStructureByKey("DataSource");d.putString("ObjectName",this.getPlanningFunctionIdentifier().getPlanningFunctionName());d.putString("Type","PlanningFunction");return r;};f.DataAreaRequestGetPlanningFunctionMetadata.prototype.createCommandResultInstance=function(){return new f.DataAreaResponseGetPlanningFunctionMetadata();};f.DataAreaRequestGetPlanningSequenceMetadata=function(){};f.DataAreaRequestGetPlanningSequenceMetadata.prototype=new f.DataAreaRequestGetPlanningOperationMetadata();f.DataAreaRequestGetPlanningSequenceMetadata.prototype._ff_c="DataAreaRequestGetPlanningSequenceMetadata";f.DataAreaRequestGetPlanningSequenceMetadata.prototype.getPlanningSequenceIdentifier=function(){return this.getPlanningOperationIdentifier();};f.DataAreaRequestGetPlanningSequenceMetadata.prototype.createCommandStructure=function(){var r=f.DataAreaRequestGetPlanningOperationMetadata.prototype.createCommandStructure.call(this);var m=r.getStructureByKey("Metadata");var d=m.getStructureByKey("DataSource");d.putString("ObjectName",this.getPlanningSequenceIdentifier().getPlanningSequenceName());d.putString("Type","PlanningSequence");return r;};f.DataAreaRequestGetPlanningSequenceMetadata.prototype.createCommandResultInstance=function(){return new f.DataAreaResponseGetPlanningSequenceMetadata();};f.DataAreaResponseCreatePlanningFunction=function(){};f.DataAreaResponseCreatePlanningFunction.prototype=new f.DataAreaResponseCreatePlanningOperation();f.DataAreaResponseCreatePlanningFunction.prototype._ff_c="DataAreaResponseCreatePlanningFunction";f.DataAreaResponseCreatePlanningFunction.prototype.getDataAreaRequestCreatePlanningFunction=function(){return this.getDataAreaRequestCreatePlanningOperation();};f.DataAreaResponseCreatePlanningFunction.prototype.getCreatedPlanningFunction=function(){return this.getCreatedPlanningOperation();};f.DataAreaResponseCreatePlanningSequence=function(){};f.DataAreaResponseCreatePlanningSequence.prototype=new f.DataAreaResponseCreatePlanningOperation();f.DataAreaResponseCreatePlanningSequence.prototype._ff_c="DataAreaResponseCreatePlanningSequence";f.DataAreaResponseCreatePlanningSequence.prototype.getDataAreaRequestCreatePlanningSequence=function(){return this.getDataAreaRequestCreatePlanningOperation();};f.DataAreaResponseCreatePlanningSequence.prototype.getCreatedPlanningSequence=function(){return this.getCreatedPlanningOperation();};f.DataAreaResponseGetPlanningFunctionMetadata=function(){};f.DataAreaResponseGetPlanningFunctionMetadata.prototype=new f.DataAreaResponseGetPlanningOperationMetadata();f.DataAreaResponseGetPlanningFunctionMetadata.prototype._ff_c="DataAreaResponseGetPlanningFunctionMetadata";f.DataAreaResponseGetPlanningFunctionMetadata.prototype.getDataAreaRequestGetPlanningFunctionMetadata=function(){return this.getDataAreaRequestGetPlanningOperationMetadata();};f.DataAreaResponseGetPlanningFunctionMetadata.prototype.getPlanningFunctionMetadata=function(){return this.getPlanningOperationMetadata();};f.DataAreaResponseGetPlanningFunctionMetadata.prototype.processResponseStructureInternal=function(r,m){var c=f.PrUtils.getStructureProperty(r,"Command");if(f.isNull(c)){return false;}var d=f.PrUtils.getStructureProperty(c,"DataSource");var a=f.PrUtils.getStringValueProperty(d,"DataArea","DEFAULT");var b=this.getDataAreaRequestGetPlanningFunctionMetadata();var e=b.getDataArea();if(!f.XString.isEqual(e.getDataArea(),a)){return false;}var i=this.getDataAreaRequestGetPlanningFunctionMetadata().getInstanceId();if(f.isNull(i)){return false;}var o=f.PrUtils.getStringValueProperty(d,"ObjectName",null);var p=this.getDataAreaRequestGetPlanningFunctionMetadata().getPlanningFunctionIdentifier();if(!f.XString.isEqual(o,p.getPlanningFunctionName())){return false;}var t=f.PrUtils.getStringValueProperty(d,"Type",null);if(!f.XString.isEqual(t,"PlanningFunction")){return false;}var g=f.PrUtils.getListProperty(c,"Dimensions");var v=f.PrUtils.getListProperty(c,"Variables");var h=this.extractBaseDataSource(c);var j=new f.PlanningFunctionMetadata();j.setPlanningOperationIdentifier(p);j.setDataArea(e);j.setInstanceId(i);j.setDimenstions(g);j.setVariables(v);j.setBaseDataSource(h);this.setPlanningOperationMetadata(j);return true;};f.DataAreaResponseGetPlanningSequenceMetadata=function(){};f.DataAreaResponseGetPlanningSequenceMetadata.prototype=new f.DataAreaResponseGetPlanningOperationMetadata();f.DataAreaResponseGetPlanningSequenceMetadata.prototype._ff_c="DataAreaResponseGetPlanningSequenceMetadata";f.DataAreaResponseGetPlanningSequenceMetadata.prototype.getDataAreaRequestGetPlanningSequenceMetadata=function(){return this.getDataAreaRequestGetPlanningOperationMetadata();};f.DataAreaResponseGetPlanningSequenceMetadata.prototype.getPlanningSequenceMetadata=function(){return this.getPlanningOperationMetadata();};f.DataAreaResponseGetPlanningSequenceMetadata.prototype.processResponseStructureInternal=function(r,m){var c=f.PrUtils.getStructureProperty(r,"Command");if(f.isNull(c)){return false;}var d=f.PrUtils.getStructureProperty(c,"DataSource");var a=f.PrUtils.getStringValueProperty(d,"DataArea","DEFAULT");var b=this.getDataAreaRequestGetPlanningSequenceMetadata();var e=b.getDataArea();if(!f.XString.isEqual(e.getDataArea(),a)){return false;}var i=this.getDataAreaRequestGetPlanningSequenceMetadata().getInstanceId();if(f.isNull(i)){return false;}var g=f.PrUtils.getStringValueProperty(d,"InstanceId",null);if(f.isNull(g)){g=i;}else{if(!f.XString.isEqual(g,i)){return false;}}var o=f.PrUtils.getStringValueProperty(d,"ObjectName",null);var p=this.getDataAreaRequestGetPlanningSequenceMetadata().getPlanningSequenceIdentifier();if(!f.XString.isEqual(o,p.getPlanningSequenceName())){return false;}var t=f.PrUtils.getStringValueProperty(d,"Type",null);if(!f.XString.isEqual(t,"PlanningSequence")){return false;}var h=f.PrUtils.getListProperty(c,"Dimensions");var v=f.PrUtils.getListProperty(c,"Variables");var s=this.extractStepMetadataList(c);var j=new f.PlanningSequenceMetadata();j.setPlanningOperationIdentifier(p);j.setDataArea(e);j.setInstanceId(g);j.setDimenstions(h);j.setVariables(v);j.setStepMetadataList(s);this.setPlanningOperationMetadata(j);return true;};f.DataAreaResponseGetPlanningSequenceMetadata.prototype.extractStepMetadataList=function(c){var s=f.PrUtils.getListProperty(c,"Steps");if(f.isNull(s)){return null;}var r=f.XList.create();for(var i=0;i<s.size();i++){var a=f.PrUtils.getStructureElement(s,i);if(f.isNull(a)){continue;}var n=f.PrUtils.getIntegerValueProperty(a,"StepNumber",0);var t=f.PlanningSequenceStepType.lookup(f.PrUtils.getStringValueProperty(a,"StepType",null));var b=this.extractBaseDataSource(a);var d=f.PrUtils.getStringValueProperty(a,"FilterName",null);var p=f.PrUtils.getStringValueProperty(a,"PlanningFunctionName",null);var q=f.PrUtils.getStringValueProperty(a,"QueryName",null);var e=f.PrUtils.getStringValueProperty(a,"Description",null);var g=f.PrUtils.getStringValueProperty(a,"CommandType",null);var h=new f.PlanningSequenceStepMetadata();h.setNumber(n);h.setType(t);h.setBaseDataSource(b);h.setFilterName(d);h.setPlanningFunctionName(p);h.setQueryName(q);h.setPlanningFunctionDescription(e);h.setCommendType(g);r.add(h);}return r;};f.PlanningModelRequestVersionClose=function(){};f.PlanningModelRequestVersionClose.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionClose.prototype._ff_c="PlanningModelRequestVersionClose";f.PlanningModelRequestVersionClose.CLOSE_MODE="CLOSE_MODE";f.PlanningModelRequestVersionClose.prototype.setCloseMode=function(c){this.setPropertyObject(f.PlanningModelRequestVersionClose.CLOSE_MODE,c);return this;};f.PlanningModelRequestVersionClose.prototype.getCloseMode=function(){return this.getPropertyObject(f.PlanningModelRequestVersionClose.CLOSE_MODE);};f.PlanningModelRequestVersionClose.prototype.addParametersToJson=function(p){var c=this.getCloseMode();if(f.notNull(c)&&!c.isOnlyClient()){p.putString("mode",c.getName());}};f.PlanningModelRequestVersionEndActionSequence=function(){};f.PlanningModelRequestVersionEndActionSequence.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionEndActionSequence.prototype._ff_c="PlanningModelRequestVersionEndActionSequence";f.PlanningModelRequestVersionEndActionSequence.SEQUENCE_ID="SEQUENCE_ID";f.PlanningModelRequestVersionEndActionSequence.DESCRIPTION="DESCRIPTION";f.PlanningModelRequestVersionEndActionSequence.prototype.setSequenceId=function(s){this.setPropertyString(f.PlanningModelRequestVersionEndActionSequence.SEQUENCE_ID,s);return this;};f.PlanningModelRequestVersionEndActionSequence.prototype.getSequenceId=function(){return this.getPropertyString(f.PlanningModelRequestVersionEndActionSequence.SEQUENCE_ID);};f.PlanningModelRequestVersionEndActionSequence.prototype.setDescription=function(d){this.setPropertyString(f.PlanningModelRequestVersionEndActionSequence.DESCRIPTION,d);return this;};f.PlanningModelRequestVersionEndActionSequence.prototype.getDescription=function(){return this.getPropertyString(f.PlanningModelRequestVersionEndActionSequence.DESCRIPTION);};f.PlanningModelRequestVersionEndActionSequence.prototype.addParametersToJson=function(p){var s=this.getSequenceId();if(f.XStringUtils.isNullOrEmpty(s)){s=this.getPlanningVersion().getActionSequenceId();}if(f.XStringUtils.isNotNullAndNotEmpty(s)){p.putString("sequence_id",s);}var d=this.getDescription();if(f.XStringUtils.isNotNullAndNotEmpty(d)){p.putString("description",d);}};f.PlanningModelRequestVersionSetParameters=function(){};f.PlanningModelRequestVersionSetParameters.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionSetParameters.prototype._ff_c="PlanningModelRequestVersionSetParameters";f.PlanningModelRequestVersionSetParameters.VERSION_PARAMETERS_STRUCTURE="VERSION_PARAMETERS_STRUCTURE";f.PlanningModelRequestVersionSetParameters.prototype.setVersionParametersAsJson=function(p){this.setPropertyObject(f.PlanningModelRequestVersionSetParameters.VERSION_PARAMETERS_STRUCTURE,p);if(f.notNull(p)){var v=this.getPlanningVersion();var s=p.getIntegerByKeyExt("showAsPublicVersion",-1);v.setShowingAsPublicVersion(s===1);var a=p.getStringByKeyExt("source version",null);if(!f.XStringUtils.isNullOrEmpty(a)){a=f.XStringUtils.concatenate3("public",".",a);}v.setSourceVersionName(a);}return this;};f.PlanningModelRequestVersionSetParameters.prototype.getVersionParametersStructure=function(){return this.getPropertyObject(f.PlanningModelRequestVersionSetParameters.VERSION_PARAMETERS_STRUCTURE);};f.PlanningModelRequestVersionSetParameters.prototype.addParametersToJson=function(p){var v=this.getVersionParametersStructure();if(f.PrUtils.getStructureSize(v,0)>0){p.put("parameters",v);}};f.PlanningModelRequestVersionSetTimeout=function(){};f.PlanningModelRequestVersionSetTimeout.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionSetTimeout.prototype._ff_c="PlanningModelRequestVersionSetTimeout";f.PlanningModelRequestVersionSetTimeout.TIMEOUT="TIMEOUT";f.PlanningModelRequestVersionSetTimeout.prototype.setTimeout=function(s){this.setPropertyInteger(f.PlanningModelRequestVersionSetTimeout.TIMEOUT,s);return this;};f.PlanningModelRequestVersionSetTimeout.prototype.getTimeout=function(){return this.getPropertyInteger(f.PlanningModelRequestVersionSetTimeout.TIMEOUT);};f.PlanningModelRequestVersionSetTimeout.prototype.addParametersToJson=function(p){var t=this.getTimeout();p.putInteger("timeout_value",t);};f.PlanningModelRequestVersionStartActionSequence=function(){};f.PlanningModelRequestVersionStartActionSequence.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionStartActionSequence.prototype._ff_c="PlanningModelRequestVersionStartActionSequence";f.PlanningModelRequestVersionStartActionSequence.SEQUENCE_ID="SEQUENCE_ID";f.PlanningModelRequestVersionStartActionSequence.DESCRIPTION="DESCRIPTION";f.PlanningModelRequestVersionStartActionSequence.prototype.setSequenceId=function(s){this.setPropertyString(f.PlanningModelRequestVersionStartActionSequence.SEQUENCE_ID,s);return this;};f.PlanningModelRequestVersionStartActionSequence.prototype.getSequenceId=function(){return this.getPropertyString(f.PlanningModelRequestVersionStartActionSequence.SEQUENCE_ID);};f.PlanningModelRequestVersionStartActionSequence.prototype.setDescription=function(d){this.setPropertyString(f.PlanningModelRequestVersionStartActionSequence.DESCRIPTION,d);return this;};f.PlanningModelRequestVersionStartActionSequence.prototype.getDescription=function(){return this.getPropertyString(f.PlanningModelRequestVersionStartActionSequence.DESCRIPTION);};f.PlanningModelRequestVersionStartActionSequence.prototype.addParametersToJson=function(p){var s=this.getSequenceId();if(f.XStringUtils.isNotNullAndNotEmpty(s)){p.putString("sequence_id",s);}var d=this.getDescription();if(f.XStringUtils.isNotNullAndNotEmpty(d)){p.putString("description",d);}};f.PlanningModelRequestVersionStartActionSequence.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseVersionStartActionSequence();};f.PlanningModelRequestVersionStateDescriptions=function(){};f.PlanningModelRequestVersionStateDescriptions.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionStateDescriptions.prototype._ff_c="PlanningModelRequestVersionStateDescriptions";f.PlanningModelRequestVersionStateDescriptions.START_INDEX="START_INDEX";f.PlanningModelRequestVersionStateDescriptions.COUNT="COUNT";f.PlanningModelRequestVersionStateDescriptions.prototype.setStartIndex=function(s){this.setPropertyInteger(f.PlanningModelRequestVersionStateDescriptions.START_INDEX,s);return this;};f.PlanningModelRequestVersionStateDescriptions.prototype.getStartIndex=function(){return this.getPropertyInteger(f.PlanningModelRequestVersionStateDescriptions.START_INDEX);};f.PlanningModelRequestVersionStateDescriptions.prototype.setCount=function(c){this.setPropertyInteger(f.PlanningModelRequestVersionStateDescriptions.COUNT,c);return this;};f.PlanningModelRequestVersionStateDescriptions.prototype.getCount=function(){return this.getPropertyInteger(f.PlanningModelRequestVersionStateDescriptions.COUNT);};f.PlanningModelRequestVersionStateDescriptions.prototype.addParametersToJson=function(p){var s=this.getStartIndex();if(s!==0){p.putInteger("start",s);var c=this.getCount();if(c!==0){p.putInteger("count",c);}}};f.PlanningModelRequestVersionStateDescriptions.prototype.createCommandResultInstance=function(){return new f.PlanningModelResponseVersionStateDescriptions();};f.PlanningModelRequestVersionUndoRedo=function(){};f.PlanningModelRequestVersionUndoRedo.prototype=new f.PlanningModelRequestVersion();f.PlanningModelRequestVersionUndoRedo.prototype._ff_c="PlanningModelRequestVersionUndoRedo";f.PlanningModelRequestVersionUndoRedo.NUM_UNDO_REDO_STEPS="NUM_UNDO_REDO_STEPS";f.PlanningModelRequestVersionUndoRedo.prototype.addParametersToJson=function(p){var s=this.getSteps();if(s>0){p.putInteger("num_undo_redo_steps",s);}};f.PlanningModelRequestVersionUndoRedo.prototype.setSteps=function(s){this.setPropertyInteger(f.PlanningModelRequestVersionUndoRedo.NUM_UNDO_REDO_STEPS,s);return this;};f.PlanningModelRequestVersionUndoRedo.prototype.getSteps=function(){return this.getPropertyInteger(f.PlanningModelRequestVersionUndoRedo.NUM_UNDO_REDO_STEPS);};f.PlanningModelResponseVersionStartActionSequence=function(){};f.PlanningModelResponseVersionStartActionSequence.prototype=new f.PlanningModelResponseVersion();f.PlanningModelResponseVersionStartActionSequence.prototype._ff_c="PlanningModelResponseVersionStartActionSequence";f.PlanningModelResponseVersionStartActionSequence.SEQUENCE_ID="SEQUENCE_ID";f.PlanningModelResponseVersionStartActionSequence.prototype.getSequenceId=function(){return this.getPropertyString(f.PlanningModelResponseVersionStartActionSequence.SEQUENCE_ID);};f.PlanningModelResponseVersionStartActionSequence.prototype.setSequenceId=function(s){this.setPropertyString(f.PlanningModelResponseVersionStartActionSequence.SEQUENCE_ID,s);};f.PlanningModelResponseVersionStartActionSequence.prototype.processResponseStructureInternal=function(r,m){var a=f.PlanningModelResponseVersion.prototype.processResponseStructureInternal.call(this,r,m);if(!a){return false;}var b=f.PlanningModelCommandHelper.getResponsesList(r);var c=this.getPlanningModelRequestVersion();var d=f.PlanningModelCommandHelper.getCommandsList(c.serializeToJson());return f.PlanningModelCommandHelper.processResponseStartActionSequence(d,b,this);};f.PlanningModelResponseVersionStateDescriptions=function(){};f.PlanningModelResponseVersionStateDescriptions.prototype=new f.PlanningModelResponseVersion();f.PlanningModelResponseVersionStateDescriptions.prototype._ff_c="PlanningModelResponseVersionStateDescriptions";f.PlanningModelResponseVersionStateDescriptions.VERSION_IDENTIFIER="VERSION_IDENTIFIER";f.PlanningModelResponseVersionStateDescriptions.VERSION_DESCRIPTION="VERSION_DESCRIPTION";f.PlanningModelResponseVersionStateDescriptions.AVAILABLE_UNDOS="AVAILABLE_UNDOS";f.PlanningModelResponseVersionStateDescriptions.AVAILABLE_REDOS="AVAILABLE_REDOS";f.PlanningModelResponseVersionStateDescriptions.DESCRIPTIONS="DESCRIPTIONS";f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionIdentifier=function(){return this.getPropertyObject(f.PlanningModelResponseVersionStateDescriptions.VERSION_IDENTIFIER);};f.PlanningModelResponseVersionStateDescriptions.prototype.setVersionIdentifier=function(i){this.setPropertyObject(f.PlanningModelResponseVersionStateDescriptions.VERSION_IDENTIFIER,i);};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionId=function(){return this.getVersionIdentifier().getVersionId();};f.PlanningModelResponseVersionStateDescriptions.prototype.isSharedVersion=function(){return this.getVersionIdentifier().isSharedVersion();};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionOwner=function(){return this.getVersionIdentifier().getVersionOwner();};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionUniqueName=function(){return this.getVersionIdentifier().getVersionUniqueName();};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionDescription=function(){return this.getPropertyString(f.PlanningModelResponseVersionStateDescriptions.VERSION_DESCRIPTION);};f.PlanningModelResponseVersionStateDescriptions.prototype.setVersionDescription=function(v){this.setPropertyString(f.PlanningModelResponseVersionStateDescriptions.VERSION_DESCRIPTION,v);};f.PlanningModelResponseVersionStateDescriptions.prototype.getAvailableUndos=function(){return this.getPropertyInteger(f.PlanningModelResponseVersionStateDescriptions.AVAILABLE_UNDOS);};f.PlanningModelResponseVersionStateDescriptions.prototype.setAvailableUndos=function(u){this.setPropertyInteger(f.PlanningModelResponseVersionStateDescriptions.AVAILABLE_UNDOS,u);};f.PlanningModelResponseVersionStateDescriptions.prototype.getAvailableRedos=function(){return this.getPropertyInteger(f.PlanningModelResponseVersionStateDescriptions.AVAILABLE_REDOS);};f.PlanningModelResponseVersionStateDescriptions.prototype.setAvailableRedos=function(r){this.setPropertyInteger(f.PlanningModelResponseVersionStateDescriptions.AVAILABLE_REDOS,r);};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescriptionList=function(){return this.getPropertyObject(f.PlanningModelResponseVersionStateDescriptions.DESCRIPTIONS);};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescription=function(i){return this.getVersionStateDescriptionList().get(i);};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescriptionIterator=function(){return this.getVersionStateDescriptionList().getIterator();};f.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescriptionSize=function(){return this.getVersionStateDescriptionList().size();};f.PlanningModelResponseVersionStateDescriptions.prototype.setVersionStateDescriptions=function(d){this.setPropertyObject(f.PlanningModelResponseVersionStateDescriptions.DESCRIPTIONS,d);};f.PlanningModelResponseVersionStateDescriptions.prototype.processResponseStructureInternal=function(r,m){var a=f.PlanningModelResponseVersion.prototype.processResponseStructureInternal.call(this,r,m);if(!a){return false;}var b=f.PlanningModelCommandHelper.getResponsesList(r);var c=this.getPlanningModelRequestVersion();var d=f.PlanningModelCommandHelper.getCommandsList(c.serializeToJson());return f.PlanningModelCommandHelper.processResponseStateDescriptions(d,b,this);};f.PlanningModelResponseVersionStateDescriptions.prototype.toString=function(){var b=f.XStringBuffer.create();b.append("version id: ").appendInt(this.getVersionId()).append("\n");b.append("version description: ").append(this.getVersionDescription()).append("\n");b.append("undos: ").appendInt(this.getAvailableUndos()).append("\n");b.append("redos: ").appendInt(this.getAvailableRedos()).append("\n");var d=this.getVersionStateDescriptionIterator();b.append("state descriptions: [");while(d.hasNext()){b.append(d.next().toString());if(d.hasNext()){b.append(", ");}}b.append("]");return b.toString();};f.PlanningModelRequestVersionInit=function(){};f.PlanningModelRequestVersionInit.prototype=new f.PlanningModelRequestVersionSetParameters();f.PlanningModelRequestVersionInit.prototype._ff_c="PlanningModelRequestVersionInit";f.PlanningModelRequestVersionInit.RESTORE_BACKUP_TYPE="RESTORE_BACKUP_TYPE";f.PlanningModelRequestVersionInit.prototype.setRestoreBackupType=function(r){this.setPropertyObject(f.PlanningModelRequestVersionInit.RESTORE_BACKUP_TYPE,r);return this;};f.PlanningModelRequestVersionInit.prototype.getRestoreBackupType=function(){var r=this.getPropertyObject(f.PlanningModelRequestVersionInit.RESTORE_BACKUP_TYPE);if(f.isNull(r)){r=f.RestoreBackupType.NONE;}return r;};f.PlanningModelRequestVersionInit.prototype.setVersionParameters=function(p){var a=f.PlanningVersion.parametersStringMap2ParametersStructure(p);this.setVersionParametersAsJson(a);return this;};f.PlanningModelRequestVersionInit.prototype.setVersionParametersAsJson=function(p){f.PlanningModelRequestVersionSetParameters.prototype.setVersionParametersAsJson.call(this,p);if(f.notNull(p)){this.tryPublicVersionEdit();}return this;};f.PlanningModelRequestVersionInit.prototype.tryPublicVersionEdit=function(){var p=this.getPlanningModel();if(f.isNull(p)||!p.supportsPublicVersionEdit()){return;}var v=this.getPlanningVersion();var a=v.isShowingAsPublicVersion()&&f.XStringUtils.isNotNullAndNotEmpty(v.getSourceVersionName());this.setInvalidatingResultSet(!a);};f.PlanningModelRequestVersionInit.prototype.getVersionParameters=function(){var p=this.getVersionParametersStructure();return f.PlanningVersion.parametersStructure2ParametersStringMap(p);};f.PlanningModelRequestVersionInit.prototype.addParametersToJson=function(p){f.PlanningModelRequestVersionSetParameters.prototype.addParametersToJson.call(this,p);var d=this.getPlanningVersion().getVersionDescription();if(f.XStringUtils.isNotNullAndNotEmpty(d)){p.putString("description",d);}var r=this.getRestoreBackupType();if(f.notNull(r)){if(f.RestoreBackupType.RESTORE_TRUE===r){p.putBoolean("restore_backup",true);}else if(f.RestoreBackupType.RESTORE_FALSE===r){p.putBoolean("restore_backup",false);}}};f.IpImplModule=function(){};f.IpImplModule.prototype=new f.DfModule();f.IpImplModule.prototype._ff_c="IpImplModule";f.IpImplModule.s_module=null;f.IpImplModule.getInstance=function(){if(f.isNull(f.IpImplModule.s_module)){f.DfModule.checkInitialized(f.OlapImplModule.getInstance());f.IpImplModule.s_module=f.DfModule.startExt(new f.IpImplModule());var r=f.RegistrationService.getInstance();f.PlanningServiceConfig.staticSetup();r.addServiceConfig(f.OlapApiModule.XS_PLANNING,f.PlanningServiceConfig.CLAZZ);f.PlanningService.staticSetup();r.addService(f.OlapApiModule.XS_PLANNING,f.PlanningService.CLAZZ);f.XCmdInitPlanningStep.staticSetup();f.XCmdInitPlanningStepResult.staticSetup();r.addCommand(f.XCmdInitPlanningStep.CMD_NAME,f.XCmdInitPlanningStep.CLAZZ);f.XCmdCreatePlanningOperation.staticSetup();f.XCmdCreatePlanningOperationResult.staticSetup();r.addCommand(f.XCmdCreatePlanningOperation.CMD_NAME,f.XCmdCreatePlanningOperation.CLAZZ);f.PlanningBatchRequestDecoratorProvider.staticSetup();r.addReference(f.BatchRequestDecoratorFactory.BATCH_REQUEST_DECORATOR_PROVIDER,f.PlanningBatchRequestDecoratorProvider.CLAZZ);f.PlanningRsRequestDecoratorProvider.staticSetup();r.addReference(f.RsRequestDecoratorFactory.RESULTSET_REQUEST_DECORATOR_PROVIDER,f.PlanningRsRequestDecoratorProvider.CLAZZ);f.PlanningFactory.setInstance(new f.PlanningManagerFactoryImpl());f.DfModule.stopExt(f.IpImplModule.s_module);}return f.IpImplModule.s_module;};f.IpImplModule.prototype.getName=function(){return"ff4315.olap.ip.impl";};f.IpImplModule.getInstance();return sap.firefly;});
