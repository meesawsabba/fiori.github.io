/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define("sap/zen/dsh/rsrt/Component",["sap/ui/core/UIComponent","sap/base/Log","sap/zen/dsh/rsrt/utils/Utilities","sap/zen/dsh/utils/ErrorHandler","sap/zen/commons/thirdparty/lodash","sap/zen/dsh/library","sap/viz/library","sap/ui/vbm/library","sap/suite/ui/commons/library"],function(U,L,a,E,_){"use strict";var R=U.extend("sap.zen.dsh.rsrt.Component",{metadata:{manifest:"json",publicMethods:["reload","loaded"],properties:{host:{type:"string",},port:{type:"int",defaultValue:443},path:{type:"string"},systemType:{type:"sap.zen.dsh.SystemType"},systemName:{type:"string",defaultValue:"localAbapAnalyticEngine"},protocolType:{type:"sap.zen.dsh.ProtocolType",},client:{type:"string",},dataSourceName:{type:"string",},dataSourceType:{type:"sap.zen.dsh.DataSourceType",},packageName:{type:"string"},schemaName:{type:"string"}}},reload:function(){var t=this;t.getRootControl().setBusy(true);t.Utilities.getLoaded=_.constant(Promise.resolve(null).then(t.Utilities.readComponentData).then(t.Utilities.initComp).then(t.Utilities.adjustLandscape).then(t.Utilities.getPersData).then(t.Utilities.updateVariants).then(t.Utilities.determineDataSource).then(t.Utilities.loadDataSource).then(t.Utilities.adjustTitle).then(t.Utilities.executeDataSourceIfPossible).then(t.Utilities.adjustFilterBar).catch(function(e){return E.handleWithPopUp(e,true);}).then(function(){t.getRootControl().setBusy(false);}));return t.Utilities.getLoaded();},loaded:function(){return this.Utilities.getLoaded();},init:function(){U.prototype.init.apply(this,arguments);var t=this;t.Utilities=new a(t);t.getRootControl().setBusy(true);t.Utilities.getLoaded=_.constant(t.rootControlLoaded().then(t.reload.bind(t)).catch(function(e){t.Utilities.terminateApplication(e);}));},exit:function(){var v=this.getRootControl();this.getModel("om").logoff();v.destroyDependents();v.destroyContent();v.removeAllDependents();v.destroy();}});return R;});
