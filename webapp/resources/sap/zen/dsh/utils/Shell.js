/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/ushell/services/Container"],function(q,L,C){"use strict";L.info("Loaded Shell");var r={attach:function(){function m(M,o,d){var A=d?JSON.parse(JSON.stringify(o)):o;if(typeof o!=="object"){return;}Object.keys(A).forEach(function(k){if(Object.prototype.toString.apply(M[k])==="[object Object]"&&Object.prototype.toString.apply(A[k])==="[object Object]"){m(M[k],A[k],false);return;}M[k]=A[k];});}function a(o){var A,l,n,d;function G(f){var A=[],s;if(!f||!f.applications||typeof f.applications!=="object"){return A;}for(s in f.applications){if(Object.prototype.hasOwnProperty.call(f.applications,s)&&s!==""){A.push(s);}}return A;}function M(f,i,k){var s=f.title||f.additionalInformation.replace("SAPUI5.Component=","").split(".").pop();return{"id":"sap_ushell_generated_tile_id_"+i,"title":s,"size":"1x1","tileType":"sap.ushell.ui.tile.StaticTile","properties":{"chipId":"sap_ushell_generated_chip_id","title":s,"info":f.description,"targetURL":"#"+k}};}A=G(o);if(A.length){l=q.sap.getObject("services.LaunchPage.adapter.config",0,o);if(!l.groups){l.groups=[];}d={"id":"sap_ushell_generated_group_id","title":"Generated Group","tiles":[]};l.groups.unshift(d);A.forEach(function(s,S){d.tiles.push(M(o.applications[s],S,s));});n=q.sap.getObject("services.NavTargetResolution.adapter.config.applications",0,o);m(n,o.applications,true);delete o.applications;}return o;}function b(u){var U=q.sap.endsWithIgnoreCase(u,".json")?u:u+".json",x;L.info("Mixing/Overwriting sandbox configuration from "+U+".");x=q.sap.sjax({url:U,dataType:"json"});if(x.success){L.debug("Evaluating fiori launchpad sandbox config JSON: "+JSON.stringify(x.data));m(window["sap-ushell-config"],x.data,true);}else if(x.statusCode!==404){L.error("Failed to load Fiori Launchpad Sandbox configuration from "+U+": status: "+x.status+"; error: "+x.error);}}function g(){var s,B,d,f;B=window.document.getElementById("sap-ushell-bootstrap");if(!B){s=window.document.getElementsByTagName("script");B=s[s.length-1];}d=B.src;f=d.split("?")[0].split("/").slice(0,-1).join("/")+"/";return f;}function e(R){var s=window["sap-ushell-config"],A;if(typeof R==="string"&&R!==""){s.defaultRenderer=R;}A=q.sap.getObject("services.NavTargetResolution.adapter.config.applications",5,s);if(typeof A==="object"&&s.defaultRenderer!=="fiorisandbox"){delete A[""];}}function c(f){var d=q.sap.getUriParameters().get("sap-ushell-sandbox-config",true),s=q.sap.getUriParameters().get("sap-ushell-sandbox-renderer"),i,o,R,u;b(g()+"../shells/sandbox/fioriSandboxConfig.json");if(d&&d.length>0){for(i=0;i<d.length;i=i+1){b(d[i]);}}else{b("/appconfig/fioriSandboxConfig.json");}e(s);window["sap-ushell-config"]=a(window["sap-ushell-config"]);R=q.sap.getObject("renderers.fiori2.componentData.config",0,window["sap-ushell-config"]);if(!R.rootIntent){R.rootIntent="Shell-home";}u=q.sap.getObject("services.Ui5ComponentLoader.config",0,window["sap-ushell-config"]);if(!Object.prototype.hasOwnProperty.call(u,"amendedLoading")){u.amendedLoading=false;}o=q.sap.getObject("services.ClientSideTargetResolution.adapter.config",0,window["sap-ushell-config"]);o.applications=q.sap.getObject("services.NavTargetResolution.adapter.config.applications",undefined,window["sap-ushell-config"]);sap.ushell.bootstrap("local").done(f);}sap.ushell.__sandbox__=sap.ushell.__sandbox__||{};sap.ushell.__sandbox__._adjustApplicationConfiguration=a;sap.ushell.__sandbox__._applyJsonApplicationConfig=b;sap.ushell.__sandbox__._evaluateCustomRenderer=e;sap.ushell.__sandbox__._bootstrap=c;return c;}};});
