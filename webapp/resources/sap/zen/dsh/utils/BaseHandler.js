/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/zen/dsh/utils/dispatcher","sap/m/IconTabBar","sap/m/IconTabFilter","sap/ui/commons/TabStrip","sap/m/Select","sap/m/Panel","sap/ui/commons/Panel","sap/m/Dialog","sap/ui/commons/Dialog","sap/m/Button","sap/ui/commons/Button","sap/m/TextArea","sap/ui/commons/TextArea","sap/m/Label","sap/ui/commons/Label","sap/zen/commons/layout/AbsoluteLayout","sap/ui/unified/Menu","sap/ui/unified/MenuItem","sap/m/CheckBox","sap/ui/commons/CheckBox","sap/zen/dsh/firefly/library","sap/ui/table/library"],function(q,L,d,I,a,T,S,M,C,b,c,e,f,g,h,j,k,A,U,l,m,n){function B(){this.styleClasses=[];this.createUI5Identifier=function(i){return i.replace(/[^-A-Za-z0-9_.:]/g,"_");};this.remove=function(i){if(this.applyForChildren){this.applyForChildren(i,function(s){d.dispatchRemove(s);});}d.deregisterResizeHandler(i);if(i.zenMessageControl){d.removeMessageOverlay(i);i.onAfterRendering=i.oldAfterRenderingForDispatching;delete i.oldAfterRenderingForDispatching;delete i.showLoadingState;delete i.showLoadingStateText;delete i.showLoadingStateIcon;delete i.zenMessageControl;}i.destroy();};this.createAndAdd=function(i,s,t,u,v){var N=this.create(i,s,t);if(!N){L.error("Failed to create a new control");throw new Error("Failed to create new control");}if(u){u(N,v,t);}d.updateComponentProperties(N,t,u);return N;};this.updateComponent=function(i,s,t,u){this.update(i,s,t);d.updateComponentProperties(i,t,u);};this.isNew=function(i){return d.getRootControlForComponentId(i.id)==null;};this.updateChildren=function(s,t,u,D){var v=this.getAllChildren(t);for(var i=0;i<s.length;i++){var w;if(s[i].component){w=s[i].component;}else{w={id:s[i].control.id,content:s[i]};var x=w.content.control.controlLayoutProperties;if(x){for(var K in x){if(Object.prototype.hasOwnProperty.call(x,K)){w[K]=x[K];}}}}var y=v[w.id];if(this.isNew(w)){d.dispatchCreateControl(w,u,i);}else if(y){var z=y.i;if(z!==i){var E=y.o;D(E);u(E,i);}d.dispatchUpdateControl(w);}else{var F=d.getTransferControl(w.id);u(F,i);d.dispatchUpdateControl(w,u);}delete v[w.id];}var G=this.getAllChildren(t);for(var R in v){if(G[R]){var H=v[R].o;d.addTransferControl(H,D);}}};this.getAllChildren=function(i){var s={};var t=0;var u=function(v){var w=d.getComponentIdForControl(v);if(w){s[w]={i:t,o:v};t++;}};this.applyForChildren(i,u);return s;};this.prepareCommand=function(t,P,v){return d.prepareCommand(t,P,v);};this.advancedPropertyCall=function(){return null;};this.getContextMenuAction=function(){return null;};this.getDefaultProxyClass=function(){throw new Error("You have to provide a default proxy class! [<MCLASS>,<UI_COMMONS_CLASS>]");};this.provideFunctionMapping=function(){return null;};var o=function(s){L.info("Dynamically loading class: "+s);var i=r(s);if(i==null){q.sap.require(s);i=r(s);}if(i==null){throw new Error("Object does not exist! Check your getDefaultProxyClass method!");}return i;};var p=function(i,u,F){i[u]=function(){if(F!==null){return this[F].apply(this,arguments);}return null;};};this.createDefaultProxy=function(s){var t,u;if(d.isMainMode()){t=this.getDefaultProxyClass()[0];u=o(t);var v=new u(s);var w=this.provideFunctionMapping();if(w!=null){for(var i=0;i<w.length;i++){var x=w[i][1];var F=w[i][0];p(v,x,F);}}return v;}else{t=this.getDefaultProxyClass()[1];u=o(t);return new u(s);}};function r(s){var P=s.split(".");var R=window;for(var i=0;i<P.length;i++){var O=P[i];R=R[O];if(!R){break;}}return R;}this.createButton=function(i,s){if(d.isMainMode()){return new e(i,s);}else{return new f(i,s);}};this.createButtonWithHeight=function(i){if(d.isMainMode()){this.createZenButtonClassIfNecessary();return new sap.zen.ZenButton(i);}else{return new f(i);}};this.createZenButtonClassIfNecessary=function(){if(d.isMainMode()){e.extend("sap.zen.ZenButton",{metadata:{properties:{height:"sap.ui.core.CSSSize"}},renderer:{},onAfterRendering:function(i){if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,[i]);}this.addStyleClass("zenSapMBtnFixHeight");var s=this.getHeight();var t=this.$();var u=q(t.children()[0]);var v=q(u.children()[0]);if(s!=="auto"){t.css("height",s);u.css("height",s);v.css("line-height",s);}}});}};this.createPanel=function(i){if(d.isMainMode()){return new M(i);}else{return new C(i);}};this.createDropdownBox=function(i,s){if(d.isMainMode()){var t=new S(i,s);t.setEditable=function(){};t.getValue=function(){return this.getSelectedItem().getKey();};return t;}else{return new sap.ui.commons.DropdownBox(i,s);}};this.createTabStrip=function(s,t){if(d.isMainMode()){var u=I(s,t);u.createTab=function(i,O){var v=new a();v.setText(i);v.addContent(O);this.addItem(v);};u.getSelectedIndex=function(){var v=this.getItems();for(var i=0;i<v.length;i++){if(v[i].getId()===this.getSelectedKey()){return i;}}return 0;};u.setSelectedIndex=function(i){var v=this.getItems();this.setSelectedKey(v[i].getId());};return u;}else{return new T(s,t);}};this.createLabel=function(i,s){if(d.isMainMode()){return new j(i,s);}else{return new k(i,s);}};this.createTree=function(i){if(d.isMainMode()){return new sap.ui.table.TreeTable(i,{columns:[new sap.ui.table.Column({label:"Text",template:"text"})]});}else{return new sap.ui.commons.Tree(i);}};this.createDialog=function(i,P){if(d.isMainMode()){var D=new b(i);D.attachClosed=function(F){this.attachAfterClose(F);};D.setResizable=function(){};D.setMinWidth=function(){};D.setMinHeight=function(){};D.addStyleClass("sapUiPopupWithPadding");return D;}else{return new c(i,P);}};this.createMenu=function(i,s){if(d.isMainMode()){return new U(i,s);}else{return new sap.ui.commons.Menu(i,s);}};this.createMenuItem=function(i,P){if(d.isMainMode()){return new l(i,P);}else{return new sap.ui.commons.MenuItem(i,P);}};this.createCheckBox=function(i,s){if(d.isMainMode()){var t=new m(i,s);t.setChecked=function(u){this.setSelected(u);};t.getChecked=function(){return this.getSelected();};t.attachChange=function(F){this.attachSelect(F);};return t;}else{return new n(i,s);}};this.createTextView=function(i,s){if(d.isMainMode()){return new sap.m.Text(i,s);}else{return new sap.ui.commons.TextView(i,s);}};this.createTextField=function(i,s){if(d.isMainMode()){return new sap.m.Input(i,s);}else{return new sap.ui.commons.TextField(i,s);}};this.createTextArea=function(i,s){if(d.isMainMode()){return new g(i,s);}else{return new h(i,s);}};this.useMessageBox=function(){if(d.isMainMode()){return sap.m.MessageBox;}else{return sap.ui.commons.MessageBox;}};this.createTextWithHeight=function(i,s){this.createTextClassWithHeight();return new sap.zen.dsh.ZenTextView(i,s);};this.createTextClassWithHeight=function(){if(sap.zen.dsh.ZenTextView&&sap.zen.dsh.ZenTextView.isMainMode!==d.isMainMode()){delete sap.zen.ZenTextView;}if(!sap.zen.dsh.ZenTextView){var t;if(d.isMainMode()){t=sap.m.Text;}else{t=sap.ui.commons.TextView;}t.extend("sap.zen.dsh.ZenTextView",{metadata:{properties:{"height":"sap.ui.core.CSSSize","cssStyle":"string"}},renderer:{},onAfterRendering:function(i){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,[i]);}var s=this.getHeight();var u=this.$();if(s!=="auto"){u.height(s);}var v=u.attr("style");v+=";"+this.getCssStyle();u.attr("style",v);}});sap.zen.dsh.ZenTextView.isMainMode=d.isMainMode();}};this.createAbsoluteLayout=function(i,P){return new A(i,P);};}B.dispatcher=d;return B;});
