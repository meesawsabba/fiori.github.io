/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define("sap/zen/dsh/utils/ApplicationHelper",["sap/base/Log","sap/zen/commons/thirdparty/lodash"],function(L,_){"use strict";L.info("ApplicationHelper loaded");function A(){function c(s,S){var o=s.createSystem();o.setName(S.systemName);o.setTimeout(10000);o.setAuthenticationType(sap.firefly.AuthenticationType[S.authentication||"NONE"]);o.setSystemType(sap.firefly.SystemType[S.systemType]);o.setProtocolType(sap.firefly.ProtocolType[S.protocol]);o.setHost(S.host);o.setPort(S.port);o.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);s.setSystemByDescription(o);}this.addSystem=function(a,s){c(a.getSystemLandscape(),s);if(s.getSystemType().isTypeOf(sap.firefly.SystemType.BW)){a.getConnectionPool().setMaximumSharedConnections(s.getName(),10);}};this.createApplication=function(s,m){var r=null;var R=null;function h(a,b){r=a;R=b;}var p=new Promise(h);sap.firefly.ApplicationFactory.createApplicationForDragonfly(function(e){if(e.hasErrors()){R(e.getErrors());}else{r(e.getData());}});return p.then(function(a){var S=sap.firefly.StandaloneSystemLandscape.create(a);a.setSystemLandscape(S);_.forEach(s,c.bind(null,S));S.setMasterSystemName(m);return a;});};}return new A();});
