/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/commons/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(jQuery,_,BaseHandler){"use strict";var dispatcher=BaseHandler.dispatcher;var ClickPaneHandler=function(){BaseHandler.apply(this,arguments);var setattributes=function(i,c){i.zenStandardVis=c.standardVis;i.zenBlankUrl=c.blankUrl;i.zenBackgroundColor=c.backgroundColor;i.zenHoverVis=c.hoverVis;i.zenClickVis=c.clickVis;i.zenOpacity=c.opacity;};function setOpacity(i){var d=i.$();if(i.zenOpacity>=0&&i.zenOpacity<100){d.css("opacity",i.zenOpacity/100);d.css("filter","alpha(opacity="+i.zenOpacity+")");}else{d.css("opacity","");d.css("filter","");}}function setBorder(i){if(i.zenBlankUrl&&!i.zenBackgroundColor){var d=i.$();d.css("border-style","dashed");d.css("border-width","1px");d.css("border-color","gray");}}var addevents=function(oImage,oControlProperties){function aStartsWithB(a,b){return!a.indexOf(b);}if(sap.zen.dsh.sapbi_isMobile){oImage.attachBrowserEvent("touchstart",function(e){if(oImage.zenClickVis){e.target.src=oImage.zenClickVis;if(e.preventDefault){e.preventDefault();}if(e.stopPropagation){e.stopPropagation();}if(e.cancelBubble){e.cancelBubble=true;}}});oImage.attachBrowserEvent("touchend",function(evt){if(evt.target.src.indexOf(oImage.zenStandardVis)===-1&&oImage.zenStandardVis.indexOf(evt.target.src)===-1){evt.target.src=oImage.zenStandardVis;}if(oControlProperties.onclick){eval(oControlProperties.onclick);}});}else{oImage.attachBrowserEvent("mouseover",function(e){if(oImage.zenHoverVis){e.target.src=oImage.zenHoverVis;}});oImage.attachBrowserEvent("mouseout",function(e){if(e.target.src.indexOf(oImage.zenStandardVis)===-1&&oImage.zenStandardVis.indexOf(e.target.src)===-1){e.target.src=oImage.zenStandardVis;}});oImage.attachBrowserEvent("mousedown",function(e){if(oImage.zenClickVis){e.target.src=oImage.zenClickVis;}});oImage.attachBrowserEvent("mouseup",function(e){if(oImage.zenHoverVis){e.target.src=oImage.zenHoverVis;}else{if(e.target.src.indexOf(oImage.zenStandardVis)===-1&&oImage.zenStandardVis.indexOf(e.target.src)===-1){e.target.src=oImage.zenStandardVis;}}});if(oControlProperties.onclick){oImage.attachBrowserEvent("click",function(){eval(oControlProperties.onclick);});}}oImage.onAfterRendering_org=oImage.onAfterRendering;oImage.onAfterRendering=function(){if(oImage.onAfterRendering_org){oImage.onAfterRendering_org();}setOpacity(oImage);if(aStartsWithB(oImage.zenBackgroundColor,"#")){oImage.$().css("background-color",oImage.zenBackgroundColor);}if(sap.zen.designmode){setBorder(oImage);}};};var init=function(i,c,C){dispatcher.setWidthHeight(i,C.width,C.height);i.setSrc(i.zenStandardVis);if(c){if(c.onclick){i.addStyleClass("zenClickable");}i.setTooltip(c.tooltip);}};this.create=function(c,C,o){var i=C["id"];var I=this.createDefaultProxy(i);I.addStyleClass("sapFixIEBugThatMakesImageControlTwoPixelsTooHigh");setattributes(I,C);addevents(I,C);init(I,C,o);return I;};this.update=function(c,C,o){if(C){setattributes(c,C);}init(c,C,o);setOpacity(c);return c;};this.getDefaultProxyClass=function(){return["sap.m.Image","sap.ui.commons.Image"];};this.getType=function(){return"clickpane";};};var instance=new ClickPaneHandler();BaseHandler.dispatcher.addHandlers(instance.getType(),instance);return instance;});
