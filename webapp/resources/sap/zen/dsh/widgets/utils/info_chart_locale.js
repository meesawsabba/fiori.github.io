/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/commons/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(q,_){"use strict";function L(){this._bundles={};this._callbacks=null;}L.prototype.onLoad=function(c){var l=sap.ui.getCore().getConfiguration().getFormatLocale();var t=this;var v=sap.viz.api.env.Locale.get();sap.viz.api.env.Format.useDefaultFormatter(true);if(l!==v){var a=[];a.push(q.sap.getModulePath("sap.viz.resources.chart.langs","/"));a.push(q.sap.getModulePath("sap.viz.resources.framework.langs","/"));sap.viz.api.env.Resource.path("sap.viz.api.env.Language.loadPaths",a);if(!this._callbacks){this._callbacks=[];this._callbacks.push(c);sap.viz.api.env.Locale.set(l,function(){t._currentLocale=l;_.forEach(t._callbacks,function(c){c();});t._callbacks=null;});}else{this._callbacks.push(c);}}else{c();}};L.prototype.getBundle=function(u){if(!this._bundles[u]){this._bundles[u]=q.sap.resources({url:u,locale:g()});}return this._bundles[u];};function g(){var l=sap.ui.getCore().getConfiguration().getLanguage();if(l.indexOf("-")>-1){l=l.split("-");l=l[0];}if(l.indexOf("_")>-1){l=l.split("_");l=l[0];}return l;}return L;});
