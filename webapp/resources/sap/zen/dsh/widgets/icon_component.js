/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/ui/core/Icon","sap/zen/dsh/utils/BaseHandler"],function(q,L,I,B){"use strict";return I.extend("com.sap.ip.bi.Icon",{initDesignStudio:function(){B.dispatcher.registerResizeHandler(this,this);this.attachPress(function(){this.fireDesignStudioEvent("onclick");});},renderer:{},endResize:function(){var _=this.getWidth();var a=this.getHeight();if(_==="auto"){_=this.$().width();}else{_=parseInt(_);}if(a==="auto"){a=this.$().height();}else{a=parseInt(a);}if(isNaN(_)||isNaN(a)){return;}var n=a+"px";this.$().css({"line-height":n});var b;if(_<a){b=_;}else{b=a;}if(this.getBackgroundShape()==="ELLIPSIS"){b=Math.floor(Math.sqrt(Math.pow(0.5*b,2)*2));}b*=this.getSizeFactor();this.setSize(b+"px");},onAfterRendering:function(){if(I.prototype.onAfterRendering){I.prototype.onAfterRendering.apply(this,arguments);}this.endResize();this.$().addClass("icon_"+this.getBackgroundShape());if(this._enabled){this.$().addClass("enabled");this.$().css("cursor","pointer");}else{this.$().removeClass("enabled");this.$().css("cursor","default");}},setHeight:function(v){I.prototype.setHeight.call(this,v);this.onAfterRendering();},setWidth:function(v){I.prototype.setWidth.call(this,v);this.onAfterRendering();},getIconUri:function(){return this.getSrc();},setIconUri:function(v){if(sap.ui.core.IconPool.isIconURI(v)){var p=v.substring(11,v.length);var c="undefined";var n;if(p.indexOf("/")>-1){var i=p.indexOf("/");c=p.substring(0,i);n=p.substring(i+1,p.length);}else{n=p;}var a=sap.ui.core.IconPool.getIconInfo(n,c);if(a!==undefined){v=a.uri;}else return this;}else return this;this.setSrc(v);this.rerender();return null;},getSizeFactor:function(){return this._sizeFactor;},setSizeFactor:function(v){if(v<0)v*=-1;if(v>1)v=1;this._sizeFactor=v;this.endResize();var t=this;setTimeout(function(){t.endResize();},100);},getCustomFont:function(){return this._customFont;},setCustomFont:function(v){var n=v.substring(0,v.lastIndexOf("."));n=n.substring(n.lastIndexOf("/")+1);if(v.length>0){var s=document.createElement("style");s.type="text/css";s.innerHTML="@font-face { font-family: '"+n+"';"+"src: url('"+v+"'); }";document.head.appendChild(s);}this._customFont=v;},getParsedFont:function(){return JSON.stringify(this._parsedFont);},setParsedFont:function(v){this._parsedFont=JSON.parse(v);var n=Object.keys(this._parsedFont.icons);for(var i=0;i<n.length;i++){if(this._parsedFont.icons[n[i]]!==undefined){sap.ui.core.IconPool.addIcon(n[i],this._parsedFont.name,{fontFamily:this._parsedFont.name,content:this._parsedFont.icons[n[i]]});}}},getBackgroundShape:function(){return this._backgroundShape;},setBackgroundShape:function(v){this.$().removeClass("icon_"+this.getBackgroundShape());this._backgroundShape=v;this.onAfterRendering();},setOnclick:function(v){if(v!==""){this._enabled=true;}else{this._enabled=false;}}});});
