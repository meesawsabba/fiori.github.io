/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/commons/utils/jQuery","sap/zen/commons/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(q,_,B){"use strict";var C=function(){sap.zen.crosstab=sap.zen.crosstab||{};sap.zen.crosstab.VHLP_STATUS_INACTIVE=0;sap.zen.crosstab.VHLP_STATUS_OPENING=1;sap.zen.crosstab.VHLP_STATUS_OK=2;sap.zen.crosstab.VHLP_STATUS_CANCEL=3;B.apply(this,arguments);this.createAndAdd=function(c,o,d,A,e){var f=this.create(c,o,d);A(f,e);B.dispatcher.updateComponentProperties(f,d,A);return f;};this.create=function(c,o,d){var f=new sap.zen.crosstab.Crosstab(d.id);f.getPropertyBag().setMobileMode(sap.zen.dsh.sapbi_isMobile);f.getPropertyBag().setCozyMode(sap.zen.crosstab.utils.Utils.isCozyMode());B.dispatcher.registerResizeHandler(f,{beginResize:function(e){if(e&&(f.getWidth()==="auto"||f.getHeight()==="auto")){f.resize(e);f.renderResizeOutline();}},endResize:function(e){if(e&&(f.getWidth()==="auto"||f.getHeight()==="auto")){f.resize(e);f.removeResizeOutline();f.expectOnAfterRenderingCall();t(f);}}});f.applyControlProperties(o);return f;};this.getContextMenuAction=function(c,o,d){var f=o.getContextMenuAction(c,d);return f;};this.updateComponent=function(c,o,d,A){var n=false;var I,h;c.getPropertyBag().setCozyMode(sap.zen.crosstab.utils.Utils.isCozyMode());if(o){c.setValueHelpStatus(o.vlhlpstatus);if(o.vlhlpstatus===sap.zen.crosstab.VHLP_STATUS_OPENING||o.vlhlpstatus===sap.zen.crosstab.VHLP_STATUS_CANCEL){c.restoreFocusOnCell();return;}if(o.removeselection&&o.removeselection===true){n=true;}}B.dispatcher.updateComponentProperties(c,d,A);if(o){c.expectOnAfterRenderingCall();c.updateControlProperties(o);}if(o&&o.pvcheck){c.restoreFocusOnCell();n=true;}if(n===true){return;}if(c.isRenderingPossible()===true){I=(a(o)&&!a(d)&&(!a(d.width)||!a(d.height)));h=!a(o)&&!a(o.changed)&&o.changed;if(o&&o.ispaging){c.expectOnAfterRenderingCall();b(c);}else if(I||h||!B.dispatcher.isSingleDelta(c.getId())){c.expectOnAfterRenderingCall();t(c);}else if(!a(o)){c.expectOnAfterRenderingCall();b(c);}}};function a(o){if(o==null){return true;}return false;}function t(c){c.invalidate();sap.ui.getCore().applyChanges();c.doRendering();}function b(c){c.prepareExistingDom();c.doRendering();}this.getDecorator=function(){return"DataSourceControlDecorator";};this.getType=function(){return"xtable";};};var i=new C();B.dispatcher.addHandlers(i.getType(),i);return i;});
