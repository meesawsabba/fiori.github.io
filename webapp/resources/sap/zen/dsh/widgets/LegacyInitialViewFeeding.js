/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/zen/commons/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler","sap/zen/dsh/widgets/SDKhtml5chart_util","sap/ui/core/format/DateFormat"],function(q,L,_,B,S){"use strict";L.info("Loaded LegacyInitialViewFeeding");function a(T){this._SdkHtml5ChartUtil=T||S;}a.prototype.getFeedingData=function(e,r,f){var o=g(e);var h=new this._SdkHtml5ChartUtil().createCvomChart("NotUsedId",o);var j=c(h);var k=j.mapData(h,r);var l=k.ds;var m=k.dataFeeding||b(o);if(!f&&i(e)){h.setData(r);f=d(h);}return{data:l.data(),feeding:m,dFeedItems:f};};function c(e){var f=e.createDataMapper();f.getMessages=_.constant({"chart_mapping_error":"why is this needed?"});return f;}function b(e){if(e!=="pie"){return[];}return[{"feedId":"pieSectorColor","binding":[{"type":"analysisAxis","index":1}]},{"feedId":"pieSectorSize","binding":[{"type":"measureValuesGroup","index":1}]}];}function g(e){return e.replace(/((viz)|(info))\//,"");}function i(e){return e&&e.indexOf("dual")!==-1;}function d(f){var F;try{F=f.getPropertyValues().plotObjectType.dataByInitialView;}catch(e){F=null;}return F;}return a;});
