/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/commons/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(jQuery,_,BaseHandler){"use strict";var DateFieldHandler=function(){BaseHandler.apply(this,arguments);var dispatcher=BaseHandler.dispatcher;var that=this;function init(c,C){c.setTooltip(C.tooltip);c.setEnabled(C.enabled);if(C.date){c.setYyyymmdd(C.date);}else if(dispatcher.isMainMode()||c.getYyyymmdd()){c.setYyyymmdd("");}c.setLocale(C.locale);}function addevents(c,C){c.attachChange(function(){fireEvent(c,C);});}function fireEvent(oControl,oControlProperties){var onchange=that.prepareCommand(oControlProperties.onchange,"__VALUE__",oControl.getYyyymmdd());eval(onchange);}this.create=function(c,C){var i=C["id"];var o=this.createDefaultProxy(i);wrapFunctions(o);init(o,C);addevents(o,C);return o;};this.update=function(c,C){if(C){init(c,C);}return c;};this.getDefaultProxyClass=function(){return["sap.m.DatePicker","sap.ui.commons.DatePicker"];};this.getDecorator=function(){return"FixedHeightDecorator";};this.getType=function(){return"datefield";};var wrapFunctions=function(c){if(dispatcher.isMainMode()){c.setYyyymmdd=function(o){if(o===""){this.setDateValue(null);this.setPlaceholder(" ");}else{var d=new Date();var y=parseInt(o.substring(0,4));var m=o.substring(4,6);var a=o.substring(6,8);if(m.indexOf("0")===0){m=m.substring(1);}m=parseInt(m)-1;if(a.indexOf("0")===0){a=a.substring(1);}a=parseInt(a);d.setYear(y);d.setMonth(m);d.setDate(a);this.setDateValue(d);}};c.setLocale=function(){};c.getYyyymmdd=function(){var d=this.getDateValue();if(d==null){return"";}var r=d.getFullYear()+"";var m=d.getMonth();m+=1;if(m<=9){m=0+""+m;}r+=m;var a=d.getDate();if(a<=9){a=0+""+a;}r+=a;return r;};}};};var instance=new DateFieldHandler();BaseHandler.addHandlers(instance.getType(),instance);return instance;});
