/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.define(["jquery.sap.global","sap/zen/crosstab/paging/RequestStack"],function(q,R){"use strict";q.sap.declare("sap.zen.crosstab.paging.RequestHandler");sap.zen.crosstab.paging.RequestHandler=function(p){var c=p.getCrosstab();var P=p.getTileRowCnt();var i=p.getTileColCnt();var r=new R(0);var m=0;var t=0;r.addElementRemovedHandler(b);var o=null;this.sendPageRequest=function(e){r.push(e);a();};this.enableTimeout=function(e){t=e?1000:0;};this.reset=function(){r.clear();m=0;this.enableTimeout(false);};this.setMaxQueueRequests=function(M){m=M;};this.getMaxQueueRequests=function(){return r.getMaxSize();};this.unlimitStack=function(){r.unlimitStack();};function a(){if(o){clearTimeout(o);}o=setTimeout(h.bind(this,p),t);}function s(e,f){var g=c.getPageRequestHandler();var j=e.getPosition();if(g){var k=Math.floor(j.iRow);var C=Math.floor(j.iCol);g(k,C);}else{var l=d(j,f);c.getUtils().executeCommandAction(l,false,true);}}function h(p){var e=null;while(r.getActualSize()>0){e=r.pop();s(e,p.getRequestCommandTemplate());}if(m>0){r.resetStack(m);m=0;}}function b(e){p.removeRequest(e);}function d(e,f){var g=e.iRow*P+1;var j=e.iCol*i+1;var C=f.replace("__X__",j);C=C.replace("__Y__",g);return C;}};return sap.zen.crosstab.paging.RequestHandler;});
