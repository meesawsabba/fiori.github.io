/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.define(["jquery.sap.global","sap/zen/crosstab/rendering/RenderingConstants"],function(q,R){"use strict";q.sap.declare("sap.zen.crosstab.CrosstabContextMenu");sap.zen.crosstab.CrosstabContextMenu=function(c){this.getContextMenuAction=function(C,d){var o=sap.ui.getCore();var e=d;while(!o.byId(e.attr("id"))){e=e.parent();}if(e.attr("id")===c.getId()){return null;}var a=o.byId(e.attr("id"));var s=null;if(a.getCellType){s=a.getCellType();}else{return null;}var r=false;var b=null;if(c.isSelectable()===true){var S=c.getSelectionHandler();if(S&&S.hasSelection()===true){if(a.getArea().isDataArea()===true){b="sapzencrosstab-DataCellSelectData";}else if(a.getArea().isRowHeaderArea()===true){b="sapzencrosstab-HeaderCellSelectRow";}else if(a.getArea().isColHeaderArea()===true){b="sapzencrosstab-HeaderCellSelectCol";}r=!(q(e).hasClass(b));}}var A=a.getArea().getAreaType();var f="";if(A===R.TYPE_COLUMN_HEADER_AREA){f="COLS";}else if(A===R.TYPE_ROW_HEADER_AREA){f="ROWS";}else if(A===R.TYPE_DIMENSION_HEADER_AREA){var D;if(a.isSplitPivotCell()){var g=c.getHeaderInfo().getDimensionInfoByRowCol(a,"ROWS");var h=c.getHeaderInfo().getDimensionInfoByRowCol(a,"COLS");if(g&&g.bIsMeasureStructure){D=h;}else if(h&&h.bIsMeasureStructure){D=g;}}else{D=c.getHeaderInfo().getDimensionInfoByRowCol(a);}if(!D){return null;}f=D.sAxisName;}else if(s===R.TYPE_DATA_CELL){f="DATA";}else{return null;}var i=a.getTableRow();var j=a.getTableCol();var k=c.getPropertyBag().getContextMenuCommand();k=k.replace("__AXIS__",f);k=k.replace("__ROW__",i);k=k.replace("__COL__",j);k=k.replace("__ID__",C);k=k.replace("__DOM_REF_ID__",d.attr("id"));if(k.indexOf("__REMOVE_SELECTION__")>=0){k=k.replace("__REMOVE_SELECTION__",r);}var l=function(){c.getUtils().executeCommandAction(k);};c.enableClick();return l;};};return sap.zen.crosstab.CrosstabContextMenu;});
