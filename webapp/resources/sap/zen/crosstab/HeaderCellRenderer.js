/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.define(["jquery.sap.global","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/IHeaderCell","sap/zen/crosstab/TextConstants","sap/zen/crosstab/utils/Utils"],function(q,R,I,T,U){"use strict";q.sap.declare("sap.zen.crosstab.HeaderCellRenderer");sap.zen.crosstab.HeaderCellRenderer={};sap.zen.crosstab.HeaderCellRenderer.render=function(r,c){var a=r;var A=c.getArea();var f=A.getRenderCellCallback();var C=A.getCrosstab();var i=c.getEffectiveRowSpan();var b=c.getEffectiveColSpan();var o=null;if(f){var d=f(new I(c));o=d.additionalStyles;}var s=c.getFormattedText();var S=c.getSort();var D=c.getDrillState();var e=c.getCssClassNames(C.isIE8Mode(),C.getPropertyBag().isRtl(),C.getUtils().isMsIE());if(S){e+=" sapzencrosstab-HeaderCellSortable";}if(D){e+=" sapzencrosstab-HeaderCellHierarchy";}a.write("<td");a.writeControlData(c);a.writeAttributeEscaped("class",e);a.writeAttributeEscaped("tabindex",R.TABINDEX);if(b>1){a.writeAttributeEscaped("colspan",b);}if(i>1){a.writeAttributeEscaped("rowspan",i);}a.write(">");a.write("<div");a.writeAttributeEscaped("id",c.getId()+"_cellLayoutDiv");a.writeAttributeEscaped("tabindex",R.TABINDEX);a.writeAttribute("class","sapzencrosstab-cellLayoutDiv");if(c.isEntryEnabled()){a.addStyle("width","0px");a.writeStyles();}a.write(">");if(c.isEntryEnabled()){a.write("<table style='width: 100%; border-spacing: 0px;'><tbody>");a.write("<tr>");a.write("<td style='width: 100%; padding: 0px 5px 0px 0px;'>");}a.write("<div");a.writeAttributeEscaped("id",c.getId()+"_contentDiv");a.writeAttributeEscaped("tabindex",R.TABINDEX);if(s){a.writeAttributeEscaped("title",s);}var g="sapzencrosstab-HeaderCellContentDiv";if(c.isLoading()){g+=" sapzencrosstab-LoadingCellContentDiv";}a.writeAttributeEscaped("class",g);if(o){for(var h in o){a.addStyle(h,o[h]);}}a.writeStyles();if(c.isEntryEnabled()){a.addStyle("width","100%");a.writeStyles();}a.write(">");k();y();a.write("</div>");a.write("</div>");if(c.isEntryEnabled()){a.write("</td>");a.write("<td style='padding: 0px'>");a.write("<div");a.writeAttributeEscaped("id","vhlp_"+c.getId());var j="sapzencrosstab-HeaderCellDivValueHelp";if(U.isMainMode()){j+="-MainMode";}j+=" sapzencrosstab-HeaderCellValueHelp";a.writeAttributeEscaped("class",j);a.write(">");a.write("</div>");a.write("</td>");a.write("</tr>");a.write("</tbody></table>");}a.write("</td>");function k(){if(S||D){m(S,D);}else{a.write(s);}}function l(){a.write("<div");a.writeAttributeEscaped("id",c.getId()+"_textContentDiv");a.writeAttributeEscaped("tabindex",R.TABINDEX);a.addStyle("overflow","hidden");a.addStyle("text-overflow","ellipsis");a.writeStyles();a.write(">");a.write(s);a.write("</div>");}function m(){a.write("<table><tbody>");w();a.write("<tr>");n();p();u();v();a.write("</tr>");x();a.write("</tbody></table>");}function n(){if(D){var L=c.getLevel();var z=c.getArea().isRowHeaderArea();var B="sapzencrosstab-HeaderCellDivHierarchy ";if(c.getHierarchyAction()){if(D==="O"){B+="sapzencrosstab-CollapseNode";if(c.getNodeAlignment()==="bottom"){B+=" sapzencrosstab-BottomNode";}}else if(D==="C"){B+="sapzencrosstab-ExpandNode";if(sap.ui.getCore().getConfiguration().getRTL()){B+="-RTL";}}if(D==="O"||D==="C"){B+=" sapzencrosstab-PointerCursor";}}if(L>0){if(z){var W=L*C.getHierarchyIndentWidth();a.write("<td>");a.write("<div");a.writeAttributeEscaped("tabindex",R.TABINDEX);a.addStyle("width",W+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivBefore");a.writeAttributeEscaped("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div>");a.write("</td>");}}if((D==="L"&&L>0)||D!=="L"){a.write("<td>");a.write("<div");if(c.getHierarchyAction()){a.writeAttributeEscaped("id","hier_"+c.getId());}a.writeAttributeEscaped("class",B);var H=c.getHierarchyTooltip();if(H){a.writeAttributeEscaped("title",H);}a.write("></div>");a.write("</td>");}}}function p(){a.write("<td>");l();a.write("</td>");}function t(){if(S){var z=0;var B="sapzencrosstab-HeaderCellDivSortable ";a.write("<div");if(S==="NONE"){B+="sapzencrosstab-HeaderCellSortNone";z=0;}else if(S==="ASC"){B+="sapzencrosstab-HeaderCellSortAsc";z=1;}else if(S==="DESC"){B+="sapzencrosstab-HeaderCellSortDesc";z=2;}a.writeAttributeEscaped("class",B);a.writeAttribute("id","sort_"+c.getId());var E=C.getPropertyBag().getSortingToolTip(z);if(E){a.writeAttributeEscaped("title",E);}a.write("></div>");}}function u(){if(S){a.write("<td>");t();a.write("</td>");}}function v(){if(D&&c.getArea().isRowHeaderArea()){var L=c.getLevel();var M=C.getRowHeaderHierarchyLevels()[c.getCol()];var z=M-L;if(z>0){var W=z*C.getHierarchyIndentWidth();a.write("<td>");a.write("<div");a.writeAttributeEscaped("tabindex",R.TABINDEX);a.addStyle("width",W+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivAfter");a.writeAttributeEscaped("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div>");a.write("</td>");}}}function w(){if(D){var L=c.getLevel();if(L>0&&c.getArea().isColHeaderArea()){var H=L*C.getHierarchyIndentHeight();a.write("<tr><td>");a.write("<div");a.writeAttributeEscaped("tabindex",R.TABINDEX);a.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesBefore");a.writeAttributeEscaped("xtabspacer-cellid",c.getId());a.addStyle("height",H+"px");a.writeStyles();a.write("></div>");a.write("</td></tr>");}}}function x(){if(D&&c.getArea().isColHeaderArea()){var L=c.getLevel();var M=C.getColHeaderHierarchyLevels()[c.getRow()];var z=M-L;if(z>0){var H=z*C.getHierarchyIndentHeight();a.write("<tr><td>");a.write("<div");a.writeAttributeEscaped("tabindex",R.TABINDEX);a.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesAfter");a.writeAttributeEscaped("xtabspacer-cellid",c.getId());a.addStyle("height",H+"px");a.writeStyles();a.write("></div>");a.write("</td></tr>");}}}function y(){if(C.getPropertyBag().isEnableColResize()===true){if(A.isColHeaderArea()||A.isDimHeaderArea()){if(C.getPropertyBag().isTestMobileMode()||C.getPropertyBag().isMobileMode()){c.setMobileResize(true);}else{a.write("<div");a.writeAttributeEscaped("id","resi_"+c.getId());if(S){a.writeAttribute("class","sapzencrosstab-columnResizeHandleWithSort");}else{a.writeAttribute("class","sapzencrosstab-columnResizeHandle");}a.writeAttributeEscaped("title",C.getPropertyBag().getText(T.COLWIDTH_ADJUST_TEXT_KEY));a.write(">");a.write("</div>");c.setMobileResize(false);}}}}};return sap.zen.crosstab.HeaderCellRenderer;});
