//@ui5-bundle sap/apf/library-preload.js
sap.ui.predefine('sap/apf/abap/LrepConnector',["sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/UriParameters","sap/base/util/merge"],function(q,u,U,b){"use strict";var L=function(p){this._initClientParam();this._initLanguageParam();if(p){this._sXsrfToken=p.XsrfToken;}this._sLrepUrl="/sap/bc/lrep";};L.DEFAULT_CONTENT_TYPE="application/json; charset=utf-8";L.ROUTES={CONTENT:"/content/",CSRF:"/actions/getcsrftoken/",DATA:"/flex/data/"};
L.createConnector=function(p){return new L(p);};
L.prototype._initClientParam=function(){var c=_("sap-client");if(c){this._sClient=c;}};
function _(p){return U.fromQuery(window.location.search).get(p);}
L.prototype._initLanguageParam=function(){var l;l=_("sap-language")||_("sap-ui-language");if(l){this._sLanguage=l;}};
L.prototype._resolveUrl=function(r){if(!r.startsWith("/")){r="/"+r;}var o=u(r).absoluteTo("");return o.toString();};
L.prototype._getDefaultHeader=function(){return{headers:{"X-CSRF-Token":this._sXsrfToken||"fetch"}};};
L.prototype._getDefaultOptions=function(m,c,d){var o;if(!c){c=L.DEFAULT_CONTENT_TYPE;}else if(c.indexOf("charset")===-1){c+="; charset=utf-8";}o=b(this._getDefaultHeader(),{type:m,async:true,contentType:c,processData:false,headers:{"Content-Type":c}});if(d&&o.contentType.indexOf("application/json")===0){o.dataType="json";if(typeof d==="object"){o.data=JSON.stringify(d);}else{o.data=d;}}else if(d){o.data=d;}if(m==="DELETE"){delete o.data;delete o.contentType;}return o;};
L.prototype.send=function(s,m,d,o){m=m||"GET";m=m.toUpperCase();o=o||{};s=this._resolveUrl(s);o=b(this._getDefaultOptions(m,o.contentType,d),o);return this._sendAjaxRequest(s,o);};
L.prototype.deleteFile=function(n,N,t,l,c){return this._fileAction("DELETE",n,N,t,l,null,null,c);};
L.prototype.upsert=function(n,N,t,l,c,C,s){var a=this;return Promise.resolve(a._fileAction("PUT",n,N,t,l,c,C,s));};
L.prototype.listContent=function(n,l){var r=this._sLrepUrl+L.ROUTES.CONTENT;r+=n;var p=[];if(l){p.push({name:"layer",value:l});}r+=this._buildParams(p);return this.send(r,"GET",null,null);};
L.prototype._fileAction=function(m,n,N,t,l,c,C,s){var r=this._sLrepUrl+L.ROUTES.CONTENT;r+=n+"/"+N+"."+t;var p=[];p.push({name:"layer",value:l});if(s){p.push({name:"changelist",value:s});}r+=this._buildParams(p);var o={contentType:C||L.DEFAULT_CONTENT_TYPE};return this.send(r,m.toUpperCase(),c,o);};
L.prototype._getMessagesFromXHR=function(x){var a;var m;var l;var i;m=[];try{a=JSON.parse(x.responseText);if(a&&a.messages&&a.messages.length>0){l=a.messages.length;for(i=0;i<l;i++){m.push({severity:a.messages[i].severity,text:a.messages[i].text});}}}catch(e){}return m;};
L.prototype._sendAjaxRequest=function(s,o){var f=this._sLrepUrl;if(!f){return Promise.reject({status:"warning",messages:[{severity:"warning",text:"Flexibility Services requests were not sent. The UI5 bootstrap is configured to not send any requests."}]});}var F=f+L.ROUTES.CSRF;var m={headers:{"X-CSRF-Token":"fetch"},type:"HEAD"};if(this._sClient){m.headers["sap-client"]=this._sClient;}return new Promise(function(r,a){function h(e,S,x){var n=x.getResponseHeader("X-CSRF-Token");this._sXsrfToken=n||this._sXsrfToken;var E=x.getResponseHeader("etag");var g={status:S,etag:E,response:e};r(g);q.each(this._aSentRequestListeners,function(i,C){C(g);});}function p(e,x,S,E){var g=new Error(E);g.status=S;g.code=x.statusCode().status;g.messages=this._getMessagesFromXHR(x);if(!g.stack){try{throw g;}catch(i){e(i);}}else{e(g);}}function c(e,S,x){this._sXsrfToken=x.getResponseHeader("X-CSRF-Token");o.headers=o.headers||{};o.headers["X-CSRF-Token"]=this._sXsrfToken;q.ajax(s,o).done(h).fail(p.bind(this,a));}function d(e,g,x,S,E){if(x.status===403){q.ajax(F,m).done(c.bind(this)).fail(function(){g({status:"error"});});}else if(o&&o.type==="DELETE"&&x.status===404){e();}else{p.call(this,g,x,S,E);}}var R=true;if(o&&o.type){if(o.type==="GET"||o.type==="HEAD"){R=false;}else if(this._sXsrfToken&&this._sXsrfToken!=="fetch"){R=false;}}if(R){q.ajax(F,m).done(c.bind(this)).fail(p.bind(this,a));}else{q.ajax(s,o).done(h.bind(this)).fail(d.bind(this,r,a));}}.bind(this));};
L.prototype._buildParams=function(p){if(!p){p=[];}if(this._sClient){p.push({name:"sap-client",value:this._sClient});}if(this._sLanguage){p.push({name:"sap-language",value:this._sLanguage});}var r="";var l=p.length;for(var i=0;i<l;i++){if(i===0){r+="?";}else if(i>0&&i<l){r+="&";}r+=p[i].name+"="+p[i].value;}return r;};
L.prototype.getStaticResource=function(n,N,t,i){var r=this._sLrepUrl+L.ROUTES.CONTENT;r+=n+"/"+N+"."+t;var p=[];if(!i){p.push({name:"dt",value:"true"});}r+=this._buildParams(p);return this.send(r,"GET",null,null);};
L.prototype.getFileAttributes=function(n,N,t,l){var r=this._sLrepUrl+L.ROUTES.CONTENT;r+=n+"/"+N+"."+t;var p=[];p.push({name:"metadata",value:"true"});if(l){p.push({name:"layer",value:l});}r+=this._buildParams(p);return this.send(r,"GET",null,null);};
return L;},true);
sap.ui.predefine('sap/apf/cloudFoundry/ajaxHandler',[],function(){'use strict';var A=function(i){var c=i.functions.coreAjax;var m=i.instances.messageHandler;var x;this.send=function(s){if(s.type==="POST"||s.type==="PUT"||s.type==="DELETE"||s.method==="POST"||s.method==="PUT"||s.method==="DELETE"){s.headers=s.headers||{};s.headers["X-CSRF-Token"]=x;if(s.data&&!s.headers["Content-Type"]){s.headers["Content-Type"]="application/json;charset=utf-8";}c(s);}else if(x===undefined){var o=s.success;var a=s.error;s.beforeSend=function(b){b.setRequestHeader("x-csrf-token","Fetch");};s.success=function(d,S,X){x=X.getResponseHeader("x-csrf-token");o(d,S,X);};s.error=function(j,t,e){x="";var b=m.createMessageObject({code:5105});m.putMessage(b);a(j,t,e);};c(s);}else{c(s);}};};sap.apf.cloudFoundry.AjaxHandler=A;return A;},true);
sap.ui.predefine('sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation',['sap/apf/cloudFoundry/ui/utils/LaunchPageUtils','sap/m/MessageBox','sap/ui/core/routing/HashChanger'],function(L,M,H){'use strict';
function s(a,b){var h=new H();var c=b.getAnalyticalConfigurationId().configurationId;var d=b.getParameter(L.BOOKMARK_LINK_PARAMETERS.HEADER);var S=b.getParameter(L.BOOKMARK_LINK_PARAMETERS.SUBHEADER);var i=b.getParameter(L.BOOKMARK_LINK_PARAMETERS.ICON)||"";var g=b.getParameter(L.BOOKMARK_LINK_PARAMETERS.GROUP)||"";a.getApplicationConfigProperties().then(function(e){d=d||a.getTextNotHtmlEncoded(e.appTitle);S=S||a.getTextNotHtmlEncoded("bookmarkSubheaderDefault");M.confirm(a.getTextNotHtmlEncoded("bookmarkConfirmation",[d]),{title:a.getTextNotHtmlEncoded("bookmarkConfirmationTitle"),onClose:function(A){if(A==M.Action.OK){var r=L.generateRuntimeLink(c);L.setBookmarkTile(r,d,S,i,g);}h.replaceHash(L.generateRuntimeHash(c));}});});}
return{show:s};});
sap.ui.predefine('sap/apf/cloudFoundry/ui/sharedialog/controller/ShareDialog.controller',["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/library","sap/m/MessageBox","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/ui/core/Fragment","sap/ui/core/IconPool","sap/ui/core/ValueState"],function(C,J,L,M,a,F,I,V){"use strict";var P="sap.apf.cloudFoundry.ui.sharedialog";return C.extend(P+".controller.ShareDialog",{onInit:function(){var c=this.getOwnerComponent();this.oCoreApi=c.oCoreApi;var v=this.getView();var o=v.getViewData();if(o.oController.configEditor.isSaved()){this.initializeDialog();}else{M.warning(this.translate("unsavedStateWarning"),{onClose:function(){v.destroy();this.destroy();}.bind(this)});}},initializeDialog:function(){var d=this.getDialog();var v=this.getView();var o=v.getViewData();this.config=o.oController._getNodeData({},"configuration").data;this.runtimeLink=a.generateRuntimeLink(this.config.AnalyticalConfiguration);this.ui=new J({TileHeader:this.config.name,TileHeaderDefault:this.config.name,TileSubheader:this.translate("bookmarkSubheaderDefault"),TileIcon:"",TileIconValueState:V.None,TileGroup:""});v.setModel(this.ui,"ui");this.updateTileTooltip();var t=v.byId("tilePreview");t.addDelegate({onAfterRendering:function(){var i=t.getDomRef().id;jQuery("#"+i).attr("tabindex",-1);}});d.open();},updateTileTooltip:function(){var t="";t+=this.translate("bookmarkTooltipHeader",this.ui.getProperty("/TileHeader"));t+="\n"+this.translate("bookmarkTooltipSubheader",this.ui.getProperty("/TileSubheader"));var i=this.ui.getProperty("/TileIcon");if(i!==""){t+="\n"+this.translate("bookmarkTooltipIcon",i);}var g=this.ui.getProperty("/TileGroup");if(g!==""){t+="\n"+this.translate("bookmarkTooltipGroup",g);}this.ui.setProperty("/TileTooltip",t);},selectText:function(c,s,e){var b=document.getElementById(c.getIdForLabel());b.select();b.setSelectionRange(s,e);},showLinkDialog:function(b){var t=this;var v=this.getView();F.load({id:v.getId(),name:P+".fragment.ShowLinkDialog",controller:{getView:function(){return v.byId("showLinkDialog");},translate:t.translate.bind(t),onBeforeOpen:function(){var c=v.byId("textAreaLink");c.setValue(b);},onAfterOpen:function(){var c=v.byId("textAreaLink");t.selectText(c,0,b.length);},onAfterClose:function(){this.getView().destroy();v.removeDependent(this.getView());},onButtonClosePress:function(){this.getView().close();}}}).then(function(d){v.addDependent(d);d.open();});},getBookmarkLink:function(){var v=this.getView();var h=v.byId("inputHeader").getValue();var s=v.byId("inputSubheader").getValue();var i=v.byId("inputIcon").getValue();var g=v.byId("inputGroup").getValue();var b=I.getIconInfo(i);if(b){i=b.uri;}else{i="";}return a.buildBookmarkLink(this.runtimeLink,h,s,i,g);},onShowLink:function(){var b=this.getBookmarkLink();this.showLinkDialog(b);},onSendEmail:function(){var h=this.ui.getProperty("/TileHeader");var b=this.getBookmarkLink();var H=this.translate("helpLink");var s=this.translate("emailTemplateSubject",h);var t=this.translate("emailTemplateText",h,b,H);L.URLHelper.triggerEmail("",s,t);},onMarkFavorite:function(){var h=this.ui.getProperty("/TileHeader");var s=this.ui.getProperty("/TileSubheader");var i=this.ui.getProperty("/TileIcon");var g=this.ui.getProperty("/TileGroup");a.setBookmarkTile(this.runtimeLink,h,s,i,g);},onHeaderChange:function(c){var h=c.getParameters().value;if(h==""){h=this.config.name;}this.ui.setProperty("/TileHeader",h);this.updateTileTooltip();},onSubheaderChange:function(c){var s=c.getParameters().value;if(s==""){s=this.translate("bookmarkSubheaderDefault");}this.ui.setProperty("/TileSubheader",s);this.updateTileTooltip();},onIconChange:function(c){var i=c.getParameters().value;var b=I.getIconInfo(i);if(i===""){this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",V.None);}else if(b){this.ui.setProperty("/TileIcon",b.uri);this.ui.setProperty("/TileIconValueState",V.None);}else{this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",V.Error);}this.updateTileTooltip();},onGroupChange:function(c){var g=c.getParameters().value;this.ui.setProperty("/TileGroup",g);this.updateTileTooltip();},onClose:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy();},getDialog:function(){var v=this.getView();var d=v.byId("shareDialog");if(!d){d=sap.ui.xmlfragment(v.getId(),P+".fragment.ShareDialog",this);v.addDependent(d);}return d;},translate:function(k){return this.oCoreApi.getText(k,Array.prototype.slice.call(arguments,1));}});});
sap.ui.predefine('sap/apf/cloudFoundry/ui/sharedialog/showShareDialog',["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/library"],function(C,a){'use strict';var P="sap.apf.cloudFoundry.ui.sharedialog";var V=a.mvc.ViewType;
function s(c,o){C.createView(c.getComponent(),{viewName:P+".view.ShareDialog",type:V.XML,viewData:{oCoreApi:c,oController:o}});}
return{show:s};});
sap.ui.predefine('sap/apf/cloudFoundry/ui/utils/ComponentCorrector',['sap/ui/base/Object','sap/ui/core/Component','sap/ui/core/mvc/View'],function(B,C,V){'use strict';var P='sap.apf.cloudFoundry.ui.utils';var a=B.extend(P+'.ComponentCorrector',{constructor:function(c){if(!(this instanceof a)){throw Error("Cannot instantiate object: \"new\" is missing!");}if(c instanceof C){this.oComponent=c;}else{throw Error("Cannot instantiate object: \"oComponent\" is not a Component!");}},runAsComponent:function(f){return this.oComponent.runAsOwner(f);},createView:function(o){var c=this.oComponent;return this.runAsComponent(function(){return V.create(o).then(function(v){if(!v.bIsDestroyed){Object.keys(c.oModels).forEach(function(m){if(!v.getModel(m)){v.setModel(c.getModel(m),m);}});v.setParent(c);return v;}return null;});});}});
a.createView=function(c,o){return new a(c).createView(o);};
return a;},true);
sap.ui.predefine('sap/apf/cloudFoundry/ui/utils/LaunchPageUtils',['sap/base/security/encodeURLParameters','sap/ushell/services/Container'],function(e){'use strict';var B={BOOKMARK:"bookmark",HEADER:"tile-header",SUBHEADER:"tile-subheader",ICON:"tile-icon",GROUP:"tile-group"};
function a(d){return sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal({target:{semanticObject:"FioriApplication",action:"executeAPFConfiguration"},params:{"sap-apf-configuration-id":d}});}
function b(d){var f=jQuery(location).attr('href').split('#')[0].split('?')[0];return f+a(d);}
function c(l,h,d,i,g){if(!l.includes("#")){return null;}var p={};p[B.BOOKMARK]=true;if(h){p[B.HEADER]=h;}if(d){p[B.SUBHEADER]=d;}if(i){p[B.ICON]=i;}if(g){p[B.GROUP]=g;}var f=l.split("#");var j=f[f.length-1];var k=e(p);var m=l;m+=j.includes("?")?"&":"?";m+=k;return m;}
function s(l,t,d,i,f){sap.ushell.Container.getService("LaunchPage").getGroups().then(function(p){var h;if(f){p.forEach(function(g){if(g.identification.id===f){h=g;}});if(h===undefined){throw"group not found";}}var j={title:t,subtitle:d,url:l,icon:i};var k=sap.ushell.Container.getService("Bookmark");k.deleteBookmarks(l);k.addBookmark(j,h);});}
return{BOOKMARK_LINK_PARAMETERS:B,generateRuntimeHash:a,generateRuntimeLink:b,buildBookmarkLink:c,setBookmarkTile:s};},true);
sap.ui.predefine('sap/apf/cloudFoundry/ui/utils/ODataServiceUtils',["sap/ui/model/odata/v2/ODataModel"],function(O){'use strict';var D="/destination/";var C="/sap/opu/odata/iwfnd/catalogservice;v=2/";var M="/$metadata";var a="/odata/v2/";var b={CATALOG:"CATALOG",SERVICE:"SERVICE",OTHER:"OTHER"};var S={PENDING:"PENDING",ANALYTICAL_SERVICE:"ANALYTICAL_SERVICE",NOT_ANALYTICAL_SERVICE:"NOT_ANALYTICAL_SERVICE",WRONG_ODATA_VERSION:"WRONG_ODATA_VERSION",NOT_ACCESSIBLE:"NOT_ACCESSIBLE"};
function g(d){return D+d+C;}
function c(s){var m=(s||"").match(new RegExp("https?:\\/\\/[^\\/]+\\/(.+)"));return m?("/"+m[1]):"";}
function e(u,B){if(!u||typeof(u)!=="string"||!B||typeof(B)!=="string"){return undefined;}else if(!B.includes("://")){return undefined;}var r;if(u.startsWith(B)){r=u.slice(B.length);}else if(u.includes("://")){return undefined;}else{r=u;}if(r.startsWith("/")){return r;}return"/"+r;}
function f(d,s){return D+d+s;}
function p(d){var k=function(o,r){jQuery.ajax(D+o.name+M).then(function(){r(b.SERVICE);}).fail(function(){if(o.proxyType=="OnPremise"){jQuery.ajax(D+o.name+C).then(function(){r(b.CATALOG);}).fail(function(){r(b.OTHER);});}else{r(b.OTHER);}});};return d.map(function(o){return new Promise(function(r){k(o,r);});}).reduce(function(A,P,i){A[d[i].name]=P;return A;},{});}
function h(d,s){return new Promise(function(r,i){var k=f(d,s);var o=new O(k);o.attachMetadataFailed(function(E){var l=E.getParameter("response");if(l&&l.headers["odata-version"]&&!l.headers["odata-version"].startsWith("2")){i(S.WRONG_ODATA_VERSION);}else{i(S.NOT_ACCESSIBLE);}});var m=o.getMetaModel();m.loaded().then(function(){var I=m.getODataEntityContainer().entitySet.some(function(l){return m.getODataEntityType(l.entityType).property.some(function(n){return n["sap:aggregation-role"]==="measure";});});r(I?S.ANALYTICAL_SERVICE:S.NOT_ANALYTICAL_SERVICE);});});}
function j(s){return new Promise(function(r,k){jQuery.ajax(D+s+a).done(function(l,m,n){if(n.status===200&&jQuery(l).filter("h1").text().trim()==="OData endpoints:"){var E=jQuery(l).filter('a').map(function(i,d){return{Url:c(d.href)};}).toArray();r(E);}else{k();}}).fail(function(){k();});});}
return{DESTINATION_TYPE:b,SERVICE_STATUS:S,getCatalogURL:g,getRelativeServiceURL:c,getFullServiceURL:f,getRelativeURL:e,pingDestinations:p,isAnalyticalService:h,discoverServices:j};},true);
sap.ui.predefine('sap/apf/cloudFoundry/ui/valuehelp/controller/CatalogBrowser.controller',["sap/ui/core/mvc/Controller","sap/ui/core/IconPool","sap/ui/core/library","sap/ui/core/ValueState","sap/ui/core/Item","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/m/MessageToast","sap/apf/cloudFoundry/ui/utils/ODataServiceUtils"],function(C,I,L,V,a,J,O,F,b,S,M,c){"use strict";V=L.ValueState;var P="sap.apf.cloudFoundry.ui.valuehelp";var D={BACK:-1,DESTINATIONS:0,CATALOG:1,URL:2,OVERVIEW:3,OVERVIEW_REDUCED:4,OVERVIEW_SERVICEONLY:5};
function r(o,u){return o.getManifestObject().resolveUri(u).toString();}
return C.extend(P+".controller.CatalogBrowser",{onInit:function(){var o=this.getOwnerComponent();var d=r(o,o.getManifestEntry("/sap.app/dataSources/apf.destinationCatalog.destinations").uri);this.sDestination=undefined;this.sService=undefined;this.oCoreApi=o.oCoreApi;var e=this.getDialog();var v=this.getView();e.removeStyleClass("sapUiPopupWithPadding");e.addStyleClass("sapMSelectDialog");var u=new J({Title:this.translate("selectDestination"),Destination:"",Service:"",ServiceUrlValueState:V.None,SearchEnabled:true,ButtonOkEnabled:false,ButtonSelectEnabled:false,ButtonBackEnabled:false});v.setModel(u,"ui");var m=new J(d);v.setModel(m,"destinations");m.attachRequestCompleted(function(){this.oDestinationStatusPromises=c.pingDestinations(m.getData().destinations);}.bind(this));this.addCustomEventDelegates();e.open();},addCustomEventDelegates:function(){var v=this.getView();v.byId("urlInput").addEventDelegate({onkeypress:function(e){if(e.key==="Enter"){this.onSelectServiceUrl();}}.bind(this)});},onSelectDestination:function(e){this.destinationPath=e.getSource().getBindingContext("destinations").getPath();var v=this.getView();var d=v.getModel("destinations");var o=d.getObject(this.destinationPath);this.destinationSearch=v.byId("searchField").getValue();v.byId("searchField").setValue("");this.oDestinationStatusPromises[o.name].then(function(s){switch(s){case c.DESTINATION_TYPE.SERVICE:this.navigate(D.OVERVIEW_SERVICEONLY,{destination:o.name});this.setIsAnalyticalService();v.byId("serviceOnlyOverview").bindElement({path:this.destinationPath,model:"destinations"});break;case c.DESTINATION_TYPE.CATALOG:this.navigate(D.CATALOG,{destination:o.name});this.attachCatalogModel(o.name);break;default:var u=v.byId("urlInput");u.setValue("");u.removeAllItems();u.setShowButton(false);this.navigate(D.URL,{destination:o.name});c.discoverServices(o.name).then(function(E){if(E.length>0){E.forEach(function(f){u.addItem(new a({text:f.Url}));});u.setShowButton(true);}}).catch(function(){});break;}}.bind(this));},attachCatalogModel:function(d){var v=this.getView();var l=v.byId("navContainer").getCurrentPage().getContent()[0];l.bindItems({path:"catalog>/ServiceCollection",sorter:new S("TechnicalServiceName",false),parameters:{custom:{search:""}},template:l.getBindingInfo("items").template});var m=new O(c.getCatalogURL(d));v.setModel(m,"catalog");var o=v.byId("selectService");o.setBusy(true);m.attachMetadataLoaded(function(){o.setBusy(false);});m.attachMetadataFailed(function(e){this.onBack();M.show(this.translate("destinationError",e.getParameter("responseText")));o.setBusy(false);}.bind(this));},onSelectService:function(e){var v=this.getView();var B=e.getSource().getBindingContext("catalog");var s=c.getRelativeServiceURL(B.getProperty("ServiceUrl"));this.navigate(D.OVERVIEW,{service:s});this.setIsAnalyticalService();var p=B.getPath();v.byId("destinationOverview").bindElement({path:this.destinationPath,model:"destinations"});v.byId("serviceOverview").bindElement({path:p,model:"catalog"});},onSelectServiceUrl:function(){var v=this.getView();var u=v.getModel("ui");var s=v.byId("urlInput").getValue();if(!s.startsWith("/")){u.setProperty("/ServiceUrlValueState",V.Error);return;}u.setProperty("/ServiceUrlValueState",V.None);this.navigate(D.OVERVIEW_REDUCED,{service:s});this.setIsAnalyticalService();v.byId("reducedDestinationOverview").bindElement({path:this.destinationPath,model:"destinations"});},onCancel:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy();},onBack:function(){var v=this.getView();var p=this.navigate(D.BACK);switch(p){case D.DESTINATIONS:v.byId("searchField").setValue(this.destinationSearch);break;default:break;}},onOk:function(){var v=this.getView();var u=v.getModel("ui");var U=c.getFullServiceURL(u.getProperty("/Destination"),u.getProperty("/Service"));var o=this.getView().getViewData();o.parentControl.fireEvent("selectService",{"sSelectedService":U});this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy();},onLiveChangeSearch:function(e){var s=e.getParameter("newValue");var d=(s?300:0);var t=this;clearTimeout(this.iLiveChangeTimer);if(d){this.iLiveChangeTimer=setTimeout(function(){t.executeSearch(s);},d);}else{this.executeSearch(s);}},onSearch:function(e){this.executeSearch(e.getSource().getValue());},executeSearch:function(s){var v=this.getView();var l=v.byId("navContainer").getCurrentPage().getContent()[0];var f=v.getModel("ui").getProperty("/Destination")!=="";if(f){l.bindItems({path:"catalog>/ServiceCollection",sorter:new S("TechnicalServiceName",false),parameters:{custom:{search:s}},template:l.getBindingInfo("items").template});}else{l.getBinding("items").filter(new F({filters:[new F({path:'name',operator:b.Contains,value1:s}),new F({path:'description',operator:b.Contains,value1:s})],and:false}));}},setIsAnalyticalService:function(){var u=this.getView().getModel("ui");var d=u.getProperty("/Destination");var s=u.getProperty("/Service");u.setProperty("/ServiceStatus",c.SERVICE_STATUS.PENDING);return c.isAnalyticalService(d,s).then(function(e){u.setProperty("/ServiceStatus",e);}).catch(function(e){u.setProperty("/ServiceStatus",e);});},serviceStatusIcon:function(s){switch(s){case c.SERVICE_STATUS.ANALYTICAL_SERVICE:return I.getIconURI("status-positive");case c.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return I.getIconURI("status-critical");case c.SERVICE_STATUS.WRONG_ODATA_VERSION:return I.getIconURI("status-error");case c.SERVICE_STATUS.NOT_ACCESSIBLE:return I.getIconURI("status-error");default:return I.getIconURI("status-inactive");}},serviceStatusState:function(s){switch(s){case c.SERVICE_STATUS.ANALYTICAL_SERVICE:return V.Success;case c.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return V.Warning;case c.SERVICE_STATUS.WRONG_ODATA_VERSION:return V.Error;case c.SERVICE_STATUS.NOT_ACCESSIBLE:return V.Error;default:return V.None;}},serviceStatusText:function(s){switch(s){case c.SERVICE_STATUS.ANALYTICAL_SERVICE:return this.translate("analyticalService");case c.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return this.translate("nonAnalyticalService");case c.SERVICE_STATUS.WRONG_ODATA_VERSION:return this.translate("wrongOdataVersion");case c.SERVICE_STATUS.NOT_ACCESSIBLE:return this.translate("serviceNotAccessible");default:return this.translate("pending");}},proxyTypeIcon:function(p){switch(p){case"OnPremise":return I.getIconURI("it-host");default:return I.getIconURI("cloud");}},proxyTypeText:function(p){switch(p){case"OnPremise":return this.translate("onPremise");default:return this.translate("cloud");}},translate:function(k){return this.oCoreApi.getText(k,Array.prototype.slice.call(arguments,1));},getRelativeServiceURL:c.getRelativeServiceURL,navigate:function(p,o){var v=this.getView();var u=v.getModel("ui");var n=v.byId("navContainer");o=o||{};o.destination=o.destination||u.getProperty("/Destination");o.service=o.service||u.getProperty("/Service");var _;if(p<0){var d=n.getPreviousPage();_=n.indexOfPage(d);}else{_=p;}switch(_){case D.DESTINATIONS:u.setProperty("/Title",this.translate("selectDestination"));u.setProperty("/Destination","");u.setProperty("/Service","");u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",true);u.setProperty("/ButtonOkEnabled",false);u.setProperty("/ButtonSelectEnabled",false);u.setProperty("/ButtonBackEnabled",false);break;case D.CATALOG:u.setProperty("/Title",this.translate("selectService",o.destination));u.setProperty("/Destination",o.destination);u.setProperty("/Service","");u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",true);u.setProperty("/ButtonOkEnabled",false);u.setProperty("/ButtonSelectEnabled",false);u.setProperty("/ButtonBackEnabled",true);break;case D.URL:u.setProperty("/Title",this.translate("enterService",o.destination));u.setProperty("/Destination",o.destination);u.setProperty("/Service","");u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",false);u.setProperty("/ButtonOkEnabled",false);u.setProperty("/ButtonSelectEnabled",true);u.setProperty("/ButtonBackEnabled",true);break;case D.OVERVIEW:u.setProperty("/Title",this.translate("overview"));u.setProperty("/Destination",o.destination);u.setProperty("/Service",o.service);u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",false);u.setProperty("/ButtonOkEnabled",true);u.setProperty("/ButtonSelectEnabled",false);u.setProperty("/ButtonBackEnabled",true);break;case D.OVERVIEW_REDUCED:u.setProperty("/Title",this.translate("overview"));u.setProperty("/Destination",o.destination);u.setProperty("/Service",o.service);u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",false);u.setProperty("/ButtonOkEnabled",true);u.setProperty("/ButtonSelectEnabled",false);u.setProperty("/ButtonBackEnabled",true);break;case D.OVERVIEW_SERVICEONLY:u.setProperty("/Title",this.translate("overview"));u.setProperty("/Destination",o.destination);u.setProperty("/Service","");u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",false);u.setProperty("/ButtonOkEnabled",true);u.setProperty("/ButtonSelectEnabled",false);u.setProperty("/ButtonBackEnabled",true);break;default:u.setProperty("/Title",this.translate("selectDestination"));u.setProperty("/Destination","");u.setProperty("/Service","");u.setProperty("/ServiceUrlValueState",V.None);u.setProperty("/SearchEnabled",true);u.setProperty("/ButtonOkEnabled",false);u.setProperty("/ButtonSelectEnabled",false);u.setProperty("/ButtonBackEnabled",false);_=D.DESTINATIONS;break;}if(p<0){n.back();}else{var e=n.getPages()[_];n.to(e);}return _;},getDialog:function(){var d=this.getView().byId("catalogBrowser");var v=this.getView();if(!d){d=sap.ui.xmlfragment(v.getId(),P+".fragment.CatalogBrowser",this);v.addDependent(d);}return d;}});});
sap.ui.predefine('sap/apf/cloudFoundry/ui/valuehelp/showValueHelp',["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/library"],function(C,a){'use strict';var P="sap.apf.cloudFoundry.ui.valuehelp";var V=a.mvc.ViewType;
function s(e,c){C.createView(c.getComponent(),{viewName:P+".view.CatalogBrowser",type:V.XML,viewData:e});}
return{show:s};});
sap.ui.predefine('sap/apf/core/step',['sap/apf/utils/trace',"sap/apf/core/utils/filter","sap/apf/core/utils/areRequestOptionsEqual","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/executeFilterMapping","sap/apf/core/constants","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(t,f,a,u,b,e,c,m,q){'use strict';
function S(M,s,F,r,C){M.check(s!==undefined,"Step: step configuration is missing");M.check(s.binding!==undefined,"No binding assigned to step "+s.id+" in analytical configuration",sap.apf.core.constants.message.code.errorCheckConfiguration);var l=sap.apf.core.constants.representationMetadata.labelDisplayOptions;var d=this;var B,R,o,g;var h={responseData:[]};var A=q.extend(true,{},s);this.type='step';this.title=q.extend(true,{},s.title);this.longTitle=undefined;if(s.longTitle){this.longTitle=q.extend(true,{},s.longTitle);}this.thumbnail=q.extend(true,{},s.thumbnail);this.categories=s.categories;this.destroy=function(){if(B){B.destroy();}R=undefined;o=undefined;g=undefined;B=undefined;d=undefined;};this.getRequestConfiguration=function(){return F.getConfigurationById(s.request);};this.getAdditionalConfigurationProperties=function(){return A;};this.update=function(k,n){var p;var v=this.getFilter();var w=!k.isEqual(o);var x=B.getRequestOptions(w);var y=!sap.apf.core.utils.areRequestOptionsEqual(g,x);var z=F.getConfigurationById(s.request);t.logCall("Step.update",", bFilterChanged",w,", bRequestOptionsChanged",y);C.getMetadata(z.service).then(function(D){t.log("update  -  in oCoreApi.getMetadata().then()");if(!v.isEmpty()&&!s.topNSettings&&(B.getSelectedRepresentation().type==='TableRepresentation')){var E=v.getProperties()[0];var G=[E];var H=D.getPropertyMetadata(z.entityType,E)["sap:text"];if(H){G.push(H);}p={selectionFilter:v,requiredFilterProperties:G};}if(R&&(w||y)){t.log("update() - before sendGetInBatch");R.sendGetInBatch(k,n,x,p);}else{t.log("update() - no request, before callbackAfterRequest");n({},false);}},function(){t.log("update - then.reject() - before callbackAfterRequest");n({},false);});t.logReturn("update");};this.determineFilter=function(k,n){var p;var v;if(this.adjustCumulativeFilter){p=this.adjustCumulativeFilter(k);}if(j()&&this.getFilter().toUrlParam()){var w=F.getConfigurationById(s.filterMapping.requestForMappedFilter);w.selectProperties=s.filterMapping.target.slice();if(s.filterMapping.targetPropertyDisplayOption===l.TEXT||s.filterMapping.targetPropertyDisplayOption===l.KEY_AND_TEXT){C.getMetadata(w.service).done(function(y){var z=y.getPropertyMetadata(w.entityType,w.selectProperties[0]);if(z.text){w.selectProperties.push(z.text);}e.call(this,w);}.bind(this));}else{e.call(this,w);}}else{h.responseData=[];n(this.getFilter(),p);}function e(w){var y=F.createRequest(w);v=k.addAnd(this.getFilter());if(p){v=p.copy().addAnd(this.getFilter());}if(v.isEqual(h.mergedFilter)){n(h.mappedFilter,p);}else{sap.apf.utils.executeFilterMapping(v,y,s.filterMapping.target,x,M);}}function x(y,z,D){if(!z){if(s.filterMapping.keepSource==='true'){y=d.getFilter().addAnd(y);}h.mergedFilter=v;h.mappedFilter=y;h.responseData=D;n(y,p);}}};this.getBinding=function(){return B;};this.getFilter=function(){return B.getFilter(this.getContextInfo());};this.getContextInfo=function(){var k=F.getConfigurationById(s.request);var n={entityType:k.entityType,service:k.service};return n;};this.setData=function(D,k){var n=!k.isEqual(o);o=k.copy();g=q.extend({},B.getRequestOptions(n));B.setData(D);};this.getRepresentationInfo=function(){return B.getRepresentationInfo();};this.getSelectedRepresentationInfo=function(){return B.getSelectedRepresentationInfo();};this.getSelectedRepresentation=function(){return B.getSelectedRepresentation();};this.setSelectedRepresentation=function(r){B.setSelectedRepresentation(r);};this.getFilterInformation=function(k,n){var p=q.Deferred();var v;if(s.longTitle&&s.longTitle.key){v=C.getTextNotHtmlEncoded(s.longTitle.key);}else{v=C.getTextNotHtmlEncoded(s.title.key);}if(j()&&s.filterMapping.keepSource==="true"){q.when(y(k,v),w(k,v)).then(function(D,E){p.resolve([D,E]);});}else if(j()){q.when(w(k,v)).then(function(D){p.resolve([D]);});}else{q.when(y(k,v)).then(function(D){p.resolve([D]);});}return p;function w(){var D=q.Deferred();var E;if(s.filterMapping.targetPropertyLabelKey){E=C.getTextNotHtmlEncoded(s.filterMapping.targetPropertyLabelKey);}var G=s.filterMapping.target[0];var H=F.getConfigurationById(s.filterMapping.requestForMappedFilter);x(G,H).done(function(I){z(D,G,I,E,H,true);});return D;}function x(D,E){var G=q.Deferred();C.getMetadata(E.service).done(function(H){var I;var J=new sap.apf.core.MetadataProperty(H.getPropertyMetadata(E.entityType,D));if(J.text){I=J.text;}var K=[];var L=s.filterMapping.targetPropertyDisplayOption;var N=false;h.responseData.forEach(function(O){if(L===l.TEXT&&I){K.push({text:O[I]});}else if(L===l.KEY_AND_TEXT&&I){K.push({text:C.getTextNotHtmlEncoded("keyAndTextSelection",[O[I],sap.apf.utils.convertToExternalFormat(O[D],J)])});}else{K.push({text:O[D]});N=true;}});K=sap.apf.utils.sortByProperty(K,"text",J);if(N===true){K.forEach(function(O){O.text=sap.apf.utils.convertToExternalFormat(O.text,J);});}G.resolve(K);});return G;}function y(){var D=q.Deferred();var E;var G;var H=F.getConfigurationById(s.binding);var I=F.getConfigurationById(s.request);if(H.requiredFilters&&H.requiredFilters.length===1){E=H.requiredFilters[0];if(H.requiredFilterOptions&&H.requiredFilterOptions.fieldDesc){G=C.getTextNotHtmlEncoded(H.requiredFilterOptions.fieldDesc.key);}}z(D,E,B.getSortedSelections(),G,I,false);return D;}function z(D,E,G,H,I,J){var K;var L;if(!H){K=C.getMetadata(I.service);}if(E){L=C.getMetadata(k.getRequestConfiguration().service);}q.when(K,L).then(function(N,O){var P=false;var Q;var T=k.getRequestConfiguration().entityType;var U;if(O){U=O.getFilterableProperties(T).concat(O.getParameterEntitySetKeyProperties(T));}if(!H&&N&&E){H=N.getPropertyMetadata(I.entityType,E)["sap:label"];}if(!E){P=true;Q=C.getTextNotHtmlEncoded("noSelectionPossible");}else if(U.indexOf(E)===-1){P=true;Q=C.getTextNotHtmlEncoded("filterNotApplicable");}else if(G.length===0){P=true;Q=C.getTextNotHtmlEncoded("nothingSelected");}D.resolve({text:v,selectablePropertyLabel:H||E,filterValues:G,infoIcon:J,infoText:J?C.getTextNotHtmlEncoded("infoIconfilterMapping"):undefined,warningIcon:P,warningText:Q,stepIndex:n});});}};this.serialize=function(){return{stepId:s.id,binding:B.serialize()};};this.deserialize=function(k){B.deserialize(k.binding);M.check(s.id,k.stepId,"sap.apf.core.step.deserialize inconsistent serialization data - id "+k.stepId);return this;};this.getAssignedNavigationTargets=function(){return s.navigationTargets;};i();function i(){B=F.createBinding(s.binding,undefined,undefined,r);delete A.binding;if(s.request!==undefined&&s.request!==""){R=F.createRequest(s.request);delete A.request;}}function j(){if(s.filterMapping){if(s.filterMapping.requestForMappedFilter&&s.filterMapping.target instanceof Array&&s.filterMapping.keepSource){return true;}M.putMessage(M.createMessageObject({code:"5104"}));}return false;}}
sap.apf.core.Step=S;return{constructor:S};},true);
sap.ui.predefine('sap/apf/core/utils/annotationHandler',["sap/ui/model/odata/ODataUtils"],function(O){'use strict';var A=function(a){var m=a.manifests&&a.manifests.manifest;var d=m&&m["sap.app"].dataSources;var s=a.functions.getSapSystem();var b=m&&m["sap.ui5"]&&m["sap.ui5"].dependencies&&m["sap.ui5"].dependencies.libs&&m["sap.ui5"].dependencies.libs["sap.apf"]&&m["sap.ui5"].dependencies.libs["sap.apf"].minVersion;this.getAnnotationsForService=function(f){if(!d){return g(f);}return e(f);};function g(f){if(!(typeof b==="string")||b<"1.44.0"){var h=a.functions.getODataPath(f)+"annotation.xml";if(s){h=O.setOrigin(h,{force:true,alias:s});}if(a.instances.fileExists.check(h)){return[h];}}return[];}function r(f){if(f&&f[f.length-1]==='/'){f=f.substring(0,f.length-1);}var i;if(!f){return f;}var h=f.split(";");var n=h[0];for(i=1;i<h.length;i++){if(h[i].search("o=")===-1){n=n+';'+h[i];}}return n;}function c(u,f){var n=r(u);var h=r(f);return(n===h);}function e(f){var u=[];var h;for(h in d){if(c(d[h].uri,f)){var i=d[h].settings&&d[h].settings.annotations;if(i){i.forEach(j);}else{return g(f);}return u;}}return g(f);function j(k){var l=d[k]&&d[k].uri;var n=d[k]&&d[k].settings&&d[k].settings.localUri;var o;if(l){if(s){l=O.setOrigin(l,{force:true,alias:s});}u.push(l);}if(n&&n[0]!=='/'){var p=a.functions.getComponentNameFromManifest(a.manifests.manifest);o=a.functions.getBaseURLOfComponent(p);u.push(a.functions.addRelativeToAbsoluteURL(o,n));}else if(n&&n[0]==='/'){u.push(n);}}}};sap.apf.core.utils.AnnotationHandler=A;return{constructor:A};},true);
sap.ui.predefine('sap/apf/core/utils/areRequestOptionsEqual',function(){'use strict';var a=function(o,b){function c(p,f){if(p.skip){var s=(f&&f.skip)||0;if(p.skip!==s){return false;}}if(p.top){var t=(f&&f.top)||0;if(p.top!==t){return false;}}if(p.inlineCount){var i=(f&&f.inlineCount)||false;if(p.inlineCount!==i){return false;}}return true;}function d(O,f){var n=0;var g=0;var p;for(p in O){n++;}for(p in f){g++;}if(n!==g){return false;}for(p in O){if(!O.hasOwnProperty(p)){continue;}if(typeof O[p]==='object'){if(!d(O[p],f[p])){return false;}}else if(O[p]!==f[p]){return false;}}return true;}function e(o,b){var i;o=o||{};b=b||{};var k=Object.keys(o);for(i=0;i<k.length;i++){if(k[i]==="paging"){if(!c(o.paging,b.paging)){return false;}}if(k[i]==="orderby"){if(!d(o.orderby,b.orderby)){return false;}}}return true;}if(e(o,b)){return e(b,o);}return false;};return a;},true);
sap.ui.predefine('sap/apf/demokit/configuration/demokit',[],function(){'use strict';return{"analyticalConfigurationName":"APF Standard Demo","applicationTitle":{"type":"label","kind":"text","key":"57FCA4E2C3D350DEE10000000A442AF5"},"steps":[{"type":"step","description":"Revenue by Customer","request":"request-for-Step-4","binding":"binding-for-Step-4","id":"Step-4","title":{"type":"label","kind":"text","key":"57FCA515C3D350DEE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"}}},{"type":"step","description":"Revenue by Customer and Month","request":"request-for-Step-5","binding":"binding-for-Step-5","id":"Step-5","title":{"type":"label","kind":"text","key":"57FCA590C3D350DEE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"type":"step","description":"Revenue by Customer over Time","request":"request-for-Step-6","binding":"binding-for-Step-6","id":"Step-6","title":{"type":"label","kind":"text","key":"57FCA52FC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue and Discount - Detailed","request":"request-for-Step-7","binding":"binding-for-Step-7","id":"Step-7","title":{"type":"label","kind":"text","key":"57FCA621C3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Detailed Data","request":"request-for-Step-9","binding":"binding-for-Step-9","id":"Step-9","title":{"type":"label","kind":"text","key":"57FCA5F7C3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue, Discount, and Shipping Costs by Month","request":"request-for-Step-10","binding":"binding-for-Step-10","id":"Step-10","title":{"type":"label","kind":"text","key":"15102377857028838103150312430278"},"navigationTargets":[]},{"type":"step","description":"Revenue and Shipping Costs - Detailed","request":"request-for-Step-13","binding":"binding-for-Step-13","id":"Step-13","title":{"type":"label","kind":"text","key":"57FCA68AC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Discount and Shipping Costs - Detailed","request":"request-for-Step-14","binding":"binding-for-Step-14","id":"Step-14","title":{"type":"label","kind":"text","key":"57FCA696C3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue by Country and Month","request":"request-for-Step-16","binding":"binding-for-Step-16","id":"Step-16","title":{"type":"label","kind":"text","key":"582CF0DE286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue over Time","request":"request-for-Step-17","binding":"binding-for-Step-17","id":"Step-17","title":{"type":"label","kind":"text","key":"57FCA37CC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue by Country","request":"request-for-Step-18","binding":"binding-for-Step-18","id":"Step-18","title":{"type":"label","kind":"text","key":"582CF190286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Discount by Country","request":"request-for-Step-19","binding":"binding-for-Step-19","id":"Step-19","title":{"type":"label","kind":"text","key":"582CF1AA286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Shipping Costs by Country","request":"request-for-Step-20","binding":"binding-for-Step-20","id":"Step-20","title":{"type":"label","kind":"text","key":"582CF1B7286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue, Discount, and Shipping Costs by Country","request":"request-for-Step-21","binding":"binding-for-Step-21","id":"Step-21","title":{"type":"label","kind":"text","key":"15102377963651508758254158996844"},"navigationTargets":[]},{"type":"step","description":"Discount and Shipping Costs by Customer","request":"request-for-Step-22","binding":"binding-for-Step-22","id":"Step-22","title":{"type":"label","kind":"text","key":"582CF1F5286D6BFFE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"}}},{"type":"step","description":"Discount by Customer and Month","request":"request-for-Step-23","binding":"binding-for-Step-23","id":"Step-23","title":{"type":"label","kind":"text","key":"582CF243286D6BFFE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"type":"step","description":"Revenue by Country and Month","request":"request-for-Step-26","binding":"binding-for-Step-26","id":"Step-26","title":{"type":"label","kind":"text","key":"582CF0DE286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Discount by Customer","request":"request-for-Step-29","binding":"binding-for-Step-29","id":"Step-29","title":{"type":"label","kind":"text","key":"15102370883951657475286461234693"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"}}}],"requests":[{"type":"request","id":"request-for-Step-4","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Revenue","Customer","CustomerName","Currency"]},{"type":"request","id":"request-for-Step-5","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{"type":"request","id":"request-for-Step-6","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{"type":"request","id":"request-for-Step-7","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{"type":"request","id":"request-for-Step-9","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date","Month","Year"]},{"type":"request","id":"request-for-Step-10","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{"type":"request","id":"request-for-Step-13","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{"type":"request","id":"request-for-Step-14","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{"type":"request","id":"request-for-Step-16","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{"type":"request","id":"request-for-Step-17","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Revenue","Currency"]},{"type":"request","id":"request-for-Step-18","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Revenue","Currency","Country","CountryName"]},{"type":"request","id":"request-for-Step-19","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Currency","Country","CountryName","Discount"]},{"type":"request","id":"request-for-Step-20","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Currency","Country","CountryName","ShippingCosts"]},{"type":"request","id":"request-for-Step-21","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{"type":"request","id":"request-for-Step-22","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{"type":"request","id":"request-for-Step-23","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]},{"type":"request","id":"request-for-Step-26","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{"type":"request","id":"request-for-Step-29","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Currency","Discount"]},{"type":"request","id":"FilterResolution-request-for-FacetFilter-3","service":"/tmp/demokit/demokit.xsodata","entitySet":"Country","selectProperties":["Country","CountryName"]},{"type":"request","id":"FilterResolution-request-for-FacetFilter-4","service":"/tmp/demokit/demokit.xsodata","entitySet":"CustomerGroup","selectProperties":["CustomerGroup","CustomerGroupName"]},{"type":"request","id":"FilterResolution-request-for-FacetFilter-5","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName"]}],"bindings":[{"type":"binding","id":"binding-for-Step-4","stepDescription":"Revenue by Customer","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"15053050151301676919357480678764"}},"representations":[{"id":"Step-4-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":false}]}},{"id":"Step-4-Representation-2","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]}},{"id":"Step-4-Representation-3","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":true}]}},{"id":"Step-4-Representation-4","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]}}]},{"type":"binding","id":"binding-for-Step-5","stepDescription":"Revenue by Customer and Month","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"15053050151301676919357480678764"}},"representations":[{"id":"Step-5-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-3","representationTypeId":"PercentageStackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-4","representationTypeId":"StackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}},{"id":"Step-5-Representation-5","representationTypeId":"PercentageStackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}},{"id":"Step-5-Representation-6","representationTypeId":"HeatmapChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"CustomerGroup","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerGroupName","ascending":false},{"property":"CustomerName","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-5-Representation-7","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Revenue","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"CustomerName","ascending":true}]}}]},{"type":"binding","id":"binding-for-Step-6","stepDescription":"Revenue by Customer over Time","requiredFilters":["Date"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049951111233616299921121549"}},"representations":[{"id":"Step-6-Representation-1","representationTypeId":"LineChartWithTimeAxis","parameter":{"dimensions":[{"fieldName":"Date","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"},{"fieldName":"CustomerGroup","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerGroupName","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-7","stepDescription":"Revenue and Discount - Detailed","requiredFilters":[],"representations":[{"id":"Step-7-Representation-1","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"CompanyCode","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"},"labelDisplayOption":"key"},{"fieldName":"Product","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"},"labelDisplayOption":"key"},{"fieldName":"Date","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-9","stepDescription":"Detailed Data","requiredFilters":[],"representations":[{"id":"Step-9-Representation-1","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CompanyCode","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"}},{"fieldName":"CompanyCodeName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654653622077363120109737296"}},{"fieldName":"Country","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"}},{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Product","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"}},{"fieldName":"ProductName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654973841803358061607117468"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Date","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"}},{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}},{"fieldName":"CurrencyName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998655205561312561637116321044"}},{"fieldName":"Revenue","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"ShippingCosts","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"CompanyCode","ascending":true},{"property":"Country","ascending":true},{"property":"CustomerGroup","ascending":true},{"property":"Customer","ascending":"true"},{"property":"Product","ascending":true},{"property":"Date","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"15102377426421018326751208039995"}}}]},{"type":"binding","id":"binding-for-Step-10","stepDescription":"Revenue, Discount, and Shipping Costs by Month","requiredFilters":["YearMonth"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049976392117373455981353248"}},"representations":[{"id":"Step-10-Representation-1","representationTypeId":"LineChartWithTwoVerticalAxes","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"ShippingCosts","kind":"yAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"00000000000000000000000000000000"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-10-Representation-2","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-10-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-13","stepDescription":"Revenue and Shipping Costs - Detailed","requiredFilters":[],"representations":[{"id":"Step-13-Representation-1","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"CompanyCode","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"},"labelDisplayOption":"key"},{"fieldName":"Product","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"},"labelDisplayOption":"key"},{"fieldName":"Date","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-14","stepDescription":"Discount and Shipping Costs - Detailed","requiredFilters":[],"representations":[{"id":"Step-14-Representation-1","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"CompanyCode","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"},"labelDisplayOption":"key"},{"fieldName":"Product","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"},"labelDisplayOption":"key"},{"fieldName":"Date","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Discount","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-16","stepDescription":"Revenue by Country and Month","requiredFilters":["YearMonth"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049976392117373455981353248"}},"representations":[{"id":"Step-16-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-16-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-16-Representation-3","representationTypeId":"StackedBarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}},{"id":"Step-16-Representation-4","representationTypeId":"HeatmapChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Country","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true},{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-17","stepDescription":"Revenue over Time","requiredFilters":["Date"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049951111233616299921121549"}},"representations":[{"id":"Step-17-Representation-1","representationTypeId":"LineChartWithTimeAxis","parameter":{"dimensions":[{"fieldName":"Date","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Date","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-18","stepDescription":"Revenue by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-18-Representation-1","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-18-Representation-2","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-18-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-18-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-19","stepDescription":"Discount by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-19-Representation-1","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Discount","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-19-Representation-2","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-19-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-19-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-20","stepDescription":"Shipping Costs by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-20-Representation-1","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-20-Representation-2","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-20-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-20-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"ShippingCosts","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-21","stepDescription":"Revenue, Discount, and Shipping Costs by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-21-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-21-Representation-2","representationTypeId":"BubbleChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"Revenue","kind":"bubbleWidth","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"leftLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-22","stepDescription":"Discount and Shipping Costs by Customer","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},"representations":[{"id":"Step-22-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-2","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"ShippingCosts","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"CustomerGroup","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerGroupName","ascending":true},{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-5","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-23","stepDescription":"Discount by Customer and Month","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},"representations":[{"id":"Step-23-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-3","representationTypeId":"PercentageStackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-4","representationTypeId":"StackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-5","representationTypeId":"PercentageStackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-6","representationTypeId":"HeatmapChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"CustomerGroup","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerGroupName","ascending":false},{"property":"CustomerName","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-7","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Discount","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-26","stepDescription":"Revenue by Country and Month","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text"},"representations":[{"id":"Step-26-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-26-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true},{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-26-Representation-3","representationTypeId":"PercentageStackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true},{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-26-Representation-4","representationTypeId":"HeatmapChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","labelDisplayOption":"key"},{"fieldName":"Country","kind":"xAxis2","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorColor"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true},{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-29","stepDescription":"Discount by Customer","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"15053050151301676919357480678764"}},"representations":[{"id":"Step-29-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-29-Representation-2","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-29-Representation-3","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Discount","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-29-Representation-4","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],"representationTypes":[],"categories":[{"type":"category","description":"All Steps","id":"Category-9","label":{"type":"label","kind":"text","key":"582CF273286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-18"},{"type":"step","id":"Step-26"},{"type":"step","id":"Step-16"},{"type":"step","id":"Step-4"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-6"},{"type":"step","id":"Step-17"},{"type":"step","id":"Step-19"},{"type":"step","id":"Step-29"},{"type":"step","id":"Step-23"},{"type":"step","id":"Step-20"},{"type":"step","id":"Step-7"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-21"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-14"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-9"}]},{"type":"category","description":"Time","id":"Category-3","label":{"type":"label","kind":"text","key":"57FCA587C3D350DEE10000000A442AF5"},"steps":[{"type":"step","id":"Step-17"},{"type":"step","id":"Step-16"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-6"},{"type":"step","id":"Step-23"},{"type":"step","id":"Step-10"}]},{"type":"category","description":"Country","id":"Category-5","label":{"type":"label","kind":"text","key":"582CF189286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-18"},{"type":"step","id":"Step-19"},{"type":"step","id":"Step-20"},{"type":"step","id":"Step-21"},{"type":"step","id":"Step-26"}]},{"type":"category","description":"Customer","id":"Category-2","label":{"type":"label","kind":"text","key":"57FCA50FC3D350DEE10000000A442AF5"},"steps":[{"type":"step","id":"Step-4"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-29"},{"type":"step","id":"Step-23"}]},{"type":"category","description":"Revenue","id":"Category-6","label":{"type":"label","kind":"text","key":"582CF257286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-18"},{"type":"step","id":"Step-16"},{"type":"step","id":"Step-4"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-6"},{"type":"step","id":"Step-17"},{"type":"step","id":"Step-7"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Discount","id":"Category-7","label":{"type":"label","kind":"text","key":"582CF25B286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-19"},{"type":"step","id":"Step-29"},{"type":"step","id":"Step-23"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-14"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Shipping Costs","id":"Category-8","label":{"type":"label","kind":"text","key":"582CF25F286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-20"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-14"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Detailed Data","id":"Category-4","label":{"type":"label","kind":"text","key":"57FCA5E9C3D350DEE10000000A442AF5"},"steps":[{"type":"step","id":"Step-9"},{"type":"step","id":"Step-7"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-14"}]}],"navigationTargets":[{"type":"navigationTarget","id":"NavigationTarget-1","semanticObject":"FioriApplication","action":"executeAPFConfiguration","isStepSpecific":false,"useDynamicParameters":true,"parameters":[{"key":"sap-apf-configuration-id","value":"57FCA36EC3D350DEE10000000A442AF4"}],"title":{"key":"15181818661221038491819157748774","type":"label","kind":"text"}}],"facetFilters":[{"type":"facetFilter","description":"Currency","id":"FacetFilter-1","property":"P_Currency","multiSelection":"false","preselectionDefaults":[],"valueList":["USD","EUR"],"label":{"type":"label","kind":"text","key":"57FCA395C3D350DEE10000000A442AF5"},"invisible":false,"hasAutomaticSelection":"true","useSameRequestForValueHelpAndFilterResolution":"false"},{"type":"facetFilter","description":"Company Code","id":"FacetFilter-2","property":"CompanyCode","multiSelection":"true","preselectionDefaults":["CA01","CH01","DE01","IN01","US01"],"label":{"type":"label","kind":"text","key":"57FCA4EBC3D350DEE10000000A442AF5"},"invisible":true,"hasAutomaticSelection":"false","useSameRequestForValueHelpAndFilterResolution":"false"},{"type":"facetFilter","description":"Country","id":"FacetFilter-3","property":"Country","multiSelection":"true","preselectionDefaults":null,"label":{"type":"label","kind":"text","key":"57FCA4F1C3D350DEE10000000A442AF5"},"invisible":false,"filterResolutionRequest":"FilterResolution-request-for-FacetFilter-3","valueHelpRequest":"FilterResolution-request-for-FacetFilter-3","hasAutomaticSelection":"false","useSameRequestForValueHelpAndFilterResolution":"true"},{"type":"facetFilter","description":"Customer Group","id":"FacetFilter-4","property":"CustomerGroup","multiSelection":"true","preselectionDefaults":null,"label":{"type":"label","kind":"text","key":"57FCA4F5C3D350DEE10000000A442AF5"},"invisible":false,"filterResolutionRequest":"FilterResolution-request-for-FacetFilter-4","valueHelpRequest":"FilterResolution-request-for-FacetFilter-4","hasAutomaticSelection":"false","useSameRequestForValueHelpAndFilterResolution":"true"},{"type":"facetFilter","description":"Customer","id":"FacetFilter-5","property":"Customer","multiSelection":"true","preselectionDefaults":null,"label":{"type":"label","kind":"text","key":"57FCA4FBC3D350DEE10000000A442AF5"},"invisible":false,"filterResolutionRequest":"FilterResolution-request-for-FacetFilter-5","valueHelpRequest":"FilterResolution-request-for-FacetFilter-5","hasAutomaticSelection":"false","useSameRequestForValueHelpAndFilterResolution":"true"}],"configHeader":{"Application":"57FCA36EC3D350DEE10000000A442AF5","ApplicationName":"APF Demo Kit Application","SemanticObject":"FioriApplication","AnalyticalConfiguration":"57FCA36EC3D350DEE10000000A442AF4","AnalyticalConfigurationName":"APF Standard Demo","UI5Version":"1.55.0-SNAPSHOT","CreationUTCDateTime":null,"LastChangeUTCDateTime":null}};});
sap.ui.predefine('sap/apf/demokit/configuration/demokitHierarchy',[],function(){'use strict';return{"analyticalConfigurationName":"APF Hierarchy Demo","applicationTitle":{"type":"label","kind":"text","key":"14822380843323382109646873064048"},"steps":[{"type":"step","description":"Revenue by Country (with Hierarchy Service)","request":"request-for-Step-2","binding":"binding-for-Step-2","id":"Step-2","title":{"type":"label","kind":"text","key":"14822374389411352084979829313687"},"navigationTargets":[]},{"type":"step","description":"Revenue by Country (with normal Service)","request":"request-for-Step-3","binding":"binding-for-Step-3","id":"Step-3","title":{"type":"label","kind":"text","key":"14822374366121819634218359677717"},"navigationTargets":[]},{"type":"hierarchicalStep","description":"Revenue by Customer","request":"request-for-Step-1","binding":"binding-for-Step-1","id":"Step-1","title":{"type":"label","kind":"text","key":"57FCA515C3D350DEE10000000A442AF5"},"navigationTargets":[],"hierarchyProperty":"Customer"}],"requests":[{"type":"request","id":"request-for-Step-2","service":"/tmp/demokit/hierarchy.xsodata","entitySet":"RevenueHryQuery","selectProperties":["Country","CountryName","Revenue","Currency"]},{"type":"request","id":"request-for-Step-3","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Country","CountryName","Revenue","Currency"]},{"type":"request","id":"request-for-Step-1","service":"/tmp/demokit/hierarchy.xsodata","entitySet":"RevenueHryQuery","selectProperties":["Currency","Customer_NodeText","Revenue"]},{"type":"request","id":"ValueHelp-request-for-FacetFilter-2","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Country","CountryName"]}],"bindings":[{"type":"binding","id":"binding-for-Step-2","stepDescription":"Revenue by Country (with Hierarchy Service)","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-2-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}}}]},{"type":"binding","id":"binding-for-Step-3","stepDescription":"Revenue by Country (with normal Service)","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-3-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}}}]},{"type":"binding","id":"binding-for-Step-1","stepDescription":"Revenue by Customer","requiredFilters":["Customer_NodeID"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"15053050151301676919357480678764"}},"representations":[{"id":"Step-1-Representation-1","representationTypeId":"TreeTableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}},{"fieldName":"Revenue","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"hierarchicalProperty":[{"fieldName":"Customer","kind":"hierarchicalColumn","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"text"}],"width":{}}}]}],"representationTypes":[],"categories":[{"type":"category","description":"All Steps","id":"Category-1","label":{"type":"label","kind":"text","key":"582CF273286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-1"},{"type":"step","id":"Step-2"},{"type":"step","id":"Step-3"}]}],"navigationTargets":[],"facetFilters":[{"type":"facetFilter","description":"Currency","id":"FacetFilter-1","property":"P_Currency","multiSelection":"false","preselectionDefaults":["USD"],"valueList":["EUR","USD"],"label":{"type":"label","kind":"text","key":"57FCA395C3D350DEE10000000A442AF5"},"invisible":false,"hasAutomaticSelection":"false","useSameRequestForValueHelpAndFilterResolution":"false"},{"type":"facetFilter","description":"Country","id":"FacetFilter-2","alias":"Country","property":"Country","multiSelection":"true","preselectionDefaults":[],"label":{"type":"label","kind":"text","key":"57FCA4F1C3D350DEE10000000A442AF5"},"invisible":false,"valueHelpRequest":"ValueHelp-request-for-FacetFilter-2","hasAutomaticSelection":"true","useSameRequestForValueHelpAndFilterResolution":"false"}],"configHeader":{"Application":"57FCA36EC3D350DEE10000000A442AF5","ApplicationName":"APF Demo Kit Application","SemanticObject":"FioriApplication","AnalyticalConfiguration":"57FCA36EC3D350DEE10000000A442AF6","AnalyticalConfigurationName":"APF Hierarchy Demo","UI5Version":"1.51.0-SNAPSHOT","CreationUTCDateTime":null,"LastChangeUTCDateTime":null}};});
sap.ui.predefine('sap/apf/demokit/configuration/demokitSFB',[],function(){'use strict';return{"analyticalConfigurationName":"APF Smart Filter Bar Demo","applicationTitle":{"type":"label","kind":"text","key":"14858784650039751216561611030127"},"steps":[{"type":"step","description":"Revenue by Customer","request":"request-for-Step-4","binding":"binding-for-Step-4","id":"Step-4","title":{"type":"label","kind":"text","key":"57FCA515C3D350DEE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"}}},{"type":"step","description":"Revenue by Customer and Month","request":"request-for-Step-5","binding":"binding-for-Step-5","id":"Step-5","title":{"type":"label","kind":"text","key":"57FCA590C3D350DEE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"type":"step","description":"Revenue by Customer over Time","request":"request-for-Step-6","binding":"binding-for-Step-6","id":"Step-6","title":{"type":"label","kind":"text","key":"57FCA52FC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue and Discount - Detailed","request":"request-for-Step-7","binding":"binding-for-Step-7","id":"Step-7","title":{"type":"label","kind":"text","key":"57FCA621C3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Detailed Data","request":"request-for-Step-9","binding":"binding-for-Step-9","id":"Step-9","title":{"type":"label","kind":"text","key":"57FCA5F7C3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue, Discount, and Shipping Costs by Month","request":"request-for-Step-10","binding":"binding-for-Step-10","id":"Step-10","title":{"type":"label","kind":"text","key":"57FCA63CC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue and Shipping Costs - Detailed","request":"request-for-Step-13","binding":"binding-for-Step-13","id":"Step-13","title":{"type":"label","kind":"text","key":"57FCA68AC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Discount and Shipping Costs - Detailed","request":"request-for-Step-14","binding":"binding-for-Step-14","id":"Step-14","title":{"type":"label","kind":"text","key":"57FCA696C3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue by Country and Month","request":"request-for-Step-16","binding":"binding-for-Step-16","id":"Step-16","title":{"type":"label","kind":"text","key":"582CF0DE286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue over Time","request":"request-for-Step-17","binding":"binding-for-Step-17","id":"Step-17","title":{"type":"label","kind":"text","key":"57FCA37CC3D350DEE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue by Country","request":"request-for-Step-18","binding":"binding-for-Step-18","id":"Step-18","title":{"type":"label","kind":"text","key":"582CF190286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Discount by Country","request":"request-for-Step-19","binding":"binding-for-Step-19","id":"Step-19","title":{"type":"label","kind":"text","key":"582CF1AA286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Shipping Costs by Country","request":"request-for-Step-20","binding":"binding-for-Step-20","id":"Step-20","title":{"type":"label","kind":"text","key":"582CF1B7286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Revenue, Discount, and Shipping Costs by Country","request":"request-for-Step-21","binding":"binding-for-Step-21","id":"Step-21","title":{"type":"label","kind":"text","key":"582CF1C1286D6BFFE10000000A442AF5"},"navigationTargets":[]},{"type":"step","description":"Discount and Shipping Costs by Customer","request":"request-for-Step-22","binding":"binding-for-Step-22","id":"Step-22","title":{"type":"label","kind":"text","key":"582CF1F5286D6BFFE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"}}},{"type":"step","description":"Discount by Customer and Month","request":"request-for-Step-23","binding":"binding-for-Step-23","id":"Step-23","title":{"type":"label","kind":"text","key":"582CF243286D6BFFE10000000A442AF5"},"navigationTargets":[],"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}],"requests":[{"type":"request","id":"request-for-Step-4","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Revenue","Customer","CustomerName","Currency"]},{"type":"request","id":"request-for-Step-5","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{"type":"request","id":"request-for-Step-6","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{"type":"request","id":"request-for-Step-7","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{"type":"request","id":"request-for-Step-9","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date"]},{"type":"request","id":"request-for-Step-10","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{"type":"request","id":"request-for-Step-13","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{"type":"request","id":"request-for-Step-14","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{"type":"request","id":"request-for-Step-16","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{"type":"request","id":"request-for-Step-17","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Date","Revenue","Currency"]},{"type":"request","id":"request-for-Step-18","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Revenue","Currency","Country","CountryName"]},{"type":"request","id":"request-for-Step-19","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Currency","Country","CountryName","Discount"]},{"type":"request","id":"request-for-Step-20","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Currency","Country","CountryName","ShippingCosts"]},{"type":"request","id":"request-for-Step-21","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{"type":"request","id":"request-for-Step-22","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{"type":"request","id":"request-for-Step-23","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQuery","selectProperties":["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]}],"bindings":[{"type":"binding","id":"binding-for-Step-4","stepDescription":"Revenue by Customer","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"15053050151301676919357480678764"}},"representations":[{"id":"Step-4-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":false}]}},{"id":"Step-4-Representation-2","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]}},{"id":"Step-4-Representation-3","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":true}]}},{"id":"Step-4-Representation-4","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]}}]},{"type":"binding","id":"binding-for-Step-5","stepDescription":"Revenue by Customer and Month","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"15053050151301676919357480678764"}},"representations":[{"id":"Step-5-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-3","representationTypeId":"PercentageStackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-4","representationTypeId":"StackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}},{"id":"Step-5-Representation-5","representationTypeId":"PercentageStackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}},{"id":"Step-5-Representation-6","representationTypeId":"HeatmapChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"CustomerGroup","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerGroupName","ascending":false},{"property":"CustomerName","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-5-Representation-7","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Revenue","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"CustomerName","ascending":true}]}},{"id":"Step-5-Representation-8","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Revenue","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"Revenue","ascending":false}]}}]},{"type":"binding","id":"binding-for-Step-6","stepDescription":"Revenue by Customer over Time","requiredFilters":["Date"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049951111233616299921121549"}},"representations":[{"id":"Step-6-Representation-1","representationTypeId":"LineChartWithTimeAxis","parameter":{"dimensions":[{"fieldName":"Date","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"},{"fieldName":"CustomerGroup","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerGroupName","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-7","stepDescription":"Revenue and Discount - Detailed","requiredFilters":[],"representations":[{"id":"Step-7-Representation-1","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"CompanyCode","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"},"labelDisplayOption":"key"},{"fieldName":"Product","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"},"labelDisplayOption":"key"},{"fieldName":"Date","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-9","stepDescription":"Detailed Data","requiredFilters":[],"representations":[{"id":"Step-9-Representation-1","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CompanyCode","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"}},{"fieldName":"CompanyCodeName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654653622077363120109737296"}},{"fieldName":"Country","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"}},{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Product","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"}},{"fieldName":"ProductName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654973841803358061607117468"}},{"fieldName":"YearMonth","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998655078505897926830178603327"}},{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}},{"fieldName":"CurrencyName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998655205561312561637116321044"}},{"fieldName":"Revenue","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"ShippingCosts","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"CompanyCode","ascending":true},{"property":"Country","ascending":true},{"property":"CustomerGroup","ascending":true},{"property":"Customer","ascending":"true"},{"property":"Product","ascending":true}]}}]},{"type":"binding","id":"binding-for-Step-10","stepDescription":"Revenue, Discount, and Shipping Costs by Month","requiredFilters":["YearMonth"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049976392117373455981353248"}},"representations":[{"id":"Step-10-Representation-1","representationTypeId":"LineChartWithTwoVerticalAxes","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"ShippingCosts","kind":"yAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-10-Representation-2","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-10-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-13","stepDescription":"Revenue and Shipping Costs - Detailed","requiredFilters":[],"representations":[{"id":"Step-13-Representation-1","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"CompanyCode","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"},"labelDisplayOption":"key"},{"fieldName":"Product","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"},"labelDisplayOption":"key"},{"fieldName":"Date","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-14","stepDescription":"Discount and Shipping Costs - Detailed","requiredFilters":[],"representations":[{"id":"Step-14-Representation-1","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"CompanyCode","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654351676651232220531117371"},"labelDisplayOption":"key"},{"fieldName":"Product","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654430531727431348137129535"},"labelDisplayOption":"key"},{"fieldName":"Date","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Discount","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{}},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-16","stepDescription":"Revenue by Country and Month","requiredFilters":["YearMonth"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049976392117373455981353248"}},"representations":[{"id":"Step-16-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-16-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Country","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"YearMonth","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-16-Representation-3","representationTypeId":"StackedBarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-17","stepDescription":"Revenue over Time","requiredFilters":["Date"],"requiredFilterOptions":{"fieldDesc":{"type":"label","kind":"text","key":"15053049951111233616299921121549"}},"representations":[{"id":"Step-17-Representation-1","representationTypeId":"LineChartWithTimeAxis","parameter":{"dimensions":[{"fieldName":"Date","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654071801237122177186160452"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Date","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-18","stepDescription":"Revenue by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-18-Representation-1","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-18-Representation-2","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Revenue","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-18-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-18-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Revenue","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-19","stepDescription":"Discount by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-19-Representation-1","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Discount","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-19-Representation-2","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-19-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-19-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-20","stepDescription":"Shipping Costs by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-20-Representation-1","representationTypeId":"PieChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"sectorSize","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-20-Representation-2","representationTypeId":"DonutChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"sectorColor","labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"sectorSize"}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-20-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-20-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-21","stepDescription":"Revenue, Discount, and Shipping Costs by Country","requiredFilters":["Country"],"requiredFilterOptions":{"labelDisplayOption":"text","fieldDesc":{"type":"label","kind":"text","key":"15053049815106687677930186500838"}},"representations":[{"id":"Step-21-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"Revenue","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"}}},{"id":"Step-21-Representation-2","representationTypeId":"BubbleChart","parameter":{"dimensions":[{"fieldName":"Country","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998654696299888808200129512867"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"Revenue","kind":"bubbleWidth","fieldDesc":{"type":"label","kind":"text","key":"14998652326179777222480117701560"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Country","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"leftLower":{"type":"label","kind":"text","key":"57FCA51BC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"582CF0DA286D6BFFE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-22","stepDescription":"Discount and Shipping Costs by Customer","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},"representations":[{"id":"Step-22-Representation-1","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-2","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"ShippingCosts","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-3","representationTypeId":"ColumnChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-4","representationTypeId":"BarChart","parameter":{"dimensions":[{"fieldName":"CustomerGroup","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"text"}],"measures":[{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}},{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerGroupName","ascending":true},{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA630C3D350DEE10000000A442AF5"}}},{"id":"Step-22-Representation-5","representationTypeId":"ScatterPlotChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"regionColor","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"ShippingCosts","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998655468591080116939206010709"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA68EC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{"type":"binding","id":"binding-for-Step-23","stepDescription":"Discount by Customer and Month","requiredFilters":["Customer"],"requiredFilterOptions":{"labelDisplayOption":"keyAndText","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},"representations":[{"id":"Step-23-Representation-1","representationTypeId":"LineChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-2","representationTypeId":"StackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-3","representationTypeId":"PercentageStackedColumnChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"Customer","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-4","representationTypeId":"StackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-5","representationTypeId":"PercentageStackedBarChart","parameter":{"dimensions":[{"fieldName":"Customer","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"},{"fieldName":"Year","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"legend","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"}],"measures":[{"fieldName":"Discount","kind":"yAxis","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Customer","ascending":true},{"property":"Year","ascending":true},{"property":"Month","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-6","representationTypeId":"HeatmapChart","parameter":{"dimensions":[{"fieldName":"Year","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"},"labelDisplayOption":"key"},{"fieldName":"Month","kind":"xAxis","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"},"labelDisplayOption":"key"},{"fieldName":"CustomerGroup","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"},"labelDisplayOption":"text"},{"fieldName":"Customer","kind":"xAxis2","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"},"labelDisplayOption":"keyAndText"}],"measures":[{"fieldName":"Discount","kind":"sectorColor","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}}],"properties":[],"hierarchicalProperty":[{}],"alternateRepresentationTypeId":"TableRepresentation","width":{},"orderby":[{"property":"Year","ascending":true},{"property":"Month","ascending":true},{"property":"CustomerGroupName","ascending":false},{"property":"CustomerName","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA51FC3D350DEE10000000A442AF5"},"rightUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"},"rightLower":{"type":"label","kind":"text","key":"57FCA533C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-7","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Discount","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"CountryName","ascending":true}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}},{"id":"Step-23-Representation-8","representationTypeId":"TableRepresentation","parameter":{"dimensions":[],"measures":[],"properties":[{"fieldName":"CountryName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653104964720126290166825322"}},{"fieldName":"CustomerGroupName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653198571430428175234187582"}},{"fieldName":"CustomerName","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653363629622038810213652282"}},{"fieldName":"Year","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652222454346841580163092475"}},{"fieldName":"Month","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652259301467785212271544619"}},{"fieldName":"Discount","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998654524391749750260102126556"}},{"fieldName":"Currency","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653507209401435790398465730"}},{"fieldName":"Customer","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998652293709247139600212095455"}},{"fieldName":"CustomerGroup","kind":"column","fieldDesc":{"type":"label","kind":"text","key":"14998653005891920551803724311210"}}],"hierarchicalProperty":[{}],"width":{},"orderby":[{"property":"Discount","ascending":false}]},"thumbnail":{"type":"thumbnail","leftUpper":{"type":"label","kind":"text","key":"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],"representationTypes":[],"categories":[{"type":"category","description":"All Steps","id":"Category-9","label":{"type":"label","kind":"text","key":"582CF273286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-5"},{"type":"step","id":"Step-4"},{"type":"step","id":"Step-6"},{"type":"step","id":"Step-7"},{"type":"step","id":"Step-9"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-14"},{"type":"step","id":"Step-16"},{"type":"step","id":"Step-17"},{"type":"step","id":"Step-18"},{"type":"step","id":"Step-19"},{"type":"step","id":"Step-20"},{"type":"step","id":"Step-21"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-23"}]},{"type":"category","description":"Time","id":"Category-3","label":{"type":"label","kind":"text","key":"57FCA587C3D350DEE10000000A442AF5"},"steps":[{"type":"step","id":"Step-17"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-16"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-6"},{"type":"step","id":"Step-23"}]},{"type":"category","description":"Country","id":"Category-5","label":{"type":"label","kind":"text","key":"582CF189286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-18"},{"type":"step","id":"Step-19"},{"type":"step","id":"Step-20"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Customer","id":"Category-2","label":{"type":"label","kind":"text","key":"57FCA50FC3D350DEE10000000A442AF5"},"steps":[{"type":"step","id":"Step-4"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-23"}]},{"type":"category","description":"Revenue","id":"Category-6","label":{"type":"label","kind":"text","key":"582CF257286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-18"},{"type":"step","id":"Step-16"},{"type":"step","id":"Step-4"},{"type":"step","id":"Step-5"},{"type":"step","id":"Step-6"},{"type":"step","id":"Step-7"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-17"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Discount","id":"Category-7","label":{"type":"label","kind":"text","key":"582CF25B286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-19"},{"type":"step","id":"Step-23"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-14"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Shipping Costs","id":"Category-8","label":{"type":"label","kind":"text","key":"582CF25F286D6BFFE10000000A442AF5"},"steps":[{"type":"step","id":"Step-20"},{"type":"step","id":"Step-22"},{"type":"step","id":"Step-10"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-14"},{"type":"step","id":"Step-21"}]},{"type":"category","description":"Detailed Data","id":"Category-4","label":{"type":"label","kind":"text","key":"57FCA5E9C3D350DEE10000000A442AF5"},"steps":[{"type":"step","id":"Step-9"},{"type":"step","id":"Step-7"},{"type":"step","id":"Step-13"},{"type":"step","id":"Step-14"}]}],"navigationTargets":[{"type":"navigationTarget","id":"NavigationTarget-1","semanticObject":"FioriApplication","action":"executeAPFConfiguration","isStepSpecific":false,"useDynamicParameters":true,"parameters":[{"key":"sap-apf-configuration-id","value":"57FCA36EC3D350DEE10000000A442AF7"}],"title":{"key":"15181892007378544392570341801336","type":"label","kind":"text"}}],"smartFilterBar":{"id":"SmartFilterBar-1","type":"smartFilterBar","service":"/tmp/demokit/demokit.xsodata","entitySet":"RevenueQueryResults"},"configHeader":{"Application":"57FCA36EC3D350DEE10000000A442AF5","ApplicationName":"APF Demo Kit Application","SemanticObject":"FioriApplication","AnalyticalConfiguration":"57FCA36EC3D350DEE10000000A442AF7","AnalyticalConfigurationName":"APF Smart Filter Bar Demo","UI5Version":"1.55.0-SNAPSHOT","CreationUTCDateTime":null,"LastChangeUTCDateTime":null}};});
sap.ui.predefine('sap/apf/library',["sap/ui/core/Core","sap/ui/core/library","sap/suite/ui/commons/library","sap/m/library","sap/ui/layout/library","sap/ushell/library","sap/viz/library","sap/ui/comp/library","sap/ui/export/library","sap/ui/table/library"],function(){sap.ui.getCore().initLibrary({name:"sap.apf",dependencies:["sap.ui.core","sap.suite.ui.commons","sap.m","sap.ui.layout","sap.ushell","sap.viz","sap.ui.comp","sap.ui.export","sap.ui.table"],types:[],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:"1.96.0"});return sap.apf;});
sap.ui.predefine('sap/apf/messageCallbackForStartup',['sap/apf/core/constants','sap/base/security/encodeXML','sap/m/MessageBox'],function(C,E){'use strict';
function m(a){function c(){window.history.go(-1);}function b(a){var t=a.getMessage();while(a.getPrevious()){a=a.getPrevious();t=t+'\n'+a.getMessage();}return t;}function o(){var D=new sap.m.Dialog({title:"Error",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:['<div><p> '+E(b(a))+'</p></div>'].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:"Close",press:function(){D.close();}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}var d=new sap.m.Dialog({title:"Error",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:a.getMessage()}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:"Show Details",press:function(){o();}})]})],beginButton:new sap.m.Button({text:"Close",press:function(){if(a.getSeverity()===C.message.severity.fatal){c();}}}),afterClose:function(){d.destroy();}});d.setInitialFocus(d);d.open();}
sap.apf.messageCallbackForStartup=m;return m;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/configuration.controller',["sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textPoolHelper"],function(B,n,V,c,t){"use strict";
function _(C){C.byId("idConfigurationBasicData").setText(C.textReader("configurationData"));C.byId("idConfigTitleLabel").setText(C.textReader("configTitle"));C.byId("idConfigTitle").setPlaceholder(C.textReader("newConfiguration"));C.byId("idConfigurationIdLabel").setText(C.textReader("configurationId"));if(C.coreApi.showSemanticObject()){C.byId("idSemanticObjectLabel").setText(C.textReader("semanticObject"));}C.byId("idNoOfCategoriesLabel").setText(C.textReader("noOfCategories"));C.byId("idNoOfStepsLabel").setText(C.textReader("noOfSteps"));C.byId("idFilterTypeData").setText(C.textReader("filterType"));C.byId("idFilterTypeLabel").setText(C.textReader("type"));C.byId("smartFilterBar").setText(C.textReader("smartFilterBar"));C.byId("facetFilter").setText(C.textReader("configuredFilters"));C.byId("none").setText(C.textReader("noFilters"));C.byId("idAriaPropertyForFilterRadioGp").setText(C.textReader("type"));}
function a(C){if(!C.configuration){return;}C.byId("idNoOfCategories").setValue(C.configurationEditor.getCategories().length);}
function b(C){if(!C.configuration){return;}C.byId("idNoOfSteps").setValue(C.configurationEditor.getSteps().length);}
function d(C){if(!C.configuration){return;}C.byId("idConfigTitle").setValue(C.configuration.AnalyticalConfigurationName);}
function e(C){if(!C.configuration){return;}if(C.configuration.AnalyticalConfiguration.indexOf(c.configurationObjectTypes.ISNEWCONFIG)===-1){C.byId("idConfigurationId").setValue(C.configuration.AnalyticalConfiguration);}}
function f(C){var m=C.applicationHandler.getApplication(C.params.arguments.appId);if(m){C.byId("idSemanticObject").setValue(m.SemanticObject);}}
function g(C){var F;if(C.configuration){F=Object.keys(C.configurationEditor.getFilterOption())[0];C.byId("idFilterTypeRadioGroup").setEnabled(true);C.byId("idFilterTypeRadioGroup").setSelectedButton(C.byId(F));}}
function h(C){if(C.params&&C.params.arguments&&C.params.arguments.configId){C.configuration=C.configurationHandler.getConfiguration(C.params.arguments.configId);}if(C.configuration){C.configurationEditor=C.getView().getViewData().oConfigurationEditor;}}
function i(C,s){var T=C.textReader("configuration")+": "+s;C.getView().getViewData().updateTitleAndBreadCrumb(T);}
function j(C,s){var T=C.configurationHandler.getTextPool();var o=sap.apf.modeler.ui.utils.TranslationFormatMap.APPLICATION_TITLE;T.setTextAsPromise(s,o).done(function(A){C.configurationEditor.setApplicationTitle(A);});}
function k(C,s,m){var o={appId:C.params.arguments.appId};var p={name:s};if(m){p.id=m;o.configId=m;C.getView().getViewData().updateSelectedNode(p,o);}else{C.getView().getViewData().updateSelectedNode(p);}}
function l(C){var F={};var s=C.byId("idFilterTypeRadioGroup").getSelectedButton().getCustomData()[0].getValue();F[s]=true;C.configurationEditor.setFilterOption(F);C.configurationEditor.setIsUnsaved();}
return B.extend("sap.apf.modeler.ui.controller.configuration",{onInit:function(){var C=this;var v=C.getView().getViewData();C.applicationHandler=v.oApplicationHandler;C.configurationHandler=v.oConfigurationHandler;C.textReader=v.getText;C.params=v.oParams;this.coreApi=v.oCoreApi;this.viewValidatorForConfig=new V(C.getView());_(C);if(!this.coreApi.showSemanticObject()){C.byId("idSemanticObjectLabel").setVisible(false);C.byId("idSemanticObject").setVisible(false);}h(C);C.setDetailData();this.viewValidatorForConfig.addField("idConfigTitle");},onAfterRendering:function(){var C=this;if(C.getView().byId("idConfigTitle").getValue().length===0){C.getView().byId("idConfigTitle").focus();}},setDetailData:function(){var C=this;f(C);e(C);d(C);a(C);b(C);g(C);},updateSubViewInstancesOnReset:function(C){this.configurationEditor=C;},handleChangeDetailValue:function(){var C=this;var s=C.byId("idConfigTitle").getValue().trim();var m;if(n.checkIsNotNullOrUndefinedOrBlank(s)){m={AnalyticalConfigurationName:s};if(C.params&&C.params.arguments&&C.params.arguments.configId&&(C.params.arguments.configId.indexOf("newConfig")===-1)){C.configurationHandler.setConfiguration(m,C.params.arguments.configId);k(C,s);}else{var T=C.configurationHandler.setConfiguration(m);C.configuration=C.configurationHandler.getConfiguration(T);if(!C.configurationEditor){C.configurationHandler.loadConfiguration(T,function(o){C.configurationEditor=o;});}k(C,s,T);}j(C,s);i(C,s);C.configuration=m;}C.configurationEditor.setIsUnsaved();},handleChangeForFilterType:function(){var C=this,F;if(!C.configurationEditor.isDataLostByFilterOptionChange()){l(C);C.getView().getViewData().updateTree();}else{F=new sap.ui.xmlfragment("idFilterOptionChangeFragment","sap.apf.modeler.ui.fragment.dialogWithTwoButtons",C);F.setState(sap.ui.core.ValueState.Warning);F.setTitle(C.textReader("warning"));sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idLabelForDialog").setText(C.textReader("filterOptionChangeMessage"));sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idBeginButtonForDialog").setText(C.textReader("continue"));sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idEndButtonForDialog").setText(C.textReader("cancel"));F.open();}},handleBeginButtonDialogWithTwoButtons:function(){var C=this;l(C);C.getView().getViewData().updateTree();sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy();},handleCancel:function(){var C=this;g(C);sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy();},getValidationState:function(){return this.viewValidatorForConfig.getValidationState();}});},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/hierarchicalStepRequest.controller',["sap/apf/modeler/ui/controller/stepRequest.controller","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(B,t,q){"use strict";var t=sap.apf.modeler.ui.utils.textManipulator;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var n=sap.apf.modeler.ui.utils.nullObjectChecker;return B.extend("sap.apf.modeler.ui.controller.hierarchicalStepRequest",{onBeforeRendering:function(){var c=this;c.byId("idOptionalPropertyLabel").setVisible(true);c.byId("idOptionalProperty").setVisible(true);c.byId("idOptionalRequestFieldLabel").setVisible(true);c.byId("idOptionalRequestField").setVisible(true);c.byId("idOptionalLabelDisplayOptionType").setVisible(true);c.byId("idOptionalSelectedPropertyLabel").setVisible(true);c.byId("idOptionalSelectedPropertyLabelText").setVisible(true);},setDisplayText:function(){var c=this;var T=c.getView().getViewData().oTextReader;c.byId("idSourceLabel").setText(T("source"));c.byId("idEntityLabel").setText(T("hierarchicalEntity"));c.byId("idOptionalPropertyLabel").setText(T("hierarchicalProperty"));c.byId("idSelectPropertiesLabel").setText(T("nonHierarchicalProperty"));c.byId("idOptionalRequestFieldLabel").setText(T("requiredFilters"));},setOptionalHierarchicalProperty:function(){var c=this;var d=q.Deferred();var m,s,h,v;s=c.byId("idSource").getValue();h=c.byId("idEntity").getSelectedKey();c.byId("idOptionalProperty").setModel(null);c.byId("idOptionalProperty").clearSelection();if(!n.checkIsNotNullOrUndefinedOrBlank(s)){d.resolve();return d.promise();}c.getHierarchicalProperty(s,h).done(function(a){var S=c.getSelectedHierarchicalProperty();if(n.checkIsNotNullOrUndefinedOrBlank(S)){v=c.validateSelectedValues(c,[S],a);a=v.aValues;S=v.aSelectedValues[0];}m=o.convert(a);c.byId("idOptionalProperty").setModel(m);if(!n.checkIsNotNullOrUndefinedOrBlank(S)||a.indexOf(S)===-1){S=a[0];if(n.checkIsNotNullOrUndefinedOrBlank(S)){c.byId("idOptionalProperty").setSelectedKey(S);}d.resolve();}else if(n.checkIsNotNullOrUndefinedOrBlank(S)){c.byId("idOptionalProperty").setSelectedKey(S);d.resolve();}});return d.promise();},setOptionalRequestFieldProperty:function(){var c=this;var a,m,s,f,N,v=[],S,h,H,b;N=[c.getView().getViewData().oTextReader("none")];S=c.oParentObject.getService();h=c.oParentObject.getEntitySet();H=c.getSelectedHierarchicalProperty();a=N;s=N[0];if(S&&h&&H){c.getHierarchyNodeIdAsPromise(S,h,H).done(function(d){f=c.oParentObject.getFilterProperties();if(n.checkIsNotNullOrUndefinedOrBlank(f)){v=c.validateSelectedValues(c,f,[d]);f=v.aValues;s=v.aSelectedValues;}if(d){b={key:d,name:H};a=a.concat(b);}else{a=a.concat(f);}});}m=o.convert(a);c.byId("idOptionalRequestField").setModel(m);c.byId("idOptionalRequestField").setSelectedKey(s);},handleChangeForOptionalProperty:function(e){var c=this;var T=c.getView().getViewData().oTextReader;var h=t.removePrefixText(c.byId("idOptionalProperty").getSelectedKey(),T(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));c.updateHierarchicalProperty(h);c.clearOptionalRequestFieldProperty();c.setOptionalRequestFieldProperty();c.oConfigurationEditor.setIsUnsaved();c.fireRelevantEvents(e);},addOrRemoveMandatoryFieldsAndRequiredFlag:function(r){var c=this;if(r===false){return;}c.byId("idSourceLabel").setRequired(r);c.byId("idEntityLabel").setRequired(r);c.byId("idOptionalPropertyLabel").setRequired(r);c.viewValidator.addFields(["idSource","idEntity","idOptionalProperty"]);},getAllEntitiesAsPromise:function(s){var c=this;return c.oConfigurationEditor.getAllHierarchicalEntitySetsOfServiceAsPromise(s);},getHierarchicalProperty:function(s,e){var c=this;return c.oConfigurationEditor.getHierarchicalPropertiesOfEntitySetAsPromise(s,e);},getHierarchyNodeIdAsPromise:function(s,e,h){var c=this;return c.oConfigurationEditor.getHierarchyNodeIdAsPromise(s,e,h);},getSelectedHierarchicalProperty:function(){var c=this;return c.oParentObject.getHierarchyProperty();},getAllEntitySetPropertiesAsPromise:function(s,e){var c=this;return c.oConfigurationEditor.getNonHierarchicalPropertiesOfEntitySet(s,e);},resetEntityAndProperties:function(){var c=this;c.clearEntity();c.byId("idEntity").setModel(null);c.byId("idEntity").setSelectedKey(undefined);c.clearHierarchicalProperty();c.byId("idOptionalProperty").setModel(null);c.byId("idOptionalProperty").setSelectedKey(undefined);c.clearSelectProperties();c.byId("idSelectProperties").setModel(null);c.byId("idSelectProperties").setSelectedKeys([]);},clearHierarchicalProperty:function(){var c=this;c.oParentObject.setHierarchyProperty(undefined);},updateHierarchicalProperty:function(h){var c=this;c.clearHierarchicalProperty();c.oParentObject.setHierarchyProperty(h);}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/importDeliveredContent.controller',["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/thirdparty/jquery"],function(B,n,o,q){"use strict";var c,p,a;var n=sap.apf.modeler.ui.utils.nullObjectChecker;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;
function _(C){var t=c.getText;C.byId("idImportDeliveredContentDialog").setTitle(t("importDeliveredContent"));C.byId("idConfigLabel").setText(t("configuration"));C.byId("idAppConfigCombobox").setPlaceholder(t("configFileInputPlaceHolder"));C.byId("idImportOfConfig").setText(t("import"));C.byId("idCancelImportOfConfig").setText(t("cancel"));}
function b(C){var m,g,h;g=c.readAllConfigurationsFromVendorLayer();g.then(function(i){h={applicationText:c.getText("application"),configurationText:c.getText("configuration")};i=[h].concat(i);m=o.prepareModel(i);var A=C.byId("idAppConfigCombobox");A.setModel(m);A.getItems()[0].setEnabled(false);C.byId("idImportDeliveredContentDialog").open();});}
function d(C,g,h,i){var j=new sap.ui.core.CustomData({value:{callbackOverwrite:g,callbackCreateNew:h}});a=sap.ui.xmlfragment("idOverwriteConfirmationFragment","sap.apf.modeler.ui.fragment.overwriteConfirmation",C);C.getView().addDependent(a);C.setOverwriteConfirmationDialogText(c.getText);a.removeAllCustomData();a.addCustomData(j);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(i);a.open();}
function e(C){var i=C.byId("idImportDeliveredContentDialog");if(a&&a.isOpen()){C.handleCancelOfOverwriteDialog();}if(i&&i.isOpen()){C.handleCancelOfImportDialog();}}
function f(g,m,h){var C=this;if(!n.checkIsNotUndefined(h)){p.fireEvent("updateAppListEvent");var M=c.createMessageObject({code:"11515"});c.putMessage(M);}else{var M=c.createMessageObject({code:"11502"});M.setPrevious(h);c.putMessage(M);}e(C);}
return B.extend("sap.apf.modeler.ui.controller.importDeliveredContent",{onInit:function(){var C=this;c=C.getView().getViewData().oCoreApi;p=C.getView().getViewData().oParentControl;_(C);b(C);},handleChangeOfAppConfigTextField:function(){var C=this,m,A;A=C.byId("idAppConfigCombobox");m=A.getItems().filter(function(i){return i.getText()===A.getValue();});if(!m.length){q(A).focus();q(".appCofigCombo").find('input').focus();A.setValueState(sap.ui.core.ValueState.Error);}},handleSelectionChangeOfAppConfigTextField:function(){var C=this;C.byId("idAppConfigCombobox").setValueState(sap.ui.core.ValueState.None);},handleImportPress:function(){var C=this;var A=C.byId("idAppConfigCombobox");C.handleChangeOfAppConfigTextField();if(n.checkIsNotNullOrUndefinedOrBlank(A.getSelectedItem())){var v=A.getSelectedItem().data("value").split(".");var g=v[0];var h=v[1];c.importConfigurationFromVendorLayer(g,h,function(i,j,k){d(C,i,j,k);},f.bind(C));}},handleCancelOfImportDialog:function(){var C=this;C.getView().destroy();}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/navigationTarget.controller',["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/m/MessageBox","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/thirdparty/jquery"],function(t,n,v,s,M,o,q){"use strict";var p,T,a,c,C,N,b,d;var e;var n=sap.apf.modeler.ui.utils.nullObjectChecker;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var f=sap.apf.modeler.ui.utils.TranslationFormatMap.NAVTARGET_TITLE;
function _(i){i.byId("idNavigationTargetHeaderLabel").setText(T("basicData"));i.byId("idSemanticObjectLabel").setText(T("semanticObject"));i.byId("idActionLabel").setText(T("action"));i.byId("idDescriptionLabel").setText(T("navigationTargetTitle"));i.byId("idNavigationParametersHeaderLabel").setText(T("navigationParametersHeader"));i.byId("idNavigationTargetTypeHeaderLabel").setText(T("navigationTargetType"));i.byId("idNavigationTargetTypeLabel").setText(T("assignmentType"));i.byId("idAssignedStepsLabel").setText(T("assignedSteps"));i.byId("idContextMapping").setText(T("contextMapping"));}
function g(i){var G;if(p&&p.arguments&&p.arguments.navTargetId){N=C.getNavigationTarget(p.arguments.navTargetId);}if(!n.checkIsNotUndefined(N)){G=C.createNavigationTarget();N=C.getNavigationTarget(G);z(i);}}
function h(i){var G=N.getTitleKey()?T("navigationTargetTitle"):T("navigationTargetTitle")+" ("+T("default")+")";i.byId("idDescriptionLabel").setText(G);i.byId("idDescriptionLabel").setTooltip(G);i.byId("idUseDynamicParametersCheckBoxLabel").setText(T("useDynamicParametersLabel"));}
function j(i){var G,H;var V={oTextReader:T,oConfigurationHandler:c,oConfigurationEditor:C,oParentObject:N,getCalatogServiceUri:i.getView().getViewData().getCalatogServiceUri,oCoreApi:i.getView().getViewData().oCoreApi};G=new sap.ui.controller("sap.apf.modeler.ui.controller.navTargetContextMapping");H=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:i.createId("idContextMappingView"),viewData:V,controller:G});i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,H.getController().updateSubViewInstancesOnReset.bind(H.getController()));H.addStyleClass("formTopPadding");i.byId("idContextMappingVBox").insertItem(H);e=0;var I=N.getAllNavigationParameters();if(I.length>0){I.forEach(function(J){k(i,J);});}else{k(i);}}
function k(i,G){var H=new sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter");var I=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.navigationTargetParameter",type:sap.ui.core.mvc.ViewType.XML,id:i.createId("idNavigationTargetParameter"+e),viewData:{oTextReader:T,oParentController:i,oNavigationTarget:N,parameter:G,oConfigurationEditor:C},controller:H});i.byId("idNavigationParameterBox").addItem(I);e++;u(i);}
function u(i){i.byId("idNavigationParameterBox").getItems().forEach(function(G){G.getController().checkVisibilityOfPlusMinus();});}
function l(i){var P=q.Deferred();d.getAllAvailableSemanticObjects(function(G,H){if(H===undefined){var I=o.prepareModel(G,G.length);i.byId("idSemanticObjectField").setModel(I);if(n.checkIsNotNullOrUndefinedOrBlank(N.getSemanticObject())){i.byId("idSemanticObjectField").setValue(N.getSemanticObject());}P.resolve();}else{E(i,H,"11504");}});return P.promise();}
function m(i){var G,P;P=q.Deferred();G=o.prepareModel([],0);i.byId("idActionField").setModel(G);w(undefined,i);r(i).then(function(S){P.resolve(S);});i.byId("idActionField").setValue(N.getAction());return P.promise();}
function r(i){var G,S,P,H;H=new q.Deferred();S=N.getSemanticObject();if(n.checkIsNotUndefined(S)){P=d.getSemanticActions(S);P.then(function(I){G=o.prepareModel(I.semanticActions,I.semanticActions.length);i.byId("idActionField").setModel(G);H.resolve(I);},function(I){E(i,I,"11505");});}return H.promise();}
function w(S,G){var H,I,i;var J=N.getTitleKey();if(n.checkIsNotUndefined(J)){I=G.getView().getViewData().oConfigurationHandler.getTextPool().get(J).TextElementDescription;G.byId("idDescription").setValue(I);}else{var K=S?S:G.byId("idActionField").getModel().getData().Objects;if(K&&n.checkIsNotNullOrBlank(N.getAction())){for(i=0;i<K.length;i++){if(K[i].id===N.getAction()){H=K[i].text;break;}}}I=H?H:N.getSemanticObject();G.byId("idDescription").setValue(I);}}
function x(i){var s=new sap.apf.modeler.ui.utils.StaticValuesBuilder(T,o);var G=s.getNavTargetTypeData();i.byId("idNavigationTargetTypeField").setModel(G);var H=N.isStepSpecific()?T("stepSpecific"):T("globalNavTargets");i.byId("idNavigationTargetTypeField").setSelectedKey(H);}
function y(G){var H=N.isStepSpecific()?T("stepSpecific"):T("globalNavTargets");if(H===T("stepSpecific")){D(G,true);var I=[];var S=C.getSteps();var i,J;for(i=0;i<S.length;i++){J={};J.stepKey=S[i].getId();J.stepName=a.get(S[i].getTitleId()).TextElementDescription;I.push(J);}var K=o.prepareModel(I,I.length);G.byId("idAssignedStepsCombo").setModel(K);var L=C.getStepsAssignedToNavigationTarget(N.getId());G.byId("idAssignedStepsCombo").setSelectedKeys(L);}}
function z(i){var G={id:N.getId(),icon:N.isGlobal()?"sap-icon://overview-chart":"sap-icon://pushpin-off"};if(i.byId("idDescription").getValue()){G.name=i.byId("idDescription").getValue();}d.updateSelectedNode(G);}
function A(i){var G=T("navigationTarget")+": "+i.byId("idDescription").getValue();d.updateTitleAndBreadCrumb(G);}
function B(i){var G={key:N.getId(),value:i.byId("idDescription").getValue()};d.setNavigationTargetName(G);}
function D(i,I){i.byId("idAssignedStepsLabel").setVisible(I);i.byId("idAssignedStepsCombo").setVisible(I);}
function E(i,G,H){var I=d.createMessageObject({code:H});I.setPrevious(G);d.putMessage(I);}
function F(){var i=C.getStepsAssignedToNavigationTarget(N.getId());var G,S;for(G=0;G<i.length;G++){S=C.getStep(i[G]);S.removeNavigationTarget(N.getId());}}
sap.ui.controller("sap.apf.modeler.ui.controller.navigationTarget",{onInit:function(){var i=this;d=i.getView().getViewData();c=d.oConfigurationHandler;C=d.oConfigurationEditor;a=c.getTextPool();T=d.getText;p=d.oParams;if(!C){c.loadConfiguration(p.arguments.configId,function(G){C=G;});}_(i);b=new sap.apf.modeler.ui.utils.ViewValidator(i.getView());b.addFields(["idSemanticObjectField","idActionField"]);g(i);j(i);i.setDetailData();},onAfterRendering:function(){var i=this;if(i.getView().byId("idSemanticObjectField").getValue().length===0){i.getView().byId("idSemanticObjectField").focus();}},setDetailData:function(){var i=this;l(i).then(function(){m(i).then(function(S){w(S.semanticActions,i);});});h(i);x(i);y(i);var G=N.getUseDynamicParameters();if(G){this.getView().byId("idUseDynamicParametersCheckBox").setSelected(true);}else{this.getView().byId("idUseDynamicParametersCheckBox").setSelected(false);}},updateSubViewInstancesOnReset:function(i){var G=this;C=i;N=C.getNavigationTarget(N.getId());G.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{"oConfigurationEditor":C,"oParentObject":N});},handleChangeSemanticObjectValue:function(i){var S,G=this;S=i.getParameter("value").trim();N.setTitleKey(undefined);if(n.checkIsNotNullOrBlank(S)){N.setSemanticObject(S);r(G).then(function(H){if(H.semanticActions.length>0){N.setAction(G.byId("idActionField").getModel().getData().Objects[0].id);G.byId("idActionField").setSelectedKey(H.semanticActions[0].id);}else{G.byId("idActionField").setValue("");}w(H.semanticActions,G);h(G);z(G);A(G);B(G);});}C.setIsUnsaved();},handleChangeofAction:function(i){var G,H=this;G=i.getParameter("value");N.setTitleKey(undefined);if(n.checkIsNotNullOrBlank(G)){N.setAction(G);}w(undefined,H);h(H);z(H);A(H);B(H);C.setIsUnsaved();},handleChangeForTitleText:function(){var i=this,L;var G=i.byId("idDescription").getValue();if(G.trim().length===0){L=undefined;N.setTitleKey(L);w(undefined,i);h(i);z(i);A(i);B(i);C.setIsUnsaved();}else{i.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(G,f).done(function(L){N.setTitleKey(L);h(i);i.byId("idDescription").setValue(G);z(i);A(i);B(i);C.setIsUnsaved();});}},handleSuggestions:function(i){var S=new sap.apf.modeler.ui.utils.SuggestionTextHandler(a);S.manageSuggestionTexts(i,f);},handleChangeOfNavigationTargetType:function(){var i=this;C.setIsUnsaved();var G=i.byId("idNavigationTargetTypeField").getSelectedKey();if(G===T("stepSpecific")){N.setStepSpecific();y(i);}else{N.setGlobal();D(i,false);i.byId("idAssignedStepsCombo").setSelectedKeys([]);F();}z(i,i.byId("idDescription").getValue());},handleChangeForAssignedSteps:function(){var i=this;C.setIsUnsaved();var G=i.byId("idAssignedStepsCombo").getSelectedKeys();var H=C.getStepsAssignedToNavigationTarget(N.getId());H.forEach(function(S){if(G.indexOf(S)===-1){var I=C.getStep(S);I.removeNavigationTarget(N.getId());}});G.forEach(function(S){if(H.indexOf(S)===-1){var I=C.getStep(S);I.addNavigationTarget(N.getId());}});},getValidationState:function(){var i=this;var G=true;i.byId("idNavigationParameterBox").getItems().forEach(function(H){if(!H.getController().validate()){G=false;}});return b.getValidationState()&&i.byId("idContextMappingView").getController().getValidationState()&&G;},getNavigationParameters:function(){return this.byId("idNavigationParameterBox").getItems();},addNavigationParameter:function(){k(this);},removeNavigationParameter:function(i){this.byId("idNavigationParameterBox").removeItem(i);u(this);},handleChangeForUseDynamicParameters:function(){var i=this.byId("idUseDynamicParametersCheckBox").getSelected();N.setUseDynamicParameters(i);},onExit:function(){var i=this;i.byId("idContextMappingView").destroy();},displayHelpAboutDynamicParameters:function(){var i=T("explanationOfDynamicParameters");var G=T("titleDynamicParameters");sap.m.MessageBox.show(i,{icon:sap.m.MessageBox.Icon.INFORMATION,title:G,actions:[sap.m.MessageBox.Action.CLOSE]});}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/propertyType',['sap/apf/modeler/ui/utils/constants','sap/apf/modeler/ui/utils/optionsValueModelBuilder','sap/apf/modeler/ui/utils/nullObjectChecker',"sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(M,o,n,t,a,u,q){"use strict";var T=sap.apf.modeler.ui.utils.textManipulator;var c=M.events;var b=sap.apf.modeler.ui.utils.TranslationFormatMap.REPRESENTATION_LABEL;
function _(C){var r=C.oRepresentation.getRepresentationType();var K=C.getView().getViewData().oPropertyTypeData.sContext;var p=C.getView().getViewData().oRepresentationTypeHandler.getLabelsForChartType(C.oTextReader,r,K);C.byId("idPropertyTypeLabel").setText(p);C.byId("idPropertyTypeLabel").setTooltip(p);}
function d(C){if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>=11){C.byId("idAriaPropertyForBasicDataGroup").setText(C.oTextReader("basicData"));}C.byId("idAriaPropertyForAdd").setText(C.oTextReader("ariaTextForAddIcon"));C.byId("idAriaPropertyForDelete").setText(C.oTextReader("ariaTextForDeleteIcon"));}
function e(C){var p;var r=q.Deferred();var v=C.byId("idPropertyType");C.getAllPropertiesAsPromise().then(function(R){p=o.convert(R.aAllProperties);v.setModel(p);v.setSelectedKey(R.sSelectedKey);r.resolve();});return r.promise();}
function f(C){var p=T.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));var s=C.getPropertyTextLabelKey(p)?C.oTextReader("label"):C.oTextReader("label")+" ("+C.oTextReader("default")+")";C.byId("idPropertyLabel").setText(s);C.byId("idPropertyLabel").setTooltip(s);}
function g(C){var p;var P=T.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));var s=C.getPropertyTextLabelKey(P);if(n.checkIsNotUndefined(s)){p=C.getView().getViewData().oConfigurationHandler.getTextPool().get(s).TextElementDescription;C.byId("idPropertyLabelText").setValue(p);}else{C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().then(function(r){var v=C.oStepPropertyMetadataHandler.getDefaultLabel(r,P);C.byId("idPropertyLabelText").setValue(v);});}}
function h(C){C.byId("idAddPropertyIcon").setTooltip(C.oTextReader("addButton"));C.byId("idRemovePropertyIcon").setTooltip(C.oTextReader("deleteButton"));}
function i(C){var p=C.getView().getViewData().sPropertyType;var K=C.getView().getViewData().oPropertyTypeData.sContext;var s=C.oRepresentationTypeHandler.isAdditionToBeEnabled(C.oRepresentation.getRepresentationType(),p,K);var S=s;var P=C.getView().getViewData().oPropertyTypeState;var r=P.indexOfPropertyTypeViewId(C.getView().getId());if(r===0){S=false;}else if(r>0){var v=P.getViewAt(r-1);var w=v.getViewData().oPropertyTypeData.sContext;if(K!==w){S=false;}}C.byId("idAddPropertyIcon").setVisible(s);C.byId("idRemovePropertyIcon").setVisible(S);if(r>0){v.oController.byId("idAddPropertyIcon").setVisible(false);}}
function j(C){var p=C.getView().getViewData().oPropertyTypeState;var r=p.indexOfPropertyTypeViewId(C.getView().getId());if(r>0){var s=p.aProperties.length-1;var P=p.getViewAt(r-1);var v=p.getViewAt(r);var w=C.oConfigurationEditor.isSaved();}if(r>0&&r==s&&w==false){P.oController.byId("idAddPropertyIcon").setVisible(false);v.oController.byId("idAddPropertyIcon").setVisible(true);v.oController.byId("idRemovePropertyIcon").setVisible(true);}}
function k(C,p){var P=C.getView().getViewData().oPropertyTypeState;var r=P.aProperties.length;var s=P.getViewAt(p-1);var v=C.oConfigurationEditor.isSaved();if(p>1&&p==r&&v==false){s.oController.byId("idAddPropertyIcon").setVisible(true);s.oController.byId("idRemovePropertyIcon").setVisible(true);}if(p===1&&p==r&&v==false){s.oController.byId("idAddPropertyIcon").setVisible(true);}}
function l(C){C.byId("idAddPropertyIcon").attachEvent(c.SETFOCUSONADDICON,C.setFocusOnAddRemoveIcons.bind(C));}
var m=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.propertyType",{
_apfName:"propertyType",
oConfigurationEditor:{},
oRepresentation:{},
oStepPropertyMetadataHandler:{},
oRepresentationTypeHandler:{},
oTextReader:{},
oTextPool:{},
initPromise:null,
onInit:function(){var C=this;C.initPromise=new q.Deferred();C.oConfigurationEditor=C.getView().getViewData().oConfigurationEditor;C.oRepresentation=C.getView().getViewData().oParentObject;C.oStepPropertyMetadataHandler=C.getView().getViewData().oStepPropertyMetadataHandler;C.oRepresentationTypeHandler=C.getView().getViewData().oRepresentationTypeHandler;C.oTextReader=C.getView().getViewData().oCoreApi.getText;C.oTextPool=C.getView().getViewData().oTextPool;if(C.getView().getViewData().oPropertyTypeData.bMandatory){C.getView().getViewData().oViewValidator.addField(C.byId("idPropertyType").getId());C.byId("idPropertyTypeLabel").setRequired(true);}e(C).then(function(){C.setDetailData().then(function(){C.initPromise.resolve();});i(C);});},
onAfterRendering:function(){var C=this;C.initPromise.then(function(){C.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){C.byId("idAddPropertyIcon").fireEvent(c.SETFOCUSONADDICON);});});},
setDetailData:function(){var p=q.Deferred();var C=this;C.setLabelDisplayOptionTypeAsPromise(o).then(function(){if(!C.byId("idPropertyType")){p.resolve();return;}g(C);d(C);f(C);_(C);h(C);p.resolve();});return p.promise();},
handleChangeForPropertyTypeAsPromise:function(p){var C=this;var r=q.Deferred();var s=T.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));var P=C.getView().getViewData().oPropertyOrchestration;var v=C.getView().getId();var w;var x=null;if(P){w=P.isSwapCase(v,s);x=P.getPropertyTypeRowByPropertyName(s);P.updateAllSelectControlsForPropertyType(v,s).then(function(){var y;C.updateRepresentationAndView().then(function(){if(w){y=x.oView.getController();y.updateRepresentationAndView().then(function(){C.oConfigurationEditor.setIsUnsaved();r.resolve();});}else{C.oConfigurationEditor.setIsUnsaved();r.resolve();}});});}else{C.forceFailSinceOrchestrationIsMissing();r.resolve()}return r.promise();},
updateRepresentationAndView:function(){var C=this;return new Promise(function(r){C.updateOfConfigurationObjectAsPromise().then(function(){C.setDetailData();C.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){r();});});});},
handleChangeForLabelDisplayOptionType:function(){var C=this;var L=C.byId("idLabelDisplayOptionType").getSelectedKey();C.changeLabelDisplayOption(L);C.oConfigurationEditor.setIsUnsaved();},
handleChangeForLabelText:function(){var C=this,L;var s=C.byId("idPropertyLabelText").getValue();var p=T.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));if(s.trim().length===0){L=undefined;C.setPropertyTextLabelKey(p,L);f(C);g(C);C.oConfigurationEditor.setIsUnsaved();}else{C.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(s,b).then(function(L){C.setPropertyTextLabelKey(p,L);f(C);g(C);C.oConfigurationEditor.setIsUnsaved();});}},
setFocusOnAddRemoveIcons:function(){var C=this;C.byId("idAddPropertyIcon").focus();},
handlePressOfAddPropertyIcon:function(){var C=this;var v=C.getView();var p=v.getViewData().oPropertyOrchestration;var r=C.byId("idPropertyType").getItems();var s=C.byId("idPropertyType").getSelectedKey();var w=C.oTextReader("none");if(this._shallAddPropertyBeHandled(r,s,w,p)){l(C);C.getView().fireEvent(M.events.ADDPROPERTY,{"oSourceView":v});C.oConfigurationEditor.setIsUnsaved();j(C);}},
handlePressOfRemovePropertyIcon:function(){var C=this;var v=C.getView().getViewData();var p=v.oPropertyTypeState;var r=p.indexOfPropertyTypeViewId(C.getView().getId());if(r>0){var P=p.getViewAt(r-1);l(P.getController());}var s=v.oPropertyOrchestration;s.removePropertyTypeReference(C.getView().getId());return C.updateRepresentationAndView().then(function(){s.updateAllSelectControlsForPropertyType();v.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:C.getView()});C.oConfigurationEditor.setIsUnsaved();if(r!==0){k(C,r);}C.getView().destroy();});},
updateOfConfigurationObjectAsPromise:function(){var C=this;return new Promise(function(r){var p=[];if(C.getView().getViewData().oPropertyOrchestration){p=C.getView().getViewData().oPropertyOrchestration.getPropertyInformationList();C.updatePropertiesInConfiguration(p);}else{C.forceFailSinceOrchestrationIsMissing();}r();});},
handleSuggestions:function(E){var C=this;var s=new sap.apf.modeler.ui.utils.SuggestionTextHandler(C.oTextPool);s.manageSuggestionTexts(E,b);},
getSelectedProperty:function(){var C=this;var p=C.getView().getViewData().oPropertyTypeState;var r=p.getPropertyValueState();var s=p.indexOfPropertyTypeViewId(C.getView().getId());return r[s];},
removeAllItemsFromDropDownList:function(){var C=this;var v=C.byId("idPropertyType");v.getItems().forEach(function(I){v.removeItem(I);});},
setItemsOfDropDownList:function(C,A,s,p,r){function v(B,D){return B.indexOf(D)!==-1;}var w=this;var x=w.byId("idPropertyType");var y=[];var z=(s===w.oTextReader("none"));if(!p&&r===M.aggregationRoles.DIMENSION){x.addItem(new sap.ui.core.Item({key:w.oTextReader("none"),text:w.oTextReader("none")}));}if(r===M.aggregationRoles.MEASURE){y=JSON.parse(JSON.stringify(A));}else{y=JSON.parse(JSON.stringify(C));}if(!v(y,s)&&!z){y.unshift(s);}y.forEach(function(V){var B=V;if(!v(A,V)&&!z&&V!==""){V=T.addPrefixText([V],w.oTextReader)[0];}var I=new sap.ui.core.Item({key:V,text:V});x.addItem(I);if(B===s){s=V;}});x.setSelectedKey(s);},
updatePropertiesInConfiguration:function(p){},
createNewPropertyInfoAsPromise:function(s){return sap.apf.utils.createPromise();},
setPropertyInParentObject:function(){},
setLabelDisplayOptionTypeAsPromise:function(o){return sap.apf.utils.createPromise();},
getAllPropertiesAsPromise:function(){return sap.apf.utils.createPromise();},
getPropertyTextLabelKey:function(p){},
setPropertyTextLabelKey:function(p,L){},
enableDisableLabelDisplayOptionTypeAsPromise:function(){return sap.apf.utils.createPromise();},
removePropertyFromParentObject:function(){},
addPropertyAsPromise:function(){return sap.apf.utils.createPromise();},
changeLabelDisplayOption:function(L){},
_shallAddPropertyBeHandled:function(p,s,r,v){var w=p.filter(function(A){return A.mProperties.key!==r;});if(v&&v.getAggregationRole()===M.aggregationRoles.MEASURE){var x=v._getPropertyTypeRows().length;return(x<w.length);}if(p.length===0||!s){return false;}var y=w.filter(function(A){return A.mProperties.key!==s;});var z=(s===r);if(y.length<2&&z){return false;}else if(y.length<1&&!z){return false;}return true;}
});
return m;});
sap.ui.predefine('sap/apf/modeler/ui/controller/representationHierarchyProperty.controller',["sap/apf/modeler/ui/controller/propertyType","sap/apf/core/constants","sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(B,c,t,a,q){"use strict";var T=sap.apf.modeler.ui.utils.textManipulator;
function _(e,C){var i;var s=C.oStepPropertyMetadataHandler.oStep.getService();var E=C.oStepPropertyMetadataHandler.oStep.getEntitySet();var h=C.oStepPropertyMetadataHandler.oStep.getHierarchyProperty();C.oConfigurationEditor.getHierarchyNodeIdAsPromise(s,E,h).done(function(n){i=C.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,n);});return i;}
return B.extend("sap.apf.modeler.ui.controller.representationHierarchyProperty",{onBeforeRendering:function(){var C=this;C.byId("idPropertyType").setEnabled(false);},setLabelDisplayOptionTypeAsPromise:function(o){var d=q.Deferred();var b,l,m,L,C=this,e=[];b=new sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder(C.oTextReader,o);l=sap.apf.core.constants.representationMetadata.labelDisplayOptions;L=C.oRepresentation.getHierarchyPropertyLabelDisplayOption();m=b.getLabelDisplayOptions();C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(E){if((L===l.TEXT)&&!_(E,C)){m=b.getValidatedLabelDisplayOptions();e=T.addPrefixText([L],C.oTextReader);L=e[0];}C.byId("idLabelDisplayOptionType").setModel(m);C.byId("idLabelDisplayOptionType").setSelectedKey(L);d.resolve();});return d.promise();},changeLabelDisplayOption:function(l){var C=this;C.oRepresentation.setHierarchyPropertyLabelDisplayOption(l);},getAllPropertiesAsPromise:function(){var C=this,s,p,h=[];var S=C.oStepPropertyMetadataHandler.oStep;var d=q.Deferred();S.getConsumablePropertiesForRepresentation(C.oRepresentation.getId()).done(function(r){r.available.forEach(function(P){if(P===C.oStepPropertyMetadataHandler.getHierarchicalProperty()){h.push(P);}});s=C.getSelectedProperty();if(s!==undefined){p=h.indexOf(s)!==-1?h:h.concat(s);if(r.available.indexOf(s)!==-1){h=p;s=s;}else{h=h.concat(T.addPrefixText([s],C.oTextReader));s=T.addPrefixText([s],C.oTextReader)[0];}}d.resolve({aAllProperties:h,sSelectedKey:s});});return d.promise();},enableDisableLabelDisplayOptionTypeAsPromise:function(){var i,C=this;var d=q.Deferred();var b=C.byId("idLabelDisplayOptionType");C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var I=_(e,C);for(i=0;i<b.getItems().length;i++){b.getItems()[i].setEnabled(true);if(i>0&&!I){b.getItems()[i].setEnabled(false);}}d.resolve();});return d.promise();},getPropertyTextLabelKey:function(){var C=this;return C.oRepresentation.getHierarchyPropertyTextLabelKey();},setPropertyTextLabelKey:function(p,l){var C=this;C.oRepresentation.setHierarchyPropertyTextLabelKey(l);},setNextPropertyInParentObject:function(){return;},removePropertyFromParentObject:function(){return;},setFocusOnAddRemoveIcons:function(){return;}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/representationProperty.controller',["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(B,t,u,q){"use strict";var T=sap.apf.modeler.ui.utils.textManipulator;return B.extend("sap.apf.modeler.ui.controller.representationProperty",{onBeforeRendering:function(){var c=this;if(c.byId("idLabelDisplayOptionType")){c.byId("idLabelDisplayOptionType").destroy();}c.byId("idPropertyTypeLayout").setSpan("L4 M4 S4");},getAllPropertiesAsPromise:function(){var c=this,s,p,P=[];var S=c.oStepPropertyMetadataHandler.oStep;var d=q.Deferred();S.getConsumablePropertiesForRepresentation(c.oRepresentation.getId()).done(function(r){r.consumable.forEach(function(a){c.oStepPropertyMetadataHandler.getProperties().forEach(function(b){if(a===b){P.push(a);}});});s=c.getSelectedProperty();if(s!==c.oTextReader("none")&&s!==undefined){p=P.indexOf(s)!==-1?P:P.concat(s);if(r.available.indexOf(s)!==-1||s===c.oTextReader("none")){P=p;}else{P=P.concat(T.addPrefixText([s],c.oTextReader));s=T.addPrefixText([s],c.oTextReader)[0];}}if(c.oStepPropertyMetadataHandler.getStepType()==="hierarchicalStep"){P.splice(0,0,c.oTextReader("none"));}d.resolve({aAllProperties:P,sSelectedKey:s});});return d.promise();},getPropertyTextLabelKey:function(p){var c=this;return c.oRepresentation.getPropertyTextLabelKey(p);},updatePropertiesInConfiguration:function(p){var c=this;c.oRepresentation.getProperties().forEach(function(m){c.oRepresentation.removeProperty(m);});p.forEach(function(P){c.oRepresentation.addProperty(P.sProperty);c.oRepresentation.setPropertyKind(P.sProperty,P.sKind);c.oRepresentation.setPropertyTextLabelKey(P.sProperty,P.sTextLabelKey);});},createNewPropertyInfoAsPromise:function(n){var c=this,N={};N.sProperty=n;N.sKind=c.getView().getViewData().oPropertyTypeData.sContext;N.sTextLabelKey=undefined;return sap.apf.utils.createPromise(N);},setPropertyTextLabelKey:function(p,l){var c=this;c.oRepresentation.setPropertyTextLabelKey(p,l);},setNextPropertyInParentObject:function(){var c=this;c.updateOfConfigurationObjectAsPromise().then(function(){c.setDetailData();});},removePropertyFromParentObject:function(){var c=this;c.oRepresentation.removeProperty(T.removePrefixText(c.byId("idPropertyType").getSelectedKey(),c.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)));},addPropertyAsPromise:function(){var c=this,p=[];var s=c.oStepPropertyMetadataHandler.oStep;var C=sap.apf.modeler.ui.utils.CONSTANTS;s.getConsumablePropertiesForRepresentation(c.oRepresentation.getId()).done(function(r){r.consumable.forEach(function(P){c.oStepPropertyMetadataHandler.getProperties().forEach(function(S){if(P===S){p.push(P);}});});c.getView().fireEvent(C.events.ADDPROPERTY,{"sProperty":p[0],"sContext":c.getView().getViewData().oPropertyTypeData.sContext});c.oConfigurationEditor.setIsUnsaved();});}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/step.controller',["sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/modeler/ui/utils/textPoolHelper"],function(S,n,o,V,a,t){"use strict";var p,T,c,C,b,g,s,v,d,e,I,f;var h=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_TITLE;var k=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_LONG_TITLE;
function _(i){i.byId("idStepBasicData").setText(T("stepBasicData"));i.byId("idStepTitleLabel").setText(T("stepTitle"));i.byId("idStepTitle").setPlaceholder(T("newStep"));i.byId("idStepLongTitleLabel").setText(T("stepLongTitle"));i.byId("idStepLongTitle").setPlaceholder(T("stepLongTitle"));i.byId("idCategoryTitleLabel").setText(T("categoryAssignments"));i.byId("idGlobalLabel").setText(T("globalNavigationTarget"));i.byId("idStepSpecificLabel").setText(T("stepSpecificNavTargets"));i.byId("idDataRequest").setText(T("dataRequest"));i.byId("idFilterMapping").setText(T("filterMap"));i.byId("idFilterMapKeepSourceLabel").setText(T("filterMapKeepSource"));i.byId("idNavigationTarget").setText(T("navigationTargetAssignments"));i.byId("idDataReduction").setText(T("dataReduction"));i.byId("idDataReductionLabel").setText(T("dataReductionType"));i.byId("idNoDataReduction").setText(T("noDataReduction"));i.byId("idTopN").setText(T("topN"));i.byId("idNumberOfRecordsLabel").setText(T("recordNumber"));i.byId("idAriaPropertyForDataReduction").setText(T("dataReductionType"));}
function l(i,j){var O=T(I?"hierarchicalStepTitle":"step")+": "+j;i.getView().getViewData().updateTitleAndBreadCrumb(O);m(i,j);}
function m(i,j){var O=T(I?"hierarchicalStepTitle":"step")+": "+j;i.getView().getViewData().oTitleBreadCrumbController.byId("IdFormTitle").setText(O);}
function q(i,j){var O={id:s.getId(),icon:s.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"};if(j){O.name=j;}i.getView().getViewData().updateSelectedNode(O);}
function r(i){var j,O;if(p&&p.arguments&&p.arguments.stepId){s=C.getStep(p.arguments.stepId);I=(s&&s.getType()==="hierarchicalStep")?true:false;}if(!n.checkIsNotUndefined(s)){O=p.arguments.categoryId;I=p.bIsHierarchicalStep;if(I){j=C.createHierarchicalStep(O);}else{j=C.createStep(O);}s=C.getStep(j);q(i);}}
function u(i){var j=this;var O=i.getParameter("bShowFilterMappingLayout");j.byId("idStepFilterMappingVBox").setVisible(O);j.byId("idFilterMapKeepSourceLabel").setVisible(O);j.byId("idFilterKeepSourceCheckBox").setVisible(O);if(!O){j.byId("idFilterMapping").setText("");j.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.RESETFILTERMAPPINGFIELDS);}else{j.byId("idFilterMapping").setText(T("filterMap"));}}
function w(i){i.byId("idDataReductionForm").setVisible(!I);}
function x(i,j,O,P,U){sap.ui.view({viewName:P,type:sap.ui.core.mvc.ViewType.XML,id:i.createId(U),viewData:O,controller:j});}
function y(i){var j,O,P,Q,R,U,W;j={oTextReader:T,oConfigurationEditor:C,oTextPool:b,oParentObject:s,oStepPropertyMetadataHandler:f,oCoreApi:i.getView().getViewData().oCoreApi};O=new sap.ui.controller("sap.apf.modeler.ui.controller.stepCornerTexts");x(i,O,j,"sap.apf.modeler.ui.view.cornerTexts","idStepCornerTextView");R=i.byId("idStepCornerTextView");i.byId("idStepCornerTextVBox").insertItem(R);j.oConfigurationHandler=c;j.getCalatogServiceUri=i.getView().getViewData().getCalatogServiceUri;if(I){P=new sap.ui.controller("sap.apf.modeler.ui.controller.hierarchicalStepRequest");}else{P=new sap.ui.controller("sap.apf.modeler.ui.controller.stepRequest");}x(i,P,j,"sap.apf.modeler.ui.view.requestOptions","idStepRequestView");U=i.byId("idStepRequestView");i.byId("idStepRequestVBox").insertItem(U);Q=new sap.ui.controller("sap.apf.modeler.ui.controller.stepFilterMapping");x(i,Q,j,"sap.apf.modeler.ui.view.requestOptions","idStepFilterMappingView");W=i.byId("idStepFilterMappingView");i.byId("idStepFilterMappingVBox").insertItem(W);U.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETDATAREDUCTIONSECTION,i.setDataReductionSection.bind(i));U.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,u.bind(i));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,u.bind(i));U.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.UPDATEFILTERMAPPINGFIELDS,W.getController().updateFilterMappingFields.bind(W.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.RESETFILTERMAPPINGFIELDS,W.getController().resetFilterMappingFields.bind(W.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,R.getController().updateSubViewInstancesOnReset.bind(R.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,U.getController().updateSubViewInstancesOnReset.bind(U.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,W.getController().updateSubViewInstancesOnReset.bind(W.getController()));U.addStyleClass("formTopPadding");U.addStyleClass("formBottomPadding");W.addStyleClass("formTopPadding");W.addStyleClass("formBottomPadding");}
function z(i){if(!n.checkIsNotNullOrUndefinedOrBlank(C.getStep(p.arguments.stepId))){return;}i.byId("idStepTitle").setValue(s.getId());if(n.checkIsNotNullOrUndefinedOrBlank(s.getTitleId())&&b.get(s.getTitleId())){i.byId("idStepTitle").setValue(b.get(s.getTitleId()).TextElementDescription);}}
function A(i){if(!n.checkIsNotNullOrUndefinedOrBlank(C.getStep(p.arguments.stepId))){return;}i.byId("idStepLongTitle").setValue("");if(n.checkIsNotNullOrUndefinedOrBlank(s.getLongTitleId())&&b.get(s.getLongTitleId())){i.byId("idStepLongTitle").setValue(b.get(s.getLongTitleId()).TextElementDescription);}}
function B(i){var j=[];var O=C.getCategories();O.forEach(function(R){var U={};U.CategoryId=R.getId();U.CategoryTitle=b.get(R.labelKey)?b.get(R.labelKey).TextElementDescription:R.labelKey;j.push(U);});var P=o.prepareModel(j,j.length);i.byId("idCategorySelect").setModel(P);var Q=C.getCategoriesForStep(s.getId());if(n.checkIsNotNullOrUndefinedOrBlank(Q)){i.byId("idCategorySelect").setSelectedKeys(Q);}}
function D(i){i.byId("idNumberOfRecordsValue").setValue("");i.byId("idNumberOfRecordsValue").setValueState("None");if(s.getTopN()){i.byId("idNumberOfRecordsValue").setValue(s.getTopN().top);}F(i);}
function E(i){i.byId("idDataReductionRadioGroup").setSelectedButton(i.byId("idNoDataReduction"));H(i);if(s.getTopN()){i.byId("idDataReductionRadioGroup").setSelectedButton(i.byId("idTopN"));}}
function F(i){var j=i.byId("idDataReductionRadioGroup").getSelectedButton()===i.byId("idTopN")?true:false;i.byId("idNumberOfRecordsLabel").setVisible(j);i.byId("idNumberOfRecordsValue").setVisible(j);if(j){v.addField("idNumberOfRecordsValue");}else{v.removeField("idNumberOfRecordsValue");}}
function G(i){if(s.getTopN()){d.instantiateStepSortData();if(s.getTopN().orderby.length===0){i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETTOPNPROPERTIES);var j=e.createMessageObject({code:"11523"});e.putMessage(j);}}else{d.destroySortData();}}
function H(i){var j=(s.getSelectProperties().length!==0)?true:false;i.byId("idDataReductionRadioGroup").setEnabled(j);}
function J(i){var j=(s.getFilterProperties().length!==0)?true:false;i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{"bShowFilterMappingLayout":j});}
function K(i){if(n.checkIsNotNullOrUndefinedOrBlank(s.getFilterMappingKeepSource())){i.byId("idFilterKeepSourceCheckBox").setSelected(s.getFilterMappingKeepSource());}}
function L(i,j,O,P){var Q=[];if(j.length!==0){O.setBusy(true);}j.forEach(function(R){var U={};U.navTargetKey=R.getId();g(R.getId()).then(function(W){U.navTargetName=W;Q.push(U);if(Q.length===j.length){var X=o.prepareModel(Q,Q.length);O.setModel(X);O.setSelectedKeys(P);O.setBusy(false);}});});}
function M(i){var j=C.getNavigationTargets();var O=s.getNavigationTargets();var P=j.filter(function(Q){return Q.isStepSpecific();});L(i,P,i.byId("idStepSpecificCombo"),O);}
function N(i){var j=C.getNavigationTargets();var O=j.filter(function(Q){return Q.isGlobal();});var P=O.map(function(Q){return Q.getId();});L(i,O,i.byId("idGlobalCombo"),P);}
sap.ui.controller("sap.apf.modeler.ui.controller.step",{onInit:function(){var i=this,j;var O=i.getView().getViewData();e=O.oCoreApi;T=e.getText;p=O.oParams;c=O.oConfigurationHandler;b=c.getTextPool();C=O.oConfigurationEditor;g=O.getNavigationTargetName;v=new V(i.getView());_(i);r(i);f=new sap.apf.modeler.ui.utils.StepPropertyMetadataHandler(e,s);d=new S(i.getView(),s,f,T);y(i);i.setDetailData();j=i.byId("idStepTitle").getValue().trim();if(j===""){j="< "+T("newStep")+" >";}m(i,j);v.addFields(["idStepTitle","idCategorySelect"]);},setDetailData:function(){var i=this;z(i);A(i);B(i);i.setDataReductionSection();w(i);J(i);K(i);M(i);N(i);},onAfterRendering:function(){var i=this;if(i.byId("idStepTitle").getValue().length===0){i.byId("idStepTitle").focus();}},updateSubViewInstancesOnReset:function(i){var j=this;C=i;s=C.getStep(s.getId());j.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{"oConfigurationEditor":C,"oParentObject":s});},setDataReductionSection:function(){var i=this;E(i);D(i);G(i);},handleChangeForStepTitle:function(){var i=this;var j=C.getCategoriesForStep(s.getId());var O=i.byId("idStepTitle").getValue().trim();if(n.checkIsNotNullOrUndefinedOrBlank(O)){b.setTextAsPromise(O,h).done(function(P){s.setTitleId(P);if(j.length>1){i.getView().getViewData().updateTree();}else{q(i,O);}l(i,O);C.setIsUnsaved();});}else{C.setIsUnsaved();}},handleSuggestionsForStepTitle:function(i){var j=new sap.apf.modeler.ui.utils.SuggestionTextHandler(b);j.manageSuggestionTexts(i,h);},handleChangeForStepLongTitle:function(){var i=this;var j=i.byId("idStepLongTitle").getValue().trim();if(n.checkIsNotNullOrUndefined(j)){b.setTextAsPromise(j,k).done(function(O){s.setLongTitleId(O);C.setIsUnsaved();});}else{C.setIsUnsaved();}},handleSuggestionsForStepLongTitle:function(i){var j=new sap.apf.modeler.ui.utils.SuggestionTextHandler(b);j.manageSuggestionTexts(i,k);},handleChangeForCategory:function(){var O=this;var P=s.getId();var Q=p.arguments.categoryId;var R=C.getCategoriesForStep(s.getId());var U=O.byId("idCategorySelect").getSelectedKeys();var W=U.indexOf(Q);var X=[];var Y=[];var i,j;for(i=0;i<R.length;i++){var Z=false;for(j=0;j<U.length;j++){if(R[i]===U[j]){Z=true;break;}}if(!Z){Y.push(R[i]);}}if(U.length!==0){U.forEach(function($){C.addCategoryStepAssignment($,P);var a1={oldContext:{name:p.name,arguments:{configId:p.arguments.configId,categoryId:Q,stepId:P}},newContext:{arguments:{configId:p.arguments.configId,categoryId:$}}};if($!==Q){X.push(a1);}});R.forEach(function($){if(U.indexOf($)===-1){C.removeCategoryStepAssignment($,s.getId());}});if(Y.length!==0){Y.forEach(function($){var a1={oldContext:{name:p.name,arguments:{configId:p.arguments.configId,categoryId:Q,stepId:P}},newContext:{arguments:{configId:p.arguments.configId,categoryId:$}},removeStep:true};if(W===-1&&$===Q){var b1={arguments:{appId:p.arguments.appId,configId:p.arguments.configId,categoryId:U[0],stepId:P}};a1.categoryChangeContext=b1;a1.changeCategory=true;}X.push(a1);});}}if(X.length!==0){O.getView().getViewData().updateTree(X);}C.setIsUnsaved();},handleChangeForDataReductionType:function(){var i=this;if(i.byId("idDataReductionRadioGroup").getSelectedButton()===i.byId("idNoDataReduction")){s.resetTopN();i.setDataReductionSection();}else{d.instantiateStepSortData();}F(i);C.setIsUnsaved();},handleValidationForNumberOfRecords:function(i){var j=i.getSource();var O=j.getValue().trim();var P=(O.indexOf("E")!==-1||O.indexOf("e")!==-1||O.indexOf(".")!==-1||O<=0||O>10000)?sap.ui.core.ValueState.Error:sap.ui.core.ValueState.None;j.setValueState(P);C.setIsUnsaved();},handleChangeForNoOfRecords:function(i){var j=this;var O=i.getSource().getValue().trim();if(i.getSource().getValueState()===sap.ui.core.ValueState.Error){return;}if(n.checkIsNotNullOrUndefinedOrBlank(O)){if(s.getTopN()===undefined){j.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETTOPNPROPERTIES);}s.setTopNValue(O);}C.setIsUnsaved();},handleFilterMapKeepSource:function(){var i=this;var j=i.byId("idFilterKeepSourceCheckBox").getSelected();s.setFilterMappingKeepSource(j);C.setIsUnsaved();},handleChangeForStepSpecificNavTargets:function(){var i=this;var j=i.byId("idStepSpecificCombo").getSelectedKeys();var O=s.getNavigationTargets();O.forEach(function(P){if(j.indexOf(P)===-1){s.removeNavigationTarget(P);}});j.forEach(function(P){if(O.indexOf(P)===-1){s.addNavigationTarget(P);}});C.setIsUnsaved();},getValidationState:function(){var i=this;return v.getValidationState()&&i.byId("idStepRequestView").getController().getValidationState()&&i.byId("idStepFilterMappingView").getController().getValidationState();},onExit:function(){var i=this;i.byId("idStepCornerTextView").destroy();i.byId("idStepRequestView").destroy();i.byId("idStepFilterMappingView").destroy();}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/stepRequest.controller',["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(B,t,d,a,q){"use strict";var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var n=sap.apf.modeler.ui.utils.nullObjectChecker;var T=sap.apf.modeler.ui.utils.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;
function _(C){var e=C.getView().getViewData().oTextReader;var s=C.oParentObject.getFilterPropertyLabelKey()?e("label"):e("label")+" ("+e("default")+")";C.byId("idOptionalSelectedPropertyLabel").setText(s);C.byId("idOptionalSelectedPropertyLabel").setTooltip(s);}
function b(C){var e=q.Deferred();var p;var P=C.oParentObject.getFilterPropertyLabelKey();if(!C.getSource()||!C.getEntity()){return e.resolve();}if(n.checkIsNotUndefined(P)){p=C.getView().getViewData().oConfigurationHandler.getTextPool().get(P).TextElementDescription;C.byId("idOptionalSelectedPropertyLabelText").setValue(p);return e.resolve();}C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(f){var s=C.oParentObject.getFilterProperties()[0];if(C.oParentObject.getType()==="hierarchicalStep"&&s){s=C.oStepPropertyMetadataHandler.getPropertyMetadata(f,s)["hierarchy-node-for"];}if(s){p=C.oStepPropertyMetadataHandler.getDefaultLabel(f,s);}C.byId("idOptionalSelectedPropertyLabelText").setValue(p);e.resolve();});return e;}
function c(C){C.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");C.byId("idOptionalRequestField").addStyleClass("filterProperty");C.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty");}
return B.extend("sap.apf.modeler.ui.controller.stepRequest",{setLabelDisplayOptionTypeAsPromise:function(o){var e=q.Deferred();var d,l,m,p,L,C=this,f=[];var g=C.getView().getViewData().oTextReader;d=new sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder(g,o);m=d.getLabelDisplayOptions();l=sap.apf.core.constants.representationMetadata.labelDisplayOptions;p=t.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),g(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));_(C);b(C).done(function(){C.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(p===g("none")){C.byId("idOptionalLabelDisplayOptionType").setModel(m);C.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return e.promise();}L=C.oParentObject.getFilterPropertyLabelDisplayOption();C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(E){if((L===l.KEY_AND_TEXT||L===l.TEXT)&&!C.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(E,p)){m=d.getValidatedLabelDisplayOptions();f=t.addPrefixText([L],g);L=f[0];}C.byId("idOptionalLabelDisplayOptionType").setModel(m);C.byId("idOptionalLabelDisplayOptionType").setSelectedKey(L);e.resolve();});});return e.promise();},enableDisableLabelDisplayOptionTypeAsPromise:function(){var i,C=this;var e=q.Deferred();var f=C.getView().getViewData().oTextReader;var D=C.byId("idOptionalLabelDisplayOptionType");var p=t.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),f(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(g){var I=C.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(g,p);for(i=0;i<D.getItems().length;i++){D.getItems()[i].setEnabled(true);if(i>0&&!I){D.getItems()[i].setEnabled(false);}}e.resolve();});return e.promise();},onBeforeRendering:function(){var C=this;C.byId("idOptionalRequestFieldLabel").setVisible(true);C.byId("idOptionalRequestField").setVisible(true);C.byId("idOptionalLabelDisplayOptionType").setVisible(true);C.byId("idOptionalSelectedPropertyLabel").setVisible(true);C.byId("idOptionalSelectedPropertyLabelText").setVisible(true);},onAfterRendering:function(){var C=this;C.addOrRemoveMandatoryFieldsAndRequiredFlag(true);c(C);},setDisplayText:function(){var C=this;var e=C.getView().getViewData().oTextReader;C.byId("idSourceLabel").setText(e("source"));C.byId("idEntityLabel").setText(e("entity"));C.byId("idSelectPropertiesLabel").setText(e("selectProperties"));C.byId("idOptionalRequestFieldLabel").setText(e("requiredFilters"));},setOptionalRequestFieldProperty:function(){var C=this;var p,s,i,m,N,v=[];var f=C.oParentObject.getFilterProperties();N=[C.getView().getViewData().oTextReader("none")];p=C.byId("idSelectProperties").getSelectedKeys();s=C.oParentObject.getSelectProperties();s.forEach(function(e){if(e===f[0]){i=true;}});if(!i&&f.length>0){C.removeOptionalRequestFieldProperty(f);f=C.oParentObject.getFilterProperties();}m=o.convert(N.concat(p));C.byId("idOptionalRequestField").setModel(m);C.byId("idOptionalRequestField").setSelectedKey(N[0]);if(n.checkIsNotNullOrUndefinedOrBlank(f)){v=C.validateSelectedValues(C,f,p);f=v.aSelectedValues;C.byId("idOptionalRequestField").setSelectedKey(f[0]);}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(r){var C=this;if(r===false){return;}C.byId("idSourceLabel").setRequired(r);C.byId("idEntityLabel").setRequired(r);C.byId("idSelectPropertiesLabel").setRequired(r);C.viewValidator.addFields(["idSource","idEntity","idSelectProperties"]);},fireRelevantEvents:function(e){var C=this,f,s;if(e.getSource()!==C.byId("idOptionalRequestField")){f=[t.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),C.getView().getViewData().oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE))];if(n.checkIsNotNullOrUndefinedOrBlank(f)){C.updateOptionalRequestFieldProperty(f);}if(C.getSelectProperties().length===0){C.oParentObject.resetTopN();}C.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETDATAREDUCTIONSECTION);}if(e.getSource()===C.byId("idOptionalProperty")){C.setOptionalRequestFieldProperty();}s=(C.byId("idOptionalRequestField").getSelectedKey()!==C.getView().getViewData().oTextReader("none"))?true:false;C.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{"bShowFilterMappingLayout":s});C.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.UPDATEFILTERMAPPINGFIELDS);},getSource:function(){return this.oParentObject.getService();},getAllEntitiesAsPromise:function(s){return this.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(s);},getEntity:function(){return this.oParentObject.getEntitySet();},getAllEntitySetPropertiesAsPromise:function(s,e){return this.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(s,e);},changeLabelDisplayOption:function(l){var C=this;C.oParentObject.setFilterPropertyLabelDisplayOption(l);},changeOptionalSelectedPropertyLabelText:function(l){var C=this;if(l.trim().length===0){C.oParentObject.setFilterPropertyLabelKey(undefined);_(C);b(C);return;}C.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(l,T).done(function(L){C.oParentObject.setFilterPropertyLabelKey(L);_(C);b(C);});},resetEntityAndProperties:function(){var C=this;C.clearEntity();C.byId("idEntity").setModel(null);C.byId("idEntity").setSelectedKey(undefined);C.clearSelectProperties();C.byId("idSelectProperties").setModel(null);C.byId("idSelectProperties").setSelectedKeys([]);C.byId("idOptionalRequestField").setModel(null);C.byId("idOptionalRequestField").setSelectedKey(undefined);},clearSource:function(){var C=this;C.oParentObject.setService(undefined);C.clearEntity();},clearEntity:function(){var C=this;C.oParentObject.setEntitySet(undefined);C.clearSelectProperties();},clearSelectProperties:function(){var C=this;var O=C.oParentObject.getSelectProperties();O.forEach(function(p){C.oParentObject.removeSelectProperty(p);});C.clearOptionalRequestFieldProperty();},clearOptionalRequestFieldProperty:function(){var C=this;var O=C.oParentObject.getFilterProperties();O.forEach(function(p){C.oParentObject.removeFilterProperty(p);});},removeSelectProperties:function(p){var C=this;p.forEach(function(e){C.oParentObject.removeSelectProperty(e);});},removeOptionalRequestFieldProperty:function(p){var C=this;p.forEach(function(e){C.oParentObject.removeFilterProperty(e);});},updateSource:function(s){var C=this;C.oParentObject.setService(s);},updateEntity:function(e){var C=this;C.oParentObject.setEntitySet(e);},updateSelectProperties:function(s){var C=this;C.removeSelectProperties(C.oParentObject.getSelectProperties());s.forEach(function(p){C.oParentObject.addSelectProperty(p);});},updateOptionalRequestFieldProperty:function(f){var C=this;var l=C.oParentObject.getFilterPropertyLabelKey();var D=C.oParentObject.getFilterPropertyLabelDisplayOption();var F=C.oParentObject.getFilterProperties();C.removeOptionalRequestFieldProperty(C.oParentObject.getFilterProperties());f.forEach(function(p){if(p!==C.getView().getViewData().oTextReader("none")){C.oParentObject.addFilterProperty(p);if(p===F[0]){C.oParentObject.setFilterPropertyLabelKey(l);C.oParentObject.setFilterPropertyLabelDisplayOption(D);}}});},getSelectProperties:function(){var C=this;return C.oParentObject.getSelectProperties();},getOptionalRequestFieldProperty:function(){var C=this;return C.oParentObject.getFilterProperties();},getValidationState:function(){var C=this;return C.viewValidator.getValidationState();}});});
sap.ui.predefine('sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder',["sap/apf/modeler/ui/utils/displayOptionsValueBuilder"],function(d){"use strict";
sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder=function(t,o){sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.apply(this,[t,o]);};
sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype=Object.create(sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype);sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype.constructor=sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder;
sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype.getLabelDisplayOptions=function(){var l=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")}];return this.oOptionsValueModelBuilder.prepareModel(l,l.length);};
sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype.getValidatedLabelDisplayOptions=function(){var t=sap.apf.modeler.ui.utils.textManipulator;var l=[{key:"key",name:this.oTextReader("key")},{key:t.addPrefixText(["text"],this.oTextReader)[0],name:t.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(l,l.length);};
});
sap.ui.predefine('sap/apf/ui/representations/BaseUI5ChartRepresentation',["sap/m/Text","sap/apf/core/constants","sap/ui/layout/HorizontalLayout","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/chartDataSetHelper","sap/apf/ui/representations/utils/representationFilterHandler","sap/apf/ui/representations/utils/timeAxisDateConverter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(T,c,H,V,f,a,r,t,u,q){'use strict';var i=0;
function _(R,b){if(!b){return undefined;}var m=R.getMetaData();if(!m){return null;}var p=m.getPropertyMetadata(b);if(!p){return null;}var F=p.label||p.name;return F!==undefined?F:null;}
var B=function(A,p){this.oMessageObject="";this.aDataResponse=undefined;this.dataset={};this.parameter=p;this.orderby=p.orderby;this.measures=p.measures;this.alternateRepresentation=p.alternateRepresentationType;this.requiredFilters=p.requiredFilters;this.oVizFrameSelectionHandler=new V.constructor(this.parameter,A);this.oTimeAxisDateConverter=new sap.apf.ui.representations.utils.TimeAxisDateConverter();this.oRepresentationFilterHandler=new sap.apf.ui.representations.utils.RepresentationFilterHandler(A,this.parameter,this.oTimeAxisDateConverter);this.chartInstance={};this.chartParam="";this.thumbnailChartParam="";this.oApi=A;this.axisType=sap.apf.ui.utils.CONSTANTS.axisTypes.AXIS;this.topN=p.top;this.apfId=++i;};B.prototype={getParameter:function(){return this.parameter;},setData:function(d,m){if(this.bIsAlternateView&&this.toggleInstance&&q.isFunction(this.toggleInstance.setData)){this.toggleInstance.setData(d,m);}else{this.formatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},m,d);this.oRepresentationFilterHandler.setMetadataAndDataResponse(m,d);this.oRepresentationFilterHandler.validateFiltersWithDataset();this.oChartDataSetHelper=new sap.apf.ui.representations.utils.ChartDataSetHelper(this.formatter,this.oTimeAxisDateConverter);this.oChartDataSetHelper.createFlattenDataSet(this.parameter,m,d,this.oApi);if(this.chartType===sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.SCATTERPLOT||this.chartType===sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.BUBBLE){this.oChartDataSetHelper.addUnusedDimensionsToChartContext(m,d);}this.aDataResponse=d||[];this.metadata=m;if(!this.metadata){this.oMessageObject=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject);}}},attachSelectionAndFormatValue:function(s){var b=this;if(!s){this.oMessageObject=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject);}if(!this.aDataResponse||this.aDataResponse.length===0){this.oMessageObject=this.oApi.createMessageObject({code:"6000",aParameters:[s]});this.oApi.putMessage(this.oMessageObject);}this.fnHandleSelection=this.handleSelection.bind(b);this.chart.attachSelectData(this.fnHandleSelection);this.fnHandleDeselection=this.handleDeselection.bind(b);this.chart.attachDeselectData(this.fnHandleDeselection);},getFormatStringForMeasure:function(m){var F=this.formatter.getFormatString(m);return F;},getFormatStringForMeasureTooltip:function(m){var F=this.formatter.getFormatStringTooltip(m);return F;},getSelectionFilterLabel:function(){var R=this.getParameter().requiredFilters[0];var s=this.getSelectedFilterPropertyLabel(R);if(this.getParameter().requiredFilterOptions&&this.getParameter().requiredFilterOptions.fieldDesc){s=this.oApi.getTextNotHtmlEncoded(this.getParameter().requiredFilterOptions.fieldDesc);}return s;},getSelectedFilterPropertyLabel:function(R){return _(this,R);},getIsAllMeasureSameUnit:function(){var A=true;var s=this;var b=this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit?this.metadata.getPropertyMetadata(this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit).semantics:undefined;var m;this.measures.forEach(function(d,e){m=s.metadata.getPropertyMetadata(s.measures[e].fieldName).unit?s.metadata.getPropertyMetadata(s.metadata.getPropertyMetadata(d.fieldName).unit).semantics:undefined;if(A&&b!==undefined&&m&&(b!==m)){A=false;}});return A;},createThumbnailLayout:function(){if(!this.thumbnailChart){return;}this.thumbnailLayout=new H().addStyleClass('thumbnailLayout');this.thumbnailLayout.removeAllContent();if(this.aDataResponse!==undefined&&this.aDataResponse.length!==0){this.thumbnailChart.setModel(this.oModel);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.removeStyleClass('thumbnailNoData');}else{var n=new T({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass('noDataText');this.thumbnailLayout.addContent(n);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.addStyleClass('thumbnailNoData');}},getAlternateRepresentation:function(){return this.alternateRepresentation;},getMetaData:function(){return this.metadata;},getData:function(){return this.aDataResponse;},getRequestOptions:function(F){if(this.bIsAlternateView&&this.toggleInstance&&q.isFunction(this.toggleInstance.getRequestOptions)){return this.toggleInstance.getRequestOptions(F,this.bIsAlternateView);}var o={paging:{},orderby:[]};if(this.orderby&&this.orderby.length){var O=this.orderby.map(function(b){return{property:b.property,ascending:b.ascending};});o.orderby=O;}if(this.topN&&this.topN>0){o.paging.top=this.topN;}return o;},createDataset:function(){this.dataset=this.oChartDataSetHelper.getFlattenDataSet();this.oModel=this.oChartDataSetHelper.getModel();},drawSelectionOnMainChart:function(){var F=this.oRepresentationFilterHandler.getFilterValues();if(F.length>0){var s=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(F,this.aDataResponse);this.setSelectionOnMainChart(s);}},drawSelectionOnThumbnailChart:function(){var F=this.oRepresentationFilterHandler.getFilterValues();if(F.length>0){var s=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(F,this.aDataResponse);this.setSelectionOnThumbnailChart(s,false);}},handleSelection:function(e){this.manageSelectionsOnChart(e,false,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink);},handleDeselection:function(e){this.manageSelectionsOnChart(e,true,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink);},getSelections:function(){return this.oRepresentationFilterHandler.getDisplayInfoForFilters(this.metadata,this.oModel.getData().data);},getSortedSelections:function(){var l;var s=this.getSelections();if(!s||s.length===0){return[];}var p=this.getParameter();if(p.requiredFilterOptions&&p.requiredFilterOptions.labelDisplayOption){l=p.requiredFilterOptions.labelDisplayOption;}var b=this.getParameter().requiredFilters[0];var d=this.metadata.getPropertyMetadata(b);switch(l){case c.representationMetadata.labelDisplayOptions.TEXT:return sap.apf.utils.sortByProperty(s,"text",this.metadata.getPropertyMetadata(d.text));case c.representationMetadata.labelDisplayOptions.KEY_AND_TEXT:return sap.apf.utils.sortByProperty(s,"text");default:return sap.apf.utils.sortByProperty(s,"id",d);}},getSelectionCount:function(){return this.oRepresentationFilterHandler.getFilterValues().length;},removeAllSelection:function(){this.setSelectionOnThumbnailChart([],false);this.setSelectionOnMainChart([],true);},getFilterMethodType:function(){return sap.apf.core.constants.filterMethodTypes.filter;},getFilter:function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues();return this.filter;},setFilter:function(F){this.filter=F;},adoptSelection:function(s){if(s&&s.getFilter){var b=s.getFilter().getInternalFilter().getFilterTerms().map(function(d){return d.getValue();});this.oRepresentationFilterHandler.updateFilterFromSelection(b);}},serialize:function(){var o=this.parameter.orderby;if(this.toggleInstance){o=this.toggleInstance.orderby;}return{oFilter:this.oRepresentationFilterHandler.getFilterValues(),bIsAlternateView:this.bIsAlternateView,orderby:o};},deserialize:function(s){this.oRepresentationFilterHandler.updateFilterFromSelection(s.oFilter);this.bIsAlternateView=s.bIsAlternateView;if(this.bIsAlternateView){this.toggleInstance=this.oApi.getUiApi().getStepContainer().getController().createToggleRepresentationInstance(this,s.orderby);}},getPrintContent:function(){},onChartSwitch:function(){},destroy:function(){this.dataset=null;if(this.formatter){this.formatter=null;}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler.aFilterValues=[];this.oRepresentationFilterHandler=null;}if(this.chart){this.chart.detachSelectData(this.fnHandleSelection);this.fnHandleSelection=null;this.chart.detachDeselectData(this.fnHandleDeselection);this.fnHandleDeselection=null;this.chart.destroy();this.chart=null;}if(this.thumbnailChart){this.thumbnailChart.destroy();this.thumbnailChart=null;}if(this.thumbnailLayout){this.thumbnailLayout.removeAllContent();}}};return B;},true);
sap.ui.predefine('sap/apf/ui/representations/combinationChart',["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(c,u,B){"use strict";var C=function(a,p){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[a,p]);this.type=u.representationTypes.COMBINATION_CHART;this.chartType=u.vizFrameChartTypes.COMBINATION;};C.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);
C.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;default:break;}return a;};
sap.apf.ui.representations.combinationChart=C;return C;},true);
sap.ui.predefine('sap/apf/ui/reuse/controller/pathFilterDisplay.controller',['sap/ui/model/json/JSONModel','sap/ui/core/mvc/Controller','sap/ui/model/Filter','sap/ui/model/FilterOperator'],function(J,C,U,F){"use strict";return C.extend("sap.apf.ui.reuse.controller.pathFilterDisplay",{getCoreApi:function(){return this.getView().getViewData().oCoreApi;},onInit:function(){var d=this.getView().getViewData().pathFilterInformation;var m=new J(d);this.getView().setModel(m);if(sap.ui.Device.system.desktop){this.getView().byId("pathFilterDisplayDialog").addStyleClass("sapUiSizeCompact");}this.getView().byId("pathFilterDisplayDialog").setContentWidth(jQuery(window).height()*0.6+"px");this.getView().byId("pathFilterDisplayDialog").setContentHeight(jQuery(window).height()*0.6+"px");this.getView().byId("stepPage").setTitle(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("stepPage").setTooltip(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("pathFilterDisplayDialog").getEndButton().setText(this.getCoreApi().getTextNotHtmlEncoded("close"));this.getView().byId("pathFilterDisplayDialog").getBeginButton().setText(this.getCoreApi().getTextNotHtmlEncoded("closeAndNavigate"));},onStepPress:function(e){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(true);var n=this.getView().byId("navContainer");var f=this.getView().byId("filterValuesPage");var b=e.getSource().getBindingContext();f.setBindingContext(b);n.to(f);},onCloseButton:function(){this.getView().byId("pathFilterDisplayDialog").close();},onClose:function(){this.getView().byId("pathFilterDisplayDialog").destroy();this.getView().destroy();},onSearch:function(e){var s=e.getParameters().newValue;var l=this.getView().byId("navContainer").getCurrentPage().getContent()[0];var c=l.getBinding("items");var f=[];if(s){f.push(new U("text",F.Contains,s));}c.filter(f);},getDescriptionForStep:function(s,f){if(s){if(f&&f.length>0){return s+", "+this.getCoreApi().getTextNotHtmlEncoded("amountSelected",[f.length]);}return s+", "+this.getCoreApi().getTextNotHtmlEncoded("nothingSelected");}return this.getCoreApi().getTextNotHtmlEncoded("noSelectionPossible");},onBackPress:function(){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(false);var n=this.getView().byId("navContainer");n.back();},onCloseAndNavigatePress:function(e){var i=this.getView().byId("filterValuesPage").data("stepIndex");this.getView().getViewData().oUiApi.getAnalysisPath().getController().navigateToStep(i);this.getView().byId("pathFilterDisplayDialog").close();}});});
sap.ui.predefine('sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport',["sap/ui/export/Spreadsheet"],function(S){"use strict";var d=function(p,m){var e={};var a,u;if(m){a=m.getPropertyMetadata(p);var b=a.dataType.type;if(b==="Edm.Int32"){e.type=sap.ui.export.EdmType.Number;e.scale=0;}else if(b==="Edm.Decimal"){e.type=sap.ui.export.EdmType.Number;e.precision=parseInt(a.precision,10);e.scale=parseInt(a.scale,10);if(a["sap:unit"]){u=m.getPropertyMetadata(a["sap:unit"]);if(u&&u["sap:semantics"]&&u["sap:semantics"]==="currency-code"){e.type=sap.ui.export.EdmType.Currency;e.unitProperty=u.name;e.displayUnit=true;}}}else if(b==="Edm.DateTime"){if(a["sap:display-format"]&&a["sap:display-format"]==="Date"){e.type=sap.ui.export.EdmType.Date;}else{e.type=sap.ui.export.EdmType.DateTime;}}else if(b==="Edm.DateTimeOffset"){e.type=sap.ui.export.EdmType.DateTime;}else if(b==="Edm.String"){e.type=sap.ui.export.EdmType.String;if(a.MaxLength){e.width=parseInt(a.MaxLength,10);}}else{e.type=sap.ui.export.EdmType.String;}}return e;};return d;},true);
sap.ui.predefine('sap/apf/ui/utils/printView',["sap/apf/ui/utils/printModel","sap/base/security/encodeXML"],function(p,e){"use strict";
sap.apf.ui.utils.PrintView=function(i,p){this.oUiApi=i.uiApi;this.oCoreApi=i.oCoreApi;this.printModel=p;};
sap.apf.ui.utils.PrintView.prototype.constructor=sap.apf.ui.utils.PrintView;
sap.apf.ui.utils.PrintView.prototype.getHeaderForFirstPage=function(){var d=new Date();var a=this.printModel.getApplicationName();a=this.oCoreApi.getTextNotHtmlEncoded(a);var A=this.printModel.getHeaderForFirstPage();var b,c,f;b=new sap.m.Text({text:a+":"}).addStyleClass("printHeaderTitle");c=new sap.m.Text({text:A}).addStyleClass("printHeaderTitle");f=new sap.m.Text({text:d.toTimeString()}).addStyleClass("printHeaderDate");var h=new sap.ui.layout.HorizontalLayout({id:'idAPFheaderLayout',content:[b,c,f],sanitizeContent:true}).addStyleClass("subHeaderPrintWrapper");return h;};
sap.apf.ui.utils.PrintView.prototype.getPrintLayoutForFacetFiltersAndFooters=function(){var f=[];var F="",m="";var o=new sap.ui.layout.VerticalLayout({id:'idAPFFacetAndFooterLayout'});f=this.printModel.getFiltersToPrint();for(var i=0;i<f.length;i++){F=new sap.m.Text({text:f[i].sFilterName}).addStyleClass("printFilterName");m=new sap.m.Text({text:f[i].sFilterValue}).addStyleClass("printFilterValue");o.addContent(F);o.addContent(m);}return o;};
sap.apf.ui.utils.PrintView.prototype.getPrintLayoutForEachStep=function(s,n,a){var c=new sap.ui.layout.VerticalLayout({id:'idAPFChartLayout'+n});c.addContent(this.printModel.getRepresentationForPrint(s));var S=new sap.ui.layout.VerticalLayout({id:'idAPFStepLayout'+n,content:[_(n,a,this),c]}).addStyleClass("representationContent");return S;};
function _(n,a,P){var d=new Date();var A=P.printModel.getApplicationName();var s=P.printModel.getHeaderForFirstPage();var h=new sap.ui.core.HTML({id:'idAPFHeaderForEachStep'+n,content:['<div class="subHeaderPrintWrapper"><p class="printHeaderTitle"> '+P.oCoreApi.getTextHtmlEncoded(A)+' : '+e(s)+'</p>','<p class="printHeaderDate"> '+d.toTimeString()+' </p></div><div class="clear"></div>','<br><div class="printChipName"><p>'+P.oCoreApi.getTextHtmlEncoded("print-step-number",[n,a])+'</p></div>'].join(""),sanitizeContent:true});return h;}
});
sap.ui.predefine('sap/apf/ui/utils/stringToDateFormatter',['sap/apf/utils/utils','sap/ui/core/format/DateFormat'],function(u,D){"use strict";var S=function(){this.oSemanticsFormatterMap=a();this.oAnnotationFormatterMap=_();};S.prototype.constructor=S;
function _(){var i=new Map();i.set("isCalendarYearMonth",e);i.set("isCalendarDate",f);i.set("isCalendarYearQuarter",g);i.set("isCalendarYearWeek",h);return i;}
function a(){var s=new Map();s.set("yearmonth",c);s.set("yearmonthday",d);s.set(undefined,b);return s;}
function b(m,o){return o;}
function c(m,o,F){var j=F.getTextNotHtmlEncoded("month-1-shortName");var i=F.getTextNotHtmlEncoded("month-2-shortName");var k=F.getTextNotHtmlEncoded("month-3-shortName");var l=F.getTextNotHtmlEncoded("month-4-shortName");var n=F.getTextNotHtmlEncoded("month-5-shortName");var p=F.getTextNotHtmlEncoded("month-6-shortName");var q=F.getTextNotHtmlEncoded("month-7-shortName");var r=F.getTextNotHtmlEncoded("month-8-shortName");var s=F.getTextNotHtmlEncoded("month-9-shortName");var t=F.getTextNotHtmlEncoded("month-10-shortName");var v=F.getTextNotHtmlEncoded("month-11-shortName");var w=F.getTextNotHtmlEncoded("month-12-shortName");var x=[j,i,k,l,n,p,q,r,s,t,v,w];var y=o.substr(0,4);var z=x[o.substr(4,6)-1];return z+" "+y;}
function d(m,o){var i="-";var j;if(o.length===8){j=u.convertFiscalYearMonthDayToDate(o);}else{j=new Date(Date.parse(o));}if(!isNaN(j.getTime())){var k=D.getDateInstance({style:"short"});i=k.format(j,true);}return i;}
function e(m,o,F){if(m.isCalendarYearMonth===undefined){return"";}var i=c(this,o,F);return i;}
function f(m,o){if(m.isCalendarDate===undefined){return"";}var i=d(this,o);return i;}
function g(m,o){if(m.isCalendarYearQuarter===undefined){return"";}var y=o.substr(0,4);var q=o.substr(4,1);var i=new Date(y);var j=i.getFullYear();var k;k="Q"+q;var l=k+" "+j;return l;}
function h(m,o){if(m.isCalendarYearWeek===undefined){return"";}var y=o.substr(0,4);var w=o.substr(4,2);var i=new Date(y);var j=i.getFullYear();var k;k="CW"+w;var l=k+" "+j;return l;}
S.prototype.getFormattedValue=function(m,o,F){var i="";var s=m["sap:semantics"]!==undefined&&m["sap:semantics"].String!==undefined?m["sap:semantics"].String:m["sap:semantics"];if(o!==null){var j=this;j.oAnnotationFormatterMap.forEach(function(k,l){if(i===""){i=j.oAnnotationFormatterMap.get(l).call(j,m,o,F);}});if(i===""){i=j.oSemanticsFormatterMap.get(s)!==undefined?j.oSemanticsFormatterMap.get(s).call(j,m,o,F):o;}}else{i=o;}return i;};
return S;},true);
sap.ui.predefine('sap/apf/utils/parseTextPropertyFile',["sap/apf/utils/utils","sap/ui/core/format/DateFormat","sap/apf/core/constants"],function(u,D,c){'use strict';var p=function(t,a){var m=a.instances.messageHandler;var d=D.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});var o;var l=t.split(/\r?\n/);var b=l.length;var i,j;var e=-1;var f=-1;var g;var h,k,n;var A=false;var q={Application:undefined,TextElements:[],Messages:[]};var s=false;function r(C,E){var F=m.createMessageObject({code:C,aParameters:[E]});q.Messages.push(F);}function v(C){r(11013,C);}function w(C){r(5411,C);}function x(C,E){var F=u.isValidGuid(C);if(!F){r(5412,E);return false;}return true;}function y(C){r(5415,C);}function z(C){r(5412,C);}for(i=0;i<b;i++){if(!A){var B=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(l[i]);if(B!==null){q.Application=l[i].split('=')[1];if(!u.isValidGuid(q.Application)){q.Application="";v(i);}A=true;continue;}}if(l[i]===""){continue;}if(s){s=false;continue;}if(f===i&&/^\#\s*LastChangeDate/.exec(l[i])){n=l[i].split('=');if(n.length===2){o=d.parse(n[1]);if(!o){y(i);g.LastChangeUTCDateTime="";}else{g.LastChangeUTCDateTime='/Date('+o.getTime()+')/';}q.TextElements.push(g);}else{y(i);}g=null;continue;}if(e===i){n=l[i].split('=');if(n.length>1){if(n[0]==="AnalyticalConfigurationName"){f=0;s=true;continue;}if(x(n[0],i)){g.TextElement=n[0];g.TextElementDescription=n[1];for(j=2;j<n.length;j++){g.TextElementDescription+="="+n[j];}}else{z(i);}}else{w(i);}continue;}h=/^\#(X|Y)[A-Z]{3},[0-9]+:/.exec(l[i]);if(h){if(e===i){w(i);}g={};g.Language=c.developmentLanguage;g.Application=q.Application;g.TextElementType=l[i].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=l[i].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint=l[i].match(/:\s*[0-9a-zA-Z\s]+$/);g.TranslationHint=g.TranslationHint[0].substring(1);e=i+1;f=i+2;}else{k=/^\#(X|Y)[A-Z]{3},[0-9]+/.exec(l[i]);if(k){if(e===i){w(i);}g={};g.Language=c.developmentLanguage;g.Application=q.Application;g.TextElementType=l[i].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=l[i].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint="";e=i+1;f=i+2;}}}if(!A){r(5410,0);}return q;};return p;},true);
sap.ui.predefine('sap/apf/utils/sbAdapter',["sap/apf/abap/LrepConnector","sap/base/Log","sap/ui/thirdparty/datajs"],function(L,a){'use strict';var s={semanticObject:"FioriApplication",action:"executeAPFConfiguration"};var b={semanticObject:"FioriApplication",action:"editAPFConfiguration"};var c={semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"};var d={semanticObject:"FioriApplication",action:"editAPFConfigurationS4HANA"};var h="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata/AnalyticalConfigurationQueryResults";var C=undefined;var e={};e._hanaConfigurations=undefined;e._lrepConfigurations=undefined;
e.getConfigurations=function(p,q){var t=jQuery.Deferred();var u=[];jQuery.when(f(),r()).then(function(v,w){u=w.concat(v);var x=o(p,q);if(x&&!n(x,s)&&!n(x,c)){u.forEach(function(y){y.runtimeIntent=x;});}t.resolve(u);});return t.promise();};
e.getTargetMappingInstaceIDsWithConfigurations=function(p,q,u,w){var x=jQuery.Deferred();var y=[];var z=[];jQuery.when(f(),r()).then(function(t,v){i(u,w).then(function(B){return A(1000).then(function(){y=v.concat(t);var D=o(p,q);B.forEach(function(E){if(E.semanticParameters["sap-apf-configuration-id"]){var F=E.semanticParameters["sap-apf-configuration-id"].defaultValue;y.forEach(function(G){if(F.value===G.id){G.targetMappingInstanceId=E;if(D&&!n(D,s)&&!n(D,c)){G.runtimeIntent=D;}z.push(G);}});}});x.resolve(z);});});});return x.promise();function A(t,v){return new Promise(function(B){setTimeout(B.bind(null,v),t)});}};
e.getConfigurationNameById=function(p){var q=jQuery.Deferred();if(!p){return q.resolve("");}if(p.indexOf(".")>-1){f().done(t);}else{r().done(t);}return q.promise();function t(u){u.forEach(function(v){if(v.id===p){q.resolve(v.title);}});if(q.state!=="resolved"){q.resolve("");}}};
function r(){var p=jQuery.Deferred();if(!e._hanaConfigurations){var q={requestUri:h+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,Application",async:true,method:"GET"};OData.request(q,t,u);}else{p.resolve(jQuery.extend(true,[],e._hanaConfigurations));}return p.promise();function t(v){var w=[];v.results.forEach(function(x){w.push({title:x.AnalyticalConfigurationName,id:x.AnalyticalConfiguration,runtimeIntent:s,modelerIntent:b,configurationId:x.AnalyticalConfiguration,applicationId:x.Application});});e._hanaConfigurations=jQuery.extend(true,[],w);p.resolve(w);}function u(){e._hanaConfigurations=[];p.resolve([]);}}
function f(){var p=jQuery.Deferred();if(!e._lrepConfigurations){j().then(function(q){var t=[];q.response.forEach(function(u){var v;var w;if(u.fileType&&u.fileType==="apfconfiguration"){v=l(u);w=u.name;t.push({title:m(u,'apfdt-configname'),id:v+"."+w,runtimeIntent:c,modelerIntent:d,configurationId:w,applicationId:v});}});e._lrepConfigurations=jQuery.extend(true,[],t);p.resolve(t);},function(){p.resolve([]);e._lrepConfigurations=[];});}else{p.resolve(jQuery.extend(true,[],e._lrepConfigurations));}return p.promise();}
function g(p){var P;if(sap.ushell.Container&&sap.ushell.Container.getService){if(p=="S")P=sap.ushell.Container.getService("PageBuilding","CONF").getFactory();else if(p=="C")P=sap.ushell.Container.getService("PageBuilding","CUST").getFactory();else P=sap.ushell.Container.getService("PageBuilding","PERS").getFactory();return P;}}
function i(p,q){var D=jQuery.Deferred();var t=q;var T=[];var P=g(p);var u=P.getPageBuildingService();u.readCatalog(t,jQuery.proxy(function(v){if(v&&v.Chips&&v.Chips.results instanceof Array){jQuery.each(v.Chips.results,jQuery.proxy(function(w,x){try{if(x&&x.baseChipId==="X-SAP-UI2-CHIP:/UI2/ACTION"){C=x;var y=JSON.parse(C.configuration);var z=JSON.parse(y.tileConfiguration);var A=z.ui5_component;var S="smartbusiness";var B="sap.apf";if(A&&A.indexOf(S)===-1){k(A).then(function(F){jQuery.each(F.response.results,jQuery.proxy(function(G,H){if(H&&H["sap.ui5/dependencies/libs"]){if(H["sap.ui5/dependencies/libs"].indexOf(B)!==-1){var I;var y=JSON.parse(C.configuration);var z=JSON.parse(y.tileConfiguration);var J=z.signature&&z.signature.parameters;if(C.ChipBags&&C.ChipBags.results instanceof Array){jQuery.each(C.ChipBags.results,jQuery.proxy(function(K,M){if(M&&M.id==="tileProperties"){if(M.ChipProperties&&M.ChipProperties.results instanceof Array){jQuery.each(M.ChipProperties.results,jQuery.proxy(function(N,O){if(O&&O.name==="display_title_text"){I=O.value;return false;}},this));}else{a.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the properties inside the chip bag 'tileProperties' for "+C.catalogPageChipInstanceId);}return false;}},this));}else{a.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the chip bags for "+C.catalogPageChipInstanceId);}T.push({instanceID:C.catalogPageChipInstanceId||"",title:I||"",semanticObject:z.semantic_object||"",semanticAction:z.semantic_action||"",ui5Component:z.ui5_component||"",semanticParameters:J||{}});window.TargetMapping=T;}}},this));},function(){D.resolve([]);});}}}catch(E){a.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID",E&&E.message);}},this));D.resolve(T);}else{a.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Invalid catalog object");D.reject();}},this),jQuery.proxy(function(R,v){D.reject(v);},this));return D.promise();}
function j(){var p=L.createConnector();var O={async:true,contentType:'application/json'};var P=[];P.push({name:"deep-read",value:true});P.push({name:"metadata",value:true});P.push({name:"layer",value:"CUSTOMER"});var R="/sap/bc/lrep/content/sap/apf/dt/";R+=p._buildParams(P);return p.send(R,'GET',{},O);}
function k(u){var p=L.createConnector();var O={async:true,contentType:'application/json'};var P=[];P.push({name:"sap.app/id",value:u});P.push({name:"fields",value:"sap.ui5/dependencies/libs"});var R="/sap/bc/ui2/app_index";R+=p._buildParams(P);return p.send(R,'GET',{},O);}
function l(p){var q=p.ns.split('/');return q[q.length-2];}
function m(p,q){var v;p.metadata.forEach(function(t){if(t.name===q){v=t.value;}});return v;}
function n(p,q){if(p.semanticObject===q.semanticObject&&p.action===q.action){return true;}return false;}
function o(p,q){if(p&&q){return{semanticObject:p,action:q};}}
return e;},true);
/*
 * ! SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/ui/utils/print',["sap/apf/ui/utils/printView","sap/apf/ui/utils/formatter","sap/viz/ui5/types/legend/Common","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery"],function(p,f,C,b,q){"use strict";
sap.apf.ui.utils.Print=function(I){"use strict";var c=I.oCoreApi;var u=I.uiApi;var A=null;var d=new sap.apf.ui.utils.PrintModel(I);var p=new sap.apf.ui.utils.PrintView(I,d);this.oPrintLayout={};function _(o){if(!b(o.oPrintLayout)){o.oPrintLayout.removeContent();}q('#apfPrintArea').remove();q("body").append('<div id="apfPrintArea"></div>');u.createApplicationLayout(false).then(function(a){a.setBusy(true);});}this.doPrint=function(a){a=a||0;c.getApplicationConfigProperties().done(function(i){d.setApplicationConfig(i);var j,n,P;var l=2000,s=this;d.nStepRenderCount=0;A=c.getSteps();d.nNoOfSteps=A.length;this.oPrintLayout=new sap.ui.layout.VerticalLayout({id:"idAPFPrintLayout"});_(this);P=new sap.ui.layout.VerticalLayout({id:'idAPFPrintFirstPageLayout',content:[p.getHeaderForFirstPage(),p.getPrintLayoutForFacetFiltersAndFooters()]}).addStyleClass("filterLayout");this.oPrintLayout.addContent(P);for(j=0;j<A.length;j++){n=parseInt(j,10)+1;this.oPrintLayout.addContent(p.getPrintLayoutForEachStep(A[j],n,A.length));}this.oPrintLayout.placeAt("apfPrintArea");e(s.oPrintLayout,l,a);}.bind(this));};function e(P,i,a){new Promise(function(r){setTimeout(function(){r();},i);}).then(function(){k(P);if(a==1){h(a);}else{h();}g(P);return u.createApplicationLayout(false)}).then(function(j){j.setBusy(false);});}function g(P){var s,o;var a,l;for(var i=0;i<q("#apfPrintArea").siblings().length;i++){q("#apfPrintArea").siblings()[i].hidden=false;}for(var m=0;m<A.length;m++){s=A[m].getSelectedRepresentation();s=s.bIsAlternateView?s.toggleInstance:s;if(s&&s.titleControl&&s.titleControl.oParent){a=s.titleControl.oParent.getItems();if(a&&a.length>1){for(var j=0;j<a.length;j++){if(a[j].getMetadata()._sClassName==="sap.m.HBox"){l=a[j];l.setVisible(true);}}}}if(s.type!==sap.apf.ui.utils.CONSTANTS.representationTypes.TREE_TABLE_REPRESENTATION&&s.type!==sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION){o=P.getContent()[m+1].getContent()[1].getContent()[0];o.destroy();o=null;}}P.destroy();P=null;q("div[id^=idAPFStepLayout]").remove();q("#apfPrintArea").remove();}function h(a){a=a||0;var i=sap.ui.Device.system.tablet;var j=sap.ui.Device.os.ios;if(i===true&&j===true){var l=q("html").clone();var m=q(l).find('body');q(m).children("div").each(function(s,v){if(q(v).attr('id')==='apfPrintArea'){q(v).show();}else{q(v).remove();}});q(q(l).find('body')).html(q(m.html()));var t="<html>"+q(l).html()+"</html>";var n=window.open("","_blank","width=300,height=300");n.opener=null;n.document.write(t);n.print();}else{if(a==0){var o=window.open("","_blank",'height=600,width=700');var r=document.getElementById("apfPrintArea").innerHTML;o.opener=null;o.document.write('<html><head><title>Analysis Path Framework</title>');o.document.write('</head><body >');o.document.write(r);o.document.write('</body></html>');o.document.close();o.print();o.close();}else{window.print();}}}function k(P){var a=P.getDomRef();q("#apfPrintArea").empty();q("#apfPrintArea").append(q(a).html());for(var i=0;i<q("#apfPrintArea").siblings().length;i++){q("#apfPrintArea").siblings()[i].hidden=true;}}};
});
/* (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/ui/utils/printModel',["sap/apf/ui/utils/formatter","sap/viz/ui5/types/legend/Common"],function(f,C){"use strict";
sap.apf.ui.utils.PrintModel=function(i){this.oUiApi=i.uiApi;this.oCoreApi=i.oCoreApi;this.oFilterIdHandler=i.oFilterIdHandler;};
sap.apf.ui.utils.PrintModel.prototype.constructor=sap.apf.ui.utils.PrintModel;
function g(p,m,i,o,v,j){var F=new sap.apf.ui.utils.formatter({getEventCallback:p.oUiApi.getEventCallback.bind(p.oUiApi),getTextNotHtmlEncoded:p.oCoreApi.getTextNotHtmlEncoded,getExits:p.oUiApi.getCustomFormatExit()},m);var k=F.getFormattedValue(i,v);var l=F.getFormattedValue(i,j);var n=p.oCoreApi.getTextNotHtmlEncoded(o,[k,l]);return n;}
function _(p){var s=p.oUiApi.getSmartFilterForPrint();var F=[];if(s!==undefined&&s!==null){var S=s.getFilterData();var i=s.getAnalyticalParameters();if(i&&i.length>0){i.forEach(function(l){var v=S[l.fieldName];var m=l.fieldNameOData;p.oCoreApi.getMetadataFacade().getProperty(m).done(function(n){F.push({sFilterName:m,sFilterValue:g(p,n,m,"EQ",v)});});});}var u=s.getFilters();if(u.length>0){var o=sap.apf.core.utils.Filter.transformUI5FilterToInternal(p.oCoreApi.getMessageHandler(),u[0]);for(var j in S){var t="";var k=o.getFilterTermsForProperty(j);if(k.length>0){p.oCoreApi.getMetadataFacade().getProperty(j).done(function(m){for(var v=0;v<k.length;v++){t+=g(p,m,j,k[v]['operator'],k[v]['value'],k[v]['highValue']);if(v!==k.length-1){t+=", ";}}F.push({sFilterName:j,sFilterValue:t});});}}}}return F;}
function a(p){var n,F="",s;var o,i,k=[],S=[],l=[];o=p.oUiApi.getFacetFilterForPrint();if(o){i=o.getLists();for(n=0;n<i.length;n++){F=i[n].getTitle();l=i[n].getSelectedItems();if(l.length>0){S=b(l);if(F!==undefined&&F!==null){s="";for(var j=0;j<S.length;j++){if(j!==S.length-1){s+=S[j]+", ";}else{s+=S[j];}}k.push({sFilterName:F,sFilterValue:s});}}else{k.push({sFilterName:F,sFilterValue:p.oCoreApi.getTextNotHtmlEncoded("noSelectionInFilter")});}}}return k;}
function b(s){var S=[];s.forEach(function(i){S.push(i.getText());});return S;}
function c(p){var A=p.oFilterIdHandler.getAllInternalIds();var o,j=[],i;if(A.length>0){for(i=0;i<A.length;i++){o=p.oFilterIdHandler.get(A[i]).getExpressions();j.push(o[0]);}}return j;}
function d(p,A){var k=[],i,j,F="",s,o,P;var l=[];for(i=0;i<A.length;i++){for(j=0;j<A[i].length;j++){p.oCoreApi.getMetadataFacade().getProperty(A[i][j].name).done(function(m){P=m;F="";l=[];F=m.label;o=new sap.apf.ui.utils.formatter({getEventCallback:p.oUiApi.getEventCallback.bind(p.oUiApi),getTextNotHtmlEncoded:p.oCoreApi.getTextNotHtmlEncoded,getExits:p.oUiApi.getCustomFormatExit()},m);});l.push(o.getFormattedValue(P.name,A[i][j].value));if(F!==undefined&&F!==null){s="";for(var j=0;j<l.length;j++){if(j!==l.length-1){s+=l[j]+", ";}else{s+=l[j];}}k.push({sFilterName:F,sFilterValue:s});}}}return k;}
function e(p){var i=p.oUiApi.getEventCallback(sap.apf.core.constants.eventTypes.printTriggered);var A=d(p,c(p));if(i!==undefined){var j={getTextNotHtmlEncoded:p.oCoreApi.getTextNotHtmlEncoded};A=i.apply(j,c(p));}return A;}
function h(p){var F,i,j;var k=a(p);i=_(p);F=e(p);j=F.concat(i,k);return j;}
sap.apf.ui.utils.PrintModel.prototype.getFiltersToPrint=function(){var p=this;var F=h(p);return F;};
sap.apf.ui.utils.PrintModel.prototype.getHeaderForFirstPage=function(){return this.oUiApi.getLayoutView().getController().oSavedPathName.getText();};
sap.apf.ui.utils.PrintModel.prototype.getApplicationName=function(){var m;var A=this.applicationConfig.appName;if(!A){m=this.oCoreApi.createMessageObject({code:"6003",aParameters:["sAppName"]});this.oCoreApi.putMessage(m);}return A;};
sap.apf.ui.utils.PrintModel.prototype.setApplicationConfig=function(i){this.applicationConfig=i;};
sap.apf.ui.utils.PrintModel.prototype.getRepresentationForPrint=function(s){var p;var i;var I;var o;var S=this.oCoreApi.getTextNotHtmlEncoded(s.title);var j=s.getSelectedRepresentation();var k=j.bIsAlternateView?j.toggleInstance:j;if(k&&k.titleControl&&k.titleControl.oParent){I=k.titleControl.oParent.getItems();if(I&&I.length>1){for(i=0;i<I.length;i++){if(I[i].getMetadata()._sClassName==="sap.m.HBox"){o=I[i];o.setVisible(false);}}}}p=k.getPrintContent(S);return p.oRepresentation;};
});
/*/
 * Created on 19.04.2019.
 * Copyright(c) 2019 SAP SE
 */
sap.ui.predefine('sap/apf/ui/utils/wrappedChartWithCornerTexts',["sap/m/VBox","sap/m/FlexBox","sap/m/Text","sap/m/FlexAlignItems","sap/m/FlexJustifyContent",'sap/apf/ui/utils/constants','sap/apf/utils/trace'],function(v,f,t,F,m,U,a){'use strict';var i="120px";var b="200px";var p="80px";var c="100px";var p="150px";var d="carouselActiveBorderedChartWithCornerTexts";var e="carouselBorderedChartWithCornerTexts";var g=0;
function h(R){return R.type===U.representationTypes.TREE_TABLE_REPRESENTATION;}
function j(R){return R.type===U.representationTypes.TABLE_REPRESENTATION||R.type===U.representationTypes.TREE_TABLE_REPRESENTATION||R.bIsAlternateView===true;}
function k(S){a.logCall("getClonedChart");var R=S.getSelectedRepresentation();var O=R.chart;var A;var C;if(z.isIconDisplayed(R)){a.logReturn("getClonedChart"," return createIconThumbnail()");return z.createIconThumbnail(R);}if(!O){O=R.getChartForCustomListItem();a.log("getClonedChart",",  switches to substitute for main chart ",", cloning:",(R.chart4CustomItemList)?R.chart4CustomItemList.sId:"undefined");C=R.chart4CustomItemList.clone(1000+g++);}else{a.log("getClonedChart"," takes oRepr.chart",", cloning:",O.sId);C=O.clone(g++);if(R.fnHandleSelection){C.detachSelectData(R.fnHandleSelection);C.detachDeselectData(R.fnHandleDeselection);}}if(O.getVizProperties){A=O.getVizProperties();}if(C.getVizProperties){C.setVizProperties(A);z.setAllLabelsInvisible(C);z.setAllAxisInvisible(C);}else{a.emphasize("getClonedChart"," cannot set setVizProperties since method is missing");}a.logReturn("getClonedChart"," cloned ID="+(C?C.sId:"-"));return C}
function l(R){var A="sap-icon://table-chart";if(z.isTreeTable(R)){A="sap-icon://tree"}var T=new sap.ui.core.Icon({src:A,size:"400%"}).addStyleClass('carouselTableIconOldStyle');return T;}
function s(C){var A=C.getVizProperties();A.title={visible:false};A.categoryAxis={visible:false};A.valueAxis={visible:false};A.categoryAxis2={visible:false};A.valueAxis2={visible:false};}
function n(C){var A=C.getVizProperties();if(A){Object.keys(A).forEach(function(B){if(A[B].label){A[B].label.visible=false;}});}A.legend={visible:false,title:{visible:false}};A.timeAxis={visible:false,title:{visible:false}};A.plotArea={window:{start:"firstDataPoint",end:"lastDataPoint"}};A.interaction={noninteractiveMode:true,selectability:false};if(A.toolTip){A.toolTip.visible=false}if(!A.general||!A.general.layout){A.general={layout:{}}}A.general.layout.paddingLeft=this.paddingLeft;A.general.layout.paddingRight=this.paddingRight;A.general.layout.paddingBottom=this.paddingBottom;A.general.layout.paddingTop=this.paddingTop;C.setVizProperties(A);}
function o(C,S){var T=S.longTitle&&!C.isInitialTextKey(S.longTitle.key)?S.longTitle:S.title;return C.getTextNotHtmlEncoded(T);}
function q(A,C){A.oTopLayout=new f({items:[new t({text:C.leftUpper,tooltip:C.leftUpper,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Left}).addStyleClass("thumbanilText"),new t({text:C.rightUpper,tooltip:C.rightUpper,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Right}).addStyleClass("thumbanilText")],alignItems:F.Start,justifyContent:m.SpaceBetween}).addStyleClass("topLayout");}
function r(A,C){A.oBottomLayout=new f({items:[new t({text:C.leftLower,tooltip:C.leftLower,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Left}).addStyleClass("thumbanilText"),new t({text:C.rightLower,tooltip:C.rightLower,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Right}).addStyleClass("thumbanilText")],alignItems:F.Start,justifyContent:m.SpaceBetween}).addStyleClass("bottomLayout");}
function w(A,C){A.oThumbnailChartLayout=new v({items:[C],alignItems:sap.ui.core.TextAlign.Center}).addStyleClass('carouselChartVerticalBox');}
function u(A,B){A.oStepTitle=new t({text:"\n"+B,wrapping:true,maxLines:2}).addStyleClass('carouselThumbnailTitle');}
function x(A,S,B){A.oThumbnailVLayout=new v({items:[A.oTopLayout,A.oThumbnailChartLayout,A.oBottomLayout]}).addStyleClass(e);if(B){A.setHighlighted();}}
function y(A){return new v({items:[A.oStepTitle,A.oThumbnailVLayout]}).addStyleClass("carouselItemVerticalLayout");}
function _(C,A){if(C){if(A){C.setHeight(c);C.setWidth(p);}else{C.setHeight(i);C.setWidth(b);}}}
function W(A,S,C,B){B=B||{};var I;var D={},E=false,G="initial";var H=B.mode==="preview";if(!H){D=A.getStepData(S).oStepTexts;G=o(A.oCoreApi,S);E=A.oCoreApi.stepIsActive(S);}else{D=B.oCornerTexts;G=B.titleText;}var J=true;this.setHighlighted=function(){J=true;this.oThumbnailVLayout.removeStyleClass(e);this.oThumbnailVLayout.addStyleClass(d);};this.setNonHighlighted=function(){J=false;this.oThumbnailVLayout.removeStyleClass(d);this.oThumbnailVLayout.addStyleClass(e);};this.isHighlighted=function(){return J;};this.getContent=function(){return I;};_(C,H);q(this,D);r(this,D);w(this,C);u(this,G);x(this,S,E);I=y(this);}
var z={constructor:W,itemChartHeightWithTexts:i,itemChartWidthWithTexts:b,activeBoxStyleName:d,inactiveBoxStyleName:e,createIconThumbnail:l,setAllAxisInvisible:s,setAllLabelsInvisible:n,getClonedChart:k,isIconDisplayed:j,isTreeTable:h};return z;});
/*!
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/core/path',['sap/apf/utils/trace'],function(t){'use strict';
function P(I){this.type="path";var m=I.instances.messageHandler;var c=I.instances.coreApi;var s=[];var a=[];var n=0;this.destroy=function(){a=[];s.forEach(function(i){i.destroy();});s=[];};this.getFilterInformation=function(){var i=false;var p=[];var j=a[0];s.forEach(function(k,l){if(!i){if(this.stepIsActive(k)){i=true;}else{p.push(k.getFilterInformation(j,l));}}}.bind(this));return Promise.all(p).then(function(r){return[].concat.apply([],r);});};this.getSteps=function(){return jQuery.extend(true,[],s);};this.addStep=function(S,i){t.logCall("Path.addStep");s.push(S);this.update(i);t.logReturn("addStep");};this.makeStepActive=function(S){var i=this.stepIsInPath(S);t.log("makeStepActive",", bStepIsInPath",i);m.check(i,"An unknown step can't be an active step.",sap.apf.core.constants.message.code.errorCheckWarning);if(i){if(this.stepIsActive(S)===false){a.push(S);}}};this.makeStepInactive=function(S){var i=this.stepIsActive(S);t.log("makeStepInactive",", bStepIsActive",i);m.check(i,"Only an active step can be removed from the active steps.",sap.apf.core.constants.message.code.errorCheckWarning);if(i){var j=jQuery.inArray(S,a);a.splice(j,1);}};this.stepIsActive=function(S){var i=jQuery.inArray(S,a);return(i>=0);};this.stepIsInPath=function(S){var i=jQuery.inArray(S,s);return(i>=0);};this.getActiveSteps=function(){return jQuery.extend(true,[],a);};this.getCumulativeFilterUpToActiveStep=function(){var i=jQuery.Deferred();var j=this;f().done(function(C){if(s.length===0){i.resolve(C);}else{k(0,C,function(o){i.resolve(o);});}});return i.promise();function k(l,C,o){s[l].determineFilter(C.copy(),function(F,p){if(p){C=p;}C.addAnd(F);if(j.stepIsActive(s[l])||!s[l+1]){o(C);return;}k(++l,C,o);});}};this.moveStepToPosition=function(S,i,j){var k=jQuery.inArray(S,s);var l=i;m.check(typeof i==="number"&&i>=0&&i<s.length,"Path: moveStepToPosition invalid argument for nPosition");m.check(k>=0&&k<s.length,"Path: moveStepToPosition invalid step");if(k===i){return;}s.splice(k,1);s.splice(l,0,S);this.update(j);};this.removeStep=function(S,i){t.logCall("Path.removeStep");var j=this.stepIsInPath(S);var k=this.stepIsActive(S);var l=jQuery.inArray(S,s);m.check(j,"Path: remove step - invalid step");s.splice(l,1);if(k){this.makeStepInactive(S);}this.update(i);S.destroy();t.logReturn("removeStep");};this.update=function(S,u){t.logCall("Path.update");if(!s[0]){if(u){t.log("update - fnUpdatePathFinished <<< ");u();}t.logReturn("update");return;}var i;var C=s[0];f().done(function(o){t.log("update - @ getContextFilter().done(oContextFilter)");n++;i=n;C.update(o,j);function j(r,l){var p=jQuery.inArray(C,s);t.logCall("Path.update.callbackAfterRequest"," nIndexOfCurrentStep=",p,", nCurrentUpdateCount="+i);var M;if(i===n){if(r instanceof Error){var q=p+1;M=m.createMessageObject({code:"5002",aParameters:[q],callingObject:C});M.setPrevious(r);m.putMessage(M);C.setData({data:[],metadata:undefined},o);S(C,true);p++;C=s[p];while(C){C.setData({data:[],metadata:undefined},o);S(C,true);p++;C=s[p];}t.logReturn("update-callbackAfterRequest");return;}if(l){C.setData(r,o);}t.log("update - before fnStepProcessedCallback");S(C,l);if(i!==n){t.logReturn("update-callbackAfterRequest");return;}C.determineFilter(o.copy(),k);}t.logReturn("update-callbackAfterRequest");}function k(F,l){if(l){o=l;}o=h(o,F,C.getContextInfo());var p=jQuery.inArray(C,s);o.addAnd(F);C=s[p+1];if(C){C.update(o,j);}else{c.storeApfState();o=undefined;if(u){u();}}}});t.logReturn("update")};this.serialize=function(){return{path:{steps:b(),indicesOfActiveSteps:g()}};};this.deserialize=function(S){d(S.path.steps,this);e(S.path.indicesOfActiveSteps,this);};function g(){var k=[];for(var i=0;i<s.length;i++){for(var j=0;j<a.length;j++){if(s[i]===a[j]){k.push(i);}}}return k;}function b(){var S=[];for(var i=0;i<s.length;i++){S.push(s[i].serialize());}return S;}function d(S,p){var o=p.update;p.update=function(){};var i;for(i=0;i<S.length;i++){c.createStep(S[i].stepId);}for(i=0;i<s.length;i++){s[i].deserialize(S[i]);}p.update=o;}function e(j,C){for(var i=0;i<j.length;i++){var k=j[i];C.makeStepActive(s[k]);}}this.checkAddStep=function(i){var j=jQuery.Deferred();var k=c.getConfigurationObjectById(i);var r=c.getConfigurationObjectById(k.binding).requiredFilters;if(k.type==="hierarchicalStep"&&r&&r.length===1){var l=c.getConfigurationObjectById(k.request);c.getMetadata(l.service).done(function(o){var p=o.getPropertyMetadata(l.entityType,r[0]);if(p["hierarchy-node-for"]===k.hierarchyProperty){s.forEach(function(q){if(q.type==="hierarchicalStep"){var u=q.getBinding().getRequiredFilters();if(u.length===1&&u[0]===r[0]){j.resolve(false,m.createMessageObject({code:5234,aParameters:[k.hierarchyProperty,c.getTextNotHtmlEncoded(q.getAdditionalConfigurationProperties().title.key)],enrichInfoInMessageObject:true}));}}});}if(j.state()==="pending"){j.resolve(true);}});}else{j.resolve(true);}return j.promise();};function f(){var j=jQuery.Deferred();jQuery.when(c.getCumulativeFilter(),c.getSmartFilterBarAsPromise()).done(function(k,l){var o,i,p;var r=k.copy();if(l){o=l.getFilters();o.forEach(function(x){r.addAnd(sap.apf.core.utils.Filter.transformUI5FilterToInternal(m,x));});p=l.getAnalyticalParameters();if(p&&p.length>0){for(i=0;i<p.length;i++){var q=p[i].fieldName;var u=p[i].fieldNameOData;var v=l.getFilters([q]);if(v&&v.length){var w=v[0].oValue1;r.addAnd(new sap.apf.core.utils.Filter(m,u,"EQ",w));}}}}j.resolve(r);});return j;}function h(i,j,S){if(I.exits&&I.exits.path&&I.exits.path.beforeAddingToCumulatedFilter){return I.exits.path.beforeAddingToCumulatedFilter(i,j,S);}return i;}}
sap.apf.core.Path=P;return{constructor:P};},true);
/*
 * Copyright(c) 2015 SAP SE
 */
sap.ui.predefine('sap/apf/core/utils/filterSimplify',["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/apf/core/messageHandler"],function(F,a,c,M){'use strict';var f={};
f.FilterReduction=function(){var t=this;var b=false;this.transformFilter=function(e){var T=[];var p;var g;if(e){e.forEach(function(h){if(h instanceof a){T.push({property:h.getProperty(),values:[h.getValue()]});}else if(h instanceof F){p=h.getProperties();g=new f.CollectPropertiesAndValuesVisitor();g.process(h);T.push({property:p[0],values:g.getValues()});}});}return T;};this.intersection=function(e,g){var r={};var l=e.values;var h=g.values;var k=[];var m={};var i,n=l.length;var j,o=h.length;for(i=0;i<n;i++){m[l[i]]=l[i];}for(j=0;j<o;j++){if(m[h[j]]!==undefined&&k.indexOf(h[j])<0){k.push(h[j]);}}r.property=e.property;r.values=k;return r;};function d(m){this.reducers=[];this.disjunctions=[];this.processTerm=function(e){var w=new F(m,e);if(e.getOp()===c.FilterOperators.EQ){this.disjunctions.push(w);}else{this.reducers.push(w);}};this.processOr=function(l,e,o){var i=new f.CollectPropertiesAndValuesVisitor();i.process(o);if(i.isWellFormed()){this.disjunctions.push(o);}else{this.reducers.push(o);}};this.processAnd=function(l,e,g){var s=t.filterSeparation(g,m);this.disjunctions=this.disjunctions.concat(s.disjunctions);this.reducers=this.reducers.concat(s.reducers);};this.processEmptyFilter=function(){};this.process=function(e){e.traverse(this);};}this.filterSeparation=function(e,m){var g=new f.CollectChildrenOfAndNodeVisitor();var h=g.process(e);var v;if(!h){return{reducers:[],disjunctions:[]};}v=new d(m);h.forEach(function(i){i.traverse(v);});return{reducers:v.reducers,disjunctions:v.disjunctions};};this.simplifyTransforms=function(T){var s=[];var r;var p=[];var l=T.length;var n;T.forEach(function(e,i){var j;n=e.property;if(p.indexOf(n)===-1){p.push(n);r=e;for(j=i+1;j<l;++j){if(n===T[j].property){r=t.intersection(r,T[j]);}}s.push(r);}});return s;};this.applyStartFilter=function(s,T){var r=[];var p=s.getProperties();T.forEach(function(e){var R=[];var j;var l=e.values.length;var v;if(p.indexOf(e.property)>-1){for(j=0;j<l;j++){v=e.values[j];if(s.isConsistentWithFilter(e.property,v)){R.push(v);}}r.push({property:e.property,values:R});}else{r.push(e);}});return r;};this.simplifyInStartFilter=function(s,T){var r=s;T.forEach(function(e){if(r){r=r.removeTermsByProperty(e.property);}});if(r.isEmpty()){return undefined;}return r;};this.containsContradiction=function(m,T){var b=false;T.forEach(function(e){if(e.values.length===0){b=true;}});if(b){return b;}return b;};this.rebuildDisjunction=function(m,e){var r=new F(m);var p=e.property;var v=e.values;v.forEach(function(g){var h=new a(m,p,c.FilterOperators.EQ,g);r.addOr(h);});return r;};this.reduceFilter=function(m,e){var g=this;function h(R){var i=[];R.forEach(function(n){i.push(t.rebuildDisjunction(m,n));});return i;}function j(i,n){n.forEach(function(o){i.addAnd(o);});}function k(n,o){var i;var R=o;var p=[];var q;for(i=0;i<n.length;++i){R=g.applyStartFilter(n[i],o);if(g.containsContradiction(m,R)){return{contradiction:e};}q=g.simplifyInStartFilter(n[i],o);if(q){p.push(q);}}return{reducedTransforms:R,simplifiedReducers:p};}var s;var D;var T;var S;var r;var l;if(e.isFilterTerm()||e.isOr()||e.isEmpty()){return e;}s=this.filterSeparation(e,m);D=s.disjunctions;T=this.transformFilter(D);S=this.simplifyTransforms(T);if(this.containsContradiction(m,S)){b=true;return e;}l=k(s.reducers,S);if(l.contradiction){b=true;return l.contradiction;}r=new F(m);j(r,l.simplifiedReducers);j(r,h(l.reducedTransforms));return r;};this.isContradicted=function(){return b;};};
f.CollectPropertiesAndValuesVisitor=function(){var t=this;var p=[];var v=[];var b=true;var d=true;var n=0;var e=0;var g=0;var h=0;function j(k){var i,l=p.length;for(i=0;i<l;i++){if(p[i]===k){return;}}p.push(k);}this.getProperties=function(){return p.slice(0);};this.getValues=function(){return v.slice(0);};this.isWellFormed=function(){return b&&d&&p.length<=1;};this.isEmptyFilter=function(){return n===0&&e===0&&g>0&&h===0;};this.processEmptyFilter=function(){g++;};this.processAnd=function(i,k){n++;d=false;this.process(i);this.processAndArray(k);};this.processAndArray=function(i){i.forEach(function(k){t.process(k);});};this.processOr=function(i,k){e++;this.process(i);this.processOrArray(k);};this.processOrArray=function(i){i.forEach(function(k){t.process(k);});};this.processTerm=function(i){h++;var k=i.getProperty();j(k);switch(i.getOp()){case c.FilterOperators.EQ:v.push(i.getValue());return;default:b=false;return;}};this.process=function(i){if(i instanceof a){this.processTerm(i);}else{i.traverse(this);}};};
f.CollectChildrenOfAndNodeVisitor=function(){this.processEmptyFilter=function(){return null;};this.processTerm=function(t){return[t];};this.processAnd=function(b,d){var r=[];r.push(b);d.forEach(function(e){r.push(e);});return r;};this.processOr=function(){return null;};this.process=function(b){if(b instanceof a){this.processTerm(b);}else{return b.traverse(this);}};};
sap.apf.core.utils.FilterReduction=f.FilterReduction;return f;},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/Component',["sap/ui/core/UIComponent","sap/apf/api"],function(U,a){'use strict';
var c=sap.ui.core.UIComponent.extend("sap.apf.Component",{
oApi:null,
metadata:{"config":{"fullWidth":true},"name":"CoreComponent","version":"0.0.1","publicMethods":["getApi"],"dependencies":{"libs":["sap.m","sap.ui.layout","sap.viz","sap.ui.comp","sap.suite.ui.commons"]}},
init:function(){if(!this.oApi){this.oApi=new sap.apf.Api(this);}var b=this.oApi.getStartParameterFacade().getApplicationConfigurationPath();if(b){this.oApi.loadApplicationConfig(b);}sap.ui.core.UIComponent.prototype.init.apply(this,arguments);},
createContent:function(){sap.ui.core.UIComponent.prototype.createContent.apply(this,arguments);return this.oApi.startApf();},
exit:function(){try{this.oApi.destroy();}catch(e){}},
getApi:function(){return this.oApi;}
});
return c;},true);
sap.ui.predefine('sap/apf/api',['sap/apf/ui/instance','sap/apf/core/instance','sap/apf/core/messageHandler','sap/apf/core/messageDefinition','sap/apf/core/constants','sap/apf/core/utils/filterSimplify','sap/ui/thirdparty/datajs','sap/apf/utils/utils','sap/apf/utils/filter','sap/apf/utils/externalContext','sap/apf/utils/startFilterHandler','sap/apf/utils/startFilter','sap/apf/utils/filterIdHandler','sap/apf/utils/serializationMediator','sap/apf/utils/navigationHandler','sap/apf/utils/startParameter','sap/apf/messageCallbackForStartup','sap/apf/ui/representations/RepresentationInterfaceProxy','sap/base/Log'],function(U,C,M,a,b,F,D,c,d,E,S,f,g,h,N,i,j,R,L){'use strict';
function A(o,k,m){var l;var n;var s;var p;var q;var r;var t;var u;var v;var w;var x;var y;var z;var B=true;var G=jQuery.Deferred();var H=new jQuery.Deferred();var I;var J;this.type='api';this.constants={};this.constants.eventTypes=b.eventTypes;this.destroy=function(){l.activateOnErrorHandling(false);l.setMessageCallback(undefined);l.setLifeTimePhaseShutdown();if(y&&y.destroy){y.destroy();}if(n){n.destroy();}y=undefined;n=undefined;l=undefined;s=undefined;p=undefined;};this.activateOnErrorHandling=function(e){return n.activateOnErrorHandling(e);};this.getStartParameterFacade=function(){return n.getStartParameterFacade();};this.getLogMessages=function(){return n.getLogMessages();};this.createStep=function(e,P,Q){return n.createStep(e,P,Q);};this.getActiveStep=function(){return n.getActiveStep();};this.getCategories=function(){return n.getCategories();};this.getSteps=function(){return n.getSteps();};this.getStepTemplates=function(){return n.getStepTemplates();};this.getFacetFilterConfigurations=function(){return n.getFacetFilterConfigurations();};this.getApplicationConfigProperties=function(){return n.getApplicationConfigProperties();};this.moveStepToPosition=function(e,P,Q){return n.moveStepToPosition(e,P,Q);};this.removeStep=function(e,P){return n.removeStep(e,P);};this.resetPath=function(){return n.resetPath();};this.setActiveStep=function(e){return n.setActiveStep(e);};this.stepIsActive=function(e){return n.stepIsActive(e);};this.updatePath=function(e){return n.updatePath(e);};this.getApfLocation=function(){return n.getUriGenerator().getApfLocation();};this.readPaths=function(e){return n.readPaths(e);};this.savePath=function(P,e,Q){n.savePath(P,e,Q);};this.openPath=function(P,e,Q){return n.openPath(P,e,Q);};this.deletePath=function(P,e){return n.deletePath(P,e);};this.addFacetFilter=function(e){y.getLayoutView().getController().addFacetFilter(e);};this.getEventCallback=function(e){return y.getEventCallback(e);};this.putMessage=function(e){return n.putMessage(e);};this.createMessageObject=function(e){return n.createMessageObject(e);};this.getTextHtmlEncoded=function(e,P){return n.getTextHtmlEncoded(e,P);};this.getTextNotHtmlEncoded=function(e,P){return n.getTextNotHtmlEncoded(e,P);};if(!m){this.loadApplicationConfig=function(e){n.loadApplicationConfig(e);};}else{this.loadApplicationConfig=function(e){};}this.createFilter=function(){return n.createFilter();};this.addPathFilter=function(e){return t.add(e);};this.updatePathFilter=function(e,P){t.update(e,P);};this.getPathFilter=function(e){return t.get(e);};this.createReadRequest=function(e){return n.createReadRequest(e);};this.createReadRequestByRequiredFilter=function(e){return n.createReadRequestByRequiredFilter(e);};this.selectionChanged=function(e){y.selectionChanged(e);};this.createApplicationLayout=function(){if(!I){I=new sap.m.App().addStyleClass("sapApf");}return I;};this.startApf=function(){var P;var Q=this;var T=this.createApplicationLayout();H.done(function(){try{if(this.fnBeforeApfStartupCallback&&typeof this.fnBeforeApfStartupCallback==="function"){this.fnBeforeApfStartupCallback.apply(o,[this]);}G.resolve();y.createApplicationLayout(T).then(function(){P=p.checkMode();var V=y.handleStartup(P);V.done(function(){if(Q.fnAfterApfStartupCallback&&typeof Q.fnAfterApfStartupCallback==="function"){Q.fnAfterApfStartupCallback.apply(o,[Q]);}l.setLifeTimePhaseRunning();});});}catch(e){B=false;}}.bind(this));return T;};this.addMasterFooterContent=function(e){return y.addMasterFooterContentRight(e);};this.setEventCallback=function(e,P){switch(e){case b.eventTypes.contextChanged:y.setEventCallback(e,P);return true;case b.eventTypes.printTriggered:y.setEventCallback(e,P);return true;case b.eventTypes.format:this.customFormat(P);return true;default:return false;}};this.customFormat=function(e){y.setCustomFormatExit(e);};this.setCallbackBeforeApfStartup=function(e){this.fnBeforeApfStartupCallback=e;};this.setCallbackAfterApfStartup=function(e){this.fnAfterApfStartupCallback=e;};this.getPropertyValuesOfExternalContext=function(e){var P=jQuery.Deferred();r.getCombinedContext().then(function(Q){var T=Q.getFilterTermsForProperty(e);var V=[];T.forEach(function(W){var X={Low:W.getValue(),Option:W.getOp(),High:W.getHighValue()};V.push(X);});P.resolve(V);});return P.promise();};this.startupSucceeded=function(){return B;};if(o&&o.getInjections instanceof Function){if(!k){k={};}jQuery.extend(k,k,o.getInjections());}s=new(k&&k.constructors&&k.constructors.StartParameter||i)(o,m);l=new(k&&k.constructors&&k.constructors.MessageHandler||M)();l.activateOnErrorHandling(true);l.setLifeTimePhaseStartup();l.loadConfig(a,true);z=k&&k.functions&&k.functions.messageCallbackForStartup||j;l.setMessageCallback(z);if(k&&k.functions&&k.functions.isUsingCloudFoundryProxy){J=k.functions.isUsingCloudFoundryProxy;}else{J=function(){return false;};}try{n=new(k&&k.constructors&&k.constructors.CoreInstance||C.constructor)({functions:{isUsingCloudFoundryProxy:J,getCumulativeFilter:function(){return q.getCumulativeFilter();},getCombinedContext:function(){return r.getCombinedContext();},ajax:(k&&k.functions&&k.functions.ajax),serializeApfState:function(e,P){return x.serialize(e,P);},deserializeApfState:function(e){return x.deserialize(e);},odataRequest:(k&&k.functions&&k.functions.odataRequest),getComponentName:function(){if(m&&m.manifest&&m.manifest["sap.app"]){return m.manifest["sap.app"].id;}return o.getMetadata().getComponentName();}},instances:{messageHandler:l,startParameter:s,datajs:(k&&k.instances&&k.instances.datajs)||OData,component:o},constructors:{Request:(k&&k.constructors&&k.constructors.Request),Metadata:(k&&k.constructors&&k.constructors.Metadata),MetadataFactory:(k&&k.constructors&&k.constructors.MetadataFactory),ResourcePathHandler:(k&&k.constructors&&k.constructors.ResourcePathHandler),TextResourceHandler:(k&&k.constructors&&k.constructors.TextResourceHandler),SessionHandler:(k&&k.constructors&&k.constructors.SessionHandler),Persistence:(k&&k.constructors&&k.constructors.Persistence)},manifests:m,exits:(k&&k.exits),coreProbe:(k&&k.coreProbe),corePromise:H});v={instances:{startParameter:s,component:o,messageHandler:l},functions:{getConfigurationProperties:n.getApplicationConfigProperties,ajax:n.ajax}};r=new((k&&k.constructors&&k.constructors.ExternalContext)||E)(v);u={functions:{getFacetFilterConfigurations:this.getFacetFilterConfigurations,getReducedCombinedContext:n.getReducedCombinedContext,createRequest:n.getFunctionCreateRequest()},instances:{messageHandler:l,onBeforeApfStartupPromise:G.promise()},constructors:{StartFilter:f}};q=new((k&&k.constructors&&k.constructors.StartFilterHandler)||S)(u);w={functions:{setRestrictionByProperty:q.setRestrictionByProperty,getRestrictionByProperty:q.getRestrictionByProperty},instances:{messageHandler:l}};t=new((k&&k.constructors&&k.constructors.FilterIdHandler)||g)(w);x=new((k&&k.constructors&&k.constructors.SerializationMediator)||h)({instances:{coreApi:n,filterIdHandler:t,startFilterHandler:q,messageHandler:l}});var K={constructors:{FilterReduction:F.FilterReduction},functions:{getCumulativeFilterUpToActiveStep:n.getCumulativeFilterUpToActiveStep,getNavigationTargets:n.getNavigationTargets,getActiveStep:n.getActiveStep,createRequest:n.getFunctionCreateRequest(),getXappStateId:n.getStartParameterFacade().getXappStateId,isFilterReductionActive:n.getStartParameterFacade().isFilterReductionActive,getAllParameterEntitySetKeyProperties:n.getMetadataFacade().getAllParameterEntitySetKeyProperties},instances:{messageHandler:l,component:o,serializationMediator:x}};p=new((k&&k.constructors&&k.constructors.NavigationHandler)||N)(K);y=new(k&&k.constructors&&k.constructors.UiInstance||U)({oCoreApi:n,oFilterIdHandler:t,oSerializationMediator:x,oNavigationHandler:p,oComponent:o,oStartParameter:s,oStartFilterHandler:q,functions:k&&k.functions||{},exits:k&&k.exits||{}});}catch(O){B=false;this.startApf=function(){return new sap.m.Text({text:""});};this.loadApplicationConfig=function(){return"";};L.error("Caught exception during creation of APF API");}if(n){n.createRepresentation=function(e,P){jQuery.sap.require(e);var Q=new sap.apf.ui.representations.RepresentationInterfaceProxy(n,y);var T=c.extractFunctionFromModulePathString(e);return new T(Q,P);};}if(k&&k.probe&&typeof k.probe==='function'){k.probe({apfApi:this,coreApi:n,component:o,uiApi:y,messageHandler:l,serializationMediator:x,navigationHandler:p,startParameter:s,injectedFunctionsNavigationHandler:K&&K.functions,startFilterHandler:q,externalContext:r,filterIdHandler:t,corePromise:H});}}
sap.apf.Api=A;return A;},true);
sap.ui.predefine('sap/apf/core/binding',["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/ui/thirdparty/jquery"],function(c,f,a,q){"use strict";
sap.apf.core.Binding=function(I,b,F,r){var t=this;this.type="binding";var n=0;var R=[];var d=[];var C=[];var o;this.oTitle=b.oTitle;this.oLongTitle=b.oLongTitle;var e=b.requiredFilters;var g=b.requiredFilterOptions;this.destroy=function(){R.forEach(function(i){if(i&&i.destroy){i.destroy();}});R=[];d=[];C=[];o=undefined;};function h(i,k){if(I.exits&&I.exits.binding&&I.exits.binding.afterGetFilter){return I.exits.binding.afterGetFilter(i,t.getSelectedRepresentation(),I.instances.coreApi,b,k);}return i;}this.getFilter=function(i){var s=this.getSelectedRepresentation();var m=sap.apf.core.constants.filterMethodTypes;var k=[];var l;if(s.getFilterMethodType()===m.filter){var p=s.getFilter().getInternalFilter();return h(p,i);}if(s.getSelectionAsArray){k=s.getSelectionAsArray();}else{return h(new sap.apf.core.utils.Filter(I.instances.messageHandler),i);}if(k===undefined){l=sap.apf.core.utils.Filter.createEmptyFilter(I.instances.messageHandler,e);return h(l,i);}if(k.length===C.length||k.length===0){return h(new sap.apf.core.utils.Filter(I.instances.messageHandler),i);}l=sap.apf.core.utils.Filter.createFromArray(I.instances.messageHandler,e,C,k);return h(l,i);};this.getRequiredFilters=function(){return e;};this.getRequiredFilterOptions=function(){return g;};this.getRequestOptions=function(i){if(q.isFunction(this.getSelectedRepresentation().getRequestOptions)){return this.getSelectedRepresentation().getRequestOptions(i);}return{};};this.setFilterValues=function(v){var i=this.getSelectedRepresentation();i.setFilterValues(v);};this.setData=function(D){I.instances.messageHandler.check(D!==undefined,"aDataResponse is undefined (binding function setData)");C=D.data;o=D.metadata;this.getSelectedRepresentation().setData(D.data,D.metadata,D.count,D.selectionValidation);};this.updateTreetable=function(i,m,k,l){this.getSelectedRepresentation().updateTreetable(i,m,k,l);};this.getSortedSelections=function(){return this.getSelectedRepresentation().getSortedSelections();};this.getRepresentationInfo=function(){var k=q.extend(true,[],d);for(var i=0;i<k.length;i++){delete k[i].id;delete k[i].type;delete k[i].constructor;}return k;};this.getSelectedRepresentationInfo=function(){I.instances.messageHandler.check(n>=0&&n<d.length,"index in array boundaries");var i=q.extend(true,{},d[n]);delete i.id;delete i.type;delete i.constructor;return i;};this.getSelectedRepresentation=function(){I.instances.messageHandler.check(n>=0&&n<R.length,"selectedRepresentation in array boundaries");return R[n];};this.setSelectedRepresentation=function(r){I.instances.messageHandler.check(typeof r==="string","setSelectedRepresentation() - sRepresentationId missing");var t=this;var k=this.getSelectedRepresentation();var s=l(r,b.representations);var N=m(s);n=s.index;if(C!==undefined&&o!==undefined){N.setData(C,o);}if(N.adoptSelection){N.adoptSelection(k);}if(k&&k.onChartSwitch){k.onChartSwitch();}function l(r,p){for(var i=0;i<p.length;i++){if(r===p[i].id){return{config:p[i],constructor:F.getConfigurationById(p[i].representationTypeId).constructor,index:i};}}I.instances.messageHandler.check(false,"Representation config not found");}function m(S){var i;if(R[S.index]===undefined){if(S.config.parameter&&S.config.parameter.alternateRepresentationTypeId){S.config.parameter.alternateRepresentationType=F.getConfigurationById(S.config.parameter.alternateRepresentationTypeId);}S.config.parameter.requiredFilters=b.requiredFilters;S.config.parameter.requiredFilterOptions=b.requiredFilterOptions;i=t.convertSortToOrderBy(S.config.parameter);R[S.index]=I.instances.coreApi.createRepresentation(S.constructor,i);return R[S.index];}return R[S.index];}};this.serialize=function(){return{selectedRepresentation:t.getSelectedRepresentation().serialize(),selectedRepresentationId:t.getSelectedRepresentationInfo().representationId};};this.deserialize=function(s){t.setSelectedRepresentation(s.selectedRepresentationId);t.getSelectedRepresentation().deserialize(s.selectedRepresentation);return t;};this.convertSortToOrderBy=function(p){var i;if(p.sort&&!p.orderby){i=q.extend(true,{},p);if(p.alternateRepresentationType){i.alternateRepresentationType=p.alternateRepresentationType;}i.orderby=[{property:p.sort.sortField,ascending:!p.sort.descending}];delete i.sort;return i;}i=p;return i;};R[0]=undefined;var j=false;b.representations.forEach(function(i,k){var s=i.representationTypeId;d[k]=q.extend(true,{},F.getConfigurationById(s));d[k].representationId=i.id;if(r===d[k].representationId){j=true;}d[k].representationLabel=i.label;d[k].thumbnail=i.thumbnail;d[k].parameter=q.extend(true,{},i.parameter);});if(j){this.setSelectedRepresentation(r);}else if(d.length>0){this.setSelectedRepresentation(d[0].representationId);}if(!j&&r){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:'5037',aParameters:[r]}));}};
});
sap.ui.predefine('sap/apf/core/configurationFactory',["sap/apf/core/step","sap/apf/core/hierarchicalStep","sap/apf/core/request","sap/apf/utils/hashtable","sap/apf/core/binding","sap/apf/core/representationTypes","sap/apf/core/constants","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(s,h,r,a,b,c,d,u,q){'use strict';
sap.apf.core.ConfigurationFactory=function(I){var t=this;var m;var e=false;var f=q.Deferred();var g=new sap.apf.utils.Hashtable(I.instances.messageHandler);var j=function(i){I.instances.messageHandler.check(i!==undefined&&i.hasOwnProperty("id")!==false,"oItem is undefined or property 'id' is missing",sap.apf.core.constants.message.code.errorCheckConfiguration);if(!g){g=new sap.apf.utils.Hashtable(I.instances.messageHandler);}var P=g.setItem(i.id,i);I.instances.messageHandler.check((P===undefined),"Configuration includes duplicated identifiers (IDs): "+i.id+"",sap.apf.core.constants.message.code.errorCheckConfigurationWarning);};var k=function(i){var R=[];if(!e&&f.state()==='pending'){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:"5020"}));}if(g.getNumberOfItems()!==0){g.each(function(P,Q){if(Q.type===i){R.push(Q);}});return R;}return R;};function l(i){if(!sap.apf.core.constants.configurationObjectTypes.hasOwnProperty(i.type)){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:"5033",aParams:[i.type]}));}if(i.type===sap.apf.core.constants.configurationObjectTypes.facetFilter&&!(i.property)){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:"5034"}));}g.setItem(i.id,i);}function n(i){if(i.type===undefined){i.type="step";}j(i);}function o(i){I.instances.messageHandler.check(i!==undefined&&i instanceof Array!==false,"aSteps is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);i.forEach(function(s){n(s);});}function p(R){if(R.type===undefined){R.type="request";}if(R.entitySet){R.entityType=R.entitySet;delete R.entitySet;}j(R);}function v(i){if(i.type===undefined){i.type="navigationTarget";}j(i);}function w(R){I.instances.messageHandler.check(R!==undefined&&R instanceof Array!==false,"aRequests is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);R.forEach(function(r){p(r);});}function x(i){function P(){var Q=new sap.apf.utils.Hashtable(I.instances.messageHandler);i.representations.forEach(function(R){if(!(R.id&&typeof R.id==="string")){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:"5028",aParameters:[i.id]}));}if(Q.setItem(R.id,R.id)){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:"5029",aParameters:[i.id]}));}});}if(i.type===undefined){i.type="binding";}I.instances.messageHandler.check(i.id!==undefined,"binding has no id");I.instances.messageHandler.check(i.representations!==undefined&&i.representations instanceof Array!==false,"representations for binding "+i.id+" not defined",sap.apf.core.constants.message.code.errorCheckConfiguration);P();j(i);}function y(i){I.instances.messageHandler.check(i!==undefined&&i instanceof Array!==false,"aBindings is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);i.forEach(function(b){x(b);});}function z(i){I.instances.messageHandler.check(i!==undefined&&i instanceof Array!==false,"navigationTarget is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);i.forEach(function(P){v(P);});}function A(i){g.setItem("configHeader",i);}function B(i){if(i.type===undefined){i.type="category";}j(i);}function C(i){I.instances.messageHandler.check(i!==undefined&&i instanceof Array!==false,"aCategories is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);i.forEach(function(P){var Q=P.steps;I.instances.messageHandler.check(Q!==undefined&&Q instanceof Array!==false,"steps for category "+P.id+" are missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);Q.forEach(function(s){I.instances.messageHandler.check(s.type&&(s.type==="step"||s.type==="hierarchicalStep")&&s.id,"step with wrong format assigned to category '"+P.id+"'");I.instances.messageHandler.check(t.existsConfiguration(s.id),"step with id '"+s.id+"' which is assigned to category '"+P.id+"' does not exist");});B(P);});}function D(i){var P=false;var R=sap.apf.core.representationTypes();R.forEach(function(Q){if(i===Q.id){P=true;}});return P;}function E(R){var i;if(R.type===undefined){R.type="representationType";}if(!D(R.id)){i=sap.apf.utils.extractFunctionFromModulePathString(R.constructor);if(!q.isFunction(i)){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:'5030',parameters:[R.id]}));}}j(R);}function F(R){I.instances.messageHandler.check(R!==undefined&&R instanceof Array!==false,"aRepresentationInfo is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);R.forEach(function(i){E(i);});}function G(i){if(i.type===undefined){i.type='smartFilterBar';}l(i);}function H(i){if(i.type===undefined){i.type="facetFilter";}l(i);}function J(i){I.instances.messageHandler.check(i!==undefined&&i instanceof Array!==false,"Facet filter configuration is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);if(i.length===0){g.setItem(sap.apf.core.constants.existsEmptyFacetFilterArray,true);return;}i.forEach(H);}function K(i,P,Q,R){var U,V,W;function X(a1){return a1.alias||a1.property;}function Y(a1){var b1=(a1.preselectionDefaults&&a1.preselectionDefaults.length>0);var c1=(a1.valueList&&a1.valueList.length>0);return b1||c1;}function Z(V,a1,i,P,R){V.metadataProperty=a1;H(V);K(i,P,Q,R);}function $(V,a1){if(sap.apf.utils.isPropertyTypeWithDateSemantics(a1)){V.preselectionDefaults=sap.apf.utils.convertDateListToInternalFormat(V.preselectionDefaults,a1);V.valueList=sap.apf.utils.convertDateListToInternalFormat(V.valueList,a1);}}if(P===i.length){Q.resolve();e=false;return;}V=i[P];P++;W=X(V);m=m||I.instances.coreApi.getMetadataFacade();var _=R&&Array.prototype.indexOf.call(R,W)>-1;if(_&&Y(V)){if(V.valueHelpRequest||V.filterResolutionRequest){if(V.valueHelpRequest){U=g.getItem(V.valueHelpRequest);}else if(V.filterResolutionRequest){U=g.getItem(V.filterResolutionRequest);}m.getPropertyMetadataByEntitySet(U.service,U.entityType,W).done(function(a1){$(V,a1);Z(V,a1,i,P,R);});}else{m.getProperty(W).done(function(a1){$(V,a1);Z(V,a1,i,P,R);});}}else if(_){if(V.valueHelpRequest||V.filterResolutionRequest){if(V.valueHelpRequest){U=g.getItem(V.valueHelpRequest);}else if(V.filterResolutionRequest){U=g.getItem(V.filterResolutionRequest);}m.getPropertyMetadataByEntitySet(U.service,U.entityType,W).done(function(a1){Z(V,a1,i,P,R);});}else{m.getProperty(W).done(function(a1){Z(V,a1,i,P,R);});}}else{Z(V,{},i,P,R);}}function L(i){var P=q.Deferred();m=m||I.instances.coreApi.getMetadataFacade();I.instances.messageHandler.check(i!==undefined&&i instanceof Array!==false,"Facet filter configuration is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);if(i.length===0){g.setItem(sap.apf.core.constants.existsEmptyFacetFilterArray,true);P.resolve();return P.promise();}e=true;m.getAllProperties(function(Q){K(i,0,P,Q);});return P.promise();}function M(R){F(R);}function S(i,P){function Q(i,W){var X=W.getConfigurationById(i.binding).representations;if(X){return X;}I.instances.messageHandler.check(false,'Binding of step with ID "'+i.id+'" does not contain any representations.',sap.apf.core.constants.message.code.errorCheckConfigurationWarning);}function R(i,W){var X;var Y=[];if(i.binding){X=Q(i,W);X.forEach(function(Z){var $=q.extend(true,{},W.getConfigurationById(Z.representationTypeId));$.representationId=Z.id;$.representationLabel=Z.label;$.parameter=q.extend(true,{},Z.parameter);Y.push($);});return Y;}I.instances.messageHandler.check(false,'Step with ID "'+i.id+'" does not contain any binding references.',sap.apf.core.constants.message.code.errorCheckConfigurationWarning);}var U=q.extend(true,{},i);var V=R(i,P);delete U.request;delete U.binding;delete U.thumbnail;delete U.longTitle;U.type="stepTemplate";U.getRepresentationInfo=function(){var W=q.extend(true,[],V);W.forEach(function(X){delete X.id;delete X.type;delete X.constructor;});return W;};return U;}var N=function(i,P){var t=this;this.type=i.type;this.id=i.id;this.label=i.label;this.stepTemplates=[];i.steps.forEach(function(Q){var s=P.getConfigurationById(Q.id);t.stepTemplates.push(new S(s,P));});return this;};var T=function(i,P){this.type="thumbnail";if(i===undefined){return this;}this.leftUpper=P.createLabel(i.leftUpper);this.rightUpper=P.createLabel(i.rightUpper);this.leftLower=P.createLabel(i.leftLower);this.rightLower=P.createLabel(i.rightLower);this.altTitle=P.createLabel(i.altTitle);return this;};this.createThumbnail=function(i){return new T(i,this);};function O(i){this.type="label";this.kind=i.kind;if(this.kind==="text"){this.file=i.file;this.key=i.key;}else if(this.kind==="property"){this.property=i.property;}else if(this.kind==="sapLabel"){this.labelOf=i.labelOf;}}this.createLabel=function(i){return new O(i,this);};this.loadConfig=function(i,P){g=new sap.apf.utils.Hashtable(I.instances.messageHandler);if(i.applicationTitle){g.setItem('applicationTitle',i.applicationTitle);}var Q={constructors:{Hashtable:sap.apf.utils.Hashtable},instances:{messageHandler:I.instances.messageHandler}};sap.apf.utils.migrateConfigToCategoryStepAssignment(i,Q);var R=sap.apf.core.representationTypes();M(R);o(i.steps);C(i.categories);w(i.requests);y(i.bindings);if(i.representationTypes){F(i.representationTypes);}if(i.smartFilterBar){G(i.smartFilterBar);}if(i.facetFilters){if(P){J(i.facetFilters);f.resolve();}else{L(i.facetFilters).done(function(){f.resolve();});}}else{f.resolve();}if(i.navigationTargets){z(i.navigationTargets);}if(i.configHeader){A(i.configHeader);}return f;};this.getConfigurationById=function(i){return g.getItem(i);};this.existsConfiguration=function(i){return g.hasItem(i);};this.getServiceDocuments=function(){var R=k("request");var i=[];R.forEach(function(P){i.push(P.service);});return sap.apf.utils.eliminateDuplicatesInArray(I.instances.messageHandler,i);};this.getNavigationTargets=function(){var i=k("navigationTarget");return q.extend(true,[],i);};this.getStepTemplates=function(){var i=[];var P=k("step");P=q.merge(P,k("hierarchicalStep"));P.forEach(function(Q,R){i[R]=new S(Q,t);});return i;};this.getSmartFilterBarConfiguration=function(){var i=q.Deferred();var P;f.done(function(){P=k('smartFilterBar')[0];if(typeof P==='object'&&P.service&&(P.entityType||P.entitySet)){i.resolve(q.extend(true,{},P));}else{i.resolve();}});return i.promise();};this.getFacetFilterConfigurations=function(){var P=k("facetFilter");var Q,R,i;var U=q.extend(true,[],P);for(i=0;i<U.length;i++){R=U[i];if(P[i].metadataProperty&&P[i].metadataProperty.clone){R.metadataProperty=P[i].metadataProperty.clone();}if(R.preselectionFunction){Q=sap.apf.utils.extractFunctionFromModulePathString(R.preselectionFunction);if(!q.isFunction(Q)){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:'5035',parameters:[R.id]}));R.preselectionFunction=undefined;}else{R.preselectionFunction=Q;}}}return U;};this.getCategories=function(){var i=k("category");var P=[];i.forEach(function(Q,R){P[R]=new N(Q,t);});return P;};this.getConfigHeader=function(){return g.getItem("configHeader");};this.createStep=function(i,R){var P=this.getConfigurationById(i);I.instances.messageHandler.check((P!==undefined&&(P.type==="step"||P.type==="hierarchicalStep")),"Error - referenced object is undefined or has not type step",sap.apf.core.constants.message.code.errorCheckConfiguration);I.instances.messageHandler.check(sap.apf.core.Step!==undefined,"Step must be defined ",sap.apf.core.constants.message.code.errorCheckConfiguration);I.instances.messageHandler.check(typeof sap.apf.core.Step==="function","Step must be constructor function");if(P.type==='hierarchicalStep'){I.instances.messageHandler.check(typeof sap.apf.core.HierarchicalStep==="function","HierarchicalStep must be constructor function");return new sap.apf.core.HierarchicalStep(I.instances.messageHandler,P,this,R,I.instances.coreApi);}return new sap.apf.core.Step(I.instances.messageHandler,P,this,R,I.instances.coreApi);};this.createBinding=function(i,P,Q,R){var U=this.getConfigurationById(i);I.instances.messageHandler.check((U!==undefined&&U.type==="binding"),"Error - oBindingConfig is undefined or has not type binding",sap.apf.core.constants.message.code.errorCheckConfiguration);U.oTitle=P;U.oLongTitle=Q;return new sap.apf.core.Binding(I,U,this,R);};this.createRequest=function(r){if(r.entitySet){r.entityType=r.entitySet;delete r.entitySet;}var i;var R;if(typeof r==="string"){R=t.getConfigurationById(r);if(!(R!==undefined&&R.type==="request")){i=I.instances.messageHandler.createMessageObject({code:"5004",aParameters:[r]});I.instances.messageHandler.putMessage(i);return undefined;}}else{R=r;I.instances.messageHandler.check(R.type&&R.type==="request"&&R.service&&R.entityType,'Wrong request configuration when creating a new request');if(!R.id){i=I.instances.messageHandler.createMessageObject({code:"5004",aParameters:[r]});I.instances.messageHandler.putMessage(i);return undefined;}}return new((I&&I.constructors&&I.constructors.Request)||sap.apf.core.Request)(I,R);};if(I.constructors&&I.constructors.RegistryProbe){this.getRegistry=function(){return new I.constructors.RegistryProbe(g);};}};
});
sap.ui.predefine('sap/apf/core/constants',["sap/ui/model/FilterOperator"],function(F){'use strict';var c={};c.filterMethodTypes={selectionAsArray:'saa',filter:'f'};c.FilterOperators=F;c.BooleFilterOperators={AND:"and",OR:"or",NOT:"not"};c.aSelectOpt=[c.FilterOperators.EQ,c.FilterOperators.NE,c.FilterOperators.GT,c.FilterOperators.LT,c.FilterOperators.GE,c.FilterOperators.LE,c.FilterOperators.BT,c.FilterOperators.StartsWith,c.FilterOperators.Contains,c.FilterOperators.EndsWith];c.resourceLocation={applicationMessageDefinitionLocation:"applicationMessageDefinitionLocation",applicationMessageTextBundle:"applicationMessageTextBundle",apfUiTextBundle:"apfUiTextBundle",applicationUiTextBundle:"applicationUiTextBundle",analyticalConfigurationLocation:"analyticalConfigurationLocation"};c.message={};c.message.severity={fatal:"fatal",warning:"warning",error:"error",technError:"technError",information:"information",success:"success"};c.message.code={suppressFurtherException:"APFapf1972",errorCheck:"5100",errorCheckWarning:"5101",errorCheckConfiguration:"5102",errorCheckConfigurationWarning:"5103",errorUnknown:"9000",errorExitTriggered:"9001",errorInMessageDefinition:"9003"};c.eventTypes={contextChanged:"contextChanged",printTriggered:"printTriggered",format:"format"};c.configurationObjectTypes={facetFilter:"facetFilter",smartFilterBar:"smartFilterBar"};c.existsEmptyFacetFilterArray='__existsEmptyFacetFilterArray__';c.entitySets={application:'ApplicationQueryResults',configuration:'AnalyticalConfigurationQueryResults',texts:'TextElementQueryResults',logicalSystem:"SAPClientQuery",analysisPath:"AnalysisPathQueryResults",smartBusiness:"EVALUATIONS"};c.modelerPersistenceServiceRoot="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata";c.developmentLanguage="";c.textKeyForInitialText="00000000000000000000000000000000";c.representationMetadata={kind:{XAXIS:"xAxis",XAXIS2:"xAxis2",YAXIS:"yAxis",YAXIS2:"yAxis2",BUBBLEWIDTH:"bubbleWidth",SECTORSIZE:"sectorSize",LEGEND:"legend",SECTORCOLOR:"sectorColor",REGIONCOLOR:"regionColor",REGIONSHAPE:"regionShape",COLUMN:"column",HIERARCHIALCOLUMN:"hierarchicalColumn"},labelDisplayOptions:{KEY:"key",TEXT:"text",KEY_AND_TEXT:"keyAndText"},measureDisplayOptions:{BAR:"bar",LINE:"line"}};c.vizFrame={feedItemTypes:{CATEGORYAXIS:"categoryAxis",CATEGORYAXIS2:"categoryAxis2",COLOR:"color",VALUEAXIS:"valueAxis",VALUEAXIS2:"valueAxis2",BUBBLEWIDTH:"bubbleWidth",SIZE:"size",SHAPE:"shape",TIMEAXIS:"timeAxis"}};c.applicationConfiguration={applicationConfigPath:"config/applicationConfiguration.json"};return c;},true);
sap.ui.predefine('sap/apf/core/entityTypeMetadata',[],function(){"use strict";
sap.apf.core.EntityTypeMetadata=function(m,e,M){this.type='entityTypeMetadata';this.getPropertyMetadata=function(p){var r;r=M.getPropertyMetadata(e,p);if(!r){r={dataType:{}};}return r;};this.getEntityTypeMetadata=function(){return M.getEntityTypeAnnotations(e);};function c(){m.check(e&&typeof e==='string','sap.apf.core.entityTypeMetadata: incorrect value for parameter sEntityType');m.check(M&&M.type&&M.type==="metadata",'sap.apf.core.entityTypeMetadata: incorrect value for parameter oMetadata');}c();};
});
sap.ui.predefine('sap/apf/core/hierarchicalStep',["sap/apf/core/step","sap/apf/core/utils/uriGenerator","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Sorter","sap/ui/thirdparty/jquery"],function(s,u,O,S,q){"use strict";
sap.apf.core.HierarchicalStep=function(m,a,f,r,c){sap.apf.core.Step.call(this,m,a,f,r,c);var b;var d;var e;this.type="hierarchicalStep";var g=f.getConfigurationById(a.request).service;var h=f.getConfigurationById(a.request).entityType;var i=c.getAnnotationsForService(g);var j=a.hierarchyProperty;var k=q.Deferred();var l=f.getConfigurationById(a.binding).requiredFilters;var n=c.getStartParameterFacade().getSapSystem();if(n){g=sap.ui.model.odata.ODataUtils.setOrigin(g,{force:true,alias:n});}q.when(c.getMetadata(g),c.getEntityTypeMetadata(g,h)).then(function(t,v){var w=t.getHierarchyAnnotationsForProperty(h,j);if(w.type==="messageObject"){m.putMessage(w);}else{d=p(j,w);}b=f.createRequest({service:g,entityType:h,selectProperties:o(l[0],t,w),type:"request",id:"SelectionValidationRequest"});k.resolve(t,w,v);});var M=new O(g,{annotationURI:i});function o(t,v,w){var x=[t];var y=v.getPropertyMetadata(h,t)["sap:text"];if(y){x.push(y);}if(w.hierarchyNodeExternalKeyFor){x.push(w.hierarchyNodeExternalKeyFor);}return x;}function p(j,t){var v=[j];for(var w in t){v.push(t[w]);}v=v.concat(f.getConfigurationById(a.request).selectProperties);return sap.apf.core.utils.uriGenerator.getSelectString(v);}this.update=function(t,v){k.done(function(w,x,y){var z=t.restrictToProperties(w.getFilterablePropertiesAndParameters(h));var F=!z.isEqual(e);e=z.copy();var A="/"+sap.apf.core.utils.uriGenerator.generateOdataPath(m,w,h,t,w.getUriComponents(h).navigationProperty);var B={};B.path=A;var C=t.restrictToProperties(w.getFilterableProperties(h));if(!C.isEmpty()){B.filters=[C.mapToSapUI5FilterExpression()];}B.parameters={select:d,operationMode:sap.ui.model.odata.OperationMode.Server,useServerSideApplicationFilters:true,treeAnnotationProperties:x};B.sorter=this.getSorter();this.getBinding().updateTreetable(B,M,y,F);if(!this.getFilter().isEmpty()&&F){var D=C.removeTermsByProperty(l[0]);b.sendGetInBatch(D.addAnd(this.getFilter()),function(E){var G=E.data;var H=this.getFilter().getFilterTerms();var I=[];H.forEach(function(J){G.forEach(function(K){if(K[l[0]]===J.getValue()){I.push(K);}});});this.getBinding().setFilterValues(I);v({},true);}.bind(this));}else{v({},F);}}.bind(this));};this.getSorter=function(){var t=[];var v=this.getBinding().getRequestOptions();if(v&&v.orderby&&v.orderby.length>0){v.orderby.forEach(function(w){t.push(new sap.ui.model.Sorter(w.property,!w.ascending));});}if(t.length===0){return;}return t;};this.setData=function(){};this.adjustCumulativeFilter=function(t){if(l[0]&&!this.getFilter().isEmpty()){return t.removeTermsByProperty(l[0]);}return t;};};
});
sap.ui.predefine('sap/apf/core/instance',['sap/apf/utils/utils','sap/apf/utils/filter','sap/apf/utils/hashtable','sap/apf/core/utils/checkForTimeout','sap/apf/core/utils/uriGenerator','sap/apf/core/utils/fileExists','sap/apf/core/utils/annotationHandler','sap/apf/core/utils/filter','sap/apf/core/messageHandler','sap/apf/core/path','sap/apf/core/persistence','sap/apf/core/metadataFactory','sap/apf/core/textResourceHandler','sap/apf/core/configurationFactory','sap/apf/core/sessionHandler','sap/apf/core/resourcePathHandler','sap/apf/core/constants','sap/apf/cloudFoundry/analysisPathProxy','sap/apf/cloudFoundry/ajaxHandler','sap/ui/comp/smartfilterbar/ControlConfiguration','sap/apf/core/metadataProperty','sap/apf/core/metadataFacade','sap/apf/core/metadata','sap/apf/core/readRequestByRequiredFilter',"sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/core/entityTypeMetadata","sap/apf/core/readRequest","sap/ui/thirdparty/jquery"],function(u,a,H,c,b,F,A,d,M,P,e,f,T,C,S,R,g,h,j,k,l,m,n,o,p,q,r,s,Q){'use strict';f=f||sap.apf.core.MetadataFactory;T=T||sap.apf.core.TextResourceHandler;C=C||sap.apf.core.ConfigurationFactory;S=S||sap.apf.core.SessionHandler;R=R||sap.apf.core.ResourcePathHandler;
function I(t){var v=this;var w;var x,y,z;var B=t.instances.messageHandler;var D=t.instances.startParameter;t.constructors=t.constructors||{};var E=(t.functions&&t.functions.checkForTimeout)||c;var G={instances:{messageHandler:B,coreApi:this},constructors:{Request:t.constructors.Request},exits:{binding:{afterGetFilter:t.exits&&t.exits.binding&&t.exits.binding.afterGetFilter},path:{beforeAddingToCumulatedFilter:t.exits&&t.exits.path&&t.exits.path.beforeAddingToCumulatedFilter}},functions:t.functions};var J;var K;var L;var N;var O;var U;var V;var W;var X;var Y;var Z=t&&t.instances&&t.instances.datajs||OData;this.destroy=function(){O.destroy();};this.ajax=function(i){var c1=Q.extend(true,{},i);c1.functions=c1.functions||{};c1.functions.getSapSystem=D.getSapSystem;if(t.functions&&t.functions.ajax){c1.functions.ajax=t.functions.ajax;}c1.instances=c1.instances||{};c1.instances.messageHandler=B;return sap.apf.core.ajax(c1);};this.odataRequest=function(i,c1,d1,e1){var G={instances:{datajs:Z},functions:{getSapSystem:D.getSapSystem}};var f1=(t&&t.functions&&t.functions.odataRequest)||sap.apf.core.odataRequestWrapper;f1(G,i,c1,d1,e1);};this.getStartParameterFacade=function(){return D;};this.getMessageHandler=function(){return B;};this.putMessage=function(i){return B.putMessage(i);};this.check=function(i,c1,d1){return B.check(i,c1,d1);};this.createMessageObject=function(i){return B.createMessageObject(i);};this.activateOnErrorHandling=function(i){B.activateOnErrorHandling(i);};this.setCallbackForMessageHandling=function(i){B.setMessageCallback(i);};this.getLogMessages=function(){return B.getLogMessages();};this.checkForTimeout=function(i){var c1=E(i);if(c1){B.putMessage(c1);}return c1;};this.getUriGenerator=function(){return b;};this.getMetadata=function(i){return K.getMetadata(i);};this.getMetadataFacade=function(){return K.getMetadataFacade();};this.getEntityTypeMetadata=function(i,c1){return K.getEntityTypeMetadata(i,c1);};this.loadApplicationConfig=function(i){J.loadConfigFromFilePath(i);};this.loadTextElements=function(i){L.loadTextElements(i);};this.registerTextWithKey=function(i,c1){L.registerTextWithKey(i,c1);};this.getApplicationConfigProperties=function(){return J.getConfigurationProperties();};this.getResourceLocation=function(i){return J.getResourceLocation(i);};this.getPersistenceConfiguration=function(){return J.getPersistenceConfiguration();};this.getCategories=function(){return N.getCategories();};this.existsConfiguration=function(i){return N.existsConfiguration(i);};this.getStepTemplates=function(){return N.getStepTemplates();};this.getConfigurationObjectById=function(i){return N.getConfigurationById(i);};this.registerSmartFilterBarInstance=function(i){if(!Y){Y=Q.Deferred();}Y.resolve(i);};this.getSmartFilterBarAsPromise=function(){if(!Y){Y=Q.Deferred();}this.getSmartFilterBarConfigurationAsPromise().done(function(i){if(!i){Y.resolve(null);}});return Y;};this.getSmartFilterBarConfigurationAsPromise=function(){return N.getSmartFilterBarConfiguration();};this.getSmartFilterBarPersistenceKey=function(i){return"APF"+N.getConfigHeader().AnalyticalConfiguration+i;};this.getSmartFilterbarDefaultFilterValues=function(){var i=Q.Deferred();var c1=[];t.functions.getCombinedContext().done(function(e1){e1.getProperties().forEach(function(f1){var g1={key:f1,visibleInAdvancedArea:true,defaultFilterValues:d1(e1,f1)};c1.push(new sap.ui.comp.smartfilterbar.ControlConfiguration(g1));});i.resolve(c1);});return i;function d1(e1,f1){var g1=e1.getFilterTermsForProperty(f1);var i=[];g1.forEach(function(h1){var i1=new sap.ui.comp.smartfilterbar.SelectOption({low:h1.getValue(),operator:h1.getOp(),high:h1.getHighValue(),sign:'I'});i.push(i1);});return i;}};this.getReducedCombinedContext=function(){var i=Q.Deferred();t.functions.getCombinedContext().done(function(c1){var d1=v.getSmartFilterBarAsPromise();d1.done(function(e1){if(!e1){i.resolve(c1);return;}var f1=new d(t.instances.messageHandler);var g1=e1.getFilters();g1.forEach(function(h1){f1.addAnd(d.transformUI5FilterToInternal(t.instances.messageHandler,h1));});i.resolve(c1.removeTermsByProperty(f1.getProperties()));});});return i;};this.getFacetFilterConfigurations=function(){return N.getFacetFilterConfigurations();};this.getNavigationTargets=function(){return N.getNavigationTargets();};this.createStep=function(i,c1,d1){var e1;B.check(i!==undefined&&typeof i==="string"&&i.length!==0,"sStepID is  unknown or undefined");e1=N.createStep(i,d1);O.addStep(e1,c1);return e1;};this.getSteps=function(){return O.getSteps();};this.moveStepToPosition=function(i,c1,d1){O.moveStepToPosition(i,c1,d1);};this.updatePath=function(i,c1){O.update(i,c1);};this.removeStep=function(i,c1){O.removeStep(i,c1);};this.resetPath=function(){if(O){O.destroy();}O=new P.constructor(G);};this.stepIsActive=function(i){return O.stepIsActive(i);};this.isApfStateAvailable=function(){return U.isApfStateAvailable();};this.storeApfState=function(){U.storeApfState();};this.restoreApfState=function(){return U.restoreApfState();};this.serialize=function(){var i=O.serialize();v.getSmartFilterBarAsPromise().done(function(c1){if(c1){i.smartFilterBar=c1.fetchVariant();}});return i;};this.deserialize=function(i){if(i.smartFilterBar){if(!Y){Y=Q.Deferred();}Y.done(function(c1){c1._apfOpenPath=true;c1.applyVariant(i.smartFilterBar);c1.clearVariantSelection();c1.fireFilterChange();});}O.deserialize(i);};this.getTextNotHtmlEncoded=function(i,c1){return L.getTextNotHtmlEncoded(i,c1);};this.getTextHtmlEncoded=function(i,c1){return L.getTextHtmlEncoded(i,c1);};this.isInitialTextKey=function(i){return(i===g.textKeyForInitialText);};this.getMessageText=function(i,c1){return L.getMessageText(i,c1);};this.getXsrfToken=function(i){return U.getXsrfToken(i);};this.setDirtyState=function(i){U.setDirtyState(i);};this.isDirty=function(){return U.isDirty();};this.setPathName=function(i){U.setPathName(i);};this.getPathName=function(){return U.getPathName();};this.getCumulativeFilter=function(){return t.functions.getCumulativeFilter();};this.createReadRequest=function(i){var c1=N.createRequest(i);var d1;if(typeof i==='string'){d1=N.getConfigurationById(i);}else{d1=i;}return new sap.apf.core.ReadRequest(G,c1,d1.service,d1.entityType);};this.createReadRequestByRequiredFilter=function(i){var c1=N.createRequest(i);var d1;if(typeof i==='string'){d1=N.getConfigurationById(i);}else{d1=i;}return new o(G,c1,d1.service,d1.entityType);};this.loadMessageConfiguration=function(i,c1){B.loadConfig(i,c1);};this.loadAnalyticalConfiguration=function(i){N.loadConfig(i);};this.savePath=function(i,c1,d1,e1){var f1;var g1;var h1;var i1;if(typeof i==='string'&&typeof c1==='string'&&typeof d1==='function'){f1=i;g1=c1;h1=d1;i1=e1;this.setPathName(g1);V.modifyPath(f1,g1,h1,i1);}else if(typeof i==='string'&&typeof c1==='function'){g1=i;h1=c1;i1=d1;this.setPathName(g1);V.createPath(g1,h1,i1);}else{B.putMessage(B.createMessageObject({code:"5027",aParameters:[i,c1,d1]}));}};this.readPaths=function(i){V.readPaths(i);};this.openPath=function(i,c1){function d1(e1,f1,g1){if(!g1){v.setPathName(e1.path.AnalysisPathName);}c1(e1,f1,g1);}return V.openPath(i,d1);};this.deletePath=function(i,c1){V.deletePath(i,c1);};this.createFilter=function(i){return new a(B,i);};this.getActiveStep=function(){return O.getActiveSteps()[0];};this.getCumulativeFilterUpToActiveStep=function(){return O.getCumulativeFilterUpToActiveStep();};this.setActiveStep=function(c1){O.makeStepActive(c1);var d1=O.getActiveSteps();var i;for(i=0;i<d1.length;++i){O.makeStepInactive(d1[i]);}return O.makeStepActive(c1);};this.createFirstStep=function(i,c1,d1){var e1=false;var f1;f1=v.getStepTemplates();f1.forEach(function(g1){e1=g1.id===i?true:e1;});if(!e1){B.putMessage(B.createMessageObject({code:'5036',aParameters:[i]}));}else{v.createStep(i,d1,c1);}};this.getFunctionCreateRequest=function(){return N.createRequest;};this.getAnnotationsForService=function(i){return W.getAnnotationsForService(i);};this.checkAddStep=function(i){return O.checkAddStep(i);};this.getPathFilterInformation=function(){return O.getFilterInformation();};this.getGenericExit=function(i){if(t&&t.exits&&t.exits[i]&&typeof t.exits[i]==='function'){return t.exits[i];}return undefined;};this.getComponent=function(){return t&&t.instances&&t.instances.component;};L=new((t.constructors.TextResourceHandler)||sap.apf.core.TextResourceHandler)(G);B.setTextResourceHandler(L);if(t.manifests){G.manifests=t.manifests;}X=new((t.constructors.FileExists)||F)({functions:{ajax:v.ajax,getSapSystem:D.getSapSystem}});var $={manifests:t.manifests,functions:{getSapSystem:D.getSapSystem,getComponentNameFromManifest:u.getComponentNameFromManifest,getODataPath:b.getODataPath,getBaseURLOfComponent:b.getBaseURLOfComponent,addRelativeToAbsoluteURL:b.addRelativeToAbsoluteURL},instances:{fileExists:X}};W=new((t.constructors.AnnotationHandler)||A.constructor)($);N=new((t.constructors.ConfigurationFactory)||sap.apf.core.ConfigurationFactory)(G);var _={constructors:{EntityTypeMetadata:sap.apf.core.EntityTypeMetadata,Hashtable:(t.constructors.Hashtable)||H,Metadata:(t.constructors.Metadata)||n,MetadataFacade:(t.constructors.MetadataFacade)||m,MetadataProperty:(t.constructors.MetadataProperty)||l,ODataModel:(t.constructors.ODataModel)||sap.ui.model.odata.v2.ODataModel},instances:{messageHandler:G.instances.messageHandler,coreApi:v,annotationHandler:W},functions:{getServiceDocuments:N.getServiceDocuments,getSapSystem:D.getSapSystem}};K=new(t.constructors.MetadataFactory||sap.apf.core.MetadataFactory)(_);O=new(t.constructors.Path||P.constructor)(G);U=new(t.constructors.SessionHandler||sap.apf.core.SessionHandler)(G);if(t.functions&&t.functions.isUsingCloudFoundryProxy){w=t.functions.isUsingCloudFoundryProxy;}else{w=function(){return false;};}if(w()){x={instances:{messageHandler:B},functions:{coreAjax:this.ajax}};y=(t.constructors.AjaxHandler||sap.apf.cloudFoundry.AjaxHandler);z=new y(x);}var a1={instances:{messageHandler:B,coreApi:this},functions:{getComponentName:t.functions&&t.functions.getComponentName},manifests:t.manifests};if(t.constructors.Persistence){a1.instances.ajaxHandler=z;V=new t.constructors.Persistence(a1);}else if(w()){a1.instances.ajaxHandler=z;V=new sap.apf.cloudFoundry.AnalysisPathProxy(a1);}else{V=new e.constructor(a1);}var b1={instances:{coreApi:v,messageHandler:G.instances.messageHandler,fileExists:X},functions:{checkForTimeout:E,initTextResourceHandlerAsPromise:L.loadResourceModelAsPromise,isUsingCloudFoundryProxy:w},corePromise:t.corePromise,manifests:t.manifests};if(t.constructors&&t.constructors.ProxyForAnalyticalConfiguration){b1.constructors={ProxyForAnalyticalConfiguration:t.constructors.ProxyForAnalyticalConfiguration};}J=new(t.constructors.ResourcePathHandler||sap.apf.core.ResourcePathHandler)(b1);if(t&&t.coreProbe){t.coreProbe({coreApi:this,startParameter:D,resourcePathHandler:J,textResourceHandler:L,configurationFactory:N,path:O,sessionHandler:U,persistence:V,fileExists:X,corePromise:t.corePromise});}}
sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.Instance=I;return{constructor:I};});
sap.ui.predefine('sap/apf/core/metadata',['sap/apf/utils/utils','sap/apf/utils/hashtable','sap/ui/model/odata/v2/ODataModel','sap/ui/model/odata/ODataUtils'],function(u,H,O,a){'use strict';var M=function(I,A){this.type="metadata";var t=this;var b=jQuery.Deferred();var c=[];var H=(I&&I.constructors&&I.constructors.Hashtable)||H;var h=new H(I.instances.messageHandler);var o=new H(I.instances.messageHandler);var d=new H(I.instances.messageHandler);var e=new H(I.instances.messageHandler);var f=new H(I.instances.messageHandler);var g=new H(I.instances.messageHandler);var j=new H(I.instances.messageHandler);var k=new H(I.instances.messageHandler);var l=new H(I.instances.messageHandler);var m=new H(I.instances.messageHandler);var n=new H(I.instances.messageHandler);var p=new H(I.instances.messageHandler);var O=I.constructors.ODataModel||sap.ui.model.odata.v2.ODataModel;var D=false;if(I.deactivateFatalError){D=true;}var q;var r;var E;var s;var v=w(A);function w(i){var T=I.functions.getSapSystem();if(T){return sap.ui.model.odata.ODataUtils.setOrigin(i,{force:true,alias:T});}return i;}function x(i){var T;function U(W){if(!T.dataType){T.dataType={};}T.dataType[W]=T[W];}function V(W,X){if(jQuery.isArray(T[X])===true){(T[X]).forEach(function(Y){T[Y.name]=Y.value;});}else if(X!=="dataType"&&typeof(T[X])==="object"){if(Object.keys(T[X]).length===0){T[W]="true";}if(X!==W){jQuery.each(T[X],function(Y,Z){T[W]=Z;});}}else{T[W]=T[X];}}if(i===null){return{};}T=jQuery.extend(true,{},i);jQuery.each(T,function(W){switch(W){case'type':U(W);break;case'maxLength':U(W);break;case'precision':U(W);break;default:var X=W.split(".").pop();if(X.search("ISO")===0){V(X,W);}else{V(X.replace(/^./,X[0].toLowerCase()),W);}break;}});return T;}function y(i,T){if(e.hasItem(i)!==true){var U;var V={};var W={allParameters:[],keyParameters:[]};if(J(i)){U=Q(i);if(U.key&&U.key.propertyRef){U.key.propertyRef.forEach(function(X){V[X.name]=null;});}U.property.forEach(function(X){var Y=x(X);Y.isKey=V.hasOwnProperty(Y.name);W.allParameters.push(Y);if(Y.isKey){W.keyParameters.push(Y);}});}e.setItem(i,W);}if(!T){return e.getItem(i).allParameters;}return e.getItem(i).keyParameters;}function z(i){var T=[];var U;if(J(i)){i=P(i);}U=Q(i);U.property.forEach(function(V){T.push(V.name);});return T;}function B(T){var i;if(d.hasItem(T)===true){return d.getItem(T);}var U;var V=[];var W=[];var X=P(T);if(X&&K(X)){var Y=Q(X);Y.property.forEach(function($){V.push($.name);});}var Z=y(T,false);for(i=0;i<Z.length;i++){W.push(Z[i].name);}U=V.concat(W);d.setItem(T,U);return U;}function C(i){return g.getItem(i);}function F(i){var T=C(i);T=T||C(i+"Results");if(!T&&Q(i)){T=i;}return T;}function G(i){if(o.hasItem(i)===false){var T=[];var U=Q(i);U.property.forEach(function(V){if(!(V["sap:filterable"]==="false"||V.filterable&&V.filterable==="true")){T.push(V.name);}});o.setItem(i,T);}return o.getItem(i);}function J(i){return L(i)==="parameters";}function K(i){return L(i)==="aggregate";}function L(i){if(!k.hasItem(i)){var T=Q(i);var U=T&&T["sap:semantics"]||"undefined";k.setItem(i,U);}return k.getItem(i);}function N(i,T){if(h.hasItem(i+T)===false){var U=J(i);var V=Q(i);var W=q.getODataProperty(V,T);if(!W&&U){var X=P(i);V=Q(X);W=q.getODataProperty(V,T);}h.setItem(i+T,x(W));}return h.getItem(i+T);}function P(i){var T=m.getItem(i);if(T){return C(T.toAggregateEntitySet);}return i;}function Q(i){if(!i){return undefined;}if(!p.hasItem(i)){var T=q.getODataEntityType(E+i);if(!T){return T;}p.setItem(i,T);}return p.getItem(i);}function R(){var i;r=X();r.attachMetadataLoaded(function(){q=r.getMetaModel();q.loaded().then(function(){if(!r.getServiceMetadata()){i="5018";if(D){i="11013";}I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:i,aParameters:[A],oCallingObject:t}));b.reject();return;}T();U();V(r);W();b.resolve(this);}.bind(this));}.bind(this));r.attachMetadataFailed(function(){i="5018";if(D){i="11013";}I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:i,aParameters:[A],oCallingObject:t}));b.reject();return;});function T(){var Y={};var Z=q.getODataEntityContainer()&&q.getODataEntityContainer().entitySet;if(!Z){I.instances.messageHandler.putMessage(I.instances.messageHandler.createMessageObject({code:"5041",aParameters:[A],oCallingObject:t}));return;}Z.forEach(function(Z){var $=Z.entityType.split(/[. ]+/).pop();g.setItem(Z.name,$);j.setItem($,Z.name);if(!Y.hasOwnProperty($)){Y[$]=true;c.push($);}});}function U(){var Y=q.getODataEntityContainer()&&q.getODataEntityContainer().entitySet;if(!Y){return;}var Z=Y[0].entityType.split(".");Z.pop();E=Z.join(".")+".";}function V(Y){var Z=Y&&Y.getServiceAnnotations();if(Z&&Z.aliasDefinitions&&Z.aliasDefinitions.Capabilities){s=Z.aliasDefinitions.Capabilities+".";}}function W(){var Y=q.getODataEntityContainer();if(!Y||!Y.associationSet){return;}Y.associationSet.forEach(function(Z){var $=Z.end[0].entitySet,_=Z.end[1].entitySet,a1,b1;if(J(C($))){a1=$;}else if(K(C($))){b1=$;}if(J(C(_))){a1=_;}else if(K(C(_))){b1=_;}if(!a1||!b1){return;}var c1;var d1=Q(C(a1));var e1;d1.navigationProperty.forEach(function(g1){if(!e1&&g1.relationship===Z.association){c1=g1.name;e1=true;}});if(!c1){return;}var f1={navigationProperty:c1,fromParameterEntitySet:a1,toAggregateEntitySet:b1,fromIsUnique:undefined,toIsUnique:undefined};if(l.hasItem(a1)){f1.fromIsUnique=false;l.getItem(a1).fromIsUnique=false;}else{f1.fromIsUnique=true;l.setItem(a1,f1);m.setItem(C(a1),f1);}if(n.hasItem(b1)){n.getItem(b1).toIsUnique=false;}else{f1.toIsUnique=true;n.setItem(b1,f1);}});}function X(){var Y=I.instances.annotationHandler.getAnnotationsForService(A);var Z={annotationURI:Y,json:true};return new O(v,Z);}}this.getEntityTypes=function(){return c;};this.getPropertyMetadata=function(i,T){I.instances.messageHandler.check(i!==undefined&&typeof i==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect EntityType name or type");I.instances.messageHandler.check(T!==undefined&&typeof T==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect sPropertyName name or type");var U=F(i);if(!U){return{};}return N(U,T);};this.getUriComponents=function(i){if(!C(i)){if(C(i+"Results")){return{entitySet:i+"Results",navigationProperty:""};}return null;}var T;switch(L(C(i))){case"undefined":return{entitySet:i,navigationProperty:""};case"parameters":T=l.getItem(i);if(!T||T.fromIsUnique===false){return{entitySet:i,navigationProperty:undefined};}return{entitySet:i,navigationProperty:T.navigationProperty};case"aggregate":T=n.getItem(i);if(!T){return{entitySet:i,navigationProperty:""};}if(T.toIsUnique===false){return{entitySet:undefined,navigationProperty:undefined};}return{entitySet:T.fromParameterEntitySet,navigationProperty:T.navigationProperty};default:I.instances.messageHandler.check(false,"metadata : getUriComponents - not handled return value for sap semantics");}};this.getFilterableProperties=function(i){I.instances.messageHandler.check(i!==undefined&&typeof i==="string","sap.apf.core.Metadata:getFilterableProperties incorrect EntityType name or type");var T=F(i);if(!T){return[];}T=P(T);return G(T);};this.getAllPropertiesOfEntitySet=function(i){I.instances.messageHandler.check(i!==undefined&&typeof i==="string","sap.apf.core.Metadata:getAllPropertiesOfEntitySet incorrect EntitySet name or type");var T=F(i);if(!T){return[];}return z(T);};this.getAllProperties=function(){var i=[];var T;this.getEntityTypes().forEach(function(U){T=B(U);if(T.length===0){T=z(U);}i=i.concat(T);});i=u.eliminateDuplicatesInArray(I.instances.messageHandler,i);return i;};this.getFilterablePropertiesAndParameters=function(){var i=[];var T;var U=this.getEntityTypes();U.forEach(function(V){var W=Q(V);W.property.forEach(function(X){if(!(X["sap:filterable"]==="false")&&(X["sap:aggregation-role"]==="dimension")){i.push(X.name);}});T=y(V,false);T.forEach(function(X){i.push(X.name);});});return u.eliminateDuplicatesInArray(I.instances.messageHandler,i);};this.getParameterEntitySetKeyPropertiesForService=function(){var i=[];this.getEntityTypes().forEach(function(T){y(T,true).forEach(function(U){i.push(U.name);});});i=u.eliminateDuplicatesInArray(I.instances.messageHandler,i);return i;};this.getAllKeys=function(){var i=[];var T=[];this.getEntityTypes().forEach(function(U){var V=Q(U);T=[];if(V.key&&V.key.propertyRef){V.key.propertyRef.forEach(function(W){T.push(W.name);});}i=i.concat(T);});i=u.eliminateDuplicatesInArray(I.instances.messageHandler,i);return i;};this.getAttributes=function(i){var T=false;var U={};this.getEntityTypes().forEach(function(V){if(!T){U=N(V,i);if(U.name){T=true;}}});return U;};this.getParameterEntitySetKeyProperties=function(i){I.instances.messageHandler.check(i!==undefined&&typeof i==="string","sap.apf.core.Metadata:getParameterEntitySetKeyProperties incorrect EntityType name or type");var T=F(i);if(!T){return[];}return y(T,true);};this.getEntityTypeAnnotations=function(i){var T=F(i);I.instances.messageHandler.check(i!==undefined&&typeof i==="string","sap.apf.core.Metadata:getEntityTypeAnnotations incorrect EntityType name or type");if(f.hasItem(T)===true){return f.getItem(T);}var U={};W(T,U);var V=P(T);if(V!==T){W(V,U);}f.setItem(T,U);return f.getItem(T);function W(T,X){var Y;var Z;var $;var _=Q(T);for(Y in _){if(_.hasOwnProperty(Y)){if(Y.indexOf(s)!==0){continue;}Z=Y.split(".").pop();Z=Z.replace(/^./,Z[0].toLowerCase());for($ in _[Y]){if(_[Y].hasOwnProperty($)){X[Z]=_[Y][$];}}}}}};this.getEntitySets=function(){var i={};var T=[];var U=q.getODataEntityContainer();if(!U){return[];}if(U.associationSet){U.associationSet.forEach(function(V){var W,X,Y;W=F(V.end[0].entitySet);if(!J(W)){return;}Y=V.end[1].entitySet;X=F(Y);if(!J(X)){i[Y]=true;}});}if(U.entitySet){U.entitySet.forEach(function(V){if(!i[V.name]){T.push(V.name);}});}return T;};this.getAllEntitySetsExceptParameterEntitySets=function(){var i=q.getODataEntityContainer();var T=[];if(!i){return[];}if(i.entitySet){i.entitySet.forEach(function(U){var V=C(U.name);if(!J(V)){T.push(U.name);}});}return T;};this.getEntitySetByEntityType=function(i){return j.getItem(i);};this.getHierarchyAnnotationsForProperty=function(i,T){var U={};var V=this.getAllPropertiesOfEntitySet(i);if(V.length===0){return I.instances.messageHandler.createMessageObject({code:5072,aParameters:[i,A]});}var W=C(i);var X=P(W);V.forEach(function(Y){var Z=N(X,Y);if(Z["hierarchy-node-for"]===T){U.hierarchyNodeFor=Y;}});if(!U.hierarchyNodeFor){return I.instances.messageHandler.createMessageObject({code:5073,aParameters:[i,A,T]});}V.forEach(function(Y){var Z=N(X,Y);if(Z["hierarchy-level-for"]===U.hierarchyNodeFor){U.hierarchyLevelFor=Y;}else if(Z["hierarchy-parent-node-for"]===U.hierarchyNodeFor){U.hierarchyParentNodeFor=Y;}else if(Z["hierarchy-drill-state-for"]===U.hierarchyNodeFor){U.hierarchyDrillStateFor=Y;}else if(Z["hierarchy-node-external-key-for"]===U.hierarchyNodeFor){U.hierarchyNodeExternalKeyFor=Y;}});return U;};this.getHierarchicalEntitySets=function(){var i=[];var T=this.getEntitySets();T.forEach(function(U){var V=S.call(this,U);if(V.entitySet){i.push(V.entitySet);}}.bind(this));return i;};this.getHierarchicalPropertiesOfEntitySet=function(i){return S.call(this,i).hierarchyProperties;};function S(i){var T={};T.hierarchyProperties=[];var U=C(i);if(!U){return T;}var V=P(U);var W=this.getAllPropertiesOfEntitySet(i);W.forEach(function(X){var Y=N(V,X);var Z=false;var $=false;var _=false;if(Y["hierarchy-node-for"]!==undefined){var a1=Y["hierarchy-node-for"];var b1=X;W.forEach(function(X){var Y=N(V,X);if(Y["hierarchy-level-for"]===b1){Z=true;}else if(Y["hierarchy-parent-node-for"]===b1){$=true;}else if(Y["hierarchy-drill-state-for"]===b1){_=true;}});if(Z&&$&&_){T.entitySet=i;T.hierarchyProperties.push(a1);}}});return T;}this.getNonHierarchicalPropertiesOfEntitySet=function(i){var T=[];var U=C(i);if(!U){return T;}var V=P(U);var W=this.getAllPropertiesOfEntitySet(i);var X=S.call(this,i).hierarchyProperties;W.forEach(function(Y){var Z=N(V,Y);if(Z["hierarchy-node-for"]===undefined&&Z["hierarchy-node-external-key-for"]===undefined&&Z["hierarchy-parent-node-for"]===undefined&&Z["hierarchy-level-for"]===undefined&&Z["hierarchy-drill-state-for"]===undefined&&Z["hierarchy-node-descendant-count-for"]===undefined&&X.indexOf(Y)===-1){var $=Z.name;T.push($);}});return T;};this.getODataModel=function(){return r;};this.isInitialized=function(){return b.promise();};R.call(this);};sap.apf.core.Metadata=M;return M;},true);
sap.ui.predefine('sap/apf/core/metadataFacade',['sap/apf/utils/utils','sap/apf/core/metadataProperty'],function(u,M){'use strict';var a=function(I,A){this.type="metadataFacade";var m=I.instances.messageHandler;var b=I.instances.metadataFactory;var p;var c;var d={};this.getAllProperties=function(e){var f;var h;var j=0;var i;var k=[];if(p){e(p);}else{f=g();h=f.length;for(i=0;i<h;i++){b.getMetadata(f[i]).done(l);}}function l(n){j++;k=k.concat(n.getAllProperties());if(h==j){p=u.eliminateDuplicatesInArray(m,k);e(p);}}};this.getAllParameterEntitySetKeyProperties=function(e){var f;var h;var j=0;var i;var k=[];if(c){e(c);}else{f=g();h=f.length;for(i=0;i<h;i++){b.getMetadata(f[i]).done(l);}}function l(n){j++;k=k.concat(n.getParameterEntitySetKeyPropertiesForService());if(h==j){c=sap.apf.utils.eliminateDuplicatesInArray(m,k);e(c);}}};this.getPropertyMetadataByEntitySet=function(s,e,f){var h=jQuery.Deferred();b.getMetadata(s).done(function(i){var j=i.getPropertyMetadata(e,f);h.resolve(new M.constructor(j));});return h.promise();};this.getProperty=function(e){var f;var h;var j;var k=jQuery.Deferred();if(d[e]){k.resolve(d[e]);}else{f=g();j=f.length;for(var i=0;i<j;i++){b.getMetadata(f[i]).done(function(l){h=l.getAttributes(e);if(h.name){if(l.getParameterEntitySetKeyPropertiesForService().indexOf(e)>-1){h.isParameterEntitySetKeyProperty=true;}if(l.getAllKeys().indexOf(e)>-1){h.isKey=true;}for(var n in h){if(n==="dataType"){for(var o in h.dataType){h[o]=h.dataType[o];}}}d[e]=new M.constructor(h);k.resolve(d[e]);}});}}return k.promise();};function g(){if(typeof A==="string"){return[A];}return b.getServiceDocuments();}};sap.apf.core.MetadataFacade=a;return a;},true);
sap.ui.predefine('sap/apf/core/metadataFactory',["sap/ui/thirdparty/jquery"],function(q){"use strict";
sap.apf.core.MetadataFactory=function(i){this.type="metadataFactory";var m=i.instances.messageHandler;var H=i.constructors.Hashtable;var M=i.constructors.Metadata;var E=i.constructors.EntityTypeMetadata;var a=i.constructors.MetadataFacade;delete i.constructors.Metadata;delete i.constructors.EntityTypeMetadata;delete i.constructors.MetadataFacade;delete i.instances.configurationFactory;var b=new H(m);this.getMetadata=function(p){if(b.hasItem(p)===false){b.setItem(p,{metadataPromise:new M(i,p).isInitialized()});}return b.getItem(p).metadataPromise;};this.getEntityTypeMetadata=function(p,e){var c;var d;var f=this.getMetadata(p);c=b.getItem(p).entityTypes;if(!c){c=new H(m);b.getItem(p).entityTypes=c;}if(!c.getItem(e)){d=q.Deferred();c.setItem(e,d.promise());f.then(function(g){d.resolve(new E(m,e,g));},function(){d.resolve(undefined);});}return c.getItem(e);};this.getMetadataFacade=function(p){return new a({constructors:{MetadataProperty:i.constructors.MetadataProperty},instances:{messageHandler:m,metadataFactory:this}},p);};this.getServiceDocuments=function(){return i.functions.getServiceDocuments();};this.getEntitySets=function(s){var d=q.Deferred();this.getMetadata(s).done(function(c){d.resolve(c.getEntitySets());}).fail(function(){d.resolve([]);});return d.promise();};this.getAllEntitySetsExceptParameterEntitySets=function(s){var d=q.Deferred();this.getMetadata(s).done(function(c){d.resolve(c.getAllEntitySetsExceptParameterEntitySets());}).fail(function(){d.resolve([]);});return d.promise();};this.getEntityTypes=function(s){var d=q.Deferred();this.getMetadata(s).done(function(c){d.resolve(c.getEntityTypes());}).fail(function(){d.resolve([]);});return d.promise();};};
});
sap.ui.predefine('sap/apf/core/metadataProperty',[],function(){'use strict';
function M(a){var t=this;var k=false;var p=false;this.isKey=function(){return k;};this.isParameterEntitySetKeyProperty=function(){return p;};this.getAttribute=function(n){if(typeof this[n]!=="function"){return this[n];}};this.clone=function(){return new M(a);};function b(n,v){switch(n){case"isKey":if(v===true){k=true;}break;case"isParameterEntitySetKeyProperty":if(v===true){p=true;}break;default:if(typeof t[n]!=="function"){t[n]=v;}}return t;}function i(){for(var n in a){switch(n){case"dataType":for(var d in a.dataType){b(d,a.dataType[d]);}break;default:b(n,a[n]);}}}i();}
sap.apf.core.MetadataProperty=M;return{constructor:M};},true);
sap.ui.predefine('sap/apf/core/odataRequest',["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils"],function(c,O){"use strict";
sap.apf.core.odataRequestWrapper=function(i,r,s,e,b){var d=i.instances.datajs;function a(k,n){var M=sap.apf.core.utils.checkForTimeout(n);var E={};if(M){E.messageObject=M;e(E);}else{s(k,n);}}function f(E){var M=sap.apf.core.utils.checkForTimeout(E);if(M){E.messageObject=M;}e(E);}var m=r.serviceMetadata;var g=i.functions.getSapSystem();if(g&&!r.isSemanticObjectRequest){var h=/(\/[^\/]+)$/g;if(r.requestUri&&r.requestUri[r.requestUri.length-1]==='/'){r.requestUri=r.requestUri.substring(0,r.requestUri.length-1);}var l=r.requestUri.match(h)[0];var j=r.requestUri.split(l);var t=sap.ui.model.odata.ODataUtils.setOrigin(j[0],{force:true,alias:g});r.requestUri=t+l;}d.request(r,a,f,b,undefined,m);};
});
sap.ui.predefine('sap/apf/core/persistence',['sap/apf/core/constants'],function(c){'use strict';
function P(I){var l;this.createPath=function(n,C,h){var R;var S=b(h);f().then(function(l){R={data:{AnalysisPath:"",AnalysisPathName:n,LogicalSystem:l,ApplicationConfigurationURL:I.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(h),StructuredAnalysisPath:JSON.stringify(S)},method:"POST"};if(I.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){R.data.AnalyticalConfiguration=I.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId;}s(R,i);},function(m){C({oResponse:undefined,status:"failed"},{},m);});function i(o,E,m){if(m){C({oResponse:o,status:"failed"},E,m);}else{I.instances.messageHandler.check(o&&o.data&&o.statusCode===201,"Persistence create Path - proper response");C({AnalysisPath:o.data.AnalysisPath,status:"successful"},E,m);}}};this.readPaths=function(C){var R={method:"GET"};s(R,h.bind(this));function h(o,E,m){if(!m&&o&&o.data&&o.data.results){for(var i in o.data.results){o.data.results[i].StructuredAnalysisPath=JSON.parse(o.data.results[i].StructuredAnalysisPath);}}else if(!m||o.statusCode!==200){m=I.instances.messageHandler.createMessageObject({code:'5211'});}if(m){C({oResponse:o,status:"failed"},E,m);}else{C({paths:o.data.results,status:"successful"},E,m);}}};this.deletePath=function(A,C){var R={method:"DELETE"};s(R,h.bind(this),A);function h(o,E,m){if((o.statusCode!==204)&&(!m)){m=I.instances.messageHandler.createMessageObject({code:5201});m.setPrevious(I.instances.messageHandler.createMessageObject({code:5200,aParameters:[o.statusCode,o.statusText]}));}if(m){C({oResponse:o,status:"failed"},E,m);}else{C({status:"successful"},E,m);}}};this.modifyPath=function(A,n,C,h){var S=b(h);f().then(function(l){var o={data:{AnalysisPath:A,AnalysisPathName:n,LogicalSystem:l,ApplicationConfigurationURL:I.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(h),StructuredAnalysisPath:JSON.stringify(S)},method:"PUT"};if(I.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){o.data.AnalyticalConfiguration=I.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId;}s(o,R.bind(this),A);},function(m){C({oResponse:undefined,status:"failed"},{},m);});function R(o,E,m){if((o.statusCode!==204)&&(!m)){m=I.instances.messageHandler.createMessageObject({code:5201});m.setPrevious(I.instances.messageHandler.createMessageObject({code:5200,aParameters:[o.statusCode,o.statusText]}));}if(m){C({oResponse:o,status:"failed"},E,m);}else{C({AnalysisPath:A,status:"successful"},E,m);}}};this.openPath=function(A,C){var R={method:"GET"};s(R,h,A);function h(o,E,m){var i;if(!m&&o&&o.statusCode===200&&o.data&&o.data.SerializedAnalysisPath){o.data.SerializedAnalysisPath=JSON.parse(o.data.SerializedAnalysisPath);}if(m){i=I.instances.messageHandler.createMessageObject({code:'5210'});i.setPrevious(m);I.instances.messageHandler.putMessage(i);}C({path:o.data,status:"successful"},E);}};function s(R,L,A){var S=function(D,o){d().done(function(m){L(o,m,undefined);});};var E=function(o){var m;if(o.messageObject&&o.messageObject.getCode&&o.messageObject.getCode()===5021){d().done(function(i){L(o,i,o.messageObject);});return;}var h=a(o.response.body);if(h!==undefined){m=I.instances.messageHandler.createMessageObject({code:h});}if(o.response.body.match("274")){m=I.instances.messageHandler.createMessageObject({code:'5207'});}if(o.response.statusCode===400){m=I.instances.messageHandler.createMessageObject({code:'5203'});}if(o.response.statusCode===403){m=I.instances.messageHandler.createMessageObject({code:'5206'});}if(o.response.statusCode===405){m=I.instances.messageHandler.createMessageObject({code:'5202'});}if(o.response.statusCode===404){m=I.instances.messageHandler.createMessageObject({code:'5208'});}if(!m&&o.response.statusCode===500){m=I.instances.messageHandler.createMessageObject({code:'5200',aParameters:[o.response.statusCode,o.response.statusText]});}if(!m){m=I.instances.messageHandler.createMessageObject({code:'5201'});}I.instances.messageHandler.putMessage(m);d().done(function(i){L(o,i,m);});};I.instances.coreApi.getPersistenceConfiguration().done(function(p){var u=p.path.service+"/"+p.path.entitySet;I.instances.coreApi.getXsrfToken(p.path.service).done(function(x){R.headers={"x-csrf-token":x};switch(R.method){case"GET":if(!R.data&&A){R.requestUri=u+"('"+A+"')";I.instances.coreApi.odataRequest(R,S,E);}else if(!R.data&&!A){g().then(function(h){R.requestUri=u+h;I.instances.coreApi.odataRequest(R,S,E);},function(m){d().done(function(h){L({},h,m);});});}break;case"POST":if(R.data&&!A){R.requestUri=u;}I.instances.coreApi.odataRequest(R,S,E);break;case"DELETE":if(!R.data&&A){R.requestUri=u+"('"+A+"')";}I.instances.coreApi.odataRequest(R,S,E);break;case"PUT":if(R.data&&A){R.requestUri=u+"('"+A+"')";}I.instances.coreApi.odataRequest(R,S,E);break;default:I.instances.coreApi.odataRequest(R,S,E);break;}});});}function g(){var h=jQuery.Deferred();f().then(function(l){var i="";if(I.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){i="AnalyticalConfiguration%20eq%20'"+I.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId+"'%20and%20";}var u="?$select=AnalysisPath,AnalysisPathName,StructuredAnalysisPath,CreationUTCDateTime,LastChangeUTCDateTime&$filter=("+i+"LogicalSystem%20eq%20'"+l+"'%20and%20"+"ApplicationConfigurationURL%20eq%20'"+I.functions.getComponentName()+"')"+"&$orderby=LastChangeUTCDateTime%20desc";h.resolve(u);},function(m){h.fail(m);});return h.promise();}function a(E){var h=E.match("52[0-9]{2}");if(h){return h[0];}return undefined;}function b(S){var h=[];var j=S.path.steps;var k;for(var i in j){h.push({stepId:j[i].stepId,selectedRepresentationId:j[i].binding.selectedRepresentationId});}k={steps:h,indexOfActiveStep:S.path.indicesOfActiveSteps[0]};return k;}function d(){var h=jQuery.Deferred();I.instances.coreApi.getPersistenceConfiguration().done(function(i){I.instances.coreApi.getEntityTypeMetadata(i.path.service,i.path.entitySet).done(function(m){h.resolve(m);});});return h;}function e(C){var t=C&&C.getFilterTermsForProperty('SAPClient');if(t===undefined||t.length!==1){return undefined;}return t[0].getValue();}function r(h,i){I.instances.coreApi.getPersistenceConfiguration().done(function(p){var m=I.instances.messageHandler;var j=p.logicalSystem;if(!j){l=i;h.resolve(i);return h.promise();}var S=j.service;var E=j.entitySet||j.entityType;if(S===null){l=i;h.resolve(i);return h.promise();}if(E===undefined){E=c.entitySets.logicalSystem;}I.instances.coreApi.getMetadata(S).done(function(k){I.instances.coreApi.getXsrfToken(S).done(function(x){var F=new sap.apf.core.utils.Filter(m,"SAPClient",'eq',i);var u=I.instances.coreApi.getUriGenerator().getAbsolutePath(S);u=u+I.instances.coreApi.getUriGenerator().buildUri(m,E,['LogicalSystem'],F,undefined,undefined,undefined,undefined,undefined,'Results',k);var R={requestUri:u,method:"GET",headers:{"x-csrf-token":x}};var o=function(D){var q;if(D&&D.results&&D.results instanceof Array&&D.results.length===1&&D.results[0].LogicalSystem){l=D.results[0].LogicalSystem;h.resolve(l);}else{q=m.createMessageObject({code:"5026",aParameters:[i]});h.fail(q);}};var n=function(q){var t=m.createMessageObject({code:"5026",aParameters:[i]});if(q.messageObject!==undefined&&q.messageObject.type==="messageObject"){t.setPrevious(q.messageObject);}h.fail(t);};I.instances.coreApi.odataRequest(R,o,n);});});});}function f(){var h=jQuery.Deferred();if(l){h.resolve(l);return h.promise();}var i=I.instances.coreApi.getStartParameterFacade().getSapClient();if(i){r(h,i);return h.promise();}I.instances.coreApi.getCumulativeFilter().done(function(C){i=e(C);if(!i){h.resolve('');}else{r(h,i);}});return h.promise();}}
sap.apf.core.Persistence=P;return{constructor:P};},true);
sap.ui.predefine('sap/apf/core/readRequest',["sap/apf/core/request"],function(r){"use strict";
sap.apf.core.ReadRequest=function(i,R,s,e){var c=i.instances.coreApi;var m=i.instances.messageHandler;this.type="readRequest";this.send=function(f,C,o){var a;var b=function(d,n){var M;var E;var D=[];if(d&&d.type&&d.type==="messageObject"){m.putMessage(d);M=d;}else{D=d.data;E=d.metadata;}C(D,E,M);};if(f){a=f.getInternalFilter();}else{a=new sap.apf.core.utils.Filter(m);}R.sendGetInBatch(a,b,o);};this.getMetadata=function(){return c.getEntityTypeMetadata(s,e);};this.getMetadataFacade=function(){return c.getMetadataFacade(s);};};
});
sap.ui.predefine('sap/apf/core/readRequestByRequiredFilter',['sap/apf/core/request'],function(R){'use strict';var a=function(i,r,s,e){var c=i.instances.coreApi;var m=i.instances.messageHandler;this.type="readRequestByRequiredFilter";this.send=function(f,C,o){var b;var p;var d=function(g,n){var M;var E;var D=[];if(g&&g.type&&g.type==="messageObject"){m.putMessage(g);M=g;}else{D=g.data;E=g.metadata;}C(D,E,M);};c.getMetadata(s).done(function(M){var P=M.getParameterEntitySetKeyProperties(e);var g="";var E=M.getEntityTypeAnnotations(e);if(E.requiresFilter!==undefined&&E.requiresFilter==="true"){if(E.requiredProperties!==undefined){g=E.requiredProperties;}}var h=g.split(',');P.forEach(function(j){h.push(j.name);});c.getCumulativeFilter().done(function(j){p=j.restrictToProperties(h);if(f){b=f.getInternalFilter();b.addAnd(p);}else{b=p;}r.sendGetInBatch(b,d,o);});});};this.getMetadataFacade=function(){return c.getMetadataFacade(s);};};sap.apf.core.readRequestByRequiredFilter=a;return a;},true);
sap.ui.predefine('sap/apf/core/representationTypes',["sap/apf/core/constants"],function(c){'use strict';var r=function(){return[{"type":"representationType","id":"ColumnChart","constructor":"sap.apf.ui.representations.columnChart","picture":"sap-icon://bar-chart","label":{"type":"label","kind":"text","key":"ColumnChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"BarChart","constructor":"sap.apf.ui.representations.barChart","picture":"sap-icon://horizontal-bar-chart","label":{"type":"label","kind":"text","key":"BarChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"LineChart","constructor":"sap.apf.ui.representations.lineChart","picture":"sap-icon://line-chart","label":{"type":"label","kind":"text","key":"LineChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"*","min":"1"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"LineChartWithTwoVerticalAxes","constructor":"sap.apf.ui.representations.lineChartWithTwoVerticalAxes","picture":"sap-icon://line-chart-dual-axis","label":{"type":"label","kind":"text","key":"LineChartWithTwoVerticalAxes"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"*","min":"1"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"},{"kind":c.representationMetadata.kind.YAXIS2,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"LineChartWithTimeAxis","constructor":"sap.apf.ui.representations.lineChartWithTimeAxis","picture":"sap-icon://line-chart-time-axis","label":{"type":"label","kind":"text","key":"LineChartWithTimeAxis"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"1","min":"1"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"PieChart","constructor":"sap.apf.ui.representations.pieChart","picture":"sap-icon://pie-chart","label":{"type":"label","kind":"text","key":"PieChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.SECTORCOLOR,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.SECTORSIZE,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"DonutChart","constructor":"sap.apf.ui.representations.donutChart","picture":"sap-icon://donut-chart","label":{"type":"label","kind":"text","key":"DonutChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.SECTORCOLOR,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.SECTORSIZE,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"ScatterPlotChart","constructor":"sap.apf.ui.representations.scatterPlotChart","picture":"sap-icon://scatter-chart","label":{"type":"label","kind":"text","key":"ScatterPlotChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.REGIONCOLOR,"defaultCount":0,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.REGIONSHAPE,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"1","min":"1"},{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"1","min":"1"}]}}},{"type":"representationType","id":"BubbleChart","constructor":"sap.apf.ui.representations.bubbleChart","picture":"sap-icon://bubble-chart","label":{"type":"label","kind":"text","key":"BubbleChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.REGIONCOLOR,"defaultCount":0,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.REGIONSHAPE,"defaultCount":0,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"1","min":"1"},{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"1","min":"1"},{"kind":c.representationMetadata.kind.BUBBLEWIDTH,"defaultCount":1,"max":"1","min":"1"}]}}},{"type":"representationType","id":"StackedColumnChart","constructor":"sap.apf.ui.representations.stackedColumnChart","picture":"sap-icon://vertical-stacked-chart","label":{"type":"label","kind":"text","key":"StackedColumnChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":0,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"StackedBarChart","constructor":"sap.apf.ui.representations.stackedBarChart","picture":"sap-icon://horizontal-stacked-chart","label":{"type":"label","kind":"text","key":"StackedBarChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":0,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"PercentageStackedColumnChart","constructor":"sap.apf.ui.representations.percentageStackedColumnChart","picture":"sap-icon://full-stacked-column-chart","label":{"type":"label","kind":"text","key":"PercentageStackedColumnChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":0,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"PercentageStackedBarChart","constructor":"sap.apf.ui.representations.percentageStackedBarChart","picture":"sap-icon://full-stacked-chart","label":{"type":"label","kind":"text","key":"PercentageStackedBarChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":0,"max":"*","min":"0"},{"kind":c.representationMetadata.kind.LEGEND,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.YAXIS,"defaultCount":1,"max":"*","min":"1"}]}}},{type:"representationType",isCombinationChart:true,id:"CombinationChart",constructor:"sap.apf.ui.representations.combinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"CombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:c.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:c.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:c.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"StackedCombinationChart",constructor:"sap.apf.ui.representations.stackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"StackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:c.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:c.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:c.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"DualCombinationChart",constructor:"sap.apf.ui.representations.dualCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:c.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:c.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:c.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:c.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"DualStackedCombinationChart",constructor:"sap.apf.ui.representations.dualStackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualStackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:c.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:c.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:c.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:c.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{"type":"representationType","id":"HeatmapChart","constructor":"sap.apf.ui.representations.heatmapChart","picture":"sap-icon://heatmap-chart","label":{"type":"label","kind":"text","key":"HeatmapChart"},"metadata":{"dimensions":{"supportedKinds":[{"kind":c.representationMetadata.kind.XAXIS,"defaultCount":1,"max":"*","min":"1"},{"kind":c.representationMetadata.kind.XAXIS2,"defaultCount":1,"max":"*","min":"0"}]},"measures":{"supportedKinds":[{"kind":c.representationMetadata.kind.SECTORCOLOR,"defaultCount":1,"max":"1","min":"1"}]}}},{"type":"representationType","id":"TableRepresentation","constructor":"sap.apf.ui.representations.table","picture":"sap-icon://table-chart","label":{"type":"label","kind":"text","key":"tableView"},"metadata":{"properties":{"supportedKinds":[{"kind":c.representationMetadata.kind.COLUMN,"defaultCount":1,"max":"*","min":"1"}]}}},{"type":"representationType","id":"TreeTableRepresentation","constructor":"sap.apf.ui.representations.treeTable","picture":"sap-icon://tree","label":{"type":"label","kind":"text","key":"treeTable"},"metadata":{"hierarchicalColumn":{"supportedKinds":[{"kind":c.representationMetadata.kind.HIERARCHIALCOLUMN,"defaultCount":1,"max":"1","min":"0"}]},"properties":{"supportedKinds":[{"kind":c.representationMetadata.kind.COLUMN,"defaultCount":0,"max":"*","min":"0"}]}}},{"type":"representationType","id":"ColumnChartSorted","constructor":"sap.apf.ui.representations.columnChart","picture":"sap-icon://vertical-bar-chart","label":{"type":"label","kind":"text","key":"ColumnChartSorted"}},{"type":"representationType","id":"ColumnChartClustered","constructor":"sap.apf.ui.representations.columnChart","picture":"sap-icon://bar-chart","label":{"type":"label","kind":"text","key":"ColumnChartClustered"}},{"type":"representationType","id":"ColumnChartClusteredSorted","constructor":"sap.apf.ui.representations.columnChart","picture":"sap-icon://vertical-bar-chart-2","label":{"type":"label","kind":"text","key":"ColumnChartClusteredSorted"}},{"type":"representationType","id":"StackedColumnSorted","constructor":"sap.apf.ui.representations.stackedColumnChart","picture":"sap-icon://upstacked-chart","label":{"type":"label","kind":"text","key":"StackedColumnSorted"}}];};return r;},true);
sap.ui.predefine('sap/apf/core/request',["sap/apf/utils/utils","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/utils/filterSimplify"],function(u,F,a,f){'use strict';var R=function(I,c){var m=I.instances.messageHandler;var C=I.instances.coreApi;var s=c.service;var b=c.selectProperties;var U=C.getUriGenerator();var M;if(s===undefined){M=m.createMessageObject({code:'5015',aParameters:[c.id]});m.putMessage(M);}var d=C.getMetadata(s);this.type=c.type;this.sendGetInBatch=function(o,e,r,S){d.done(function(g){C.getXsrfToken(s).done(function(x){var h=g.getUriComponents(c.entityType);var E,j;if(h){E=h.entitySet;j=h.navigationProperty;}m.check(E!==undefined,'Invalid request configuration: An entityset does not exist under the service '+c.entityType);m.check(j!==undefined,'Invalid request configuration: A usable navigation does not exist for the service '+c.entityType);var k;var l;G(o);if(o&&o.getProperties){k=o.restrictToProperties(g.getFilterableProperties(E));if(C.getStartParameterFacade().isFilterReductionActive()){l=new f.FilterReduction();k=l.reduceFilter(m,k);}}D(r);var p=r&&r.paging;var n=r&&r.orderby;var q=U.buildUri(m,E,b,k,o,n,p,undefined,B,j,g);var t=[{requestUri:q,method:'GET',headers:{'Accept-Language':sap.ui.getCore().getConfiguration().getLanguage(),'x-csrf-token':x}}];A();var v=U.getAbsolutePath(s);v=v+'$batch';var w={method:'POST',headers:{'x-csrf-token':x},requestUri:v,serviceMetadata:g.getODataModel().getServiceMetadata(),data:{__batchRequests:t}};var y=function(i,H){var J={};C.getEntityTypeMetadata(c.service,c.entityType).done(function(K){var L;try{var N='';if(i&&i.__batchResponses&&i.__batchResponses[0].data){J.data=i.__batchResponses[0].data.results;J.metadata=K;if(i.__batchResponses[0].data.__count){J.count=parseInt(i.__batchResponses[0].data.__count,10);}if(i.__batchResponses[1]&&i.__batchResponses[1].data){J.selectionValidation=i.__batchResponses[1].data.results;}e(J,true);}else if(i&&i.__batchResponses[0]&&i.__batchResponses[0].response&&i.__batchResponses[0].message){N=H.requestUri;var O=i.__batchResponses[0].message;var P=i.__batchResponses[0].response.body;L=u.extractOdataErrorResponse(P);var Q=i.__batchResponses[0].response.statusCode;J=m.createMessageObject({code:'5001',aParameters:[Q,O,L,N]});m.putMessage(J);}else{N=H.requestUri||q;J=m.createMessageObject({code:'5001',aParameters:['unknown','unknown error','unknown error',N]});m.putMessage(J);}}catch(T){L=T&&T.message||"";window.console.trace("sap.apf.core.request catch exception: "+L);if(!m.isOwnException(T)){m.putMessage(m.createMessageObject({code:"5042",aParameters:[L]}));}}});};var z=function(i){var H='unknown error';var J;var K='unknown error';var L=q;if(i.message!==undefined){H=i.message;}var N='unknown';if(i.response&&i.response.statusCode){N=i.response.statusCode;K=i.response.statusText||'';L=i.response.requestUri||q;}if(i.messageObject&&i.messageObject.type==='messageObject'){m.putMessage(i.messageObject);e(i.messageObject);}else{J=m.createMessageObject({code:'5001',aParameters:[N,H,K,L]});m.putMessage(J);e(J);}};C.odataRequest(w,y,z,OData.batchHandler);function A(){if(S&&S.requiredFilterProperties&&S.selectionFilter){var i=k.copy();i.addAnd(S.selectionFilter);if(C.getStartParameterFacade().isFilterReductionActive()){i=l.reduceFilter(m,i);}var H=U.buildUri(m,E,S.requiredFilterProperties,i,o,undefined,undefined,undefined,B,j,g);t.push({requestUri:H,method:'GET',headers:{'Accept-Language':sap.ui.getCore().getConfiguration().getLanguage(),'x-csrf-token':x}});}}function B(P,i){var H="'";var J=g.getPropertyMetadata(E,P);if(J&&J.dataType){return u.formatValue(i,J);}if(typeof i==='number'){return i;}return H+u.escapeOdata(i)+H;}function D(r){var P,i;if(!r){return;}P=Object.getOwnPropertyNames(r);for(i=0;i<P.length;i++){if(P[i]!=='orderby'&&P[i]!=='paging'){m.putMessage(m.createMessageObject({code:'5032',aParameters:[E,P[i]]}));}}}function G(o){var i=g.getFilterableProperties(E);var H='';var J=g.getEntityTypeAnnotations(E);var K;if(J.requiresFilter!==undefined&&J.requiresFilter==='true'){if(J.requiredProperties!==undefined){H=J.requiredProperties;}}if(H===''){return;}if(jQuery.inArray(H,i)===-1){K=m.createMessageObject({code:'5006',aParameters:[E,H]});m.putMessage(K);}var P=o.getProperties();if(jQuery.inArray(H,P)===-1){K=m.createMessageObject({code:'5005',aParameters:[E,H]});m.putMessage(K);}}});});};};sap.apf.core.Request=R;return R;},true);
sap.ui.predefine('sap/apf/core/resourcePathHandler',["sap/apf/core/utils/filter","sap/apf/utils/hashtable","sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/odataProxy","sap/apf/core/layeredRepositoryProxy","sap/apf/cloudFoundry/runtimeProxy","sap/apf/core/constants","sap/apf/utils/startParameter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(f,h,m,a,o,l,r,c,s,u,q){'use strict';
sap.apf.core.ResourcePathHandler=function(i){var t=this;var b=i.instances.coreApi;var m=i.instances.messageHandler;var H=new sap.apf.utils.Hashtable(m);var C;var p;var S=null;var d=q.Deferred();var e=false;var P;this.loadConfigFromFilePath=function(F){if(e){return;}e=true;var G=b.getStartParameterFacade().getAnalyticalConfigurationId();var U=F;b.ajax({url:U,dataType:"json",success:I,error:function(J,K,L){var M=m.createMessageObject({code:"5068",aParameters:[U,K,L]});D(M);},async:true,suppressSapSystem:true});function I(J,K,L){var T=i.functions.checkForTimeout(L);var M;if(T){M=m.createMessageObject({code:"5054",aParameters:[F]});M.setPrevious(T);D(M);}if(!J||!J.applicationConfiguration){D(m.createMessageObject({code:"5055",aParameters:[F]}));}if(J.applicationConfiguration.textResourceLocations===undefined){D(m.createMessageObject({code:"5056",aParameters:[F]}));return;}B(J,G);v().done(function(){if(G){j(G);}else{n();}});}};function g(){return b.getStartParameterFacade().isLrepActive();}function j(F){var G=F.applicationId;var I=F.configurationId;if(g()&&!G){D(m.createMessageObject({code:"5024"}));}var o=new P({serviceRoot:p&&p.path&&p.path.service,entityTypes:{configuration:sap.apf.core.constants.entitySets.configuration,texts:sap.apf.core.constants.entitySets.texts}},{instances:{coreApi:b,messageHandler:m},manifests:i.manifests});if(g()){var J=[];var K=q.Deferred();J.push(K);J.push(k(G,o));}o.readEntity("configuration",function(L,M,N){if(N){D(m.createMessageObject({code:"5022",aParameters:[I]}));d.resolve();}else{var O=JSON.parse(L.SerializedAnalyticalConfiguration);b.loadAnalyticalConfiguration(O);if(O.applicationTitle){C.appName=O.applicationTitle.key;C.appTitle=O.applicationTitle.key;}if(g()){K.resolve();}else{G=G||L.Application;k(G,o).then(function(){d.resolve();});}}},[{name:"AnalyticalConfiguration",value:I}],undefined,G,{layer:'ALL'},{'noMetadata':true});if(g()){q.when.apply(q,J).then(function(){d.resolve();});}}function k(F,o){var G=q.Deferred();var I=new sap.apf.core.utils.Filter(m,'Application','eq',F);var f=new sap.apf.core.utils.Filter(m,'Language','eq',sap.apf.core.constants.developmentLanguage);f.addAnd(I);var J=["TextElement","TextElementDescription"];o.readCollection('texts',function(K,L,M){if(M){D(m.createMessageObject({code:"5023",aParameters:[b.getStartParameterFacade().getAnalyticalConfigurationId()]}));}else{b.loadTextElements(K);}G.resolve();},undefined,J,f,{layer:'ALL'});return G.promise();}function n(){var U=t.getResourceLocation(sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation);var M;if(U!==""){b.ajax({url:U,dataType:"json",success:function(F,G,J){if(F){b.loadAnalyticalConfiguration(F);if(F.applicationTitle){C.appName=F.applicationTitle.key;C.appTitle=F.applicationTitle.key;}d.resolve();}else{M=m.createMessageObject({code:"5057",aParameters:[U]});D(M);}},error:function(J,F,G,I){M=m.createMessageObject({code:"5057",aParameters:[U]});if(I){M.setPrevious(I);}D(M);},async:true,suppressSapSystem:true});}else{M=m.createMessageObject({code:"5060"});D(M);}}function v(){b.loadMessageConfiguration(sap.apf.core.messageDefinition,true);return w(sap.apf.core.constants.resourceLocation.applicationMessageDefinitionLocation,false);}function w(R,F){var G=q.Deferred();var U=t.getResourceLocation(R);if(U!==""){b.ajax({url:U,dataType:"json",success:I,error:function(J,K,L,M){var N=m.createMessageObject({code:"5058",aParameters:[K,L,U]});if(M){N.setPrevious(M);}D(N);},async:true,suppressSapSystem:true});}else{G.resolve();}return G.promise();function I(J,K,L){var M;var T=i.functions.checkForTimeout(L);if(!T){if(J.messageConfiguration){b.loadMessageConfiguration(J.messageConfiguration.definitions,F);}}else{M=m.createMessageObject({code:"5067"});M.setPrevious(T);D(M);}G.resolve();}}function x(F){var M;if(!F||!F.path){M=m.createMessageObject({code:"5066"});D(M);}if(!F.path.service){M=m.createMessageObject({code:"5067"});D(M);}if(F.analyticalConfiguration){if(!F.analyticalConfiguration.service){M=m.createMessageObject({code:sap.apf.core.constants.message.code.errorInAnalyticalConfig,rawText:"service or entity set are missing in analytical configuration in the application configuration"});D(M);}}}function y(F){var M;if(F.evaluations&&!F.evaluations.service){M=m.createMessageObject({code:"5063"});D(M);}if(F.evaluations&&(!F.evaluations.type||F.evaluations.type!=="smartBusinessRequest")){M=m.createMessageObject({code:"5062",rawText:"type in Smart Business configuration is not smartBusinessRequest"});D(M);}if(F.evaluations&&!F.evaluations.entityType){M=m.createMessageObject({code:"5061"});D(M);}}this.getResourceLocation=function(R){return H.getItem(R);};this.getPersistenceConfiguration=function(){var F=q.Deferred();d.done(function(){F.resolve(p);});return F;};this.getConfigurationProperties=function(){var F=q.Deferred();i.corePromise.done(function(){F.resolve(C);});return F;};function z(){var F=sap.apf.core.utils.uriGenerator;var G,I,J;var K=i.manifests.manifest;var L=i.manifests.baseManifest;var M;if(d.state()==='resolved'){return;}var N=F.getBaseURLOfComponent(sap.apf.utils.getComponentNameFromManifest(i.manifests.baseManifest));var O=F.getBaseURLOfComponent(sap.apf.utils.getComponentNameFromManifest(i.manifests.manifest));if(K["sap.app"].dataSources&&K["sap.app"].dataSources.PathPersistenceServiceRoot){J=K["sap.app"].dataSources.PathPersistenceServiceRoot.uri;}else if(i.functions.isUsingCloudFoundryProxy()){J="";}else{M=m.createMessageObject({code:"5064"});D(M);}var Q=L["sap.app"].i18n;if(typeof Q==="string"){Q=F.addRelativeToAbsoluteURL(N,Q);}else if(typeof Q==="object"){Q=F.addRelativeToAbsoluteURL(N,Q.bundleUrl);}var R=K["sap.app"].i18n;if(typeof R==="string"){R=F.addRelativeToAbsoluteURL(O,R);}else if(typeof R==="object"){R=F.addRelativeToAbsoluteURL(O,R.bundleUrl);}var T=K["sap.app"].title;var U=sap.apf.utils.createPseudoGuid();b.registerTextWithKey(U,T);var V=b.getStartParameterFacade().getAnalyticalConfigurationId();var W="";if(K["sap.app"].dataSources&&K["sap.app"].dataSources.AnalyticalConfigurationLocation&&K["sap.app"].dataSources.AnalyticalConfigurationLocation.uri){W=K["sap.app"].dataSources.AnalyticalConfigurationLocation.uri;W=F.addRelativeToAbsoluteURL(O,W);}if(!V&&!W){M=m.createMessageObject({code:"5065"});D(M);}var X={"appName":U,"appTitle":U,"analyticalConfigurationLocation":W,"textResourceLocations":{"apfUiTextBundle":Q,"applicationUiTextBundle":R},"persistence":{"path":{"service":J}}};if(K["sap.apf"]&&K["sap.apf"].appSpecificParameters){for(G in K["sap.apf"].appSpecificParameters){X[G]=K["sap.apf"].appSpecificParameters[G];}}if(K["sap.app"].dataSources&&K["sap.app"].dataSources.SmartBusiness){I=K["sap.app"].dataSources.SmartBusiness.uri;X.smartBusiness={runtime:{service:I}};}if(K["sap.app"].dataSources&&K["sap.app"].dataSources.LogicalSystem){X.persistence.logicalSystem={service:K["sap.app"].dataSources.LogicalSystem.uri};}B({applicationConfiguration:X},V);v().done(function(){if(V){j(V);}else{n();}});}function A(){var F=b.getUriGenerator().getApfLocation();H.setItem(sap.apf.core.constants.resourceLocation.apfUiTextBundle,F+"resources/i18n/apfUi.properties");H.setItem(sap.apf.core.constants.resourceLocation.applicationMessageDefinitionLocation,"");H.setItem(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle,"");H.setItem(sap.apf.core.constants.resourceLocation.applicationUiTextBundle,"");H.setItem(sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation,"");}function B(F,G){function I(J){C=q.extend(true,{},J);delete C.type;delete C.analyticalConfigurationLocation;delete C.applicationMessageDefinitionLocation;delete C.textResourceLocations;delete C.persistence;}var J=F.applicationConfiguration;I(J);var T=F.applicationConfiguration.textResourceLocations;p=F.applicationConfiguration.persistence;if(!i.functions.isUsingCloudFoundryProxy()){x(p);if(!p.path.entitySet){p.path.entitySet=sap.apf.core.constants.entitySets.analysisPath;}}if(F.applicationConfiguration.smartBusiness){S=F.applicationConfiguration.smartBusiness;y(S);}var M;var U;var K;for(K in sap.apf.core.constants.resourceLocation){if(!sap.apf.core.constants.resourceLocation.hasOwnProperty(K)){continue;}if(K===sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation&&G){continue;}if(J[K]!==undefined){U=J[K];}else if(T[K]!==undefined){U=T[K];}else{continue;}if(i.manifests){H.setItem(K,U);}else if(K===sap.apf.core.constants.resourceLocation.apfUiTextBundle||i.instances.fileExists.check(U,true)){H.setItem(K,U);}else if(!G){M=m.createMessageObject({code:"5059",aParameters:[U,K]});D(M);}}}function D(F){m.putMessage(F);}function E(){var F;var G;var I;q.when(d).done(function(){F=t.getResourceLocation(sap.apf.core.constants.resourceLocation.apfUiTextBundle);G=t.getResourceLocation(sap.apf.core.constants.resourceLocation.applicationUiTextBundle);I=t.getResourceLocation(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle);i.functions.initTextResourceHandlerAsPromise(F,G,I).done(function(){i.corePromise.resolve();});});}A();if(i.constructors&&i.constructors.ProxyForAnalyticalConfiguration){P=i.constructors.ProxyForAnalyticalConfiguration;}else if(i.functions.isUsingCloudFoundryProxy()){P=sap.apf.cloudFoundry.RuntimeProxy;}else if(g()){P=sap.apf.core.LayeredRepositoryProxy;}else{P=sap.apf.core.OdataProxy;}if(i.manifests&&i.manifests.manifest){z();}if(i.corePromise){E();}};
});
sap.ui.predefine('sap/apf/core/sessionHandler',["sap/apf/core/ajax","sap/apf/utils/filter","sap/apf/core/constants","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(a,f,c,O,q){"use strict";
sap.apf.core.SessionHandler=function(i){var b=null;var s=false;var d=false;var e=false;var p='';var x="";var h=new sap.apf.utils.Hashtable(i.instances.messageHandler);var C=i.instances.coreApi;var m=i.instances.messageHandler;if(i&&i.functions&&i.functions.serializeApfState&&typeof i.functions.serializeApfState=='function'){s=i.functions.serializeApfState;}if(i&&i.functions&&i.functions.deserializeApfState&&typeof i.functions.deserializeApfState=='function'){d=i.functions.deserializeApfState;}this.type="sessionHandler";this.ajax=function(S){sap.apf.core.ajax(S);};this.getXsrfToken=function(j){var k=q.Deferred();j=g(j);var l=h.getItem(j);if(l!==undefined&&l!==false){return k.resolve(l);}this.fetchXcsrfToken(j).done(function(x){h.setItem(j,x);k.resolve(x);});return k.promise();};function g(j){var k=C.getStartParameterFacade().getSapSystem();if(k){return sap.ui.model.odata.ODataUtils.setOrigin(j,{force:true,alias:k});}return j;}this.fetchXcsrfToken=function(j){var k=q.Deferred();var l="HEAD";if(h.getItem(j)===false){l="GET";}this.ajax({url:C.getUriGenerator().getAbsolutePath(j),type:l,beforeSend:function(r){r.setRequestHeader("x-csrf-token","Fetch");},success:o.bind(this),error:n.bind(this),async:true});function o(D,S,X){x=X.getResponseHeader("x-csrf-token");if(x!==undefined&&x!==null){k.resolve(x);}if(x===null){x="";k.resolve(x);}}function n(r,S,E){if(r.status===405&&h.getItem(j)!==false){h.setItem(j,false);this.fetchXcsrfToken(j).done(function(x){k.resolve(x);});}else{x="";var M=m.createMessageObject({code:5101,aParameters:[]});m.putMessage(M);k.resolve(x);}}return k.promise();};this.setDirtyState=function(j){e=j;};this.isDirty=function(){return e;};this.setPathName=function(n){if(typeof n!='string'){p='';return;}p=n;};this.getPathName=function(){return p;};this.isApfStateAvailable=function(){if(b===null){return false;}return true;};this.storeApfState=function(){var k=true;if(s){s(undefined,k).done(function(j){b=j;});}};this.restoreApfState=function(){if(this.isApfStateAvailable()&&d){C.resetPath();return d(b);}};};
});
sap.ui.predefine('sap/apf/core/textResourceHandler',["sap/apf/utils/hashtable","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/strings/formatMessage"],function(h,q,e,f){"use strict";
sap.apf.core.TextResourceHandler=function(I){var m=I.instances.messageHandler;var r;var H=new sap.apf.utils.Hashtable(m);var o=new sap.apf.utils.Hashtable(m);var a=new sap.apf.utils.Hashtable(m);var b={};var R=(I.constructors&&I.constructors.ResourceModel)||sap.ui.model.resource.ResourceModel;var c;this.getTextNotHtmlEncoded=function(l,p){var t;var i;var k;if(typeof l==="string"){i=l;}else{m.check((l!==undefined&&l.kind!==undefined&&l.kind==="text"&&l.key!==undefined),"Error - oLabel is not compatible");i=l.key;}k=JSON.stringify({textKey:i,parameters:p});if(H.hasItem(k)){return H.getItem(k);}t=d(i,p);H.setItem(k,t);return t;};this.getTextHtmlEncoded=function(l,p){return e(this.getTextNotHtmlEncoded(l,p));};this.getMessageText=function(s,p){return g(s,p,false);};this.loadTextElements=function(t){var i,l;l=t.length;for(i=0;i<l;i++){o.setItem(t[i].TextElement,t[i].TextElementDescription);}};this.registerTextWithKey=function(k,t){b[k]=t;};this.loadResourceModelAsPromise=function(A,s,i){var j=q.Deferred();c=new R({bundleUrl:A,async:true});if(s!==undefined&&s!==""){c.enhance({bundleUrl:s,async:true}).then(function(){if(i!==undefined&&i!==""){c.enhance({bundleUrl:i,async:true}).then(function(){c.getResourceBundle().then(function(k){r=k;j.resolve();});});}else{c.getResourceBundle().then(function(k){r=k;j.resolve();});}});}else if(i!==undefined&&i!==""){c.enhance({bundleUrl:i,async:true}).then(function(){c.getResourceBundle().then(function(k){r=k;j.resolve();});});}else{c.getResourceBundle().then(function(k){r=k;j.resolve();});}return j.promise();};function g(k,p,C){if(p&&p.length===0){return r.getText(k,undefined,C);}return r.getText(k,p,C);}function d(k,p){var t;if(k===sap.apf.core.constants.textKeyForInitialText){return"";}else if(b[k]){if(p&&p.length>0){return f(b[k],p);}return b[k];}else if(o.hasItem(k)){t=g(k,p,true);if(typeof t!=="string"||t===k){return o.getItem(k);}return t;}else if(a.hasItem(k)){return a.getItem(k);}t=g(k,p,true);if(typeof t==="string"){return t;}m.putMessage(m.createMessageObject({code:"3001",aParameters:[k],oCallingObject:this}));var i="# text not available: "+k;a.setItem(k,i);return i;}};
});
sap.ui.predefine('sap/apf/core/utils/checkForTimeout',["sap/apf/core/messageObject"],function(M){'use strict';var c=function(s){var a;var m;var r=false;if(s&&s.headers&&s.headers['x-sap-login-page']){r=true;}if(s&&s.getResponseHeader&&s.getResponseHeader('x-sap-login-page')!==null){r=true;}if(s&&s.status){a=s.status;}if(s&&s.response&&s.response.statusCode){a=s.response.statusCode;}if(a===303||a===401||a===403||r){m=new M({code:"5021"});}return m;};return c;},true);
sap.ui.predefine('sap/apf/core/utils/fileExists',["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils"],function(c,O){'use strict';var F=function(i){var f={};var a=i&&i.functions&&i.functions.ajax;var s=i&&i.functions&&i.functions.getSapSystem&&i.functions.getSapSystem();this.check=function(u,b){if(s&&!b){u=O.setOrigin(u,{force:true,alias:s});}if(f[u]!==undefined){return f[u];}var d=false;var e={url:u,type:"HEAD",success:function(D,S,j){var m=c(j);if(m===undefined){d=true;}else{d=false;}},error:function(){d=false;},async:false};if(a){a(e);}else{jQuery.ajax(e);}f[u]=d;return d;};};sap.apf.core.utils.FileExists=F;return F;},true);
sap.ui.predefine('sap/apf/core/utils/filter',["sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/ui/model/Filter","sap/apf/utils/utils"],function(F,c,U,u){'use strict';var a="%20and%20";var b="%20or%20";var d=function(m,e,f,g,h){this.type="internalFilter";this.messageHandler=m;if(e&&(e instanceof F||e instanceof d)){this.leftExpr=e;}else if(e!==undefined&&f!==undefined&&g!==undefined){this.leftExpr=new F(m,e,f,g,h);}else if(e!==undefined||f!==undefined||g!==undefined){m.check(false,"wrong arguments in construction of sap.apf.core.utils.Filter");}this.restExpr=[];};
d.prototype.getProperties=function(){var i;var p=[];var P=[];var e="";if(this.leftExpr===undefined){return p;}if(this.leftExpr instanceof F){e=this.leftExpr.getProperty();p.push(e);}else if(this.leftExpr instanceof d){p=this.leftExpr.getProperties();}for(i=0;i<this.restExpr.length;i++){if(this.restExpr[i]instanceof F){p.push(this.restExpr[i].getProperty());}else{P=this.restExpr[i].getProperties();p=p.concat(P);}}return u.eliminateDuplicatesInArray(this.messageHandler,p);};
d.prototype.copy=function(){var f;var i;if(this.leftExpr===undefined){return new d(this.messageHandler);}f=new d(this.messageHandler,this.leftExpr);if(this.levelOperator===undefined){return f;}for(i=0;i<this.restExpr.length;i++){if(this.levelOperator===c.BooleFilterOperators.AND){f.addAnd(this.restExpr[i].copy());}else{f.addOr(this.restExpr[i].copy());}}return f;};
d.prototype.isEmpty=function(){if(this.leftExpr===undefined){return true;}if(this.leftExpr instanceof F){return false;}if(!this.leftExpr.isEmpty()){return false;}if(this.restExpr.length===0){return true;}var i;for(i=0;i<this.restExpr.length;++i){if(!this.restExpr[i].isEmpty()){return false;}}return true;};
d.prototype.isOr=function(){if(this.levelOperator===c.BooleFilterOperators.OR){return true;}else if(this.levelOperator===c.BooleFilterOperators.AND){return false;}if(this.leftExpr){if(this.leftExpr instanceof d){return this.leftExpr.isOr();}}return false;};
d.prototype.isEqual=function(f){if(this===f){return true;}if(f===undefined){return false;}return this.getHash()===f.getHash();};
d.prototype.getHash=function(l){var n=l||1;var e=0;if(this.restExpr.length===0){e=n;}else{e=n+1;}if(this.leftExpr===undefined){return 0;}var h=this.leftExpr.getHash(e);var i;if(this.levelOperator===undefined){return h;}if(this.levelOperator===c.BooleFilterOperators.AND){h=h+Math.pow(2,n);}else if(this.levelOperator===c.BooleFilterOperators.OR){h=h+Math.pow(3,n);}for(i=0;i<this.restExpr.length;i++){h=h+this.restExpr[i].getHash(e);}return h;};
d.prototype.getFilterTermsForProperty=function(p){var t=[];var i;if(this.leftExpr===undefined){return t;}if(this.leftExpr instanceof d){t=this.leftExpr.getFilterTermsForProperty(p);}else if(p===this.leftExpr.getProperty()){t.push(this.leftExpr);}for(i=0;i<this.restExpr.length;i++){if(this.restExpr[i]instanceof F){if(p===this.restExpr[i].getProperty()){t.push(this.restExpr[i]);}}else{t=t.concat(this.restExpr[i].getFilterTermsForProperty(p));}}return t;};
d.prototype.getFilterTerms=function(){var t=[];var i;if(this.leftExpr===undefined){return t;}if(this.leftExpr instanceof d){t=this.leftExpr.getFilterTerms();}else{t.push(this.leftExpr);}for(i=0;i<this.restExpr.length;i++){if(this.restExpr[i]instanceof F){t.push(this.restExpr[i]);}else{t=t.concat(this.restExpr[i].getFilterTerms());}}return t;};
d.prototype.isConsistentWithFilter=function(p,v){var i;var e=false;if(this.leftExpr===undefined){return true;}if(this.levelOperator===undefined){return this.leftExpr.isConsistentWithFilter(p,v);}if(this.levelOperator===c.BooleFilterOperators.AND){if(!this.leftExpr.isConsistentWithFilter(p,v)){return false;}for(i=0;i<this.restExpr.length;i++){if(!this.restExpr[i].isConsistentWithFilter(p,v)){return false;}}return true;}if(this.levelOperator===c.BooleFilterOperators.OR){if(f(this.leftExpr,p)){e=true;if(this.leftExpr.isConsistentWithFilter(p,v)){return true;}}for(i=0;i<this.restExpr.length;i++){if(f(this.restExpr[i],p)){e=true;if(this.restExpr[i].isConsistentWithFilter(p,v)){return true;}}}return!e;}function f(g,p){if(g instanceof F){return g.getProperty()===p;}return g.getProperties().indexOf(p)>=0;}};
d.prototype.removeTermsByProperty=function(p){var f=this.internalRemoveTermsByProperty(p);if(f===undefined){return new d(this.messageHandler);}return f;};
d.prototype.internalRemoveTermsByProperty=function(p){var i,r,R;if(this.leftExpr===undefined){return this.copy();}r=this.leftExpr.internalRemoveTermsByProperty(p);if(r instanceof F){r=new d(this.messageHandler,r.getProperty(),r.getOp(),r.getValue(),r.getHighValue());}if(this.levelOperator===undefined){return r;}for(i=0;i<this.restExpr.length;i++){R=this.restExpr[i].internalRemoveTermsByProperty(p);if(r===undefined){if(R instanceof F){r=new d(this.messageHandler,R);}else{r=R;}}else if(R!==undefined){if(this.levelOperator===c.BooleFilterOperators.AND){r.addAnd(R);}else{r.addOr(R);}}}if(r){return new d(this.messageHandler,r);}};
d.prototype.removeTerms=function(p,o,v){var i;if(this.leftExpr===undefined){return this.copy();}var f=this.leftExpr.removeTerms(p,o,v);var e;if(f instanceof F){f=new d(this.messageHandler,f.getProperty(),f.getOp(),f.getValue(),f.getHighValue());}if(this.levelOperator===undefined){return f;}for(i=0;i<this.restExpr.length;i++){e=this.restExpr[i].removeTerms(p,o,v);if(f===undefined){if(e instanceof F){f=new d(this.messageHandler,e);}else{f=e;}}else if(e!==undefined){if(this.levelOperator===c.BooleFilterOperators.AND){f.addAnd(e);}else{f.addOr(e);}}}return f;};
d.prototype.addOr=function(e,f,g,h){var o;if(e instanceof d||e instanceof F){o=e;}else if(e!==undefined&&f!==undefined&&g!==undefined){o=new F(this.messageHandler,e,f,g,h);}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addOr: wrong arguments in construction of  Filter");}if(this.leftExpr===undefined){this.leftExpr=o;return this;}if(this.levelOperator===undefined){this.levelOperator=c.BooleFilterOperators.OR;}this.restExpr.push(o);this.messageHandler.check(this.levelOperator===c.BooleFilterOperators.OR,"sap.apf.core.utils.Filter - addOr wrong operation");return this;};
d.prototype.addAnd=function(e,f,g,h){var o;if(e instanceof d||e instanceof F){o=e;}else if(e!==undefined&&f!==undefined&&g!==undefined){o=new F(this.messageHandler,e,f,g,h);}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addAnd: wrong arguments in construction of  Filter");}if(this.leftExpr===undefined){this.leftExpr=o;return this;}if(this.levelOperator===undefined){this.levelOperator=c.BooleFilterOperators.AND;}this.messageHandler.check(this.levelOperator===c.BooleFilterOperators.AND,"sap.apf.core.utils.Filter - addAnd wrong operation");this.restExpr.push(o);return this;};
d.prototype.toUrlParam=function(e){var E="";if(this.leftExpr===undefined){return"";}E=this.leftExpr.toUrlParam(e);var i=0;var l=this.restExpr.length;var C="";if(l===0){return E;}if(this.levelOperator===c.BooleFilterOperators.AND){C=a;}else{C=b;}var r="";for(i=0;i<l;i++){r=this.restExpr[i].toUrlParam(e);if(E===""){E=r;}else if(r!==""){E=E+C+r;}}if(E===""){return"";}return'('+E+')';};
d.prototype.mapToSapUI5FilterExpression=function(){var i,e,f=[];if(this.leftExpr===undefined){return new U({filters:[],and:undefined});}if(this.restExpr.length===0){return this.leftExpr.mapToSapUI5FilterExpression();}if(!(this.leftExpr.type==="internalFilter"&&this.leftExpr.isEmpty())){f.push(this.leftExpr.mapToSapUI5FilterExpression());}for(i=0;i<this.restExpr.length;i++){if(!(this.restExpr[i].type==="internalFilter"&&this.restExpr[i].isEmpty())){f.push(this.restExpr[i].mapToSapUI5FilterExpression());}}e={aFilters:f,bAnd:this.levelOperator===c.BooleFilterOperators.AND};var r=new U({filters:e.aFilters,and:e.bAnd});r.bAnd=e.bAnd;return r;};
d.prototype.overwriteWith=function(f){var p=f.getProperties();var r;if(p.length!==0){r=this.removeTermsByProperty(p);if(r===undefined){return f.copy();}r.addAnd(f);return r;}return this.copy();};
d.prototype.restrictToProperties=function(p){var f=s(this.getProperties(),p);return this.copy().removeTermsByProperty(f)||new d(this.messageHandler);function s(S,e){var i;var r=[];var h={};var l=S?S.length:0;var g=e?e.length:0;for(i=0;i<g;i++){h[e[i]]=undefined;}for(i=0;i<l;i++){if(!(S[i]in h)){r.push(S[i]);}}return r;}};
d.prototype.isFilterTerm=function(){if(this.restExpr.length>0){return false;}if(!this.leftExpr){return false;}if(this.leftExpr instanceof F){return true;}return this.leftExpr.isFilterTerm();};
d.prototype.getSingleValueTerms=function(){var s=[];var t=this;var p=this.getProperties();p.forEach(function(e){var f=t.getFilterTermsForProperty(e);if(f.length===1&&f[0].getOp()===c.FilterOperators.EQ){s.push({'property':f[0].getProperty(),'value':f[0].getValue()});}});return s;};
d.prototype.traverse=function(v){if(!this.leftExpr){return v.processEmptyFilter();}if(this.leftExpr&&this.restExpr.length===0){if(this.leftExpr instanceof F){return v.processTerm(this.leftExpr);}return this.leftExpr.traverse(v);}if(this.levelOperator===c.BooleFilterOperators.AND){return v.processAnd(this.leftExpr,this.restExpr,this);}if(this.levelOperator===c.BooleFilterOperators.OR){return v.processOr(this.leftExpr,this.restExpr,this);}this.messageHandler.check(false,'undefined case in traverse()');return false;};
d.prototype.isDisjunctionOverEqualities=function(){var i=true;if(this.levelOperator===c.BooleFilterOperators.AND){return false;}if(this.getProperties().length>1){return false;}if(this.leftExpr instanceof d){if(this.leftExpr.getFilterTerms().length>1&&!this.leftExpr.isOr()){return false;}}this.getFilterTerms().forEach(function(f){if(f.getOp()!==c.FilterOperators.EQ){i=false;}});this.restExpr.forEach(function(r){if(r instanceof d){if(r.getFilterTerms().length>1){i=false;}}});return i;};
d.prototype.mapToSelectOptions=function(g){var e=jQuery.Deferred();var p;var t=this;g(f);function f(h){p=h;var v=new V();v.process(t);e.resolve(v.getSelectionVariant());}function V(){var s={};s.SelectOptions=[];s.Parameters=[];function h(k){var l;s.SelectOptions.forEach(function(m){if(m.PropertyName===k){l=m;}});if(!l){l={PropertyName:k,Ranges:[]};s.SelectOptions.push(l);}return l.Ranges;}function i(k){var o,v;var r=h(k.getProperty());if(k.getHighValue()!==undefined&&k.getHighValue()!==null){r.push({Sign:'I',Option:k.getOp(),Low:k.getValue(),High:k.getHighValue()});}else{o=k.getOp();v=k.getValue();if(o==='StartsWith'){o='CP';v=v+'*';}else if(o==='EndsWith'){o='CP';v='*'+v;}else if(o==='Contains'){o='CP';v='*'+v+'*';}r.push({Sign:'I',Option:o,Low:v});}}function j(k){s.Parameters.push({PropertyName:k.getProperty(),PropertyValue:k.getValue()});}this.getSelectionVariant=function(){if(s.SelectOptions.length>0||s.Parameters.length>0){return s;}return{};};this.processEmptyFilter=function(){return;};this.processTerm=function(k){if(jQuery.inArray(k.getProperty(),p)===-1){i(k);}else{j(k);}};this.processAnd=function(k,l){this.process(k);l.forEach(function(m){this.process(m);}.bind(this));};this.processOr=function(k,l){this.process(k);l.forEach(function(m){this.process(m);}.bind(this));};this.process=function(k){k.traverse(this);};}return e.promise();};
d.createFromArray=function(m,p,D,I){var l=p.length;var i;var n;var j;var f;var o;var e;m.check(p instanceof Array&&p.length>0,"sap.apf.core.utils.Filter.createFromArray incorrect argument aProperties");m.check(D instanceof Array,"sap.apf.core.utils.Filter.createFromArray incorrect argument aData");if(I.length>0){for(i=0;i<I.length;++i){o=undefined;n=I[i];if(!D[n]){continue;}for(j=0;j<l;j++){e=new d(m,p[j],c.FilterOperators.EQ,D[n][p[j]]);if(o===undefined){o=new d(m,e);}else{o.addAnd(e);}}if(f===undefined){f=new d(m,o);}else{f.addOr(o);}}return f;}return new d(m);};
d.createEmptyFilter=function(m,p){m.check(jQuery.isArray(p)&&p.length>0,"sap.apf.core.utils.Filter.createEmptyFilter - array with property names expected");return new d(m,p[0],c.FilterOperators.EQ,'').addAnd(p[0],c.FilterOperators.NE,'');};
d.transformUI5FilterToInternal=function(m,o){return t(o,o.bAnd);function t(o,A){var r=new d(m);var s;if(o.aFilters){o.aFilters.forEach(function(f){if(f.aFilters){s=t(f,f.bAnd);if(A){r.addAnd(s);}else{r.addOr(s);}}else if(f.sPath){if(A){r.addAnd(f.sPath,f.sOperator,f.oValue1,f.oValue2);}else{r.addOr(f.sPath,f.sOperator,f.oValue1,f.oValue2);}}});}else{r=new d(m,o.sPath,o.sOperator,o.oValue1,o.oValue2);}return r;}};
sap.apf.core.utils.Filter=d;return d;},true);
sap.ui.predefine('sap/apf/core/utils/uriGenerator',["sap/apf/core/messageObject","sap/base/security/encodeURL"],function(M,E){'use strict';var u={};
u.getAbsolutePath=function(p){if(p.slice(-1)==='/'){return p;}return p+"/";};
u.getODataPath=function(p){var s=p.split('/');var i;var S=[];for(i=0;i<s.length;i++){if(s[i]!==""){S.push(s[i]);}}var r='';var l=S.length-1;for(i=0;i<l;i++){r=r+'/'+S[i];}return r+'/';};
u.addRelativeToAbsoluteURL=function(a,r){var b=a.split('/');var c=r.split('/');c.forEach(function(p){if(p==='..'){b.pop();}else if(p!='.'){b.push(p);}});return b.join('/');};
u.getBaseURLOfComponent=function(c){var b=c.split('.');b.pop();var a=b.join('.');return jQuery.sap.getModulePath(a);};
u.getApfLocation=function(){return jQuery.sap.getModulePath("sap.apf")+'/';};
u.generateOdataPath=function(m,a,e,f,n){var p=d(a,f);var r=e;var b=false;var c;for(c in p){if(!b){r+='(';b=true;}else{r+=',';}r+=c.toString()+'='+p[c];}if(b){r+=')/';}r+=n||'';return r;function d(){var r={};var g;var h;var t;var i;var j;g=a.getParameterEntitySetKeyProperties(e);if(g!==undefined){h=g.length;}else{h=0;}if(h>0){for(i=0;i<h;i++){if(f&&f instanceof sap.apf.core.utils.Filter){t=f.getFilterTermsForProperty(g[i].name);j=t[t.length-1];}if(j instanceof sap.apf.core.utils.FilterTerm){k(i,j.getValue());}else if(g[i].defaultValue){k(i,g[i].defaultValue);}else if(g[i].parameter!=='optional'){m.putMessage(m.createMessageObject({code:'5016',aParameters:[g[i].name]}));}}}return r;function k(l,v){var o;if(g[l].dataType.type==='Edm.String'){o=sap.apf.utils.formatValue(v,g[l]);r[g[l].name]=(E(o));}else if(g[l].dataType.type){o=sap.apf.utils.formatValue(v,g[l]);if(typeof o==='string'){r[g[l].name]=E(o);}else{r[g[l].name]=o;}}else if(typeof v==='string'){r[g[l].name]=E(sap.apf.utils.escapeOdata(v));}else{r[g[l].name]=v;}}}};
u.getSelectString=function(s){var r="";s.forEach(function(a,i){r+=E(sap.apf.utils.escapeOdata(a));if(i<s.length-1){r+=",";}});return r;};
u.buildUri=function(m,e,s,f,F,a,p,b,c,n,o){var r="";r+=u.generateOdataPath(m,o,e,F,n);r=r+"?";r+=d(s);r+=g(f,c);r+=h(a,s);r+=j(p);r+=k(b);return r;function d(s){if(!s[0]){return'';}var R="$select=";R+=u.getSelectString(s);return R;}function g(F,c){if(!(F&&F instanceof sap.apf.core.utils.Filter)||F.isEmpty()){return'';}var i=F.toUrlParam({formatValue:c});if(i===""||i==='()'){return'';}return'&$filter='+i;}function h(a,s){var O='';var S='';var i;if(!a){return'';}switch(true){case jQuery.isArray(a):for(i=0;i<a.length;i++){S=l(a[i],s);if(O.length>0&&S.length>0){O+=',';}O+=S;}break;case jQuery.isPlainObject(a):O+=l(a,s);break;case typeof a==='string':O+=l({property:a},s);break;}if(O.length>0){return"&$orderby="+O;}return'';function l(q,s){var v='';if(jQuery.inArray(q.property,s)>-1){v+=q.property;if(q.ascending===false){v+=' desc';}else{v+=' asc';}}else{m.putMessage(m.createMessageObject({code:'5019',aParameters:[e,q.property]}));}return E(v);}}function j(p){function l(p){var P,i;P=Object.getOwnPropertyNames(p);for(i=0;i<P.length;i++){if(P[i]!=='top'&&P[i]!=='skip'&&P[i]!=='inlineCount'){m.putMessage(m.createMessageObject({code:'5032',aParameters:[e,P[i]]}));}}}var r='';if(!p){return r;}l(p);if(p.top){r+='&$top='+p.top;}if(p.skip){r+='&$skip='+p.skip;}if(p.inlineCount===true){r+='&$inlinecount=allpages';}return r;}function k(b){if(!b){b='json';}return'&$format='+b;}};
return u;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/cornerTexts',["sap/apf/modeler/ui/utils/textPoolHelper"],function(t){"use strict";var v,T,p,c;
function _(C){C.byId("idThumbnailTexts").setText(T("cornerTextLabel"));C.byId("idLeftUpper").setPlaceholder(T("leftTop"));C.byId("idRightUpper").setPlaceholder(T("rightTop"));C.byId("idLeftLower").setPlaceholder(T("leftBottom"));C.byId("idRightLower").setPlaceholder(T("rightBottom"));}
function a(C){var m=C.byId("idLeftUpper").getCustomData()[1].getValue();var s=C.getLeftUpperCornerText(m,p,v.oParentStep);C.byId("idLeftUpper").setValue(s);}
function b(C){var m=C.byId("idRightUpper").getCustomData()[1].getValue();var s=C.getRightUpperCornerText(m,p,v.oParentStep);C.byId("idRightUpper").setValue(s);}
function d(C){var m=C.byId("idLeftLower").getCustomData()[1].getValue();var s=C.getLeftLowerCornerText(m,p,v.oParentStep);C.byId("idLeftLower").setValue(s);}
function e(C){var m=C.byId("idRightLower").getCustomData()[1].getValue();var s=C.getRightLowerCornerText(m,p,v.oParentStep);C.byId("idRightLower").setValue(s);}
var f=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.cornerTexts",{
oTextPool:{},
onInit:function(){var C=this;v=C.getView().getViewData();c=v.oConfigurationEditor;T=v.oTextReader;p=v.oParentObject;C.oTextPool=v.oTextPool;_(C);C.setDetailData();},
setDetailData:function(){var C=this;a(C);b(C);d(C);e(C);C.setChartIcon();C.addStyleClasses();},
updateSubViewInstancesOnReset:function(E){var C=this;C.oConfigurationEditor=E.getParameter("oConfigurationEditor");C.oParentObject=E.getParameter("oParentObject");C.setDetailData();},
handleChangeForCornerText:function(E){var C=this;var m=E.getSource().getCustomData()[0].getValue();C.oTextPool.setTextAsPromise(E.getSource().getValue().trim(),C.getTranslationFormatMap()).done(function(s){p[m](s);c.setIsUnsaved();});},
handleSuggestions:function(E){var C=this;var s=new sap.apf.modeler.ui.utils.SuggestionTextHandler(C.oTextPool);s.manageSuggestionTexts(E,C.getTranslationFormatMap());},
setChartIcon:function(){},
addStyleClasses:function(){},
getTranslationFormatMap:function(){},
getLeftUpperCornerText:function(m){},
getRightUpperCornerText:function(m){},
getLeftLowerCornerText:function(m){},
getRightLowerCornerText:function(m){}
});
return f;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/facetFilter.controller',["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/textManipulator"],function(t,n,o,v,a){"use strict";var p,T,c,C,b,f,d;var n=sap.apf.modeler.ui.utils.nullObjectChecker;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var a=sap.apf.modeler.ui.utils.textManipulator;var e=sap.apf.modeler.ui.utils.TranslationFormatMap.FACETFILTER_LABEL;
function _(i){i.byId("idFacetFilterBasicData").setText(T("basicData"));i.byId("idFFLabel").setText(T("ffLabel"));i.byId("idLabel").setPlaceholder(T("newFacetFilter"));i.byId("idFFPropertyLabel").setText(T("ffProperty"));i.byId("idDoNotShowAtRuntimeLabel").setText(T("doNotShowAtRuntime"));i.byId("idSelectionModeLabel").setText(T("ffSelectionMode"));i.byId("idValueHelpLabel").setText(T("valueHelpMode"));i.byId("idVHNone").setText(T("none"));i.byId("idValueHelpRequest").setText(T("valueHelpRequest"));i.byId("idConfigListOfValues").setText(T("configListOfValues"));i.byId("idConfigListOfValuesLabel").setText(T("configListOfValuesLabel"));i.byId("idSingleSelectionMode").setText(T("singleSelection"));i.byId("idMultiSelectionMode").setText(T("multipleSelection"));i.byId("idDefaultValuesTitle").setText(T("vhDefaultValues"));i.byId("idPreselectionModeLabel").setText(T("vhDefaultValueMode"));i.byId("idNoneSelection").setText(T("none"));i.byId("idAutomaticSelection").setText(T("automaticValue"));i.byId("idFixedValue").setText(T("fixedValues"));i.byId("idFunction").setText(T("function"));i.byId("idPreselectionDefaultsLabel").setText(T("vhDefaultValues"));i.byId("idPreselectionFunctionLabel").setText(T("function"));i.byId("idValueHelpTitle").setText(T("valueHelp"));i.byId("idFilterResolutionTitle").setText(T("contextResolution"));i.byId("idUseVHRAsFRRCheckBoxLabel").setText(T("vhCheckBoxLabel"));i.byId("idAriaPropertyForSelection").setText(T("ffSelectionMode"));i.byId("idAriaPropertyForDefaultMode").setText(T("vhDefaultValueMode"));i.byId("idAriaPropertyForVHR").setText(T("valueHelpMode"));}
function g(i,J){var K=f.isVisible()?"sap-icon://filter":"sap-icon://hide";var L={id:f.getId(),icon:K};if(J){delete L.icon;L.name=J;}i.getView().getViewData().updateSelectedNode(L);}
function h(i,J){var K=T("facetFilter")+": "+J;i.getView().getViewData().updateTitleAndBreadCrumb(K);}
function j(i){var J;if(p&&p.arguments&&p.arguments.facetFilterId){f=C.getFacetFilter(p.arguments.facetFilterId);}if(!n.checkIsNotUndefined(f)){J=C.createFacetFilter();f=C.getFacetFilter(J);g(i);}}
function k(i){var J,K,V,L;var M={oTextReader:T,oConfigurationHandler:c,oConfigurationEditor:C,oParentObject:f,getCalatogServiceUri:i.getView().getViewData().getCalatogServiceUri,oCoreApi:i.getView().getViewData().oCoreApi};J=new sap.ui.controller("sap.apf.modeler.ui.controller.facetFilterVHR");V=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:i.createId("idVHRView"),viewData:M,controller:J});K=new sap.ui.controller("sap.apf.modeler.ui.controller.facetFilterFRR");L=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:i.createId("idFRRView"),viewData:M,controller:K});V.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES,i.setFFProperty.bind(i));L.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES,i.setFFProperty.bind(i));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR,L.getController().handleCopy.bind(L.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS,L.getController().enableOrDisableView.bind(L.getController()));V.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR,L.getController().handleCopy.bind(L.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,V.getController().updateSubViewInstancesOnReset.bind(V.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,L.getController().updateSubViewInstancesOnReset.bind(L.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME,V.getController().clearVHRFields.bind(V.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.CLEARVHRFIELDSIFVALUELIST,V.getController().clearVHRFields.bind(V.getController()));i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME,L.getController().clearFRRFields.bind(L.getController()));V.addStyleClass("formTopPadding");V.addStyleClass("formBottomPadding");L.addStyleClass("formTopPadding");}
function l(i,V){i.byId("idSelectionMode").setVisible(V);i.byId("idSelectionModeLabel").setVisible(V);i.byId("idSelectionModeRadioGroup").setSelectedButton(i.byId("idMultiSelectionMode"));i.byId("idValueHelp").setVisible(V);i.byId("idValueHelpLabel").setVisible(V);i.byId("idValueHelpRadioGroup").setSelectedButton(i.byId("idVHNone"));i.byId("idFFForm1").setVisible(V);if(V){i.byId("idValueHelpTitle").setText(T("valueHelp"));i.byId("idFRRVBox").insertItem(i.byId("idFRRView"));i.byId("idDoNotShowAtRuntimeCheckBox").setSelected(false);}else{i.byId("idValueHelpTitle").setText("");B(i,V);A(i,V);i.byId("idFRRVBox").removeItem(i.byId("idFRRView"));}}
function m(i){if(!f.isVisible()){i.byId("idDoNotShowAtRuntimeCheckBox").setSelected(true);}l(i,f.isVisible());}
function q(i){if(!n.checkIsNotNullOrUndefinedOrBlank(C.getFacetFilter(p.arguments.facetFilterId))){return;}if(n.checkIsNotNullOrUndefinedOrBlank(f.getLabelKey())&&b.get(f.getLabelKey())){i.byId("idLabel").setValue(b.get(f.getLabelKey()).TextElementDescription);}else{i.byId("idLabel").setValue(f.getId());}}
function r(i){if(!n.checkIsNotNullOrUndefinedOrBlank(C.getFacetFilter(p.arguments.facetFilterId))){f.setMultiSelection(true);}if(f.isMultiSelection()){i.byId("idSelectionModeRadioGroup").setSelectedButton(i.byId("idMultiSelectionMode"));}else{i.byId("idSelectionModeRadioGroup").setSelectedButton(i.byId("idSingleSelectionMode"));}}
function s(i){i.byId("idPreselectionFunction").setValue("");if(n.checkIsNotNullOrUndefinedOrBlank(f.getPreselectionFunction())){i.byId("idPreselectionFunction").setValue(f.getPreselectionFunction());}}
function u(i){var J=false,K=false;if(f.getNoneSelection()){i.byId("idPreselectionModeRadioGroup").setSelectedButton(i.byId("idNoneSelection"));}else if(n.checkIsNotNullOrUndefinedOrBlank(f.getPreselectionFunction())){i.byId("idPreselectionModeRadioGroup").setSelectedButton(i.byId("idFunction"));s(i);J=true;}else if(n.checkIsNotNullOrUndefinedOrBlank(f.getPreselectionDefaults())){i.byId("idPreselectionModeRadioGroup").setSelectedButton(i.byId("idFixedValue"));y(i);K=true;}else if(f.getAutomaticSelection()){i.byId("idPreselectionModeRadioGroup").setSelectedButton(i.byId("idAutomaticSelection"));}w(i,J);x(i,K);}
function w(i,V){i.byId("idPreselectionFunctionLabel").setVisible(V);i.byId("idPreselectionFunction").setVisible(V);if(V){d.addField("idPreselectionFunction");}else{i.byId("idPreselectionFunction").setValue("");d.removeField("idPreselectionFunction");}}
function x(i,V){i.byId("idPreselectionDefaultsLabel").setVisible(V);i.byId("idPreselectionDefaults").setVisible(V);if(V){d.addField("idPreselectionDefaults");}else{d.removeField("idPreselectionDefaults");}}
function y(i){i.byId("idPreselectionDefaults").setTokens([]);var J=f.getPreselectionDefaults();if(n.checkIsNotNullOrUndefinedOrBlank(J)){J.forEach(function(K){i.byId("idPreselectionDefaults").addToken(new sap.m.Token({text:K}));});}}
function z(i){i.byId("idConfigListOfValuesMultiInput").setTokens([]);var J=f.getValueList();if(n.checkIsNotNullOrUndefinedOrBlank(J)){J.forEach(function(K){i.byId("idConfigListOfValuesMultiInput").addToken(new sap.m.Token({text:K}));});}}
function A(i,J){i.byId("idConfigListOfValuesLabel").setVisible(J);i.byId("idConfigListOfValuesMultiInput").setVisible(J);if(J){d.addField("idConfigListOfValuesMultiInput");}else{d.removeField("idConfigListOfValuesMultiInput");}}
function B(i,J){i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);F(i,J);if(J){i.byId("idVHRVBox").insertItem(i.byId("idVHRView"));}else{i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.CLEARVHRFIELDSIFVALUELIST);i.byId("idVHRVBox").removeItem(i.byId("idVHRView"));}}
function D(i){if(f.getUseSameRequestForValueHelpAndFilterResolution()){i.byId("idUseVHRAsFRRCheckBox").setSelected(true);i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);}}
function E(i){var J=false,K=false;if(n.checkIsNotNullOrUndefinedOrBlank(f.getServiceOfValueHelp())){J=true;i.byId("idValueHelpRadioGroup").setSelectedButton(i.byId("idValueHelpRequest"));}else if(n.checkIsNotNullOrUndefinedOrBlank(f.getValueList())){z(i);K=true;i.byId("idValueHelpRadioGroup").setSelectedButton(i.byId("idConfigListOfValues"));}else{i.byId("idValueHelpRadioGroup").setSelectedButton(i.byId("idVHNone"));}A(i,K);B(i,J);}
function F(i,J){if(J===false){i.byId("idUseVHRAsFRRCheckBox").setSelected(false);}i.byId("idUseVHRAsFRRCheckBox").setVisible(J);i.byId("idUseVHRAsFRRCheckBoxLabel").setVisible(J);}
function G(i,J){J.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.Warning);J.byId("idPreselectionDefaults").setValueStateText(T(i));J.byId('idPreselectionDefaults').focus();}
function H(i,M){var P=new sap.m.Token({text:i});M.addToken(P);C.setIsUnsaved();}
function I(M,i){if(M.mEventRegistry.tokenChange===undefined){M.attachTokenChange(i);}}
sap.ui.controller("sap.apf.modeler.ui.controller.facetFilter",{onInit:function(){var i=this;var V=i.getView().getViewData();T=V.getText;p=V.oParams;c=V.oConfigurationHandler;b=c.getTextPool();C=V.oConfigurationEditor;if(!C){c.loadConfiguration(p.arguments.configId,function(J){C=J;});}d=new sap.apf.modeler.ui.utils.ViewValidator(i.getView());_(i);j(i);k(i);i.setDetailData();d.addFields(["idFFProperty","idLabel"]);},onAfterRendering:function(){var i=this;if(i.byId("idLabel").getValue().length===0){i.byId("idLabel").focus();}I(i.byId("idConfigListOfValuesMultiInput"),i.handleTokenChangeForConfigListOfValues.bind(i));I(i.byId("idPreselectionDefaults"),i.handleTokenChangeForPreselectionDefaults.bind(i));},setDetailData:function(){var i=this;m(i);i.setFFProperty();q(i);r(i);u(i);E(i);D(i);},updateSubViewInstancesOnReset:function(i){var J=this;C=i;f=C.getFacetFilter(f.getId());J.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{"oConfigurationEditor":C,"oParentObject":f});},validateSelectedValues:function(i,S,J){var V={},K=[],L=[],M=[],N=[],O;V=sap.apf.utils.validateSelectedValues(S,J);K=V.invalid;L=V.valid;M=a.addPrefixText(K,T);N=M.concat(J).length!==0?M.concat(J):J;O=M.concat(L).length!==0?M.concat(L):S;return{aValues:N,aSelectedValues:O};},setFFProperty:function(){var i=this;var J=[],V,K;C.getFilterablePropertiesAndParametersAsPromise().done(function(L){J=L;K=f.getProperty();if(n.checkIsNotNullOrUndefinedOrBlank(K)){V=i.validateSelectedValues(i,[K],J);J=V.aValues;K=V.aSelectedValues[0];}var M=o.convert(J);i.byId("idFFProperty").setModel(M);i.byId("idFFProperty").setSelectedKey(K);});},handleChangeForVisibilityAtRuntime:function(){var i=this,V=true;if(i.byId("idDoNotShowAtRuntimeCheckBox").getSelected()){V=false;f.setInvisible();f.setUseSameRequestForValueHelpAndFilterResolution(false);i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME);f.setValueList([]);z(i);}else{f.setVisible();}f.setMultiSelection(true);C.setIsUnsaved();g(i);l(i,V);},handleChangeForProperty:function(){var i=this;var J=i.byId("idFFProperty").getSelectedKey().trim();J=a.removePrefixText(J,T(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));if(n.checkIsNotNullOrUndefinedOrBlank(J)){f.setProperty(J);}C.setIsUnsaved();},handleChangeForLabel:function(){var i=this;var J=i.byId("idLabel").getValue().trim();if(n.checkIsNotNullOrUndefinedOrBlank(J)){b.setTextAsPromise(J,e).done(function(K){f.setLabelKey(K);g(i,J);h(i,J);C.setIsUnsaved();});}else{C.setIsUnsaved();}},handleSuggestions:function(i){var S=new sap.apf.modeler.ui.utils.SuggestionTextHandler(b);S.manageSuggestionTexts(i,e);},handleChangeForSelectionMode:function(){var i=this,P,J;var S=i.byId("idSelectionModeRadioGroup").getSelectedButton();if(S===i.byId("idSingleSelectionMode")){f.setMultiSelection(false);if(i.byId("idPreselectionDefaultsLabel").getVisible()){P=f.getPreselectionDefaults();if(P&&P.length>1){f.setPreselectionDefaults([P[0]]);J=new sap.m.Token({text:P[0]});i.byId("idPreselectionDefaults").setTokens([J]);G("singleToMultipleSelectionWarningMessage",i);}}}else{i.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);f.setMultiSelection(true);}C.setIsUnsaved();},handleChangeForPreselectionMode:function(){var i=this,J=false,P=false,K=false,N=false;switch(i.byId("idPreselectionModeRadioGroup").getSelectedButton()){case i.byId("idAutomaticSelection"):J=true;break;case i.byId("idFunction"):P=true;f.removePreselectionDefaults();break;case i.byId("idFixedValue"):K=true;f.removePreselectionFunction();break;default:N=true;}f.setAutomaticSelection(J);f.setNoneSelection(N);y(i);s(i);x(i,K);w(i,P);C.setIsUnsaved();},handleChangeForPreselectionDefaults:function(i){var J=this;J.byId("idPreselectionDefaults").setValue("");J.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);if(!f.isMultiSelection()){if(J.byId("idPreselectionDefaults").getTokens().length<1){J.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);H(i.getParameter("value"),J.byId("idPreselectionDefaults"));}else{G("singleSelectionWarningMessage",J);}}else{H(i.getParameter("value"),J.byId("idPreselectionDefaults"));}},handleTokenChangeForPreselectionDefaults:function(J){var K=this;var i,L=[];var M=K.byId("idPreselectionDefaults").getTokens();K.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);if(J.getParameters().type==="removed"||J.getParameters().type==="added"){for(i=0;i<M.length;i++){L[i]=M[i].getText();}if(f.isMultiSelection()){f.setPreselectionDefaults(L);}else{f.setPreselectionDefaults([L[0]]);}if(J.getParameters().type==="removed"){C.setIsUnsaved();}}},handleChangeForPreselectionFunction:function(){var i=this;var P=i.byId("idPreselectionFunction").getValue().trim();f.removePreselectionFunction();if(n.checkIsNotNullOrUndefinedOrBlank(P)){f.setPreselectionFunction(P);}C.setIsUnsaved();},handleChangeForUseVHRAsFRRCheckBox:function(){var i=this;if(i.byId("idUseVHRAsFRRCheckBox").getSelected()){f.setUseSameRequestForValueHelpAndFilterResolution(true);}else{f.setUseSameRequestForValueHelpAndFilterResolution(false);}i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR);C.setIsUnsaved();},handleChangeForValueHelpOption:function(){var i=this,V=false,J=false;switch(i.byId("idValueHelpRadioGroup").getSelectedButton()){case i.byId("idValueHelpRequest"):V=true;f.setValueList([]);break;case i.byId("idConfigListOfValues"):J=true;f.setAlias(undefined);break;default:f.setAlias(undefined);f.setValueList([]);}if(f.getUseSameRequestForValueHelpAndFilterResolution()===true){f.setUseSameRequestForValueHelpAndFilterResolution(false);i.byId("idUseVHRAsFRRCheckBox").setSelected(false);}z(i);A(i,J);B(i,V);C.setIsUnsaved();},handleChangeForConfigListOfValues:function(i){var J=this;J.byId("idConfigListOfValuesMultiInput").setValue("");H(i.getParameter("value"),J.byId("idConfigListOfValuesMultiInput"));},handleTokenChangeForConfigListOfValues:function(J){var K=this;var i,L=[];var M=K.byId("idConfigListOfValuesMultiInput").getTokens();if(J.getParameters().type==="removed"||J.getParameters().type==="added"){for(i=0;i<M.length;i++){L[i]=M[i].getText();}f.setValueList(L);if(J.getParameters().type==="removed"){C.setIsUnsaved();}}},getValidationState:function(){var i=this;return d.getValidationState()&&i.byId("idVHRView").getController().getValidationState()&&i.byId("idFRRView").getController().getValidationState();},onExit:function(){var i=this;i.byId("idVHRView").destroy();i.byId("idFRRView").destroy();}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/facetFilterVHR.controller',["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder"],function(r,n,o){"use strict";var n=sap.apf.modeler.ui.utils.nullObjectChecker;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var t=sap.apf.modeler.ui.utils.textManipulator;
var f=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.facetFilterVHR",{
setDisplayText:function(){var c=this;var T=c.getView().getViewData().oTextReader;c.byId("idSourceLabel").setText(T("vhSource"));c.byId("idEntityLabel").setText(T("vhEntity"));c.byId("idSelectPropertiesLabel").setText(T("vhSelectProperties"));c.byId("idOptionalRequestFieldLabel").setText(T("ffAlias"));},
clearVHRFields:function(e){var c=this;c.clearSource();c.addOrRemoveMandatoryFieldsAndRequiredFlag(false,e);c.setDetailData();},
onBeforeRendering:function(){var c=this;var s=new sap.ui.layout.GridData({span:"L6 M6 S6"});c.byId("idOptionalRequestField").setLayoutData(s);c.byId("idOptionalRequestFieldLabel").setVisible(true);c.byId("idOptionalRequestField").setVisible(true);c.byId("idOptionalRequestField").setForceSelection(false);},
onAfterRendering:function(){var c=this;c.addOrRemoveMandatoryFieldsAndRequiredFlag(true);},
fireRelevantEvents:function(e){var c=this,a;var T=c.getView().getViewData().oTextReader;if(e.getSource()===c.byId("idSource")){c.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES);}if(e.getSource()!==c.byId("idOptionalRequestField")){a=[t.removePrefixText(c.byId("idOptionalRequestField").getSelectedKey(),T(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE))];c.updateOptionalRequestFieldProperty(a);}if(c.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()){c.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR);}},
setOptionalRequestFieldProperty:function(){var c=this;var a=[],v,F;a=c.byId("idSelectProperties").getSelectedKeys();F=c.oParentObject.getAlias();if(n.checkIsNotNullOrUndefinedOrBlank(F)){v=c.validateSelectedValues(c,[F],a);F=v.aSelectedValues[0];}var m=o.convert(a);c.byId("idOptionalRequestField").setModel(m);c.byId("idOptionalRequestField").setSelectedKey(F);},
updateOptionalRequestFieldProperty:function(s){var c=this;c.oParentObject.setAlias(undefined);if(n.checkIsNotNullOrUndefinedOrBlank(s[0])){c.oParentObject.setAlias(s[0]);}},
removeOptionalRequestFieldProperty:function(p){var c=this;if(n.checkIsNotNullOrUndefinedOrBlank(p[0])){c.oParentObject.setAlias(undefined);}},
addOrRemoveMandatoryFieldsAndRequiredFlag:function(R,e){var c=this;if(R===false&&e===undefined){return;}c.byId("idSourceLabel").setRequired(R);c.byId("idEntityLabel").setRequired(R);c.byId("idSelectPropertiesLabel").setRequired(R);if(R){c.viewValidator.addFields(["idSource","idEntity","idSelectProperties"]);}else{c.viewValidator.removeFields(["idSource","idEntity","idSelectProperties"]);}},
getSource:function(){var c=this;return c.oParentObject.getServiceOfValueHelp();},
getAllEntitiesAsPromise:function(s){var c=this;return c.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(s);},
getEntity:function(){var c=this;return c.oParentObject.getEntitySetOfValueHelp();},
getAllEntitySetPropertiesAsPromise:function(s,e){var c=this;return c.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(s,e);},
clearSource:function(){var c=this;c.oParentObject.setServiceOfValueHelp(undefined);c.clearEntity();},
clearEntity:function(){var c=this;c.oParentObject.setEntitySetOfValueHelp(undefined);c.clearSelectProperties();},
clearSelectProperties:function(){var c=this;var O=c.oParentObject.getSelectPropertiesOfValueHelp();O.forEach(function(p){c.oParentObject.removeSelectPropertyOfValueHelp(p);});c.clearOptionalRequestFieldProperty();},
removeSelectProperties:function(p){var c=this;p.forEach(function(a){c.oParentObject.removeSelectPropertyOfValueHelp(a);});},
clearOptionalRequestFieldProperty:function(){var c=this;c.oParentObject.setAlias(undefined);},
updateSource:function(s){var c=this;c.oParentObject.setServiceOfValueHelp(s);},
updateEntity:function(e){var c=this;c.oParentObject.setEntitySetOfValueHelp(e);},
updateSelectProperties:function(s){var c=this;c.removeSelectProperties(c.oParentObject.getSelectPropertiesOfValueHelp());s.forEach(function(p){c.oParentObject.addSelectPropertyOfValueHelp(p);});},
getSelectProperties:function(){var c=this;return c.oParentObject.getSelectPropertiesOfValueHelp();},
getOptionalRequestFieldProperty:function(){var c=this;return[c.oParentObject.getAlias()];},
getValidationState:function(){var c=this;return c.viewValidator.getValidationState();}
});
return f;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/importFiles.controller',["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker"],function(B,n){"use strict";var c,p,a,o,b;
function _(C){var t=c.getText;C.byId("idImportFilesDialog").setTitle(t("importConfig"));C.byId("idJsonFileLabel").setText(t("jsonFile"));C.byId("idJsonFileUploader").setPlaceholder(t("jsonFileInputPlaceHolder"));C.byId("idTextFileLabel").setText(t("textFile"));C.byId("idTextFileUploader").setPlaceholder(t("textFileInputPlaceHolder"));C.byId("idUploadOfConfig").setText(t("upload"));C.byId("idCancelImportOfConfig").setText(t("cancel"));}
function d(C,h,i,j){var k=new sap.ui.core.CustomData({value:{callbackOverwrite:h,callbackCreateNew:i}});o=sap.ui.xmlfragment("idOverwriteConfirmationFragment","sap.apf.modeler.ui.fragment.overwriteConfirmation",C);C.getView().addDependent(o);C.setOverwriteConfirmationDialogText(c.getText);o.removeAllCustomData();o.addCustomData(k);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(j);o.open();}
function e(m){var M=c.createMessageObject({code:m});c.putMessage(M);}
function f(h,m,i){var C=this;var t=C.byId("idTextFileUploader");if(!n.checkIsNotUndefined(i)){p.fireEvent("updateAppListEvent");e("11515");if(t&&t.getValue()){t.upload();}else{C.closeAllOpenDialogs();}}else{var M=c.createMessageObject({code:"11502"});M.setPrevious(i);c.putMessage(M);C.closeAllOpenDialogs();}}
function g(C,P){c.importTexts(P,function(m){if(!n.checkIsNotUndefined(m)){e("11516");}else{var M=c.createMessageObject({code:"11503"});M.setPrevious(m);c.putMessage(M);}});C.closeAllOpenDialogs();}
return B.extend("sap.apf.modeler.ui.controller.importFiles",{onInit:function(){var C=this;c=C.getView().getViewData().oCoreApi;p=C.getView().getViewData().oParentControl;c.getApplicationHandler(function(h,m){if(h&&!n.checkIsNotUndefined(m)){a=h;}else{var M=c.createMessageObject({code:"11508"});M.setPrevious(m);c.putMessage(M);}});_(C);C.byId("idImportFilesDialog").setInitialFocus("true");C.byId("idImportFilesDialog").open();},addAcceptAttribute:function(){var C=this;var j=jQuery("#"+C.getView().getId()+"--idJsonFileUploader-fu");var h=jQuery("#"+C.getView().getId()+"--idTextFileUploader-fu");j.attr('accept','.json');h.attr('accept','.properties');},handleTypeMissmatchForJSONFile:function(){e("11517");},handleTypeMissmatchForPropertiesFile:function(){e("11518");},handleJSONFileUploadComplete:function(E){var C=this;var h=E.getSource().oFileUpload.files[0];if(h){var r=new FileReader();r.readAsText(h,"UTF-8");r.onload=function(i){b=JSON.parse(i.target.result).configHeader.Application;c.importConfiguration(JSON.stringify(JSON.parse(i.target.result)),function(j,k,l){d(C,j,k,l);},f.bind(C));};r.onerror=function(){e("11519");};}},handleTextFileUploadComplete:function(E){var C=this,h,j;h=E.getSource().oFileUpload.files[0];j=C.byId("idJsonFileUploader");if(h){var r=new FileReader();r.readAsText(h,"UTF-8");r.onload=function(k){var l=k.target.result.split(/\r?\n/);var m,i,q;for(i=0;i<l.length;i++){m=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(l[i]);if(n.checkIsNotNull(m)){q=l[i].split('=')[1];}}var s;if(a){for(i=0;i<a.getList().length;i++){if(q===a.getList()[i].Application){s=true;break;}else{s=false;}}}if(!s&&j&&!j.getValue()){e("11520");}else if(j&&j.getValue()){if(b&&q&&q!==b){e("11521");}else{g(C,k.target.result);}}else if(s&&j&&!j.getValue()){g(C,k.target.result);}};r.onerror=function(){e("11522");};}C.closeAllOpenDialogs();},handleUploadOfConfig:function(){var C=this;var j=n.checkIsNotNullOrUndefinedOrBlank(C.byId("idJsonFileUploader").getValue());var t=n.checkIsNotNullOrUndefinedOrBlank(C.byId("idTextFileUploader").getValue());if((j&&t)||j){C.byId("idJsonFileUploader").upload();}else{C.byId("idTextFileUploader").upload();}},handleCancelOfImportFilesDialog:function(){var C=this;C.byId("idImportFilesDialog").close();},closeAllOpenDialogs:function(){var i=this.byId("idImportFilesDialog");if(o&&o.isOpen()){this.handleCancelOfOverwriteDialog();}if(i&&i.isOpen()){this.handleCancelOfImportFilesDialog();}}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/messageHandler.controller',["sap/m/MessageBox","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/Log"],function(M,q,e,L){"use strict";var c;
function _(o){var t=o.getMessage();while(o.getPrevious()){o=o.getPrevious();t=t+'\n'+o.getMessage();}return t;}
function a(C,D){var c=C.getView().getViewData();var i=c.getGenericExit("closeFatalErrorDialog");if(i){i(c,C,D);}else{window.history.go(-1);}}
function b(o){sap.m.MessageBox.error(o.getMessage(),{styleClass:sap.ui.Device.system.desktop?"sapUiSizeCompact":""});}
function d(o){sap.m.MessageBox.information(o.getMessage(),{styleClass:sap.ui.Device.system.desktop?"sapUiSizeCompact":""});}
function f(o){sap.m.MessageToast.show(o.getMessage(),{width:"20em"});}
function g(C,o){var D=new sap.m.Dialog(C.createId("idShowDetailsDialog"),{contentWidth:q(window).height()*0.6+"px",contentHeight:q(window).height()*0.6+"px",title:c.getText("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:['<div><p> '+e(_(o))+'</p></div>'].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:c.getText("close"),press:function(){D.close();}}),afterClose:function(){D.destroy();}}).addStyleClass("dialogContentPadding");D.setInitialFocus(D);D.open();}
function h(C,o){var D=new sap.m.Dialog(C.createId("idFatalDialog"),{title:c.getText("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:c.getText("fatalErrorMessage")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:c.getText("showDetailsLink"),press:function(){g(C,o);}})]})],beginButton:new sap.m.Button({text:c.getText("close"),press:function(){a(C,D);}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}
var m=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.messageHandler",{
onInit:function(){c=this.getView().getViewData();},
showMessage:function(o){var C=this;var s=o.getSeverity();var S=sap.apf.core.constants.message.severity;switch(s){case S.fatal:h(C,o);break;case S.error:b(o);break;case S.success:f(o);break;case S.information:d(o);break;default:L.error("Error type not defined");break;}}
});
return m;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/navTargetContextMapping.controller',["sap/apf/modeler/ui/controller/requestOptions"],function(r){"use strict";var t=sap.apf.modeler.ui.utils.textManipulator;
var n=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.navTargetContextMapping",{
setDisplayText:function(){var c=this;var T=c.getView().getViewData().oTextReader;c.byId("idSourceLabel").setText(T("source"));c.byId("idEntityLabel").setText(T("entity"));c.byId("idSelectPropertiesLabel").setVisible(false);c.byId("idSelectProperties").setVisible(false);c.byId("idOptionalPropertyLabel").setVisible(true);c.byId("idOptionalPropertyLabel").setText(T("mappedProperty"));c.byId("idOptionalProperty").setVisible(true);},
getSource:function(){var c=this;return c.oParentObject.getFilterMappingService();},
getAllEntitiesAsPromise:function(s){var c=this;return c.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(s);},
getEntity:function(){var c=this;return c.oParentObject.getFilterMappingEntitySet();},
getAllEntitySetPropertiesAsPromise:function(s,e){var c=this;return c.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(s,e);},
clearSource:function(){var c=this;c.oParentObject.setFilterMappingService(undefined);c.clearEntity();},
clearEntity:function(){var c=this;c.oParentObject.setFilterMappingEntitySet(undefined);c.clearSelectProperties();},
clearSelectProperties:function(){var c=this;var o=c.oParentObject.getFilterMappingTargetProperties();o.forEach(function(p){c.oParentObject.removeFilterMappingTargetProperty(p);});},
removeSelectProperties:function(p){var c=this;p.forEach(function(a){c.oParentObject.removeFilterMappingTargetProperty(a);});},
updateSource:function(s){var c=this;c.oParentObject.setFilterMappingService(s);},
updateEntity:function(e){var c=this;c.oParentObject.setFilterMappingEntitySet(e);},
updateSelectProperties:function(s){var c=this;c.clearSelectProperties();s.forEach(function(p){c.oParentObject.addFilterMappingTargetProperty(p);});},
getSelectProperties:function(){var c=this;return c.oParentObject.getFilterMappingTargetProperties();},
getValidationState:function(){var c=this;return c.viewValidator.getValidationState();},
getIdOfPropertiesControl:function(){return"idOptionalProperty";},
getIdOfPropertyLabel:function(){return"idOptionalPropertyLabel";},
setSelectedKeysForProperties:function(p){if(p.length>0){this.byId("idOptionalProperty").setSelectedKey(p[0]);}},
getSelectedKeysForProperties:function(){return this.oParentObject.getFilterMappingTargetProperties();},
handleChangeForOptionalProperty:function(){var c=this;var T=c.getView().getViewData().oTextReader;var s=this.byId("idOptionalProperty").getSelectedKey();s=t.removePrefixText(s,T(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));c.updateSelectProperties([s]);c.oConfigurationEditor.setIsUnsaved();}
});
return n;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/overwriteExistingConfiguration',["sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker"],function(C,n){"use strict";var n=sap.apf.modeler.ui.utils.nullObjectChecker;return C.extend("sap.apf.modeler.ui.controller.overwriteExistingConfiguration",{setOverwriteConfirmationDialogText:function(t){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").setTitle(t("configAlreadyExists"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idConfirmationMessage").setText(t("overwriteDialogMsg"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfig").setText(t("overwriteConfig"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig").setText(t("doNotOverwriteConfig"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleLabel").setText(t("newConfigTitle"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOkButton").setText(t("ok"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idCancelButton").setText(t("cancel"));},handleOkButtonPress:function(){var s,N,o,c,a;o=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog");c=o.getCustomData()[0].getValue().callbackOverwrite;a=o.getCustomData()[0].getValue().callbackCreateNew;s=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();N=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput");if(s===sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfig")){c();}else{if(n.checkIsNotNullOrUndefinedOrBlank(N.getValue().trim())){N.setValueState(sap.ui.core.ValueState.None);a(N.getValue());}else{N.setValueState(sap.ui.core.ValueState.Error);}}},handleCancelOfOverwriteDialog:function(){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").destroy();},handleChangeForOverwriteConfigOptions:function(){var s;s=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();if(s===sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig")){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(true);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(true);}else{if(n.checkIsNotNullOrUndefinedOrBlank(sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").getValue().trim())){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(false);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValueState(sap.ui.core.ValueState.None);}else{sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(false);}}}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/propertyTypeHandler.controller',['sap/apf/modeler/ui/utils/constants','sap/apf/modeler/ui/utils/propertyTypeFactory','sap/apf/modeler/ui/utils/nullObjectChecker','sap/apf/modeler/ui/utils/propertyTypeState',"sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(M,p,n,P,a){'use strict';
function _(o,e){e.attachEvent(M.events.ADDPROPERTY,o.handlePressOfAdd.bind(o));e.attachEvent(M.events.REMOVEPROPERTY,o.handlePressOfRemove.bind(o));e.attachEvent(M.events.SETNEXTPROPERTYINPARENTOBJECT,e.getController().setNextPropertyInParentObject.bind(e.getController()));o.getView().attachEvent(M.events.SETNEXTPROPERTYINPARENTOBJECT,e.getController().setNextPropertyInParentObject.bind(e.getController()));e.attachEvent(M.events.REMOVECURRENTPROPERTYFROMPARENTOBJECT,e.getController().removePropertyFromParentObject.bind(e.getController()));e.attachEvent(M.events.REMOVEPROPERTYFROMPARENTOBJECT,e.getController().removePropertyFromParentObject.bind(e.getController()));e.attachEvent(M.events.UPDATEPROPERTYVALUESTATE,o.updatePropertyValueState.bind(o));e.attachEvent(M.events.FOCUSONREMOVE,o.handleFocusOnRemove.bind(o));e.attachEvent(M.events.SETFOCUSONREMOVEICON,e.getController().setFocusOnAddRemoveIcons.bind(e.getController()));}
function b(C,o){var e=[];var f=C.getView().getViewData().aPropertiesToBeCreated;f.forEach(function(g){var v=c(C,g,C.nCounter,o);e.push(v.getController().initPromise);});C.initPromise=jQuery.when.apply(jQuery,e);}
function c(C,o,e,f){var v=jQuery.extend(true,{},C.getView().getViewData().oViewDataForPropertyType);v.oPropertyTypeState=C.oPropertyTypeState;v.oPropertyTypeData=o;v.oPropertyOrchestration=f;v.oPropertyTypeHandlerBackLink=C;var V=C.createId("id"+v.sPropertyType+"View"+C.nCounter);C.oPropertyTypeState.addPropertyAt(o.sProperty,e);C.oPropertyTypeState.addPropertyTypeViewIdAt(V,e);var g=p.createPropertyTypeView(v,V);if(f){f.addPropertyTypeReference(V,o,v.sPropertyType,g);}_(C,g);C.byId("idPropertyTypeVBox").insertItem(g,e);C.nCounter++;return g;}
var d=sap.ui.controller("sap.apf.modeler.ui.controller.propertyTypeHandler",{_apfName:"propertyTypeHandler",nCounter:0,oPropertyTypeState:{},initPromise:undefined,oPropertyOrchestration:undefined,onInit:function(){var C=this;C.oPropertyOrchestration=C.getView().getViewData().oPropertyOrchestration;C.oPropertyTypeState=new P();b(C,C.oPropertyOrchestration);if(C.oPropertyOrchestration){C.oPropertyOrchestration.updateAllSelectControlsForPropertyType();}},handlePressOfAdd:function(e){var C=this,o={},v;var s=e.getParameter("oSourceView");var f=C.getView().getViewData().oPropertyOrchestration;var g=f.getPropertyTypeRow(s.getId()).sPropertyType;var h=a._mapPropertyType2AggregationRole(g);var i=C.byId("idPropertyTypeVBox").indexOfItem(s)+1;var r=C.getView().getViewData().oViewDataForPropertyType.oParentObject.getId();var S=C.getView().getViewData().oViewDataForPropertyType.oStepPropertyMetadataHandler;var j=S.oStep;var k=j.getType()==="hierarchicalStep";if(k&&g===M.propertyTypes.REPRESENTATIONSORT){h=M.aggregationRoles.MEASURE;}a.getConsumableAndAvailablePropertiesAsPromise(r,h,S).then(function(A){var l=a._relativeComplement(A.available,f.getSelectedProperties());var m=l[0];o.sProperty=m;o.sContext=f.getPropertyTypeRow(s.getId()).propertyRowInformation.sContext;if(n.checkIsNotUndefined(o.sProperty)){v=c(C,o,i,f);v.getController().setNextPropertyInParentObject();}return f.updateAllSelectControlsForPropertyType();});},handleFocusOnRemove:function(e){var C=this;var v=C.byId("idPropertyTypeVBox");var s=e.getSource();var f=v.indexOfItem(s);var F=C.byId(C.oPropertyTypeState.aPropertyTypeViewIds[f-1]);F.fireEvent(M.events.SETFOCUSONREMOVEICON);},handlePressOfRemove:function(e){var C=this;var s=e.oSourceView||e.getSource();var v=C.byId("idPropertyTypeVBox");var f=v.indexOfItem(s);C.oPropertyTypeState.removePropertyAt(f);C.oPropertyTypeState.removePropertyTypeViewIdAt(f);v.removeItem(s);},updatePropertyValueState:function(e){var C=this;var s=e.getSource();var f=e.getParameter("sProperty");var g=C.byId("idPropertyTypeVBox").indexOfItem(s);C.oPropertyTypeState.updatePropertyAt(f,g);},handleRemoveOfProperty:function(){var C=this;var v=C.byId("idPropertyTypeVBox");if(n.checkIsNotUndefined(v)){v.getItems().forEach(function(o){o.fireEvent(M.events.REMOVEPROPERTYFROMPARENTOBJECT);});}},handleSettingTopNProperties:function(){var C=this;C.getView().fireEvent(M.events.SETNEXTPROPERTYINPARENTOBJECT);}});return d;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/representationCornerTexts.controller',["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/controller/cornerTexts"],function(n,c){"use strict";var N=sap.apf.modeler.ui.utils.nullObjectChecker;
function _(C,s){var o=s&&C.oTextPool.get(s);return o&&o.TextElementDescription;}
var r=sap.apf.modeler.ui.controller.cornerTexts.extend("sap.apf.modeler.ui.controller.representationCornerTexts",{
addStyleClasses:function(){var C=this;C.byId("idLeftUpper").addStyleClass("repLeftCornerText");C.byId("idRightUpper").addStyleClass("repRightCornerText");C.byId("idLeftLower").addStyleClass("repLeftCornerText");C.byId("idRightLower").addStyleClass("repRightCornerText");},
setChartIcon:function(){var C=this;var R=C.getView().getViewData().oParentObject.getRepresentationType();var p=C.getView().getViewData().oRepresentationTypeHandler.getPictureOfRepresentationType(R);C.byId("idChartIcon").setSrc(p);C.byId("idChartIcon").addStyleClass("repChartIcon");},
getTranslationFormatMap:function(){return sap.apf.modeler.ui.utils.TranslationFormatMap.REPRESENTATION_CORNER_TEXT;},
getLeftUpperCornerText:function(m){var C=this;var s=C.getView().getViewData().oParentStep[m]();var S=_(C,s);var R=C.getView().getViewData().oParentObject[m]();var a=_(C,R);var b=N.checkIsNotUndefined(a)?a:S;return b;},
getRightUpperCornerText:function(m){var C=this;var s=C.getView().getViewData().oParentStep[m]();var S=_(C,s);var R=C.getView().getViewData().oParentObject[m]();var a=_(C,R);var b=N.checkIsNotUndefined(a)?a:S;return b;},
getLeftLowerCornerText:function(m){var C=this;var s=C.getView().getViewData().oParentStep[m]();var S=_(C,s);var R=C.getView().getViewData().oParentObject[m]();var a=_(C,R);var b=N.checkIsNotUndefined(a)?a:S;return b;},
getRightLowerCornerText:function(m){var C=this;var s=C.getView().getViewData().oParentStep[m]();var S=_(C,s);var R=C.getView().getViewData().oParentObject[m]();var a=_(C,R);var b=N.checkIsNotUndefined(a)?a:S;return b;}
});
return r;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/representationMeasure.controller',["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/core/constants"],function(B,D,t,c){"use strict";D=D||sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;var T=sap.apf.modeler.ui.utils.textManipulator;
B.extend("sap.apf.modeler.ui.controller.representationMeasure",{
setLabelDisplayOptionTypeAsPromise:function(o){var C=this;var p=C.getView().getViewData().oPropertyTypeData.sProperty;if(!C.oRepresentationTypeHandler.isCombinationChart(C.oRepresentation.getRepresentationType())){if(C.byId("idLabelDisplayOptionType")){C.byId("idLabelDisplayOptionType").destroy();C.byId("idPropertyTypeLayout").setSpan("L4 M4 S4");C.oRepresentation.setMeasureDisplayOption(p,undefined);}}else{var d=new D(C.oTextReader,o);var m=d.getMeasureDisplayOptions();C.byId("idLabelDisplayOptionType").setModel(m);var a=C.oRepresentation.getMeasureDisplayOption(p);if(!a){var b=C.getView().getViewData().oPropertyTypeData.bMandatory?c.representationMetadata.measureDisplayOptions.BAR:c.representationMetadata.measureDisplayOptions.LINE;C.byId("idLabelDisplayOptionType").setSelectedKey(b);C.oRepresentation.setMeasureDisplayOption(p,b);}else{C.byId("idLabelDisplayOptionType").setSelectedKey(a);}}return jQuery.Deferred().resolve();},
changeLabelDisplayOption:function(n){var C=this;var p=C.getView().getViewData().oPropertyTypeData.sProperty;C.oRepresentation.setMeasureDisplayOption(p,n);},
getAllPropertiesAsPromise:function(){var C=this,a,s,p,A,m=[];var S=C.oStepPropertyMetadataHandler.oStep;var o=sap.apf.modeler.ui.utils.CONSTANTS;var d=jQuery.Deferred();C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){S.getConsumablePropertiesForRepresentation(C.oRepresentation.getId()).done(function(r){a=r.consumable;a.forEach(function(P){if(C.oStepPropertyMetadataHandler.getPropertyMetadata(e,P)){A=C.oStepPropertyMetadataHandler.getPropertyMetadata(e,P)["aggregation-role"];if(A===o.aggregationRoles.MEASURE){m.push(P);}}});s=C.getSelectedProperty();if(s!==undefined){p=m.indexOf(s)!==-1?m:m.concat(s);m=r.available.indexOf(s)!==-1?p:m.concat(T.addPrefixText([s],C.oTextReader));s=r.available.indexOf(s)!==-1?s:T.addPrefixText([s],C.oTextReader)[0];}d.resolve({aAllProperties:m,sSelectedKey:s});});});return d.promise();},
getPropertyTextLabelKey:function(p){var C=this;return C.oRepresentation.getMeasureTextLabelKey(p);},
updatePropertiesInConfiguration:function(p){var C=this;C.oRepresentation.getMeasures().forEach(function(m){C.oRepresentation.removeMeasure(m);});p.forEach(function(P){C.oRepresentation.addMeasure(P.sProperty);C.oRepresentation.setMeasureKind(P.sProperty,P.sKind);C.oRepresentation.setMeasureTextLabelKey(P.sProperty,P.sTextLabelKey);C.oRepresentation.setMeasureDisplayOption(P.sProperty,P.sMeasureDisplayOption);});},
createNewPropertyInfoAsPromise:function(n){var C=this,N={};N.sProperty=n;N.sKind=C.getView().getViewData().oPropertyTypeData.sContext;N.sTextLabelKey=undefined;return sap.apf.utils.createPromise(N);},
setPropertyTextLabelKey:function(p,l){var C=this;C.oRepresentation.setMeasureTextLabelKey(p,l);},
setNextPropertyInParentObject:function(){var C=this;C.updateOfConfigurationObjectAsPromise().then(function(){C.setDetailData();});},
removePropertyFromParentObject:function(){var C=this;C.oRepresentation.removeMeasure(T.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)));},
addPropertyAsPromise:function(){var d=jQuery.Deferred();var C=this,a,m=[];var s=C.oStepPropertyMetadataHandler.oStep;var o=sap.apf.modeler.ui.utils.CONSTANTS;C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){s.getConsumablePropertiesForRepresentation(C.oRepresentation.getId()).done(function(r){r.consumable.forEach(function(p){if(C.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)){a=C.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)["aggregation-role"];if(a===o.aggregationRoles.MEASURE){m.push(p);}}});C.getView().fireEvent(o.events.ADDPROPERTY,{"sProperty":m[0],"sContext":C.getView().getViewData().oPropertyTypeData.sContext});C.oConfigurationEditor.setIsUnsaved();d.resolve();});});return d.promise();}
});
});
sap.ui.predefine('sap/apf/modeler/ui/controller/representationSortPropertyType.controller',["sap/apf/modeler/ui/controller/sortPropertyType","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(s,t,q){"use strict";var T=sap.apf.modeler.ui.utils.textManipulator;
var r=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.representationSortPropertyType",{
onBeforeRendering:function(){var c=this;c.byId("idGridSortLabel").setSpan("L2 M2 S2");c.byId("idGridSortProperty").setSpan("L4 M4 S4");c.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");c.byId("idGridSortDirection").setSpan("L3 M3 S2");c.byId("idGridIconLayout").setSpan("L1 M1 S1");},
disableView:function(){var c=this;if(c.oStepPropertyMetadataHandler.oStep.getTopN()){c.byId("idSortProperty").setEnabled(false);c.byId("idSortDirection").setEnabled(false);c.byId("idAddPropertyIcon").setVisible(false);c.byId("idRemovePropertyIcon").setVisible(false);}},
getAllPropertiesAsPromise:function(){var c=this,a,S,p;var d=q.Deferred();c.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(c.oParentObject.getId()).done(function(R){a=R.consumable;S=c.getSelectedSortProperty();if(S!==c.oTextReader("none")&&S!==undefined){p=a.indexOf(S)!==-1?a:a.concat(S);a=R.available.indexOf(S)!==-1?p:a.concat(T.addPrefixText([S],c.oTextReader));S=R.available.indexOf(S)!==-1?S:T.addPrefixText([S],c.oTextReader)[0];}a.splice(0,0,c.oTextReader("none"));d.resolve({aAllProperties:a,sSelectedKey:S});});return d.promise();},
updateOfConfigurationObjectOfSubclass:function(S){var c=this;c.oParentObject.removeAllOrderbySpecs();S.forEach(function(o){c.oParentObject.addOrderbySpec(o.property,o.ascending);});},
getOrderBy:function(){var c=this;return c.oParentObject.getOrderbySpecifications();},
setNextPropertyInParentObject:function(){var c=this;c.updateOfConfigurationObject();c.byId("idSortDirection").setSelectedKey("true");},
removePropertyFromParentObject:function(){var c=this;c.oParentObject.removeOrderbySpec(T.removePrefixText(c.byId("idSortProperty").getSelectedKey(),c.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)));},
addPropertyAsPromise:function(){var c=this;var d=q.Deferred();var C=sap.apf.modeler.ui.utils.CONSTANTS.events;c.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(c.oParentObject.getId()).done(function(R){c.getView().fireEvent(C.ADDPROPERTY,{"oSourceView":c.getView(),"sProperty":R.consumable[0],"sContext":c.getView().getViewData().oPropertyTypeData.sContext});c.oConfigurationEditor.setIsUnsaved();d.resolve();});return d.promise();}
});
return r;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/requestOptions',['sap/apf/modeler/ui/utils/nullObjectChecker','sap/apf/modeler/ui/utils/optionsValueModelBuilder','sap/apf/modeler/ui/utils/textManipulator','sap/apf/modeler/ui/utils/textPoolHelper','sap/apf/modeler/ui/utils/viewValidator','sap/apf/modeler/ui/utils/constants','sap/apf/cloudFoundry/uiHandler'],function(n,o,t,a,V,m,u){"use strict";
function _(C){C.byId("idSource").attachEvent("selectService",C.handleSelectionOfService.bind(C));}
function b(C){var d=jQuery.Deferred();C.setLabelDisplayOptionTypeAsPromise(o).done(function(){if(!C.byId("idOptionalRequestField")){d.resolve();}else{C.enableDisableLabelDisplayOptionTypeAsPromise().done(function(){d.resolve();});}});return d;}
var c=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.requestOptions",{
viewValidator:{},
oConfigurationEditor:{},
oParentObject:{},
oStepPropertyMetadataHandler:{},
initPromise:{},
onInit:function(){var C=this;this.initPromise=jQuery.Deferred();var T=C.getView().getViewData().oConfigurationHandler.getTextPool();C.oSuggestionTextHandler=new a.SuggestionTextHandler(T);C.viewValidator=new V(C.getView());C.oConfigurationEditor=C.getView().getViewData().oConfigurationEditor;C.oParentObject=C.getView().getViewData().oParentObject;C.oStepPropertyMetadataHandler=C.getView().getViewData().oStepPropertyMetadataHandler;C.setDetailData();C.setDisplayText();_(C);},
setDetailData:function(){var C=this;C.setSource();C.setEntityAsPromise().done(function(){C.setOptionalHierarchicalProperty();C.setSelectProperties().done(function(){C.setOptionalRequestFieldProperty();b(C).done(function(){C.initPromise.resolve();});});});},
setSource:function(){var C=this;var s=C.getSource();C.byId("idSource").setValue("");C.setValidationStateForService();if(!n.checkIsNotNullOrUndefinedOrBlank(s)){C.addOrRemoveMandatoryFieldsAndRequiredFlag(false);return;}C.byId("idSource").setValue(s);C.addOrRemoveMandatoryFieldsAndRequiredFlag(true);},
setEntityAsPromise:function(){var C=this;var d=jQuery.Deferred();var M,s,e,v;s=C.byId("idSource").getValue();C.byId("idEntity").setModel(null);C.byId("idEntity").clearSelection();if(!n.checkIsNotNullOrUndefinedOrBlank(s)){d.resolve();return d.promise();}C.getAllEntitiesAsPromise(s).done(function(A){e=C.getEntity();if(n.checkIsNotNullOrUndefinedOrBlank(e)){v=C.validateSelectedValues(C,[e],A);A=v.aValues;e=v.aSelectedValues[0];}M=o.convert(A);C.byId("idEntity").setModel(M);if(!n.checkIsNotNullOrUndefinedOrBlank(e)||A.indexOf(e)===-1){C.getAllEntitiesAsPromise(s).done(function(f){e=f[0];if(n.checkIsNotNullOrUndefinedOrBlank(e)){C.byId("idEntity").setSelectedKey(e);}d.resolve();});}else if(n.checkIsNotNullOrUndefinedOrBlank(e)){C.byId("idEntity").setSelectedKey(e);d.resolve();}});return d.promise();},
setSelectProperties:function(){var d=jQuery.Deferred();var C=this;var s,e,S,M,v=[];var T=C.getView().getViewData().oTextReader;s=C.byId("idSource").getValue();var i=C.getIdOfPropertiesControl();C.byId(i).setModel(null);C.byId(i).clearSelection();e=t.removePrefixText(C.byId("idEntity").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.getAllEntitySetPropertiesAsPromise(s,e).done(function(p){S=C.getSelectProperties();if(n.checkIsNotNullOrUndefinedOrBlank(S)){v=C.validateSelectedValues(C,S,p);p=v.aValues;S=v.aSelectedValues;}M=o.convert(p);C.byId(i).setModel(M);C.setSelectedKeysForProperties(S);d.resolve();});return d;},
updateSubViewInstancesOnReset:function(e){var C=this;C.oConfigurationEditor=e.getParameter("oConfigurationEditor");C.oParentObject=e.getParameter("oParentObject");C.setDetailData();},
setDisplayText:function(){},
handleChangeForSourceAsPromise:function(e){var d=jQuery.Deferred();var C=this,E,s;var S=C.byId("idSource").getValue().trim();var T=C.getView().getViewData().oTextReader;C.setValidationStateForService();if(!n.checkIsNotNullOrUndefinedOrBlank(S)){C.clearSource();C.addOrRemoveMandatoryFieldsAndRequiredFlag(false);C.setEntityAsPromise(C).done(function(){E=t.removePrefixText(C.byId("idEntity").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.updateEntity(E);C.setSelectProperties();s=C.getSelectedKeysForProperties();C.updateSelectProperties(s);C.setOptionalHierarchicalProperty().done(function(){var h=t.removePrefixText(C.byId("idOptionalProperty").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.updateHierarchicalProperty(h);C.setOptionalRequestFieldProperty();C.oConfigurationEditor.setIsUnsaved();C.fireRelevantEvents(e);d.resolve();});});}else{C.oConfigurationEditor.registerServiceAsPromise(S).done(function(r){C.getAllEntitiesAsPromise(S).done(function(f){if(r){C.addOrRemoveMandatoryFieldsAndRequiredFlag(true);C.updateSource(S);if(!n.checkIsNotNullOrUndefinedOrBlank(f)){var v={sValueState:sap.ui.core.ValueState.Error,sValueStateText:T("hierarchicalServiceError")};C.setValidationStateForService(v);C.resetEntityAndProperties();return;}}else{C.clearSource();C.addOrRemoveMandatoryFieldsAndRequiredFlag(false);}C.setEntityAsPromise(C).done(function(){E=t.removePrefixText(C.byId("idEntity").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.updateEntity(E);C.setSelectProperties();s=C.getSelectedKeysForProperties();C.updateSelectProperties(s);C.setOptionalHierarchicalProperty().done(function(){var h=t.removePrefixText(C.byId("idOptionalProperty").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.updateHierarchicalProperty(h);C.setOptionalRequestFieldProperty();C.oConfigurationEditor.setIsUnsaved();C.fireRelevantEvents(e);d.resolve();});});});});}return d.promise();},
handleChangeForEntity:function(e){var C=this,E,s;var T=C.getView().getViewData().oTextReader;E=t.removePrefixText(C.byId("idEntity").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.updateEntity(E);C.setSelectProperties();s=C.getSelectedKeysForProperties();C.updateSelectProperties(s);C.setOptionalHierarchicalProperty();var h=t.removePrefixText(C.byId("idOptionalProperty").getSelectedKey(),T(m.texts.NOTAVAILABLE));C.updateHierarchicalProperty(h);C.setOptionalRequestFieldProperty();C.oConfigurationEditor.setIsUnsaved();C.fireRelevantEvents(e);},
handleChangeForSelectProperty:function(e){var C=this;var s=C.getSelectedKeysForProperties();C.updateSelectProperties(s);C.setOptionalRequestFieldProperty();b(C);C.oConfigurationEditor.setIsUnsaved();C.fireRelevantEvents(e);},
handleChangeForOptionalRequestField:function(e){var C=this;var T=C.getView().getViewData().oTextReader;var f=[t.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),T(m.texts.NOTAVAILABLE))];C.updateOptionalRequestFieldProperty(f);b(C);C.oConfigurationEditor.setIsUnsaved();C.fireRelevantEvents(e);},
handleChangeForOptionalLabelDisplayOptionType:function(){var C=this;var l=C.byId("idOptionalLabelDisplayOptionType").getSelectedKey();C.changeLabelDisplayOption(l);C.oConfigurationEditor.setIsUnsaved();},
handleChangeForOptionalSelectedPropertyLabelText:function(){var C=this;var l=C.byId("idOptionalSelectedPropertyLabelText").getValue();C.changeOptionalSelectedPropertyLabelText(l);C.oConfigurationEditor.setIsUnsaved();},
handleSuggestionsForSource:function(e){var C=this;var E=C.oConfigurationEditor.getAllServices();C.oSuggestionTextHandler.manageSuggestions(e,E);},
fireRelevantEvents:function(){},
addOrRemoveMandatoryFieldsAndRequiredFlag:function(r){var C=this;C.byId("idEntityLabel").setRequired(r);C.byId(C.getIdOfPropertyLabel()).setRequired(r);if(r){C.viewValidator.addFields(["idEntity",C.getIdOfPropertiesControl()]);}else{C.viewValidator.removeFields(["idEntity",C.getIdOfPropertiesControl()]);}},
handleSelectionOfService:function(e){var s=e.getParameter("sSelectedService");e.getSource().setValue(s);e.getSource().fireEvent("change");},
handleShowValueHelpRequest:function(e){var C=this;var E={oTextReader:C.getView().getViewData().oTextReader,parentControl:e.getSource(),getCalatogServiceUri:C.getView().getViewData().getCalatogServiceUri};var v=C.getView().getViewData();if(v.oCoreApi&&v.oCoreApi.isUsingCloudFoundryProxy()){u.showValueHelp(E,v.oCoreApi,this);}else{sap.ui.view({id:C.createId("idCatalogServiceView"),viewName:"sap.apf.modeler.ui.view.catalogService",type:sap.ui.core.mvc.ViewType.XML,viewData:E});}},
getNonCommonValues:function(e,T){var N=[];if(!n.checkIsNotNullOrUndefined(e)){return N;}N=e.filter(function(p){return T.indexOf(p)===-1;});return N;},
validateSelectedValues:function(C,s,A){var v={},i=[],d=[],I=[],e=[],f;var T=C.getView().getViewData().oTextReader;v=sap.apf.utils.validateSelectedValues(s,A);i=v.invalid;d=v.valid;I=t.addPrefixText(i,T);e=I.concat(A).length!==0?I.concat(A):A;f=I.concat(d).length!==0?I.concat(d):s;return{aValues:e,aSelectedValues:f};},
handleSuggestionsForSelectedPropertyLabel:function(e){this.oSuggestionTextHandler.manageSuggestionTexts(e,a.TranslationFormatMap.STEPFILTERPROPERTY_LABEL);},
resetEntityAndProperties:function(){},
setOptionalRequestFieldProperty:function(){},
setOptionalHierarchicalProperty:function(){return jQuery.Deferred().resolve();},
getIdOfPropertiesControl:function(){return"idSelectProperties";},
getIdOfPropertyLabel:function(){return"idSelectPropertiesLabel";},
setSelectedKeysForProperties:function(p){var C=this;C.byId("idSelectProperties").setSelectedKeys(p);},
getSelectedKeysForProperties:function(){var C=this,s=[],S=[];var T=C.getView().getViewData().oTextReader;s=C.byId("idSelectProperties").getSelectedKeys();s.forEach(function(k){S.push(t.removePrefixText(k,T(m.texts.NOTAVAILABLE)));});return S;},
setValidationStateForService:function(v){var C=this;var d={sValueState:sap.ui.core.ValueState.None,sValueStateText:""};var e=v?v:d;C.byId("idSource").setValueState(e.sValueState);C.byId("idSource").setValueStateText(e.sValueStateText);},
getSource:function(){},
updateSource:function(s){},
clearSource:function(){},
getAllEntitiesAsPromise:function(s){return sap.apf.utils.createPromise();},
getEntity:function(){},
updateEntity:function(e){},
clearEntity:function(){},
getAllEntitySetPropertiesAsPromise:function(s,e){return sap.apf.utils.createPromise();},
setLabelDisplayOptionTypeAsPromise:function(o){return sap.apf.utils.createPromise();},
enableDisableLabelDisplayOptionTypeAsPromise:function(){return sap.apf.utils.createPromise();},
getSelectProperties:function(){},
updateSelectProperties:function(s){},
clearSelectProperties:function(){},
removeSelectProperties:function(p){},
getOptionalRequestFieldProperty:function(){},
updateOptionalRequestFieldProperty:function(f){},
updateHierarchicalProperty:function(h){},
clearOptionalRequestFieldProperty:function(){},
removeOptionalRequestFieldProperty:function(p){},
changeLabelDisplayOption:function(l){},
changeOptionalSelectedPropertyLabelText:function(l){},
handleChangeForOptionalProperty:function(){}
});
return c;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/smartFilterBarRequest.controller',["sap/apf/modeler/ui/controller/requestOptions"],function(r){"use strict";
var s=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.smartFilterBarRequest",{
setDisplayText:function(){var c=this;var t=c.getView().getViewData().oTextReader;c.byId("idSourceLabel").setText(t("source"));c.byId("idEntityLabel").setText(t("entity"));},
onBeforeRendering:function(){var c=this;c.byId("idSelectPropertiesLabel").setVisible(false);c.byId("idSelectProperties").setVisible(false);},
onAfterRendering:function(){var c=this;if(c.byId("idSource").getValue().length===0){c.byId("idSource").focus();}},
addOrRemoveMandatoryFieldsAndRequiredFlag:function(R,e){var c=this;c.byId("idEntityLabel").setRequired(R);if(R){c.viewValidator.addFields(["idEntity"]);}else{c.viewValidator.removeFields(["idEntity"]);}},
getSource:function(){var c=this;return c.oParentObject.getService();},
getAllEntitiesAsPromise:function(S){var c=this;return c.oConfigurationEditor.getAllEntitySetsExceptParameterEntitySets(S);},
getEntity:function(){var c=this;return c.oParentObject.getEntitySet();},
clearSource:function(){var c=this;c.oParentObject.setService(undefined);c.clearEntity();},
clearEntity:function(){var c=this;c.oParentObject.setEntitySet(undefined);},
updateSource:function(S){var c=this;c.oParentObject.setService(S);},
updateEntity:function(e){var c=this;c.oParentObject.setEntitySet(e);},
getValidationState:function(){var c=this;return c.viewValidator.getValidationState();}
});
return s;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/sortPropertyType',["sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/utils/utils"],function(o,s,c,t,n,u){"use strict";var p='idSortProperty';var a='idSortDirection';var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var T=sap.apf.modeler.ui.utils.textManipulator;var C=sap.apf.modeler.ui.utils.CONSTANTS.events;
function _(j){j.byId("idSortLabel").setText(j.oTextReader("sortingField"));j.byId("idSortLabel").setTooltip(j.oTextReader("sortingField"));j.byId("idSortDirectionLabel").setText(j.oTextReader("direction"));j.byId("idSortDirectionLabel").setTooltip(j.oTextReader("direction"));j.byId("idAddPropertyIcon").setTooltip(j.oTextReader("addButton"));j.byId("idRemovePropertyIcon").setTooltip(j.oTextReader("deleteButton"));}
function b(j){if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>=11){j.byId("idAriaPropertyForSortGroup").setText(j.oTextReader("sorting"));}j.byId("idAriaPropertyForAdd").setText(j.oTextReader("ariaTextForAddIcon"));j.byId("idAriaPropertyForDelete").setText(j.oTextReader("ariaTextForDeleteIcon"));}
function d(j){var k=j.byId(p);j.getAllPropertiesAsPromise().done(function(r){var m=o.convert(r.aAllProperties);k.setModel(m);k.setSelectedKey(r.sSelectedKey);});}
function e(j){var k=j.byId(a);var s=new sap.apf.modeler.ui.utils.StaticValuesBuilder(j.oTextReader,o);var m=s.getSortDirections();k.setModel(m);k.setSelectedKey(j.getView().getViewData().oPropertyTypeData.sContext);}
function f(j){var S=true,k=true;var P=j.getView().getViewData().oPropertyTypeState;var l=P.indexOfPropertyTypeViewId(j.getView().getId());if(P.indexOfPropertyTypeViewId(j.getView().getId())===0){k=false;}j.byId("idAddPropertyIcon").setVisible(S);j.byId("idRemovePropertyIcon").setVisible(k);if(l>0&&P.aProperties!==undefined){var m=P.getViewAt(l-1);m.oController.byId("idAddPropertyIcon").setVisible(false);}}
function g(j,k){var P=j.getView().getViewData().oPropertyTypeState;if(P!==undefined){var l=P.aProperties.length;var m=P.getViewAt(k-1);var q=j.oConfigurationEditor.isSaved();if(k>1&&k==l&&q==false){m.oController.byId("idAddPropertyIcon").setVisible(true);m.oController.byId("idRemovePropertyIcon").setVisible(true);}if(k===1&&k==l&&q==false){m.oController.byId("idAddPropertyIcon").setVisible(true);}}}
function h(j){j.byId("idAddPropertyIcon").attachEvent(C.SETFOCUSONADDICON,j.setFocusOnAddRemoveIcons.bind(j));}
var i=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.sortPropertyType",{
oConfigurationEditor:{},
oParentObject:{},
oStepPropertyMetadataHandler:{},
oTextReader:{},
onInit:function(){var j=this;j.oConfigurationEditor=j.getView().getViewData().oConfigurationEditor;j.oParentObject=j.getView().getViewData().oParentObject;j.oStepPropertyMetadataHandler=j.getView().getViewData().oStepPropertyMetadataHandler;j.oTextReader=j.getView().getViewData().oCoreApi.getText;j.setDetailData();},
onAfterRendering:function(){var j=this;j.byId("idAddPropertyIcon").fireEvent(C.SETFOCUSONADDICON);},
setDetailData:function(){var j=this;_(j);b(j);d(j);e(j);f(j);j.disableView();},
handleChangeForSortProperty:function(j){var k=this;var S=T.removePrefixText(k.byId(p).getSelectedKey(),k.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));var P=k.getView().getViewData().oPropertyOrchestration;var v=k.getView().getId();return new Promise(function(r){k.getView().fireEvent(C.UPDATEPROPERTYVALUESTATE,{"sProperty":S});P.updatePropertyTypeRow(v,S);P.updateAllSelectControlsForPropertyType().then(function(){k.updateOfConfigurationObject();k.oConfigurationEditor.setIsUnsaved();r();});});},
handleChangeForSortDirection:function(){var j=this;j.updateOfConfigurationObject();j.oConfigurationEditor.setIsUnsaved();},
setFocusOnAddRemoveIcons:function(){var j=this;j.byId("idAddPropertyIcon").focus();},
handlePressOfAddPropertyIcon:function(){var j=this;h(j);j.addPropertyAsPromise();},
handlePressOfRemovePropertyIcon:function(){var j=this;var v=j.getView().getViewData();var P=j.getView().getViewData().oPropertyTypeState;if(P!==undefined){var k=P.indexOfPropertyTypeViewId(j.getView().getId());}return new Promise(function(r){j.getView().fireEvent(C.FOCUSONREMOVE);var l=v.oPropertyOrchestration;l.removePropertyTypeReference(j.getView().getId());l.updateAllSelectControlsForPropertyType().then(function(){j.updateOfConfigurationObject();v.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:j.getView()});g(j,k);j.oConfigurationEditor.setIsUnsaved();j.getView().destroy();r();});});},
updateOfConfigurationObject:function(){var j=this;var P=j.getView().getViewData().oPropertyOrchestration;var k=P.getSortPropertyInformationList(a);j.updateOfConfigurationObjectOfSubclass(k);},
getSelectedSortProperty:function(){var j=this;var P=j.getView().getViewData().oPropertyTypeState;var k=P.getPropertyValueState();var l=P.indexOfPropertyTypeViewId(j.getView().getId());return k[l];},
removeAllItemsFromDropDownList:function(){var j=this;var v=j.byId(p);v.getItems().forEach(function(I){v.removeItem(I);});},
setItemsOfDropDownList:function(j,A,k){function l(w,x){return w.indexOf(x)!==-1;}var m=this;var v=m.byId(p);var q=(k===m.oTextReader("none"));var r=JSON.parse(JSON.stringify(j));v.addItem(new sap.ui.core.Item({key:m.oTextReader("none"),text:m.oTextReader("none")}));if(!l(r,k)&&!q){r.unshift(k);}r=r.filter(function(w){return w!==m.oTextReader("none");});r.forEach(function(V){var w=V;if(!l(A,V)&&!q){V=T.addPrefixText([V],m.oTextReader)[0];}var I=new sap.ui.core.Item({key:V,text:V});v.addItem(I);if(w===k){k=V;}});v.setSelectedKey(k);},
updateOfConfigurationObjectOfSubclass:function(S){},
getOrderBy:function(){},
setNextPropertyInParentObject:function(){},
removePropertyFromParentObject:function(){},
disableView:function(){},
addPropertyAsPromise:function(){return sap.apf.utils.createPromise();}
});
return i;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/stepCornerTexts.controller',["sap/apf/modeler/ui/controller/cornerTexts"],function(c){"use strict";
function _(C,a){var o=a&&C.oTextPool.get(a);return o&&o.TextElementDescription;}
var s=sap.apf.modeler.ui.controller.cornerTexts.extend("sap.apf.modeler.ui.controller.stepCornerTexts",{
setChartIcon:function(){var C=this;C.byId("idChartIcon").setSrc("sap-icon://line-chart");C.byId("idChartIcon").addStyleClass("stepChartIcon");},
addStyleClasses:function(){var C=this;C.byId("idLeftUpper").addStyleClass("stepLeftCornerText");C.byId("idRightUpper").addStyleClass("stepRightCornerText");C.byId("idLeftLower").addStyleClass("stepLeftCornerText");C.byId("idRightLower").addStyleClass("stepRightCornerText");},
getTranslationFormatMap:function(){return sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_CORNER_TEXT;},
getLeftUpperCornerText:function(m){var C=this;var S=C.getView().getViewData().oParentObject[m]();var a=_(C,S);return a;},
getRightUpperCornerText:function(m){var C=this;var S=C.getView().getViewData().oParentObject[m]();var a=_(C,S);return a;},
getLeftLowerCornerText:function(m){var C=this;var S=C.getView().getViewData().oParentObject[m]();var a=_(C,S);return a;},
getRightLowerCornerText:function(m){var C=this;var S=C.getView().getViewData().oParentObject[m]();var a=_(C,S);return a;}
});
return s;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/stepFilterMapping.controller',["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(r,d,t,q){"use strict";var n=sap.apf.modeler.ui.utils.nullObjectChecker;var a=sap.apf.modeler.ui.utils.textManipulator;var T=sap.apf.modeler.ui.utils.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;
function _(C){var o=C.getView().getViewData().oTextReader;var e=C.oParentObject.getFilterMappingTargetPropertyLabelKey()?o("label"):o("label")+" ("+o("default")+")";C.byId("idOptionalSelectedPropertyLabel").setText(e);C.byId("idOptionalSelectedPropertyLabel").setTooltip(e);}
function b(C){var S=C.getSource();var e=C.getEntity();var p;var P=C.oParentObject.getFilterMappingTargetPropertyLabelKey();if(S===undefined||e===undefined){return;}if(n.checkIsNotUndefined(P)){p=C.getView().getViewData().oConfigurationHandler.getTextPool().get(P).TextElementDescription;C.byId("idOptionalSelectedPropertyLabelText").setValue(p);return;}C.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(S,e).done(function(f){var g=C.oParentObject.getFilterMappingTargetProperties()[0];if(g){p=C.oStepPropertyMetadataHandler.getDefaultLabel(f,g);}C.byId("idOptionalSelectedPropertyLabelText").setValue(p);});}
function c(C){C.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");C.byId("idOptionalRequestField").addStyleClass("filterProperty");C.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty");}
var s=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.stepFilterMapping",{
setLabelDisplayOptionTypeAsPromise:function(o){var e=q.Deferred();var C=this;var S=C.getSource();var E=C.getEntity();var l=[];var f=C.getView().getViewData().oTextReader;var d=new sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder(f,o);var m=d.getLabelDisplayOptions();var L=sap.apf.core.constants.representationMetadata.labelDisplayOptions;var p=a.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),f(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));_(C);b(C);C.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(!p){C.byId("idOptionalLabelDisplayOptionType").setModel(m);C.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return e.promise();}var g=C.oParentObject.getFilterMappingTargetPropertyLabelDisplayOption();C.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(S,E).done(function(h){if((g===L.KEY_AND_TEXT||g===L.TEXT)&&!h.getPropertyMetadata(p).text){m=d.getValidatedLabelDisplayOptions();l=a.addPrefixText([g],f);g=l[0];}C.byId("idOptionalLabelDisplayOptionType").setModel(m);C.byId("idOptionalLabelDisplayOptionType").setSelectedKey(g);e.resolve();});return e.promise();},
enableDisableLabelDisplayOptionTypeAsPromise:function(){var C=this;var S=C.getSource();var e=C.getEntity();var f=q.Deferred();var o=C.getView().getViewData().oTextReader;var D=C.byId("idOptionalLabelDisplayOptionType");var p=a.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),o(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));C.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(S,e).done(function(g){var i=g.getPropertyMetadata(p).text;D.getItems().forEach(function(h){h.setEnabled(true);if(h.getKey()!=="key"&&!i){h.setEnabled(false);}});f.resolve();});return f.promise();},
changeLabelDisplayOption:function(l){var C=this;C.oParentObject.setFilterMappingTargetPropertyLabelDisplayOption(l);},
changeOptionalSelectedPropertyLabelText:function(l){var C=this;if(l.trim().length===0){C.oParentObject.setFilterMappingTargetPropertyLabelKey(undefined);_(C);b(C);return;}C.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(l,T).done(function(L){C.oParentObject.setFilterMappingTargetPropertyLabelKey(L);_(C);b(C);});},
onBeforeRendering:function(){var C=this;C.byId("idSelectPropertiesLabel").setVisible(false);C.byId("idSelectProperties").setVisible(false);C.byId("idOptionalRequestFieldLabel").setVisible(true);C.byId("idOptionalRequestField").setVisible(true);C.byId("idOptionalLabelDisplayOptionType").setVisible(true);C.byId("idOptionalRequestField").setForceSelection(false);C.byId("idOptionalSelectedPropertyLabel").setVisible(true);C.byId("idOptionalSelectedPropertyLabelText").setVisible(true);},
onAfterRendering:function(){c(this);},
getIdOfPropertiesControl:function(){return"idOptionalRequestField";},
getIdOfPropertyLabel:function(){return"idOptionalRequestFieldLabel";},
setSelectedKeysForProperties:function(p){var C=this;if(p.length!==0){C.byId("idOptionalRequestField").setSelectedKey(p[0]);}else{C.byId("idOptionalRequestField").clearSelection();}},
getSelectedKeysForProperties:function(){var C=this,S,e;var o=C.getView().getViewData().oTextReader;S=a.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),o(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));e=n.checkIsNotNullOrUndefinedOrBlank(S)?[S]:[];return e;},
setDisplayText:function(){var C=this;var o=C.getView().getViewData().oTextReader;C.byId("idSourceLabel").setText(o("source"));C.byId("idEntityLabel").setText(o("entity"));C.byId("idOptionalRequestFieldLabel").setText(o("targetProperty"));},
resetEntityAndProperties:function(){var C=this;C.clearEntity();C.byId("idEntity").setModel(null);C.byId("idEntity").setSelectedKey(undefined);C.clearSelectProperties();C.byId("idOptionalRequestField").setModel(null);C.byId("idOptionalRequestField").setSelectedKey(undefined);},
resetFilterMappingFields:function(){var C=this;C.clearSource();C.byId("idSource").setValue("");C.resetEntityAndProperties();C.addOrRemoveMandatoryFieldsAndRequiredFlag(false);},
updateFilterMappingFields:function(){var C=this,S,e,E,f,g;var o=C.getView().getViewData().oTextReader;S=C.byId("idSource").getValue().trim();C.oConfigurationEditor.setIsUnsaved();if(n.checkIsNotNullOrUndefinedOrBlank(S)){C.getAllEntitiesAsPromise(S).done(function(h){if(!n.checkIsNotNullOrUndefinedOrBlank(h)){C.resetEntityAndProperties();return;}C.setDetailData();e=a.removePrefixText(C.byId("idEntity").getSelectedKey(),o(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));E=n.checkIsNotNullOrUndefinedOrBlank(e)?e:undefined;C.updateEntity(E);f=a.removePrefixText(C.byId("idOptionalRequestField").getSelectedKey(),o(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));g=n.checkIsNotNullOrUndefinedOrBlank(f)?[f]:[];C.updateSelectProperties(g);});}},
getSource:function(){var C=this;return C.oParentObject.getFilterMappingService();},
getAllEntitiesAsPromise:function(S){var C=this;return C.oConfigurationEditor.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise(S,C.oParentObject.getFilterProperties());},
getEntity:function(){var C=this;return C.oParentObject.getFilterMappingEntitySet();},
getAllEntitySetPropertiesAsPromise:function(S,e){var C=this;return C.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(S,e);},
clearSource:function(){var C=this;C.oParentObject.setFilterMappingService(undefined);C.clearEntity();},
clearEntity:function(){var C=this;C.oParentObject.setFilterMappingEntitySet(undefined);C.clearSelectProperties();},
clearSelectProperties:function(){var C=this;var o=C.oParentObject.getFilterMappingTargetProperties();o.forEach(function(p){C.oParentObject.removeFilterMappingTargetProperty(p);});C.byId("idOptionalSelectedPropertyLabelText").setValue("");},
removeSelectProperties:function(p){var C=this;p.forEach(function(e){C.oParentObject.removeFilterMappingTargetProperty(e);});},
updateSource:function(S){var C=this;C.oParentObject.setFilterMappingService(S);},
updateEntity:function(e){var C=this;C.oParentObject.setFilterMappingEntitySet(e);},
updateSelectProperties:function(S){var C=this;C.removeSelectProperties(C.oParentObject.getFilterMappingTargetProperties());S.forEach(function(p){C.oParentObject.addFilterMappingTargetProperty(p);});},
updateOptionalRequestFieldProperty:function(f){var C=this;C.updateSelectProperties(f);},
getSelectProperties:function(){var C=this;return C.oParentObject.getFilterMappingTargetProperties();},
getValidationState:function(){var C=this;return C.viewValidator.getValidationState();}
});
return s;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/stepSortPropertyType.controller',["sap/apf/modeler/ui/controller/sortPropertyType","sap/ui/thirdparty/jquery"],function(s,q){"use strict";
var a=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.stepSortPropertyType",{
onBeforeRendering:function(){var c=this;c.byId("idGridSortLabel").setSpan("L4 M4 S4");c.byId("idGridSortProperty").setSpan("L2 M2 S2");c.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");c.byId("idGridSortDirection").setSpan("L2 M2 S2");c.byId("idGridIconLayout").setSpan("L2 M2 S2");},
updateOfConfigurationObjectOfSubclass:function(S){var c=this;c.oParentObject.setTopNSortProperties(S);},
getAllPropertiesAsPromise:function(){var c=this,A,S,p;var t=sap.apf.modeler.ui.utils.textManipulator;var d=q.Deferred();c.oParentObject.getConsumablePropertiesForTopN().done(function(r){A=r.consumable;S=c.getSelectedSortProperty();if(S!==undefined){p=A.indexOf(S)!==-1?A:A.concat(S);A=r.available.indexOf(S)!==-1?p:A.concat(t.addPrefixText([S],c.oTextReader));S=r.available.indexOf(S)!==-1?S:t.addPrefixText([S],c.oTextReader)[0];}d.resolve({aAllProperties:A,sSelectedKey:S});});return d.promise();},
getOrderBy:function(){var c=this;return c.oParentObject.getTopN().orderby;},
setNextPropertyInParentObject:function(){var c=this;c.updateOfConfigurationObject();c.byId("idSortDirection").setSelectedKey("true");},
removePropertyFromParentObject:function(){var c=this;c.updateOfConfigurationObject();},
addPropertyAsPromise:function(){var c=this;var d=q.Deferred();var C=sap.apf.modeler.ui.utils.CONSTANTS.events;c.oParentObject.getConsumablePropertiesForTopN().done(function(r){c.getView().fireEvent(C.ADDPROPERTY,{"oSourceView":c.getView(),"sProperty":r.consumable[0],"sContext":c.getView().getViewData().oPropertyTypeData.sContext});c.oConfigurationEditor.setIsUnsaved();d.resolve();});return d.promise();}
});
return a;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/constants',function(){"use strict";var c={configurationObjectTypes:{CONFIGURATION:"configuration",FACETFILTER:"facetFilter",SMARTFILTERBAR:"smartFilterBar",CATEGORY:"category",STEP:"step",REPRESENTATION:"representation",NAVIGATIONTARGET:"navigationTarget",ISNEWCONFIG:"apf1972-"},events:{UPDATESUBVIEWINSTANCESONRESET:"updateSubViewInstancesOnResetEvent",ADDPROPERTY:"addProperty",REMOVEPROPERTY:"removeProperty",SETNEXTPROPERTYINPARENTOBJECT:"setNextPropertyInParentObject",REMOVECURRENTPROPERTYFROMPARENTOBJECT:"removeCurrentPropertyFromParentObject",REMOVEPROPERTYFROMPARENTOBJECT:"removePropertyFromParentObject",REMOVEALLPROPERTIESFROMPARENTOBJECT:"removeAllPropertiesFromParentObject",UPDATEPROPERTYVALUESTATE:"updatePropertyValueState",SETFOCUSONADDICON:"setFocusOnAddIcon",FOCUSONREMOVE:"focusOnRemove",SETFOCUSONREMOVEICON:"setFocusOnRemoveIcon",UPDATEPROPERTY:"updateProperty",REMOVEADDEDPROPERTYFROMOTHERPROPERTYTYPE:"removeAddedPropertyFromOtherPropertyType",ADDREMOVEDPROPERTYFROMOTHERPROPERTYTYPE:"addRemovedPropertyFromOtherPropertyType",facetFilter:{ENABLEDISABLEFRRFIELDS:"enableDisableFRRFields",USESAMEASVHR:"useSameAsVHR",CLEARVHRFIELDSIFVALUELIST:"clearVHRFieldsIfValueList",DONOTSHOWATRUNTIME:"doNotShowAtRuntime",UPDATEPROPERTIES:"updatePropertiesInConfiguration"},step:{SETTOPNPROPERTIES:"setTopNProperties",SETDATAREDUCTIONSECTION:"setDataReductionSection",SETVISIBILITYOFFILTERMAPPINGFIELDS:"setVisibilityOfFilterMappingFields",RESETFILTERMAPPINGFIELDS:"resetFilterMappingFields",UPDATEFILTERMAPPINGFIELDS:"updateFilterMappingFields"},representation:{SETCHARTICON:"setChartIcon"}},propertyTypes:{HIERARCHIALCOLUMN:"hierarchicalColumn",DIMENSION:"dimensions",MEASURE:"measures",LEGEND:"legend",PROPERTY:"property",REPRESENTATIONSORT:"representationSort",STEPSORT:"stepSort"},aggregationRoles:{DIMENSION:"dimension",MEASURE:"measure"},similarChartTypes:["ColumnChart","BarChart","LineChart","StackedColumnChart","StackedBarChart","PercentageStackedColumnChart","PercentageStackedBarChart"],texts:{NOTAVAILABLE:"notavailableText"}};sap.apf.modeler.ui.utils.CONSTANTS=c;return c;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/displayOptionsValueBuilder',["sap/apf/modeler/ui/utils/textManipulator"],function(t){"use strict";
sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder=function(T,o){this.oTextReader=T;this.oOptionsValueModelBuilder=o;};
sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.constructor=sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;
sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.getLabelDisplayOptions=function(){var l=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")},{key:"keyAndText",name:this.oTextReader("keyAndText")}];return this.oOptionsValueModelBuilder.prepareModel(l,l.length);};
sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.getMeasureDisplayOptions=function(){var m=[{key:"line",name:this.oTextReader("line")},{key:"bar",name:this.oTextReader("column")}];return this.oOptionsValueModelBuilder.prepareModel(m,m.length);};
sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.getValidatedLabelDisplayOptions=function(){var T=sap.apf.modeler.ui.utils.textManipulator;var l=[{key:"key",name:this.oTextReader("key")},{key:T.addPrefixText(["text"],this.oTextReader)[0],name:T.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]},{key:T.addPrefixText(["keyAndText"],this.oTextReader)[0],name:T.addPrefixText([this.oTextReader("keyAndText")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(l,l.length);};
});
sap.ui.predefine('sap/apf/modeler/ui/utils/labelForRepresentationTypes',function(){'use strict';var L=function(t){this.oTextReader=t;};
L.prototype.getLabelsForChartType=function(r,k){var x={"xAxis":this.oTextReader("dim-for-xaxis"),"legend":this.oTextReader("dim-for-legend"),"yAxis":this.oTextReader("meas-for-yaxis")};var y={"xAxis":this.oTextReader("dim-for-yaxis"),"legend":this.oTextReader("dim-for-legend"),"yAxis":this.oTextReader("meas-for-xaxis")};var a={"xAxis":this.oTextReader("dim-for-xaxis"),"legend":this.oTextReader("dim-for-legend"),"yAxis":this.oTextReader("meas-for-leftVAxis"),"yAxis2":this.oTextReader("meas-for-rightVAxis")};var b={"xAxis":this.oTextReader("dim-for-xaxis"),"legend":this.oTextReader("dim-for-legend"),"yAxis":this.oTextReader("meas-for-yaxis-Display")};var c={"xAxis":this.oTextReader("dim-for-xaxis"),"legend":this.oTextReader("dim-for-legend"),"yAxis":this.oTextReader("meas-for-leftVAxis-Display"),"yAxis2":this.oTextReader("meas-for-rightVAxis-Display")};var R={"ColumnChart":x,"BarChart":y,"LineChart":x,"LineChartWithTwoVerticalAxes":a,"LineChartWithTimeAxis":x,"PieChart":{"sectorColor":this.oTextReader("dim-for-sectorColor"),"sectorSize":this.oTextReader("meas-for-sectorSize")},"DonutChart":{"sectorColor":this.oTextReader("dim-for-sectorColor"),"sectorSize":this.oTextReader("meas-for-sectorSize")},"ScatterPlotChart":{"regionColor":this.oTextReader("dim-for-colorDataPoints"),"regionShape":this.oTextReader("dim-for-shapeDataPoints"),"xAxis":this.oTextReader("meas-for-xaxis"),"yAxis":this.oTextReader("meas-for-yaxis")},"BubbleChart":{"regionColor":this.oTextReader("dim-for-bubbleColor"),"regionShape":this.oTextReader("dim-for-bubbleShape"),"xAxis":this.oTextReader("meas-for-xaxis"),"yAxis":this.oTextReader("meas-for-yaxis"),"bubbleWidth":this.oTextReader("meas-for-bubbleWidth")},"StackedColumnChart":x,"StackedBarChart":y,"PercentageStackedColumnChart":x,"PercentageStackedBarChart":y,"HeatmapChart":{"xAxis":this.oTextReader("dim-for-xaxis"),"xAxis2":this.oTextReader("dim-for-yaxis"),"sectorColor":this.oTextReader("meas-for-sectorColor")},"CombinationChart":b,"StackedCombinationChart":b,"DualCombinationChart":c,"DualStackedCombinationChart":c,"TableRepresentation":{"column":this.oTextReader("prop-for-column")},"TreeTableRepresentation":{"hierarchicalColumn":this.oTextReader("prop-for-hierarchy-column"),"column":this.oTextReader("prop-for-column")}};return R[r][k];};
return L;});
sap.ui.predefine('sap/apf/modeler/ui/utils/nullObjectChecker',function(){'use strict';var n={};
n.checkIsNotUndefined=function(o){if(o===undefined){return false;}return true;};
n.checkIsNotNull=function(o){if(o===null){return false;}return true;};
n.checkIsNotBlank=function(o){if((o instanceof Array)&&o.length===0){return false;}if((o instanceof Object)&&(Object.keys(o).length===0)){return false;}if(o===""){return false;}return true;};
n.checkIsNotNullOrBlank=function(o){return(this.checkIsNotNull(o)&&this.checkIsNotBlank(o));};
n.checkIsNotNullOrUndefined=function(o){return(this.checkIsNotNull(o)&&this.checkIsNotUndefined(o));};
n.checkIsNotUndefinedOrBlank=function(o){return(this.checkIsNotUndefined(o)&&this.checkIsNotBlank(o));};
n.checkIsNotNullOrUndefinedOrBlank=function(o){return(this.checkIsNotNull(o)&&this.checkIsNotUndefined(o)&&this.checkIsNotBlank(o));};
return n;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/optionsValueModelBuilder',["sap/apf/modeler/ui/utils/nullObjectChecker"],function(n){'use strict';var D=500;var o={};
o.prepareModel=function(a,l){var m;if(!n.checkIsNotNullOrUndefined(l)){l=D;}m=new sap.ui.model.json.JSONModel();m.setSizeLimit(l);m.setData({Objects:a});return m;};
o.convert=function(a,l){var b=[],c;if(!n.checkIsNotNullOrUndefinedOrBlank(a)){return undefined;}a.forEach(function(v){if(!n.checkIsNotNullOrUndefined(v)){return;}c={};c.key=v instanceof Object?v.key:v;c.name=v instanceof Object?v.name:v;b.push(c);});return o.prepareModel(b,l);};
return o;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/propertyTypeState',['sap/apf/modeler/ui/utils/nullObjectChecker'],function(n){'use strict';
function c(){this.aProperties=[];this.aPropertyTypeViewIds=[];}
c.prototype.constructor=c;
c.prototype.addProperty=function(p){if(!n.checkIsNotNullOrUndefinedOrBlank(p)){return;}this.aProperties.push(p);};
c.prototype.addPropertyAt=function(p,a){if(!n.checkIsNotNullOrUndefinedOrBlank(p)){return;}if(a>this.aProperties.length&&a>=0){return;}this.aProperties.splice(a,0,p);};
c.prototype.updatePropertyAt=function(N,a){if(!n.checkIsNotNullOrUndefinedOrBlank(N)){return;}if(a>this.aProperties.length&&a>=0){return;}this.aProperties[a]=N;};
c.prototype.removePropertyAt=function(a){if(a>this.aProperties.length&&a>=0){return;}this.aProperties.splice(a,1);};
c.prototype.removeAllProperties=function(){this.aProperties.splice(0,this.aProperties.length);};
c.prototype.isPropertyPresentExactlyOnce=function(p){var a,b=0;for(a=0;a<this.aProperties.length;a++){if(this.aProperties[a]===p){b++;}}if(b===1){return true;}return false;};
c.prototype.getPropertyValueState=function(){return this.aProperties;};
c.prototype.addPropertyTypeViewId=function(v){if(!n.checkIsNotNullOrUndefinedOrBlank(v)){return;}this.aPropertyTypeViewIds.push(v);};
c.prototype.addPropertyTypeViewIdAt=function(v,a){if(!n.checkIsNotNullOrUndefinedOrBlank(v)){return;}if(a>this.aProperties.length&&a>=0){return;}this.aPropertyTypeViewIds.splice(a,0,v);};
c.prototype.removePropertyTypeViewIdAt=function(a){if(a>this.aProperties.length&&a>=0){return;}this.aPropertyTypeViewIds.splice(a,1);};
c.prototype.removeAllPropertyTypeViewIds=function(){this.aPropertyTypeViewIds.splice(0,this.aPropertyTypeViewIds.length);};
c.prototype.indexOfPropertyTypeViewId=function(v){return this.aPropertyTypeViewIds.indexOf(v);};
c.prototype.getViewAt=function(a){if(!n.checkIsNotNullOrUndefinedOrBlank(a)){return;}return sap.ui.getCore().byId(this.aPropertyTypeViewIds[a]);};
return c;});
sap.ui.predefine('sap/apf/modeler/ui/utils/representationBasicDataHandler',["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(m,p){'use strict';
function R(r,s,o,v){this.oRepresentationView=r;this.oRepresentation=o.oRepresentation;this.oStepPropertyMetadataHandler=s;this.oRepresentationTypeHandler=o.oRepresentationTypeHandler;this.oRepresentationHandler=o;this.nCounter=0;this.oViewValidator=v;this.propertyTypeHandlerPromises=[];}
R.prototype._prepareCommonView=function(r,P,e,o){var v,V={},f={};if(e.length===0){return;}f.oConfigurationEditor=r.oRepresentationView.getViewData().oConfigurationEditor;f.oParentObject=r.oRepresentation;f.oCoreApi=r.oRepresentationView.getViewData().oCoreApi;f.oConfigurationHandler=r.oRepresentationView.getViewData().oConfigurationHandler;f.oRepresentationTypeHandler=r.oRepresentationTypeHandler;f.oRepresentationHandler=r.oRepresentationHandler;f.oStepPropertyMetadataHandler=r.oStepPropertyMetadataHandler;f.sPropertyType=P;f.oBasicDataLayout=r.oRepresentationView.getController().byId("idBasicDataLayout");f.oTextPool=r.oRepresentationView.getViewData().oConfigurationHandler.getTextPool();f.oViewValidator=r.oViewValidator;V.oViewDataForPropertyType=f;V.aPropertiesToBeCreated=e;V.oPropertyOrchestration=o;v=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:sap.ui.core.mvc.ViewType.XML,id:r.oRepresentationView.getController().createId("id"+P),viewData:V});r.oRepresentationView.getController().byId("idBasicDataLayout").insertItem(v,r.nCounter);r.nCounter++;r.oRepresentationView.attachEvent(m.events.REMOVEALLPROPERTIESFROMPARENTOBJECT,v.getController().handleRemoveOfProperty.bind(v.getController()));r.propertyTypeHandlerPromises.push(v.getController().initPromise);};
function _(r,P){r._prepareCommonView(r,m.propertyTypes.DIMENSION,r.oRepresentationHandler.getActualDimensions(),P);}
function a(r,P){r._prepareCommonView(r,m.propertyTypes.LEGEND,r.oRepresentationHandler.getActualLegends(),P);}
function b(r,P){r._prepareCommonView(r,m.propertyTypes.MEASURE,r.oRepresentationHandler.getActualMeasures(),P);}
function c(r,P){r._prepareCommonView(r,m.propertyTypes.PROPERTY,r.oRepresentationHandler.getActualProperties(),P);}
function d(r,P){r._prepareCommonView(r,m.propertyTypes.HIERARCHIALCOLUMN,r.oRepresentationHandler.getHierarchicalProperty(),P);}
R.prototype.instantiateBasicDataAsPromise=function(){var e=this;var r=e.oRepresentation.getId();var f=jQuery.Deferred();this.propertyTypeHandlerPromises.push(f);p.getConsumableAndAvailablePropertiesAsPromise(r,m.aggregationRoles.DIMENSION,e.oStepPropertyMetadataHandler).then(function(D){p.getConsumableAndAvailablePropertiesAsPromise(r,m.aggregationRoles.MEASURE,e.oStepPropertyMetadataHandler).then(function(M){var P;var o;var g;e.destroyBasicData();if(e.oRepresentation.getRepresentationType()==="TreeTableRepresentation"){g=new p.PropertyTypeOrchestration();d(e,g);c(e,g);}else if(e.oRepresentation.getRepresentationType()==="TableRepresentation"){g=new p.PropertyTypeOrchestration();c(e,g);}else{o=new p.PropertyTypeOrchestration();_(e,o);a(e,o);P=new p.PropertyTypeOrchestration();b(e,P);}f.resolve();});});return jQuery.when.apply(jQuery,this.propertyTypeHandlerPromises);};
R.prototype.destroyBasicData=function(){this.oViewValidator.clearFields();this.nCounter=0;this.oRepresentationView.getController().byId("idBasicDataLayout").destroyItems();};
return R;});
sap.ui.predefine('sap/apf/modeler/ui/utils/representationHandler',function(){'use strict';var r=function(R,o,t){this.oRepresentation=R;this.oRepresentationTypeHandler=o;this.oTextReader=t;};
function g(k,K){var o;k.forEach(function(b){if(b.kind===K){o=b;}});return o;}
function _(A,s,b,m,t){var p=[],k;s.forEach(function(K){var o=g(A,K);var n=o.min;k=false;b.forEach(function(P){if(m===undefined||(m&&m(P)===K)){p.push({sProperty:P,sContext:K,bMandatory:n>0?true:false});k=true;n--;}});while(!k||n>0){var d=n>0?"":t("none");p.push({sProperty:d,sContext:K,bMandatory:n>0?true:false});k=true;n--;}});return p;}
function a(R,s){var b;R.forEach(function(c){if(c["id"]===s){b=c;}});return b;}
r.prototype.formPropertiesToBeCreated=function(A,s,b,m){return _(A,s,b,m,this.oTextReader);};
r.prototype.getActualDimensions=function(){var R=this.oRepresentation.getRepresentationType();var o=a(this.oRepresentationTypeHandler.aRepresentationTypes,R);var A=this.oRepresentation.getDimensions();var s=this.oRepresentationTypeHandler.getKindsForDimensionPropertyType(R);return this.formPropertiesToBeCreated(o.metadata.dimensions.supportedKinds,s,A,this.oRepresentation.getDimensionKind);};
r.prototype.getActualLegends=function(){var R=this.oRepresentation.getRepresentationType();var o=a(this.oRepresentationTypeHandler.aRepresentationTypes,R);var A=this.oRepresentation.getDimensions();var s=this.oRepresentationTypeHandler.getKindsForLegendPropertyType(R);return this.formPropertiesToBeCreated(o.metadata.dimensions.supportedKinds,s,A,this.oRepresentation.getDimensionKind);};
r.prototype.getActualMeasures=function(){var R=this.oRepresentation.getRepresentationType();var o=a(this.oRepresentationTypeHandler.aRepresentationTypes,R);var A=this.oRepresentation.getMeasures();var s=this.oRepresentationTypeHandler.getKindsForMeasurePropertyType(R);return this.formPropertiesToBeCreated(o.metadata.measures.supportedKinds,s,A,this.oRepresentation.getMeasureKind);};
r.prototype.getActualProperties=function(){var R=this.oRepresentation.getRepresentationType();var o=a(this.oRepresentationTypeHandler.aRepresentationTypes,R);var A=this.oRepresentation.getProperties();var s=this.oRepresentationTypeHandler.getKindsForPropertyType(R);return this.formPropertiesToBeCreated(o.metadata.properties.supportedKinds,s,A,this.oRepresentation.getPropertyKind);};
r.prototype.getHierarchicalProperty=function(){var R=this.oRepresentation.getRepresentationType();var o=a(this.oRepresentationTypeHandler.aRepresentationTypes,R);var A=[];A.push(this.oRepresentation.getHierarchyProperty());var s=this.oRepresentationTypeHandler.getKindsForHierarchicalPropertyType(R);return this.formPropertiesToBeCreated(o.metadata.hierarchicalColumn.supportedKinds,s,A,undefined);};
return r;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/sortDataHandler',["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(m,p){'use strict';var S=function(P,o,s,t){this.oParentView=P;this.oStepPropertyMetadataHandler=s;this.oParentObject=o;this.oTextReader=t;};
function c(s,t,P){var v;var o=new p.PropertyTypeOrchestration();var V={oConfigurationEditor:s.oParentView.getViewData().oConfigurationEditor,oParentObject:s.oParentObject,oCoreApi:s.oParentView.getViewData().oCoreApi,oConfigurationHandler:s.oParentView.getViewData().oConfigurationHandler,oStepPropertyMetadataHandler:s.oStepPropertyMetadataHandler,sPropertyType:t};var a={oViewDataForPropertyType:V,aPropertiesToBeCreated:P,oPropertyOrchestration:o};v=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:sap.ui.core.mvc.ViewType.XML,id:s.oParentView.getController().createId("id"+t),viewData:a});s.oParentView.getController().byId("idSortLayout").insertItem(v);s.oParentView.attachEvent(m.events.step.SETTOPNPROPERTIES,v.getController().handleSettingTopNProperties.bind(v.getController()));}
function _(s){var P=[];s.forEach(function(o){P.push({sProperty:o.property,sContext:o.ascending?"true":"false"});});return P;}
S.prototype.instantiateRepresentationSortData=function(){var r=_(this.oParentObject.getOrderbySpecifications());if(r.length===0){r=[{sProperty:this.oTextReader("none"),sContext:"true"}];}c(this,m.propertyTypes.REPRESENTATIONSORT,r);};
S.prototype.instantiateStepSortData=function(){var r;this.destroySortData();if(this.oParentObject.getTopN()&&this.oParentObject.getTopN().orderby.length!==0){r=_(this.oParentObject.getTopN().orderby);}else{r=[{sProperty:this.oStepPropertyMetadataHandler.getProperties()[0],sContext:"true"}];}c(this,m.propertyTypes.STEPSORT,r);};
S.prototype.destroySortData=function(){this.oParentView.getController().byId("idSortLayout").destroyItems();};
return S;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/staticValuesBuilder',['sap/apf/modeler/ui/utils/nullObjectChecker','sap/apf/modeler/ui/utils/textManipulator'],function(n,t){'use strict';
function S(T,o){this.oTextReader=T;this.oOptionsValueModelBuilder=o;}
S.prototype.constructor=S;
S.prototype.getNavTargetTypeData=function(){var N=[this.oTextReader("globalNavTargets"),this.oTextReader("stepSpecific")];return this.oOptionsValueModelBuilder.convert(N,N.length);};
S.prototype.getSortDirections=function(){var s=[{key:"true",name:this.oTextReader("ascending")},{key:"false",name:this.oTextReader("descending")}];return this.oOptionsValueModelBuilder.prepareModel(s,s.length);};
sap.apf.modeler.ui.utils.StaticValuesBuilder=S;return S;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/stepPropertyMetadataHandler',["sap/apf/modeler/ui/utils/constants"],function(m){'use strict';var S=function(c,s){this.oCoreApi=c;this.oStep=s;};
function _(e,s,a){var p=[],A;var b=s.oStep.getSelectProperties();b.forEach(function(P){if(s.getPropertyMetadata(e,P)){A=s.getPropertyMetadata(e,P)["aggregation-role"];if(A===a){p.push(P);}}});return p;}
S.prototype.getEntityTypeMetadataAsPromise=function(){var a=this.oStep.getService();var e=this.oStep.getEntitySet();return this.oCoreApi.getEntityTypeMetadataAsPromise(a,e);};
S.prototype.getFilterMappingEntityTypeMetadataAsPromise=function(a,e){return this.oCoreApi.getEntityTypeMetadataAsPromise(a,e);};
S.prototype.getDimensionsProperties=function(e){return _(e,this,m.aggregationRoles.DIMENSION);};
S.prototype.getMeasures=function(e){return _(e,this,m.aggregationRoles.MEASURE);};
S.prototype.getProperties=function(){return this.oStep.getSelectProperties();};
S.prototype.getHierarchicalProperty=function(){return this.oStep.getHierarchyProperty();};
S.prototype.getPropertyMetadata=function(e,p){if(!e){return undefined;}return e.getPropertyMetadata(p);};
S.prototype.getDefaultLabel=function(e,p){var s=this;var P=s.getPropertyMetadata(e,p);if(!P){return"";}return P.label||P.name;};
S.prototype.hasTextPropertyOfDimension=function(e,d){var i=false,s,o=this;var D=o.getPropertyMetadata(e,d);if(!D){return i;}if(D.text){s=this.oStep.getSelectProperties();i=s.indexOf(D.text)===-1?false:true;}return i;};
S.prototype.getRepresentationTypesArray=function(){var v=[],s=this;if(s.oStep.getType()==="hierarchicalStep"){v.push({key:"TreeTableRepresentation",name:s.oCoreApi.getText("TreeTableRepresentation")});}else{s.oCoreApi.getRepresentationTypes().forEach(function(r){if(r.metadata){if(r.id!=="TreeTableRepresentation"){v.push({key:r.id,name:s.oCoreApi.getText(r.label.key)});}}});}return v;};
S.prototype.getStepType=function(){return this.oStep.getType();};
sap.apf.modeler.ui.utils.StepPropertyMetadataHandler=S;return S;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/textManipulator',function(){'use strict';var t={};
t.addPrefixText=function(p,T){var P=[];if(p){P=p.map(function(s){return T(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)+": "+s;});}return P;};
t.removePrefixText=function(p,a){var b=p.replace(a,"");return b.replace(": ","");};
return t;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/textPoolHelper',['sap/apf/modeler/ui/utils/optionsValueModelBuilder'],function(o){'use strict';var m={SuggestionTextHandler:function(t){this.oTextPool=t;},TranslationFormatMap:{APPLICATION_TITLE:{TextElementType:"XTIT",MaximumLength:250},CATEGORY_TITLE:{TextElementType:"XTIT",MaximumLength:60},FACETFILTER_LABEL:{TextElementType:"XFLD",MaximumLength:50},STEP_TITLE:{TextElementType:"XTIT",MaximumLength:100},STEP_LONG_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEP_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},REPRESENTATION_LABEL:{TextElementType:"XTIT",MaximumLength:80},REPRESENTATION_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},NAVTARGET_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEPFILTERPROPERTY_LABEL:{TextElementType:"XTIT",MaximumLength:80}}};
m.SuggestionTextHandler.prototype.manageSuggestions=function(e,s){var c=e.getSource();var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var v=e.getParameter("suggestValue");var M=o.convert(s,s.length);var u=v.toUpperCase();var l=v.toLowerCase();var f=[new sap.ui.model.Filter("key",sap.ui.model.FilterOperator.Contains,u),new sap.ui.model.Filter("key",sap.ui.model.FilterOperator.Contains,l)];var F=new sap.ui.model.Filter(f,false);c.setModel(null);c.removeAllSuggestionItems();c.setModel(M);c.getBinding("suggestionItems").filter(F);};
m.SuggestionTextHandler.prototype.manageSuggestionTexts=function(e,t){var s=[];var E=this.oTextPool.getTextsByTypeAndLength(t.TextElementType,t.MaximumLength);if(E.length!==0){E.forEach(function(a){s.push(a.TextElementDescription);});this.manageSuggestions(e,s);}};
sap.apf.modeler.ui.utils.SuggestionTextHandler=m.SuggestionTextHandler;sap.apf.modeler.ui.utils.TranslationFormatMap=m.TranslationFormatMap;return m;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/viewValidator',["sap/apf/modeler/ui/utils/nullObjectChecker"],function(n){'use strict';var v=function(a){this.aFieldIds=[];this.oView=a;};
function s(f){var i=true;if((typeof f)!=='string'){i=false;}return i;}
function c(C,f){var i=true;if(!C.oView.byId(f)){i=false;}return i;}
v.prototype.addFields=function(f){if(!n.checkIsNotNullOrUndefinedOrBlank(f)){return;}var a,l=f.length;for(a=0;a<l;a++){if(s(f[a])&&c(this,f[a])&&this.aFieldIds.indexOf(f[a])===-1){this.aFieldIds.push(f[a]);}}};
v.prototype.addField=function(f){if(!n.checkIsNotNullOrUndefinedOrBlank(f)){return;}if(s(f)&&c(this,f)&&this.aFieldIds.indexOf(f)===-1){this.aFieldIds.push(f);}};
v.prototype.removeFields=function(f){var i=-1;var a,l=f.length;if(n.checkIsNotNullOrUndefinedOrBlank(f)===false){return;}if(n.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return;}for(a=0;a<l;a++){i=this.aFieldIds.indexOf(f[a]);if(s(f[a])&&c(this,f[a])&&i!==-1){this.aFieldIds.splice(i,1);}}};
v.prototype.removeField=function(f){var i=-1;if(n.checkIsNotNullOrUndefinedOrBlank(f)===false){return;}if(n.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return;}i=this.aFieldIds.indexOf(f);if(s(f)&&c(this,f)&&i!==-1){this.aFieldIds.splice(i,1);}};
v.prototype.getFields=function(){return this.aFieldIds;};
v.prototype.getView=function(){return this.oView;};
v.prototype.clearFields=function(){var l=this.aFieldIds.length;this.aFieldIds.splice(0,l);};
v.prototype.getValidationState=function(){var V=true,i;for(i=0;i<this.aFieldIds.length;i++){if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.MultiComboBox){V=(this.oView.byId(this.aFieldIds[i]).getSelectedKeys().length>=1)?true:false;}else if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.Input){if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.MultiInput){V=(this.oView.byId(this.aFieldIds[i]).getTokens().length>=1)?true:false;}else{V=(this.oView.byId(this.aFieldIds[i]).getValue().trim()!=="")?true:false;}}else if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.ComboBox){V=(this.oView.byId(this.aFieldIds[i]).getValue().trim()!=="")?true:false;}else if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.Select){V=(this.oView.byId(this.aFieldIds[i]).getSelectedKey().length>=1)?true:false;}if(V===false){break;}}return V;};
sap.apf.modeler.ui.utils.ViewValidator=v;return v;},true);
sap.ui.predefine('sap/apf/ui/representations/utils/paginationDisplayOptionHandler',["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/utils","sap/apf/core/metadataProperty"],function(d,u,m){"use strict";
sap.apf.ui.representations.utils.PaginationDisplayOptionHandler=function(){this.oKeyTextForProperties={};this.oDisplayValueForProperties={};};
sap.apf.ui.representations.utils.PaginationDisplayOptionHandler.prototype.createDisplayValueLookupForPaginatedFilter=function(k,t,K){this.oKeyTextForProperties[k]=t;if(K){this.oDisplayValueForProperties[k]=K;}};
sap.apf.ui.representations.utils.PaginationDisplayOptionHandler.prototype.getDisplayNameForPaginatedFilter=function(p,r,R,f,a){var s=p,v;var b=new sap.apf.core.MetadataProperty(a.getPropertyMetadata(R));if(this.oDisplayValueForProperties[p]){s=this.oDisplayValueForProperties[p];}if(r&&r.labelDisplayOption){if(r.labelDisplayOption===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT&&this.oKeyTextForProperties[p]){return this.oKeyTextForProperties[p];}else if(r.labelDisplayOption===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT&&this.oKeyTextForProperties[p]){v={key:sap.apf.utils.convertToExternalFormat(s,b),text:this.oKeyTextForProperties[p]};return f.getFormattedValueForTextProperty(R,v);}}return sap.apf.utils.convertToExternalFormat(s,b);};
});
sap.ui.predefine('sap/apf/ui/representations/utils/representationFilterHandler',["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/utils","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(d,u,m,q){"use strict";
function _(f){return f.filter(function(i,n,F){return F.indexOf(i)===n;});}
function a(r,M,b){var n,s;var R=r.oParameter.requiredFilters[0];if(R){var l=r.oParameter.requiredFilterOptions?r.oParameter.requiredFilterOptions.labelDisplayOption:undefined;var c=r.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(R,l,M);var p=new sap.apf.core.MetadataProperty(M.getPropertyMetadata(c));r.aFilterValues.forEach(function(f){for(n=0;n<b.length;n++){if(b[n][R]===f){if(b[n]["formatted_"+c]){s=b[n]["formatted_"+c];}else{s=sap.apf.utils.convertToExternalFormat(b[n][c],p);}break;}}r.filterValueLookup[f]=s;});}}
sap.apf.ui.representations.utils.RepresentationFilterHandler=function(A,p,t){this.oApi=A;this.aFilterValues=[];this.oParameter=p;this.sRequiredFilter=this.oParameter.requiredFilters[0];this.oDisplayOptionHandler=new sap.apf.ui.representations.utils.DisplayOptionHandler();this.filterValueLookup={};this.oTimeAxisDateConverter=t;};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.constructor=sap.apf.ui.representations.utils.RepresentationFilterHandler;
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.setMetadataAndDataResponse=function(M,D){this.oMetadata=M;this.aDataResponse=D;};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.validateFiltersWithDataset=function(){var v=[];var A=this.aDataResponse.map(function(D){return D[this.sRequiredFilter];}.bind(this));v=this.aFilterValues.filter(function(f){return A.indexOf(f)!==-1;});this.aFilterValues=v;};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.createFilterFromSelectedValues=function(n){var f=this,i=false,v;var F=this.oApi.createFilter();if(n&&n.length>0){this.aFilterValues=_(n.concat(this.aFilterValues));}var A=F.getTopAnd().addOr('exprssionOr');var E=F.getOperators().EQ;i=f.oTimeAxisDateConverter.bIsConversionToDateRequired(this.oParameter.requiredFilters[0],this.oMetadata);this.aFilterValues.forEach(function(r){if(i){v=f.oTimeAxisDateConverter.getConvertedDateLookUp()[r]||r;}else{v=r;}var o={id:r,name:f.sRequiredFilter,operator:E,value:v};A.addExpression(o);});return F;};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.updateFilterFromSelection=function(f){var U=_(f);this.aFilterValues=U.slice(0);};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.clearFilters=function(){this.aFilterValues=[];};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.getDisplayInfoForFilters=function(M,b){var f=[],r=this;a(r,M,b);r.aFilterValues.forEach(function(c){var F={id:c,text:r.filterValueLookup[c]};f.push(F);});return f;};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.getFilterValues=function(){return this.aFilterValues;};
sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.getIfSelectedFilterChanged=function(n){var i=(q(this.aFilterValues).not(n).length===0)&&(q(n).not(this.aFilterValues).length===0);return!i;};
});
sap.ui.predefine('sap/apf/ui/reuse/controller/deleteAnalysisPath.controller',['sap/m/Dialog','sap/m/DialogType','sap/m/Text','sap/m/Button','sap/ui/model/json/JSONModel','sap/ui/core/mvc/Controller'],function(D,a,T,B,J,b){"use strict";return b.extend("sap.apf.ui.reuse.controller.deleteAnalysisPath",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator;},openPathGallery:function(){var p=new J();p.setData(this.getView().getViewData().jsonData);this.oDialog=this.getView().getContent()[0];this.oDialog.getContent()[0].setModel(p);this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open();},handleDeleteOfDialog:function(e){var p=e.getParameter("listItem").getProperty('title');var l={item:e.getParameter("listItem"),list:this.getView().getContent()[0].getContent()[0],guid:this.getGuidForPath(p,this.getView().getViewData().jsonData.GalleryElements),sPathName:p};this.openConfirmDelDialog(l);},getGuidForPath:function(p,v){var i;for(i=0;i<v.length;i++){var d=v[i];if(d.AnalysisPathName===p){return d.guid;}}},deleteSavedPath:function(p,i){var s=this;var g=i.guid;var c=p;var m;var d=s.oUiApi.getLayoutView().getController().oSavedPathName.getText();s.oSerializationMediator.deletePath(g,function(r,e,f){if(f===undefined&&(typeof r==="object")){i.list.removeItem(i.item);i.list.rerender();s.oCoreApi.readPaths(function(r,e,f){if(f===undefined&&(typeof r==="object")){var n=r.paths.length;if(n===0){jQuery(".pathText").removeClass("pathTextDontShow");jQuery(".pathText").addClass("pathTextShow");}}else{m=s.oCoreApi.createMessageObject({code:"6005",aParameters:[c]});m.setPrevious(f);s.oCoreApi.putMessage(m);}});}else{m=s.oCoreApi.createMessageObject({code:"6009",aParameters:[c]});m.setPrevious(f);s.oCoreApi.putMessage(m);}});if(s.oCoreApi.isDirty()){d=d.substring(1);}if(d===c){s.oUiApi.getAnalysisPath().getToolbar().getController().resetAnalysisPath();}},openConfirmDelDialog:function(l){var s=this;var p=l.sPathName;var t=new T().addStyleClass("textStyle");t.setText(s.oCoreApi.getTextNotHtmlEncoded("do-you-want-to-delete-analysis-path",["'"+p+"'"]));s.delConfirmDialog=new D({type:a.Standard,title:s.oCoreApi.getTextNotHtmlEncoded("delPath"),content:t,beginButton:new B({text:s.oCoreApi.getTextNotHtmlEncoded("yes"),press:function(){s.deleteSavedPath(p,l);s.delConfirmDialog.close();}}),endButton:new B({text:s.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){s.delConfirmDialog.close();}}),afterClose:function(){s.oUiApi.getLayoutView().setBusy(false);s.delConfirmDialog.destroy();}});if(sap.ui.Device.system.desktop){s.delConfirmDialog.addStyleClass("sapUiSizeCompact");}s.delConfirmDialog.open();}});});
sap.ui.predefine('sap/apf/ui/reuse/controller/messageHandler.controller',["sap/m/MessageBox","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/Log"],function(M,q,e,L){"use strict";var v;
function _(m){var t=m.getMessage();while(m.getPrevious()){m=m.getPrevious();t=t+'\n'+m.getMessage();}return t;}
function a(C,D){var o=C.getView().getViewData().oCoreApi;var i=o.getGenericExit("closeFatalErrorDialog");if(i){i(o,C,D);}else{window.history.go(-1);}}
function b(C,m){sap.m.MessageBox.information(m.getMessage(),{styleClass:sap.ui.Device.system.desktop?"sapUiSizeCompact":""});}
function c(C,m){sap.m.MessageToast.show(m.getMessage(),{width:"20em"});}
function d(C){var l=v.oCoreApi.getLogMessages();var s=false;for(var i=0;i<l.length;i++){if(l[i].search(5021)!==-1){s=true;break;}}return s;}
function f(C,m){var D=new sap.m.Dialog(C.createId("idShowDetailsDialog"),{contentWidth:q(window).height()*0.6+"px",contentHeight:q(window).height()*0.6+"px",title:v.oCoreApi.getTextNotHtmlEncoded("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:['<div><p> '+e(_(m))+'</p></div>'].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:v.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){D.close();}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}
function g(C,m){var s=d(C);var D=new sap.m.Dialog(C.createId("idFatalDialog"),{title:v.oCoreApi.getTextNotHtmlEncoded("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:s?v.oCoreApi.getTextNotHtmlEncoded("application-reload"):v.oCoreApi.getTextNotHtmlEncoded("fatalErrorMessage")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:v.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){f(C,m);}})]})],beginButton:new sap.m.Button({text:v.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){a(C,D);}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}
function h(C,m){var o=v.oCoreApi;var u=v.uiApi;var D=new sap.m.Dialog(C.createId("idShowValidStateDialog"),{title:o.getTextNotHtmlEncoded("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:o.getTextNotHtmlEncoded("lastValidStateMessage")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:o.getTextNotHtmlEncoded("showDetails"),press:function(){f(C,m);}})]})],beginButton:new sap.m.Button({text:o.getTextNotHtmlEncoded("gobackToValidState"),press:function(){var p=o.restoreApfState();p.then(function(){u.getAnalysisPath().getController().bLastValidState=true;u.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();o.updatePath(u.getAnalysisPath().getController().callBackForUpdatePath.bind(u.getAnalysisPath().getController()));u.getLayoutView().getController().setPathTitle();D.close();u.getAnalysisPath().getCarouselView().rerender();u.getLayoutView().setBusy(false);},function(){D.close();});}}),endButton:new sap.m.Button({text:o.getTextNotHtmlEncoded("startNewAnalysis"),press:function(){u.getAnalysisPath().getToolbar().getController().resetAnalysisPath();D.close();}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}
function j(C,m){var i=v.oCoreApi.isApfStateAvailable();if(i){h(C,m);}else{g(C,m);}}
sap.ui.controller("sap.apf.ui.reuse.controller.messageHandler",{onInit:function(){var C=this;if(sap.ui.Device.system.desktop){C.getView().addStyleClass("sapUiSizeCompact");}v=C.getView().getViewData();},showMessage:function(m){var C=this;var s=m.getSeverity();var S=sap.apf.core.constants.message.severity;switch(s){case S.fatal:v.uiApi.getLayoutView().setBusy(false);j(C,m);break;case S.error:v.uiApi.getLayoutView().setBusy(false);break;case S.information:b(C,m);break;case S.success:c(C,m);break;default:L.error("Error type not defined");break;}if(s===S.warning||s===S.error){sap.m.MessageToast.show(m.getMessage(),{width:"40%",offset:"0 -50",animationDuration:2000});}}});});
sap.ui.predefine('sap/apf/ui/reuse/controller/pathGallery.controller',['sap/apf/utils/trace'],function(t){'use strict';sap.ui.controller("sap.apf.ui.reuse.controller.pathGallery",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator;if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");}},openPathGallery:function(){if(this.oDialog){this.oDialog.destroy();}this.oDialog=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",this);var m=new sap.ui.model.json.JSONModel();var j=this.getPathGalleryData();m.setData(j);this.oDialog.setModel(m);if(sap.ui.Device.system.desktop){this.oDialog.addStyleClass("sapUiSizeCompact");}this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open();},getPathGalleryData:function(){var s=this;var a=this.getView().getViewData()?this.getView().getViewData().jsonData:{};var f=function(){var c={"steps":s.oCoreApi.getStepTemplates()};return c;};if(a.GalleryElements.length!==0){var b=a.GalleryElements;var c=f();var i,j,k,d;for(i=0;i<b.length;i++){for(j=0;j<b[i].StructuredAnalysisPath.steps.length;j++){for(k=0;k<c.steps.length;k++){var e=b[i].StructuredAnalysisPath.steps[j].stepId;var g=b[i].StructuredAnalysisPath.steps[j].selectedRepresentationId;if(e===c.steps[k].id){for(d in c.steps[k].getRepresentationInfo()){if(g===c.steps[k].getRepresentationInfo()[d].representationId){a.GalleryElements[i].StructuredAnalysisPath.steps[j].imgSrc=c.steps[k].getRepresentationInfo()[d].picture;a.GalleryElements[i].StructuredAnalysisPath.steps[j].title=s.oCoreApi.getTextNotHtmlEncoded(c.steps[k].title.key);}}}}}}}return a;},openPath:function(p,g,a){t.log("pathGallery.openPath",", ",a,", guid",g,"***********************");var s=this;var m;var c=s.oUiApi.getAnalysisPath().getCarouselView();this.oUiApi.getAnalysisPath().getCarouselView().oController.removeAllThumbnails();s.oSerializationMediator.openPath(g,(function(s){return function(r,e,b){var l=s.oUiApi.getLayoutView().getController();var d=s.oUiApi.getAnalysisPath().getController();t.log("pathGallery.openPath continuation",", activeStepindex=",a,", guid=",g);if(b===undefined&&(typeof r==="object")){d.setIsOpenPath(true);s.oUiApi.contextChanged();d.refresh(-1);s.oCoreApi.updatePath(d.callBackForUpdatePath.bind(d));s.oCoreApi.setDirtyState(false);l.setPathTitle();if(s.oDialog!==undefined){s.oDialog.close();}c.rerender();s.oUiApi.getLayoutView().setBusy(false);}else{m=s.oCoreApi.createMessageObject({code:"6008",aParameters:[p]});m.setPrevious(b);s.oUiApi.getLayoutView().setBusy(false);s.oCoreApi.putMessage(m);}};}(this)),a);}});});
sap.ui.predefine('sap/apf/ui/reuse/controller/stepGallery.controller',['sap/apf/ui/utils/helper','sap/apf/utils/trace'],function(U,t){'use strict';
function _(m){var a=m.getMessage();while(m.getPrevious()){m=m.getPrevious();a=a+'\n'+m.getMessage();}return a;}
sap.ui.core.mvc.Controller.extend("sap.apf.ui.reuse.controller.stepGallery",{
getGalleryElementsData:function(){var s=this;var g=[];var c=this.oCoreApi.getCategories();var l=this.oCoreApi.getTextNotHtmlEncoded("label");var a=this.oCoreApi.getTextNotHtmlEncoded("steps");var b=this.oCoreApi.getTextNotHtmlEncoded("category");var m;if(c.length===0){m=this.oCoreApi.createMessageObject({code:"6001",aParameters:["Categories"]});this.oCoreApi.putMessage(m);}var i;for(i=0;i<c.length;i++){var G={};var C=c[i];var d;if(!C.label){m=this.oCoreApi.createMessageObject({code:"6002",aParameters:[l,b+": "+d]});this.oCoreApi.putMessage(m);}else{d=this.oCoreApi.getTextNotHtmlEncoded(C.label);G.title=this.oCoreApi.getTextNotHtmlEncoded(C.label);}G.id=C.id;G.stepTemplates=[];C.stepTemplates.forEach(function(o){var e={};if(!o.title){m=s.oCoreApi.createMessageObject({code:"6003",aParameters:["Title"]});s.oCoreApi.putMessage(m);}else{e.title=s.oCoreApi.getTextNotHtmlEncoded(o.title);}e.id=o.id;e.representationtypes=o.getRepresentationInfo();e.representationtypes.forEach(function(r){r.title=s.oCoreApi.getTextNotHtmlEncoded(r.label);if(r.parameter&&r.parameter.orderby){new U(s.oCoreApi).getRepresentationSortInfo(r).done(function(f){var h=[];for(var i=0;i<f.length;i++){f[i].done(function(k){h.push(k);});}r.sortDescription=h;});}});e.defaultRepresentationType=e.representationtypes[0];G.stepTemplates.push(e);});g.push(G);}var S=this.oCoreApi.getStepTemplates();if(S.length===0){m=this.oCoreApi.createMessageObject({code:"6002",aParameters:[a,b]});this.oCoreApi.putMessage(m);}var j={GalleryElements:g};return j;},
onInit:function(){if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");}this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;var g=this.getGalleryElementsData().GalleryElements;var m=new sap.ui.model.json.JSONModel({"GalleryElements":g});this.getView().setModel(m);},
getStepDetails:function(c,s){var g=this.getGalleryElementsData().GalleryElements;var a=g[c].stepTemplates[s];return a;},
openHierarchicalSelectDialog:function(){if(this.oHierchicalSelectDialog){this.oHierchicalSelectDialog.destroy();}this.oHierchicalSelectDialog=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",this);this.oHierchicalSelectDialog.setModel(this.getView().getModel());if(sap.ui.Device.system.desktop){this.oHierchicalSelectDialog.addStyleClass("sapUiSizeCompact");}this.oHierchicalSelectDialog.open();},
onStepPress:function(i,r){t.logCall("stepGallery.onStepPress -- adds an active step, id=",i," ************************************** ");var c=this;var a=c.oUiApi.getAnalysisPath().getController();this.oCoreApi.checkAddStep(i).done(function(C,m){t.log("onStepPress->continuation",", bCanStepBeAdded",C," oRepresentationType=",r);if(C){c.oHierchicalSelectDialog.close();c.oCoreApi.createStep(i,a.callBackForUpdatePathAndSetLastStepAsActive.bind(a),r);a.refresh(-1);}else{var M=_(m);var f={oController:c,sMessageText:M};var d=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.addStepCheckDialog",f);d.open();c.oUiApi.getLayoutView().setBusy(false);}});var s=this.oCoreApi.getSteps();var b=(s.length>0)?s[s.length-1].getSelectedRepresentation():{};t.logReturn("onStepPress",", step id=",i,", repr.apfId="+(b?b.apfId:"--"),", selectedRepr=",(b)?b:"error: no step existing");}
});
});
sap.ui.predefine('sap/apf/ui/reuse/view/analysisPath.view',['sap/m/Popover','sap/m/PlacementType','sap/m/ObjectHeader','sap/ui/layout/VerticalLayout','sap/ui/core/mvc/ViewType'],function(P,a,O,V,b){"use strict";return sap.ui.jsview("sap.apf.ui.reuse.view.analysisPath",{getCarouselView:function(){return this.oCarousel;},getToolbar:function(){return this.oActionListItem;},getPathGallery:function(){return this.pathGallery;},getPathGalleryWithDeleteMode:function(){return this.deleteAnalysisPath;},getControllerName:function(){return"sap.apf.ui.reuse.controller.analysisPath";},createContent:function(c){var s=this;this.oController=c;this.oActionListPopover=new P({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:a.Bottom,contentWidth:"165px"});var v=this.getViewData();s.oCoreApi=v.oCoreApi;s.oUiApi=v.uiApi;this.oActionListItem=s.oUiApi.getToolbar().addStyleClass("toolbarView");this.oCarousel=s.oUiApi.createCarouselSingleton();this.oCarousel.getViewData().analysisPath=s;this.pathGallery=s.oUiApi.getPathGallery();this.deleteAnalysisPath=s.oUiApi.getDeleteAnalysisPath();this.oAnalysisPath=new V({content:[s.oContentTitle,s.oCarousel],width:'100%'});return this.oAnalysisPath;}});});
sap.ui.predefine('sap/apf/ui/reuse/view/carousel.view',["sap/apf/ui/utils/constants","sap/m/CustomListItem","sap/m/List","sap/m/ListType","sap/m/Button","sap/m/ScrollContainer"],function(C,a,l,L,b,s){'use strict';var v=sap.ui.jsview("sap.apf.ui.reuse.view.carousel",{onListItemPressed:function(e){this.getController().listItemPressed(e);},createCustomListItem:function(c){var o=new a({content:c,type:L.Active,press:this.onListItemPressed.bind(this)});o.addEventDelegate({onAfterRendering:function(){}},this);return o;},addCustomListItem:function(c){this.oCustomItemList.addItem(c);},onDeleteCustomListItem:function(e){this.getController().deleteCustomListItem(e.getParameters().listItem.sId);},getCustomItemList:function(){return this.oCustomItemList.getItems();},removeCustomItem:function(i){return this.oCustomItemList.removeItem(i);},insertCustomItem:function(c,i){return this.oCustomItemList.insertItem(c,i);},getStepGallery:function(){return this.stepGalleryView;},oldCarouselContent:function(c){},getAddStepButton:function(){return this.addStepButton;},createCarouselContent:function(c){var t=this;this.addStepButton=new b({id:c.createId("idAddAnalysisStepButtonInFooter"),tooltip:t.oCoreApi.getTextNotHtmlEncoded("add-step"),icon:"sap-icon://add",press:function(e){c.showStepGallery();}});this.moveUpButton=new b({id:c.createId("idMoveStepUpButtonInFooter"),icon:"sap-icon://arrow-top",tooltip:t.oCoreApi.getTextNotHtmlEncoded("moveStepUp"),enabled:false,press:function(e){c.handleMove({down:false});}});this.moveDownButton=new b({id:c.createId("idMoveStepDownButtonInFooter"),icon:"sap-icon://arrow-bottom",tooltip:t.oCoreApi.getTextNotHtmlEncoded("moveStepDown"),enabled:false,press:function(e){c.handleMove({down:true});}});this.oCustomItemList=new l({id:"stepList",mode:"Delete",delete:function(e){t.onDeleteCustomListItem(e);}}).addStyleClass("sapMCarousel");this.oCarousel=this.oCustomItemList;this.stepGalleryView=t.oUiApi.getStepGallery();return this.oCarousel;},getControllerName:function(){return"sap.apf.ui.reuse.controller.carousel";},createContent:function(c){var V=this.getViewData().oInject;this.oController=c;this.oCoreApi=V.oCoreApi;this.oUiApi=V.uiApi;return this.createCarouselContent(c);}});return v;});
sap.ui.predefine('sap/apf/ui/reuse/view/stepContainer.view',["sap/suite/ui/commons/ChartContainer","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/m/OverflowToolbar","sap/ui/layout/VerticalLayout"],function(C,a,O,V){"use strict";return sap.ui.jsview("sap.apf.ui.reuse.view.stepContainer",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepContainer";},createContent:function(c){if(sap.ui.Device.system.desktop){c.getView().addStyleClass("sapUiSizeCompact");}var b=new C({id:c.createId("idChartContainer"),showFullScreen:true}).addStyleClass("chartContainer ChartArea");var t=new O({id:c.createId("idChartContainerToolbar")});t.addContent(new a());b.setToolbar(t);this.stepLayout=new V({id:c.createId("idStepLayout"),content:[b],width:"100%"});this.stepLayout.setBusy(true);return this.stepLayout;}});});
sap.ui.predefine('sap/apf/ui/reuse/view/toolbar.view',['sap/m/List','sap/m/ListType','sap/m/StandardListItem'],function(L,a,S){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.toolbar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.toolbar";},createContent:function(c){this.maxNumberOfSteps=32;this.maxNumberOfPaths=255;var s=this;var v=this.getViewData();s.oCoreApi=v.oCoreApi;s.oUiApi=v.uiApi;var t=new S({id:this.createId("idAnalysisPathMenuNewAnalysisPath"),icon:'sap-icon://add-product',type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("new"),press:function(){s.getParent().close();s.oUiApi.getLayoutView().setBusy(true);c.getNewAnalysisPathDialog();s.oUiApi.getLayoutView().setBusy(false);}});var T=new S({id:this.createId("idAnalysisPathMenuOpenAnalysisPath"),icon:"sap-icon://open-folder",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("open"),press:function(){c.bIsPathGalleryWithDelete=false;s.oUiApi.getLayoutView().setBusy(true);s.getParent().close();c.onOpenPathGallery(c.bIsPathGalleryWithDelete);}});var o=new S({id:this.createId("idAnalysisPathMenuSaveAnalysisPath"),icon:"sap-icon://save",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("save"),press:function(){s.getParent().close();c.onSaveAndSaveAsPress(false);}});var b=new S({id:this.createId("idAnalysisPathMenuSaveAnalysisPathAs"),icon:"sap-icon://save",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("savePathAs"),press:function(){s.getParent().close();c.onSaveAndSaveAsPress(true);}});var d=new S({id:this.createId("idAnalysisPathMenuDeleteAnalysisPath"),icon:"sap-icon://delete",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("delete"),press:function(){c.bIsPathGalleryWithDelete=true;s.getParent().close();s.oUiApi.getLayoutView().setBusy(true);c.openPathGallery(c.bIsPathGalleryWithDelete);}});var e=new S({id:this.createId("idAnalysisPathMenuPrintAnalysisPath"),icon:"sap-icon://print",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("print"),press:function(){s.getParent().close();c.doPrint();}});this.oActionListItem=new L({items:[t,T,o,b,d,e]});return this.oActionListItem;}});});
sap.ui.predefine('sap/apf/ui/utils/facetFilterListConverter',[],function(){"use strict";
sap.apf.ui.utils.FacetFilterListConverter=function(){"use strict";this.getFFListDataFromFilterValues=function(f,p,s){var m=[];f.forEach(function(F){var o={};o.key=F[p];o.text=F.formattedValue;o.selected=false;if(s){s.forEach(function(a){if(a instanceof Date&&F[p]instanceof Date){if(a.toISOString()===F[p].toISOString()){o.selected=true;}}else if(a==F[p]){o.selected=true;}});}m.push(o);});return m;};};
});
sap.ui.predefine('sap/apf/ui/utils/facetFilterListHandler',["sap/m/FacetFilterList","sap/m/FacetFilterItem","sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/ui/thirdparty/jquery"],function(F,a,f,b,q){"use strict";
sap.apf.ui.utils.FacetFilterListHandler=function(c,u,C){"use strict";var d=[];var o;var e=new sap.apf.ui.utils.FacetFilterListConverter();function _(h){if(h===null||h.length===0){var m=c.createMessageObject({code:"6010",aParameters:[c.getTextNotHtmlEncoded(C.getLabel())]});c.putMessage(m);o.setActive(false);}}function g(h,s,p,i){var j=new sap.apf.ui.utils.FacetFilterValueFormatter(u,c);var k=j.getFormattedFFData(h,s,p);var m=e.getFFListDataFromFilterValues(k,s,d);var l=o.getModel();l.setSizeLimit(m.length);l.setData(m);var n=l.getData();if(i){n.forEach(function(r){if(r.selected==false){if(!sap.ui.Device.browser.msie){if(Object.values(o.getSelectedKeys()).indexOf(r.text)>-1){o.removeSelectedKey(r.key);}}else{if(Object.keys(o.getSelectedKeys()).indexOf(r.text)>-1){o.removeSelectedKey(r.key);}}}});}l.updateBindings();}this.createFacetFilterList=function(){var t=this;o=new sap.m.FacetFilterList({title:c.getTextNotHtmlEncoded(C.getLabel()),multiSelect:C.isMultiSelection(),key:C.getPropertyName(),growing:false,growingScrollToLoad:true,listClose:this.onListClose.bind(this),listOpen:this.onListOpen.bind(this)});o.bindItems("/",new sap.m.FacetFilterItem({key:'{key}',text:'{text}',selected:'{selected}'}));var m=new sap.ui.model.json.JSONModel([]);m.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);o.setModel(m);if(!C.hasValueHelpRequest()){this.getFacetFilterListData().done(_);}this.getSelectedFFValues().then(function(G){h(G);});return o;function h(G){G.oFilterRestrictionPropagationPromiseForSelectedValues.done(function(n,N){h({aSelectedFilterValues:n,oFilterRestrictionPropagationPromiseForSelectedValues:N});});if(G.aSelectedFilterValues.length>0||(d.length>0)){d=G.aSelectedFilterValues;t.getFacetFilterListData().done(function(i,s,p){g(i,s,p,true);});}}};this.getFacetFilterListData=function(){var s;var h=q.Deferred();var i=C.getValues();i.then(function(j){s=C.getAliasNameIfExistsElsePropertyName()||C.getPropertyName();C.getMetadata().then(function(p){h.resolve(j,s,p);});});return h.promise();};this.getSelectedFFValues=function(){var h=q.Deferred();var i=C.getSelectedValues();i.then(function(s,n){h.resolve({aSelectedFilterValues:s,oFilterRestrictionPropagationPromiseForSelectedValues:n});});return h.promise();};this.setSelectedFFValues=function(h){C.setSelectedValues(h);};this.onListClose=function(){var s=[],S,h,i,j;S=o.getSelectedItems();s=S.map(function(I){return I.getKey();});h=JSON.stringify(s.sort());i=JSON.stringify(d.sort());j=(h!==i);if(j){d=s;this.setSelectedFFValues(s);u.selectionChanged(true);}};this.onListOpen=function(){o.setBusy(true);this.getFacetFilterListData().done(function(h,s,p){g(h,s,p,false);o.setBusy(false);});};};
});
sap.ui.predefine('sap/apf/ui/utils/facetFilterValueFormatter',["sap/apf/ui/utils/formatter"],function(f){"use strict";
sap.apf.ui.utils.FacetFilterValueFormatter=function(u,c){"use strict";this.getFormattedFFData=function(F,s,p){var a,t;var o=new sap.apf.ui.utils.formatter({getEventCallback:u.getEventCallback.bind(u),getTextNotHtmlEncoded:c.getTextNotHtmlEncoded,getExits:u.getCustomFormatExit()},p,F);var T=p.text;F.forEach(function(b){a=o.getFormattedValue(s,b[s]);t=a;if(T!==undefined&&b[T]!==undefined){t=a+" - "+b[T];}b.formattedValue=t;});return F;};};
});
sap.ui.predefine('sap/apf/ui/utils/representationTypesHandler',["sap/apf/modeler/ui/utils/labelForRepresentationTypes","sap/apf/modeler/ui/utils/constants","sap/apf/core/representationTypes"],function(L,m,r){'use strict';var R=function(){this.aRepresentationTypes=jQuery.extend(true,[],r());};
function _(o,s,d){var S=[],n,c;n=o.indexOfRepresentationType(s);if(n===-1){return S;}c=o.aRepresentationTypes[n].metadata.dimensions.supportedKinds;c.forEach(function(e){if(e.defaultCount===d){S.push(e.kind);}});return S;}
function a(s){if(s==="TableRepresentation"){return true;}return false;}
function b(s){if(s==="TreeTableRepresentation"){return true;}return false;}
R.prototype.getLabelsForChartType=function(t,s,k){var l=new L(t);return l.getLabelsForChartType(s,k);};
R.prototype.indexOfRepresentationType=function(s){var n;for(n=0;n<this.aRepresentationTypes.length;n++){if(this.aRepresentationTypes[n].id===s){return n;}}return-1;};
R.prototype.getConstructorOfRepresentationType=function(s){var n=this.indexOfRepresentationType(s);if(n===-1){return null;}return this.aRepresentationTypes[n].constructor;};
R.prototype.getPictureOfRepresentationType=function(s){var n=this.indexOfRepresentationType(s);if(n===-1){return null;}return this.aRepresentationTypes[n].picture;};
R.prototype.getKindsForDimensionPropertyType=function(s){return _(this,s,1);};
R.prototype.getKindsForLegendPropertyType=function(s){return _(this,s,0);};
R.prototype.getKindsForMeasurePropertyType=function(s){var n,S=[];n=this.indexOfRepresentationType(s);if(n===-1){return S;}S=this.aRepresentationTypes[n].metadata.measures.supportedKinds.map(function(o){return o.kind;});return S;};
R.prototype.getKindsForPropertyType=function(s){var n,S=[];n=this.indexOfRepresentationType(s);if(n===-1){return S;}if(this.aRepresentationTypes[n].metadata.properties){S=this.aRepresentationTypes[n].metadata.properties.supportedKinds.map(function(o){return o.kind;});}return S;};
R.prototype.getKindsForHierarchicalPropertyType=function(s){var n,S=[];n=this.indexOfRepresentationType(s);if(n===-1){return S;}if(this.aRepresentationTypes[n].metadata.hierarchicalColumn){S=this.aRepresentationTypes[n].metadata.hierarchicalColumn.supportedKinds.map(function(o){return o.kind;});}return S;};
R.prototype.isChartTypeSimilar=function(f,s){var S=m.similarChartTypes;return(S.indexOf(f)!==-1)&&(S.indexOf(s)!==-1);};
R.prototype.isAdditionToBeEnabled=function(s,p,k){var e=false;var P=m.propertyTypes;var n=this.indexOfRepresentationType(s);if(n===-1){return e;}if(p===P.PROPERTY){if(a(s)||b(s)){e=true;}return e;}if(p===P.LEGEND){p=P.DIMENSION;}this.aRepresentationTypes[n].metadata[p].supportedKinds.forEach(function(S){if(k===S.kind&&S.max==="*"){e=true;}});return e;};
R.prototype.isCombinationChart=function(c){var n=this.indexOfRepresentationType(c);if(n===-1){return false;}if(this.aRepresentationTypes[n].isCombinationChart){return true;}return false;};
R.prototype.getDefaultCountForRepresentationKind=function(c,k){var n=this.indexOfRepresentationType(c);if(n===-1){return 0;}var d=this.aRepresentationTypes[n].metadata;for(var e in d){for(var i=0;i<d[e].supportedKinds.length;i++){var p=d[e].supportedKinds[i];if(p.kind===k){return p.defaultCount;}}}return 0;};
return R;});
sap.ui.predefine('sap/apf/utils/filter',["sap/apf/core/utils/filter","sap/apf/core/constants","sap/base/Log"],function(C,c,L){'use strict';var F=function(m){var t;var e=this;var f=function(){t=new a(m,F.topAndId);};this.getById=function(i){if(t){if(i===F.topAndId){return t;}return t.getById(i);}return undefined;};this.type="filter";this.getExpressions=function(){if(t){return t.getExpressions();}return[];};this.getInternalFilter=function(){return t.getInternalFilter();};this.getTopAnd=function(){return t;};this.updateExpression=function(i,E){m.check(i===E.id,"sId differs from oExpression.id");var o=this.getById(i);o.update(E);};this.updateValue=function(i,v,h){m.check(i!==undefined,"Filter updateValue: parameter id required");m.check(v!==undefined,"Filter updateValue: parameter value is required");var E=this.getById(i);m.check(E!==undefined,"Filter updateValue: id for expression not valid");E.updateValue(v,h);};this.serialize=function(){function g(h,T){var s={id:T.getId(),type:T.type,expressions:[],terms:[]};h.forEach(function(j,i){if(j instanceof Array){if(T.type==="filterAnd"){s.terms.push(g(j,T.getAndTerms()[i]));}else if(T.type==="filterOr"){s.terms.push(g(j,T.getOrTerms()[i]));}}else{s.expressions.push(j);}});return s;}return g(this.getTopAnd().getExpression(),this.getTopAnd());};this.deserialize=function(s){t=undefined;f();function g(s,T){if(s.type==="filterAnd"&&s.id!==F.topAndId){T=T.addAnd(s.id);}else if(s.type==="filterOr"&&s.id!==F.topAndId){T=T.addOr(s.id);}s.expressions.forEach(function(h){T.addExpression(h);});s.terms.forEach(function(h){g(h,T);});}g(s,this.getTopAnd());return this;};this.addAnd=function(i){L.error("Method 'addAnd' is deprecated since 1.23.0","Will be discarded with 1.26.0.");};this.intersectWith=function(g){var i=0;var h=[];var o;var r=new F(m);var R=e.serialize();s(R);switch(arguments.length){case 1:o=arguments[0];if(o instanceof Array){h=o;}else{h.push(o);}break;default:h=Array.prototype.slice.call(arguments,0);}h.forEach(function(j){m.check((j instanceof F),"Parameter value is not of type sap.apf.utils.Filter");var I=j.serialize();s(I);Array.prototype.push.apply(R.expressions,I.expressions);Array.prototype.push.apply(R.terms,I.terms);});r.deserialize(R);return r;function s(S){if(S.id!==F.topAndId){S.id='#'+i++ +'#';}S.terms.forEach(s);}};f();return this;};
F.createFilterFromSapUi5FilterJSON=function(m,s){var r=new F(m);function e(f,l,g){var h;l++;if(g.aFilters){if(g.bAnd){if(l!==1){h=f.addAnd();}else{h=f;}}else{h=f.addOr();}g.aFilters.forEach(function(i){e(h,l,i);});}else if(g.sOperator){f.addExpression({name:g.sPath,operator:g.sOperator,value:g.oValue1,high:g.oValue2});}}e(r.getTopAnd(),0,s);return r;};
F.getOperators=function(){return c.FilterOperators;};
F.prototype.getOperators=F.getOperators;F.topAndId='filterTopAnd';var a=function(m,I){var e=I;var A=[];var t=this;this.type="filterAnd";this.getById=function(I){if(I===e){return this;}var T;var i;for(i=0;i<A.length;i++){T=A[i].getById(I);if(T!==undefined){return T;}}return undefined;};this.getExpressions=function(){var E=[];var T;var i;for(i=0;i<A.length;i++){T=A[i].getExpression();if(T instanceof Array&&T.length===0){continue;}if(T instanceof Array){E.push(T);}else{E.push([T]);}}return E;};this.getExpression=function(){var E=[];var T;var i;for(i=0;i<A.length;i++){T=A[i].getExpression();if(T instanceof Array&&T.length===0){continue;}E.push(T);}return E;};this.getCompoundExpressions=function(){L.error("Method 'getExpressions' is deprecated since 1.23.0","Will be discarded with 1.26.0.");};this.getId=function(){return I;};this.getInternalFilter=function(){var f=new C(m);var l=A.length;var i;for(i=0;i<l;i++){f.addAnd(A[i].getInternalFilter());}return f;};this.addAndTerm=function(T){L.error("Method 'addAndTerm' is deprecated since 1.23.0","Will be discarded with 1.26.0.");};this.getAndTerms=function(){return A;};this.addOr=function(I){m.check((I===undefined||this.getById(I)===undefined),"Filter includes duplicated identifiers (IDs)");var o=new b(m,I,t);A.push(o);return o;};this.addExpression=function(E){if(E.operator.length==2){E.operator=E.operator.toUpperCase();}m.check((E.id===undefined||this.getById(E.id)===undefined),"Filter includes duplicated identifiers (IDs)");m.check((E.operator!==undefined),"sap.apf.utils.Filter oExpression.operator undefined");m.check((jQuery.inArray(E.operator,c.aSelectOpt)>-1),"Filter oExpression.operator "+E.operator+" not supported");A.push(new d(m,E));return this;};};var b=function(m,I,A){var e=I;var o=[];var f=A;this.type="filterOr";this.getById=function(I){if(I===e){return this;}var t;for(var i=0;i<o.length;i++){t=o[i].getById(I);if(t!==undefined){return t;}}return undefined;};this.getExpression=function(){var E=[];var t;for(var i=0;i<o.length;i++){t=o[i].getExpression();if(t instanceof Array&&t.length===0){continue;}E.push(t);}return E;};this.getId=function(){return I;};this.getInternalFilter=function(){var g=new C(m);for(var i=0;i<o.length;i++){g.addOr(o[i].getInternalFilter());}return g;};this.getAndObject=function(){return f;};this.addOrTerm=function(t){L.error("Method 'addOr' is deprecated since 1.23.0","Will be discarded with 1.26.0.");};this.getOrTerms=function(){return o;};this.addExpression=function(E){if(E.operator.length==2){E.operator=E.operator.toUpperCase();}m.check((E.id===undefined||this.getAndObject().getById(E.id)===undefined),"Filter includes duplicated identifiers (IDs)");m.check((E.operator!==undefined),"sap.apf.utils.Filter oExpression.operator undefined");m.check((jQuery.inArray(E.operator,c.aSelectOpt)>-1),"Filter oExpression.operator "+E.operator+" not supported");o.push(new d(m,E));return this;};this.addAnd=function(I){m.check((I===undefined||this.getById(I)===undefined),"Filter includes duplicated identifiers (IDs)");var g=new a(m,I);o.push(g);return g;};};var d=function(m,e){f(e.high,e.operator);var i=e.id;var n=e.name;var o=e.operator;var v=e.value;var h=e.high;this.getById=function(g){if(i===g){return this;}return undefined;};this.getExpression=function(){if(!o||o!==c.FilterOperators.BT){return{name:n,operator:o,value:v};}return{name:n,operator:o,value:v,high:h};};this.getInternalFilter=function(){return new C(m,n,o,v,h);};this.update=function(e){f(e.high,e.operator);n=e.name;o=e.operator;v=e.value;h=e.high;};this.updateValue=function(g,j){v=g;if(j!==undefined){h=j;}f(h,o);};function f(g,j){if(!j){return;}if(j===c.FilterOperators.BT&&(g===null||g===undefined)){m.check(false,"sap.apf.utils.FilterExpression: High value needed for 'between' selection");}else if(j!==c.FilterOperators.BT&&(g!==null&&g!==undefined)){m.check(false,"sap.apf.utils.FilterExpression: High value only needed for 'between' selection");}}};sap.apf=sap.apf||{};sap.apf.utils=sap.apf.utils||{};sap.apf.utils.Filter=F;return F;},true);
sap.ui.predefine('sap/apf/utils/filterIdHandler',function(){'use strict';var F=function(i){var m=i.instances.messageHandler;var u=1;var a=[];var f={};this.add=function(d){if(!c(d)){m.putMessage(m.createMessageObject({code:'5301'}));}f[u]=g(d);a.push(u);i.functions.setRestrictionByProperty(d);return u++;};this.update=function(d,e){if(typeof d==='number'){if(d<=0||d>=u){m.putMessage(m.createMessageObject({code:'5100',aParameters:['Passed invalid numeric identifier during update of path filter']}));return;}}else if(!d||typeof d!=='string'){m.putMessage(m.createMessageObject({code:'5100',aParameters:['Passed falsity (0,"",undefined,null) or an object as identifier during update of path filter']}));return;}var p=g(e);if(f[d]&&f[d]!==p){m.putMessage(m.createMessageObject({code:'5100',aParameters:['Updating filter with different property not allowed']}));return;}if(!c(e)){m.putMessage(m.createMessageObject({code:'5301'}));}i.functions.setRestrictionByProperty(e);f[d]=p;};this.get=function(d){switch(typeof d){case'number':m.check(d>0&&d<u,'Passed unknown numeric identifier during get from path context handler');break;case'string':m.check(f[d],'Passed unknown string identifier during get from path context handler');break;default:m.check(false,"Filter Id handler - wrong type of the id parameter in get");}return i.functions.getRestrictionByProperty(f[d]);};this.getAllInternalIds=function(d){return jQuery.sap.extend(true,[],a);};this.serialize=function(){return jQuery.extend(true,{},f);};this.deserialize=function(d){u=1;var p;for(p in d){if(typeof b(p)==='number'){u++;}}f=jQuery.extend(true,{},d);};function g(d){return d.getInternalFilter().getProperties()[0];}function b(p){if(isNaN(Number(p))){return p;}return Number(p);}function c(d){var e=d.getInternalFilter();var h=e.getProperties();if(h.length>1){return false;}var v=new V();e.traverse(v);return v.isAccepted();function V(){var j=this;var k=false;var l=false;var n=true;this.isAccepted=function(){return n;};this.processEmptyFilter=function(){return;};this.processTerm=function(t){var o=t.getOp();if(!l&&!k){if(o==='GE'||o==='LE'||o==='EQ'){return;}}if(l&&(o==='GE'||o==='LE')){return;}if(k&&o==='EQ'){return;}n=false;};this.processAnd=function(o,p){if(p&&p.length>0){l=true;}this.process(o);p.forEach(function(d){j.process(d);});};this.processOr=function(o,p){if(p&&p.length>0){k=true;}this.process(o);p.forEach(function(d){j.process(d);});};this.process=function(d){if(k&&l){n=false;}if(!n){return;}d.traverse(this);};}}};sap.apf.utils.FilterIdHandler=F;return F;},true);
sap.ui.predefine('sap/apf/utils/navigationHandler',["sap/apf/core/utils/filterSimplify","sap/apf/utils/utils","sap/apf/utils/executeFilterMapping","sap/ui/core/routing/HashChanger","sap/base/util/uid"],function(f,u,e,H,U){'use strict';var N=function(I){var c;var a;var l;var m=I.instances.messageHandler;var n=this;var F=I.constructors&&I.constructors.FilterReduction||f.FilterReduction;var b;var d=false;this.getNavigationTargets=function(){var i,q;var r=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(!r){if(!d){q=m.createMessageObject({code:5074});m.putMessage(q);d=true;}a={global:[],stepSpecific:[]};return u.createPromise(a);}i=jQuery.Deferred();I.functions.getCumulativeFilterUpToActiveStep().done(function(C){if(a&&C.isEqual(l)){i.resolve(k(a));return i.promise();}l=C;if(!c){g();}a=jQuery.extend(true,[],c);a.forEach(function(t){t.text="";});s(C).done(function(t){a=t;i.resolve(k(a));});});return i.promise();function s(t){var i=jQuery.Deferred();var v=[];var D=[];var w;a.forEach(function(x){var y;if(x.useDynamicParameters){w=w||o(t);x.parameters=p(x.parameters,w);}y=jQuery.Deferred();D.push(y);r.getLinks({semanticObject:x.semanticObject,action:x.action,params:j(x.parameters),ignoreFormFactor:false,ui5Component:I.instances.component}).then(function(z){z.forEach(function(A){var B=A.intent.split("-");var C=B[1].split("?");C=C[0].split("~");if(A.text!==""&&C[0]===x.action){x.text=A.text;v.push(x);}});y.resolve();},function(){y.resolve();});});jQuery.when.apply(jQuery,D).done(function(){i.resolve(v);});return i.promise();}};this.navigateToApp=function(i){if(!c){g();}var q=h(i);if(!q){return;}var r=H&&H.getInstance();I.functions.getCumulativeFilterUpToActiveStep().done(function(C){if(I.functions.isFilterReductionActive&&I.functions.isFilterReductionActive()){b=b||new F();var s=b.reduceFilter(m,C);if(s===null){m.putMessage(m.createMessageObject({code:5235}));}else{C=s;}}if(!q.filterMapping||!q.filterMapping.requestForMappedFilter){t(null,null);}else{var M=I.functions.createRequest(q.filterMapping.requestForMappedFilter);e(C,M,q.filterMapping.target,t,m);}function t(v,w){var x;if(w){return;}if(v){C=C.addAnd(v);}var y=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(y){I.instances.serializationMediator.serialize(true).done(function(z){n.generateSelectionVariant(C).done(function(A){var B;var D={};if(q.useDynamicParameters){B=o(C);}D.sapApfState=z;D.sapApfCumulativeFilter=C.mapToSapUI5FilterExpression();D.selectionVariant=A;x=y.createEmptyAppState(I.instances.component);x.setData(D);x.save();if(r){r.replaceHash("sap-iapp-state="+x.getKey());}var E=q.parameters;if(q.useDynamicParameters){E=p(E,B);}y.toExternal({target:{semanticObject:q.semanticObject,action:q.action},appStateKey:x.getKey(),params:j(E)},I.instances.component);});});}}});};this.checkMode=function(){var i=jQuery.Deferred();var q=H&&H.getInstance&&H.getInstance();var r=/(?:sap-iapp-state=)([^&=]+)/;var s,t,v,w;if(q){v=r.exec(q.getHash());if(v){s=v[1];}}t=I.functions.getXappStateId();if(s){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(I.instances.component,s).done(function(x){w=x.getData();if(w.sapApfState){I.instances.serializationMediator.deserialize(w.sapApfState).done(function(){i.resolve({navigationMode:"backward"});});}});}else if(t){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(I.instances.component,t).done(function(x){w=x.getData();if(w&&w.sapApfCumulativeFilter){i.resolve({navigationMode:"forward",sapApfCumulativeFilter:w.sapApfCumulativeFilter});}else{i.resolve({navigationMode:"forward"});}});}else{i.resolve({navigationMode:"forward"});}if(q){q.replaceHash("");}return i.promise();};this.generateSelectionVariant=function(i){var q=jQuery.Deferred();if(!I.functions.isFilterReductionActive||!I.functions.isFilterReductionActive()){b=b||new F();i=b.reduceFilter(m,i);}if(!b||!b.isContradicted()){var s=i.mapToSelectOptions(I.functions.getAllParameterEntitySetKeyProperties);s.done(function(r){r.SelectionVariantID=U();q.resolve(r);});}else{var r={};r={SelectionVariantID:U(),Text:'Filter could not be converted to a selectionVariant'};q.resolve(r);}return q.promise();};function g(){c=I.functions.getNavigationTargets();}function h(q){for(var i=0,r=c.length;i<r;i++){if(c[i].id===q){return c[i];}}}function j(i){var q;if(i&&i.length>0){q={};i.forEach(function(r){q[r.key]=r.value;});}return q;}function k(t){var i=jQuery.extend(true,[],t);var r={global:[],stepSpecific:[]};i.forEach(function(s){if(s.isStepSpecific&&q(s.id)){delete s.isStepSpecific;r.stepSpecific.push(s);}else if(!s.isStepSpecific){delete s.isStepSpecific;r.global.push(s);}});return r;function q(s){var v=false;var w;var x=I.functions.getActiveStep();if(x&&x.getAssignedNavigationTargets){w=x.getAssignedNavigationTargets();if(w&&jQuery.isArray(w)){w.forEach(function(y){if(s===y.id){v=true;}});}}return v;}}function o(i){b=b||new F();var q=b.reduceFilter(m,i)||i;return q.getSingleValueTerms();}function p(i,t){t.forEach(function(q){i=i||[];i.push({'key':q.property,'value':q.value});});return i;}};sap.apf.utils.NavigationHandler=N;return N;},true);
sap.ui.predefine('sap/apf/utils/serializationMediator',["sap/apf/core/constants"],function(c){'use strict';var S=function(i){this.savePath=function(a,b,d){this.serialize(false).done(function(s){if(typeof a==='string'&&typeof b==='function'){i.instances.coreApi.savePath(a,b,s);}else if(typeof a==='string'&&typeof b==='string'&&typeof d==='function'){i.instances.coreApi.savePath(a,b,d,s);}});};this.openPath=function(p,a,b){i.instances.coreApi.openPath(p,d.bind(this));function d(r,m,e){i.instances.coreApi.resetPath();i.instances.messageHandler.setCallbackForTriggeringFatal(f);this.deserialize(r.path.SerializedAnalysisPath,b).done(function(){i.instances.messageHandler.setCallbackForTriggeringFatal(undefined);a({},m);});function f(e){if(e.getSeverity()!==c.message.severity.warning){var g=i.instances.messageHandler.createMessageObject({code:'5210'});g.setPrevious(e);i.instances.messageHandler.putMessage(g);}}}};this.deletePath=function(p,C){i.instances.coreApi.deletePath(p,C);};this.readPaths=function(C){i.instances.coreApi.readPaths(C);};this.serialize=function(a,k){var r=jQuery.Deferred();var s={};i.instances.startFilterHandler.serialize(undefined,k).done(function(b){var d=i.instances.coreApi.serialize();s.startFilterHandler=b;s.filterIdHandler=i.instances.filterIdHandler.serialize();s.path=d.path;s.smartFilterBar=d.smartFilterBar;if(a){s.pathName=i.instances.coreApi.getPathName();s.dirtyState=i.instances.coreApi.isDirty();}r.resolve(s);});return r;};this.deserialize=function(s,a){var d=jQuery.Deferred();var b;if(s.dirtyState!==undefined){i.instances.coreApi.setDirtyState(s.dirtyState);}if(s.pathName!==undefined){i.instances.coreApi.setPathName(s.pathName);}b={path:s.path,smartFilterBar:s.smartFilterBar};if(a!==undefined){b.path.indicesOfActiveSteps[0]=a;}i.instances.coreApi.getApplicationConfigProperties().done(function(){i.instances.coreApi.deserialize(b);i.instances.filterIdHandler.deserialize(s.filterIdHandler);i.instances.startFilterHandler.getStartFilters().done(function(){if(s.startFilterHandler){i.instances.startFilterHandler.deserialize(s.startFilterHandler).done(function(){d.resolve();});}else{d.resolve();}});});return d.promise();};};sap.apf.utils.SerializationMediator=S;return S;},true);
sap.ui.predefine('sap/apf/utils/startFilter',["sap/apf/core/utils/filter"],function(F){'use strict';var S=function(a,c,b){var d;var e;var r=new F(a.instances.messageHandler);var f;var g;var h=0;var j=0;var k=jQuery.extend(true,[],b);var p;if(c.preselectionDefaults&&c.preselectionDefaults.length>0){p=jQuery.extend(true,[],c.preselectionDefaults);}else if(jQuery.isFunction(c.preselectionFunction)){p=jQuery.extend(true,[],c.preselectionFunction());}var v=false;if(c.valueHelpRequest||(jQuery.isArray(c.valueList)&&c.valueList.length>0)){v=true;}var l=false;var m={};var n={};var o;u=u.bind(this);A=A.bind(this);B=B.bind(this);x=x.bind(this);w=w.bind(this);t=t.bind(this);this.hasValueHelpRequest=function(){return!!c.valueHelpRequest;};this.setContext=function(i){if(c.notConfigured===true){b=i;}else{a.instances.messageHandler.putMessage(a.instances.messageHandler.createMessageObject({code:'5100',aParameters:['Context of configured Startfilter cannot be changed']}));}};this.getPropertyName=function(){return c.property;};this.getLabel=function(){return c.label;};this.getAliasNameIfExistsElsePropertyName=function(){return c.alias||c.property;};this.isMultiSelection=function(){if(c.multiSelection==='true'||c.multiSelection===true){return true;}return false;};this.isVisible=function(){if(b&&b.type==='internalFilter'&&!c.filterResolutionRequest){return false;}return!c.invisible;};this.setRestriction=function(i){r=i.copy();if(!g){g=jQuery.Deferred();}s(++j);};this.setSelectedValues=function(i,C){if(!g){g=jQuery.Deferred();}if(!d){d=jQuery.Deferred();if(!C){w().done(function(D){if(d){d.resolve(D);}});}else{d.resolve(i);}}if(i.type==='internalFilter'){e=i;}else{e=jQuery.extend(true,[],i);}if(!C){s(++j);}};this.getSelectedValues=function(){var i;if(!g){g=jQuery.Deferred();i=g;s(++j);}else if(g.state()==='pending'){i=g;if(d){d.done(function(){s(++j);});}else{s(++j);}}return i.promise();};this.getValues=function(){var i;if(!f||f.state()!=='pending'){f=jQuery.Deferred();}i=f;q(++h);return i.promise();};this.getMetadata=function(){if(c.metadataProperty){return jQuery.Deferred().resolve(c.metadataProperty);}return jQuery.Deferred().resolve({});};this.serialize=function(i,C){var D=jQuery.Deferred();var E={propertyName:this.getPropertyName()};w().done(function(G){if(G&&G.type==='internalFilter'){G=G.mapToSapUI5FilterExpression();}E.selectedValues=G;if(d){d.done(function(G){if(i===true){E.initiallySelectedValues=G;}if(C!==true){d=null;}D.resolve(E);});}else{D.resolve(E);}});return D;};this.deserialize=function(i){if(i.selectedValues&&(i.selectedValues.aFilters||i.selectedValues.sPath)){i.selectedValues=F.transformUI5FilterToInternal(a.instances.messageHandler,i.selectedValues);}e=null;if(i.initiallySelectedValues){d=jQuery.Deferred().resolve(i.initiallySelectedValues);}else{d=null;}if(jQuery.isArray(i.selectedValues)){k=jQuery.extend(true,[],i.selectedValues);b=jQuery.extend(true,[],i.selectedValues);}else{k=i.selectedValues;b=i.selectedValues;}l=false;};this.reset=function(){if(d){d.done(function(i){e=i;});}};function q(i){t(i,h).done(function(C){if(i===h){f.resolve(C);}});}function s(i){w(i).done(function(C){if(i===j){var D=g;g=jQuery.Deferred();D.resolve(C,g.promise());}});}function t(C,D){var E=jQuery.Deferred();var G=[];H=H.bind(this);if(v&&jQuery.isArray(b)){y(C,D).then(function(i){var G=i.data;var o=u(k,G);E.resolve(o);});}else if(b&&b.type==='internalFilter'&&v&&c.filterResolutionRequest){jQuery.when(y(C,D),x(C,D)).then(function(i,I){var G=i.data;H(I.data,G);E.resolve(G);});}else if(v&&((c.preselectionDefaults&&c.preselectionDefaults.length>0)||jQuery.isFunction(c.preselectionFunction))){y(C,D).then(function(i){var G=i.data;o=u(p,G);E.resolve(o);});}else if(v){y(C,D).then(function(i){E.resolve(i.data);});}else if(b&&b.type==='internalFilter'&&c.filterResolutionRequest){x(C,D).then(function(i){E.resolve(i.data);});}else if(jQuery.isArray(b)&&c.filterResolutionRequest&&!v){x(C,D).then(function(i){E.resolve(i.data);});}else if(jQuery.isArray(b)){G=u(k,G);E.resolve(G);}else if(((c.preselectionDefaults&&c.preselectionDefaults.length>0)||jQuery.isFunction(c.preselectionFunction))&&!v&&!c.filterResolutionRequest&&!b){if(this.isMultiSelection()){o=u(p,G);}else if(p.length>0){o=u([p[0]],G);}E.resolve(o);}else if(((c.preselectionDefaults&&c.preselectionDefaults.length>0)||jQuery.isFunction(c.preselectionFunction))&&c.filterResolutionRequest&&!b){if(this.isMultiSelection()){o=u(p,G);}else if(p.length>0){o=u([p[0]],G);}E.resolve(o);}else if(b&&b.type==='internalFilter'||!b){E.resolve(null);}return E.promise();function H(I,J){var K=B(J);for(var i=I.length-1;i>=0;i--){if(!K[I[i][this.getAliasNameIfExistsElsePropertyName()]]){J.unshift(I[i]);}}}}function u(C,D){var E=jQuery.extend(true,[],D);var G=B(D);var H;for(var i=C.length-1;i>=0;i--){if(!G[C[i]]){H={};H[this.getAliasNameIfExistsElsePropertyName()]=C[i];E.unshift(H);}else if(!l){C.splice(i,1);}}l=true;return E;}function w(i){var C=jQuery.Deferred();var D;var E;var G;var H=this;if(e){if(!c.invisible){J(jQuery.extend(true,[],e),i);}else{D=e;I();}}else if(jQuery.isFunction(c.preselectionFunction)&&!v){D=c.preselectionFunction();I();}else if(b&&b.type==='internalFilter'&&!c.filterResolutionRequest){C.resolve(b);}else if(c.preselectionDefaults===null&&!b){C.resolve([]);}else if(c.filterResolutionRequest&&!b&&!v&&!(c.preselectionDefaults&&c.preselectionDefaults.length>0)){C.resolve(null);}else if(b&&b.type==='internalFilter'&&c.filterResolutionRequest){x(i,j).then(function(K){var L=A(K);J(jQuery.extend(true,[],L),i);});}else if(v&&!jQuery.isArray(b)&&!(c.preselectionDefaults&&c.preselectionDefaults.length>0)&&!c.preselectionFunction){y(i,j).then(function(K){var L=A(K);if(this.isMultiSelection()){D=L;}else{D=[L[0]];}I();}.bind(this));}else if(v&&!jQuery.isArray(b)&&((c.preselectionDefaults&&c.preselectionDefaults.length>0)||c.preselectionFunction)){if(jQuery.isFunction(c.preselectionFunction)){E=c.preselectionFunction();}else{E=c.preselectionDefaults;}J(jQuery.extend(true,[],E),i);}else if(jQuery.isArray(b)){J(b,i);}else if(c.preselectionDefaults&&c.preselectionDefaults.length>0){D=c.preselectionDefaults;J(D,i);}else{C.resolve(null);}return C.promise();function I(){if(D&&D.type==='internalFilter'){C.resolve(D);}else{C.resolve(jQuery.extend(true,[],D));}}function J(K,i){t(i,j).done(function(L){if(L!==null){D=[];G=B(L);K.forEach(function(M){if(G[M]){D.push(M);}});if(K.length!==0&&D.length===0&&c.preselectionDefaults!==null){D=A({data:L});}if(!H.isMultiSelection()){D=[D[0]];}if(e!==null){e=D;}}else{D=null;}I();});}}function x(i,C){var D;var E=jQuery.Deferred();if(i&&i!==C){return E.promise();}var G;if(jQuery.isArray(b)){G=new F(a.instances.messageHandler);b.forEach(function(I){G.addOr(this.getAliasNameIfExistsElsePropertyName(),'eq',I);}.bind(this));}else if(b instanceof F){G=b;}else{G=new F(a.instances.messageHandler);}if(!r.isEmpty()){D=new F(a.instances.messageHandler);D.addAnd(r).addAnd(G);}else{D=G;}if(m.lastMergedFilter&&m.lastMergedFilter.isEqual(D)){m.lastFilterResolutionPromise.done(function(I){E.resolve(I);});}else{m.lastMergedFilter=D.copy();m.lastFilterResolutionPromise=E;a.functions.createRequest(c.filterResolutionRequest).sendGetInBatch(D,H,undefined);}return E.promise();function H(I){E.resolve(I);}}function y(i,C){var D;if(c.valueHelpRequest){return z(i,C);}else if(c.valueList){D={data:u(c.valueList,[])};return jQuery.Deferred().resolve(D);}}function z(i,C){var D=jQuery.Deferred();var E={paging:{top:100000,skip:0,inlineCount:true}};if(i&&C!==i){return D.promise();}if(n.lastRestriction&&n.lastRestriction.isEqual(r)){n.lastValueHelpPromise.done(function(H){D.resolve(H);});}else{n.lastRestriction=r.copy();n.lastValueHelpPromise=D;a.functions.createRequest(c.valueHelpRequest).sendGetInBatch(r,G,E);}return D.promise();function G(H){D.resolve(H);}}function A(i){var C=[];i.data.forEach(function(D){C.push(D[this.getAliasNameIfExistsElsePropertyName()]);}.bind(this));return C;}function B(i){var C={};i.forEach(function(D){var E=D[this.getAliasNameIfExistsElsePropertyName()];C[E]=true;}.bind(this));return C;}};sap.apf.utils.StartFilter=S;return S;},true);
sap.ui.predefine('sap/apf/utils/startFilterHandler',["sap/apf/utils/filter","sap/apf/core/utils/filter","sap/apf/utils/startFilter","sap/apf/utils/utils"],function(U,C,O,u){'use strict';var S=function(a){var s=[{isLevel:true}];var b=(a&&a.constructors&&a.constructors.StartFilter)||O;var r={};var c={};var d={};var e={};var m=a.instances.messageHandler;var f=jQuery.Deferred();var g=jQuery.Deferred();var h=false;var p=jQuery.Deferred();var n=0;var j=0;var k;var l=jQuery.Deferred();this.getStartFilters=function(){o().done(function(){f.resolve(w());});return f.promise();};this.setRestrictionByProperty=function(i){if(!k){k=jQuery.Deferred();}n++;var E=i.getInternalFilter();var F=E.getProperties()[0];r[F]=i;o();k.done(function(){var G=true;y().forEach(function(H){if(H.getPropertyName()===F){if(E.isDisjunctionOverEqualities()){var I=l.state()==="pending";H.setSelectedValues(t(E),I);}else{H.setContext(E);}G=false;}});if(G){s.unshift(new b(a,{multiSelection:true,property:F,invisible:true,notConfigured:true},E));}if(p.state()==='resolved'){p=jQuery.Deferred();}if(a.functions.getFacetFilterConfigurations().length===0){p.resolve(B(z()));}c[F]=i;delete r[F];if(!d[F]){d[F]=i.serialize();}j++;if(j===n){D();l.resolve();}});};this.getRestrictionByProperty=function(i){if(c[i]){return c[i];}else if(r[i]){return r[i];}return new U(m);};this.getCumulativeFilter=function(){var i=jQuery.Deferred();var E=new C(m);var F;o().done(function(){F=y().length;if(F===0){i.resolve(new C(m));}p.done(function(G,H,I){var J;J=new C(m);if(G&&G.type==='internalFilter'){J=G;}if(jQuery.isArray(G)){G.forEach(function(K){J.addOr(new C(m,I,'eq',K));});}if(H){E.addAnd(H).addAnd(J);}else{E=J;}i.resolve(E);});});return i.promise();};this.serialize=function(i,E){var F=jQuery.Deferred();var G;var H;var I={};I.startFilters=[];I.restrictionsSetByApplication={};for(H in c){I.restrictionsSetByApplication[H]=c[H].serialize();}G=y().length;if(y().length>0){y().forEach(function(J){J.serialize(i,E).done(function(K){I.startFilters.push(K);G--;if(G===0){F.resolve(I);}});});}else{F.resolve(I);}return F.promise();};this.deserialize=function(E){var F=jQuery.Deferred();p.done(function(){var s=y();var G;var H;c={};E.startFilters.forEach(function(I){for(var i=0,J=s.length;i<J;i++){if(I.propertyName===s[i].getPropertyName()){s[i].deserialize(I);}}});for(G in E.restrictionsSetByApplication){H=new U(m);H.deserialize(E.restrictionsSetByApplication[G]);c[G]=H;}p=jQuery.Deferred();D();p.done(function(){F.resolve();});});return F;};this.resetAll=function(){var i;y().forEach(function(E){E.reset();});c={};for(i in d){c[i]=new U(m).deserialize(d[i]);}D();};this.resetVisibleStartFilters=function(){w().forEach(function(G){G.reset();});var E=0;var F=s.length;for(var i=0;i<F;i++){if(s[i].isLevel){E=i+1;break;}}if(s[E]){s[E].setRestriction(e[s[E].getPropertyName()]);}};function o(){if(!h){h=true;a.instances.onBeforeApfStartupPromise.done(function(){a.functions.getReducedCombinedContext().done(function(E){var F=a.functions.getFacetFilterConfigurations();var G=E.getProperties();var H=G.length;var I=null;F.forEach(function(J){for(var i=0;i<H;i++){if(J.property===G[i]){I=G[i];break;}}if(I){var K=v(E,I);if(u.isPropertyTypeWithDateSemantics(J.metadataProperty)){K=u.convertDateListToInternalFormat(K,J.metadataProperty);}s.push(new b(a,J,K));G.splice(G.indexOf(I),1);I=null;}else{s.push(new b(a,J));}});G.forEach(function(i){s.unshift(new b(a,{property:i,invisible:true,multiSelection:true},v(E,i)));});if(!k){k=jQuery.Deferred();l.resolve();}k.resolve();l.done(function(){A().done(function(){q();g.resolve();});});});});}return g;}function q(){var s=x();s.forEach(function(E){E.getSelectedValues().done(F);function F(G,H){var I;var J=new C(m);var K;H.done(F);for(var i=0;i<s.length;i++){if(s[i]===E){I=i;break;}}if(I===s.length-1){if(p.state()==='resolved'){p=jQuery.Deferred();}p.resolve(G,e[E.getPropertyName()],E.getPropertyName());return;}else if(p.state()==='resolved'){p=jQuery.Deferred();}if(G&&G.type==='internalFilter'){J=G;}else if(jQuery.isArray(G)){G.forEach(function(L){J.addOr(E.getPropertyName(),'eq',L);});}if(e[E.getPropertyName()]){if(J.isEmpty()){K=e[E.getPropertyName()].copy();}else{if(e[E.getPropertyName()].isOr()){K=new C(m);K.addAnd(e[E.getPropertyName()]).addAnd(J);}else{K=e[E.getPropertyName()].copy().addAnd(J);}}}else{K=J;}e[s[I+1].getPropertyName()]=K;s[I+1].setRestriction(K);}});}function t(i){var E=[];i.getFilterTerms().forEach(function(F){E.push(F.getValue());});return E;}function v(E,F){var G=[];var H=E.getFilterTermsForProperty(F);var I=E.restrictToProperties([F]);if(I.toUrlParam().indexOf('%20and%20')>-1){return I;}for(var i=0,J=H.length;i<J;i++){if(H[i].getOp()!=='EQ'){return I;}G.push(H[i].getValue());}return G;}function w(){var i=[];y().forEach(function(E){if(E.isVisible()){i.push(E);}});return i;}function x(){var i=false;var E=[];s.forEach(function(F){if(F.isLevel){i=true;}else if(i===true){E.push(F);}});return E;}function y(){var i=[];s.forEach(function(E){if(!E.isLevel){i.push(E);}});return i;}function z(){var E=[];for(var i=0,F=s.length;i<F;i++){if(!s[i].isLevel){E.push(s[i]);}else{break;}}return E;}function A(){var E=jQuery.Deferred();F(B(z()));return E;function F(G){var i;var H=s.length;var I=G;var J=0;for(i=0;i<H;i++){if(s[i].isLevel){J=i+1;break;}}if(s[J]){s[J].setRestriction(I);e[s[J].getPropertyName()]=I.copy();K(J);}else{p.resolve(B(z()));E.resolve();}function K(L){if(s[L+1]){s[L].getSelectedValues().done(function(M){var N=new C(m);if(M&&M.type==='internalFilter'){N.addOr(M);}else if(jQuery.isArray(M)){M.forEach(function(P){N.addOr(s[L].getPropertyName(),'eq',P);});}if(!N.isEmpty()){I.addAnd(N);}s[L+1].setRestriction(I);e[s[L+1].getPropertyName()]=I.copy();K(L+1);});}else{E.resolve();}}}}function B(i){var E=new C(m);i.forEach(function(F){var G=new C(m);F.getSelectedValues().done(function(H){if(H.type==='internalFilter'){G.addOr(H);}else{H.forEach(function(I){G.addOr(F.getPropertyName(),'eq',I);});}});E.addAnd(G);});return E;}function D(){var E=0;var F=s.length;for(var i=0;i<F;i++){if(s[i].isLevel){E=i+1;break;}}if(s[E]){var G=B(z());e[s[E].getPropertyName()]=G;s[E].setRestriction(G);}else{p.resolve(B(z()));}}};sap.apf.utils.StartFilterHandler=S;return S;},true);
sap.ui.predefine('sap/apf/utils/startParameter',["sap/base/util/UriParameters"],function(U){'use strict';var S=function(c,m){var a=null;var s=null;var r=null;var b;var e;var d;var f;var g;var p;if(c&&c.getComponentData&&c.getComponentData()&&c.getComponentData().startupParameters){d=c.getComponentData().startupParameters;if(sap&&sap.flp&&sap.flp.FaasInitUtils&&sap.flp.FaasInitUtils.siteType&&sap.flp.FaasInitUtils.siteType=="flp"){if(d['sap-apf-configuration-id']){p=d['sap-apf-configuration-id'][0].split(".");if(p.length===2){a=null;}else{a=d['sap-apf-configuration-id'][0];}}}else if(d['sap-apf-configuration-id']){a=d['sap-apf-configuration-id'][0];}if(d['sap-apf-step-id']){s=d['sap-apf-step-id'][0];}if(d['sap-apf-representation-id']){r=d['sap-apf-representation-id'][0];}if(d['sap-apf-app-config-path']){b=d['sap-apf-app-config-path'][0];}if(d['evaluationId']){e=d['evaluationId'][0];}if(d['sap-client']){f=d['sap-client'][0];}if(d['sap-system']){g=d['sap-system'][0];}}this.getSapSystem=function(){return g;};this.getAnalyticalConfigurationId=function(){var p,h;if(!a){var u=new U(window.location.href);a=u.get('sap-apf-configuration-id');}if(a){h={};p=a.split(".");if(p.length===2){h.applicationId=p[0];h.configurationId=p[1];}else{h.configurationId=a;}}return h;};this.getSteps=function(){var u=new U(window.location.href);if(!s){s=u.get('sap-apf-step-id');}if(!r){r=u.get('sap-apf-representation-id');}if(!s){return null;}return[{stepId:s,representationId:r}];};this.getXappStateId=function(){var x=/(?:sap-xapp-state=)([^&=]+)/;var h=x.exec(window.location.hash);if(h){return h[1];}return null;};this.getApplicationConfigurationPath=function(){return b;};this.getEvaluationId=function(){return e;};this.isLrepActive=function(){if(m&&m.manifest&&m.manifest["sap.apf"]&&m.manifest["sap.apf"].activateLrep){return m.manifest["sap.apf"].activateLrep;}return false;};this.getSapClient=function(){return f;};this.isFilterReductionActive=function(){if(d&&d['sap-apf-filter-reduction']){return d['sap-apf-filter-reduction'][0];}if(m&&m.manifest&&m.manifest["sap.apf"]&&m.manifest["sap.apf"].activateFilterReduction){return m.manifest["sap.apf"].activateFilterReduction;}return false;};this.getParameter=function(h){if(d&&d[h]){return d[h][0];}var u=new U(window.location.href);return u.get(h);};};sap.apf.utils.StartParameter=S;return S;},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/apf/core/odataProxy',["sap/ui/thirdparty/datajs","sap/apf/utils/utils","sap/apf/core/constants","sap/ui/thirdparty/jquery"],function(d,u,c,q){"use strict";
sap.apf.core.OdataProxy=function(s,a){var b=a.instances.coreApi;var m=a.instances.messageHandler;var e=s.serviceRoot;function g(e,i){return b.getEntityTypeMetadata(e,i);}function f(j){var i,w,x;if(!j){return"";}w=j.length;if(w===1){return"('"+j[0].value+"')";}x="(";for(i=0;i<w;i++){if(i>0){x=x+",";}x=x+j[i].name+"='"+j[i].value+"'";}return x+")";}function h(E){var i;if(E.messageObject&&E.messageObject.getCode){i=E.messageObject;}else if(E.response&&E.response.statusCode&&E.response.statusCode>=400){i=m.createMessageObject({code:'11005',aParameters:[E.response.statusCode.toString(),E.response.statusText]});}else{i=m.createMessageObject({code:'5201'});}m.putMessage(i);return i;}function k(E,i){var j=h(E);i(undefined,undefined,j);}function l(D,e,i,j){var w;var x;if(D&&D.results){w=D.results;}else if(D){w=D;}else{x=m.createMessageObject({code:'5201'});}g(e,i).done(function(y){j(w,y,x);});}function n(i){var j=JSON.parse(i.SerializedAnalyticalConfiguration);delete i.SerializedAnalyticalConfiguration;j.configHeader=i;i.SerializedAnalyticalConfiguration=JSON.stringify(j);return i;}this.readEntity=function(i,j,w,x,y){var z=sap.apf.core.constants.entitySets[i];b.getXsrfToken(e).done(function(A){var B=e+'/'+z;B=B+f(w);if(x&&x.length>0){B=B+"?$select="+x.join();}var C={requestUri:B,async:true,method:"GET",headers:{"x-csrf-token":A}};b.odataRequest(C,function(D){l(D,e,z,j);},function(E){k(E,j);});});};function o(P,i,j){var w="'";if(j&&j.dataType){return sap.apf.utils.formatValue(i,j.dataType.type);}if(typeof i==='number'){return i;}return w+sap.apf.utils.escapeOdata(i)+w;}function p(j){var w=q.Deferred();b.getXsrfToken(e).done(function(x){var y=[];var i,z=j.length;var A;var B=0;for(i=0;i<z;i++){A=sap.apf.core.constants.entitySets[j[B].entitySetName];g(e,A).done(function(C){var D,E,F;var S=false;D=sap.apf.core.constants.entitySets[j[B].entitySetName];D=D+f(j[B].inputParameters);if(j[B].selectList&&j[B].selectList.length>0){D=D+"?$select="+j[B].selectList.join();S=true;}if(j[B].filter){if(S){D=D+'&';}else{D=D+'?';}D=D+'$filter='+j[B].filter.toUrlParam({formatValue:function(P,G){return o(P,G,C);}});}E=j[B].method||'GET';F={requestUri:D,method:E,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":x}};if(E!=="GET"){F.data=j[B].data;}y.push(F);B++;if(B===z){w.resolve(y);}});}});return w;}function r(i,j,w,x){var y=q.Deferred();var Q='';var z=i+f(j);if(w&&w.length>0){Q="$select="+w.join();}g(e,i).done(function(A){if(x){if(Q){Q=Q+'&';}Q=Q+'$filter='+x.toUrlParam({formatValue:function(P,B){return o(P,B,A);}});}if(i===sap.apf.core.constants.entitySets.application){if(Q){Q=Q+'&';}Q=Q+'$orderby=ApplicationName';}if(Q){z=z+'?'+Q;}y.resolve(z);});return y;}function t(i,j){var w="unknown error";var x="unknown error";var y="";if(i.message!==undefined){w=i.message;}var z="unknown";if(i.response&&i.response.statusCode){z=i.response.statusCode;x=i.response.statusText||"";y=i.response.requestUri;}if(i.messageObject&&i.messageObject.type==="messageObject"){j([],i.messageObject);}else{j([],m.createMessageObject({code:"5001",aParameters:[z,w,x,y]}));}}this.doChangeOperationsInBatch=function(w,x){b.getXsrfToken(e).done(function(y){p(w).done(function(z){var A={requestUri:e+'/'+'$batch',method:"POST",headers:{"x-csrf-token":y},data:{__batchRequests:[{__changeRequests:z}]}};var S=function(B,C){var D;var F;var G,H,I;var J="";var i,j;if(B&&B.__batchResponses){for(i=0;i<B.__batchResponses.length;i++){if(B.__batchResponses[i].message){G=B.__batchResponses[i].message;H="";J=C.requestUri;D=m.createMessageObject({code:"5001",aParameters:[H,G,"",J]});break;}for(j=0;j<B.__batchResponses[i].__changeResponses.length;j++){F=B.__batchResponses[i].__changeResponses[j];if(F.message){G=F.message;I=F.data;H=F.statusCode;J=C.requestUri;D=m.createMessageObject({code:"5001",aParameters:[H,G,I,J]});break;}}}x(D);}};var E=function(i){t(i,x);};b.odataRequest(A,S,E,OData.batchHandler);});});};this.readCollectionsInBatch=function(j,w){b.getXsrfToken(e).done(function(x){p(j).done(function(y){var z={requestUri:e+'/'+'$batch',async:true,method:"POST",headers:{"x-csrf-token":x},data:{__batchRequests:y}};var S=function(A){var B=[];var C,D,F,G,H;var i;if(A&&A.__batchResponses){for(i=0;i<A.__batchResponses.length;i++){if(A.__batchResponses[i].data&&A.__batchResponses[i].data.results){B.push(A.__batchResponses[i].data.results);}else if(A.__batchResponses[i].message){D=A.__batchResponses[i].message;F=A.__batchResponses[i].response.body;G=A.__batchResponses[i].response.statusCode;H=B.requestUri;C=m.createMessageObject({code:"5001",aParameters:[G,D,F,H]});break;}else{H=B.requestUri;C=m.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",H]});break;}}w(B,C);}};var E=function(i){t(i,w);};b.odataRequest(z,S,E,OData.batchHandler);});});};this.readCollection=function(i,j,w,x,y){v(i,j,w,x,y);};function v(i,j,w,x,y){var z=sap.apf.core.constants.entitySets[i];var A=function(B,C){var D;var E;var F="";if(B&&B.__batchResponses){if(B.__batchResponses[0].data&&B.__batchResponses[0].data.results){D=B.__batchResponses[0].data.results;}else if(B.__batchResponses[0].message){var G=B.__batchResponses[0].message;var H=B.__batchResponses[0].response.body;var I=B.__batchResponses[0].response.statusCode;F=C.requestUri;E=m.createMessageObject({code:"5001",aParameters:[I,G,H,F]});}else{F=C.requestUri;E=m.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",F]});}g(e,z).done(function(J){j(D,J,E);});}};b.getXsrfToken(e).done(function(B){r(z,w,x,y).done(function(C){var D={requestUri:e+'/'+'$batch',async:true,method:"POST",headers:{"x-csrf-token":B},data:{__batchRequests:[{requestUri:C,method:"GET",headers:{"x-csrf-token":B,"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage()}}]}};b.odataRequest(D,A,function(E){k(E,j);},OData.batchHandler);});});}this.create=function(i,j,w){if(i==="configuration"){j=n(j);}var x=sap.apf.core.constants.entitySets[i];b.getXsrfToken(e).done(function(y){var z=e+'/'+x;var A={requestUri:z,async:true,method:"POST",headers:{"x-csrf-token":y},data:j};function B(D,R){var E;var F;if(D&&R.statusCode===201){E=D;}else{F=m.createMessageObject({code:'5201'});}g(e,x).done(function(G){w(E,G,F);});}function C(E){var D=h(E);w(undefined,undefined,D);}b.odataRequest(A,B,C);});};this.update=function(i,j,w,x){if(i==="configuration"){j=n(j);}var y=sap.apf.core.constants.entitySets[i];b.getXsrfToken(e).done(function(z){var A=e+'/'+y+f(x);var B={requestUri:A,method:"PUT",headers:{"x-csrf-token":z},data:j};function C(E,R){var F;if(R.statusCode!==204){F=m.createMessageObject({code:'5201'});}g(e,y).done(function(G){w(G,F);});}function D(E){var F=h(E);w(undefined,F);}b.odataRequest(B,C,D);});};this.remove=function(i,j,w,x){var y=sap.apf.core.constants.entitySets[i];b.getXsrfToken(e).done(function(z){var A=e+'/'+y+f(j);g(e,y).done(function(D){if(x){A=A+'$filter='+x.toUrlParam({formatValue:function(P,F){return o(P,F,D);}});}var E={requestUri:A,method:"DELETE",headers:{"x-csrf-token":z}};b.odataRequest(E,B,C);});function B(D,R){if(R.statusCode===204){g(e,y).done(function(F){w(F,undefined);});}else{var E=m.createMessageObject({code:'5201'});w(undefined,E);}}function C(E){var D=h(E);w(undefined,D);}});};};
});
sap.ui.predefine('sap/apf/modeler/core/configurationEditor',["sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(u,q){"use strict";
sap.apf.modeler.core.ConfigurationEditor=function(c,a,b,d){var t=this;var f;var e;var g=a.instances.configurationHandler;var p=a.instances.persistenceProxy;var m=a.instances.messageHandler;var h=a.instances.metadataFactory;var j=true;var s,k,l,n,o,r;var v;var w=new a.constructors.ConfigurationObjects(a);var x=new a.constructors.ConfigurationFactory({instances:{messageHandler:m},constructors:{RegistryProbe:a.constructors.RegistryProbe}});if(!d){s=new a.constructors.ElementContainer("Step",a.constructors.Step,a);k=new a.constructors.ElementContainer("Category",undefined,a);l=new a.constructors.ElementContainer("FacetFilter",a.constructors.FacetFilter,a);n=new a.constructors.ElementContainer("NavigationTarget",a.constructors.NavigationTarget,a);o=new a.constructors.ElementContainer("CategoryStepAssignment",a.constructors.ElementContainer,a);r=[];f={smartFilterBar:true};}else{s=d.stepContainer;k=d.categoryContainer;v=d.smartFilterBar;l=d.facetFilterContainer;n=d.navigationTargetContainer;o=d.categoryStepAssignmentContainer;r=d.serviceList;e=d.applicationTitle;f=d.filterOption;}this.registerServiceAsPromise=function(i){var A=q.Deferred();var B;if(r.indexOf(i)===-1){B=h.getMetadata(i);B.done(function(){if(r.indexOf(i)===-1){r.push(i);}A.resolve(true);});B.fail(function(){A.resolve(false);});}else{A.resolve(true);}return A.promise();};this.getAllServices=function(){return r;};this.getAllEntitySetsOfServiceAsPromise=function(i){return h.getEntitySets(i);};this.getAllHierarchicalEntitySetsOfServiceAsPromise=function(i){var A=q.Deferred();h.getMetadata(i).done(function(B){if(B){A.resolve(B.getHierarchicalEntitySets());}A.resolve([]);}).fail(function(){A.resolve([]);});return A.promise();};this.checkIfHierarchicalEntitySetIsAvailableAsPromise=function(i){var A=q.Deferred();this.getAllHierarchicalEntitySetsOfServiceAsPromise(i).done(function(B){if(B.length>0){A.resolve(true);}else{A.resolve(false);}});return A;};this.getHierarchicalPropertiesOfEntitySetAsPromise=function(i,A){var B=q.Deferred();h.getMetadata(i).done(function(C){if(C){B.resolve(C.getHierarchicalPropertiesOfEntitySet(A));}else{B.resolve([]);}}).fail(function(){B.resolve([]);});return B;};this.getHierarchyNodeIdAsPromise=function(i,A,B){var C;var D=q.Deferred();h.getMetadata(i).done(function(E){if(E){C=E.getHierarchyAnnotationsForProperty(A,B);if(C&&C.hierarchyNodeFor){D.resolve(C.hierarchyNodeFor);}else{D.resolve(null);}}else{D.resolve(null);}}).fail(function(){D.resolve(null);});return D;};this.getNonHierarchicalPropertiesOfEntitySet=function(i,A){var B;var C=q.Deferred();h.getMetadata(i).then(function(D){B=D.getNonHierarchicalPropertiesOfEntitySet(A);C.resolve(B);},function(){C.resolve([]);});return C;};this.getAllEntitySetsExceptParameterEntitySets=function(i){return h.getAllEntitySetsExceptParameterEntitySets(i);};this.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise=function(A,B){var C=[];var D=q.Deferred();this.getAllEntitySetsOfServiceAsPromise(A).done(function(E){if(!B||B.length===0){D.resolve(E);return;}h.getMetadata(A).done(function(F){E.forEach(function(G){var H=F.getFilterableProperties(G);var I=true;for(var i=0;i<B.length;i++){if(H.indexOf(B[i])<=-1){I=false;break;}}if(I){C.push(G);}});D.resolve(C);});});return D.promise();};this.getAllPropertiesOfEntitySetAsPromise=function(i,A){var B=q.Deferred();h.getMetadata(i).done(function(C){B.resolve(C.getAllPropertiesOfEntitySet(A));}).fail(function(){B.resolve([]);});return B.promise();};this.getAllKnownPropertiesAsPromise=function(){var i=q.Deferred();var A=[];var B=r.length;r.forEach(function(C){h.getMetadata(C).done(function(D){A=A.concat(D.getAllProperties());B--;if(B===0){A=sap.apf.utils.eliminateDuplicatesInArray(m,A);i.resolve(A);}});});return i.promise();};this.getFilterablePropertiesAndParametersAsPromise=function(){var i=q.Deferred();var A=[];var B=r.length;r.forEach(function(C){h.getMetadata(C).done(function(D){A=A.concat(D.getFilterablePropertiesAndParameters());if(--B===0){i.resolve(sap.apf.utils.eliminateDuplicatesInArray(m,A));}});});if(B===0){i.resolve([]);}return i.promise();};this.setApplicationTitle=function(i){j=false;e=i;};this.getApplicationTitle=function(){return e;};this.getConfigurationName=function(){return g.getConfiguration(c.id||c).AnalyticalConfigurationName;};this.getCategoryStepAssignments=function(i){var A=[];if(!this.getCategory(i)){return false;}var B=o.getElement(i);if(B){B.getElements().forEach(function(C){A.push(C.stepId);});}return A;};this.addCategoryStepAssignment=function(i,A){if(!this.getCategory(i)||!this.getStep(A)){return false;}var B=o.getElement(i);if(!B){o.createElementWithProposedId({},i);B=o.getElement(i);}if(!B.getElement(A)){B.createElementWithProposedId({stepId:A},A);return true;}return false;};this.removeCategoryStepAssignment=function(i,A){var B;if(!A){var C=this.getCategoryStepAssignments(i);B=o.removeElement(i);if(B){y(C);}return!!B;}var D=o.getElement(i);if(!D){return false;}B=D.removeElement(A);if(D.getElements().length===0){o.removeElement(i);}if(B){y([A]);}return!!B;};function y(i){if(!i){return;}i.forEach(function(A){if(t.getCategoriesForStep(A).length===0){s.removeElement(A);}});}this.moveCategoryStepAssignmentBefore=function(i,A,B){var C=o.getElement(i);if(!C){return null;}return C.moveBefore(A,B);};this.moveCategoryStepAssignmentToEnd=function(i,A){var B=o.getElement(i);if(!B){return null;}return B.moveToEnd(A);};this.moveCategoryStepAssignmentUpOrDown=function(i,A,B){var C=o.getElement(i);if(!C){return null;}return C.moveUpOrDown(A,B);};this.getCategory=k.getElement;this.setCategory=function(i,A){j=false;return k.setElement(i,A);};this.createCategoryWithId=function(i,A){j=false;return k.createElementWithProposedId(i,A).getId();};this.removeCategory=function(i){var A=t.getCategoryStepAssignments(i);if(A){A.forEach(function(B){var C=t.getCategoriesForStep(B);if(!C||C.length<2){s.removeElement(B);}});}k.removeElement(i);};this.getCategories=k.getElements;this.copyCategory=function(i){var A=k.copyElement(i);if(!A){return;}t.getCategoryStepAssignments(i).forEach(function(B){_(B,A);});return A;};this.moveCategoryBefore=function(i,A){return k.moveBefore(i,A);};this.moveCategoryToEnd=function(i){return k.moveToEnd(i);};this.moveCategoryUpOrDown=function(i,A){return k.moveUpOrDown(i,A);};this.serialize=function(){return w.serializeConfiguration(t);};this.isSaved=function(){return j;};this.setIsUnsaved=function(){j=false;};this.save=function(i){var A;function B(E,F,G){if(!G){j=true;g.replaceConfigurationId(c.id||c,E.AnalyticalConfiguration);g.updateConfigurationName(c.id||c,A);c=E.AnalyticalConfiguration;}i(c,F,G);}function C(E,F){if(!F){j=true;}g.updateConfigurationName(c.id||c,A);i(c.id||c,E,F);}A=g.getConfiguration(c.id||c).AnalyticalConfigurationName;var D={AnalyticalConfiguration:"",AnalyticalConfigurationName:A,Application:g.getApplicationId(),SerializedAnalyticalConfiguration:JSON.stringify(this.serialize()),CreatedByUser:"",CreationUTCDateTime:null,LastChangeUTCDateTime:null,LastChangedByUser:""};if(typeof c==='string'){if(c.indexOf("apf1972-")===0){p.create("configuration",D,B);}else{D.AnalyticalConfiguration=c;p.update("configuration",D,C,[{name:"AnalyticalConfiguration",value:c}]);}}else{if(c.id.indexOf("apf1972-")===0){D.AnalyticalConfiguration="";D.CreationUTCDateTime=null;D.LastChangeUTCDateTime=null;}else{D.AnalyticalConfiguration=c.id;D.CreationUTCDateTime=c.creationDate;D.LastChangeUTCDateTime=c.lastChangeDate;}if(c.updateExisting){p.update("configuration",D,C,[{name:"AnalyticalConfiguration",value:c.id}]);}else{p.create("configuration",D,B);}}};this.getFilterOption=function(){return Object.assign({},f);};this.setFilterOption=function(i){if(i.none===true){v=null;A.call(this);B();}if(i.smartFilterBar===true){A.call(this);C();}if(i.facetFilter===true){v=null;D();}function A(){this.getFacetFilters().forEach(function(E){this.removeFacetFilter(E.getId());}.bind(this));}function B(){delete f.smartFilterBar;delete f.facetFilter;f.none=true;}function C(){f.smartFilterBar=true;delete f.facetFilter;delete f.none;}function D(){delete f.smartFilterBar;f.facetFilter=true;delete f.none;}};this.isDataLostByFilterOptionChange=function(){if(f.smartFilterBar===true){if(v&&(v.getService()||v.getEntitySet())){return true;}}if(f.facetFilter===true){if(l.getElements().length>0){return true;}}return false;};this.getSmartFilterBar=function(){if(f.smartFilterBar===true){if(!v){v=new a.constructors.SmartFilterBar("SmartFilterBar-1");}return v;}return null;};this.createFacetFilterWithId=function(i){if(f.facetFilter===true){return l.createElementWithProposedId(undefined,i).getId();}return null;};this.createFacetFilter=function(){if(f.facetFilter===true){return l.createElement().getId();}return null;};this.removeFacetFilter=l.removeElement;this.getFacetFilter=l.getElement;this.getFacetFilters=l.getElements;this.copyFacetFilter=l.copyElement;this.moveFacetFilterBefore=function(i,A){return l.moveBefore(i,A);};this.moveFacetFilterToEnd=function(i){return l.moveToEnd(i);};this.moveFacetFilterUpOrDown=function(i,A){return l.moveUpOrDown(i,A);};this.createNavigationTargetWithId=function(i){return n.createElementWithProposedId(undefined,i).getId();};this.createNavigationTarget=function(){return n.createElement().getId();};this.removeNavigationTarget=function(i){var A=n.getElement(i);if(!A){return;}n.removeElement(i);if(A.isStepSpecific()){var B=this.getStepsAssignedToNavigationTarget(i);var C,S;for(C=0;C<B.length;C++){S=this.getStep(B[C]);S.removeNavigationTarget(i);}}};this.getNavigationTarget=n.getElement;this.getNavigationTargets=n.getElements;this.copyNavigationTarget=function(i){var A=n.copyElement(i);var B=n.getElement(A);if(B.isStepSpecific()){var C=this.getStepsAssignedToNavigationTarget(i);var D,S;for(D=0;D<C.length;D++){S=this.getStep(C[D]);S.addNavigationTarget(A);}}return A;};this.moveNavigationTargetBefore=function(i,A){return n.moveBefore(i,A);};this.moveNavigationTargetToEnd=function(i){return n.moveToEnd(i);};this.moveNavigationTargetUpOrDown=function(i,A){return n.moveUpOrDown(i,A);};this.createStepWithId=function(i){return s.createElementWithProposedId(undefined,i).getId();};this.createStep=function(i){if(!this.getCategory(i)){return;}var A=s.createElement().getId();this.addCategoryStepAssignment(i,A);return A;};this.createHierarchicalStepWithId=function(i){return s.createElementWithProposedId(undefined,i,a.constructors.HierarchicalStep).getId();};this.createHierarchicalStep=function(i){if(!this.getCategory(i)){return;}var A=s.createElement(undefined,a.constructors.HierarchicalStep).getId();this.addCategoryStepAssignment(i,A);return A;};this.getStep=s.getElement;this.getSteps=s.getElements;this.getStepsNotAssignedToCategory=function(i){var A=this.getCategoryStepAssignments(i);var B=[];t.getSteps().forEach(function(C){var D=C.getId();if(A.indexOf(D)===-1){B.push(D);}});return B;};this.copyStep=function(i){var A=_(i);var B=this.getCategoriesForStep(i);if(!A){return false;}if(B){B.forEach(function(C){t.addCategoryStepAssignment(C,A);});}return A;};function _(i,A){if(A&&!t.getCategory(A)){return false;}var B=s.copyElement(i);if(!B){return false;}if(A){t.addCategoryStepAssignment(A,B);}return B;}this.getCategoriesForStep=function C(i){var A=[];var B=t.getCategories();if(B){B.forEach(function(D){var E=D.getId();var F=t.getCategoryStepAssignments(E);if(F&&F.indexOf(i)>-1){A.push(E);}});}return A;};this.getAssignableStepsForNavigationTarget=function(i){var A=[];t.getSteps().forEach(function(B){var C=false;B.getNavigationTargets().forEach(function(D){if(i===D){C=true;}});if(!C){A.push(B.getId());}});return A;};this.getStepsAssignedToNavigationTarget=function(i){var A=[];t.getSteps().forEach(function(B){var C=false;B.getNavigationTargets().forEach(function(D){if(i===D){C=true;}});if(C){A.push(B.getId());}});return A;};this.copy=function(i){var A={stepContainer:s,categoryContainer:k,facetFilterContainer:l,navigationTargetContainer:n,categoryStepAssignmentContainer:o,applicationTitle:e,serviceList:r,filterOption:f};var d=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(A);if(f.smartFilterBar===true&&v){d.smartFilterBar=B();}return new sap.apf.modeler.core.ConfigurationEditor(i,a,undefined,d);function B(){var C=new a.constructors.SmartFilterBar(v.getId());C.setService(v.getService());C.setEntitySet(v.getEntitySet(),!v.isEntityTypeConverted());return C;}};if(typeof c==='string'){if(c.indexOf("apf1972-")===0){j=false;if(b){b(t,undefined);}}else if(!d){z(c,p,function(i,A){if(!A){var B=JSON.parse(i.SerializedAnalyticalConfiguration);t.setApplicationTitle(B.applicationTitle);x.loadConfig(B,true);w.mapToDesignTimeAsPromise(x.getRegistry(),t).then(function(){j=true;b(t,undefined);});}else{b(undefined,A);}});}}else{x.loadConfig(c.content,true);w.mapToDesignTimeAsPromise(x.getRegistry(),this).then(function(){if(b){b(t,undefined);}});}function z(i,A,b){A.readEntity("configuration",function(B,C,D){b(B,D);},[{name:"AnalyticalConfiguration",value:i}],undefined,g.getApplicationId());}};
});
sap.ui.predefine('sap/apf/modeler/core/configurationHandler',["sap/apf/modeler/core/configurationEditor","sap/apf/utils/hashtable","sap/apf/utils/utils","sap/apf/modeler/core/configurationObjects"],function(c,h,u,a){"use strict";
sap.apf.modeler.core.ConfigurationHandler=function(b){var t=this;var m=b.instances.messageHandler;var p=b.instances.persistenceProxy;var C=b.constructors.ConfigurationEditor;var H=b.constructors.Hashtable;var L=b.constructors.LazyLoader;var d=new H(m);var e=new H(m);var l=new H(m);var f=new H(m);var g,j;var k={constructors:{Hashtable:H},instances:{messageHandler:m}};this.exportTexts=function(i){var o=this.getConfiguration(i).AnalyticalConfigurationName;return j.exportTexts(o);};this.getTextPool=function(){return j;};this.setApplicationIdAndContext=function(o,q,T){j=T||j;d=new H(m);var i,r=q.length;for(i=0;i<r;i++){d.setItem(q[i].AnalyticalConfiguration,q[i]);e.setItem(q[i].AnalyticalConfiguration,q[i].AnalyticalConfigurationName);}g=o;};this.getApplicationId=function(){return g;};this.setConfiguration=function(i,o){i.AnalyticalConfiguration=o||n();i.Application=g;d.setItem(i.AnalyticalConfiguration,i);return i.AnalyticalConfiguration;};this.getList=function(){var i=[];var o=function(q,r){i.push(r);};d.each(o);return i;};this.getConfiguration=function(i){return d.getItem(i);};this.loadConfiguration=function(i,o){var q,r=i.id||i;if(!i.updateExisting){q=l.getItem(r);}if(!q){q=new L(k,v);l.setItem(r,q);}q.asyncGetInstance(r,s);function s(w,x,y){o(w,x);}function v(r,w,x){var y={instances:{coreApi:b.instances.coreApi,messageHandler:m,configurationHandler:t,persistenceProxy:p,textPool:j,metadataFactory:b.instances.metadataFactory},constructors:{Hashtable:H,Step:b.constructors.Step,HierarchicalStep:b.constructors.HierarchicalStep,SmartFilterBar:b.constructors.SmartFilterBar,FacetFilter:b.constructors.FacetFilter,NavigationTarget:b.constructors.NavigationTarget,Representation:b.constructors.Representation,ConfigurationObjects:b.constructors.ConfigurationObjects,ElementContainer:b.constructors.ElementContainer,ConfigurationFactory:b.constructors.ConfigurationFactory,RegistryProbe:b.constructors.RegistryProbe}};new C(i,y,function(z,A){w(r,z,A);});}};this.resetConfiguration=function(i){var o;if(l.hasItem(i)){o=d.getItem(i);o.AnalyticalConfigurationName=e.getItem(i);l.removeItem(i);return i;}};this.updateConfigurationName=function(i,o){e.setItem(i,o);};this.copyConfiguration=function(i,o){var q=this.getConfiguration(i);if(!q){o(null);return;}t.loadConfiguration(i,r);function r(s){var v,w,x,y;y=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(q);v=n();y.AnalyticalConfiguration=v;t.setConfiguration(y,v);w=s.copy(v);x=new L(k,undefined,{id:v,instance:w});l.setItem(v,x);o(v);}};this.replaceConfigurationId=function(i,s){if(i.indexOf("apf1972-")===0){var o=d.getItem(i);var q=l.getItem(i).getInstance();var r=new L(k,undefined,{id:s,instance:q});o.AnalyticalConfiguration=s;d.setItem(s,o);e.setItem(s,o.AnalyticalConfigurationName);d.removeItem(i);l.setItem(s,r);l.removeItem(i);}};this.exportConfiguration=function(i,o){var q;this.loadConfiguration(i,r);function r(s){if(!s.isSaved()){m.putMessage(m.createMessageObject({code:"11007",aParameters:[i]}));o(null);}else{var v=b.functions.getApplication(g);var w=t.getConfiguration(i).AnalyticalConfigurationName;q=s.serialize();q.configHeader={Application:g,ApplicationName:v.ApplicationName,SemanticObject:v.SemanticObject,AnalyticalConfiguration:i,AnalyticalConfigurationName:w,UI5Version:sap.ui.version};p.readEntity("configuration",function(x,y,z){if(z){m.putMessage(m.createMessageObject({code:"5022",aParameters:[i]}));o(null);}else{q.configHeader.CreationUTCDateTime=x.CreationUTCDateTime;q.configHeader.LastChangeUTCDateTime=x.LastChangeUTCDateTime;q=JSON.stringify(q,null,'\t');o(q,w);}},[{name:"AnalyticalConfiguration",value:i}],["CreationUTCDateTime","LastChangeUTCDateTime"],g);}}};this.memorizeConfiguration=function(i){var o,q;q=l.getItem(i);if(!q){return null;}o=q.getInstance();if(o){f.setItem(i,o.copy(i));return i;}return null;};this.restoreMemorizedConfiguration=function(i){var o,q;q=f.removeItem(i);if(q){o=new L(k,undefined,{id:i,instance:q});l.setItem(i,o);return q;}return null;};this.removeConfiguration=function(i,r){function o(q,s){if(!s){d.removeItem(i);l.removeItem(i);}r(i,q,s);}if(i.indexOf("apf1972-")!==0){p.remove("configuration",[{name:"AnalyticalConfiguration",value:i}],o,undefined,g);}else{d.removeItem(i);l.removeItem(i);r(i,undefined,undefined);}};this.removeAllConfigurations=function(){d=new H(m);};function n(){return"apf1972-"+(sap.apf.utils.createPseudoGuid(32));}};
});
sap.ui.predefine('sap/apf/modeler/core/elementContainer',function(){'use strict';var E=function(n,a,i,d){var e,b,r=new RegExp("^"+n+"-([123456789]\\d*)$"),c=new RegExp("^"+n);var t=this;i.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name");if(!d){e=new i.constructors.Hashtable(i.instances.messageHandler);b=0;}else{e=d.elements;b=d.elementCounter;}this.generateId=function(){return n+"-"+(++b);};this.createElement=function(g,S){var h;h=t.generateId();return f(g,h,S);};this.createElementWithProposedId=function(g,p,S){function h(l){var m=r.exec(l);if(m){var o=parseInt(m[1],10);if(o>b){b=o;}}}var j;var k=e.getItem(p);if(k){return t.createElement(g,S);}j=f(g,p,S);h(p);return j;};this.removeElement=function(g){return e.removeItem(g);};this.getElement=function(g){return e.getItem(g);};this.updateElement=function(g,h){i.instances.messageHandler.check(g!==undefined,"ElementContainer: Element has been updated with undefined elementId");if((!h.getId)||h.getId()!==g){h.getId=function(){return g;};}e.setItem(g,h);return g;};this.setElement=function(g,h){var j;if(h){if(!(e.getItem(h))){i.instances.messageHandler.putMessage(i.instances.messageHandler.createMessageObject({code:'11006',aParameters:[h]}));return undefined;}t.updateElement(h,g);return h;}j=t.createElement(g);return j.getId();};this.getElements=function(){var l=[];e.forEachOrdered(function(g,h){l.push(h);});return l;};this.moveUpOrDown=function(g,h){return e.moveUpOrDown(g,h);};this.moveBefore=function(g,m){return e.moveBefore(g,m);};this.moveToEnd=function(g){return e.moveToEnd(g);};this.copyElement=function(g){var h,j,k;h=e.getItem(g);if(!h){return;}k=t.generateId();if(h.copy&&typeof h.copy==="function"){j=h.copy(k);}else{j=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(h);}j.getId=function(){return k;};e.setItem(k,j);return k;};this.copy=function(g){var h={elements:new i.constructors.Hashtable(i.instances.messageHandler),elementCounter:b};var j;var k;e.getKeysOrdered().forEach(function(l){j=e.getItem(l);k=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(j);if(g&&l.indexOf(n)===0){l=l.replace(c,g);}i.instances.messageHandler.check(l!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof k==="object"&&k.getId&&typeof k.getId==="function"){k.getId=function(){return l;};}h.elements.setItem(l,k);});i.instances.messageHandler.check(n!==undefined||g!==undefined,"ElementContainer: Element has been created without name in copy 2");return new sap.apf.modeler.core.ElementContainer((g||n),a,i,h);};function f(g,h,S){var j;i.instances.messageHandler.check(h!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof S==='function'){j=new S(h,i);}else if(typeof a==='function'){if(a!==sap.apf.modeler.core.ElementContainer){j=new a(h,i);}else{j=new a(h,undefined,i);}}else{j={};}j.getId=function(){return h;};if(g){j=jQuery.extend(j,g);}e.setItem(h,j);return j;}};sap.apf.modeler.core.ElementContainer=E;return E;},true);
sap.ui.predefine('sap/apf/modeler/core/hierarchicalStep',["sap/apf/modeler/core/step","sap/ui/thirdparty/jquery"],function(s,q){"use strict";
sap.apf.modeler.core.HierarchicalStep=function(a,i,d){sap.apf.modeler.core.Step.call(this,a,i,d);var h;var c=this.createRepresentation;if(d){h=d.hierarchyProperty;}this.getType=function(){return"hierarchicalStep";};this.getHierarchyProperty=function(){return h;};this.setHierarchyProperty=function(p){h=p;this.getRepresentationContainer().getElements().forEach(function(r){r.setHierarchyProperty(h);});};this.createRepresentation=function(e){var r=c(e);if(h){r.setHierarchyProperty(h);}return r;};this.getConsumableSortPropertiesForRepresentation=function(r){var t=this;var b=q.Deferred();this.getAvailableProperties().done(function(e){i.instances.metadataFactory.getMetadata(t.getService()).then(function(m){var f=[];e.forEach(function(p){var g=m.getPropertyMetadata(t.getEntitySet(),p);if(g["aggregation-role"]==="measure"){f.push(p);}});b.resolve({available:f,consumable:t.getConsumableProperties(f,t.getSortPropertiesFromRepresentation(r))});},function(){b.resolve({available:[],consumable:[]});});});return b.promise();};this.copy=function(n){var d=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(this.getDataForCopy());d.hierarchyProperty=h;d.representationContainer=this.getRepresentationContainer().copy((n||this.getId())+"-Representation");return new sap.apf.modeler.core.HierarchicalStep((n||this.getId()),i,d);};};
});
sap.ui.predefine('sap/apf/modeler/core/instance',["sap/ui/thirdparty/datajs","sap/apf/utils/hashtable","sap/apf/core/constants","sap/apf/core/messageHandler","sap/apf/core/sessionHandler","sap/apf/core/representationTypes","sap/apf/core/entityTypeMetadata","sap/apf/core/configurationFactory","sap/apf/core/utils/uriGenerator","sap/apf/core/metadata","sap/apf/core/metadataFacade","sap/apf/core/metadataProperty","sap/apf/core/messageDefinition","sap/apf/core/metadataFactory","sap/apf/core/odataProxy","sap/apf/cloudFoundry/modelerProxy","sap/apf/cloudFoundry/ajaxHandler","sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/modeler/core/messageDefinition","sap/apf/modeler/core/textHandler","sap/apf/modeler/core/textPool","sap/apf/modeler/core/applicationHandler","sap/apf/modeler/core/configurationHandler","sap/apf/modeler/core/configurationEditor","sap/apf/modeler/core/step","sap/apf/modeler/core/hierarchicalStep","sap/apf/modeler/core/smartFilterBar","sap/apf/modeler/core/facetFilter","sap/apf/modeler/core/navigationTarget","sap/apf/modeler/core/elementContainer","sap/apf/modeler/core/representation","sap/apf/modeler/core/configurationObjects","sap/apf/utils/parseTextPropertyFile","sap/apf/modeler/core/lazyLoader","sap/apf/modeler/core/registryWrapper","sap/apf/utils/startParameter","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/ui/thirdparty/jquery"],function(d,h,c,m,s,r,e,a,u,b,f,g,j,k,o,l,n,p,q,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,Q){"use strict";
sap.apf.modeler.core.Instance=function(P,R){var S=this;var T,U,V,W,X,Y,Z,$,_,a1,b1,c1,d1,e1,f1,g1,h1,i1,j1,k1,l1,m1,n1,o1,p1,w,m,s,M,q1,k,r1,s1,t1,u1,v1,w1,x1,y1,z1,A1,B1;var C1=[];var D1;var d;T=(R&&R.constructors&&R.constructors.ApplicationHandler)||sap.apf.modeler.core.ApplicationHandler;V=(R&&R.constructors&&R.constructors.ConfigurationHandler)||sap.apf.modeler.core.ConfigurationHandler;W=(R&&R.constructors&&R.constructors.ConfigurationEditor)||sap.apf.modeler.core.ConfigurationEditor;X=(R&&R.constructors&&R.constructors.ConfigurationObjects)||sap.apf.modeler.core.ConfigurationObjects;Y=(R&&R.constructors&&R.constructors.ConfigurationFactory)||sap.apf.core.ConfigurationFactory;d1=(R&&R.constructors&&R.constructors.ElementContainer)||sap.apf.modeler.core.ElementContainer;Z=(R&&R.constructors&&R.constructors.Step)||sap.apf.modeler.core.Step;$=(R&&R.constructors&&R.constructors.HierarchicalStep)||sap.apf.modeler.core.HierarchicalStep;_=(R&&R.constructors&&R.constructors.SmartFilterBar)||sap.apf.modeler.core.SmartFilterBar;a1=(R&&R.constructors&&R.constructors.FacetFilter)||sap.apf.modeler.core.FacetFilter;b1=(R&&R.constructors&&R.constructors.NavigationTarget)||sap.apf.modeler.core.NavigationTarget;c1=(R&&R.constructors&&R.constructors.Representation)||sap.apf.modeler.core.Representation;f1=(R&&R.constructors&&R.constructors.Hashtable)||sap.apf.utils.Hashtable;g1=(R&&R.constructors&&R.constructors.RegistryProbe)||sap.apf.modeler.core.RegistryWrapper;m1=(R&&R.constructors&&R.constructors.LazyLoader)||sap.apf.modeler.core.LazyLoader;h1=(R&&R.constructors&&R.constructors.Metadata)||sap.apf.core.Metadata;i1=(R&&R.constructors&&R.constructors.EntityTypeMetadata)||sap.apf.core.EntityTypeMetadata;j1=(R&&R.constructors&&R.constructors.MetadataFacade)||sap.apf.core.MetadataFacade;k1=(R&&R.constructors&&R.constructors.MetadataProperty)||sap.apf.core.MetadataProperty;l1=(R&&R.constructors&&R.constructors.MetadataFactory)||sap.apf.core.MetadataFactory;n1=(R&&R.constructors&&R.constructors.StartParameter)||sap.apf.utils.StartParameter;o1=(R&&R.constructors&&R.constructors.AnnotationHandler)||sap.apf.core.utils.AnnotationHandler;e1=(R&&R.constructors&&R.constructors.FileExists)||sap.apf.core.utils.FileExists;p1=(R&&R.constructors&&R.constructors.ProxyTextHandlerForLocalTexts)||sap.apf.utils.ProxyTextHandlerForLocalTexts;U=(R&&R.constructors&&R.constructors.AjaxHandler||sap.apf.cloudFoundry.AjaxHandler);d=(R&&R.instances&&R.instances.datajs)||OData;if(R&&R.constructors&&R.constructors.TextHandler){w=new R.constructors.TextHandler();}else{w=new sap.apf.modeler.core.TextHandler();}if(R&&R.constructors&&R.constructors.MessageHandler){m=new R.constructors.MessageHandler(true);}else{m=new sap.apf.core.MessageHandler(true);}m.activateOnErrorHandling(true);m.loadConfig(sap.apf.core.messageDefinition);m.loadConfig(sap.apf.modeler.core.messageDefinition);m.setTextResourceHandler(w);if(R&&R.instances&&R.instances.component){B1={};B1.baseManifest=sap.apf.modeler.Component.prototype.getMetadata().getManifest();B1.manifest=Q.extend({},true,R.instances.component.getMetadata().getManifest());}M=new n1(R&&R.instances&&R.instances.component,B1);this.getStartParameterFacade=function(){return M;};this.ajax=function(i){var J1=Q.extend(true,{},i);J1.functions=J1.functions||{};J1.functions.getSapSystem=M.getSapSystem;if(R&&R.functions&&R.functions.ajax){J1.functions.ajax=R.functions.ajax;}J1.instances={messageHandler:m};return sap.apf.core.ajax(J1);};var p=new p1({instances:{messageHandler:m}});r1={manifests:B1,instances:{messageHandler:m,coreApi:this,proxyTextHandlerForLocalTexts:p}};var E1=R&&R.functions&&R.functions.isUsingCloudFoundryProxy&&R.functions.isUsingCloudFoundryProxy();if(E1){t1={instances:{messageHandler:m},functions:{coreAjax:this.ajax}};r1.instances.ajaxHandler=new U(t1);}if(R&&R.constructors&&R.constructors.PersistenceProxy){q1=new R.constructors.PersistenceProxy(P,r1);}else{if(E1){q1=new sap.apf.cloudFoundry.modelerProxy.ModelerProxy(P,r1);}else if(B1&&B1.manifest["sap.apf"]&&B1.manifest["sap.apf"].activateLrep){q1=new sap.apf.core.LayeredRepositoryProxy(P,r1);}else{q1=new sap.apf.core.OdataProxy(P,r1);}}if(R&&R.constructors&&R.constructors.SessionHandler){s=new R.constructors.SessionHandler(r1);}else{s=new sap.apf.core.SessionHandler(r1);}var F1={functions:{getSapSystem:M.getSapSystem,getComponentNameFromManifest:sap.apf.utils.getComponentNameFromManifest,getODataPath:sap.apf.core.utils.uriGenerator.getODataPath,getBaseURLOfComponent:sap.apf.core.utils.uriGenerator.getBaseURLOfComponent,addRelativeToAbsoluteURL:sap.apf.core.utils.uriGenerator.addRelativeToAbsoluteURL},instances:{fileExists:new e1({functions:{ajax:this.ajax,getSapSystem:M.getSapSystem}})}};var O=new o1(F1);s1={constructors:{EntityTypeMetadata:i1,Hashtable:f1,Metadata:h1,MetadataFacade:j1,MetadataProperty:k1},functions:{getServiceDocuments:function(){return[P.serviceRoot];},getSapSystem:M.getSapSystem},instances:{messageHandler:m,coreApi:S,annotationHandler:O},deactivateFatalError:true};k=new l1(s1);u1={constructors:{Hashtable:f1},instances:{messageHandler:m}};this.getCatalogServiceUri=R&&R.functions&&R.functions.getCatalogServiceUri;v1=(R&&R.functions&&R.functions.odataRequestWrapper)||sap.apf.core.odataRequestWrapper;this.odataRequest=function(i,J1,K1,L1){var M1={instances:{datajs:d},functions:{getSapSystem:M.getSapSystem}};v1(M1,i,J1,K1,L1);};this.checkForTimeout=function(i){var J1=sap.apf.core.utils.checkForTimeout(i);if(J1){m.putMessage(J1);}return J1;};this.getEntityTypeMetadataAsPromise=function(i,J1){return k.getEntityTypeMetadata(i,J1);};this.getEntityTypeMetadata=this.getEntityTypeMetadataAsPromise;this.getXsrfToken=function(i){return s.getXsrfToken(i);};this.getUriGenerator=function(){return sap.apf.core.utils.uriGenerator;};this.getText=function(i,J1){return w.getText(i,J1);};this.putMessage=function(i){return m.putMessage(i);};this.check=function(i,J1,K1){return m.check(i,J1,K1);};this.createMessageObject=function(i){return m.createMessageObject(i);};this.setCallbackForMessageHandling=function(i){m.setMessageCallback(i);};this.isUsingCloudFoundryProxy=function(){return E1||false;};this.isVendorContentAvailable=function(){if(M.isLrepActive()||(E1&&this.getGenericExit("hasVendorContent")&&this.getGenericExit("hasVendorContent")())){return true;}return false;};this.importConfigurationFromVendorLayer=function(i,J1,K1,L1){if(E1){this.getApplicationHandler(function(y,M1){if(M1){L1(undefined,undefined,M1);return;}q1.importVendorContent(i,J1,K1,L1,y.registerApplicationCreatedOnServer);});}else{G1(i,J1,K1,L1);}};function G1(J1,K1,L1,M1){var N1;q1.readAllConfigurationsFromVendorLayer().then(function(U1){var V1=J1+'.'+K1;var i;for(i=0;i<U1.length;i++){if(U1[i].value===V1){N1=U1[i].applicationText;break;}}S.getApplicationHandler(O1);});function O1(y,i){if(i){M1(undefined,undefined,i);return;}var U1=false;var V1=y.getApplication(J1);if(!V1){U1=true;}var W1={ApplicationName:N1};y.setAndSave(W1,P1,J1,U1);}function P1(i,b,U1){if(U1){M1(K1,undefined,U1);return;}Q1();}function Q1(){var i=new sap.apf.core.utils.Filter(m,'Language','eq',sap.apf.core.constants.developmentLanguage);var U1=new sap.apf.core.utils.Filter(m,'Application','eq',J1);U1.addAnd(i);q1.readCollection("texts",R1,undefined,undefined,U1,{layer:"VENDOR"});}function R1(i,b,U1){if(U1){M1(K1,undefined,U1);return;}H1(i,J1,S1);}function S1(i){if(i){M1(K1,undefined,i);return;}q1.readEntity("configuration",T1,[{value:K1}],undefined,J1,{layer:"VENDOR"});}function T1(i,b,U1){if(U1){M1(undefined,b,U1);return;}var V1=JSON.parse(i.SerializedAnalyticalConfiguration);I1(V1,L1,M1);}}function H1(i,J1,K1){S.getApplicationHandler(M1);function L1(N1,b,O1){var P1;var x;if(O1){K1(O1);}else{P1={instances:{messageHandler:m,persistenceProxy:q1},constructors:{Hashtable:f1},isUsingCloudFoundryProxy:E1};x=new sap.apf.modeler.core.TextPool(P1,J1,N1);x.addTextsAndSave(i,K1,J1);}}function M1(y,N1){if(N1){K1(N1);return;}var O1;var P1=y.getApplication(J1);if(!P1){O1=m.createMessageObject({code:11021});K1(O1);return;}if(y1&&y1.getId()===J1){y1.getInstance().getTextPool().addTextsAndSave(i,K1,J1);}else{var Q1=new sap.apf.core.utils.Filter(m,'Application','eq',J1);var R1=new sap.apf.core.utils.Filter(m,'Language','eq',sap.apf.core.constants.developmentLanguage);R1.addAnd(Q1);q1.readCollection("texts",L1,undefined,undefined,R1);}}}this.importTexts=function(J1,K1){var L1;var M1;var i;var N1=sap.apf.utils.parseTextPropertyFile(J1,{instances:{messageHandler:m}});if(N1.Messages.length>0){L1=m.createMessageObject({code:11020});M1=N1.Messages.length;for(i=0;i<M1-1;i++){N1.Messages[i+1].setPrevious(N1.Messages[i]);}L1.setPrevious(N1.Messages[M1-1]);K1(L1);}else{H1(N1.TextElements,N1.Application,K1);}};function I1(i,J1,K1){var L1=i.configHeader;S.getApplicationHandler(M1);function M1(y,Q1){if(Q1){K1(undefined,undefined,Q1);return;}var R1=false;var S1=y.getList();S1.forEach(function(U1){if(U1.Application===L1.Application){R1=true;}});if(R1){S.getConfigurationHandler(L1.Application,O1);}else{var T1={ApplicationName:L1.ApplicationName,SemanticObject:L1.SemanticObject};y.setAndSave(T1,N1,L1.Application,true);}}function N1(Q1,b,R1){if(R1){K1(undefined,undefined,R1);return;}S.getConfigurationHandler(L1.Application,O1);}function O1(z,Q1){if(Q1){K1(undefined,undefined,Q1);return;}var R1=Q.extend({},i,true);delete R1.configHeader;var S1=false;var T1=z.getList();T1.forEach(function(X1){if(X1.AnalyticalConfiguration===L1.AnalyticalConfiguration){S1=true;}});if(S1){J1(V1,W1,L1.AnalyticalConfigurationName);}else{z.setConfiguration({AnalyticalConfigurationName:L1.AnalyticalConfigurationName},L1.AnalyticalConfiguration);var U1={id:L1.AnalyticalConfiguration,creationDate:L1.CreationUTCDateTime,lastChangeDate:L1.LastChangeUTCDateTime,content:R1};z.loadConfiguration(U1,P1);}function V1(){z.setConfiguration({AnalyticalConfigurationName:L1.AnalyticalConfigurationName},L1.AnalyticalConfiguration);var U1={updateExisting:true,id:L1.AnalyticalConfiguration,creationDate:L1.CreationUTCDateTime,lastChangeDate:L1.LastChangeUTCDateTime,content:R1};z.loadConfiguration(U1,P1);}function W1(X1){if(X1&&X1!==""){L1.AnalyticalConfigurationName=X1;}var Y1=z.setConfiguration({AnalyticalConfigurationName:L1.AnalyticalConfigurationName});var Z1={id:Y1,content:R1};z.loadConfiguration(Z1,P1);}}function P1(Q1,R1){if(R1){K1(undefined,undefined,R1);return;}Q1.save(K1);}}this.importConfiguration=function(i,J1,K1){var L1=JSON.parse(i);if(!M1(L1,K1)){return;}I1(L1,J1,K1);function M1(L1,K1){var N1=[],O1=true,P1;if(!sap.apf.utils.isValidGuid(L1.configHeader.Application)){N1.push(m.createMessageObject({code:11037,aParameters:[L1.configHeader.Application]}));O1=false;}if(!sap.apf.utils.isValidGuid(L1.configHeader.AnalyticalConfiguration)){N1.push(m.createMessageObject({code:11038,aParameters:[L1.configHeader.AnalyticalConfiguration]}));O1=false;}P1=sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration(L1);P1.forEach(function(Q1){var R1=new f1(m);if(!R1.hasItem(Q1)){R1.setItem(Q1,Q1);if(!sap.apf.utils.isValidGuid(Q1)){N1.push(m.createMessageObject({code:11039,aParameters:[Q1]}));O1=false;}}});if(O1){return O1;}N1.forEach(function(Q1,R1,N1){if(R1){Q1.setPrevious(N1[R1-1]);}});K1(i,undefined,N1[N1.length-1]);return O1;}};this.getApplicationHandler=function(i){if(!x1){var J1=(R&&R.functions&&R.functions.loadApplicationHandler)||K1;x1=new m1(u1,J1);}x1.asyncGetInstance("ApplicationHandlerId",i);function K1(id,L1){new T({instances:{messageHandler:m,persistenceProxy:q1},constructors:{Hashtable:f1},functions:{resetConfigurationHandler:N1}},M1);function M1(y,O1){L1(id,y,O1);}function N1(O1){if(y1&&y1.getId()===O1){y1.getInstance().removeAllConfigurations();y1.reset();}}}};this.getConfigurationHandler=function(i,J1){if(!y1){w1=(R&&R.functions&&R.functions.loadConfigurationHandler)||K1;y1=new m1(u1,w1);}y1.asyncGetInstance(i,J1);function K1(i,L1,M1){var N1=new sap.apf.core.utils.Filter(m,'Application','eq',i);var O1=new sap.apf.core.utils.Filter(m,'Language','eq',sap.apf.core.constants.developmentLanguage);O1.addAnd(N1);var P1=[];var Q1=["AnalyticalConfiguration","AnalyticalConfigurationName","Application","CreatedByUser","CreationUTCDateTime","LastChangeUTCDateTime","LastChangedByUser"];P1.push({entitySetName:"configuration",filter:N1,selectList:Q1});P1.push({entitySetName:'texts',filter:O1});q1.readCollectionsInBatch(P1,R1);function R1(S1,T1){var x,U1;var V1;var W1;var z=M1;if(T1){L1(i,undefined,T1);}else{V1=S1[0];W1=S1[1];U1={instances:{messageHandler:m,persistenceProxy:q1},constructors:{Hashtable:f1},isUsingCloudFoundryProxy:E1};x=new sap.apf.modeler.core.TextPool(U1,i,W1);if(!z){z=new V({instances:{messageHandler:m,persistenceProxy:q1,coreApi:S,metadataFactory:k},constructors:{ConfigurationEditor:W,ConfigurationFactory:Y,ConfigurationObjects:X,ElementContainer:d1,EntityTypeMetadata:i1,SmartFilterBar:_,FacetFilter:a1,NavigationTarget:b1,Hashtable:f1,Representation:c1,RegistryProbe:g1,Step:Z,HierarchicalStep:$,LazyLoader:m1},functions:{getApplication:x1.getInstance().getApplication}});}z.setApplicationIdAndContext(i,V1,x);L1(i,z,T1);}}}};this.getUnusedTextKeys=function(i,J1){var K1={instances:{messageHandler:m,persistenceProxy:q1},constructors:{Hashtable:f1}};var L1=new X(K1);var M1=null,N1=null,z=null;L1.getTextKeysFromAllConfigurations(i,function(P1,Q1){if(N1){return;}M1=P1;N1=Q1;if(Q1||z){O1();}});this.getConfigurationHandler(i,function(P1,Q1){if(N1){return;}z=P1;N1=Q1;if(Q1||M1){O1();}});function O1(){var P1=[];if(N1){J1(undefined,N1);return;}z.getTextPool().getTextKeys().forEach(function(Q1){if(!M1.hasItem(Q1)){P1.push(Q1);}});J1(P1,undefined);}};this.resetConfigurationHandler=function(){if(y1){y1.reset();}};this.getRepresentationTypes=function(){var i=sap.apf.core.representationTypes();var J1=[];Q.extend(true,J1,i);return J1;};this.getAllAvailableSemanticObjects=function(i){if(A1){i(A1,D1);return;}if(D1){i([],D1);return;}C1.push(i);if(C1.length===1){var J1={requestUri:"/sap/opu/odata/UI2/INTEROP/SemanticObjects?$format=json&$select=id,text",method:"GET",isSemanticObjectRequest:true};S.odataRequest(J1,K1,L1);}function K1(M1,N1){A1=M1.results;C1.forEach(function(O1){O1(M1.results,undefined);});}function L1(M1){var N1;if(M1&&M1.messageObject){N1=M1.messageObject;}else{m.createMessageObject({code:"11041"});A1=[];}D1=N1;C1.forEach(function(O1){O1([],N1);});}};this.getSemanticActions=function(J1){var K1;var L1=Q.Deferred();if(!z1){z1=new f1(m);}K1=z1.getItem(J1);if(K1){L1.resolve(K1);return L1.promise();}S.getAllAvailableSemanticObjects(M1);return L1.promise();function M1(N1,O1){if(O1){L1.reject(O1);return;}var P1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var Q1={id:J1,text:""};var i;for(i=0;i<N1.length;i++){if(N1[i].id===J1){Q1=N1[i];break;}}if(!P1){m.createMessageObject({code:"5038"});var R1={semanticObject:Q1,semanticActions:[]};z1.setItem(J1,R1);L1.resolve(R1);}else{P1.getLinks({semanticObject:Q1.id,ignoreFormFactor:true,ui5Component:R.instances.component}).done(function(S1){var T1=[];S1.forEach(function(U1){var V1=U1.intent.split("-");var W1=V1[1].split("?");W1=W1[0].split("~");T1.push({id:W1[0],text:U1.text});});var R1={semanticObject:Q1,semanticActions:T1};z1.setItem(J1,R1);L1.resolve(R1);}).fail(function(){L1.reject(m.createMessageObject({code:"11042"}));});}}};this.navigateToGenericRuntime=function(i,J1,K1){var L1;if(R&&R.exits&&R.exits.getRuntimeUrl&&Q.isFunction(R.exits.getRuntimeUrl)){L1=R.exits.getRuntimeUrl(i,J1);}else{var M1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var N1={};if(S.getStartParameterFacade().isLrepActive()){N1['sap-apf-configuration-id']=i+'.'+J1;}else{N1['sap-apf-configuration-id']=J1;}var O1=M1.hrefForExternal({target:R.functions.getNavigationTargetForGenericRuntime(),params:N1});var P1=Q(location).attr('href');var Q1=P1.split('#')[0];L1=Q1+O1;}K1(L1);};this.readAllConfigurationsFromVendorLayer=function(){return q1.readAllConfigurationsFromVendorLayer();};this.showSemanticObject=function(){if(M.isLrepActive()||E1){return false;}return true;};this.getGenericExit=function(i){if(R&&R.exits&&R.exits[i]&&typeof R.exits[i]==='function'){return R.exits[i];}return undefined;};this.getComponent=function(){return R&&R.instances&&R.instances.component;};if(R&&R.probe&&typeof R.probe==='function'){R.probe({constructors:{ApplicationHandler:T,ConfigurationHandler:V,ConfigurationEditor:W,ConfigurationObjects:X,ConfigurationFactory:Y,MetadataFactory:l1,Metadata:h1,EntityTypeMetadata:i1,MetadataFacade:j1,MetadataProperty:k1,Step:Z,HierarchicalStep:$,SmartFilterBar:_,FacetFilter:a1,NavigationTarget:b1,Representation:c1,ElementContainer:d1,Hashtable:f1,LazyLoader:m1,AnnotationHandler:o1,ProxyTextHandlerForLocalTexts:p1,RegistryProbe:g1},textHandler:w,messageHandler:m,sessionHandler:s,persistenceProxy:q1,metadataFactory:k,injectForFollowUp:r1,injectMetadataFactory:s1,fnOdataRequestWrapper:v1,proxyTextHandlerForLocalTexts:p,ajax:this.ajax,odataRequestWrapper:v1,annotationHandler:O});}};
});
sap.ui.predefine('sap/apf/modeler/core/representation',function(){'use strict';var R=function(r,i,d){var a,b,w,c,m,p,l,e,f,g,o,t,h,j,k;if(!d){w={};c=new i.constructors.ElementContainer("dimension",undefined,i);m=new i.constructors.ElementContainer("measure",undefined,i);p=new i.constructors.ElementContainer("property",undefined,i);o=new i.constructors.ElementContainer("orderBy",undefined,i);}else{h=d.hierarchyProperty;j=d.hierarchyPropertyTextLabelKey;a=d.representationTypeId;b=d.alternateRepresentationTypeId;w=d.width;c=d.dimensions;m=d.measures;p=d.properties;l=d.leftUpperCornerTextKey;e=d.rightUpperCornerTextKey;f=d.leftLowerCornerTextKey;g=d.rightLowerCornerTextKey;o=d.orderByProperties;t=d.topN;k=d.hierarchyLabelDisplayOption;}this.getId=function(){return r;};this.setRepresentationType=function(n){a=n;};this.getRepresentationType=function(){return a;};this.setAlternateRepresentationType=function(n){b=n;};this.getAlternateRepresentationType=function(){return b;};this.getDimensions=function(){var n=[];c.getElements().forEach(function(q){n.push(q.propertyName);});return n;};this.addDimension=function(n,q){var s;if(c.getElement(n)){return null;}s={propertyName:n,textLabelKey:q};return c.createElementWithProposedId(s,n).getId();};this.removeDimension=function(n){c.removeElement(n);};this.setDimensionKind=function(n,q){var s=c.getElement(n);if(s){s.kind=q;}};this.getDimensionKind=function(n){var q=c.getElement(n);if(q){return q.kind;}return undefined;};this.setDimensionTextLabelKey=function(n,q){var s=c.getElement(n);if(s){s.textLabelKey=q;}};this.getDimensionTextLabelKey=function(n){var q=c.getElement(n);if(q){return q.textLabelKey;}return undefined;};this.setLabelDisplayOption=function(n,q){var s=c.getElement(n);if(s){s.labelDisplayOption=q;}};this.getLabelDisplayOption=function(n){var q=c.getElement(n);if(q&&q.labelDisplayOption){return q.labelDisplayOption;}return undefined;};this.setMeasureDisplayOption=function(n,q){var s=m.getElement(n);if(s){s.labelDisplayOption=q;}};this.getMeasureDisplayOption=function(n){var q=m.getElement(n);if(q&&q.labelDisplayOption){return q.labelDisplayOption;}return undefined;};this.getMeasures=function(){var n=[];m.getElements().forEach(function(q){n.push(q.propertyName);});return n;};this.addMeasure=function(n){var q;if(m.getElement(n)){return null;}q={propertyName:n};return m.createElementWithProposedId(q,n).getId();};this.removeMeasure=m.removeElement;this.setMeasureTextLabelKey=function(n,q){var s=m.getElement(n);if(s){s.textLabelKey=q;}};this.getMeasureTextLabelKey=function(n){var q=m.getElement(n);if(q){return q.textLabelKey;}return undefined;};this.setMeasureKind=function(n,q){var s=m.getElement(n);if(s){s.kind=q;}};this.getMeasureKind=function(n){var q=m.getElement(n);if(q){if(q.kind==="yAxis1"){q.kind="yAxis";}return q.kind;}return undefined;};this.setWidthProperty=function(n,q){w[n]=q;};this.getWidthProperties=function(){return w;};this.getProperties=function(){var n=[];p.getElements().forEach(function(q){n.push(q.propertyName);});return n;};this.addProperty=function(n,q){if(p.getElement(n)){return null;}return p.createElementWithProposedId({propertyName:n,textLabelKey:q},n).getId();};this.removeProperty=function(n){p.removeElement(n);};this.getHierarchyProperty=function(){return h;};this.setHierarchyProperty=function(n){if(h!==n){j=undefined;k=undefined;}h=n;};this.getHierarchyPropertyTextLabelKey=function(){return j;};this.setHierarchyPropertyTextLabelKey=function(n){j=n;};this.getHierarchyPropertyLabelDisplayOption=function(){return k;};this.setHierarchyPropertyLabelDisplayOption=function(n){k=n;};this.setPropertyKind=function(n,q){var s=p.getElement(n);if(s){s.kind=q;}};this.getPropertyKind=function(n){var q=p.getElement(n);if(q){return q.kind;}return undefined;};this.setPropertyTextLabelKey=function(n,q){var s=p.getElement(n);if(s){s.textLabelKey=q;}};this.getPropertyTextLabelKey=function(n){var q=p.getElement(n);if(q){return q.textLabelKey;}return undefined;};this.setLeftUpperCornerTextKey=function(n){l=n;};this.getLeftUpperCornerTextKey=function(){return l;};this.setRightUpperCornerTextKey=function(n){e=n;};this.getRightUpperCornerTextKey=function(){return e;};this.setLeftLowerCornerTextKey=function(n){f=n;};this.getLeftLowerCornerTextKey=function(){return f;};this.setRightLowerCornerTextKey=function(n){g=n;};this.getRightLowerCornerTextKey=function(){return g;};this.setTopN=function(n){t=n;};this.getTopN=function(){return t;};this.addOrderbySpec=function(n,q){var s;s=o.getElement(n);if(s){s.ascending=q;return s;}s={property:n,ascending:q};return o.createElementWithProposedId(s,n).getId();};this.removeOrderbySpec=function(n){o.removeElement(n);};this.removeAllOrderbySpecs=function(){var n=this.getOrderbySpecifications();n.forEach(function(q){o.removeElement(q.property);});};this.getOrderbySpecifications=function(){var n=[];o.getElements().forEach(function(q){n.push({property:q.property,ascending:q.ascending});});return n;};this.copy=function(n){var q={representationTypeId:a,alternateRepresentationTypeId:b,width:w,dimensions:c,measures:m,properties:p,leftUpperCornerTextKey:l,rightUpperCornerTextKey:e,leftLowerCornerTextKey:f,rightLowerCornerTextKey:g,orderByProperties:o,topN:t,hierarchyProperty:h,hierarchyPropertyTextLabelKey:j,hierarchyLabelDisplayOption:k};var d=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(q);return new sap.apf.modeler.core.Representation((n||this.getId()),i,d);};};sap.apf.modeler.core.Representation=R;return R;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/category.controller',["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator"],function(t,n,v){"use strict";var p,T,c,C,o,a,b;var n=sap.apf.modeler.ui.utils.nullObjectChecker;
function _(j){j.byId("idCategoryBasicData").setText(T("categoryData"));j.byId("idCategoryTitleLabel").setText(T("categoryTitle"));j.byId("idCategoryTitle").setPlaceholder(T("newCategory"));j.byId("idTotalStepsLabel").setText(T("totalSteps"));}
function d(j){var s;if(p&&p.arguments&&p.arguments.categoryId){a=C.getCategory(p.arguments.categoryId);}if(!n.checkIsNotUndefined(a)){s=C.setCategory();a=C.getCategory(s);e(j);}}
function e(j,k){var l={id:a.getId(),icon:"sap-icon://open-folder"};if(k){delete l.icon;l.name=k;}j.getView().getViewData().updateSelectedNode(l);}
function f(j,k){var s=T("category")+": "+k;j.getView().getViewData().updateTitleAndBreadCrumb(s);}
function g(j){if(!n.checkIsNotNullOrUndefinedOrBlank(C.getCategory(p.arguments.categoryId))){return;}if(n.checkIsNotNullOrUndefinedOrBlank(a.labelKey)&&o.get(a.labelKey)){j.byId("idCategoryTitle").setValue(o.get(a.labelKey).TextElementDescription);}else{j.byId("idCategoryTitle").setValue(a.getId());}}
function h(j){var k=C.getCategoryStepAssignments(a.getId()).length;j.byId("idTotalSteps").setValue(k);}
var i=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.category",{
onInit:function(){var j=this;var V=j.getView().getViewData();T=V.getText;p=V.oParams;c=V.oConfigurationHandler;o=c.getTextPool();C=V.oConfigurationEditor;if(!C){c.loadConfiguration(p.arguments.configId,function(k){C=k;});}b=new sap.apf.modeler.ui.utils.ViewValidator(j.getView());_(j);d(j);j.setDetailData();b.addField("idCategoryTitle");},
onAfterRendering:function(){if(this.getView().byId("idCategoryTitle").getValue().length===0){this.getView().byId("idCategoryTitle").focus();}},
setDetailData:function(){var j=this;g(j);h(j);},
handleChangeDetailValue:function(E){var j=this,k;var s=j.byId("idCategoryTitle").getValue().trim();var l=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;if(n.checkIsNotNullOrUndefinedOrBlank(s)){o.setTextAsPromise(s,l).done(function(m){k={labelKey:m};C.setCategory(k,a.getId());e(j,s);f(j,s);C.setIsUnsaved();});}else{C.setIsUnsaved();}},
handleSuggestions:function(E){var j=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;var s=new sap.apf.modeler.ui.utils.SuggestionTextHandler(o);s.manageSuggestionTexts(E,j);},
updateSubViewInstancesOnReset:function(j){C=j;a=C.getCategory(a.getId());},
getValidationState:function(){return b.getValidationState();},
onExit:function(){b=null;}
});
return i;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/configurationList.controller',["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/navigationHandler","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/APFTree","sap/ui/core/util/File","sap/ui/util/openWindow","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/ui/core/syncStyleClass"],function(t,N,H,A,F,O,U,q,a,S){'use strict';sap.ui.controller("sap.apf.modeler.ui.controller.configurationList",{onInit:function(){var c=this.getOwnerComponent();if(c!==undefined){this.oCoreApi=c.oCoreApi;this._setDisplayText();this._setPublishVisible();}this._instantiateToolbarView();this._instantiateAPFTree();this._instantiateTitleAndBreadCrumbView();this._addConfigStyleClass();this.oModel=new sap.ui.model.json.JSONModel({aConfigDetails:[]});this.getView().setModel(this.oModel);this.bProgramaticSelection=false;if(this.oTreeInstance!==undefined){this.oTreeInstance.expandToLevel(1);this.oTreeInstance.collapseAll();}this.modelUpdateDeferred={};sap.apf.modeler.ui.utils.APFRouter.patternMatch(this);},_instantiateToolbarView:function(){var b=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.toolbar",type:"XML",viewData:{oConfigListInstance:this}});this.toolbarController=b.getController();this.byId("idConfigMasterData").insertItem(b,0);},_instantiateAPFTree:function(){this.oTreeInstance=this.byId("idConfigTree");this.oTreeInstance.setTranslationFunction(this.oCoreApi.getText);var d;if(this.oCoreApi.getRepresentationTypes()[0].metadata){d=this.oCoreApi.getRepresentationTypes()[0].id;}this.oTreeInstance.setDefaultRepresentationType(d);},_instantiateTitleAndBreadCrumbView:function(){this.oTitleBreadCrumbView=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.titleBreadCrumb",type:"XML",viewData:{getText:this.oCoreApi.getText}});this.oTitleBreadCrumbController=this.oTitleBreadCrumbView.getController();this.byId("idConfigDetail").insertItem(this.oTitleBreadCrumbView,0);this.oBreadCrumb=this.oTitleBreadCrumbView.byId("IdBreadCrumb");},setConfigListMasterTitle:function(T){this.byId("idConfigTitleMaster").setText(this.oCoreApi.getText("configurationObjectTitle")+" : "+T);},onAfterRendering:function(){var s=this;this.oTreeInstance.onAfterRendering=function(){s._setHeightForScrollBar();};},_setHeightForScrollBar:function(){var v=this;var h=q(window).height();h=h-165;v.byId("idMasterScroll").setHeight(h+"px");H.onResize(function(){h=q(v.byId("configPage").getDomRef()).height();v.byId("idMasterScroll").setHeight(h+"px");});},_setDisplayText:function(){this.byId("configPage").setTitle(this.oCoreApi.getText("configModelerTitle"));this.byId("idSavebutton").setText(this.oCoreApi.getText("save"));this.byId("idCancelbutton").setText(this.oCoreApi.getText("cancel"));this.byId("idExportbutton").setText(this.oCoreApi.getText("export"));this.byId("idExecuteButton").setText(this.oCoreApi.getText("execute"));this.byId("idPublishbutton").setText(this.oCoreApi.getText("share"));this.byId("idAriaPropertyForBreadCrumb").setText(this.oCoreApi.getText("breadCrumbText"));},_setPublishVisible:function(){var v=this.oCoreApi.isUsingCloudFoundryProxy();this.byId("idPublishbutton").setVisible(v);},_addConfigStyleClass:function(){this.getView().addStyleClass("sapUiSizeCompact");this.byId("idConfigTree").addStyleClass("configTree");this.byId("idConfigTitleMaster").addStyleClass("configTitle");this.byId("idConfigMasterData").addStyleClass("configMasterData");this.byId("idConfigDetailData").addStyleClass("configDetailData");},_setSubViewContainerHeight:function(s){var o=this;var b=s.getContent()[0].getItems()[0];var h=q(window).height();var c=q(this.byId("idConfigTitleMaster").getDomRef()).outerHeight()+q(this.byId("idConfigTitleMaster").getDomRef()).offset().top+25;var d=q(this.byId("idConfigMasterData").getItems()[0].getDomRef()).height();var e=q(this.byId("configPage").getDomRef()).find("header").height();var f=q(this.byId("configPage").getDomRef()).find("footer").height();var g,i;if(d>0){g=c+d+e+f;}else{g=265;}var j=h-g-40+"px";b.setHeight(j);var k=q(this.byId("idConfigDetailData").getDomRef()).width();if(k>0){i=q(this.byId("idConfigMasterData").getDomRef()).offset().left;}else{k=1015;i=15;}var l=k-i;var m=l+"px";b.setWidth(m);H.onResize(function(){h=q(o.byId("configPage").getDomRef()).height();j=h-g+"px";b.setHeight(j);k=q(o.byId("idConfigDetailData").getDomRef()).width();l=k-i;m=l+"px";b.setWidth(m);});},_setSubView:function(s){this.oSubView=s;},_getSubView:function(){return this.oSubView;},updateSubView:function(p){var s=this;var P=this._getSubView();var d=this.byId("idConfigDetailData");var v=this.getSPathFromURL(p);this.configurationHandler.memorizeConfiguration(p.arguments.configId);if(P){P.destroy();}if(p.arguments.configId.indexOf("newConfig")===0){this.modelUpdateDeferred[this.byId("idConfigTree").getModel().getData().aConfigDetails.length-1]=new q.Deferred();}var o=new sap.ui.view({viewName:"sap.apf.modeler.ui.view."+v.objectType,type:"XML",viewData:{oParams:p,oCoreApi:s.oCoreApi,updateConfigTree:s.updateConfigTree.bind(s),updateSelectedNode:s.updateSelectedNode.bind(s),updateTitleAndBreadCrumb:s.updateTitleAndBreadCrumb.bind(s),updateTree:s.updateTree.bind(s),oConfigurationHandler:s.configurationHandler,oApplicationHandler:s.applicationHandler,oConfigurationEditor:s.configEditor,getText:s.oCoreApi.getText,getEntityTypeMetadataAsPromise:s.oCoreApi.getEntityTypeMetadataAsPromise,getRepresentationTypes:s.oCoreApi.getRepresentationTypes,oFooter:s.byId("idFooterBarMain"),createMessageObject:s.oCoreApi.createMessageObject,putMessage:s.oCoreApi.putMessage,getAllAvailableSemanticObjects:s.oCoreApi.getAllAvailableSemanticObjects,getSemanticActions:s.oCoreApi.getSemanticActions,getNavigationTargetName:s._getNavigationTargetName.bind(s),setNavigationTargetName:s._setNavigationTargetName.bind(s),getCalatogServiceUri:s.oCoreApi.getCatalogServiceUri,oTitleBreadCrumbController:s.oTitleBreadCrumbController}});if(p.name!=="applicationList"){d.removeAllContent();o.placeAt(d);this._setSubViewContainerHeight(o);this._setSubView(o);}},clearTitleAndBreadCrumb:function(){this.oTitleBreadCrumbView.byId("IdFormTitle").setText("");this.oTitleBreadCrumbView.byId("IdBreadCrumb").destroyContent();},_createLinkForBreadCrumb:function(n,i,p){var c=this;var l=new sap.m.Link({text:n,id:c.createId("linkId"+i),press:function(){c._navigateToNode(p);}});l.addAriaDescribedBy(c.byId("idAriaPropertyForBreadCrumb"));return l;},_createTextForBreadCrumb:function(v,i){var c=this;var l=new sap.m.Label({id:c.createId("textId"+i)});l.addStyleClass("dialogText");l.setText(v);return l;},_createIconForBreadCrumb:function(){var b=new sap.ui.core.Icon({src:"sap-icon://open-command-field"});b.addStyleClass("breadCrumbIcon");return b;},_navigateToNode:function(p){var i=this.oTreeInstance.getItemNodeByContext(p);this.oTreeInstance.setSelectedItem(i);this._onTreeNodeSelection()},_getAllPossibleNodes:function(p){var n=[];if(p.configId){n.push({id:p.configId,name:p.configurationName,oParams:{arguments:{configId:p.configId}}});}if(p.facetFilterId){n.push({id:p.facetFilterId,name:p.facetFilterName,oParams:{arguments:{configId:p.configId,facetFilterId:p.facetFilterId}}});}if(p.smartFilterId){n.push({id:p.smartFilterId,name:p.smartFilterName,oParams:{arguments:{configId:p.configId,smartFilterId:p.smartFilterId}}});}if(p.categoryId){n.push({id:p.categoryId,name:p.categoryName,oParams:{arguments:{configId:p.configId,categoryId:p.categoryId}}});}if(p.stepId){n.push({id:p.stepId,name:p.stepName,oParams:{arguments:{configId:p.configId,categoryId:p.categoryId,stepId:p.stepId}}});}if(p.representationId){n.push({id:p.representationId,name:p.representationName,oParams:{arguments:{configId:p.configId,categoryId:p.categoryId,stepId:p.stepId,representationId:p.representationId}}});}if(p.navTargetId){n.push({id:p.navTargetId,name:p.navTargetName,oParams:{arguments:{configId:p.configId,navTargetId:p.navTargetId}}});}return n;},_breadCrumbCreation:function(s,T){for(var i=0;i<s.length;i++){var p=this.getSPathFromURL(s[i].oParams).sPath;var l;if(i===1){l=this._createTextForBreadCrumb(T,i);this.oBreadCrumb.addContent(l);var I=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(I);}if(i!==s.length-1){var L=this._createLinkForBreadCrumb(s[i].name,i,p);this.oBreadCrumb.addContent(L);var o=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(o);}if(i===s.length-1){l=this._createTextForBreadCrumb(s[i].name,++i);this.oBreadCrumb.addContent(l);}}},updateTitleAndBreadCrumb:function(T){var f;var s;var o=this.oTreeInstance.getSelectedItems();if(o&&o.length>0){s=o[0];}var b=s?this.oTreeInstance.getAPFTreeNodeContext(s):undefined;var n=b?b.nodeObjectType:undefined;var p=b?this.oTreeInstance.getParentNodeContext(b):undefined;if(T){f=T;}else{if(n){var c=s.getTitle();f=this.oCoreApi.getText(n)+": "+c;if(n===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR){f=c;}}}if(p){if(this.oBreadCrumb){this.oBreadCrumb.destroyContent();}var d=this._getAllPossibleNodes(p);var e;switch(n){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:this._breadCrumbCreation(d);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR:case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:e=this.oCoreApi.getText("facetFilter");this._breadCrumbCreation(d,e);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:e=this.oCoreApi.getText("category");this._breadCrumbCreation(d,e);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:e=this.oCoreApi.getText("category");this._breadCrumbCreation(d,e);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:e=this.oCoreApi.getText("category");this._breadCrumbCreation(d,e);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:e=this.oCoreApi.getText("navigationTarget");this._breadCrumbCreation(d,e);break;default:break;}}if(n!==sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP){this.oTitleBreadCrumbController.setTitleForDetailPage(f);}},setSelectionOnTree:function(v){if(v.objectType==="smartFilterBar"){this.toolbarController.disableCopyDeleteButton();}else{this.toolbarController.enableCopyDeleteButton();}this._enableDisableExportAndExecuteButton(true);this.oTreeInstance.setSelectionOnTree(v.sPath);},removeSelectionOnTree:function(){this.oTreeInstance.removeSelectionOnTree(this.selectedNode);},updateConfigTree:function(o){var b,n,c,i,d,e,f,g,h;var s=this;o.forEach(function(k){var l;b=s.getSPathFromURL(k.oldContext).sPath;c=b.split("/");i=c[2];d=c[6];f=c[8];g=q.extend(true,{},s.oModel.getData().aConfigDetails[i].configData[1].categories[d].steps[f]);h=g.id;g.isSelected=false;n=s.getSPathFromURL(k.newContext).sPath;e=n.split("/")[6];if(k.removeStep===undefined){if(s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps){s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps.forEach(function(v){if(v.id===h){l=true;}});if(l===undefined){s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps.push(g);}}else{s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps=[];s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps.push(g);}}else if(k.removeStep===true){if(s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps){s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps.forEach(function(v,w){if(v.id===h){var x=s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps;x.splice(w,1);s.oModel.getData().aConfigDetails[i].configData[1].categories[e].steps=x;}});if(k.changeCategory===true){var m=s.getSPathFromURL(k.categoryChangeContext).sPath;var p=m.split("/");i=p[2];var r=p[6];var u=p[8];s.oModel.getData().aConfigDetails[i].configData[1].categories[r].steps[u].isSelected=true;s.oModel.getData().aConfigDetails[i].configData[1].categories[r].expanded=true;}}}});this.oModel.updateBindings();var j=o.length;if(o[j-1].changeCategory){sap.ui.core.UIComponent.getRouterFor(this).navTo(o[j-1].oldContext.name,o[j-1].categoryChangeContext.arguments,true);}this.configEditor.setIsUnsaved();},updateSelectedNode:function(p,c){if(p){if(this.oTreeInstance.getSelectedItems()){this.selectedNode=this.oTreeInstance.getSelectedItem();}if(this.selectedNode){if(p.name&&this.selectedNode._getBindingContext()&&this.selectedNode._getBindingContext().getObject()){this.selectedNode.getBindingContext().getObject().name=p.name;this.selectedNode.getBindingContext().getObject().isSelected=true;if(this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION||this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET){this.selectedNode.getBindingContext().getObject().icon=p.icon;}this.oModel.updateBindings();}if(p.id&&this.selectedNode.getBindingContext().getObject().id){this.selectedNode.getBindingContext().getObject().id=p.id;if(p.icon){this.selectedNode.getBindingContext().getObject().icon=p.icon;}this.oModel.updateBindings();}else if(p.id&&this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration){this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration=p.id;this.selectedNode.getBindingContext().getObject().expanded=true;}}if((this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION)&&c){sap.ui.core.UIComponent.getRouterFor(this).navTo(this.selectedNode.getBindingContext().getObject().type,c,true);this.updateTree();}}},createConfigList:function(){var s=this;this.configList=this.configurationHandler.getList();this.configList.forEach(function(c,i){var C={};C.AnalyticalConfiguration=c.AnalyticalConfiguration;C.name=c.AnalyticalConfigurationName;C.Application=c.Application;C.type=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION;C.bIsLoaded=false;C.bToggleState=false;C.isSelected=false;C.expanded=false;C.selectable=true;C.hasExpander=true;s.oModel.getData().aConfigDetails.push(C);s.modelUpdateDeferred[i]=new q.Deferred();});this.oModel.updateBindings();},showNoConfigSelectedText:function(){this.byId("idConfigDetailData").removeAllContent();this.clearTitleAndBreadCrumb();var n=new sap.m.Label().addStyleClass("noConfigSelected");n.setText(this.oCoreApi.getText("noConfigSelected"));n.placeAt(this.byId("idConfigDetailData"));this.toolbarController.disableCopyDeleteButton();this._enableDisableExportAndExecuteButton(false);this.byId("idConfigDetail").setBusy(false);},updateConfigListView:function(){this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode===null||this.selectedNode===undefined||this.selectedNode.length==0){if(this.configList.length>1){this.showNoConfigSelectedText();}else{this.oModel.getData().aConfigDetails[0].isSelected=true;this.oModel.getData().aConfigDetails[0].expanded=true;this.configId=this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration;this.oModel.updateBindings();var c={appId:this.appId,configId:this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration};this.selectedNode=this.oTreeInstance.getItems()[0];this.oTreeInstance.expand(0);this.toolbarController.enableCopyDeleteButton();this._enableDisableExportAndExecuteButton(true);sap.ui.core.UIComponent.getRouterFor(this).navTo(this.oModel.getData().aConfigDetails[0].type,c,true);}}},_getNodeData:function(p,b){var c=this.oModel.getData().aConfigDetails;var n={};var g=function(j){var l={};var m=j||this.configId;for(var i=0;i<c.length;i++){if(c[i].AnalyticalConfiguration===m){l.index=i;l.data=c[i];l.id=c[i].AnalyticalConfiguration;break;}}return l;};var d=function(l){var m=g.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var o={};for(var i=0;i<c[m].configData.length;i++){if(c[m].configData[i].filters instanceof Array){o.indexConfigData=i;for(var j=0;j<c[m].configData[i].filters.length;j++){if(c[m].configData[i].filters[j].id===l){o.index=j;o.data=c[m].configData[i].filters[j];o.id=c[m].configData[i].filters[j].id;o.filterNodeExpansion=c[m].configData[i].expanded;}}}}return o;};var e=function(l){var m=g.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var o={};for(var i=0;i<c[m].configData.length;i++){if(c[m].configData[i].categories instanceof Array){o.indexConfigData=i;for(var j=0;j<c[m].configData[i].categories.length;j++){if(c[m].configData[i].categories[j].id===l){o.index=j;o.data=c[m].configData[i].categories[j];o.id=c[m].configData[i].categories[j].id;o.categoryExpansion=c[m].configData[i].expanded;}}}}return o;};var f=function(j){var l=g.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var m=e.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).indexConfigData;var o=e.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).index;var r={};for(var i=0;i<c[l].configData[m].categories[o].steps.length;i++){if(c[l].configData[m].categories[o].steps[i].id===j){r.index=i;r.data=c[l].configData[m].categories[o].steps[i];r.id=c[l].configData[m].categories[o].steps[i].id;}}return r;};var h=function(j){var l=g.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var m=e.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).indexConfigData;var o=e.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).index;var r=f.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]).index;var s={};if(c[l].configData[m].categories[o].steps[r]){for(var i=0;i<c[l].configData[m].categories[o].steps[r].representations.length;i++){if(c[l].configData[m].categories[o].steps[r].representations[i].id===j){s.index=i;s.data=c[l].configData[m].categories[o].steps[r].representations[i];s.id=c[l].configData[m].categories[o].steps[r].representations[i].id;}}}return s;};var k=function(l){var m=g.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var o={};for(var i=0;i<c[m].configData.length;i++){if(c[m].configData[i].navTargets instanceof Array){o.indexConfigData=i;for(var j=0;j<c[m].configData[i].navTargets.length;j++){if(c[m].configData[i].navTargets[j].id===l){o.index=j;o.data=c[m].configData[i].navTargets[j];o.id=c[m].configData[i].navTargets[j].id;o.nTExpansion=c[m].configData[i].expanded;}}}}return o;};switch(b){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:n=g.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:n=d.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR:n=d.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:n=e.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:n=f.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:n=h.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:n=k.call(this,p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET]);break;default:break;}return n;},_retainNodeState:function(p,b){var c=this._getNodeData(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION).index;if(!this.oModel.getData().aConfigDetails[c].bIsLoaded){return{};}var n=this._getNodeData(p,b);if(!n.data){return{};}return{expanded:n.data.expanded,isSelected:n.data.isSelected};},updateTree:function(){var s=this;var c=[],f=[],b=[],d={},n=[],C=[],e=[],g=[],h,k;this.oTextPool=this.configurationHandler.getTextPool();var p={};p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]=this.configId;var l=s._getNodeData(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION).index;var m=this.configId;var r=false;var u=false;var v=false;var w=Object.keys(this.configEditor.getFilterOption())[0];c=this.configEditor.getCategories();function x(){if(s.oModel.getData().aConfigDetails[l].bIsLoaded){k=s._getNodeData(p,w);}h=s._retainNodeState(p,w);}function y(i,o){var j=s.oCoreApi.getText("smartFilterBar");if(w===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){j=s.oTextPool.get(o.getLabelKey())?s.oTextPool.get(o.getLabelKey()).TextElementDescription:o.getLabelKey();}p[w]=o.getId();x();b.push({id:o.getId(),name:j,type:w,isSelected:h.isSelected||false,expanded:h.expanded||false,selectable:true,icon:i});}if(w===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR){d=this.configEditor.getSmartFilterBar();y("sap-icon://filter",d);}else if(w===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){f=this.configEditor.getFacetFilters();f.forEach(function(o){var i=o.isVisible()?"sap-icon://filter":"sap-icon://hide";y(i,o);});}if(k&&k.filterNodeExpansion){r=true;}n=this.configEditor.getNavigationTargets();var R=this.oCoreApi.getRepresentationTypes();var z={};R.forEach(function(o){var i=o.id;z[i]=o.picture;});c.forEach(function(i){p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]=i.getId();var o=i;var j=o.getId();g=[];s.configEditor.getCategoryStepAssignments(j).forEach(function(K){var L=s.configEditor.getStep(K);p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]=j;p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]=L.getId();var M=s._retainNodeState(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP);var P=L.getRepresentations();var Q=P.map(function(T){p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION]=T.getId();var V=s._retainNodeState(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION);return{id:T.getId(),name:s.oCoreApi.getText(T.getRepresentationType()),type:"representation",isSelected:V.isSelected||false,expanded:V.expanded||false,selectable:true,icon:z[T.getRepresentationType()]};});g.push({id:L.getId(),name:s.oTextPool.get(L.getTitleId())?s.oTextPool.get(L.getTitleId()).TextElementDescription:L.getTitleId(),type:"step",representations:Q,isSelected:M.isSelected||false,expanded:M.expanded||false,selectable:true,icon:L.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"});});var I=s._retainNodeState(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY);if(s.oModel.getData().aConfigDetails[l].bIsLoaded){var J=s._getNodeData(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY);if(J.categoryExpansion){v=true;}}C.push({id:i.getId(),name:s.oTextPool.get(i.labelKey)?s.oTextPool.get(i.labelKey).TextElementDescription:i.labelKey,type:"category",steps:g,isSelected:I.isSelected||false,expanded:I.expanded||false,selectable:true,icon:"sap-icon://open-folder"});});e.push({filters:b,name:s.oCoreApi.getText("facetFilters"),expanded:r,selectable:false});e.push({categories:C,name:s.oCoreApi.getText("categories"),expanded:v,selectable:false});var B=[];var D=function(j,o){p[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET]=o.getId();var I=s._retainNodeState(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET);if(s.oModel.getData().aConfigDetails[l].bIsLoaded){var J=s._getNodeData(p,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET);if(J.nTExpansion){u=true;}}var i,K;for(i=0;i<j.length;i++){if(j[i].id===o.getAction()){K=j[i].text;break;}}if(o.getTitleKey()){K=s.configurationHandler.getTextPool().get(o.getTitleKey()).TextElementDescription;}B.push({id:o.getId(),name:K||o.getSemanticObject(),type:"navigationTarget",isSelected:I.isSelected||false,expanded:I.expanded||false,selectable:true,icon:o.isStepSpecific()?"sap-icon://pushpin-off":"sap-icon://overview-chart"});};var E=function(){var o=n.map(function(I){return I.getId();});var T=[];for(var i=0;i<o.length;i++){for(var j=0;j<B.length;j++){if(o[i]===B[j].id){T[i]=B[j];break;}}}B=T;};var G=function(){var o={};o.configData=e;s.oModel.getData().aConfigDetails[l].bIsLoaded=true;var T=s.oModel.getData().aConfigDetails[l];q.extend(T,o);s.oModel.getData().aConfigDetails[l]=T;s.oModel.getData().aConfigDetails[l].name=s.configurationHandler.getConfiguration(m).AnalyticalConfigurationName;for(var i=0;i<s.oModel.getData().aConfigDetails.length;i++){if(s.modelUpdateDeferred[i]&&s.modelUpdateDeferred[i].state()==="pending"&&n.length===0){s.modelUpdateDeferred[i].resolve(s.oModel.getData());}}if(T.configData[2].navTargets.length>0){s._setNavigationTargetName({configIndexInTree:l});s.modelUpdateDeferred[l].resolve(s.oModel.getData());}s.oModel.updateBindings();};n.forEach(function(o){var P=s.oCoreApi.getSemanticActions(o.getSemanticObject());P.then(function(i){D(i.semanticActions,o);if(B.length===n.length){E();if(e[2]){e.splice(2,2);e.push({navTargets:B,name:s.oCoreApi.getText("navigationTargets"),expanded:u,selectable:false});G();var j=sap.apf.modeler.ui.utils.APFRouter.params;if(j.name==="navigationTarget"){sap.apf.modeler.ui.utils.APFRouter.setCurrentSelectionState(j,s);}}}});});e.push({navTargets:B,name:s.oCoreApi.getText("navigationTargets"),expanded:u,selectable:false});G();},_checkIfKeyExists:function(k,c){var i;if(this.navTargetTextsTable[c]){this.navTargetTextsTable[c].texts.forEach(function(n,b){if(n.key===k){i=b;}});}return i;},_getNavigationTargetName:function(k){var s=this;var v;var n=new q.Deferred();var c=s.getSPathForConfig(s.configId).split('/')[2];if(this.modelUpdateDeferred[c]===undefined){this.modelUpdateDeferred[c]=new q.Deferred();this.modelUpdateDeferred[c].resolve(this.oModel.getData());}q.when(this.modelUpdateDeferred[c]).done(function(m){var i=s._checkIfKeyExists(k,c);if(i!==undefined){v=s.navTargetTextsTable[c].texts[i].value;n.resolve(v);}});return n.promise();},_setNavigationTargetName:function(p){var c=p.configIndexInTree!==undefined?p.configIndexInTree:this.getSPathForConfig(this.configId).split('/')[2];if(a(this.navTargetTextsTable)){this.navTargetTextsTable={};}if(!this.navTargetTextsTable[c]){this.navTargetTextsTable[c]={texts:[]};}if(p.key&&p.value){var i=this._checkIfKeyExists(p.key,c);if(i===undefined){var n={};n.key=p.key;n.value=p.value;this.navTargetTextsTable[c].texts.push(n);}else{this.navTargetTextsTable[c].texts[i].value=p.value;}}else{var b=this.oModel.getData().aConfigDetails[c].configData[2].navTargets;for(var d=0;d<b.length;d++){var e={};e.key=b[d].id;e.value=b[d].name;this.navTargetTextsTable[p.configIndexInTree].texts.push(e);}}},_handleToggleTreeNode:function(e){var s=this;var c=e.getSource().getSelectedItems();if(c&&c.length>0){var p=c[0]._getBindingContext().sPath;var b=c[0]._getBindingContext().getObject().type;if(b===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){var d=p.split('/')[2];if(s.oModel.getData().aConfigDetails[d].bIsLoaded===true){this.oModel.updateBindings();}else{this.configurationHandler.loadConfiguration(this.oModel.getData().aConfigDetails[d].AnalyticalConfiguration,function(f,m){if(m===undefined){s.configEditor=f;s.configId=s.oModel.getData().aConfigDetails[d].AnalyticalConfiguration;s.updateTree();}});}}}},getSPathForConfig:function(c){var p;this.oModel.getData().aConfigDetails.forEach(function(b,i){if(b.AnalyticalConfiguration===c){p="/aConfigDetails/"+i;}});return p;},getSPathFromURL:function(p){var v={sPath:undefined,objectType:undefined};var s=this;this.oModel.getData().aConfigDetails.forEach(function(c,i){if(c.AnalyticalConfiguration===p.arguments.configId){v.sPath="/aConfigDetails/"+i;v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION;s.oModel.getData().aConfigDetails[i].expanded=true;if(p.arguments.categoryId!==undefined){s.oModel.getData().aConfigDetails[i].configData[1].categories.forEach(function(b,d){if(b.id===p.arguments.categoryId){v.sPath=v.sPath.concat("/configData/1/categories/"+d);v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY;s.oModel.getData().aConfigDetails[i].configData[1].expanded=true;if(p.arguments.stepId!==undefined){s.oModel.getData().aConfigDetails[i].configData[1].categories[d].steps.forEach(function(e,f){if(e.id===p.arguments.stepId){v.sPath=v.sPath.concat("/steps/"+f);v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP;s.oModel.getData().aConfigDetails[i].configData[1].categories[d].expanded=true;if(p.arguments.representationId!==undefined){s.oModel.getData().aConfigDetails[i].configData[1].categories[d].steps[f].representations.forEach(function(r,g){if(r.id===p.arguments.representationId){s.oModel.getData().aConfigDetails[i].configData[1].categories[d].steps[f].expanded=true;v.sPath=v.sPath.concat("/representations/"+g);v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION;}});}}});}}});}if(p.arguments.facetFilterId!==undefined){s.oModel.getData().aConfigDetails[i].configData[0].filters.forEach(function(f,b){if(f.id===p.arguments.facetFilterId){v.sPath=v.sPath.concat("/configData/0/filters/"+b);v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER;s.oModel.getData().aConfigDetails[i].configData[0].expanded=true;}});}if(p.arguments.smartFilterId!==undefined){v.sPath=v.sPath.concat("/configData/0/filters/0");v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR;s.oModel.getData().aConfigDetails[i].configData[0].expanded=true;}if(p.arguments.navTargetId!==undefined){s.oModel.getData().aConfigDetails[i].configData[2].navTargets.forEach(function(n,b){if(n.id===p.arguments.navTargetId){v.sPath=v.sPath.concat("/configData/2/navTargets/"+b);v.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET;s.oModel.getData().aConfigDetails[i].configData[2].expanded=true;}});}}});return v;},_navHandleExpandDelete:function(n,p,b){var s=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var c=this.oModel.getData().aConfigDetails;var I=b||this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);var g=function(j){var v;for(var i=0;i<c.length;i++){if(c[i].AnalyticalConfiguration===j){v=i;break;}}return v;};var d=function(v){var k=g.call(this,p.configId);var w,x;for(var i=0;i<c[k].configData.length;i++){if(c[k].configData[i].filters instanceof Array){w=i;for(var j=0;j<c[k].configData[i].filters.length;j++){if(c[k].configData[i].filters[j].id===v){x=j;break;}else{x=j;}}}}return{indexConfig:w,indexFilter:x};};var e=function(v){var k=g.call(this,p.configId);var w,x;for(var i=0;i<c[k].configData.length;i++){if(c[k].configData[i].navTargets instanceof Array){w=i;for(var j=0;j<c[k].configData[i].navTargets.length;j++){if(c[k].configData[i].navTargets[j].id===v){x=j;break;}else{x=j;}}}}return{indexConfig:w,indexNavTarget:x};};var f=function(v){var k=g.call(this,p.configId);var w,x;for(var i=0;i<c[k].configData.length;i++){if(c[k].configData[i].categories instanceof Array){w=i;for(var j=0;j<c[k].configData[i].categories.length;j++){if(c[k].configData[i].categories[j].id===v){x=j;break;}else{x=j;}}}}return{indexConfig:w,indexCategory:x};};var h=function(j){var k=g.call(this,p.configId);var l=f.call(this,p.categoryId).indexConfig;var o=f.call(this,p.categoryId).indexCategory;var v;for(var i=0;i<c[k].configData[l].categories[o].steps.length;i++){if(c[k].configData[l].categories[o].steps[i].id===j){v=i;break;}else{v=i;}}return v;};if(p.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0&&I){this.configurationHandler.removeConfiguration(p.configId,function(i){var C=s.oModel.getData().aConfigDetails;var k=g.call(s,p.configId);s._deleteConfigNavTargetTexts(k,C.length);C.splice(k,1);s.oModel.getData().aConfigDetails=C;});}else{var k,l,m,o,r,u;switch(n.nodeObjectType){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:k=g.call(this,p.configId);this.oModel.getData().aConfigDetails[k].isSelected=true;this.oModel.getData().aConfigDetails[k].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:k=g.call(this,p.configId);l=d.call(this,p.facetFilterId).indexConfig;m=d.call(this,p.facetFilterId).indexFilter;this.oModel.getData().aConfigDetails[k].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].filters[m].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:k=g.call(this,p.configId);l=f.call(this,p.categoryId).indexConfig;o=f.call(this,p.categoryId).indexCategory;this.oModel.getData().aConfigDetails[k].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:k=g.call(this,p.configId);l=f.call(this,p.categoryId).indexConfig;o=f.call(this,p.categoryId).indexCategory;r=h.call(this,p.stepId);this.oModel.getData().aConfigDetails[k].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].categories[o].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:k=g.call(this,p.configId);l=f.call(this,p.categoryId).indexConfig;o=f.call(this,p.categoryId).indexCategory;r=h.call(this,p.stepId);this.oModel.getData().aConfigDetails[k].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].categories[o].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].categories[o].steps[r].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:k=g.call(this,p.configId);l=e.call(this,p.navTargetId).indexConfig;u=e.call(this,p.navTargetId).indexNavTarget;this.oModel.getData().aConfigDetails[k].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].expanded=true;this.oModel.getData().aConfigDetails[k].configData[l].navTargets[u].expanded=true;break;default:break;}}this.oModel.updateBindings();},_isNewSubView:function(p){var i=false;if(p.arguments.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i=true;}else{if(p.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){i=(this.configurationHandler.getConfiguration(p.arguments.configId)!==undefined)?false:true;}else if(p.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY){i=(this.configEditor.getCategory(p.arguments.categoryId)!==undefined)?false:true;}else if(p.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){i=(this.configEditor.getFacetFilter(p.arguments.facetFilterId)!==undefined)?false:true;}else if(p.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP){i=(this.configEditor.getStep(p.arguments.stepId)!==undefined)?false:true;}else if(p.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION){i=(this.configEditor.getStep(p.arguments.stepId).getRepresentation(p.arguments.representationId)!==undefined)?false:true;}else if(p.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET){i=(this.configEditor.getNavigationTarget(p.arguments.navTargetId)!==undefined)?false:true;}}return i;},_getCurrentConfigurationNode:function(){var p=this.oTreeInstance.getItems();var c=this.configId;for(var i=0;i<p.length;i++){if(c===p[i]._getBindingContext().getObject().AnalyticalConfiguration){return p[i];}}return undefined;},_navMandatoryResetState:function(c,b){var s=c;c.selectedNode=c.oTreeInstance.getSelectedItem();s.bIsSaved=s.configEditor?s.configEditor.isSaved():undefined;var d=(typeof s.byId("idConfigDetailData").getContent()[0].getController==="function")?s.byId("idConfigDetailData").getContent()[0].getController():undefined;c.configurationHandler.memorizeConfiguration(d.getView().getViewData().oParams.arguments.configId);var i=this._isNewSubView(d.getView().getViewData().oParams);if(!i){s.updateTree();var e=s.selectedNode._getBindingContext().getObject();if(e){e.isSelected=true;var f=d.getView().getViewData().oParams.name;var g=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes;if(f!==g.REPRESENTATION){d.updateSubViewInstancesOnReset(s.configEditor);}else{d.oConfigurationEditor=s.configEditor;}d.setDetailData.call(d);s.updateTitleAndBreadCrumb();}else{s.oTreeInstance.setSelectedItem(s._getCurrentConfigurationNode());}if(typeof b==="function"){b();}}else{s.handleConfirmDeletion();}return{bIsSaved:s.bIsSaved,isNewView:i};},_navSaveState:function(s){s();},_navConfigResetState:function(c,b){var s=c;var d=(typeof s.byId("idConfigDetailData").getContent()[0].getController==="function")?s.byId("idConfigDetailData").getContent()[0].getController():undefined;var i=this._isNewSubView(d.getView().getViewData().oParams);if(!i){s.configurationHandler.loadConfiguration(s.configId,function(e,m){if(m===undefined){var d=(typeof s.byId("idConfigDetailData").getContent()[0].getController==="function")?s.byId("idConfigDetailData").getContent()[0].getController():undefined;s.configEditor=e;s.updateTree();var f=s.selectedNode._getBindingContext().getObject();if(f){f.isSelected=true;var g=d.getView().getViewData().oParams.name;var h=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes;if(g!==h.REPRESENTATION){d.updateSubViewInstancesOnReset(s.configEditor);}else{d.oConfigurationEditor=s.configEditor;}d.setDetailData.call(d);s.updateTitleAndBreadCrumb();}else{s.oTreeInstance.setSelectedItem(s._getCurrentConfigurationNode());}if(typeof b==="function"){b();}}});}else{s.handleConfirmDeletion();}},_onTreeNodeSelection:function(e){this.selectedNode=this.oTreeInstance.getSelectedItem();var s=this;var p,P,r;if(!this.bProgramaticSelection){this.oPreviousSelectedNode=this.oTreeInstance.previousSelectedItem;this.bIsDifferntConfig=this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);this._enableDisableExportAndExecuteButton(true);var b;if(this.byId("idConfigDetailData").getContent().length>=1){b=(typeof this.byId("idConfigDetailData").getContent()[0].getController==="function")?this.byId("idConfigDetailData").getContent()[0].getController():undefined;}var c=this.selectedNode?this.selectedNode.getId():null;var d=this.oPreviousSelectedNode?this.oPreviousSelectedNode.getId():null;var f=function(){if(s.oPreviousSelectedNode){var l=s.selectedNode.getBindingContext().getObject();l.isSelected=false;s.oModel.updateBindings();}};if(c!==d||this.bNavDeletionMode){var n=N.getInstance();var i;if(b!==undefined){i=typeof b.getValidationState==="function"?b.getValidationState.call(b):true;}else{i=true;}var g=this.configEditor?q.extend(true,{},this.configEditor):undefined;this.bIsSaved=g?g.isSaved():undefined;var o;var h=false;var j=this.configurationHandler.getList();if(!i&&(j.length>0)){n.throwMandatoryPopup(this,{yes:function(){var b=(typeof s.byId("idConfigDetailData").getContent()[0].getController==="function")?s.byId("idConfigDetailData").getContent()[0].getController():undefined;var l=s._isNewSubView(b.getView().getViewData().oParams);if(!l){var y=function(v){s.configEditor=s.configurationHandler.restoreMemorizedConfiguration(s.oParentNodeDetails.configId);if(s.bIsSaved===false&&s.configEditor){s.configEditor.setIsUnsaved();}if(typeof v==="function"){v();}s.updateTree();var w=s.selectedNode.getBindingContext().getObject();s.navigateToDifferntView(s.oParentNodeDetails,s.oSelectedNodeDetails);w.isSelected=true;s.oModel.updateBindings();};if(s.bIsSaved===false&&s.bIsDifferntConfig){o(false,function(){y.call(s);});}else{y.call(s);}}else{if(s.bIsSaved===false&&s.bIsDifferntConfig){o(false,function(){var m=s.selectedNode.getBindingContext().sPath;var u=s.oPreviousSelectedNode;s.handleConfirmDeletion(u,m);});}else{var m=s.selectedNode.getBindingContext().sPath;var u=s.oPreviousSelectedNode;s.handleConfirmDeletion(u,m);}}s._navHandleExpandDelete.call(s,s.oSelectedNodeDetails,s.oParentNodeDetails);},no:function(){f();}});h=true;}o=function(l){if(b){s.configurationHandler.memorizeConfiguration(b.getView().getViewData().oParams.arguments.configId);}n.throwLossOfDataPopup(s,{yes:function(m){if(typeof l==="function"){l(function(){m(function(){var u;if(s.oPreviousSelectedNode){var B=s.oPreviousSelectedNode._getBindingContext().sPath;var C=B.split("/");u=C[2];}s.oModel.getData().aConfigDetails[u].AnalyticalConfiguration=s.configId;});});}else{if(s.oPreviousSelectedNode){p=s.oTreeInstance.getAPFTreeNodeContext(s.oPreviousSelectedNode);P=s.oTreeInstance.getParentNodeContext(p);r=s.configurationHandler.restoreMemorizedConfiguration(P.configId);if(r){s.configEditor=r;}}m(function(){var u;if(s.oPreviousSelectedNode){var B=s.oPreviousSelectedNode._getBindingContext().sPath;var C=B.split("/");u=C[2];}s.oModel.getData().aConfigDetails[u].AnalyticalConfiguration=s.configId;var v=s.selectedNode._getBindingContext().getObject();s.navigateToDifferntView(s.oParentNodeDetails,s.oSelectedNodeDetails);v.isSelected=true;s.oModel.updateBindings();});}},no:function(){s.configurationHandler.loadConfiguration(s.configId,function(m,u){if(u===undefined){s.configEditor=m;if(s.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){s._navHandleExpandDelete.call(s,{},{configId:s.configId},s.oParentNodeDetails);}else{s.updateTree();}s.navigateToDifferntView(s.oParentNodeDetails,s.oSelectedNodeDetails);s._navHandleExpandDelete.call(s,s.oSelectedNodeDetails,s.oParentNodeDetails);}});},cancel:function(){f();}});};if(s.bIsSaved===false&&s.bIsDifferntConfig&&i){o();h=true;}if(!h){if(this.oPreviousSelectedNode&&this.oPreviousSelectedNode.getId()!==this.selectedNode.getId()){var k=this.oPreviousSelectedNode.getBindingContext().getObject();if(k){this.oPreviousSelectedNode.getBindingContext().getObject().isSelected=false;}}else{this.selectedNode.getBindingContext().getObject().isSelected=true;}this.navigateToDifferntView(this.oParentNodeDetails,this.oSelectedNodeDetails,this.bIsSaved,this.bIsDifferntConfig);}this.oTreeInstance.previousSelectedItem=this.oTreeInstance.getSelectedItem();}}this.bProgramaticSelection=false;this.bNavDeletionMode=false;},navigateToDifferntView:function(p,s,i,I){if((!a(p)&&(i===undefined||i))||(!I)){sap.ui.core.UIComponent.getRouterFor(this).navTo(s.nodeObjectType,p,true);}},_deleteConfigNavTargetTexts:function(b,n){var s=this;var c;for(var i=b;i<n-1;i++){this.modelUpdateDeferred[i]=this.modelUpdateDeferred[i+1];}delete this.modelUpdateDeferred[n-1];if(this.navTargetTextsTable){if(this.navTargetTextsTable[b]){delete this.navTargetTextsTable[b];}if(b!==(n-1)){Object.keys(this.navTargetTextsTable).forEach(function(k){k=parseInt(k,10);if(k>b){s.navTargetTextsTable[k-1]=s.navTargetTextsTable[k];c=k;}});if(c!==undefined){delete this.navTargetTextsTable[c];}}}},handleConfirmDeletion:function(s,b){var c=((s===undefined)||(typeof s.preventDefault==="function"))?this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()):this.oTreeInstance.getAPFTreeNodeContext(s);var d=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var C,n,e,o,f,i,g,h,j,k;f=c.nodeContext;o=f.split("/");i=o[2];switch(c.nodeObjectType){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:this.configEditor.removeFacetFilter(c.nodeAPFId);g=o[6];var l=this.oModel.getData().aConfigDetails[i].configData[0].filters;l.splice(g,1);this.oModel.getData().aConfigDetails[i].configData[0].filters=l;e=o.slice(0,3);n=e.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:this.configEditor.removeCategory(c.nodeAPFId);h=o[6];var m=this.oModel.getData().aConfigDetails[i].configData[1].categories;m.splice(h,1);this.oModel.getData().aConfigDetails[i].configData[1].categories=m;e=o.slice(0,3);n=e.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:this.configEditor.removeNavigationTarget(c.nodeAPFId);j=o[6];var p=this.oModel.getData().aConfigDetails[i].configData[2].navTargets;p.splice(j,1);this.oModel.getData().aConfigDetails[i].configData[2].navTargets=p;e=o.slice(0,3);n=e.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:var r=this.configEditor.getCategoriesForStep(c.nodeAPFId);var u=c.nodeContext.split("/");i=u[2];r.forEach(function(G){d.configEditor.removeCategoryStepAssignment(G,c.nodeAPFId);d.oModel.getData().aConfigDetails[i].configData[1].categories.forEach(function(I,J){if(I.id===G){d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps.forEach(function(K,L){if(K.id===c.nodeAPFId){var M=d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps;M.splice(L,1);d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps=M;}});}});});e=o.slice(0,7);n=e.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:h=o[6];k=o[8];var P=this.oModel.getData().aConfigDetails[i].configData[1].categories[h].steps[k].id;var v=this.configEditor.getStep(P);var w=this.configEditor.getCategoriesForStep(P);v.removeRepresentation(c.nodeAPFId);w.forEach(function(G){d.oModel.getData().aConfigDetails[i].configData[1].categories.forEach(function(I,J){if(I.id===G){d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps.forEach(function(K,L){if(K.id===P){d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps[L].representations.forEach(function(M,Q){if(M.id===c.nodeAPFId){var R=d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps[L].representations;R.splice(Q,1);d.oModel.getData().aConfigDetails[i].configData[1].categories[J].steps[L].representations=R;}});}});}});});e=o.slice(0,9);n=e.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:var x=false;if(c.nodeAPFId.indexOf("newConfig")===0){x=true;}if(!x){this.configurationHandler.removeConfiguration(c.nodeAPFId,function(G){var y;var z=d.oModel.getData().aConfigDetails;d._deleteConfigNavTargetTexts(parseInt(i,10),z.length);var D=(d.configurationHandler.getList().length>0)?true:false;z.splice(i,1);d.oModel.getData().aConfigDetails=z;d.oModel.updateBindings();if(b){var B=d.oTreeInstance.getParentNodeContext(d.oTreeInstance.getAPFTreeNodeContext(d.selectedNode));sap.ui.core.UIComponent.getRouterFor(d).navTo(d.selectedNode._getBindingContext().getObject().type,B,true);}else{d.clearTitleAndBreadCrumb();d.byId("idConfigDetailData").removeAllContent();if(D){y=new sap.m.Label().addStyleClass("noConfigSelected");y.setText(d.oCoreApi.getText("noConfigSelected"));y.placeAt(d.byId("idConfigDetailData"));d.toolbarController.disableCopyDeleteButton();d._enableDisableExportAndExecuteButton(false);}else{y=new sap.m.Label().addStyleClass("addNewConfig");y.setText(d.oCoreApi.getText("addNewConfig"));y.placeAt(d.byId("idConfigDetailData"));d.toolbarController.disableCopyDeleteButton();d._enableDisableExportAndExecuteButton(false);}}});}else{var y;var z=d.oModel.getData().aConfigDetails;z.splice(i,1);d.oModel.getData().aConfigDetails=z;d.oModel.updateBindings();if(b){var B=d.oTreeInstance.getParentNodeContext(d.oTreeInstance.getAPFTreeNodeContext(d.selectedNode));sap.ui.core.UIComponent.getRouterFor(d).navTo(d.selectedNode._getBindingContext().getObject().type,B,true);}else{d.clearTitleAndBreadCrumb();d.byId("idConfigDetailData").removeAllContent();var D=(this.configurationHandler.getList().length>0)?true:false;if(D){y=new sap.m.Label().addStyleClass("noConfigSelected");y.setText(d.oCoreApi.getText("noConfigSelected"));y.placeAt(d.byId("idConfigDetailData"));d.toolbarController.disableCopyDeleteButton();d._enableDisableExportAndExecuteButton(false);}else{y=new sap.m.Label().addStyleClass("addNewConfig");y.setText(d.oCoreApi.getText("addNewConfig"));y.placeAt(d.byId("idConfigDetailData"));d.toolbarController.disableCopyDeleteButton();d._enableDisableExportAndExecuteButton(false);}}}break;default:break;}if(b){this.bNavDeletionMode=true;}if(c.nodeObjectType!==sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){this.configEditor.setIsUnsaved();this.clearTitleAndBreadCrumb();this.byId("idConfigDetailData").removeAllContent();n=b||n;C=this.oTreeInstance.getModel().getContext(n);this.oModel.updateBindings();this.selectedNode=this.oTreeInstance.getItemNodeByContextWithoutExpand(C.sPath);this.bProgramaticSelection=false;this.oTreeInstance.setSelectedItem(this.selectedNode);if(b){this.selectedNode.getBindingContext().getObject().isSelected=true;this.oModel.updateBindings();}}var E=(this.toolbarController.confirmationDialog===undefined)?false:this.toolbarController.confirmationDialog.isOpen;if(E&&!b){this.toolbarController.confirmationDialog.close();}},handleNavBack:function(){var s;var b=this;if(this.byId("idConfigDetailData").getContent().length>=1){s=(typeof this.byId("idConfigDetailData").getContent()[0].getController==="function")?this.byId("idConfigDetailData").getContent()[0].getController():undefined;}this.selectedNode=this.oTreeInstance.getSelectedItem();this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);var n=N.getInstance();var i;if(s!==undefined){i=typeof s.getValidationState==="function"?s.getValidationState.call(s):true;}else{i=true;}this.bIsSaved=this.configEditor?this.configEditor.isSaved():undefined;var c=(b.configurationHandler.getList().length>0)?true:false;var d=function(f){if(this.selectedNode){this.selectedNode=null;}this.oModel=new sap.ui.model.json.JSONModel({aConfigDetails:[]});this.getView().setModel(this.oModel);this.configEditor=undefined;this.navTargetTextsTable={};window.history.go(-1);};if(c){var e=(b.bIsSaved===undefined)?true:b.bIsSaved;if(!i){n.throwMandatoryPopup(b,{yes:function(){b.configEditor=b.configurationHandler.restoreMemorizedConfiguration(s.getView().getViewData().oParams.arguments.configId);if(b.bIsSaved===false&&b.configEditor){b.configEditor.setIsUnsaved();}var f=b._navMandatoryResetState(b);var g=b.configurationHandler.getList();if(f.bIsSaved===false&&g.length>0){n.throwLossOfDataPopup(b,{yes:function(h){h();d.call(b);},no:function(){if(b.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){b._navHandleExpandDelete.call(b,{},{configId:b.configId},b.oParentNodeDetails);}d.call(b);}});}else{d.call(b);}}});return;}else if(!e&&i){n.throwLossOfDataPopup(b,{yes:function(f){f();d.call(b);},no:function(){b.configurationHandler.resetConfiguration(b.configId);if(b.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){b._navHandleExpandDelete.call(b,{},{configId:b.configId},b.oParentNodeDetails);}d.call(b);}});return;}}d.call(b);},handleSavePress:function(){var s,i;var b=this;this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode){var B=this.selectedNode[0].getBindingContext().sPath;var c=B.split("/");i=c[2];}if(this.byId("idConfigDetailData").getContent().length>=1){s=(typeof this.byId("idConfigDetailData").getContent()[0].getController==="function")?this.byId("idConfigDetailData").getContent()[0].getController():undefined;}var d=function(){var b=this;var m;b.configEditor.save(function(h,j,k){if(k===undefined){b.configurationHandler.memorizeConfiguration(s.getView().getViewData().oParams.arguments.configId);b.oModel.getData().aConfigDetails[i].AnalyticalConfiguration=h;b.oModel.updateBindings();b.oSelectedNodeDetails=b.oTreeInstance.getAPFTreeNodeContext(b.selectedNode[0]);b.oParentNodeDetails=b.oTreeInstance.getParentNodeContext(b.oSelectedNodeDetails);b.navigateToDifferntView(b.oParentNodeDetails,b.oSelectedNodeDetails,true,false);m=b.oCoreApi.createMessageObject({code:"11513"});b.oCoreApi.putMessage(m);}else{m=b.oCoreApi.createMessageObject({code:"11514"});b.oCoreApi.putMessage(m);}});};var n=N.getInstance();var e;if(s!==undefined){e=typeof s.getValidationState==="function"?s.getValidationState.call(s):true;}else{e=true;}var f=this.configEditor?q.extend(true,{},this.configEditor):undefined;this.bIsSaved=f?f.isSaved():undefined;var g=false;if(!e){n.throwMandatoryPopup(b,{yes:function(){b.configEditor=b.configurationHandler.restoreMemorizedConfiguration(s.getView().getViewData().oParams.arguments.configId);if(b.bIsSaved===false&&b.configEditor){b.configEditor.setIsUnsaved();}b._navMandatoryResetState(b);d.call(b);}});g=true;}if(!g){d.call(this);this.toolbarController.closeDialog();}},_handleExportButtonPress:function(){var s;if(this.byId("idConfigDetailData").getContent().length>=1){s=(typeof this.byId("idConfigDetailData").getContent()[0].getController==="function")?this.byId("idConfigDetailData").getContent()[0].getController():undefined;}var e=function(){if(!this.exportConfigurationDialog){this.exportConfigurationDialog=sap.ui.xmlfragment("idExportConfigurationFragment","sap.apf.modeler.ui.fragment.exportConfiguration",this);this.getView().addDependent(this.exportConfigurationDialog);this._setExportConfigDialogText();this._addStyleClassForExportDialog();this.configurationHandler.memorizeConfiguration(s.getView().getViewData().oParams.arguments.configId);}S("sapUiSizeCompact",this.getView(),this.exportConfigurationDialog);this.exportConfigurationDialog.open();};this._performExportOrExecute(e.bind(this));},handlePublishPress:function(){if(this.oCoreApi.isUsingCloudFoundryProxy()){U.showShareDialog(this.oCoreApi,this);}},_enableDisableExportAndExecuteButton:function(e){this.byId("idExportbutton").setEnabled(e);this.byId("idExecuteButton").setEnabled(e);this.byId("idPublishbutton").setEnabled(e);},_setExportConfigDialogText:function(){sap.ui.core.Fragment.byId("idExportConfigurationFragment","idExportConfigDialog").setTitle(this.oCoreApi.getText("exportConfig"));sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadConfig").setText(this.oCoreApi.getText("downloadConfig"));sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadTextProperty").setText(this.oCoreApi.getText("downloadTextProperty"));sap.ui.core.Fragment.byId("idExportConfigurationFragment","idCloseButton").setText(this.oCoreApi.getText("close"));},_addStyleClassForExportDialog:function(){sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadConfig").addStyleClass("configLink");sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadTextProperty").addStyleClass("textPropertyLink");},_handleCloseOfExportDialog:function(){if(this.exportConfigurationDialog.isOpen()){this.exportConfigurationDialog.close();}},_handleOpenConfigLinkPress:function(){this.configurationHandler.exportConfiguration(this.configId,function(c,b){F.save(c,b,'json','application/json','utf-8');});},_handleOpenTextsLinkPress:function(){var c=this.configurationHandler.getConfiguration(this.configId).AnalyticalConfigurationName;var e=this.configurationHandler.exportTexts(this.configId);F.save(e,c,'properties','text/plain','utf-8');},_performExportOrExecute:function(r){var s,o,n,c,b,i,d,C;var e=false;var f=true;var g=this;g.selectedNode=g.oTreeInstance.getSelectedItem();g.oSelectedNodeDetails=g.oTreeInstance.getAPFTreeNodeContext(g.selectedNode);g.oParentNodeDetails=g.oTreeInstance.getParentNodeContext(g.oSelectedNodeDetails);var h=N.getInstance();if(this.byId("idConfigDetailData").getContent().length>=1){s=(typeof this.byId("idConfigDetailData").getContent()[0].getController==="function")?this.byId("idConfigDetailData").getContent()[0].getController():undefined;}if(s!==undefined){f=typeof s.getValidationState==="function"?s.getValidationState.call(s):true;}var j=this.configEditor?q.extend(true,{},this.configEditor):undefined;this.bIsSaved=j?j.isSaved():undefined;var k=function(c){g.byId("idConfigDetailData").removeAllContent();if(c){d=new sap.m.Label().addStyleClass("noConfigSelected");d.setText(g.oCoreApi.getText("noConfigSelected"));}else{d=new sap.m.Label().addStyleClass("addNewConfig");d.setText(g.oCoreApi.getText("addNewConfig"));}d.placeAt(g.byId("idConfigDetailData"));g.toolbarController.disableCopyDeleteButton();g._enableDisableExportAndExecuteButton(false);};if(!f){h.throwMandatoryPopup(g,{yes:function(){g.configEditor=g.configurationHandler.restoreMemorizedConfiguration(s.getView().getViewData().oParams.arguments.configId);if(g.bIsSaved===false&&g.configEditor){g.configEditor.setIsUnsaved();}n=g._navMandatoryResetState(g);c=(g.configurationHandler.getList().length>0)?true:false;if(c){if(n.bIsSaved===false){o();}else{if(g.oParentNodeDetails.configId.indexOf("newConfig")!==0){r();}}}else{k(c);}}});e=true;}o=function(){h.throwLossOfDataPopup(g,{yes:function(l){g._navSaveState(function(){l(function(m){if(g.selectedNode){b=g.selectedNode._getBindingContext().sPath;C=b.split("/");i=C[2];}g.oModel.getData().aConfigDetails[i].AnalyticalConfiguration=g.configId;g.oModel.updateBindings();r();});});},no:function(){if(g.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){g._navHandleExpandDelete.call(g,{},{configId:g.configId},g.oParentNodeDetails);g.clearTitleAndBreadCrumb();g.byId("idConfigDetailData").removeAllContent();c=(g.configurationHandler.getList().length>0)?true:false;k(c);}else{g._navConfigResetState(g,function(){g._navHandleExpandDelete.call(g,g.oSelectedNodeDetails,g.oParentNodeDetails);r();});}}});};if(g.bIsSaved===false&&f){o();e=true;}if(!e){r();}},handleExecuteButtonPress:function(){var s=this.oTreeInstance.getSelectedItem();var e=function(){var o=this.oTreeInstance.getAPFTreeNodeContext(s);var p=this.oTreeInstance.getParentNodeContext(o);this.oCoreApi.navigateToGenericRuntime(p.appId,p.configId,O);this.configurationHandler.memorizeConfiguration(p.configId);};this._performExportOrExecute(e.bind(this));},getStepConfigDataBysPath:function(p){var c=p.split("/");var i=c[2],b=c[4],d=c[6],e=c[8];var s=this.oModel.getData().aConfigDetails[i].configData[b].categories[d].steps[e];return s;}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/previewContent.controller',['sap/apf/utils/utils','sap/apf/ui/utils/constants','sap/apf/ui/utils/wrappedChartWithCornerTexts'],function(u,a,W){'use strict';var r,R,p,c,t,o,s,b;var T=sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION;
function _(S){var i=S&&c.getTextPool().get(S),l;if(i!==undefined){l=i.TextElementDescription;}return l;}
function d(m){var P=_(R[m]());if(P===undefined){P=_(p[m]());}return P;}
function e(D,S){return D.sort(function(l,m){var n,i;for(i=0;i<S.length;i++){if(l[S[i].property]<m[S[i].property]){n=-1;}else if(l[S[i].property]>m[S[i].property]){n=1;}n=n*[1,-1][+!S[i].ascending];if(n!==0){return n;}}});}
function f(l,A){var i=jQuery.Deferred();s.getEntityTypeMetadataAsPromise().done(function(m){var P,L,n=[];A.forEach(function(D){if(D.sProperty!==t("none")&&D.sProperty!==""){L=l(D.sProperty);if(L!==undefined){P=c.getTextPool().get(L).TextElementDescription;}else{P=s.getDefaultLabel(m,D.sProperty);}n.push({fieldName:D.sProperty,fieldDesc:P,kind:D.sContext});}});i.resolve(n);});return i.promise();}
function g(P){var i=jQuery.Deferred();var l=[];if(P==="properties"&&R.getRepresentationType()===T){f(R.getPropertyTextLabelKey,o.getActualProperties()).done(function(A){l=A;});}else if(P==="dimensions"&&R.getRepresentationType()!==T){s.getEntityTypeMetadataAsPromise().done(function(E){f(R.getDimensionTextLabelKey,o.getActualDimensions().concat(o.getActualLegends())).done(function(A){l=A;});});}else if(P==="measures"&&R.getRepresentationType()!==T){s.getEntityTypeMetadataAsPromise().done(function(E){f(R.getMeasureTextLabelKey,o.getActualMeasures()).done(function(A){l=A;l.forEach(function(m){var n=R.getMeasureDisplayOption(m.fieldName);if(n){m.measureDisplayOption=n;}});});});}i.resolve(l);return i.promise();}
function h(){var l=jQuery.Deferred();var S=[],m=[],i=0,n=3;var P=s.getProperties();s.getEntityTypeMetadataAsPromise().done(function(E){var D=s.getDimensionsProperties(E);var M=s.getMeasures(E);var C=R.getRepresentationType();var q=C!==T?Math.pow(n,D.length):7;for(i=0;i<q;i++){var v={};if(C===T){P.forEach(function(w){var x=w+" - "+sap.apf.utils.createRandomNumberString(4);v[w]=x;});}else{D.forEach(function(w,x){var y=w+" - "+(Math.floor(i/Math.pow(n,x))%n+1);v[w]=y;});M.forEach(function(w){var x=sap.apf.utils.createRandomNumberString(4);v[w]=x;});}S.push(v);}m=R.getOrderbySpecifications();if(m&&m.length){S=e(S,m);}l.resolve(S);});return l.promise();}
function j(){var i=b.getConstructorOfRepresentationType(R.getRepresentationType());jQuery.sap.require(i);var l=sap.apf.utils.extractFunctionFromModulePathString(i);var P={};P.requiredFilters=[];function m(n){return n;}function E(){}var A={getTextNotHtmlEncoded:m,getTextHtmlEncoded:m,getEventCallback:E,getExits:function(){var n={};return n;},getUiApi:function(){var U={};U.getStepContainer=function(){return undefined;};return U;},createFilter:function(){return{getOperators:function(){return{EQ:true};},getTopAnd:function(){return{addOr:E};},getInternalFilter:function(){return{getProperties:function(){return[];}};}};},createMessageObject:E,putMessage:E,updatePath:E,selectionChanged:E,getActiveStep:function(){return{getSelectedRepresentation:function(){return{bIsAlternateView:true};}};}};g("dimensions").done(function(D){P.dimensions=D;});g("measures").done(function(n){P.measures=n;});g("properties").done(function(n){P.properties=n;});r=new l(A,P);if(r.chartType===T){r.oTableRepresentation.removeEventDelegate();r.oTableRepresentation.onAfterRendering(function(){return;});}var M={getPropertyMetadata:function(n){return{label:n};}};h().done(function(n){r.setData(n,M);});}
function k(C){var P=C.byId("idPreviewContentDialog");P.setTitle(t("preview"));P.getEndButton().setText(t("close"));}
sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.previewContent",{
onInit:function(){var C=this;var P=C.byId("idPreviewContentDialog");R=C.getView().getViewData().oRepresentation;p=C.getView().getViewData().oParentStep;c=C.getView().getViewData().oConfigurationHandler;t=C.getView().getViewData().oCoreApi.getText;o=C.getView().getViewData().oRepresentationHandler;s=C.getView().getViewData().oStepPropertyMetadataHandler;b=C.getView().getViewData().oRepresentationTypeHandler;k(C);j();C._drawContent();P.open();},
_drawContent:function(){this._drawMainChart();this._drawLikeStepInCarousel();},
_drawLikeStepInCarousel:function(){var S=p.getTitleId();var i=_(S);var l={getSelectedRepresentation:function(){return r;}};var C=W.getClonedChart(l);var m={rightLower:d("getRightLowerCornerTextKey"),rightUpper:d("getRightUpperCornerTextKey"),leftLower:d("getLeftLowerCornerTextKey"),leftUpper:d("getLeftUpperCornerTextKey")};var n={mode:"preview",titleText:i,oCornerTexts:m};var w=new W.constructor(null,p,C,n);this._addChart(w.getContent());},
_drawMainChart:function(){var S=p.getLongTitleId();var i=c.getTextPool().isInitialTextKey(S);var l=S&&!i?S:p.getTitleId();var m=r.getMainContent(_(l),480,330);var v={interaction:{selectability:{axisLabelSelection:true,legendSelection:true,plotLassoSelection:true,plotStdSelection:true}}};if(m.setVizProperties!==undefined)m.setVizProperties(v);this.byId("idMainChart").addItem(m);},
handleCloseButtonOfDialog:function(){var C=this;C.byId("idPreviewContentDialog").close();},
handleClose:function(){var C=this;C.byId("idPreviewContentDialog").destroy();C.getView().destroy();},
_addChart:function(i){this.byId("idThumbnail").addItem(i);}
});
});
sap.ui.predefine('sap/apf/modeler/ui/controller/representation.controller',["sap/apf/modeler/ui/utils/representationHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/representationBasicDataHandler","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/modeler/ui/utils/viewValidator","sap/ui/core/mvc/Controller"],function(R,u,c,n,o,S,a,b,d,V,M){'use strict';var p,C,e,r,P,f,s,g,h,j;var l=c.representationMetadata.labelDisplayOptions;
function _(i){i.byId("idVisualization").setText(C.getText("visualization"));i.byId("idChartTypeLabel").setText(C.getText("chartType"));i.byId("idChartTypeLabel").setTooltip(C.getText("chartType"));i.byId("idBasicData").setText(C.getText("basicData"));i.byId("idSorting").setText(C.getText("sorting"));i.byId("idChartType").setValueStateText(C.getText("modeler.ui.representation.invalidChartTypeError"));}
function k(i,O){var Q;var T=f.getPictureOfRepresentationType(r.getRepresentationType());var U=e.getCategoriesForStep(P.getId());if(U.length===1){Q={id:r.getId(),icon:T};if(O){Q.name=O;}i.getView().getViewData().updateSelectedNode(Q);}else{i.getView().getViewData().updateTree();}}
function m(i,O){var T=C.getText("representation")+": "+O;i.getView().getViewData().updateTitleAndBreadCrumb(T);}
function q(i){r.setRepresentationType(i);var O="TableRepresentation";if(i===u.representationTypes.TABLE_REPRESENTATION||i===u.representationTypes.TREE_TABLE_REPRESENTATION){O=undefined;}r.setAlternateRepresentationType(O);}
function t(i){var O;var Q=jQuery.Deferred();s.getEntityTypeMetadataAsPromise().done(function(T){var U=s.getDimensionsProperties(T);var W=f.getKindsForDimensionPropertyType(i);W.forEach(function(X,Y){O=false;var Z;var $;var a1=U[Y];if(r.getDimensions().length!==0){if(r.getDimensions()[Y]){if(r.getDimensionKind(r.getDimensions()[Y])){O=true;}}}if(!O&&a1){Z=s.hasTextPropertyOfDimension(T,a1);$=Z?l.KEY_AND_TEXT:l.KEY;r.addDimension(a1);r.setLabelDisplayOption(a1,$);r.setDimensionKind(a1,X);}});Q.resolve();});return Q.promise();}
function v(i){var O;var Q=s.oStep.getService();var T=s.oStep.getEntitySet();var U=s.oStep.getHierarchyProperty();e.getHierarchyNodeIdAsPromise(Q,T,U).done(function(W){O=s.hasTextPropertyOfDimension(i,W);});return O;}
function w(i){var O,Q;var T=jQuery.Deferred();s.getEntityTypeMetadataAsPromise().done(function(U){var W=s.getHierarchicalProperty();if(W&&(r.getHierarchyPropertyLabelDisplayOption()===undefined)){O=v(U);Q=O?l.TEXT:l.KEY;r.setHierarchyPropertyLabelDisplayOption(Q);}T.resolve();});return T.promise();}
function x(O){var Q=jQuery.Deferred(),T,U;var W;var X=0;s.getEntityTypeMetadataAsPromise().done(function(Y){W=f.getKindsForMeasurePropertyType(O);T=s.getMeasures(Y);W.forEach(function(Z){var $=f.getDefaultCountForRepresentationKind(O,Z);for(var i=0;i<$;i++){U=false;var a1=T[X];if(r.getMeasures().length!==0){if(r.getMeasures()[X]){if(r.getMeasureKind(r.getMeasures()[X])){U=true;}}}if(!U&&a1){r.addMeasure(a1);r.setMeasureKind(a1,Z);}X++;}});Q.resolve();});return Q.promise();}
function y(i){var O=jQuery.Deferred();var Q,T;if(i==="TableRepresentation"){if(r.getProperties().length===0){T=f.getKindsForPropertyType(i);Q=s.getProperties()[0];r.addProperty(Q);r.setPropertyKind(Q,T[0]);O.resolve();}else{O.resolve();}}else if(i==="TreeTableRepresentation"){w(i).done(function(){O.resolve();});}else{t(i).done(function(){x(i).done(function(){O.resolve();});});}return O.promise();}
function z(){if(p&&p.arguments&&p.arguments.stepId){P=e.getStep(p.arguments.stepId);}}
function A(){var i=C.getRepresentationTypes()[0].id;if(P.getType()==="hierarchicalStep"){i="TreeTableRepresentation";}return i;}
function B(i){var O;var Q=jQuery.Deferred();if(p&&p.arguments&&p.arguments.representationId){r=P.getRepresentation(p.arguments.representationId);}if(!n.checkIsNotUndefined(r)){r=P.createRepresentation();O=A();q(O);k(i,C.getText(O));e.setIsUnsaved();y(O).done(function(){return Q.resolve();});}else{O=r.getRepresentationType();J().done(function(){y(O).done(function(){return Q.resolve();});});}return Q.promise();}
function D(i){var O=new sap.m.Button({id:i.createId("idPreviewButton"),text:C.getText("preview"),press:i.handlePreviewButtonPress.bind(i)});var Q=i.getView().getViewData().oFooter;Q.addContentRight(O);}
function E(i){var T=i.getView().getViewData().oConfigurationHandler.getTextPool();var O={oTextReader:C.getText,oConfigurationEditor:e,oTextPool:T,oParentObject:r,oParentStep:P,oRepresentationTypeHandler:f};var Q=new sap.ui.controller("sap.apf.modeler.ui.controller.representationCornerTexts");var U=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.cornerTexts",type:sap.ui.core.mvc.ViewType.XML,id:i.createId("representationCornerTexts"),viewData:O,controller:Q});i.byId("idCornerTextsVBox").insertItem(U);i.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON,U.getController().setChartIcon.bind(U.getController()));}
function F(){r.getDimensions().forEach(function(i){r.removeDimension(i);});r.getMeasures().forEach(function(i){r.removeMeasure(i);});}
function G(){var i,O;if(r.getRepresentationType()==="TableRepresentation"){i=r.getDimensions();O=r.getMeasures();i.forEach(function(Q){r.addProperty(Q);r.setPropertyTextLabelKey(Q,r.getDimensionTextLabelKey(Q));r.setPropertyKind(Q,c.representationMetadata.kind.COLUMN);e.setIsUnsaved();});O.forEach(function(Q){r.addProperty(Q);r.setPropertyTextLabelKey(Q,r.getMeasureTextLabelKey(Q));r.setPropertyKind(Q,c.representationMetadata.kind.COLUMN);e.setIsUnsaved();});F();}}
function H(i){var O;s.getEntityTypeMetadataAsPromise().done(function(Q){O=s.hasTextPropertyOfDimension(Q,i);if(O){r.setLabelDisplayOption(i,l.KEY_AND_TEXT);}else{r.setLabelDisplayOption(i,l.KEY);}e.setIsUnsaved();});}
function I(){var i=jQuery.Deferred();s.getEntityTypeMetadataAsPromise().done(function(O){r.getDimensions().forEach(function(Q){if(r.getLabelDisplayOption(Q)===undefined){H(Q);}});i.resolve();});return i.promise();}
function J(){G();return I();}
function K(i){j.instantiateRepresentationSortData();E(i);return h.instantiateBasicDataAsPromise();}
function L(i){if(!i.getValidationState()){if(i.byId("idChartType").getValueState("None")){setTimeout(function(){i.byId("idChartType").setValueState("Error");},1);}}else{i.byId("idChartType").setValueState("None");}}
var N=M.extend("sap.apf.modeler.ui.controller.representation",{
onInit:function(){var i=this;i.promiseControllerIsCreated=new Promise(function(O){var Q=i.getView().getViewData();C=Q.oCoreApi;p=Q.oParams;e=Q.oConfigurationEditor;f=new d();i.oViewValidator=new V(i.getView());_(i);z();if(P.getType()!=="hierarchicalStep"){D(i);}s=new sap.apf.modeler.ui.utils.StepPropertyMetadataHandler(C,P);B(i).then(function(){g=new R(r,f,C.getText);h=new a(i.getView(),s,g,i.oViewValidator);j=new S(i.getView(),r,s,C.getText);K(i).then(function(){i.setDetailData();O();});});});},
promiseControllerIsCreated:null,
setDetailData:function(){var i=this;i._setChartType();},
handleChangeForChartType:function(i){var O=this;var Q=i.getParameter("selectedItem").getKey();var T=C.getText(Q);var U=r.getRepresentationType();q(Q);k(O,T);m(O,T);if(!f.isChartTypeSimilar(U,Q)){O.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.REMOVEALLPROPERTIESFROMPARENTOBJECT);F();y(Q).done(function(){h.instantiateBasicDataAsPromise().then(function(){L(O);});O.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON);e.setIsUnsaved();});}else{h.instantiateBasicDataAsPromise().then(function(){L(O);});O.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON);e.setIsUnsaved();}},
handlePreviewButtonPress:function(){var i=this;var O={oParentStep:P,oRepresentation:r,oConfigurationHandler:i.getView().getViewData().oConfigurationHandler,oCoreApi:C,oRepresentationHandler:g,oStepPropertyMetadataHandler:s,oRepresentationTypeHandler:f};sap.ui.view({id:i.createId("idPreviewContentView"),viewName:"sap.apf.modeler.ui.view.previewContent",type:sap.ui.core.mvc.ViewType.XML,viewData:O});},
onExit:function(){var i=this;i.getView().getViewData().oFooter.removeContentRight(i.byId("idPreviewButton"));h.destroyBasicData();j.destroySortData();i.byId("idCornerTextsVBox").destroyItems();},
getValidationState:function(){return this.oViewValidator.getValidationState();},
_setChartType:function(){var i=this;s.getEntityTypeMetadataAsPromise().done(function(O){var Q;var T=s.getDimensionsProperties(O);var U=s.getMeasures(O);var W=i._getAnnotatedChartTypes(f.aRepresentationTypes,s.getRepresentationTypesArray(),T,U,C);Q=o.prepareModel(W);i.byId("idChartType").setModel(Q);i.byId("idChartType").setSelectedKey(r.getRepresentationType());L(i);});},
_getAnnotatedChartTypes:function(i,O,Q,T,C){function U(X,Y){var Z;X.forEach(function($){if($["id"]===Y){Z=$;}});return Z;}var W=jQuery.extend(true,[],O);W.forEach(function(X){var Y=0,Z=0;var $=U(i,X.key);if($.metadata&&$.id!=="TableRepresentation"&&$.id!=="TreeTableRepresentation"){$.metadata.dimensions.supportedKinds.forEach(function(a1){Y+=parseInt(a1.min,10);});$.metadata.measures.supportedKinds.forEach(function(a1){Z+=parseInt(a1.min,10);});if(Q.length<Y||T.length<Z){X.name=C.getText("modeler.ui.representation.invalidChartTypes",[X.name]);}}});return W;}
});
return N;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/APFRouter',function(){"use strict";var a={patternMatch:function(c){this.params={};var s=this;sap.ui.core.UIComponent.getRouterFor(c).attachRoutePatternMatched(function(e){s.params={name:e.getParameter("name"),arguments:e.getParameter("arguments")};c.getView().byId("idConfigMasterData").setBusy(true);c.getView().byId("idConfigDetail").setBusy(true);if(s.params.name!=="applicationList"){var C=c.oCoreApi;c.appId=s.params.arguments.appId;c.configId=s.params.arguments.configId;C.getApplicationHandler(function(A){c.applicationHandler=A;c.appName=A.getApplication(c.appId).ApplicationName;var t=c.byId("idConfigTitleMaster").getText();if(t===""||s.params.name==="configurationList"){c.setConfigListMasterTitle(c.appName);c.oTreeInstance.setApplicationId(s.params.arguments.appId);}C.getConfigurationHandler(c.appId,function(b){c.configurationHandler=b;c.oTextPool=c.configurationHandler.getTextPool();if(c.configurationHandler.getList().length>c.getView().getModel().getData().aConfigDetails.length){c.createConfigList();if(s.params.name==="configurationList"){c.updateConfigListView();}}if(c.configurationHandler.getList().length===0&&(c.configId===undefined)){c.oTreeInstance.addNodeInTree(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION);var d=c.oTreeInstance.getItems();var n=d[d.length-1];c.oTreeInstance.setSelectedItem(n);c.oTreeInstance.expand(0);c.getView().byId("idConfigDetail").setBusy(false);}else if(c.configId===undefined){c.oTreeInstance.expandToLevel(1);c.oTreeInstance.collapseAll();}if(c.configId!==undefined){var E=b.getConfiguration(c.configId);if(E){b.loadConfiguration(c.configId,function(f){c.configEditor=f;var p=c.getSPathForConfig(c.configId);if(c.oModel.getData().aConfigDetails[p.split('/')[2]].bIsLoaded===false){c.updateTree();if(s.params.name!=="navigationTarget"){s.setCurrentSelectionState(s.params,c);}}else{s.setCurrentSelectionState(s.params,c);}});}else{s.setCurrentSelectionState(s.params,c);}}c.getView().byId("idConfigMasterData").setBusy(false);});});}});},setCurrentSelectionState:function(p,c){var v=c.getSPathFromURL(p);if(p.name!=="configurationList"){if(v&&v.objectType){if(p.name==="step"){var s=c.getStepConfigDataBysPath(v.sPath);p.bIsHierarchicalStep=s&&s.bIsHierarchicalStep?true:false;}c.updateSubView(p);if(v.sPath){c.setSelectionOnTree(v);}c.updateTitleAndBreadCrumb();}else{c.showNoConfigSelectedText();c.removeSelectionOnTree();}}c.getView().byId("idConfigDetail").setBusy(false);}};return a;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/helper',function(){"use strict";var h={onResize:function(c){window.addEventListener("resize",function(){c();});}};return h;},true);
sap.ui.predefine('sap/apf/ui/representations/BaseVizFrameChartRepresentation',['sap/viz/ui5/controls/VizFrame','sap/viz/ui5/controls/common/feeds/FeedItem','sap/apf/ui/representations/BaseUI5ChartRepresentation','sap/apf/ui/representations/utils/vizFrameSelectionHandler','sap/apf/ui/utils/representationTypesHandler','sap/apf/ui/utils/constants','sap/apf/core/constants','sap/apf/utils/trace'],function(V,F,B,a,R,U,C,t){'use strict';var l=" ************************************** ";var b=function(A,p){B.apply(this,[A,p]);this.oApi=A;};b.prototype=Object.create(B.prototype);b.prototype.constructor=b;
b.prototype.destroy=function(){if(this.chart){this.chart.destroyDataset();this.chart.destroyFeeds();this.chart.detachRenderComplete(this.fnDrawSelectionOnMainChart);this.fnDrawSelectionOnMainChart=null;}if(this.thumbnailChart){this.thumbnailChart.destroyDataset();this.thumbnailChart.destroyFeeds();this.thumbnailChart.detachRenderComplete(this.fnDrawSelectionOnThumbnailChart);this.fnDrawSelectionOnThumbnailChart=null;}B.prototype.destroy.call(this);};
b.prototype.getMeasures=function(){return this.measures;};
b.prototype.getChartForCustomListItem=function(){t.logCall("getChartForCustomListItem");if(!this.chart4CustomItemList){var c=this.getMainContent("#chartForCustomListItem#",null,null,"isCreate4CIL");this.chart=undefined;this.title=undefined;this.chart4CustomItemList=c;}t.logReturn("getChartForCustomListItem"," return=",this.chart4CustomItemList);return this.chart4CustomItemList;};
b.prototype.getMainContent=function(s,w,h,c){t.logCall("BaseVizFrame.getMainContent"," apfId=",this.apfId,", creationMode"+c);var i=(c==="isCreate4CIL");var d=this;var e=this;var f=(h||725)+"px";var g=w||1000;g=g+"px";this.title=s;this.createDataset();if(!this.chart){this.chart=new V({vizType:this.chartType,dataset:this.dataset,width:g,height:f,uiConfig:{applicationSet:"fiori"}});t.log(""," *** new VizFrame ***",s,", chartType="+this.chartType,", chart=",this.chart);this.setVizPropertiesOnChart(this.metadata);if(this.metadata){this._createAndAddFeedItemBasedOnId(this.chart);if(this.measures.length!==0){var m={};var j;this.measures.forEach(function(k){var n=e.getFormatStringForMeasure(k);j=e.getFormatStringForMeasureTooltip(k);m.measure=k;m.formatString=n;d.setFormatStringOnChart(m);});this.setFormatString("tooltip",j);if(this.handleCustomFormattingOnChart){this.handleCustomFormattingOnChart();}}}if(!i){this.fnDrawSelectionOnMainChart=this.drawSelectionOnMainChart.bind(d);this.chart.attachRenderComplete(this.fnDrawSelectionOnMainChart);e.attachSelectionAndFormatValue.call(this,s);}}else{if(w){this.chart.setWidth(g);}if(h){this.chart.setHeight(f);}this.chart.destroyDataset();this.chart.removeAllFeeds();this.chart.destroyFeeds();this.chart.vizUpdate({'data':this.dataset});this._createAndAddFeedItemBasedOnId(this.chart);}this.chart.setModel(this.oModel);t.logReturn("BaseVizFrame.getMainContent");return this.chart;};
b.prototype.setVizPropertiesOnChart=function(m){var i={behaviorType:null};if(this.parameter.requiredFilters.length===0){i={selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:false,behaviorType:null};}this.chart.setVizProperties({title:{visible:true,text:this.title},interaction:i,categoryAxis:{visible:true,title:{visible:true},label:{visible:true}},valueAxis:{visible:true,title:{visible:true},label:{visible:true}},legend:{visible:true,title:{visible:true},isScrollable:true},plotArea:{window:{start:null},dataLabel:{visible:false,unitFormatType:"measureFormatter",hideWhenOverlap:true}},tooltip:{visible:true,label:{visible:true}},general:{groupData:false}});this.setVizPropsForSpecificRepresentation();var r=new R();if(r.isCombinationChart(this.type)){this.chart.setVizProperties(this.getVizPropertiesForCombinationCharts(r));}};
b.prototype.getVizPropertiesForCombinationCharts=function(r){var p=[];var s=[];this.measures.forEach(function(m){if(!m.measureDisplayOption){return;}if(m.kind===r.getKindsForMeasurePropertyType(this.type)[0]){p.push(m.measureDisplayOption);}if(m.kind===r.getKindsForMeasurePropertyType(this.type)[1]){s.push(m.measureDisplayOption);}}.bind(this));var v={plotArea:{dataShape:{}}};if(p.length>0){v.plotArea.dataShape.primaryAxis=p;}if(s.length>0){v.plotArea.dataShape.secondaryAxis=s;}return v;};
b.prototype.setVizPropsForSpecificRepresentation=function(){};
b._setVizPropsForBubbleAndScatter=function(d,i){t.log("_setVizPropsForBubbleAndScatter",", dimensions",d);var c={valueAxis2:{visible:i,title:{visible:i}},sizeLegend:{visible:i},plotArea:{adjustScale:true}};if(!i){c.plotArea.markerSize=4;c.plotArea.marker={visible:true,size:4};}else{c.valueAxis2.label={visible:true};}var e=0;var s=0;d.forEach(function(f){if(f.kind===C.representationMetadata.kind.REGIONCOLOR){e++;}else if(f.kind===C.representationMetadata.kind.REGIONSHAPE){s++;}});if(e>0){c.plotArea.colorDepth=e;}if(s>0){c.plotArea.shapeDepth=s;}return c;};
b.prototype.setFormatStringOnChart=function(m){var f=m.formatString;var c=m.measure.axisfeedItemId;this.setFormatString(c,f);};
b.prototype.setFormatString=function(c,f){var s=this;var i=s.getIsAllMeasureSameUnit();switch(c){case C.vizFrame.feedItemTypes.VALUEAXIS:if(i){this.chart.setVizProperties({valueAxis:{label:{formatString:f}}});}break;case C.vizFrame.feedItemTypes.VALUEAXIS2:if(i){this.chart.setVizProperties({valueAxis2:{label:{formatString:f}}});}break;case C.vizFrame.feedItemTypes.CATEGORYAXIS:this.chart.setVizProperties({categoryAxis:{label:{formatString:f}}});break;case C.vizFrame.feedItemTypes.BUBBLEWIDTH:this.chart.setVizProperties({sizeLegend:{formatString:f}});break;case"tooltip":this.chart.setVizProperties({tooltip:{formatString:f}});break;default:break;}};
b.prototype._createAndAddFeedItemBasedOnId=function(c){var s=this._createFeedItemGroup(this.parameter.measures);this._addFeedItemsToChart(c,s,"Measure");var d=this._createFeedItemGroup(this.parameter.dimensions);this._addFeedItemsToChart(c,d,"Dimension");};
b.prototype._createFeedItemGroup=function(d){var s=this;var c={};d.forEach(function(e){e.axisfeedItemId=s.getAxisFeedItemId(e.kind);var f=c[e.axisfeedItemId];if(f){var g=f.some(function(D){return D.identity===e.identity;});if(!g){f.push(e);}}else{c[e.axisfeedItemId]=[e];}});return c;};
b.prototype.manageSelectionsOnChart=function(e,i,p){t.logCall("BaseVizFrame.manageSelectionsOnChart",l,", is deselection",i,", oParameter: ",p);var v=new a.constructor(p,this.oApi);var s=this.chart.vizSelection();var S=v.getSelectionInfoFromEvent(e,i,s);this.setSelectionOnMainChart(S.dataPointsFromSelection,i);this.setSelectionOnThumbnailChart(S.dataPointsFromSelection,i);if(this.oRepresentationFilterHandler.getIfSelectedFilterChanged(S.aUniqueFilterValueFromChart)){t.logCall("...manageSelectionsOnChart, selected filter changed",", aUniqueFilterValueFromChart: ",S.aUniqueFilterValueFromChart);this.oRepresentationFilterHandler.updateFilterFromSelection(S.aUniqueFilterValueFromChart);this.oApi.selectionChanged(false);}t.logReturn("BaseVizFrame.manageSelectionsOnChart");};
b.prototype._addFeedItemsToChart=function(c,g,f){for(var k in g){var o={};var d=[];var i=0;for(i in g[k]){d.push(g[k][i].identity);o.feedItemId=g[k][0].axisfeedItemId;}o.value=d;var e=new F({uid:o.feedItemId,type:f,values:o.value});c.addFeed(e);}};
b.prototype.setVizPropertiesOnThumbnailChart=function(){if(!this.thumbnailChart){return;}this.thumbnailChart.setVizProperties({title:{visible:false},categoryAxis:{visible:false,title:{visible:false}},valueAxis:{visible:false,title:{visible:false}},legend:{visible:false,title:{visible:false}},tooltip:{visible:false},interaction:{selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:true},background:{visible:false},general:{layout:{padding:0},groupData:false},plotArea:{window:{start:null},gridline:{visible:false},dataLabel:{visible:false},seriesStyle:{rules:[{properties:{width:1}}]}}});this.setVizPropsOfThumbnailForSpecificRepresentation();var r=new R();if(r.isCombinationChart(this.type)){this.thumbnailChart.setVizProperties(this.getVizPropertiesForCombinationCharts(r));}};
b.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){};
b.prototype.setSelectionOnMainChart=function(s,i){t.log("BaseVizFrame.setSelectionOnMainChart",", aSelection=",s," apfId=",this.apfId,", bIsDeselection="+i,"chart.sId"+this.chart.sId);this.chart.vizSelection(s,{clearSelection:i});};
b.prototype.setSelectionOnThumbnailChart=function(s,i){t.log("BaseVizFrame.setSelectionOnThumbnailChart",", aSelection=",s," apfId=",this.apfId,", bIsDeselection="+i,"thumbnailChart.sId"+(!this.thumbnailChart)?"-":this.thumbnailChart.sId);if(this.thumbnailChart){this.thumbnailChart.vizSelection(s,{clearSelection:i});}};
b.prototype.getAxisFeedItemId=function(k){};
b.prototype.getPrintContent=function(s){var r,v=this.chartType,c={},S,p;var o=this.getMainContent(s);c=o.getVizProperties();r=o.clone();r.setVizType(v);r.setVizProperties(c);r.setWidth("1000px");r.setHeight("600px");this.createDataset();r.setDataset(this.dataset);r.setModel(this.oModel);S=this.chart.vizSelection();r.attachRenderComplete(function(){r.vizSelection(S);});p={oRepresentation:r};return p;};
return b;},true);
sap.ui.predefine('sap/apf/ui/representations/RepresentationInterfaceProxy',function(){'use strict';var R=function(c,u){this.type='RepresentationInterfaceProxy';this.putMessage=function(m){return c.putMessage(m);};this.createMessageObject=function(C){return c.createMessageObject(C);};this.getActiveStep=function(){return c.getActiveStep();};this.setActiveStep=function(s){return c.setActiveStep(s);};this.getTextNotHtmlEncoded=function(l,p){return c.getTextNotHtmlEncoded(l,p);};this.getExits=function(){return u.getCustomFormatExit();};this.updatePath=function(s){return c.updatePath(s);};this.createFilter=function(){return c.createFilter();};this.selectionChanged=function(r){return u.selectionChanged(r);};this.getEventCallback=function(e){return u.getEventCallback(e);};this.getUiApi=function(){return u;};};return R;},true);
sap.ui.predefine('sap/apf/ui/representations/barChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function a(A,p){B.apply(this,[A,p]);this.type=u.representationTypes.BAR_CHART;this.chartType=u.vizFrameChartTypes.BAR;this._addDefaultKind();}
a.prototype=Object.create(B.prototype);a.prototype.constructor=a;
a.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};
a.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var b;switch(k){case s.XAXIS:b=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.YAXIS:b=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:b=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return b;};
sap.apf.ui.representations.barChart=a;return a;},true);
sap.ui.predefine('sap/apf/ui/representations/bubbleChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function a(A,p){B.apply(this,[A,p]);this.type=u.representationTypes.BUBBLE_CHART;this.chartType=u.vizFrameChartTypes.BUBBLE;this._addDefaultKind();}
a.prototype=Object.create(B.prototype);a.prototype.constructor=a;
a.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m,i){if(m.kind===undefined){if(i===0){m.kind=c.representationMetadata.kind.XAXIS;}else if(i===1){m.kind=c.representationMetadata.kind.YAXIS;}else{m.kind=c.representationMetadata.kind.BUBBLEWIDTH;}}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.REGIONCOLOR:c.representationMetadata.kind.REGIONSHAPE;}});};
a.prototype.setVizPropsForSpecificRepresentation=function(){var C=B._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(C);};
a.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){var C=B._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(C);};
a.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var b;switch(k){case s.REGIONCOLOR:b=c.vizFrame.feedItemTypes.COLOR;break;case s.REGIONSHAPE:b=c.vizFrame.feedItemTypes.SHAPE;break;case s.XAXIS:b=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.YAXIS:b=c.vizFrame.feedItemTypes.VALUEAXIS2;break;case s.BUBBLEWIDTH:b=c.vizFrame.feedItemTypes.BUBBLEWIDTH;break;default:break;}return b;};
sap.apf.ui.representations.bubbleChart=a;return a;},true);
sap.ui.predefine('sap/apf/ui/representations/columnChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function a(A,p){B.apply(this,[A,p]);this.type=u.representationTypes.COLUMN_CHART;this.chartType=u.vizFrameChartTypes.COLUMN;this._addDefaultKind();}
a.prototype=Object.create(B.prototype);a.prototype.constructor=a;
a.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};
a.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var b;switch(k){case s.XAXIS:b=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.YAXIS:b=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:b=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return b;};
sap.apf.ui.representations.columnChart=a;return a;},true);
sap.ui.predefine('sap/apf/ui/representations/donutChart',["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants"],function(B,c){"use strict";var d=function(a,p){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[a,p]);this.type=sap.apf.ui.utils.CONSTANTS.representationTypes.DONUT_CHART;this.chartType=sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.DONUT;};d.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);
d.prototype.getAxisFeedItemId=function(k){var s=sap.apf.core.constants.representationMetadata.kind;var a;switch(k){case s.SECTORCOLOR:a=sap.apf.core.constants.vizFrame.feedItemTypes.COLOR;break;case s.SECTORSIZE:a=sap.apf.core.constants.vizFrame.feedItemTypes.SIZE;break;default:break;}return a;};
return d;},true);
sap.ui.predefine('sap/apf/ui/representations/heatmapChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function H(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.HEATMAP_CHART;this.chartType=u.vizFrameChartTypes.HEATMAP;this._addDefaultKind();}
H.prototype=Object.create(B.prototype);H.prototype.constructor=H;
H.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.SECTORCOLOR;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.XAXIS2;}});};
H.prototype.setVizPropsForSpecificRepresentation=function(){this.chart.setVizProperties({categoryAxis2:{visible:true,title:{visible:true},label:{visible:true}}});};
H.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}this.thumbnailChart.setVizProperties({categoryAxis2:{visible:false,title:{visible:false}}});};
H.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.XAXIS2:a=c.vizFrame.feedItemTypes.CATEGORYAXIS2;break;case s.SECTORCOLOR:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.heatmapChart=H;return H;},true);
sap.ui.predefine('sap/apf/ui/representations/lineChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function l(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.LINE_CHART;this.chartType=u.vizFrameChartTypes.LINE;this._addDefaultKind();}
l.prototype=Object.create(B.prototype);l.prototype.constructor=l;
l.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND;}});};
l.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.lineChart=l;return l;},true);
sap.ui.predefine('sap/apf/ui/representations/lineChartWithTimeAxis',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function l(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.LINE_CHART_WITH_TIME_AXIS;this.chartType=u.vizFrameChartTypes.LINE_CHART_WITH_TIME_AXIS;this.setDateType();this._addDefaultKind();}
l.prototype=Object.create(B.prototype);l.prototype.constructor=l;
l.prototype.setDateType=function(){var i;for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===c.representationMetadata.kind.XAXIS){this.parameter.dimensions[i].dataType="date";}}};
l.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};
l.prototype.setVizPropsForSpecificRepresentation=function(m){var i;this.chart.setVizProperties({timeAxis:{visible:true,title:{visible:true},label:{visible:true}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});if(m){for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===c.representationMetadata.kind.XAXIS){var p=m.getPropertyMetadata(this.parameter.dimensions[i].fieldName);if(sap.apf.utils.isPropertyTypeWithDateSemantics(p)){this.chart.setVizProperties({general:{showAsUTC:true}});}}}}};
l.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}this.thumbnailChart.setVizProperties({timeAxis:{visible:false,title:{visible:false}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});};
l.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.TIMEAXIS;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.lineChartWithTimeAxis=l;return l;},true);
sap.ui.predefine('sap/apf/ui/representations/lineChartWithTwoVerticalAxes',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function l(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this.chartType=u.vizFrameChartTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this._addDefaultKind();}
l.prototype=Object.create(B.prototype);l.prototype.constructor=l;
l.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m,i){if(m.kind===undefined){m.kind=i===0?c.representationMetadata.kind.YAXIS:c.representationMetadata.kind.YAXIS2;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};
l.prototype.setVizPropsForSpecificRepresentation=function(){var s=this;this.chart.attachEventOnce('renderComplete',function(){var p,S;if(!this.chart){return;}if(!p){p=s.chart.getVizProperties().plotArea.primaryScale.autoMaxValue;}if(!S){S=s.chart.getVizProperties().plotArea.secondaryScale.autoMaxValue;}s.chart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:p},secondaryScale:{fixedRange:true,maxValue:S}}});_(s,p,S);});s.chart.setVizProperties({valueAxis2:{visible:true,title:{visible:true},label:{visible:true}}});};
function _(s,p,S){if(!s.thumbnailChart){return;}s.thumbnailChart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:p},secondaryScale:{fixedRange:true,maxValue:S}}});}
l.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}});};
l.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.YAXIS2:a=c.vizFrame.feedItemTypes.VALUEAXIS2;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.lineChartWithTwoVerticalAxes=l;return l;},true);
sap.ui.predefine('sap/apf/ui/representations/percentageStackedBarChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function p(a,P){B.apply(this,[a,P]);this.type=u.representationTypes.PERCENTAGE_STACKED_BAR_CHART;this.chartType=u.vizFrameChartTypes.PERCENTAGE_STACKED_BAR;this._addDefaultKind();}
p.prototype=Object.create(B.prototype);p.prototype.constructor=p;
p.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};
p.prototype.setFormatString=function(){return;};
function _(a){a.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}});}
p.prototype.setVizPropsForSpecificRepresentation=function(){_(this.chart);};
p.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}_(this.thumbnailChart);};
p.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.percentageStackedBarChart=p;return p;},true);
sap.ui.predefine('sap/apf/ui/representations/percentageStackedColumnChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function p(a,P){B.apply(this,[a,P]);this.type=u.representationTypes.PERCENTAGE_STACKED_COLUMN_CHART;this.chartType=u.vizFrameChartTypes.PERCENTAGE_STACKED_COLUMN;this._addDefaultKind();}
p.prototype=Object.create(B.prototype);p.prototype.constructor=p;
p.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND;}});};
p.prototype.setFormatString=function(){return;};
function _(a){if(!a){return;}a.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}});}
p.prototype.setVizPropsForSpecificRepresentation=function(){_(this.chart);};
p.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}_(this.thumbnailChart);};
p.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.percentageStackedColumnChart=p;return p;},true);
sap.ui.predefine('sap/apf/ui/representations/pieChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function P(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.PIE_CHART;this.chartType=u.vizFrameChartTypes.PIE;this._addDefaultKind();}
P.prototype=Object.create(B.prototype);P.prototype.constructor=P;
P.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.SECTORSIZE;}});this.parameter.dimensions.forEach(function(d){if(d.kind===undefined){d.kind=c.representationMetadata.kind.SECTORCOLOR;}});};
P.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.SECTORCOLOR:a=c.vizFrame.feedItemTypes.COLOR;break;case s.SECTORSIZE:a=c.vizFrame.feedItemTypes.SIZE;break;default:break;}return a;};
sap.apf.ui.representations.pieChart=P;return P;},true);
sap.ui.predefine('sap/apf/ui/representations/representationInterface',function(){'use strict';var r=function(d,c){this.setData=function(m,D){};this.updateTreetable=function(a,m,b,e){};this.getSelectionAsArray=function(){return[0,2];};this.adoptSelection=function(s){};this.getFilterMethodType=function(){return sap.apf.constants.filterMethodTypes.selectionAsArray;};this.getRequestOptions=function(){return{};};this.getParameter=function(){var p={dimensions:[],measures:[]};return p;};this.getMainContent=function(){var u={};return u;};this.getThumbnailContent=function(){var u={};return u;};this.getPrintContent=function(){var u={};return u;};this.getTooltipContent=function(){var u={};return u;};this.removeAllSelection=function(){};this.serialize=function(){var s={};return s;};this.deserialize=function(s){};this.getAlternateRepresentation=function(){return this.oAlternateRepresentation;};this.getMetaData=function(){return this.metadata;};this.getData=function(){return this.aDataResponse;};};return r;},true);
sap.ui.predefine('sap/apf/ui/representations/scatterPlotChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function s(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.SCATTERPLOT_CHART;this.chartType=u.vizFrameChartTypes.SCATTERPLOT;this._addDefaultKind();}
s.prototype=Object.create(B.prototype);s.prototype.constructor=s;
s.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m,i){if(m.kind===undefined){m.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.REGIONCOLOR:c.representationMetadata.kind.REGIONSHAPE;}});};
s.prototype.setVizPropsForSpecificRepresentation=function(){var C=B._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(C);};
s.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}var C=B._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(C);};
s.prototype.getAxisFeedItemId=function(k){var S=c.representationMetadata.kind;var a;switch(k){case S.XAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case S.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS2;break;case S.REGIONCOLOR:a=c.vizFrame.feedItemTypes.COLOR;break;case S.REGIONSHAPE:a=c.vizFrame.feedItemTypes.SHAPE;break;default:break;}return a;};
sap.apf.ui.representations.scatterPlotChart=s;return s;},true);
sap.ui.predefine('sap/apf/ui/representations/stackedBarChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function s(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.STACKED_BAR_CHART;this.chartType=u.vizFrameChartTypes.STACKED_BAR;this._addDefaultKind();}
s.prototype=Object.create(B.prototype);s.prototype.constructor=s;
s.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};
function _(a){if(!a){return;}a.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}});}
s.prototype.setVizPropsForSpecificRepresentation=function(){_(this.chart);};
s.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){_(this.thumbnailChart);};
s.prototype.getAxisFeedItemId=function(k){var S=c.representationMetadata.kind;var a;switch(k){case S.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case S.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case S.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.stackedBarChart=s;return s;},true);
sap.ui.predefine('sap/apf/ui/representations/stackedColumnChart',['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";
function s(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.STACKED_COLUMN_CHART;this.chartType=u.vizFrameChartTypes.STACKED_COLUMN;this._addDefaultKind();}
s.prototype=Object.create(B.prototype);s.prototype.constructor=s;
s.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND;}});};
function _(a){if(!a){return;}a.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}});}
s.prototype.setVizPropsForSpecificRepresentation=function(){_(this.chart);};
s.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){_(this.thumbnailChart);};
s.prototype.getAxisFeedItemId=function(k){var S=c.representationMetadata.kind;var a;switch(k){case S.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case S.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case S.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};
sap.apf.ui.representations.stackedColumnChart=s;return s;},true);
sap.ui.predefine('sap/apf/ui/representations/table',["sap/apf/core/constants","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/paginationHandler","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/ui/model/Sorter","sap/ui/table/Table","sap/ui/table/Column","sap/ui/core/CustomData","sap/ui/model/json/JSONModel","sap/ui/core/Icon","sap/ui/layout/VerticalLayout","sap/m/Text","sap/m/Label","sap/m/Button","sap/m/HBox","sap/m/VBox","sap/m/ScrollContainer","sap/ui/export/Spreadsheet","sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport","sap/ui/export/EdmType","sap/m/Dialog","sap/ui/thirdparty/jquery"],function(c,f,p,B,a,S,T,C,b,J,I,V,d,L,e,H,g,h,j,k,E,D,q){"use strict";
function _(i,y){y.forEach(function(z){i.addSelectionInterval(z,z);});}
function l(i){i.loadAllButton.attachEvent("setFocusOnLoadAllButtonEvent",i.loadAllButton.setFocusOnLoadAllButton);}
function m(i,R){if(i.bIsAlternateRepresentation&&i.oApi.getActiveStep()){i.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.getFilterValues().forEach(function(F){if(i.aFiltersInTable.indexOf(F)===-1){i.aFiltersInTable.push(F);}});}if((R&&i.oParameter.top)||i.oParameter.isAlternateRepresentation){i.aFiltersInTable=n(i,R);}}
function n(i,R){var F=[];i.aFiltersInTable.forEach(function(y){i.aDataResponse.forEach(function(z){var A=z[R];if(A==y&&F.indexOf(y)===-1){F.push(y);}});});return F;}
function o(i,R,y){var z=i.tableControl.getContextByIndex(y[0]).getProperty(R);if((i.tableControl.isIndexSelected(y[0]))&&(i.aFiltersInTable.indexOf(z))===-1){i.aFiltersInTable.push(z);}else{var A=i.aFiltersInTable.indexOf(z);if(A!==-1){i.aFiltersInTable.splice(A,1);}}}
function r(i,y){s(i);i.aFiltersInTable=y;i.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.updateFilterFromSelection(y);i.oApi.selectionChanged();}
function s(i){i.oRepresentationFilterHandler.clearFilters();i.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.clearFilters();i.aValidatedFilter=[];i.aFiltersInTable=[];}
function t(i,y,z,N,A){var F=i.nDataResponseCount||0;var G,K;var M=i.oApi.getTextNotHtmlEncoded("buttonTextExport");var O=new sap.m.Button({text:M,press:function(){if(i.aDataResponse.length>10000){var Q=i;Q.newOpenDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:i.oApi.getTextNotHtmlEncoded("warningTitle"),state:'Warning',content:new sap.m.Text({text:i.oApi.getTextNotHtmlEncoded("exportWarning")}),beginButton:new sap.m.Button({text:i.oApi.getTextNotHtmlEncoded("warningExport"),press:function(){i.exportExcel(y);Q.newOpenDialog.close();}}),endButton:new sap.m.Button({text:i.oApi.getTextNotHtmlEncoded("warningCancel"),press:function(){Q.newOpenDialog.close();}}),afterClose:function(){Q.oUiApi.getLayoutView().setBusy(false);Q.newOpenDialog.destroy();}});Q.newOpenDialog.open();}else{i.exportExcel(y);}}}).addStyleClass("sapUiTinyMarginBeginEnd");i.titleControl=new sap.m.Title({level:sap.ui.core.TitleLevel.H1}).addStyleClass("sapUiTinyMarginBegin").addStyleClass("sapUiTinyMarginTop");if(i.aDataResponse.length===0){O.setEnabled(false);}if(A){K=i.title;}else if(i.oParameter.top){G=new sap.m.HBox({items:[O]});K=i.title;}else if(N){G=new sap.m.HBox({items:[O]});K=i.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[i.title,z,z]);}else{M=i.oApi.getTextNotHtmlEncoded("buttonTextLoadAll");if(i.loadAllButton===undefined){i.loadAllButton=new sap.m.Button({text:M,press:i.loadAll.bind(i)});i.loadAllButton.setFocusOnLoadAllButton=function(){this.focus();this.detachEvent("setFocusOnLoadAllButtonEvent",this.setFocusOnLoadAllButton);};}G=new sap.m.HBox({items:[i.loadAllButton,O]});K=i.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[i.title,z,F]);i.loadAllButton.addAriaLabelledBy(i.titleControl);}O.addAriaLabelledBy(i.titleControl);i.titleControl.setText(K);var P=new sap.m.HBox({alignItems:"Start",wrap:"Wrap",justifyContent:"SpaceBetween",items:[i.titleControl,G]});return P;}
function u(i,y,z,A){var F=function(a1){return function(b1){if(z.metadata!==undefined){var c1;if(i.value[a1]&&b1){c1=z.oFormatter.getFormattedValueAsString(i.value[a1],b1);if(c1!==undefined){return c1;}}}return b1;};};var G=new sap.ui.table.Table({title:y,showNoData:false,enableSelectAll:false,visibleRowCountMode:sap.ui.table.VisibleRowCountMode.Auto});if(A){G.setWidth(A+"px");}G.setLayoutData(new sap.m.FlexItemData({growFactor:1}));if(sap.ui.Device.system.desktop){G.addStyleClass("sapUiSizeCompact");}var R=z.oParameter.requiredFilters;var K=(R&&(R.length>0))?"MultiToggle":"None";G.setSelectionMode(K);var M=[],N,O,P;for(var Q=0;Q<i.name.length;Q++){N=new sap.m.Text({wrapping:false});N.bindText(i.value[Q],F(Q),sap.ui.model.BindingMode.OneWay);N.bindProperty("tooltip",i.value[Q],F(Q));O=new sap.ui.table.Column({label:new sap.m.Label({text:i.name[Q],tooltip:i.name[Q]}),template:N});P=new sap.ui.core.CustomData({value:{text:i.name[Q],key:i.value[Q]}});if(A){O.setMinWidth(125);}O.addCustomData(P);M.push(O);}var U;U=M;U.forEach(function(a1){G.addColumn(a1);});if(M.length>10){G.getColumns().forEach(function(O){O.setWidth("125px");});}var W=new sap.ui.model.json.JSONModel();W.setSizeLimit(10000);var X=z.getData();W.setData({tableData:X});G.setModel(W);G.bindRows("/tableData");if(z.metadata!==undefined){for(var Y=0;Y<i.name.length;Y++){var Z=z.metadata.getPropertyMetadata(i.value[Y]);if(Z["aggregation-role"]==="measure"){var $=G.getColumns()[Y];$.setHAlign(sap.ui.core.HorizontalAlign.End);}}}return G;}
function v(y){var z=y.getData();var P=[],A;var F={name:[],value:[]};P=y.oParameter.dimensions.concat(y.oParameter.measures).length?y.oParameter.dimensions.concat(y.oParameter.measures):y.parameter.properties;if(z.length!==0){for(var i=0;i<P.length;i++){F.value[i]=P[i].fieldName;var G=y.metadata.getPropertyMetadata(P[i].fieldName).label||y.metadata.getPropertyMetadata(P[i].fieldName).name;var U="";if(y.metadata!==undefined&&y.metadata.getPropertyMetadata(P[i].fieldName).unit!==undefined){var K=y.metadata.getPropertyMetadata(P[i].fieldName).unit;U=y.getData()[0][K];for(A=0;A<y.getData().length;A++){if(U!==y.getData()[A][K]){U=undefined;break;}}F.name[i]=P[i].fieldDesc===undefined||!y.oApi.getTextNotHtmlEncoded(P[i].fieldDesc).length?G:y.oApi.getTextNotHtmlEncoded(P[i].fieldDesc);if(U!==undefined&&U!==""){F.name[i]=y.oApi.getTextNotHtmlEncoded("displayUnit",[F.name[i],U]);}}else{F.name[i]=P[i].fieldDesc===undefined||!y.oApi.getTextNotHtmlEncoded(P[i].fieldDesc).length?G:y.oApi.getTextNotHtmlEncoded(P[i].fieldDesc);}}}return F;}
function w(i){var y;var z=i.getSelectedSortItem();i.getSortItems().forEach(function(A){if(A.getId()===z){y=A.getKey();}});return y;}
var x=function(A,P){this.oViewSettingDialog=undefined;this.aDataResponse=[];this.aValidatedFilter=[];this.aFiltersInTable=[];this.oParameter=P;this.orderby=P.orderby;this.omitTopAndSkipOptionsForNextPathUpdate=false;sap.apf.ui.representations.BaseUI5ChartRepresentation.apply(this,[A,P]);this.alternateRepresentation=P.alternateRepresentationType;this.type=sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION;this.oPaginationHandler=new sap.apf.ui.representations.utils.PaginationHandler(this);this.oPaginationDisplayOptionHandler=new sap.apf.ui.representations.utils.PaginationDisplayOptionHandler();this._drawSelection=function(i){var R=this.oParameter.requiredFilters;var y=R&&(R.length>0)?R[0]:undefined;var z=i.getParameter("userInteraction");var F=i.getParameter("rowIndices");if(!z||F.length===0){return;}if(i.getSource().getFocusDomRef()&&i.getSource().getFocusDomRef().offsetTop!==0){this.nFirstVisibleRow=this.tableControl.getFirstVisibleRow();}o(this,y,F);var G=q.unique(this.aFiltersInTable);r(this,G);};this._handleSelectionEvent=function(i){this._drawSelection(i);};this._getSelectedIndicesInTable=function(R){var i=this;var y=[];i.aDataResponse.forEach(function(z,F){var G=z[R];if(i.aFiltersInTable.indexOf(G)!==-1){y.push(F);}});return y;};};x.prototype=Object.create(sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype);x.prototype.constructor=x;
x.prototype.setData=function(i,y,z,A){var F=this;var R,G;if(!y){var M=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(M);}this.metadata=y;this.oFormatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata,this.aDataResponse);if(this.oParameter.requiredFilters.length>0){R=this.oParameter.requiredFilters[0];G=y.getPropertyMetadata(R).text;}if(!this.oParameter.isAlternateRepresentation){if(R){this.aValidatedFilter=[];if(A&&A.length>0){A.forEach(function(Q){F.aValidatedFilter.push(Q[R]);F.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(Q[R],Q[G]);});F.aFiltersInTable=F.aValidatedFilter;}else{F.aFiltersInTable=[];}}var K=this.getRequestOptions();var N=K.paging&&K.paging.skip;this.nDataResponseCount=z;if(N===undefined||N===0){this.aDataResponse=i;}else{i.map(function(Q){F.aDataResponse.push(Q);});}if(!this.oParameter.top&&this.titleControl){var O=(this.aDataResponse&&this.aDataResponse.length)||0;var P=this.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[this.title,O,z]);this.titleControl.setText(P);}}else{this.aDataResponse=i;}if(G){this.aDataResponse.forEach(function(Q){F.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(Q[R],Q[G]);});}};
x.prototype.getFilter=function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues(this.aFiltersInTable);return this.filter;};
x.prototype.getSelections=function(){var i=this,y=[],z;var R=i.parameter.requiredFilters[0];m(i,R);i.aFiltersInTable.forEach(function(A){z=i.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(A,i.parameter.requiredFilterOptions,R,i.oFormatter,i.metadata);y.push({id:A,text:z});});return y;};
x.prototype.markSelectionInTable=function(i){var R=this.oParameter.requiredFilters?this.oParameter.requiredFilters[0]:undefined;if(R){var y=this._getSelectedIndicesInTable(R);if(this.oParameter.isAlternateRepresentation){var z=[];var A=this.tableControl.getBinding().aIndices;y.forEach(function(F){z.push(A.indexOf(F));});y=z;}this.tableControl.clearSelection();if(y.length>0){_(this.tableControl,y);}}};
x.prototype.getRequestOptions=function(F,i){this.bIsAlternateRepresentation=i;if(F){this.oPaginationHandler.resetPaginationOption();}var y={paging:{},orderby:[]};if(F){this.omitTopAndSkipOptionsForNextPathUpdate=false;}if(this.omitTopAndSkipOptionsForNextPathUpdate){y.paging={inlineCount:true};}else if(!this.bIsAlternateRepresentation){y.paging=this.oPaginationHandler.getPagingOption(this.oParameter.top);}if(this.orderby){y.orderby=this.orderby;}if(this.oViewSettingDialog){var z=w(this.oViewSettingDialog);if(z){var A={property:w(this.oViewSettingDialog),ascending:!this.oViewSettingDialog.getSortDescending()};this.orderby=[A];y.orderby=[A];}}return y;};
x.prototype.resetPaginationForTable=function(){this.omitTopAndSkipOptionsForNextPathUpdate=false;this.oPaginationHandler.resetPaginationOption();};
x.prototype.getMainContent=function(i,y,z){var A=this;var F=this.getData();this.title=i;var G=this.oParameter.dimensions.concat(this.oParameter.measures).length?this.oParameter.dimensions.concat(this.oParameter.measures):this.oParameter.properties;var K=v(this);var M;if(!i){M=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(M);}if(G.length===0){M=this.oApi.createMessageObject({code:"6002",aParameters:["dimensions",i]});this.oApi.putMessage(M);}if(!F||F.length===0){M=this.oApi.createMessageObject({code:"6000",aParameters:[i]});this.oApi.putMessage(M);}var N;if(this.oParameter.isAlternateRepresentation){N=t(this,i,F.length,true,y);}else{N=t(this,i,F.length,false,y);}this.tableControl=u(K,N,this,y);this.tableControl.addAriaLabelledBy(N.getItems()[0]);this.tableControl.addEventDelegate({onAfterRendering:function(){if(A.oParameter){A.markSelectionInTable(true);if(A.loadAllButton){A.loadAllButton.fireEvent("setFocusOnLoadAllButtonEvent");}if(!A.oParameter.top&&!A.oParameter.isAlternateRepresentation&&A.nDataResponseCount>100){A.oPaginationHandler.attachPaginationOnTable(A);}}}});this.tableControl.attachRowSelectionChange(this._handleSelectionEvent.bind(this));this.oLoadMoreLink=new sap.m.Link({text:this.oApi.getTextNotHtmlEncoded("moreIcon"),visible:false});var O=new sap.m.VBox({fitContainer:true,items:[this.tableControl,this.oLoadMoreLink]}).addStyleClass("tableRepresentation");if(z){O.setHeight(z+"px");}return O;};
x.prototype.getThumbnailContent=function(){var i;var y=this.getData();var z=this.oParameter.isAlternateRepresentation?"sap-icon://table-view":"sap-icon://table-chart";if(y!==undefined&&y.length!==0){var A=new sap.ui.core.Icon({src:z,size:"70px"}).addStyleClass('thumbnailTableImage');i=A;}else{var F=new sap.m.Text({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass('noDataText');i=new sap.ui.layout.VerticalLayout({content:F});}return i;};
x.prototype.removeAllSelection=function(){s(this);this.tableControl.clearSelection();this.oApi.selectionChanged();};
x.prototype.getPrintContent=function(i){var P=this.tableControl.clone();P.getColumns().forEach(function(A){A.setWidth("auto");A.getTemplate().setWrapping(true);});var y=this.tableControl.getSelectedIndices();P.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);P.setVisibleRowCount(P.getModel().getData().tableData.length);P.onAfterRendering=function(){y.forEach(function(A){P.getRows()[A].getDomRef().classList.add('sapTableSelectionForPrint');});};var z={oRepresentation:P};return z;};
x.prototype.getViewSettingDialog=function(){if(!this.oViewSettingDialog){var i={oTableInstance:this};var y=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.apf.ui.reuse.view.viewSetting",viewData:i});this.oViewSettingDialog=y.getContent()[0];this.oViewSettingDialog.addStyleClass("sapUiSizeCompact");}return this.oViewSettingDialog;};
x.prototype.loadAll=function(){this.omitTopAndSkipOptionsForNextPathUpdate=true;if(this.loadAllButton){l(this);}this.oApi.selectionChanged();};
x.prototype.exportExcel=function(y){var z=this;function A(){var N=v(z);var G=[];var i,O;for(i=0;i<N.value.length;i++){O=sap.apf.ui.utils.determineColumnSettingsForSpreadSheetExport(N.value[i],z.metadata);O.property=N.value[i];O.label=N.name[i];G.push(O);}return G;}var F=this.getData();var G=A();var K={workbook:{columns:G},dataSource:F,fileName:y+".xlsx"};var M=new sap.ui.export.Spreadsheet(K);M.build();};
x.prototype.onChartSwitch=function(){this.resetPaginationForTable();};
x.prototype.destroy=function(){if(this.orderby){this.orderby=null;}if(this.oParameter){this.oParameter=null;}if(this.oViewSettingDialog){this.oViewSettingDialog.destroy();}if(this.aDataResponse){this.aDataResponse=null;}if(this.aValidatedFilter){this.aValidatedFilter=[];}if(this.aFiltersInTable){this.aFiltersInTable=[];}sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype.destroy.call(this);};
return x;},true);
sap.ui.predefine('sap/apf/ui/representations/utils/chartDataSetHelper',["sap/apf/ui/representations/utils/displayOptionHandler","sap/ui/thirdparty/jquery"],function(d,q){"use strict";
sap.apf.ui.representations.utils.ChartDataSetHelper=function(f,t){this.oFormatter=f;this.aDataResponseWithDisplayValue=[];this.oDisplayOptionHandler=new sap.apf.ui.representations.utils.DisplayOptionHandler();this.oTimeAxisDateConverter=t;this.oChartDataSet={};};
sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty=function(p){return"original_"+p;};
function _(p,r){var P=p.map(function(s){return s.fieldName;});return P.indexOf(r)===-1?true:false;}
function a(f){var p=f.dimensions.concat(f.measures),P;p.forEach(function(o){for(P in o){if((P!=='name')&&(P!=='value')&&(P!=='dataType')&&(P!=='displayValue')&&(P!=='identity')){delete o[P];}}});}
function b(c,p,m,D){var e=q.extend(true,[],D);var C,f={};c.oTimeAxisDateConverter.createPropertyInfo(p.dimensions);var P=p.dimensions.concat(p.requiredFilters);P.forEach(function(g,n){var l=p.requiredFilterOptions?p.requiredFilterOptions.labelDisplayOption:undefined;var L=g.labelDisplayOption?g.labelDisplayOption:l;var s=g.fieldName?g.fieldName:g;if(L===undefined||L===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT){return e;}e.forEach(function(h,i){h[s]=(h[s]===null||h[s]===undefined)?h[s]:h[s].toString();if(L===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY){C="formatted_"+s;if(!e[i][C]){e[i][C]=c.oFormatter.getFormattedValue(s,e[i][s]);}}if(L===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){var j=m.getPropertyMetadata(s).text;C=s+"_"+j;var t={text:e[i][j],key:e[i][s]};e[i][C]=c.oFormatter.getFormattedValueForTextProperty(s,t);}if(c.oTimeAxisDateConverter.bIsConversionToDateRequired(g.fieldName,m)){var o=h[s];var k=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(s);if(h[k]){f[o]=h[k];}else{var r=sap.apf.utils.convertFiscalYearMonthDayToDateString(o)+"";f[r]=o;h[s]=r;h[k]=o;}}});});c.oTimeAxisDateConverter.setConvertedDateLookUp(f);return e;}
sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.constructor=sap.apf.ui.representations.utils.ChartDataSetHelper;
sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.createFlattenDataSet=function(p,m,D,A){var s=this;this.aDataResponseWithDisplayValue=b(this,p,m,D);p.dimensions.forEach(function(e,i){e.name=s.oDisplayOptionHandler.getDisplayNameForDimension(e,m,A);e.value='{'+e.fieldName+'}';e.identity=e.fieldName;e.displayValue='{'+s.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(e.fieldName,e.labelDisplayOption,m)+'}';});p.measures.forEach(function(e){e.name=s.oDisplayOptionHandler.getDisplayNameForMeasure(e,m,D,A);e.value='{'+e.fieldName+'}';e.identity=e.fieldName;});var c={dimensions:p.dimensions,measures:p.measures};var r=p.requiredFilters[0];this.oChartDataSet=q.extend(true,{},c);this.oChartDataSet.context=[];a(this.oChartDataSet);if(r&&_(p.dimensions,r)){this.oChartDataSet.context.push(r);this.oChartDataSet.dimensions.push({name:r,value:"{"+r+"}",identity:r});}this.oChartDataSet.data={path:"/data"};};
sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.addUnusedDimensionsToChartContext=function(m,D){if(D.length===0){return;}var u=[];this.oChartDataSet.dimensions.forEach(function(e){var f=e.identity;u.push(f);var t=m.getPropertyMetadata(f).text;if(t){u.push(t);}});this.oChartDataSet.measures.forEach(function(e){u.push(e.identity);});var c=Object.keys(D[0]);c.forEach(function(e){if(u.indexOf(e)>=0||e==="__metadata"){return;}var p=m.getPropertyMetadata(e);if(p&&p["aggregation-role"]==="measure"){return;}this.addPropertyToContext(e,p);}.bind(this));};
sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.addPropertyToContext=function(p,c){var e=c&&c.label?c.label:p;this.oChartDataSet.context.push(p);this.oChartDataSet.dimensions.push({name:e,value:"{"+p+"}",identity:p});};
sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.getFlattenDataSet=function(){return new sap.viz.ui5.data.FlattenedDataset(this.oChartDataSet);};
sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.getModel=function(){var m=new sap.ui.model.json.JSONModel({data:this.aDataResponseWithDisplayValue});return m;};
});
sap.ui.predefine('sap/apf/ui/representations/utils/timeAxisDateConverter',[],function(){"use strict";
sap.apf.ui.representations.utils.TimeAxisDateConverter=function(){this.oConversionDate={};this.oDimensionInfo={};};
sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.constructor=sap.apf.ui.representations.utils.TimeAxisDateConverter;
sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.bIsConversionToDateRequired=function(f,m){if(!this.oDimensionInfo||!this.oDimensionInfo[f]){return false;}if(this.oDimensionInfo[f].conversionEvaluated){return this.oDimensionInfo[f].conversionRequired;}this.oDimensionInfo[f].conversionEvaluated=true;if(this.oDimensionInfo[f].dataType==="date"&&m.getPropertyMetadata(f).semantics==="yearmonthday"){this.oDimensionInfo[f].conversionRequired=true;return true;}this.oDimensionInfo[f].conversionRequired=false;return false;};
sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.setConvertedDateLookUp=function(c){this.oConversionDate=c;};
sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.getConvertedDateLookUp=function(){return this.oConversionDate;};
sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.createPropertyInfo=function(p){var t=this;p.forEach(function(P){t.oDimensionInfo[P.fieldName]=P;});};
});
sap.ui.predefine('sap/apf/ui/reuse/controller/facetFilter.controller',["sap/apf/ui/utils/facetFilterListHandler","sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/m/FacetFilter"],function(f,a,b,F){"use strict";
function _(c){c.getView().byId("idAPFFacetFilter").removeAllLists();var v=c.getView().getViewData();var C=v.aConfiguredFilters;C.forEach(function(o){var d=new sap.apf.ui.utils.FacetFilterListHandler(v.oCoreApi,v.oUiApi,o);c.getView().byId("idAPFFacetFilter").addList(d.createFacetFilterList());});}
sap.ui.controller("sap.apf.ui.reuse.controller.facetFilter",{onInit:function(){var c=this;if(sap.ui.Device.system.desktop){c.getView().addStyleClass("sapUiSizeCompact");}_(c);},onResetPress:function(){var c=this;c.getView().getViewData().oStartFilterHandler.resetVisibleStartFilters();c.getView().getViewData().oUiApi.selectionChanged(true);}});});
sap.ui.predefine('sap/apf/ui/reuse/fragment/addStepCheckDialog.fragment',["sap/ui/thirdparty/jquery","sap/base/security/encodeXML"],function(q,e){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.addStepCheckDialog",{createContent:function(f){var c=f.oController;var d=new sap.m.Dialog(c.createId("idAddStepCheckDialog"),{title:c.oCoreApi.getTextNotHtmlEncoded("warning"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Warning,content:[new sap.m.Text({text:c.oCoreApi.getTextNotHtmlEncoded("addStepCheck")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link(c.createId("idShowDetailsLinkForAddStep"),{text:c.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){var D=new sap.m.Dialog(c.createId("idShowDetailsDialogForAddStep"),{contentWidth:q(window).height()*0.6+"px",contentHeight:q(window).height()*0.6+"px",title:c.oCoreApi.getTextNotHtmlEncoded("warning"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Warning,content:new sap.ui.core.HTML({content:['<div><p> '+e(f.sMessageText)+'</p></div>'].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:c.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){D.close();}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}})]})],beginButton:new sap.m.Button({text:c.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){d.close();}}),afterClose:function(){d.destroy();}});return d;}});});
sap.ui.predefine('sap/apf/ui/utils/helper',[],function(){"use strict";var H=function(c){this.oCoreApi=c;this.getRepresentationSortInfo=function(r){var s=this;var d=jQuery.Deferred();var C=r.parameter.dimensions.concat(r.parameter.measures);var S=r.parameter.orderby;var a=S.map(function(o){var b;var e=jQuery.Deferred();C.forEach(function(f){if(o.property===f.fieldName&&f.fieldDesc&&s.oCoreApi.getTextNotHtmlEncoded(f.fieldDesc)){b=s.oCoreApi.getTextNotHtmlEncoded(f.fieldDesc);e.resolve(b);}});if(!b){s.oCoreApi.getMetadataFacade().getProperty(o.property).done(function(m){if(m.label||m.name){if(m.label){e.resolve(m.label);}else if(m.name){e.resolve(m.name);}else{e.resolve("");}}});}return e.promise();});d.resolve(a);return d.promise();};};sap.apf.ui.utils.Helper=H;return H;},true);
sap.ui.predefine('sap/apf/utils/hashtable',function(){'use strict';var H=function(m){var n=0;var i={};var o=[];this.type="hashTable";this.setItem=function(k,v){var p;m.check((k!==undefined&&k!==null),"sap.apf.utils.HashTable.setItem: key undefined");m.check((v!==undefined&&v!==null),"sap.apf.utils.HashTable.setItem: value undefined");if(this.hasItem(k)){p=i[k];}else{n++;o.push(k);}i[k]=v;return p;};this.getNumberOfItems=function(){return n;};this.getItem=function(k){m.check((k!==undefined&&k!==null),"sap.apf.utils.HashTable.getItem key undefined");return this.hasItem(k)?i[k]:undefined;};this.hasItem=function(k){m.check((k!==undefined&&k!==null),"sap.apf.utils.HashTable.hasItem key undefined");return i.hasOwnProperty(k);};this.removeItem=function(k){m.check((k!==undefined&&k!==null),"sap.apf.utils.HashTable.removeItem key undefined");var I;if(this.hasItem(k)){I=i[k];n--;o.splice(o.indexOf(k),1);delete i[k];return I;}return undefined;};this.getKeys=function(){var K=[];var k;for(k in i){if(this.hasItem(k)){K.push(k);}}return K;};this.each=function(f){var k;for(k in i){if(this.hasItem(k)){f(k,i[k]);}}};this.forEachOrdered=function(f){var t=this;o.forEach(function(k){if(!t.hasItem(k)){m.check(false,"sap.apf.utils.HashTable.forEachOrdered: key not contained");}else{f(k,i[k]);}});};this.getKeysOrdered=function(){var l=[];this.forEachOrdered(function(k){l.push(k);});return l;};this.moveUpOrDown=function(a,d){m.check((a!==undefined&&a!==null),"sap.apf.utils.HashTable.moveItemUpOrDown movedKey undefined");var b=o.indexOf(a);var c=b+d;if(b<0){return null;}if(d<0){o.splice(b,1);if(c<0){o.splice(0,0,a);return 0;}o.splice(b+d,0,a);return b+d;}else if(d===0){return b;}else if(d>0){o.splice(b,1);if(c>=o.length){o.splice(o.length,0,a);return o.length;}o.splice(c,0,a);return c;}};this.moveBefore=function(b,a){if(o.indexOf(b)<0||o.indexOf(a)<0){return null;}if(b===a){return o.indexOf(a);}o.splice(o.indexOf(a),1);o.splice(o.indexOf(b),0,a);return o.indexOf(a);};this.moveToEnd=function(a){if(o.indexOf(a)<0){return null;}o.splice(o.indexOf(a),1);o.push(a);return o.indexOf(a);};this.reset=function(){i={};o=[];n=0;};};sap.apf=sap.apf||{};sap.apf.utils=sap.apf.utils||{};sap.apf.utils.Hashtable=H;return H;},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/utils/externalContext',["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants"],function(F,a,c){var E=function(b){'use strict';var d=jQuery.Deferred();var s=b.instances.startParameter.getEvaluationId();var x=b.instances.startParameter.getXappStateId();var m=b.instances.messageHandler;var e=this;var f=b.functions.ajax;this.getCombinedContext=function(){if(x){r();}else if(s){g();}else{d.resolve(new F(m));}return d.promise();function n(h){if(h.levelOperator===c.BooleFilterOperators.OR){return new F(m,h);}return h;}function r(){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(b.instances.component,x).done(function(h){var i=h.getData();if(i&&i.sapApfCumulativeFilter){d.resolve(n(F.transformUI5FilterToInternal(m,i.sapApfCumulativeFilter)));}else if(i&&i.selectionVariant){d.resolve(n(e.convertSelectionVariantToFilter(i.selectionVariant)));}else{d.resolve(new F(m));}}).fail(function(){var h=m.createMessageObject({code:5045,aParameters:[x]});m.putMessage(h);});}function g(){b.functions.getConfigurationProperties().done(function(h){var i=h&&h.smartBusiness&&h.smartBusiness.runtime;if(i&&i.service){var j=i.service+"/EVALUATIONS('"+s+"')/FILTERS?$format=json";f({url:j,success:function(l){var p;var o;var q=new F(m);var t=[];var u={};l.d.results.forEach(v);for(p in u){if(u.hasOwnProperty(p)){o=new F(m);u[p].forEach(w);t.push(o);}}t.forEach(y);d.resolve(n(q));function v(z){if(!u[z.NAME]){u[z.NAME]=[];}u[z.NAME].push(new F(m,z.NAME,z.OPERATOR,z.VALUE_1,z.VALUE_2));}function w(z){o.addOr(z);}function y(z){q.addAnd(z);}},error:function(l,t,o,p){var k=m.createMessageObject({code:5043,aParameters:[s,t]});if(p){k.setPrevious(p);}m.putMessage(k);}});}else{var k=m.createMessageObject({code:5044,aParameters:[s]});m.putMessage(k);}});}};this.convertParameterObject=function(p){var g;if(!p.PropertyName||p.PropertyValue===undefined||p.PropertyValue===null){if(!p.PropertyName){g=m.createMessageObject({code:5046,aParameters:[x]});}else{g=m.createMessageObject({code:5047,aParameters:[x,p.PropertyName]});}m.putMessage(g);}return new a(m,p.PropertyName,c.FilterOperators.EQ,p.PropertyValue);};this.convertSelectOption=function(g){var e=this;var h=null;var i;var j;if(!g.PropertyName||!g.Ranges||!(jQuery.isArray(g.Ranges))){if(!g.PropertyName){j=m.createMessageObject({code:5048,aParameters:[x]});}else{j=m.createMessageObject({code:5049,aParameters:[x,g.PropertyName]});}m.putMessage(j);}h=new F(m);for(i=0;i<g.Ranges.length;i++){var k=e.convertRange(g.Ranges[i],g.PropertyName);h.addOr(k);}return h;};this.convertRange=function(r,p){var g,l,o,h;if(r.Sign!='I'){g=m.createMessageObject({code:5050,aParameters:[x,p]});m.putMessage(g);}if(r.Option==='BT'&&(r.High===undefined||r.High===null)){g=m.createMessageObject({code:5051,aParameters:[x,p]});m.putMessage(g);}if(r.Option==='CP'){h=r.Low.split("\*");if(h.length>3||(h.length===3&&(h[0].length!==0||h[2].length!==0))||h.length===1){g=m.createMessageObject({code:5069,aParameters:[x,p]});m.putMessage(g);}if(r.Low.indexOf("*")===0&&r.Low.lastIndexOf("*")===r.Low.length-1){l=r.Low.substr(1,r.Low.lastIndexOf("*")-1);o='Contains';}else if(r.Low.indexOf("*")===0){l=r.Low.substr(1,r.Low.length-1);o='EndsWith';}else if(r.Low.lastIndexOf("*")===r.Low.length-1){l=r.Low.substring(0,r.Low.indexOf("*"));o='StartsWith';}return new a(m,p,o,l,r.High);}return new a(m,p,r.Option,r.Low,r.High);};this.convertSelectionVariantToFilter=function(g){var e=this;var h=new F(m);var i;if(!g){return h;}if(g.Parameters&&!(jQuery.isArray(g.Parameters))){return h;}if(g.SelectOptions&&!(jQuery.isArray(g.SelectOptions))){return h;}if(g.Parameters){for(i=0;i<g.Parameters.length;i++){var j=e.convertParameterObject(g.Parameters[i]);h.addAnd(j);}}if(g.SelectOptions){for(i=0;i<g.SelectOptions.length;i++){var k=e.convertSelectOption(g.SelectOptions[i]);h.addAnd(k);}}return h;};};sap.apf.utils.ExternalContext=E;return E;},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/apf/base/Component',["sap/ui/core/UIComponent","sap/apf/api","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery"],function(U,a,u,q){'use strict';
var c=sap.ui.core.UIComponent.extend("sap.apf.base.Component",{
metadata:{"manifest":"json","library":"sap.apf","publicMethods":["getApi"]},
oApi:null,
init:function(){var b;var m;var A;if(!this.oApi){b=c.prototype.getMetadata().getManifest();m=q.extend({},true,this.getMetadata().getManifest());if(this.getMetadata().getAllProperties().injectedApfApi){A=this.getMetadata().getAllProperties().injectedApfApi.appData.Constructor;}else{A=sap.apf.Api;}this.oApi=new A(this,undefined,{manifest:m,baseManifest:b});if(this.oApi.startupSucceeded()){sap.ui.core.UIComponent.prototype.init.apply(this,arguments);}}else{return;}if(this.getInjections()&&this.getInjections().functions&&this.getInjections().functions.isUsingCloudFoundryProxy&&(typeof this.getInjections().functions.isUsingCloudFoundryProxy==='function')&&this.getInjections().functions.isUsingCloudFoundryProxy()===true){sap.apf.cloudFoundry.uiHandler.initRuntime(this);}},
createContent:function(){sap.ui.core.UIComponent.prototype.createContent.apply(this,arguments);return this.oApi.startApf();},
exit:function(){this.oApi.destroy();},
getApi:function(){return this.oApi;},
getInjections:function(){return{exits:{},instances:{},functions:{},constructors:{},probe:function(){}};}
});
return c;},true);
sap.ui.predefine('sap/apf/core/utils/filterTerm',["sap/apf/core/constants","sap/apf/utils/utils","sap/ui/model/Filter","sap/base/security/encodeURL"],function(c,u,U,E){'use strict';var F=function(m,p,o,v,h){this.type="filterTerm";this.propertyName=p;this.operator=o;this.value=v;this.highValue=h;this.messageHandler=m;if(this.operator.length==2){this.operator=this.operator.toUpperCase();}m.check(this.operator!==undefined,"sap.apf.utils.FilterTerm.constructor operator undefined");m.check(jQuery.inArray(this.operator,c.aSelectOpt)>-1,"sap.apf.core.utils.FilterTerm operator "+this.operator+" not supported");m.check(this.propertyName!==undefined,"sap.apf.utils.core.FilterTerm propertyName undefined");m.check(this.value!==undefined,"sap.apf.utils.FilterTerm value undefined");};
F.prototype.isConsistentWithFilter=function(p,v){var a;var i;if(p!==this.propertyName){return true;}if(this.operator===c.FilterOperators.EQ){if(this.value instanceof Date&&v instanceof Date){return(this.value.valueOf()===v.valueOf());}return(this.value===v);}else if(this.operator===c.FilterOperators.LT){if(this.value instanceof Date&&v instanceof Date){return(this.value.valueOf()>v.valueOf());}return(this.value>v);}else if(this.operator===c.FilterOperators.LE){if(this.value instanceof Date&&v instanceof Date){return(this.value.valueOf()>=v.valueOf());}return(this.value>=v);}else if(this.operator===c.FilterOperators.GT){if(this.value instanceof Date&&v instanceof Date){return(this.value.valueOf()<v.valueOf());}return(this.value<v);}else if(this.operator===c.FilterOperators.BT){if(this.value instanceof Date&&v instanceof Date){return(this.value.valueOf()<=v.valueOf()&&v.valueOf()<=this.highValue.valueOf());}return(this.value<=v&&v<=this.highValue);}else if(this.operator===c.FilterOperators.GE){if(this.value instanceof Date&&v instanceof Date){return(this.value.valueOf()<=v.valueOf());}return(this.value<=v);}else if(this.operator===c.FilterOperators.NE){if(this.value instanceof Date&&v instanceof Date){return!(this.value.valueOf()===v.valueOf());}return!(this.value===v);}else if(this.operator===c.FilterOperators.StartsWith){if(this.value.length>v.length){return false;}a=v.slice(0,this.value.length);return(a===this.value);}else if(this.operator===c.FilterOperators.EndsWith){if(this.value.length>v.length){return false;}a=v.slice(-this.value.length);return(a===this.value);}else if(this.operator===c.FilterOperators.Contains){i=v.indexOf(this.value);return(i>-1);}};
F.prototype.toUrlParam=function(a){var s="'";var b=" ";var p="";var v,h;if(a&&a.formatValue){v=a.formatValue(this.propertyName,this.value);if(this.highValue){h=a.formatValue(this.propertyName,this.highValue);}}else{if(typeof this.value==='number'){v=this.value;}else{v=s+u.escapeOdata(this.value)+s;}if(this.highValue){if(typeof this.value==='number'){h=this.highValue;}else{h=s+u.escapeOdata(this.highValue)+s;}}}if(this.operator===c.FilterOperators.StartsWith){p='startswith('+u.escapeOdata(this.propertyName)+','+v+')';p=E(p);}else if(this.operator===c.FilterOperators.EndsWith){p='endswith('+u.escapeOdata(this.propertyName)+','+v+')';p=E(p);}else if(this.operator===c.FilterOperators.Contains){p='substringof('+v+','+u.escapeOdata(this.propertyName)+')';p=E(p);}else if(this.operator===c.FilterOperators.BT){p='(('+E(u.escapeOdata(this.propertyName)+b+"ge"+b+v)+')'+E(b+'and'+b)+'('+E(u.escapeOdata(this.propertyName)+b+"le"+b+h)+'))';}else{p='('+E(u.escapeOdata(this.propertyName)+b+this.operator.toLowerCase()+b+v)+')';}return p;};
F.prototype.getProperty=function(){return this.propertyName;};
F.prototype.getOp=function(){return this.operator;};
F.prototype.getValue=function(){return this.value;};
F.prototype.getHighValue=function(){return this.highValue;};
F.prototype.getHash=function(){var s=this.propertyName+this.operator+this.value;if(this.highValue){s+=this.highValue;}return u.hashCode(s);};
F.prototype.copy=function(){return new F(this.messageHandler,this.propertyName,this.operator,this.value,this.highValue);};
F.prototype.removeTermsByProperty=function(p){return this.internalRemoveTermsByProperty(p);};
F.prototype.internalRemoveTermsByProperty=function(p){var i=0;var l=0;if(p instanceof Array){l=p.length;for(i=0;i<l;i++){if(this.propertyName===p[i]){return undefined;}}return this.copy();}if(this.propertyName===p){return undefined;}return this.copy();};
F.prototype.removeTerms=function(p,o,v){var i=0;var l=0;if(p instanceof Array){l=p.length;for(i=0;i<l;i++){if(this.propertyName===p[i]&&this.operator===o&&this.value===v){return undefined;}}return this.copy();}if(this.propertyName===p&&this.operator===o&&this.value===v){return undefined;}return this.copy();};
F.prototype.mapToSapUI5FilterExpression=function(){if(this.operator===c.FilterOperators.BT){return new U({path:this.propertyName,operator:this.operator,value1:this.value,value2:this.highValue});}return new U({path:this.propertyName,operator:this.operator,value1:this.value});};
F.prototype.traverse=function(v){return v.processTerm(this);};
sap.apf.core.utils.FilterTerm=F;return F;},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/core/ajax',['sap/apf/core/utils/checkForTimeout','sap/ui/model/odata/ODataUtils'],function(c,O){'use strict';
function _(s){var m=s.instances&&s.instances.messageHandler;var a=jQuery.extend(true,{},s);if(a.functions&&a.functions.ajax){delete a.functions.ajax;}if(a.functions&&a.functions.getSapSystem){delete a.functions.getSapSystem;}if(a.instances&&a.instances.messageHandler){delete a.instances.messageHandler;}if(a.suppressSapSystem){delete a.suppressSapSystem;}var b=a.beforeSend;var S=a.success;var e=a.error;var o;var r;var d=(s.functions&&s.functions.ajax)||jQuery.ajax;a.beforeSend=function(j,i){if(b){b(j,i);}};if((s.functions&&s.functions.getSapSystem&&s.functions.getSapSystem())&&!s.suppressSapSystem){a.url=O.setOrigin(a.url,{force:true,alias:s.functions.getSapSystem()});}var h=function(i,t,j){var M;try{M=c(j);if(M){e(i,"error",undefined,M);}else{S(i,t,j);}}catch(k){g(k);}};var f=function(j,t,i){var M;try{M=c(j);if(M){e(j,t,i,M);}else{e(j,t,i);}}catch(k){g(k);}};if(a.async!==undefined&&a.async===false){a.success=h;a.error=f;r=d(a);if(m&&m.isOwnException(o)){throw new Error(o&&o.message||"");}}else{delete a.success;delete a.error;r=d(a).done(function(i,t,j){h(i,t,j);}).fail(function(j,t,i){f(j,t,i);});}return r;function g(i){var j;var M;o=i;if(!m.isOwnException(i)){j=i&&i.message||"";M=m.createMessageObject({code:"5042",aParameters:[j]});m.putMessage(M);}}}
sap.apf.core.ajax=_;return _;},true);
sap.ui.predefine('sap/apf/core/messageDefinition',function(){var m=[{code:"3001",severity:"technError",text:"Text is not available for the following key: {0}"},{code:"5001",severity:"fatal",text:"Request {3} to server failed with http status code {0}, http error message {1}, and server response {2}.",key:"5001"},{code:"5002",severity:"error",description:"Error in OData request; update of analysis step {0} failed.",key:"5002"},{code:"5004",severity:"fatal",description:"Request with ID {0} does not exist in the analytical content configuration.",key:"5004"},{code:"5005",severity:"technError",text:"Required property {1} is missing in the filter of the OData request for entity type {0}."},{code:"5006",severity:"technError",text:"Inconsistency in data model; non-filterable property {1} is set as required filter for entity type {0}."},{code:"5015",severity:"fatal",description:"Service for request {0} is not defined in the analytical content configuration.",key:"5015"},{code:"5016",severity:"technError",text:"Mandatory parameter key property {0} is missing in filter."},{code:"5018",severity:"fatal",description:"Metadata request {0} failed.",key:"5018"},{code:"5019",severity:"technError",text:"System query option $orderby for property {1} removed from OData request for entity type {0}."},{code:"5020",severity:"fatal",description:"Analytical content configuration is not available.",key:"5020"},{code:"5021",severity:"error",description:"Error during server request; session timeout occurred.",key:"5021"},{code:"5022",severity:"fatal",description:"Analytical configuration with ID {0} is not available.",key:"5022"},{code:"5023",severity:"fatal",description:"Texts could not be loaded for Analytical configuration with ID {0}.",key:"5023"},{code:"5024",severity:"fatal",description:"URL Parameter for Analytical Configuration ID must contain the ID of the application and the ID of the Analytical configuration seperated by a dot.",key:"5024"},{code:"5025",severity:"fatal",description:"Value for SAP client has not been provided at startup of the application.",key:"5025"},{code:"5026",severity:"fatal",description:"Logical system cannot be determined for SAP client {0}. ",key:"5026"},{code:"5027",severity:"technError",text:"Inconsistent parameters; analysis path cannot be saved. Path ID: {0}, path name: {1}, callback function {2}"},{code:"5028",severity:"technError",text:"Binding with ID {0} contains a representation without ID."},{code:"5029",severity:"technError",text:"Binding with ID {0} contains a duplicated representation ID."},{code:"5030",severity:"technError",text:"Constructor property of representation type ID {0} does not contain a module path to a valid function."},{code:"5031",severity:"technError",text:"Argument for method 'setApplicationMessageCallback' is not a function."},{code:"5032",severity:"technError",text:"System query option {1} unknown in request for entity type {0}."},{code:"5033",severity:"technError",text:"Unsupported type {0} in configuration object provided."},{code:"5034",severity:"technError",text:"Facet filter configuration attribute 'property' missing."},{code:"5035",severity:"technError",text:"Function module path contained in property preselectionFuntion of facet filter ID {0} does not contain a valid function."},{code:"5036",severity:"technError",text:"Start parameter step id {0} is not existing."},{code:"5037",severity:"technError",text:"Start parameter representation id {0} is not existing."},{code:"5038",severity:"technError",text:"Environment for sap.ushell.Container is not existing."},{code:"5039",severity:"technError",text:"Error while pushing content to the ushell container"},{code:"5040",severity:"technError",text:"Error while fetching content from the ushell container"},{code:"5041",severity:"error",description:"Metadata document {0} is inconsistent. It contains no entity sets.",key:"5041"},{code:"5042",severity:"error",description:"Exception occurred: {0}",key:"5042"},{code:"5043",severity:"fatal",description:"Server error {1} occurred when trying to read the Smart Business Evaluation Id {0}.",key:"5043"},{code:"5044",severity:"fatal",description:"Smart Business Evaluation Id {0} could not be evaluated, because the entry for DataSource SmartBusiness is missing in the manifest of the component.",key:"5044"},{code:"5045",severity:"fatal",description:"There occurred an error when trying to resolve the X-AppState with ID {0}. See log in console.",key:"5045"},{code:"5046",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object. The parameter name is missing.",key:"5046"},{code:"5047",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object with name {1}. The parameter value is missing.",key:"5047"},{code:"5048",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid selection. The property name is missing.",key:"5048"},{code:"5049",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid selection. The range definition is invalid.",key:"5049"},{code:"5050",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The sign must be I.",key:"5050"},{code:"5051",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The option BT requires a high value.",key:"5051"},{code:"5052",severity:"fatal",description:"Service {0} for SmartFilterBar not available.",key:"5052"},{code:"5053",severity:"fatal",description:"Initialization of SmartFilterBar failed, for example, because the entity type {0} doesn't exist in service {1} .",key:"5053"},{code:"5054",severity:"fatal",description:"Server problem occurred when loading application configuration file from {0}."},{code:"5055",severity:"fatal",description:"The application configuration from url path {0} has no valid format."},{code:"5056",severity:"fatal",description:"The text resource locations are missing in the application configuration from {0}."},{code:"5057",severity:"fatal",description:"Error when loading the analytical configuration from {0}."},{code:"5058",severity:"fatal",description:"Server error {0} when loading the application message configuration from url path {2}: {1}."},{code:"5059",severity:"fatal",description:"The url path {0} for the resource location {1} is not valid."},{code:"5060",severity:"fatal",description:"No analytical configuration defined either in the application configuration or the data source AnalyticalConfigurationLocation is missing in the manifest."},{code:"5061",severity:"fatal",description:"EntityType of the smart business service definition is missing in the application configuration file."},{code:"5062",severity:"fatal",description:"The type in Smart Business configuration is either missing or not smartBusinessRequest."},{code:"5063",severity:"fatal",description:"The service in the Smart Business service configuration is missing."},{code:"5064",severity:"fatal",description:"The data source definition for path persistence, that has to be declared  with name PathPersistenceServiceRoot, is missing in the manifest."},{code:"5065",severity:"fatal",description:"The data source definition for analytical configuration, that has to be declared  with name PathPersistenceServiceRoot, is either missing in the manifest or incomplete."},{code:"5066",severity:"fatal",description:"The persistence path configuration is missing in the application configuration."},{code:"5067",severity:"fatal",description:"The service of the persistence path configuration is missing in the application configuration."},{code:"5068",severity:"fatal",description:"Server problem {1} occurred when loading application configuration file from {0}: {2}"},{code:"5069",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid option. The option CP may not contain more than two wildcards.",key:"5069"},{code:"5070",severity:"error",description:"Javascript exception was caught: {0}",key:"5070"},{code:"5071",severity:"error",description:"Exception happened during processing of error by message callback function: {0}",key:"5071"},{code:"5072",severity:"fatal",description:"Entity set {0} for hierarchical service {1} not available",key:"5072"},{code:"5073",severity:"fatal",description:"Hierarchical property {2} in entity set {0} for hierarchical service {1} has no hierarchical annotations",key:"5073"},{code:"5074",severity:"technError",text:"UShell service for navigation targets does not exist in the current runtime, so no navigation to other applications is possible"},{code:"5075",severity:"error",description:"URL Parameter for Analytical Configuration ID must be supplied when reading, loading or storing analysis paths.",key:"5075"},{code:"5100",severity:"fatal",description:"Unexpected internal error: {0}. Contact SAP.",key:"5100"},{code:"5101",severity:"technError",text:"Unexpected internal error: {0}. Contact SAP."},{code:"5102",severity:"fatal",description:"Wrong definition in analytical content configuration: {0}",key:"5102"},{code:"5103",severity:"technError",text:"Wrong definition in analytical content configuration: {0}"},{code:"5104",severity:"technError",text:"Wrong filter mapping definition in analytical content configuration"},{code:"5105",severity:"technError",text:"XSRF Token could not be fetched from the application router"},{code:"5200",severity:"technError",text:"Server error during processing of path: {0} {1}"},{code:"5201",severity:"error",description:"Unknown server error.",key:"5201"},{code:"5202",severity:"technError",text:"Persistence service call returned '405 - Method not allowed'."},{code:"5203",severity:"technError",text:"Bad request; data is structured incorrectly."},{code:"5204",severity:"error",description:"Error during server request; maximum number of analysis steps exceeded.",key:"5204"},{code:"5205",severity:"error",description:"Error during server request; maximum number of analysis paths exceeded.",key:"5205"},{code:"5206",severity:"error",description:"Access forbidden; insufficient privileges",key:"5206"},{code:"5207",severity:"error",description:"Inserted value too large; probably maximum length of analysis path name exceeded",key:"5207"},{code:"5208",severity:"error",description:"Error during path persistence; request to server can not be proceed due to invalid ID.",key:"5208"},{code:"5210",severity:"fatal",description:"Error during opening of analysis path; see log.",key:"5210"},{code:"5211",severity:"error",description:"Server response contains undefined path objects.",key:"5211"},{code:"5212",severity:"error",description:"Metadata file of application {0} could not be accessed.",key:"5212"},{code:"5213",severity:"error",description:"Text file of application {0} could not be accessed.",key:"5213"},{code:"5214",severity:"error",description:"Request to the server failed with http status code {0} and http error message \"{1}\".",key:"5214"},{code:"5220",severity:"error",description:"Error Message from Server: {0}",key:"5220"},{code:"5221",severity:"error",description:"Server Error - Analytical Configuration could not be read. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5221"},{code:"5222",severity:"error",description:"Server Error - Texts of Application could not be read. The technical key of the application is {0}.",key:"5222"},{code:"5223",severity:"error",description:"Server Error - Analytical Configurations could not be read. The technical key of the application is {0}.",key:"5223"},{code:"5224",severity:"error",description:"Server Error - Settings of the Layered Repository could not be read.",key:"5224"},{code:"5225",severity:"error",description:"Server Error - Analytical Configuration could not be deleted. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5225"},{code:"5226",severity:"error",description:"Server Error - Analytical Configuration could not be created. Technical key of application is {0}.",key:"5226"},{code:"5227",severity:"error",description:"Server Error - Application could not be created.",key:"5227"},{code:"5228",severity:"error",description:"Server Error - Application could not be updated. The technical key of the application is {0}.",key:"5228"},{code:"5229",severity:"error",description:"Server Error - Applications could not be read.",key:"5229"},{code:"5230",severity:"error",description:"Server Error - Text property file of Application could not be updated. The technical key of the application is {0}.",key:"5230"},{code:"5231",severity:"error",description:"Server Error - Analytical Configurations could not be read from the Vendor Layer during Import",key:"5231"},{code:"5232",severity:"error",description:"Server Error - Metadata of the Analytical Configurations could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5232"},{code:"5233",severity:"error",description:"Server Error - Analytical configuration could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5233"},{code:"5234",severity:"information",description:"In this hierarchical step you can make selections in the hierarchy {0}. You have already added analysis step {1}, in which you can also make selections in the hierarchy {0}. For technical reasons, you cannot add more than one hierarchical step with the same selection option.",key:"5234"},{code:"5235",severity:"technError",text:"The filter, that is provided to the called application during navigation could not be reduced properly. So the original filter is supplied."},{code:"5236",severity:"fatal",description:"Please configure the data source {0} in the manifest of the component.",key:"5236"},{code:"5237",severity:"error",text:"Server Error - The application could not be deleted. Technical key of the application is {0}.",key:"5237"},{code:"5238",severity:"error",text:"The analytical configuration with key {0} already exists under another application and cannot be created again",key:"5238"},{code:"5252",severity:"fatal",description:"Server Error - Analysis Path could not be opened.",key:"5252"},{code:"5301",severity:"warning",description:"Add or update path filter API method called with unsupported filter; See sap.apf.api documentation",key:"5301"},{code:"5408",severity:"error",description:"Format information is missing at least for text element {0} - please edit the exported text property file manually",key:"5408"},{code:"5409",severity:"error",description:"Application id {0} cannot be used as translation uuid in text property file - please edit the exported text property file manually",key:"5409"},{code:"5410",severity:"error",description:"Imported text property file does not contain the APF application id - expected an entry like #ApfApplicationId=543EC63F05550175E10000000A445B6D.",key:"5410"},{code:"5411",severity:"error",description:"Expected a valid text entry <key>=<value> in line {0}, but could not find - key must be in valid guid format.",key:"5411"},{code:"5412",severity:"error",description:"No valid text entry <key>=<value> in line {0}, key is not in valid guid format like 543EC63F05550175E10000000A445B6D.",key:"5412"},{code:"5415",severity:"error",description:"Date in line {0} has invalid format.",key:"5415"},{code:"6001",severity:"fatal",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6000",severity:"error",description:"Data is not available for the {0} step.",key:"6000"},{code:"6002",severity:"error",description:"Missing {0} for {1} in the configuration; contact your administrator.",key:"6002"},{code:"6003",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6004",severity:"technError",text:"Metadata not available for step {0}."},{code:"6005",severity:"error",description:"Server request failed. Unable to read paths.",key:"6005"},{code:"6006",severity:"error",description:"Server request failed. Unable to save path {0}.",key:"6006"},{code:"6007",severity:"error",description:"Server request failed. Unable to update path {0}.",key:"6007"},{code:"6008",severity:"error",description:"Server request failed. Unable to open path {0}.",key:"6008"},{code:"6009",severity:"error",description:"Server request failed. Unable to delete path {0}.",key:"6009"},{code:"6010",severity:"technError",description:"Data is not available for filter {0}",key:"6010"},{code:"6011",severity:"fatal",description:"Smart Business service failed.Please try later",key:"6011"},{code:"6012",severity:"information",description:"Add at least one step to the path before saving",key:"6012"},{code:"6013",severity:"information",description:"This table uses the top n function to limit the number of data records. Therefore, the table is already sorted to determine the top n records and you cannot sort it by any other sorting criteria.",key:"6013"},{code:"6014",severity:"information",description:"Maximum number of analysis paths exceeded",key:"6014"},{code:"6015",severity:"information",description:"Maximum number of analysis steps exceeded; delete a step",key:"6015"},{code:"6016",severity:"success",description:"Path {0} updated",key:"6016"},{code:"6017",severity:"success",description:"Path {0} updated",key:"6017"},{code:"7000",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"9001",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"9001"}];return m;},true);
sap.ui.predefine('sap/apf/core/messageHandler',['sap/apf/core/constants','sap/apf/utils/utils','sap/apf/core/messageObject','sap/apf/utils/hashtable','sap/base/Log','sap/apf/core/messageDefinition'],function(c,u,M,H,L){'use strict';
function a(l){var b={initial:0,startup:1,running:2,shutdown:3};var t=this;var T;var d=[];var n=0;var e;var m;var f;var o=false;var g=false;var h=false;var D=false;var j=false;var U="";var k={code:c.message.code.errorUnknown,severity:c.message.severity.error,rawText:"Unknown Error occurred"};var p=b.initial;var C=[];this.setLifeTimePhaseStartup=function(i){p=b.startup;};this.setLifeTimePhaseRunning=function(){p=b.running;};this.setLifeTimePhaseShutdown=function(){p=b.shutdown;};this.fatalErrorOccurredAtStartup=function(){var i;if(p!==b.startup){return false;}for(i=0;i<C.length;i++){if(C[i].getSeverity()===c.message.severity.fatal){return true;}}return false;};this.createMessageObject=function(i){var F=new M(i);if(l){if(F.getCode()===undefined){F.setCode(c.message.code.errorUnknown);}x.bind(this)(F);y(F,1);}else if(i.enrichInfoInMessageObject===true){x.bind(this)(F);}return F;};this.activateOnErrorHandling=function(O){o=O;if(o===true){jQuery(window).on("error",B);}else{jQuery(window).off("error");}};this.setTextResourceHandler=function(i){T=i;};this.loadConfig=function(F,R){if(e===undefined||R){e=new H(t);}for(var i=0;i<F.length;i++){A(F[i]);}};this.setMessageCallback=function(i){if(i!==undefined&&typeof i==="function"){m=i;}else{m=undefined;}};this.setCallbackForTriggeringFatal=function(i){if(i!==undefined&&typeof i==="function"){f=i;}else{f=undefined;}};this.putMessage=function(i){var P;var F=0;var G;if(i.getCode()===undefined){i.setCode(c.message.code.errorUnknown);}x.bind(this)(i);if(i.getSeverity()===c.message.severity.fatal){G=t.createMessageObject({code:c.message.code.errorExitTriggered});x.bind(this)(G);G.setSeverity(c.message.severity.fatal);if(G.getMessage()===""){G.setMessage("The app has stopped working due to a technical error.");}}P=i.getPrevious();while(P!==undefined&&P.type&&P.type==="messageObject"&&F<10){if(P.getCode()===undefined){P.setCode(c.message.code.errorUnknown);}x.bind(this)(P);P=P.getPrevious();F++;}if(G!==undefined){G.setPrevious(i);i=G;}if(!l){y(i,10);}C.push(i);if(g){return;}if(i.getSeverity()===c.message.severity.technError){return;}if(m!==undefined){if(p===b.shutdown||(p===b.startup&&i.getSeverity()!==c.message.severity.fatal)){return;}g=true;m(i);g=false;}if(f!==undefined&&h===false){h=true;f(i);h=false;}if(i.getSeverity()===c.message.severity.fatal&&p!==b.shutdown){if(sap.ui.Device.browser.firefox){j=true;}throw new Error(U);}};this.check=function(i,F,G){var I=G||c.message.code.errorCheck;if(!i){var J=this.createMessageObject({code:I,aParameters:[F]});t.putMessage(J);}};this.getConfigurationByCode=function(i){if(e===undefined){return undefined;}return e.getItem(i);};this.getLogMessages=function(){return jQuery.extend(true,[],d);};this.reset=function(){e=undefined;m=undefined;d=[];C=[];};this.isOwnException=function(i){return(i&&i.message&&i.message.search(U)>-1);};function q(i){if(sap.ui.Device.browser.firefox){return j;}return(i.originalEvent&&i.originalEvent.message&&i.originalEvent.message.search(U)>-1);}function r(i){return(i.originalEvent&&i.originalEvent.message&&i.originalEvent.message.search(U)===-1&&i.originalEvent.message.search(c.message.code.suppressFurtherException)>-1);}function s(){var i=u.createPseudoGuid(32);return c.message.code.suppressFurtherException+i;}function v(i){var F=parseInt(i,10);return(F==c.message.code.errorExitTriggered||F==c.message.code.errorUnknown||F==c.message.code.errorInMessageDefinition);}function w(i){var F=parseInt(i,10);return(F==c.message.code.errorExitTriggered||F==c.message.code.errorInMessageDefinition);}function x(i){function F(N,O){var Q=0;while(N.indexOf("{"+Q+"}")>-1){if(typeof O[Q]==="string"){N=N.replace("{"+Q+"}",O[Q]);}else{N=N.replace("{"+Q+"}","undefined");}Q++;}return N;}var G=i.getCode();var I=t.getConfigurationByCode(G);if(I===undefined){I=jQuery.extend(true,{},k);if(v(G)){if(i.hasRawText()){I.rawText=i.getRawText();}I.rawText+=' '+i.getParameters();if(w(G)){I.severity=c.message.severity.fatal;}}else{I.rawText="Message "+G+"  "+i.getParameters()+" (Message Code has no Configuration)";}if(!v(G)){i.setCode(I.code);}}if(I.severity!==undefined){i.setSeverity(I.severity);}else{i.setSeverity(c.message.severity.technError);}if(I.rawText){i.setMessage(I.rawText);}else{var P=i.getParameters();if(i.getSeverity()===c.message.severity.technError){var J=t.getConfigurationByCode(I.code).text;if(!J){J=t.getConfigurationByCode(I.code).description;}i.setMessage(F(J,P));}else{try{if(T&&I.key){i.setMessage(T.getMessageText(I.key,i.getParameters()));}else if(I.description){i.setMessage(F(I.description,P));}else{i.setMessage("Message Code: "+G+" "+P.toString());}}catch(K){if(I.description){i.setMessage(F(I.description,P));}else{i.setMessage("Message Code: "+G+" "+P.toString());}}}}}function y(i,F){var G="APF message ";var P="";var I=F-1;if(F===0){return;}var J=i.getPrevious();if(J!==undefined){y(J,I);P=" - (see previous message for more information)";}n++;var K=G+'('+n+'): '+i.getCode()+" - "+i.getMessage()+P;if(D){alert("Fatal Error during Log Writing "+K);return;}D=true;if(i.getSeverity()===c.message.severity.fatal){if(d.length<2){d.unshift(K);}}switch(i.getSeverity()){case c.message.severity.warning:L.warning(K);break;case c.message.severity.error:L.error(K);break;case c.message.severity.fatal:L.error(K);break;case c.message.severity.technError:L.error(K);break;default:L.info(K);}D=false;}function z(i){t.check(i!==undefined&&i.hasOwnProperty("code")!==false,"MessageHandler setItem: oItem is undefined or property 'code' is missing",c.message.code.errorInMessageDefinition);var F=e.setItem(i.code,i);t.check((F===undefined),"MessageHandler setItem: Configuration includes duplicated codes",c.message.code.errorInMessageDefinition);}function A(i){if(i.type===undefined){i.type="message";}z(i);}function B(i){var F;var G="";var I="";var J="";var K="";var N=true;if(sap.ui.Device.browser.firefox){N=false;}if(N&&i&&i.originalEvent){G=i.originalEvent.message;J=i.originalEvent.filename;I=i.originalEvent.lineno;}if(q(i)){i.stopImmediatePropagation();i.preventDefault();}else if(r(i)){return;}else if(g){K="";if(N){K=G+" (source: "+J+":"+I+")";}F=new M({code:"5070",aParameters:[K]});x.bind(this)(F);y(F,1);}else{K="";if(N){K=G+" (source: "+J+":"+I+")";}F=new M({code:"5070",aParameters:[K]});x.bind(this)(F);y(F,1);}}function E(){U=s();}E();}
sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.MessageHandler=a;return a;});
sap.ui.predefine('sap/apf/core/messageObject',[],function(){'use strict';
function M(c){var C=c.code;var p=c.aParameters||[];var o=c.oCallingObject;var m="";var s="";var P;var d=new Date();var r=c.rawText;this.type="messageObject";this.getCode=function(){return C;};this.setCode=function(a){C=a;};this.hasRawText=function(){return(r!==undefined);};this.getRawText=function(){return r;};this.getMessage=function(){return m;};this.setMessage=function(t){m=t;};this.setSeverity=function(a){s=a;};this.getSeverity=function(){return s;};this.setPrevious=function(a){P=a;};this.getPrevious=function(){return P;};this.getCallingObject=function(){return o;};this.getParameters=function(){return p;};this.getStack=function(){if(this.stack){return this.stack;}return"";};this.getTimestamp=function(){return d.getTime();};this.getTimestampAsdateObject=function(){return d;};this.getJQueryVersion=function(){return jQuery().jquery;};this.getSapUi5Version=function(){return sap.ui.version;};}
sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.MessageObject=M;sap.apf.core.MessageObject.prototype=new Error();sap.apf.core.MessageObject.prototype.constructor=sap.apf.core.MessageObject;return M;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/editApplication.controller',['sap/apf/modeler/ui/utils/nullObjectChecker','sap/ui/core/mvc/Controller'],function(n,C){"use strict";
function _(c){var g=c.coreApi.getText;c.byId("idEditAppDialog").setTitle(g("editApplication"));c.byId("idDescriptionLabel").setText(g("description"));if(c.coreApi.showSemanticObject()){c.byId("idSemanticObjectLabel").setText(g("semanticObject"));}c.byId("idSaveButton").setText(g("save"));c.byId("idCancelButton").setText(g("cancel"));}
var A=C.extend("sap.apf.modeler.ui.controller.editApplication",{
onInit:function(){var c=this;this.parentControl=c.getView().getViewData().parentControl;this.coreApi=c.getView().getViewData().coreApi;this.applicationData=c.getView().getViewData().applicationData;c.byId("idDescriptionInput").setValue(this.applicationData.description);if(this.coreApi.showSemanticObject()){c.byId("idSemanticObjectInput").setValue(this.applicationData.semanticObject);}else{c.byId("idSemanticObjectInput").setValue("");c.byId("idSemanticObjectBox").setVisible(false);}_(c);c.byId("idEditAppDialog").open();},
handleAppDescriptionLiveChange:function(e){var a=e.getParameters().value;if(a!==this.applicationData.description&&n.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(true);}else if(!n.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(false);}},
handleSemanticObjectLiveChange:function(e){var a=e.getParameters().value;var d=this.byId("idDescriptionInput").getValue().trim();if(a!==this.applicationData.semanticObject&&n.checkIsNotNullOrUndefinedOrBlank(d)){this.byId("idSaveButton").setEnabled(true);}},
handleSavePress:function(){var c=this;var a={};a.ApplicationName=c.byId("idDescriptionInput").getValue().trim();a.SemanticObject=c.byId("idSemanticObjectInput").getValue().trim();a.Application=c.applicationData.id;this.coreApi.getApplicationHandler(function(o,m){if(o&&!n.checkIsNotUndefined(m)){o.setAndSave(a,function(r,M,b){if(!n.checkIsNotUndefined(b)&&(typeof r==="string")){c.parentControl.fireEvent("updateAppListEvent",{"appId":r});}else{c.showMessage("11500",m);}},c.applicationData.id);}else{c.showMessage("11509",m);}});c.byId("idEditAppDialog").close();},
handleCancelPress:function(){this.byId("idEditAppDialog").close();},
handleAfterClose:function(){this.getView().destroy();},
showMessage:function(m,p){var M=this.coreApi.createMessageObject({code:m});if(p){M.setPrevious(p);}this.coreApi.putMessage(M);}
});
return A;});
sap.ui.predefine('sap/apf/modeler/ui/controller/newApplication.controller',['sap/apf/modeler/ui/utils/nullObjectChecker'],function(n){"use strict";
function _(c){var t=c.coreApi.getText;c.byId("idNewAppDialog").setTitle(t("newApplication"));c.byId("idDescriptionLabel").setText(t("description"));if(c.coreApi.showSemanticObject()){c.byId("idSemanticObjectLabel").setText(t("semanticObject"));}c.byId("idSaveButton").setText(t("save"));c.byId("idCancelButton").setText(t("cancel"));}
return sap.ui.controller("sap.apf.modeler.ui.controller.newApplication",{onInit:function(){var c=this;this.parentControl=c.getView().getViewData().oParentControl;this.coreApi=c.getView().getViewData().oCoreApi;c.byId("idDescriptionInput").setValue("");if(this.coreApi.showSemanticObject()){c.byId("idSemanticObjectInput").setValue("FioriApplication");}else{c.byId("idSemanticObjectInput").setValue("");c.byId("idSemanticObjectBox").setVisible(false);}_(c);c.byId("idNewAppDialog").open();},handleAppDescriptionLiveChange:function(e){var c=this;var i=e.getParameters().value.trim().length!==0?true:false;c.byId("idSaveButton").setEnabled(i);},handleSavePress:function(){var c=this;var a={};a.ApplicationName=n.checkIsNotNullOrUndefinedOrBlank(c.byId("idDescriptionInput").getValue().trim())?c.byId("idDescriptionInput").getValue().trim():undefined;a.SemanticObject=n.checkIsNotNullOrUndefinedOrBlank(c.byId("idSemanticObjectInput").getValue().trim())?c.byId("idSemanticObjectInput").getValue().trim():undefined;this.coreApi.getApplicationHandler(function(A,m){if(A&&!n.checkIsNotUndefined(m)){A.setAndSave(a,function(r,o,b){if(!n.checkIsNotUndefined(b)&&(typeof r==="string")){c.parentControl.fireEvent("addNewAppEvent",{"appId":r});}else{var M=c.coreApi.createMessageObject({code:"11500"});M.setPrevious(b);c.coreApi.putMessage(M);}});}else{var M=c.coreApi.createMessageObject({code:"11509"});M.setPrevious(m);c.coreApi.putMessage(M);}});c.byId("idNewAppDialog").close();},handleCancelPress:function(){var c=this;c.byId("idNewAppDialog").close();}});});
sap.ui.predefine('sap/apf/ui/reuse/controller/toolbar.controller',['sap/ui/core/mvc/Controller',"sap/apf/ui/utils/print"],function(B,P){"use strict";return B.extend("sap.apf.ui.reuse.controller.toolbar",{resetAnalysisPath:function(){this.oUiApi.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();this.oCoreApi.resetPath();this.oUiApi.getAnalysisPath().getController().isNewPath=true;this.oStartFilterHandler.resetAll();this.oUiApi.contextChanged(true);this.oUiApi.getAnalysisPath().getController().refreshAnalysisPath();this.oCoreApi.setDirtyState(false);this.oCoreApi.setPathName('');this.oUiApi.getLayoutView().getController().setPathTitle();this.oUiApi.getStepContainer().rerender();},onInit:function(){this.view=this.getView();if(sap.ui.Device.system.desktop){this.view.addStyleClass("sapUiSizeCompact");}this.oViewData=this.getView().getViewData();this.oCoreApi=this.oViewData.oCoreApi;this.oSerializationMediator=this.oViewData.oSerializationMediator;this.oUiApi=this.oViewData.uiApi;this.oStartFilterHandler=this.oViewData.oStartFilterHandler;this.bIsPathGalleryWithDelete=false;this.oPathGalleryDialog={};},addCompactStyleClassForDialog:function(d){if(sap.ui.Device.system.desktop){d.addStyleClass("sapUiSizeCompact");}},onSaveAndSaveAsPress:function(s){var a=this;if(a.oCoreApi.getSteps().length!==0){a.oUiApi.getLayoutView().setBusy(true);a.oCoreApi.readPaths(function(r,b,c){var p=r.paths;if(b!==undefined){a.getView().maxNumberOfSteps=b.getEntityTypeMetadata().maximumNumberOfSteps;a.getView().maxNumberOfPaths=b.getEntityTypeMetadata().maxOccurs;}if(c===undefined&&(typeof r==="object")){a.getSaveDialog(s,function(){},p);}else{var m=a.oCoreApi.createMessageObject({code:"6005",aParameters:[]});m.setPrevious(c);a.oCoreApi.putMessage(m);}a.oUiApi.getLayoutView().setBusy(false);});}else{var m=a.oCoreApi.createMessageObject({code:"6012",aParameters:[]});a.oCoreApi.putMessage(m);}},openPathGallery:function(I){var j={};var s=this;var i,m;s.oCoreApi.readPaths(function(d,a,b){if(b===undefined&&(typeof d==="object")){var g=d.paths;for(i=0;i<g.length;i++){var n=g[i].StructuredAnalysisPath.steps.length;var u=g[i].LastChangeUTCDateTime;var c=/\d+/g;var t=parseInt(u.match(c)[0],10);var e=((new Date(t)).toString()).split(' ');var f=e[1]+"-"+e[2]+"-"+e[3];g[i].title=g[i].AnalysisPathName;g[i].guid=g[i].AnalysisPath;g[i].StructuredAnalysisPath.noOfSteps=n;g[i].description=f+"  -   ("+s.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[n])+")";g[i].summary=g[i].AnalysisPathName+"- ("+f+") - ("+s.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[n])+")";}j={GalleryElements:g};if(I){s.openSavedPathGallery(j,s,"deleteAnalysisPath");}else{s.openSavedPathGallery(j,s,"pathGallery");}s.oUiApi.getLayoutView().setBusy(false);}else{m=s.oCoreApi.createMessageObject({code:"6005",aParameters:[]});m.setPrevious(b);s.oCoreApi.putMessage(m);s.oUiApi.getLayoutView().setBusy(false);}});},openSavedPathGallery:function(j,c,v){if(c.oPathGalleryDialog[v]===undefined||(c.oPathGalleryDialog[v]&&c.oPathGalleryDialog[v].bIsDestroyed)){c.oPathGalleryDialog[v]=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.apf.ui.reuse.view."+v,viewData:{oInject:c.oViewData}});}c.oPathGalleryDialog[v].getViewData().jsonData=j;var p=c.oPathGalleryDialog[v].getController().oDialog;if((!p)||(p&&!p.isOpen())){c.oPathGalleryDialog[v].getController().openPathGallery();}},doPrint:function(){var p=new sap.apf.ui.utils.Print(this.oViewData);p.doPrint();},getSaveDialog:function(s,r,p){var a=this;var h=this.oCoreApi.getTextNotHtmlEncoded("saveName");var b=this.oUiApi.getLayoutView().getController().oSavedPathName.getText();var m=new sap.ui.model.json.JSONModel();m.setData(p);if(b){if(this.oCoreApi.isDirty()){b=b.split('*')[1];}}this.oInput=new sap.m.Input({type:sap.m.InputType.Text,placeholder:h,showSuggestion:true,maxLength:100,suggestionItems:{path:"/",template:new sap.ui.core.Item({text:"{AnalysisPathName}",additionalText:"{AnalysisPath}"})}}).addStyleClass("textStyle");this.oInput.setModel(m);if(!s){this.oInput.destroySuggestionItems();}this.oInput.attachEvent("click",function(e){jQuery(e.currentTarget).attr('value','');});function _(v,i,c,V){a.oInput.setValueState(v);a.oInput.setShowValueStateMessage(i);a.saveDialog.getBeginButton().setEnabled(c);if(V){a.oInput.setValueStateText(V);}}this.oInput.attachLiveChange(function(d){var S=this.getValue();var c=new RegExp("[*]","g");if(S.trim()===""){_(sap.ui.core.ValueState.Error,true,false);}else{_(sap.ui.core.ValueState.None,false,true);}if((S.match(c)!==null)){var v=a.oCoreApi.getTextNotHtmlEncoded('invalidPathName');_(sap.ui.core.ValueState.Error,true,false,v);}a.oInput.setValue(S);});if(b!==(a.oCoreApi.getTextNotHtmlEncoded("unsaved"))){this.oInput.setValue(b);}this.analysisPathName=(a.oInput.getValue()).trim();if(a.saveDialog===undefined||(a.saveDialog&&a.saveDialog.bIsDestroyed)){a.saveDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:a.oCoreApi.getTextNotHtmlEncoded("save-analysis-path"),content:a.oInput,contentWidth:"110px",contentHeight:"110px",beginButton:new sap.m.Button({text:a.oCoreApi.getTextNotHtmlEncoded("ok"),enabled:false,press:function(){a.saveDialog.getBeginButton().setEnabled(false);a.saveDialog.getEndButton().setEnabled(false);var c=(a.oInput.getValue()).trim();a.saveAnalysisPath(c,r,s);a.saveDialog.close();}}),endButton:new sap.m.Button({text:a.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){a.saveDialog.close();}}),afterClose:function(){a.oUiApi.getLayoutView().setBusy(false);a.saveDialog.destroy();}}).addStyleClass("saveDialog");this.addCompactStyleClassForDialog(a.saveDialog);if(this.oInput.getValue()===b){a.saveDialog.getBeginButton().setEnabled(true);}}if(a.oCoreApi.getSteps().length>=1){if(!s&&b===(a.oCoreApi.getTextNotHtmlEncoded("unsaved"))){if(!a.saveDialog||(a.saveDialog&&!a.saveDialog.isOpen())){a.saveDialog.open();}}else if(s){if(!a.saveDialog||(a.saveDialog&&!a.saveDialog.isOpen())){a.saveDialog.open();}}else{a.saveAnalysisPath(b,r,s);}}},doOkOnNewAnalysisPath:function(){var s=this;this.isOpen=false;s.oCoreApi.readPaths(function(r,m,a){var S=true;var p=r.paths;if(m!==undefined){s.getView().maxNumberOfSteps=m.getEntityTypeMetadata().maximumNumberOfSteps;s.getView().maxNumberOfPaths=m.getEntityTypeMetadata().maxOccurs;}if(a===undefined&&(typeof r==="object")){s.getSaveDialog(S,function(){s.resetAnalysisPath();},p);}else{var M=s.oCoreApi.createMessageObject({code:"6005",aParameters:[]});M.setPrevious(a);s.oCoreApi.putMessage(M);}});},doOkOnOpenAnalysisPath:function(i){var s=this;this.isOpen=true;this.bIsPathGalleryWithDelete=i;s.oCoreApi.readPaths(function(r,m,a){var S=true;var p=r.paths;if(m!==undefined){s.getView().maxNumberOfSteps=m.getEntityTypeMetadata().maximumNumberOfSteps;s.getView().maxNumberOfPaths=m.getEntityTypeMetadata().maxOccurs;}if(a===undefined&&(typeof r==="object")){s.getSaveDialog(S,function(){return;},p);}else{var M=s.oCoreApi.createMessageObject({code:"6005",aParameters:[]});M.setPrevious(a);s.oCoreApi.putMessage(M);}});},getNewAnalysisPathDialog:function(){var s=this;if(this.oCoreApi.isDirty()&&s.oCoreApi.getSteps().length!==0){s.newDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:s.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new sap.m.Text({text:s.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("yes"),press:function(){s.doOkOnNewAnalysisPath();s.newDialog.close();}}),endButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){s.resetAnalysisPath();s.newDialog.close();}}),afterClose:function(){s.oUiApi.getLayoutView().setBusy(false);s.newDialog.destroy();}});this.addCompactStyleClassForDialog(s.newDialog);s.newDialog.setInitialFocus(s.newDialog);s.newDialog.open();}else{this.resetAnalysisPath();}},getOpenDialog:function(i){var s=this;s.newOpenDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:s.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new sap.m.Text({text:s.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("yes"),press:function(){s.doOkOnOpenAnalysisPath(s.bIsPathGalleryWithDelete);s.newOpenDialog.close();}}),endButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){s.resetAnalysisPath();s.openPathGallery(s.bIsPathGalleryWithDelete);s.newOpenDialog.close();}}),afterClose:function(){s.oUiApi.getLayoutView().setBusy(false);s.newOpenDialog.destroy();}});this.addCompactStyleClassForDialog(s.newOpenDialog);s.newOpenDialog.setInitialFocus(s.newOpenDialog);s.newOpenDialog.open();},getConfirmDialog:function(p){var s=this;var o=p||{};var a={success:o.success||function(){return;},fail:o.fail||function(){return;},msg:o.msg||""};s.confirmDialog=new sap.m.Dialog({title:s.oCoreApi.getTextNotHtmlEncoded("caution"),type:sap.m.DialogType.Message,content:new sap.m.Text({text:a.msg}).addStyleClass("textStyle"),beginButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("yes"),press:function(){s.overWriteAnalysisPath();s.confirmDialog.close();}}),endButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){var S=true;var d=s.oInput.getModel().getData();s.getSaveDialog(S,function(){return;},d);s.confirmDialog.close();}}),afterClose:function(){s.oUiApi.getLayoutView().setBusy(false);s.confirmDialog.destroy();}});this.addCompactStyleClassForDialog(s.confirmDialog);s.confirmDialog.open();},callbackforSave:function(f){f();},onOpenPathGallery:function(i){if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.getOpenDialog(i);}else{this.openPathGallery(i);}this.isOpen=false;},saveAnalysisPath:function(a,f,s){var b=this;this.saveCallback=f;this.analysisPathName=a;this.aData=b.oInput.getModel().getData();var u=false;this.guid="";for(var i=0;i<this.aData.length;i++){var d=this.aData[i].AnalysisPathName;if(this.analysisPathName===d){u=true;this.guid=this.aData[i].AnalysisPath;break;}}var p=u?this.aData.length:this.aData.length+1;var n=b.oCoreApi.getSteps().length;if(p>this.getView().maxNumberOfPaths){b.oCoreApi.putMessage(b.oCoreApi.createMessageObject({code:"6014"}));return false;}else if(n>this.getView().maxNumberOfSteps){b.oCoreApi.putMessage(b.oCoreApi.createMessageObject({code:"6015"}));return false;}if(!u){b.oSerializationMediator.savePath(b.analysisPathName,function(r,m,e){if(e===undefined&&(typeof r==="object")){b.oCoreApi.setDirtyState(false);b.oUiApi.getLayoutView().getController().setPathTitle();b.getSuccessToast(b.analysisPathName,false);if(typeof b.saveCallback==="function"){b.saveCallback();}}else{var M=b.oCoreApi.createMessageObject({code:"6006",aParameters:[b.analysisPathName]});M.setPrevious(e);b.oCoreApi.putMessage(M);}});}else{var c;if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){c=b.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(1,b.oUiApi.getLayoutView().getController().oSavedPathName.getText().length);}else{c=b.oUiApi.getLayoutView().getController().oSavedPathName.getText();}if(!s&&c===b.analysisPathName){b.overWriteAnalysisPath();}else{this.getConfirmDialog({msg:b.oCoreApi.getTextNotHtmlEncoded("path-exists",["'"+b.analysisPathName+"'"])});}}},getSuccessToast:function(p,i){var s=this;var m=s.oCoreApi.createMessageObject({code:i?"6017":"6016",aParameters:[p]});s.oCoreApi.putMessage(m);if(s.isOpen&&s.bIsPathGalleryWithDelete){s.openPathGallery(s.bIsPathGalleryWithDelete);}else if(s.isOpen){s.openPathGallery();}},overWriteAnalysisPath:function(){var s=this;var p=this.analysisPathName;var g=this.guid;s.oSerializationMediator.savePath(g,p,function(r,m,a){if(a===undefined&&(typeof r==="object")){s.oCoreApi.setDirtyState(false);s.oUiApi.getLayoutView().getController().setPathTitle();if(s.saveDialog&&s.saveDialog.isOpen()){s.saveDialog.close();}s.getSuccessToast(p,true);if(typeof s.saveCallback==="function"){s.saveCallback();}}else{var M=s.oCoreApi.createMessageObject({code:"6007",aParameters:[p]});M.setPrevious(a);s.oCoreApi.putMessage(M);}});},apfDestroy:function(){sap.apf.utils.checkAndCloseDialog(this.saveDialog);sap.apf.utils.checkAndCloseDialog(this.newOpenDialog);sap.apf.utils.checkAndCloseDialog(this.newDialog);sap.apf.utils.checkAndCloseDialog(this.confirmDialog);sap.apf.utils.checkAndCloseDialog(this.errorMsgDialog);sap.apf.utils.checkAndCloseDialog(this.noPathAddedDialog);if(this.deleteAnalysisPath!==undefined){sap.apf.utils.checkAndCloseDialog(this.deleteAnalysisPath.getController().oDialog);}if(this.pathGallery!==undefined){sap.apf.utils.checkAndCloseDialog(this.pathGallery.getController().oDialog);}}});});
sap.ui.predefine('sap/apf/utils/utils',['sap/ui/core/format/DateFormat',"sap/apf/utils/hashtable","sap/base/util/UriParameters","sap/m/ViewSettingsDialog"],function(u,H,U,V){'use strict';
function c(a){var n=parseInt(a,10);if(n<10){return"0"+n;}return a;}
var f;var s=0;var d={renderHeaderOfTextPropertyFile:function(a,m){var t=a.toLowerCase();var b=/^[0-9a-f]+$/;var i=b.test(t);if(!i||a.length!==32){m.putMessage(m.createMessageObject({code:"5409",aParameters:[a]}));t="<please enter valid translation uuid, if you want to upload into a SAP translation system>";}else{t=t.substring(0,8)+'-'+t.substring(8,12)+'-'+t.substring(12,16)+'-'+t.substring(16,20)+'-'+t.substring(20);}return"#FIORI: insert Fiori-Id\n"+"# __ldi.translation.uuid="+t+"\n"+"#ApfApplicationId="+a+"\n\n";},getUriParameters:function(){var a=new U(window.location.href);return a.mParams;},createPromise:function(v,a){var b=jQuery.Deferred();if(!a){b.resolve(v);}else{setTimeout(function(){b.resolve(v);},a);}return b.promise();},renderTextEntries:function(h,m){f=false;var k=h.getKeys();k.sort(function(a,b){var v=h.getItem(a);var e=h.getItem(b);if(v.LastChangeUTCDateTime<e.LastChangeUTCDateTime){return-1;}if(v.LastChangeUTCDateTime>e.LastChangeUTCDateTime){return 1;}return 0;});var l=k.length;var r='';var i;for(i=0;i<l;i++){r=r+d.renderEntryOfTextPropertyFile(h.getItem(k[i]),m);}return r;},renderEntryOfTextPropertyFile:function(t,m){var a,D;if(!f&&(!t.TextElementType||!t.MaximumLength)){f=true;m.putMessage(m.createMessageObject({code:"5408",aParameters:[t.TextElement]}));}var e="#"+(t.TextElementType||"<Add text type>")+","+(t.MaximumLength||"<Add maximum length>");if(t.TranslationHint&&t.TranslationHint!==""){e=e+':'+t.TranslationHint;}e=e+"\n"+t.TextElement+"="+t.TextElementDescription+"\n";var o=u.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});if(t.LastChangeUTCDateTime&&t.LastChangeUTCDateTime!==""){a=t.LastChangeUTCDateTime.replace(/\/Date\(/,'').replace(/\)\//,'');D=new Date(parseInt(a,10));}else{D=new Date();}e=e+"# LastChangeDate="+o.format(D)+'\n\n';return e;},eliminateDuplicatesInArray:function(m,w){m.check((w!==undefined&&typeof w==='object'&&w.hasOwnProperty('length')===true),'Error - aArray is undefined');var r=[];var i,j;for(i=0;i<w.length;i++){for(j=i+1;j<w.length;j++){if(w[i]===w[j]){j=++i;}}r.push(w[i]);}return r;},hashCode:function(v){var n=0;var i;var a=0;v=v.toString();var l=v.length;for(i=0;i<l;i++){a=v.charCodeAt(i);n=(17*n+a)<<0;}return Math.abs(n);},escapeOdata:function(v){if(typeof v==="string"){return v.replace("'","''");}return v;},json2javascriptFormat:function(v,t){var i;switch(t){case"Edm.Boolean":if(typeof v==="boolean"){return v;}if(typeof v==="string"){return v.toLowerCase()==="true";}return false;case"Edm.Decimal":case"Edm.Guid":case"Edm.Int64":case"Edm.String":return v;case"Edm.Int16":case"Edm.Int32":return parseInt(v,10);case"Edm.Single":case"Edm.Float":return parseFloat(v);case"Edm.Time":return v;case"Edm.DateTime":i=v.replace('/Date(','').replace(')/','');i=parseFloat(i);return new Date(i);case"Edm.DateTimeOffset":i=v.replace('/Date(','');i=i.replace(')/','');i=parseFloat(i);return new Date(i);default:return v;}},formatValue:function(a,p){function b(v){var k;var r=new RegExp("^[0-9]*$");if(v instanceof Date){return v;}if(typeof v==='string'){if(v.substring(0,6)==='/Date('){k=v.replace('/Date(','');k=k.replace(')/','');k=parseInt(k,10);return new Date(k);}else if(v.length===8&&r.test(v)){return d.convertFiscalYearMonthDayToDate(v);}return new Date(v);}return undefined;}var D;var F="";if(a===null||a===undefined){return"null";}var t=p.dataType.type;switch(t){case"Edm.String":if(p["sap-semantics"]==="yearmonthday"){if(typeof a==='object'&&a instanceof Date){var y=a.getUTCFullYear()+"";var m=c(a.getUTCMonth()+1+"");var e=c(a.getUTCDate()+"");a=y+m+e;}}F="'"+String(a).replace(/'/g,"''")+"'";break;case"Edm.Time":if(typeof a==='number'){D=new Date();D.setTime(a);var h=D.getUTCHours();if(h<10){h='0'+h;}var i=D.getUTCMinutes();if(i<10){i='0'+i;}var j=D.getUTCSeconds();if(j<10){j='0'+j;}F="time'"+h+':'+i+':'+j+"'";}else{F="time'"+a+"'";}break;case"Edm.DateTime":if(!d.formatValue.oDateTimeFormat){d.formatValue.oDateTimeFormat=u.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"});}D=b(a);F=d.formatValue.oDateTimeFormat.format(D,true);break;case"Edm.DateTimeOffset":if(!d.formatValue.oDateTimeOffsetFormat){d.formatValue.oDateTimeOffsetFormat=u.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"});}D=b(a);F=d.formatValue.oDateTimeOffsetFormat.format(D,true);break;case"Edm.Guid":F="guid'"+a+"'";break;case"Edm.Decimal":F=a+"M";break;case"Edm.Int64":F=String(a)+"L";break;case"Edm.Single":F=a+"f";break;case"Edm.Binary":F="binary'"+a+"'";break;default:F=a;break;}return F;},extractFunctionFromModulePathString:function(F){if(jQuery.isFunction(F)){return F;}var D,n,a;n=F.split('.');D=window;var i;for(i=0;i<n.length-1;i++){D=D[n[i]];if(!D){return undefined;}}a=n[n.length-1];return D[a];},isValidGuid:function(a){return/^[0-9A-F]{32}$/.test(a);},isValidPseudoGuid:function(a){return/^[0-9A-F]{32}$/.test(a);},createPseudoGuid:function(l){if(!l&&l!==0){l=32;}var a=Date.now().toString();var b=l-a.length;a+=d.createRandomNumberString(b);return a;},createRandomNumberString:function(l){var r="";var a,m,b;while(r.length<l){a=Math.min(10,l-r.length);m=Math.pow(10,a);b=g(new Date().getTime());r+=Math.floor(b*m);}return r;},migrateConfigToCategoryStepAssignment:function(a,i){var H=(i.constructors&&i.constructors.Hashtable)||H;var b=new H(i.instances.messageHandler);if(a.steps){a.steps.forEach(function(e){if(e.categories){e.categories.forEach(function(h){var j=b.getItem(h.id);if(!j){j={category:h.id,steps:[{type:"step",id:e.id}]};b.setItem(h.id,j);}else{j.steps.push({type:"step",id:e.id});}});delete e.categories;}});}if(a.categories){a.categories.forEach(function(e){if(!e.steps){var h=b.getItem(e.id);if(h){e.steps=h.steps;}else{e.steps=[];}}});}},getComponentNameFromManifest:function(m){var n;if(m["sap.ui5"]&&m["sap.ui5"].componentName){n=m["sap.ui5"].componentName;}else{n=m["sap.app"].id;}if(n.search('Component')>-1){return n;}return n+'.Component';},validateSelectedValues:function(a,b){var r={valid:[],invalid:[]};if(!a||!jQuery.isArray(a)||a.length===0){return r;}if(!b||!jQuery.isArray(b)||b.length===0){r.invalid=a;return r;}a.forEach(function(e){if(jQuery.inArray(e,b)===-1){r.invalid.push(e);}else{r.valid.push(e);}});return r;},extractPathnameFromUrl:function(a){var e='a';var p;var b=document.createElement(e);b.href=a;if(b.pathname){p=b.pathname;if(p&&p[0]!=='/'){p='/'+p;}return p;}return a;},extractOdataErrorResponse:function(r){var a;if(typeof r==='string'){a=JSON.parse(r);}else{a=r;}var m=(a&&a.error&&a.error.message&&a.error.message.value)||(a&&a.error&&a.error.message&&a.error.message)||r;if(a&&a.error&&a.error.innererror&&a.error.innererror.errordetails){m=m+'\n';a.error.innererror.errordetails.forEach(function(b){m=m+b.message+'\n';});}else if(a&&a.error&&a.error.details){m=m+'\n';a.error.details.forEach(function(b){m=m+b.message+'\n';});}return m;},checkAndCloseDialog:function(a){if(a!==undefined){if(a instanceof V){a.destroy();}else if(a.isOpen()){a.close();}}},convertFiscalYearMonthDayToDate:function(y){var a=parseInt(y.substr(0,4),10);var m=parseInt(y.substr(4,2),10);var b=parseInt(y.substr(6,2),10);return new Date(Date.UTC(a,m-1,b));},convertFiscalYearMonthDayToDateString:function(y){return d.convertFiscalYearMonthDayToDate(y).toUTCString();},convertDateListToInternalFormat:function(a,p){function b(h){var n=parseInt(h,10);if(n<10){return"200"+n;}else if(n<100){return"20"+n;}return h;}if(!a||!a.length){return a;}var e=[];a.forEach(function(h){var y,m,i,j,k;if(new RegExp('^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]+$').test(h)){j=h.split(".");i=c(j[0]);m=c(j[1]);y=b(j[2]);}else if(new RegExp("^[0-9]{1,2}/[0-9]{1,2}/[0-9]+$").test(h)){j=h.split("/");m=c(j[0]);i=c(j[1]);y=b(j[2]);}else if(new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}").test(h)){y=h.slice(0,4);m=h.slice(5,7);i=h.slice(8,10);}if(y!==undefined&&m!==undefined&&i!==undefined){if(p.getAttribute('type')==="Edm.String"){e.push(y+m+i);}else{k=new Date(Date.UTC(parseInt(y,10),parseInt(m,10)-1,parseInt(i,10)));e.push(k);}}else{e.push(h);}});return e;},convertToExternalFormat:function(i,m){var t=m.getAttribute("type");var a,b;var e;switch(t){case"Edm.DateTime":e=m.getAttribute("sap:display-format");if(e==="Date"&&i instanceof Date){a=u.getDateInstance({style:"short"});return a.format(i,true);}else if(e==="Date"&&(typeof i==='string')){if(i.length===8){b=d.convertFiscalYearMonthDayToDate(i);a=u.getDateInstance({style:"short"});return a.format(b,true);}b=new Date(Date.parse(i));if(isNaN(b.getTime())){return i;}a=u.getDateInstance({style:"short"});return a.format(b,true);}return i.toString();case"Edm.String":e=m.getAttribute('sap:semantics');if(e==="yearmonthday"){if(i.length===8){b=d.convertFiscalYearMonthDayToDate(i);}else{b=new Date(Date.parse(i));}if(isNaN(b.getTime())){return i;}a=u.getDateInstance({style:"short"});return a.format(b,true);}return i;default:return i;}},sortByProperty:function(a,p,b){if(a.length===0){return[];}var e=b?b.type:undefined;var h=a[0][p];var m;if(typeof h==='number'){return a.sort(function(v,i){return v[p]-i[p];});}else if(typeof h==='object'&&h instanceof Date){return a.sort(function(v,i){return v[p].getTime()-i[p].getTime();});}else if(typeof h==='string'){switch(e){case"Edm.DateTime":return a.sort(function(v,i){return Date.parse(v[p])-Date.parse(i[p]);});case"Edm.String":m=b["sap:semantics"];if(m==="yearmonthday"&&h.length===8){return a.sort(function(v,i){return v[p].localeCompare(i[p]);});}else if(m==="yearmonthday"){return a.sort(function(v,i){return Date.parse(v[p])-Date.parse(i[p]);});}return a.sort(function(v,i){return v[p].localeCompare(i[p]);});default:return a.sort(function(v,i){return v[p].localeCompare(i[p]);});}}},isPropertyTypeWithDateSemantics:function(p){var t=p['type'];var a=p['sap:display-format'];return(t==='Edm.DateTime'&&a==='Date')||(t==='Edm.String'&&p['sap:semantics']==='yearmonthday');}};
function g(i){s++;var r,a,b;i=s.toString()+i.toString();r=d.hashCode(i);a=r.toString().length;b=r/Math.pow(10,a);return b;}
Object.keys(d).forEach(function(k){sap.apf.utils[k]=d[k];});return d;},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/apf/cloudFoundry/analysisPathProxy',['sap/apf/cloudFoundry/utils'],function(U){'use strict';var A=function(i){var m=i.instances.messageHandler;var c=i.instances.coreApi;var a=i.manifests.manifest;var d=a["sap.app"].dataSources;var b=d&&d["apf.runtime.analysisPaths"]&&d["apf.runtime.analysisPaths"].uri;var e={"Content-Type":"application/json; charset=utf-8"};var r=U.resolveUri.bind(this,i.instances.coreApi);this.openPath=function(n,o){var u=r(b+"/"+n+"?$select=AnalysisPathName,SerializedAnalysisPath");l({method:"GET",url:u,dataType:"json",success:function(p){var q={AnalysisPathName:p.analysisPath.analysisPathName,SerializedAnalysisPath:JSON.parse(p.analysisPath.serializedAnalysisPath)};o({path:q,status:"successful"},g());},error:function(p,t,q,M){var s=f(p,"5252",[n],M,m);m.putMessage(s);},headers:e});};this.createPath=function(n,o,s){var p=j();if(p===undefined){o({status:"failed"},undefined,m.createMessageObject({code:5075}));return;}var q=k(s);var t={analysisPathName:n,analyticalConfiguration:p,structuredAnalysisPath:JSON.stringify(q),serializedAnalysisPath:JSON.stringify(s)};l({method:"POST",url:r(b),data:JSON.stringify(t),dataType:"json",success:function(u){o({AnalysisPath:u.analysisPath,status:"successful"},g());},error:function(u,v,w,M){var x=h(u,M,m);o({status:"failed"},undefined,x);},headers:e});};this.modifyPath=function(n,o,p,s){var q=k(s);var t={analysisPathName:o,structuredAnalysisPath:JSON.stringify(q),serializedAnalysisPath:JSON.stringify(s)};l({method:"PUT",url:r(b+"/"+n),data:JSON.stringify(t),dataType:"json",success:function(){p({AnalysisPath:n,status:"successful"},g());},error:function(u,v,w,M){var x=h(u,M,m);p({status:"failed"},undefined,x);},headers:e});};this.deletePath=function(n,o){l({method:"DELETE",url:r(b+"/"+n),success:function(){o({status:"successful"},g());},error:function(p,t,q,M){var s=h(p,M,m);o({status:"failed"},undefined,s);}});};this.readPaths=function(n){function t(p){var q=[];if(p.analysisPaths!==null){p.analysisPaths.forEach(function(s){q.push({AnalysisPath:s.analysisPath,AnalysisPathName:s.analysisPathName,LastChangeUTCDateTime:s.lastChangeUtcDateTime,StructuredAnalysisPath:JSON.parse(s.structuredAnalysisPath)});});}return q;}var o=j();if(o===undefined){n({status:"failed"},undefined,m.createMessageObject({code:5075}));return;}var u=r(b+"?$select=AnalysisPath,AnalysisPathName,LastChangeUtcDateTime,StructuredAnalysisPath&$filter=(AnalyticalConfiguration%20eq%20'"+o+"')");l({url:u,dataType:"json",success:function(p){var q=t(p);n({paths:q,status:"successful"},g());},error:function(p,q,s,M){var v=h(p,M,m);n({status:"failed"},undefined,v);},headers:e});};function g(){return undefined;}function f(n,o,p,q,m){var s=m.createMessageObject({code:o,aParameters:p});var t=h(n,q,m);s.setPrevious(t);return s;}function h(n,p,m){var t=m.createMessageObject({code:"5214",aParameters:[n.status,n.statusText]});if(p){t.setPrevious(p);}return t;}function j(){var n=c.getStartParameterFacade().getAnalyticalConfigurationId();return n&&n.configurationId;}function k(s){var n=[];var o=s.path.steps;o.forEach(function(p){n.push({stepId:p.stepId,selectedRepresentationId:p.binding.selectedRepresentationId});});return{steps:n,indexOfActiveStep:s.path.indicesOfActiveSteps[0]};}function l(n){i.instances.ajaxHandler.send(n);}};sap.apf=sap.apf||{};sap.apf.cloudFoundry=sap.apf.cloudFoundry||{};sap.apf.cloudFoundry.AnalysisPathProxy=A;return A;},true);
sap.ui.predefine('sap/apf/cloudFoundry/modelerProxy',['sap/apf/utils/proxyTextHandlerForLocalTexts','sap/apf/cloudFoundry/utils'],function(P,c){'use strict';
function M(s,a){var b=a.instances.messageHandler;var d=a.manifests.manifest;var e=d["sap.app"].dataSources;var f=e&&e["apf.designTime.customer.applications"]&&e["apf.designTime.customer.applications"].uri;var g=e&&e["apf.designTime.customer.analyticalConfigurations"]&&e["apf.designTime.customer.analyticalConfigurations"].uri;var h=e&&e["apf.designTime.customer.applicationAndAnalyticalConfiguration"]&&e["apf.designTime.customer.applicationAndAnalyticalConfiguration"].uri;var t=e&&e["apf.designTime.textFileAndAnalyticalConfigurations"]&&e["apf.designTime.textFileAndAnalyticalConfigurations"].uri;var j=e&&e["apf.designTime.textFiles"]&&e["apf.designTime.textFiles"].uri;var v=e&&e["apf.designTime.vendor.importToCustomerLayer"]&&e["apf.designTime.vendor.importToCustomerLayer"].uri;var k=e&&e["apf.designTime.vendor.analyticalConfigurations"]&&e["apf.designTime.vendor.analyticalConfigurations"].uri;var p=a.instances.proxyTextHandlerForLocalTexts;var r=c.resolveUri.bind(this,a.instances.coreApi);function l(){return{};}function n(i){var L=JSON.parse(i.SerializedAnalyticalConfiguration);delete i.SerializedAnalyticalConfiguration;L.configHeader=i;i.SerializedAnalyticalConfiguration=JSON.stringify(L);return i;}this.create=function(i,L,N){if(i==='application'){o(L,N);}else if(i==='configuration'&&L.CreationUTCDateTime&&L.LastChangeUTCDateTime){L=n(L);var O=L.AnalyticalConfiguration;K({type:"HEAD",url:r(g+"/"+O),success:function(){var Q=b.createMessageObject({code:"5238",aParams:[O]});N(undefined,undefined,Q);},error:function(Q,R,S,T){if(Q.status===404){C(L,function(V,U){N(L,V,U);});}else{var U=F(Q,T,b);N(undefined,undefined,U);}}});}else if(i==='configuration'){L=n(L);q(L,N);}else if(i==='texts'){u(L,N);}else{b.check(false,'The create operation on entity set '+i+' is currently not supported by the modeler proxy.');}};function o(i,L){var N={applicationName:i.ApplicationName,textFile:{inDevelopmentLanguage:""}};var O="POST";var Q=r(f);if(i.Application){O="PUT";Q=Q+'/'+i.Application;}K({type:O,url:Q,data:JSON.stringify(N),dataType:"json",success:function(R,S,T){if(O==='POST'&&R&&!jQuery.isEmptyObject(R)){var U={ApplicationName:i.ApplicationName,Application:R.application};L(U,l(),undefined);}else if(O==='PUT'){var U={ApplicationName:i.ApplicationName,Application:i.Application};L(U,l(),undefined);}else{var V=c.buildErrorMessage(T,"5227",[],undefined,b);L(undefined,l(),V);}},error:function(R,S,T,U){var V=c.buildErrorMessage(R,"5227",[],U,b);L(undefined,l(),V);},async:true});}function q(i,L){var N=i.Application;var O={analyticalConfigurationName:i.AnalyticalConfigurationName,application:N,serializedAnalyticalConfiguration:i.SerializedAnalyticalConfiguration,textFile:{inDevelopmentLanguage:p.createTextFileOfApplication(N)}};K({type:"POST",url:r(g),data:JSON.stringify(O),dataType:"json",success:function(Q,S,R){if(Q&&!jQuery.isEmptyObject(Q)){var T={AnalyticalConfiguration:Q.analyticalConfiguration,AnalyticalConfigurationName:O.analyticalConfigurationName};L(T,l(),undefined);}else{var U=c.buildErrorMessage(R,"5226",[N],undefined,b);L(undefined,l(),U);}},error:function(Q,S,R,T){var U=c.buildErrorMessage(Q,"5226",[N],T,b);L(undefined,l(),U);},async:true});}function u(i,L){var N=p.addText(i);i.TextElement=N;L(i,l());}this.readCollection=function(i,L,N,O,Q){if(i==='application'){w(L);}else if(i==='configuration'){x(L,Q);}else if(i==='texts'){L([],undefined);}else{b.check(false,'The read collection operation on entity set '+i+' is currently not supported by the modeler proxy.');}};function w(i){var L=r(f+"?$select=Application,ApplicationName");K({type:"GET",url:L,success:function(N,S,O){if(N&&!jQuery.isEmptyObject(N)){var Q=[];if(N.applications!==null){N.applications.forEach(function(T){Q.push({Application:T.application,ApplicationName:T.applicationName,SemanticObject:""});});}i(Q,l(),undefined);}else{var R=c.buildErrorMessage(O,"5229",[],undefined,b);i(undefined,l(),R);}},error:function(N,S,O,Q){var R=c.buildErrorMessage(N,"5229",[],Q,b);i(undefined,l(),R);},async:true});}function x(i,L){var T=L.getFilterTermsForProperty('Application');var N=T[0].getValue();var O=r(t+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration&$filter="+L.toUrlParam());K({type:"GET",url:O,success:function(Q,S,R){if(Q&&!jQuery.isEmptyObject(Q)){var U=[];if(Q.analyticalConfigurations!==null){Q.analyticalConfigurations.forEach(function(W){U.push({AnalyticalConfiguration:W.analyticalConfiguration,Application:N,AnalyticalConfigurationName:W.analyticalConfigurationName,SerializedAnalyticalConfiguration:W.serializedAnalyticalConfiguration});});}p.initApplicationTexts(N,Q.textFile.inDevelopmentLanguage);i(U,l(),undefined);}else{var V=c.buildErrorMessage(R,"5223",[N],undefined,b);i(undefined,l(),V);}},error:function(Q,S,R,U){var V=c.buildErrorMessage(Q,"5223",[N],U,b);i(undefined,l(),V);},async:true});}this.readEntity=function(i,L,N,O,Q){if(i==='configuration'){var R=N[0].value;if(O&&O.length===2&&jQuery.inArray("CreationUTCDateTime",O)>-1&&jQuery.inArray("LastChangeUTCDateTime",O)>-1){y(R,Q,L);}else{z(R,Q,L);}}else{b.check(false,'The read single entity operation on entity set '+i+' is currently not supported by the modeler proxy.');}};function y(i,L,N){var O=r(g+"/"+i+"?$select=Application,CreationUtcDateTime,LastChangeUtcDateTime,ServiceInstance");K({type:"GET",url:O,success:function(Q,S,R){if(Q&&!jQuery.isEmptyObject(Q)){var T={CreationUTCDateTime:Q.analyticalConfiguration.creationUtcDateTime,LastChangeUTCDateTime:Q.analyticalConfiguration.lastChangeUtcDateTime};N(T,l());}else{var U=c.buildErrorMessage(R,"5221",[L,i],undefined,b);N(undefined,l(),U);}},error:function(Q,S,R,T){var U=c.buildErrorMessage(Q,"5221",[L,i],T,b);N(undefined,l(),U);},async:true});}function z(i,L,N){var O=r(g+"/"+i+"?$select=AnalyticalConfigurationName,SerializedAnalyticalConfiguration");K({type:"GET",url:O,success:function(Q,S,R){if(Q&&!jQuery.isEmptyObject(Q)){var T={Application:L,SerializedAnalyticalConfiguration:Q.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:i};N(T,l(),undefined);}else{var U=c.buildErrorMessage(R,"5221",[L,i],undefined,b);N(undefined,l(),U);}},error:function(Q,S,R,T){var U=c.buildErrorMessage(Q,"5221",[L,i],T,b);N(undefined,l(),U);},async:true});}this.update=function(i,L,N,O){if(i==='application'){var Q=O[0].value;A(L,Q,N);}else if(i==='configuration'&&L.CreationUTCDateTime&&L.LastChangeUTCDateTime){L=n(L);C(L,N);}else if(i==='configuration'){L=n(L);B(L,N);}else{b.check(false,'The update operation on entity set '+i+' is currently not supported by the modeler proxy.');}};function A(i,L,N){var O={applicationName:i.ApplicationName};var Q=r(f+'/'+L);K({type:"PUT",url:Q,data:JSON.stringify(O),dataType:"json",success:function(R,S,T){N(l(),undefined);},error:function(R,S,T,U){var V=c.buildErrorMessage(R,"5228",[L],U,b);N(l(),V);},async:true});}function B(i,L){var N=JSON.parse(i.SerializedAnalyticalConfiguration);var O=i.AnalyticalConfiguration;var Q=r(g+'/'+O);var R=i.Application;N.configHeader={Application:R,AnalyticalConfiguration:O,AnalyticalConfigurationName:i.AnalyticalConfigurationName,CreationUTCDateTime:i.CreationUTCDateTime,LastChangeUTCDateTime:i.LastChangeUTCDateTime};var S={analyticalConfigurationName:i.AnalyticalConfigurationName,serializedAnalyticalConfiguration:JSON.stringify(N),textFile:{inDevelopmentLanguage:p.createTextFileOfApplication(R)}};K({type:"PUT",url:Q,data:JSON.stringify(S),dataType:"json",success:function(T,U,V){L(l(),undefined);},error:function(T,U,V,W){var X=c.buildErrorMessage(T,"5233",[R,O],W,b);L(l(),X);},async:true});}function C(i,L){var N=JSON.parse(i.SerializedAnalyticalConfiguration);var O=N.configHeader.AnalyticalConfiguration;var Q=r(h+'/'+O);var R=i.Application;var S={analyticalConfigurationName:i.AnalyticalConfigurationName,application:R,serializedAnalyticalConfiguration:i.SerializedAnalyticalConfiguration};K({type:"PUT",url:Q,data:JSON.stringify(S),dataType:"json",success:function(T,U,V){L(l(),undefined);},error:function(T,U,V,W){var X=c.buildErrorMessage(T,"5233",[R,O],W,b);L(l(),X);},async:true});}this.remove=function(i,L,N,O,Q,R){if(i==='application'){var S=L[0].value;D(S,N);}else if(i==='configuration'){var T=L[0].value;E(T,Q,N);}else{b.check(false,'The delete operation on entity set '+i+' is currently not supported by the modeler proxy.');}};function D(i,L){var N=r(f+'/'+i);K({type:"DELETE",url:N,success:function(O,S,Q){L(l(),undefined);},error:function(O,S,Q,R){var T=c.buildErrorMessage(O,"5237",[i],R,b);L(l(),T);},async:true});}function E(i,L,N){var O=r(g+'/'+i);K({type:"DELETE",url:O,success:function(Q,S,R){N(l(),undefined);},error:function(Q,S,R,T){var U=c.buildErrorMessage(Q,"5225",[L,i],T,b);N(l(),U);},async:true});}this.doChangeOperationsInBatch=function(i,L,N,O){i.forEach(function(Q){if(Q.entitySetName!=='texts'){b.check(false,'The create/update/delete operation in batch on entity set '+Q.entitySetName+' is not supported by the modeler proxy.');}Q.application=N;});this._readConfigurationListAndTextFile(N).then(function(Q){var R=Q.textFile.inDevelopmentLanguage;this._initText(N,R);this._applyChangesOnTextFile(i);var S=this._createTextFileOfApplication(N);this._updateRemoteTextFile(N,'DEV',S,O).then(function(){L(undefined);},function(T){L(T);});}.bind(this),function(Q){L(Q);});};this._readConfigurationListAndTextFile=function(i){var L="'";var N=new Promise(function(O,Q){var R=r(t+'?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration'+'&$filter=(Application%20eq%20'+L+i+L+')');K({type:"GET",url:R,success:function(S,T,U){var V=[];if(S.analyticalConfigurations!==null){S.analyticalConfigurations.forEach(function(X){V.push({analyticalConfiguration:X.analyticalConfiguration,analyticalConfigurationName:X.analyticalConfigurationName,serializedAnalyticalConfiguration:X.serializedAnalyticalConfiguration});});}var W={analyticalConfigurations:V,textFile:{inDevelopmentLanguage:S.textFile.inDevelopmentLanguage}};O(W);},error:function(S,T,U,V){var W=c.buildErrorMessage(S,"5222",[i],V,b);Q(W);},async:true});});return N;};this._initText=function(i,L){p.initApplicationTexts(i,L);};this._applyChangesOnTextFile=function(i){i.forEach(function(L){if(L.entitySetName==='texts'){switch(L.method){case"POST":var N=L.data;this._createOrUpdateLocalText(N);break;case"PUT":var O=L.data;this._createOrUpdateLocalText(O);break;case"DELETE":var Q=L.application;var R=L.inputParameters[0].value;this._deleteLocalText(Q,R);break;default:b.check(false,'The method '+L.method+' is not supported during text processing in batch mode by the modeler proxy.');break;}}else{b.check(false,'The create/update/delete operation on entity set '+L.entitySetName+' is not supported by the modeler proxy.');}}.bind(this));};this._createTextFileOfApplication=function(i){return p.createTextFileOfApplication(i);};this._createOrUpdateLocalText=function(i){p.addText(i);};this._deleteLocalText=function(i,L){var N={application:i,inputParameters:[{value:L}]};p.removeText(N);};this._updateRemoteTextFile=function(i,L,N,O){var Q=new Promise(function(R,S){var T;if(O===true){T=r(j+'/'+i);}else{T=r(j+'/'+i+'/'+L);}var U={serializedTextFile:N};K({type:"PUT",data:JSON.stringify(U),url:T,success:function(V,W,X){R();},error:function(V,W,X,Y){var Z=c.buildErrorMessage(V,"5230",[i],Y,b);S(Z);},async:true});});return Q;};this.readCollectionsInBatch=function(i,L){var N=i[0];b.check(N.entitySetName==='configuration',"wrong usage, only 'configuration' is allowed");var T=N.filter.getFilterTermsForProperty('Application');var O=T[0].getValue();function Q(){function R(S,U,V){if(V){L(undefined,V);}else{var W=[];W.push(S);W.push(p.getTextElements(O));L(W);}}return R;}this.readCollection(N.entitySetName,Q(),N.inputParameters,N.selectList,N.filter);};function F(i,L,b){var N=b.createMessageObject({code:"5214",aParameters:[i.status,i.statusText]});if(L){N.setPrevious(L);}return N;}this.importVendorContent=function(i,L,N,O,Q){this.readAllConfigurationsFromVendorLayer().done(function(R){G(i,L,N,O,Q,R);}).fail(function(R){O(undefined,undefined,R);});};function G(L,N,O,Q,R,S){var i;var T,U;var V=L+"."+N;for(i=0;i<S.length;i++){if(S[i].value===V){U=S[i].configurationText;T=S[i].applicationText;break;}}K({type:"HEAD",url:r(g+"/"+N),success:function(){O(X,Y,U);},error:function(Z,$,_,a1){if(Z.status===404){I(N,W);}else{var b1=F(Z,a1,b);Q(undefined,undefined,b1);}}});function W(Z,$,_){if(!_){R(L,T);}Q(Z,$,_);}function X(){I(N,Q);}function Y(Z){var $=r(k+"/"+N+"?$select=SerializedAnalyticalConfiguration");K({type:"GET",url:$,success:function(_){H(L,Z,_.serializedAnalyticalConfiguration,Q);},error:function(_,a1,b1,c1){var d1=F(_,c1,b);Q(undefined,undefined,d1);}});}}function H(i,L,N,O){var Q=r(g);var R={analyticalConfigurationName:L,application:i,serializedAnalyticalConfiguration:N};K({type:"POST",url:Q,dataType:"json",data:JSON.stringify(R),success:function(R){O(R.analyticalConfiguration);},error:function(S,T,U,V){var W=F(S,V,b);O(undefined,undefined,W);}});}function I(i,L){K({type:"PUT",url:r(v+"/"+i),contentType:'application/x-www-form-urlencoded',success:function(){L(i);},error:function(N,O,Q,R){var S=F(N,R,b);L(undefined,undefined,S);}});}var J;this.readAllConfigurationsFromVendorLayer=function(){var i=jQuery.Deferred();if(J){i.resolve(J);}else{K({url:r(k+"?$select=Application,ApplicationName,AnalyticalConfiguration,AnalyticalConfigurationName"),success:function(L){var N=[];if(L!==null){L.forEach(function(O){N.push({configurationText:O.analyticalConfigurationName,applicationText:O.applicationName,value:O.application+'.'+O.analyticalConfiguration});});}J=N;i.resolve(N);},error:function(L,N,O,Q){var R=F(L,Q,b);var S=b.createMessageObject({code:'5231'});S.setPrevious(R);i.reject(S);}});}return i.promise();};function K(S){return a.instances.ajaxHandler.send(S);}}
var m={ModelerProxy:M};return m;},true);
sap.ui.predefine('sap/apf/cloudFoundry/runtimeProxy',['sap/apf/cloudFoundry/utils'],function(U){'use strict';
function R(s,i){var m=i.instances.messageHandler;var c=i.instances.coreApi;var a=i.manifests.manifest;var d=a["sap.app"].dataSources;var l=sap.ui.getCore().getConfiguration().getLanguage();var b={"Content-Type":"application/json; charset=utf-8","Accept-Language":l};var e=d&&d["apf.runtime.analyticalConfigurationAndTextFiles"]&&d["apf.runtime.analyticalConfigurationAndTextFiles"].uri;if(!e){m.putMessage(m.createMessageObject({code:"5236",aParameters:["apf.runtime.analyticalConfigurationAndTextFiles"]}));}var r=U.resolveUri.bind(this,i.instances.coreApi);function g(){return{};}this.readEntity=function(f,h,j){m.check(f==='configuration');var k=j[0].value;var t=this;this.textFiles=undefined;var u=r(e+"/"+k);c.ajax({url:u,success:function(n){var o=JSON.parse(n.analyticalConfiguration.serializedAnalyticalConfiguration);var p=o.configHeader&&o.configHeader.Application;var q={SerializedAnalyticalConfiguration:n.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:k,Application:p,AnalyticalConfigurationName:n.analyticalConfiguration.analyticalConfigurationName};t.textFiles=n.textFiles;h(q,g());},error:function(n,o,p,M){var q=m.createMessageObject({code:"5057",aParameters:[u]});if(M){q.setPrevious(M);}h(undefined,g(),q);},headers:b});};this.readCollection=function(f,h,j,k,n){m.check(f==="texts");var t=n.getFilterTermsForProperty('Application');var o=t[0].getValue();if(!this.textFiles){h(undefined,g(),m.createMessageObject({code:"5222",aParameters:[o]}));return;}var p=U.mergeReceivedTexts(this.textFiles,m);h(p.texts,g(),p.messageObject);};}
sap.apf.cloudFoundry.RuntimeProxy=R;return R;},true);
sap.ui.predefine('sap/apf/cloudFoundry/uiHandler',['sap/apf/cloudFoundry/ui/sharedialog/showShareDialog','sap/apf/cloudFoundry/ui/valuehelp/showValueHelp','sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation','sap/apf/cloudFoundry/ui/utils/LaunchPageUtils'],function(s,a,b,L){'use strict';
function i(c){var d=c.getApi();var e=d.getStartParameterFacade();var f=e.getAnalyticalConfigurationId().configurationId;var B=e.getParameter(L.BOOKMARK_LINK_PARAMETERS.BOOKMARK);if(f&&B=="true"){b.show(d,e);}}
return{showShareDialog:s.show,showValueHelp:a.show,initRuntime:i};},true);
sap.ui.predefine('sap/apf/cloudFoundry/utils',['sap/apf/core/messageObject','sap/apf/utils/hashtable','sap/apf/utils/parseTextPropertyFile'],function(M,H,p){'use strict';H=H||sap.apf.utils.Hashtable;p=p||sap.apf.utils.parseTextPropertyFile;
function g(){return["inRequestedLanguage","inAlternateLanguage","inEnglish","inDevelopmentLanguage"];}
var m={createErrorMessageObject:function(a,e){var b=new M(a);var c="";if(e){e.forEach(function(d){c=c+d+' ';});b.setPrevious(new M({code:'5220',aParameters:[c]}));}return b;},buildErrorMessage:function(j,a,b,c,d){var t=d.createMessageObject({code:"5214",aParameters:[j.status,j.statusText]});var e=d.createMessageObject({code:a,aParameters:b});if(c){e.setPrevious(c);c.setPrevious(t);}else{e.setPrevious(t);}return e;},mergeReceivedTexts:function(t,a){var e=undefined;var b=new H(a);var l=g();l.forEach(function(d){var f=t[d];if(!f||f==="null"){return;}var h=p(f,{instances:{messageHandler:a}});var i;if(h.Messages.length>0){e=e||new M({code:'5416'});i=e;h.Messages.forEach(function(j){i.setPrevious(j);i=j;});}h.TextElements.forEach(function(j){if(j.TextElement&&!b.hasItem(j.TextElement)){b.setItem(j.TextElement,j);}});});var c=[];b.getKeys().forEach(function(k){c.push(b.getItem(k));});return{texts:c,messageObject:e};},resolveUri:function r(c,u){if(c&&c.getComponent&&c.getComponent()){return c.getComponent().getManifestObject().resolveUri(u);}return u;}};sap.apf.cloudFoundry=sap.apf.cloudFoundry||{};return m;});
sap.ui.predefine('sap/apf/core/layeredRepositoryProxy',["sap/apf/utils/utils","sap/apf/core/constants","sap/apf/utils/hashtable","sap/apf/abap/LrepConnector","sap/apf/utils/parseTextPropertyFile","sap/ui/thirdparty/jquery"],function(u,c,h,L,p,q){"use strict";
sap.apf.core.LayeredRepositoryProxy=function(s,a){var b=a.instances.coreApi;var d;var m=a.instances.messageHandler;var n='sap/apf/dt';var t='text.properties';var e=new sap.apf.utils.Hashtable(a.instances.messageHandler);var f=new sap.apf.utils.Hashtable(a.instances.messageHandler);var g;var j=false;this.getConnector=function(){return d;};this.readEntity=function(T,U,V,W,X,Y,Z){var $=V[0].value;var _=A(X);var a1=[];var b1=false;var c1=1;var d1=0;var e1;var f1;var g1;var i;var h1;var i1;var j1;var k1;var l1=x(Y);var m1;m.check(T==='configuration',"layered repository proxy - only read entity of configuration supported");if(Z&&Z.noMetadata){d.getStaticResource(_,$,'apfconfiguration').then(function(r1){g1={Application:X};k1=r1.response;if(typeof k1==='string'){g1.SerializedAnalyticalConfiguration=k1;}else{g1.SerializedAnalyticalConfiguration=JSON.stringify(k1);}g1.AnalyticalConfiguration=$;U(g1,z());},function(r1){U(undefined,z(),y({code:'5221',aParameters:[X,$]},r1&&r1.messages));});return;}if(W===undefined||W.indexOf("SerializedAnalyticalConfiguration")>=0){b1=true;if(l1==='VENDOR'){var n1={contentType:'application/json'};var o1=[];o1.push({name:"layer",value:l1});o1.push({name:"dt",value:"true"});var p1="/sap/bc/lrep/content/"+_+"/"+$+'.apfconfiguration';p1+=d._buildParams(o1);m1=d.send(p1,'GET',undefined,n1);}else{m1=d.getStaticResource(_,$,'apfconfiguration');}a1.push(m1);}else{c1=0;}e1=v(X,$);if(e1===undefined){var q1=d.getFileAttributes(_,$,'apfconfiguration',l1);a1.push(q1);}f1=Promise.all(a1);f1.then(function(r1){e1=v(X,$);if(e1===undefined){e1=r1[c1].response;}w(X,$,e1);g1=N(X,e1);if(b1){k1=r1[d1].response;if(typeof k1==='string'){g1.SerializedAnalyticalConfiguration=k1;}else{g1.SerializedAnalyticalConfiguration=JSON.stringify(k1);}}g1.AnalyticalConfiguration=$;if(W&&W.length!==0){h1=W.length;i1={};for(i=0;i<h1;i++){j1=W[i];i1[j1]=g1[j1];}g1=i1;}U(g1,z());},function(r1){U(undefined,z(),y({code:'5221',aParameters:[X,$]},r1&&r1.messages));});};this.doChangeOperationsInBatch=function(T,U,V){function W(Z,$){U($);}var i,X;function Y(){}D(V).then(function(){for(i=0;i<T.length;i++){X=T[i];X.application=V;if(X.method==='DELETE'&&X.entitySetName==='texts'){B(X,Y);}else if(X.method==='POST'&&sap.apf.utils.isValidPseudoGuid(X.data.TextElement)){E(X.data,Y);}else{E(X.data,Y);}}F(V,W,true);}).fail(function(Z){U(Z);});};this.readCollectionsInBatch=function(T,U){var V=T.length;var W=[];var X=0;function Y($){function _(a1,b1,c1){if(c1){U(undefined,c1);}else{X++;W[$]=a1;if(X===V){U(W);}}}return _;}for(var i=0;i<V;i++){var Z=T[i];this.readCollection(Z.entitySetName,Y(i),Z.inputParameters,Z.selectList,Z.filter);}};this.readCollection=function(i,T,U,V,W,X){var Y,Z;var $;var _;if(X&&X.layer){_=X.layer;}else{_="CUSTOMER";}var a1=function(b1,c1){if(c1&&(c1==="error"||c1==="timeout"||c1==="abort"||c1==="parsererror")){T(undefined,z(),y({code:'5222',aParameters:[Z]},[c1]));return;}var d1=new sap.apf.utils.Hashtable(m);var e1=[];var f1=(b1&&b1.response)||(b1&&b1.responseText)||"";var g1=sap.apf.utils.parseTextPropertyFile(f1,{instances:{messageHandler:m}});var h1,i1;if(g1.Messages.length>0){h1=m.createMessageObject({code:'5416'});i1=h1;g1.Messages.forEach(function(j1){i1.setPrevious(j1);i1=j1;});}d1=new sap.apf.utils.Hashtable(m);g1.TextElements.forEach(function(j1){if(j1.TextElement){d1.setItem(j1.TextElement,j1);e1.push(j1);}});e.setItem(Z,d1);T(e1,z(),h1);};if(i==='application'){m.check(!U&&!V&&!W,"unsupported parameters when calling readCollection for application");S(T,_);}else if(i==='texts'){Y=W.getFilterTermsForProperty('Application');Z=Y[0].getValue();$=C(Z,X);$.then(function(b1){a1(b1);},function(b1){T(undefined,z(),y({code:'5222',aParameters:[Z]},b1&&b1.messages));});}else if(i==='configuration'){Y=W.getFilterTermsForProperty('Application');Z=Y[0].getValue();G(Z,T,V);}};this.remove=function(i,T,U,V,W,X){if(!X){X="CUSTOMER";}if(i==='application'){Q(T,U,X);}else if(i==='configuration'){M(T,U,W,X);}else{m.check(false,'the remove operation on entity set '+i+' is currently not supported by the lrep proxy');}};this.create=function(i,T,U,V){if(i==='application'){O(T,U,V);}else if(i==='configuration'){K(T,U,V);}else if(i==='texts'){E(T,U);}else{m.check(false,'the create operation on entity set '+i+' is currently not supported by the lrep proxy');}};this.update=function(i,T,U){if(i==='configuration'){J(T,U);}else if(i==='application'){P(T,U);}else{m.check(false,'the update operation on entity set '+i+' is currently not supported by the lrep proxy');}};function k(i,T){var U={async:true,contentType:'application/json'};var V=[];V.push({name:"layer",value:i});V.push({name:"deep-read",value:true});V.push({name:"metadata",value:true});V.push({name:"type",value:T});var W="/sap/bc/lrep/content/"+n+"/";W+=d._buildParams(V);return d.send(W,'GET',undefined,U);}function l(i){var n=i.ns.split('/');return n[n.length-2];}function o(i,T){var U=undefined;i.metadata.forEach(function(V){if(V.name===T){U=V.value;}});return U;}this.readAllConfigurationsFromVendorLayer=function(){var i=q.Deferred();var T=[];k('VENDOR','apf*').then(function(U){var V={};U.response.forEach(function(W){if(W.fileType&&W.fileType==='apfapplication'){V[l(W)]=o(W,'apfdt-applname');}});U.response.forEach(function(W){var X;var Y;var Z;if(W.fileType&&W.fileType==="apfconfiguration"){X=l(W);Y=W.name;if(!(sap.apf.utils.isValidPseudoGuid(X)&&sap.apf.utils.isValidPseudoGuid(Y))){return;}Z=o(W,'apfdt-configname');T.push({configurationText:Z,applicationText:V[X],value:X+'.'+Y});}});i.resolve(T);},function(U){i.reject(y({code:'5231'},U&&U.messages));});return i.promise();};r();function r(){if(a.constructors&&a.constructors.LrepConnector){d=a.constructors.LrepConnector.createConnector();}else{d=sap.apf.abap.LrepConnector.createConnector();}if(!d._sClient){d._sClient=b.getStartParameterFacade().getSapClient();}}function v(i,T){var U=f.getItem(i);if(U===undefined){return undefined;}T=U.getItem(T);return T;}function w(i,T,U){var V=f.getItem(i);if(V===undefined){V=new sap.apf.utils.Hashtable(m);}V.setItem(T,U);f.setItem(i,V);}function x(i){var T=(i&&i.layer)||"CUSTOMER";if(T==="ALL"){return undefined;}return T;}function y(i,T){var U=m.createMessageObject(i);var V="";if(T){T.forEach(function(W){V=V+W+' ';});U.setPrevious(m.createMessageObject({code:5220,aParameters:[V]}));}return U;}function z(){return{};}function A(i){return n+'/'+i;}function B(i,T){var U=i.application;var V=i.inputParameters[0].value;var W;D(U).done(function(){W=e.getItem(U);W.removeItem(V);T(i,z());}).fail(function(X){T(undefined,z(),X);});}function C(i,T){var U;var V=[];var W="/sap/bc/lrep/content/";var X=x(T);W+=n+"/"+i+'/'+t;if(X){V.push({name:"layer",value:X});}U={contentType:'text/plain'};W+=d._buildParams(V);return d.send(W,'GET',undefined,U);}function D(i){var T=q.Deferred();var U;var V=e.getItem(i);var W=function(X){var Y=(X&&X.response)||(X&&X.responseText)||"";var Z=sap.apf.utils.parseTextPropertyFile(Y,{instances:{messageHandler:m}});V=new sap.apf.utils.Hashtable(m);Z.TextElements.forEach(function($){if($.TextElement){V.setItem($.TextElement,$);}});e.setItem(i,V);T.resolve({});};if(V===undefined){U=C(i);U.then(function(X){W(X);},function(X){T.reject(y({code:'5222',aParameters:[i]},X&&X.messages));});}else{T.resolve({});}return T.promise();}function E(i,T){var U=i.Application;if(i.TextElement===undefined||!sap.apf.utils.isValidGuid(i.TextElement)){i.TextElement=sap.apf.utils.createPseudoGuid();}D(U).done(function(){var V=e.getItem(U);V.setItem(i.TextElement,i);T(i,z());}).fail(function(V){T(undefined,z(),V);});}function F(i,T,U){var V=A(i);var W;function X(){var Z=sap.apf.utils.renderHeaderOfTextPropertyFile(i,m);Z=Z+sap.apf.utils.renderTextEntries(W,m);var $=d.upsert(V,'text','properties',"CUSTOMER",Z,'text/plain');$.then(function(){T(z());},function(_){T(z(),y({code:'5230',aParameters:[i]},_&&_.messages));});}W=e.getItem(i);if(!W){T(z());return;}if(U){X();}else{var Y=C(i);Y.then(function(Z){var $=(Z&&Z.response)||"";var _=sap.apf.utils.parseTextPropertyFile($,{instances:{messageHandler:m}});_.TextElements.forEach(function(a1){if(a1.TextElement){W.setItem(a1.TextElement,a1);}});X();},function(Z){T(z(),y({code:'5222',aParameters:[i]},Z&&Z.messages));});}}function G(i,T,U){var V=[];var W=A(i);var X=d._buildParams([{name:"layer",value:"CUSTOMER"},{name:"metadata",value:"true"},{name:"type",value:"apfconfiguration"}]);var Y=d.send("/sap/bc/lrep/content/"+W+X);Y.then(function(Z){var $=Z.response;$.forEach(function(a1){if(a1.fileType==="apfconfiguration"){a1.metadata.forEach(function(b1){if(b1.name==="apfdt-configname"){V.push({AnalyticalConfiguration:a1.name,Application:i,AnalyticalConfigurationName:b1.value});}});}});if(U&&U.indexOf("SerializedAnalyticalConfiguration")>=0){var _=[];V.forEach(function(a1){var b1=q.Deferred();_.push(b1);d.getStaticResource(W,a1.AnalyticalConfiguration,'apfconfiguration').then(function(c1){if(c1.response){a1.SerializedAnalyticalConfiguration=JSON.stringify(c1.response);b1.resolve();}else{b1.reject();}},function(c1){b1.reject(c1);});});q.when.apply(q,_).then(function(){T(V,z());},function(a1){T([],z(),y({code:'5223',aParameters:[i]},a1&&a1.messages));});}else{T(V,z());}},function(Z){T([],z(),y({code:'5223',aParameters:[i]},Z&&Z.messages));});}function H(){var i=q.Deferred();var T=[];if(j){i.resolve(g);}else{T.push({name:"dt",value:false});var U="/sap/bc/lrep/content/sap/ui/fl/settings/main.flsettings";U+=d._buildParams(T);var V=d.send(U,'GET',undefined);V.then(function(W){var X=W&&W.response||{};j=true;if(X.isAtoEnabled===true){g="ATO_NOTIFICATION";}i.resolve(g);},function(W){i.reject(W);});}return i.promise();}function I(i,T,U,V){var W=V||'CUSTOMER';var X=A(i);var Y=d.getFileAttributes(X,T,'apfconfiguration',W);Y.then(function(Z){var $=Z.response;if(W==='CUSTOMER'){w(i,T,$);F(i,U);}else{U(z());}},function(Z){U(z(),y({code:'5232',aParameters:[i,T]},Z&&Z.messages));});}function J(i,T,U){if(!U){U="CUSTOMER";}var V=i.Application;var W=i.AnalyticalConfiguration;var X=JSON.parse(i.SerializedAnalyticalConfiguration);var Y=A(V);var Z=H();Z.then(function(g){var $=d.getStaticResource(Y,"metadata","apfapplication");$.then(function(_){var a1={Application:V,ApplicationName:_.response.ApplicationName,SemanticObject:_.response.SemanticObject,AnalyticalConfiguration:W,AnalyticalConfigurationName:i.AnalyticalConfigurationName,CreationUTCDateTime:i.CreationUTCDateTime,LastChangeUTCDateTime:i.LastChangeUTCDateTime};X=q.extend(true,X,{configHeader:a1});X=JSON.stringify(X);var b1=d.upsert(Y,W,'apfconfiguration',U,X,'application/json',g);return b1;},function(_){T(z(),y({code:'5233',aParameters:[V,W]},_&&_.messages));}).then(function(){I(V,W,T,U);},function(_){T(z(),y({code:'5233',aParameters:[V,W]},_&&_.messages));});},function($){T(z(),y({code:'5224'},$&&$.messages));});}function K(i,T,U){var V=x(U);var W=i.Application;var X=i.AnalyticalConfiguration;if(X===undefined||!sap.apf.utils.isValidGuid(X)){X=sap.apf.utils.createPseudoGuid(32);}var Y=JSON.parse(i.SerializedAnalyticalConfiguration);var Z=A(W);var $=d.getStaticResource(Z,"metadata","apfapplication");$.then(function(a1){var b1={Application:W,ApplicationName:a1.response.ApplicationName,SemanticObject:a1.response.SemanticObject,AnalyticalConfiguration:X,AnalyticalConfigurationName:Y.analyticalConfigurationName,CreationUTCDateTime:i.CreationUTCDateTime,LastChangeUTCDateTime:i.LastChangeUTCDateTime};Y=q.extend(true,Y,{configHeader:b1});Y=JSON.stringify(Y);_(W,X,i.AnalyticalConfigurationName,Y,T);},function(a1){T(undefined,z(),y({code:'5223',aParameters:[W]},a1&&a1.messages));});function _(W,X,a1,Y,T){var Z=A(W);var b1=H();b1.then(function(g){var c1=d.upsert(Z,X,'apfconfiguration',V,Y,'application/json',g);c1.then(function(){I(W,X,function(d1,e1){if(!e1){T({AnalyticalConfiguration:X,AnalyticalConfigurationName:i.AnalyticalConfigurationName},z());}else{T(undefined,z(),e1);}},V);},function(d1){T(undefined,z(),y({code:'5226',aParameters:[W,X]},d1&&d1.messages));});},function(c1){T(undefined,z(),y({code:'5224'},c1&&c1.messages));});}}function M(i,T,U,V){var W=i[0].value;m.check(W!==undefined,"configuration may not be undefined");m.check(U!==undefined,"application of configuration not found");var X=A(U);H().then(function(g){var Y=d.deleteFile(X,W,'apfconfiguration',V,g);Y.then(function(){T(z());},function(Z){T(z(),y({code:'5225',aParameters:[U,W]},Z&&Z.messages));});},function(Y){T(z(),y({code:'5224'},Y&&Y.messages));});}function N(T,U){var i;var V={Application:T};var W,X;for(i=0;i<U.length;i++){W=U[i].name;X=U[i].value;if(W==="apfdt-applname"){W="ApplicationName";}else if(W==='createdAt'){W="CreationUTCDateTime";}else if(W==='createdBy'){W="CreatedByUser";}else if(W==='lastChangedAt'){W="LastChangeUTCDateTime";}else if(W==='lastChangedBy'){W="LastChangedByUser";}else if(W==="apfdt-configname"){W='AnalyticalConfigurationName';}else if(W==='size'||W==='layer'){continue;}V[W]=X;}return V;}function O(i,T,U){m.check(i.ApplicationName!==undefined&&i.ApplicationName!=="","Valid application name is required");var V=i.Application;if(V===undefined||!sap.apf.utils.isValidGuid(V)){V=sap.apf.utils.createPseudoGuid(32);}var W=JSON.stringify({ApplicationName:i.ApplicationName,SemanticObject:i.SemanticObject,Application:V});var X=sap.apf.utils.renderHeaderOfTextPropertyFile(V,m);var Y=x(U);function Z(a1){T(undefined,z(),y({code:'5227'},a1&&a1.messages));}var $=A(V);var _=d.upsert($,'metadata','apfapplication',Y,W,'application/json');_.then(function(){var a1=d.upsert($,'text','properties',Y,X,'text/plain');a1.then(function(){e.setItem(V,new sap.apf.utils.Hashtable(m));T({Application:V,ApplicationName:i.ApplicationName,SemanticObject:i.SemanticObject},z());},Z);},Z);}function P(i,T){m.check(i.ApplicationName!==undefined&&i.ApplicationName!=="","Valid application name is required");var U=i.Application;var V=JSON.stringify({ApplicationName:i.ApplicationName,SemanticObject:i.SemanticObject,Application:U});function W(Z){T(undefined,y({code:'5228',aParameters:[U]},Z&&Z.messages));}var X=A(U);var Y=d.upsert(X,'metadata','apfapplication','CUSTOMER',V,'application/json');Y.then(function(){T({Application:U,ApplicationName:i.ApplicationName,SemanticObject:i.SemanticObject});},W);}function Q(i,T,U){var V=i[0].value;function W(Z){var $=R(Z);T(z(),$);}var X=A(V);var Y=d.listContent(X,U);Y.then(function(Z){var $=Z.response;var _=[];$.forEach(function(b1){if(b1.fileType==="apfconfiguration"){H().then(function(g){_.push(d.deleteFile(X,b1.name,b1.fileType,b1.layer,g));},function(c1){T(z(),y({code:'5224'},c1&&c1.messages));});}else{_.push(d.deleteFile(X,b1.name,b1.fileType,b1.layer));}});var a1=Promise.all(_);return a1;},W).then(function(){T(z());},W);}function R(i){var T;if(i&&i.messageObject&&i.messageObject.getCode){T=i.messageObject;}else if(i&&i.response&&i.response.statusCode&&i.response.statusCode>=400){T=m.createMessageObject({code:'11005',aParameters:[i.response.statusCode.toString(),i.response.statusText]});}else{T=m.createMessageObject({code:'5201',aParameters:(i&&i.messages)||[]});}return T;}function S(i,T){var U=[];k(T,"apfapplication").then(function(W){var X=W.response;X.forEach(function(X){var Y;var Z;if(X.fileType&&X.fileType==="apfapplication"){Y=l(X);if(!sap.apf.utils.isValidPseudoGuid(Y)){return;}var $="";Z=o(X,'apfdt-applname');U.push({Application:Y,ApplicationName:Z,SemanticObject:$});}});i(U,z());},V);function V(W){i(undefined,z(),y({code:'5229'},W&&W.messages));}}};
});
sap.ui.predefine('sap/apf/modeler/Component',["sap/ui/core/UIComponent","sap/apf/modeler/core/instance","sap/m/routing/RouteMatchedHandler","sap/apf/modeler/ui/utils/APFRouter","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/APFTree","sap/apf/core/layeredRepositoryProxy","sap/apf/core/constants","sap/ui/thirdparty/jquery","sap/ui/dom/includeStylesheet"],function(U,i,R,A,c,a,l,b,q,d){'use strict';
var e=sap.ui.core.UIComponent.extend("sap.apf.modeler.Component",{
oCoreApi:null,
metadata:{"manifest":"json","library":"sap.apf"},
init:function(){var p,f;var t;if(this.initHasAlreadyBeenCalled){return;}this.initHasAlreadyBeenCalled=true;var m=q.extend({},true,this.getMetadata().getManifest());var g=e.prototype.getMetadata().getManifest();if(m["sap.app"].crossNavigation&&m["sap.app"].crossNavigation.outbounds&&m["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime){t=m["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime;}if(m["sap.app"].dataSources&&m["sap.app"].dataSources.AnalyticalConfigurationServiceRoot){p=m["sap.app"].dataSources.AnalyticalConfigurationServiceRoot.uri;}else{p=sap.apf.core.constants.modelerPersistenceServiceRoot;}var h={serviceRoot:p};var j=this.getInjections();j.instances=j.instances||{};j.instances.component=this;j.functions=j.functions||{};if(t){j.functions.getNavigationTargetForGenericRuntime=function(){return t;};}else{j.functions.getNavigationTargetForGenericRuntime=function(){if(m['sap.app']&&m['sap.app'].id==='fnd.apf.dts1'){return{semanticObject:"FioriApplication",action:'executeAPFConfigurationS4HANA'};}return{semanticObject:"FioriApplication",action:'executeAPFConfiguration'};};}if(m["sap.app"].dataSources&&m["sap.app"].dataSources.GatewayCatalogService){f=m["sap.app"].dataSources.GatewayCatalogService.uri;}else if(g["sap.app"].dataSources&&g["sap.app"].dataSources.GatewayCatalogService){f=g["sap.app"].dataSources.GatewayCatalogService.uri;}j.functions.getCatalogServiceUri=function(){return f;};this.oCoreApi=new sap.apf.modeler.core.Instance(h,j);var k=this.oCoreApi.getUriGenerator().getApfLocation();d(k+"modeler/resources/css/configModeler.css","configModelerCss");sap.ui.core.UIComponent.prototype.init.apply(this,arguments);this.getRouter().initialize();var M=sap.ui.view({viewName:"sap.apf.modeler.ui.view.messageHandler",type:sap.ui.core.mvc.ViewType.XML,viewData:this.oCoreApi});var C=M.getController().showMessage;this.oCoreApi.setCallbackForMessageHandling(C.bind(M.getController()));},
createContent:function(){var f=sap.ui.view({viewName:"sap.apf.modeler.ui.view.applicationList",type:sap.ui.core.mvc.ViewType.XML,viewData:this.oCoreApi});this.oCoreApi.getUriGenerator().getApfLocation();return f;},
getInjections:function(){return{instances:{},exits:{}};}
});
return e;},true);
sap.ui.predefine('sap/apf/modeler/ui/controller/applicationList.controller',['sap/ui/core/mvc/Controller','sap/m/Table','sap/m/Column','sap/m/ColumnListItem','sap/m/Text','sap/m/Input','sap/ui/core/Icon','sap/apf/modeler/ui/utils/helper','sap/apf/modeler/ui/utils/nullObjectChecker','sap/apf/modeler/ui/utils/optionsValueModelBuilder','sap/ui/model/Filter'],function(B,T,C,a,b,I,c,h,n,o,F){"use strict";
function _(i){var j=i.coreApi.getText;i.byId("idAppPage").setTitle(j("configModelerTitle"));i.byId("idAppTitle").setText(j("applicationOverview"));i.byId("idApplicationToolbar").setTooltip(j("applications"));i.byId("idAppNumberTitle").setText(j("applications"));i.byId("idAppNumberTitle").setTooltip(j("applications"));i.byId("idDescriptionLabel").setText(j("description"));if(i.coreApi.showSemanticObject()){i.byId("idSemanticObjectLabel").setText(j("semanticObject"));}i.byId("idImportButton").setText(j("import"));i.byId("idImportButton").setTooltip(j("importConfig"));i.byId("idNewButton").setText(j("new"));i.byId("idNewButton").setTooltip(j("newApplication"));i.byId("idEditIcon").setTooltip(j("editApplication"));i.byId("idDeleteIcon").setTooltip(j("deleteApplication"));i.byId("idTextpoolCleanupIcon").setTooltip(j("textCleanUp"));i.byId("idAriaPropertyForDelete").setText(j("ariaTextForDeleteIcon"));i.byId("idAriaPropertyForEdit").setText(j("ariaTextForEditIcon"));i.byId("idAriaPropertyForTextpoolCleanup").setText(j("ariaTextForTextpoolCleanupIcon"));}
function d(i){var j=i.coreApi.getText;sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteConfirmation").setTitle(j("confirmation"));sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteButton").setText(j("deleteButton"));sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idCancelButtonDialog").setText(j("cancel"));}
function e(i){var j=i.applicationHandler.getList();i.byId("idAppCount").setText("("+j.length+")");var A=[];j.forEach(function(q){var r={};r.id=q.Application;r.description=q.ApplicationName;r.semanticObject=q.SemanticObject;A.push(r);});var M=o.prepareModel(A,A.length);i.byId("idApplicationTable").setModel(M);if(i.actualQuery!==""){i.filterValues(i.actualQuery);}}
function f(i,M){var j=i.coreApi.createMessageObject({code:M});i.coreApi.putMessage(j);}
function g(i){i.byId("idApplicationTable").attachEvent("addNewAppEvent",i.handleAdditionOfNewApp.bind(i));i.byId("idApplicationTable").attachEvent("updateAppListEvent",i.handleAppListUpdate.bind(i));}
function k(i,v){var V,j;V={oParentControl:i.byId("idApplicationTable"),oCoreApi:i.coreApi};j=new sap.ui.view({viewName:"sap.apf.modeler.ui.view."+v,type:sap.ui.core.mvc.ViewType.XML,viewData:V});i.getView().addDependent(j);}
function l(i,D,j,q){i.getView().addDependent(D);var M=new b({text:i.coreApi.getText(j)});D.removeAllContent();D.addContent(M);D.addAriaDescribedBy(M);if(q){D.removeAllCustomData();D.addCustomData(q);}D.open();}
function m(i){var s=i.byId("idAppListScrollContainer");var A=i.byId("idApplicationTable");var v=i.getView();A.addEventDelegate({onAfterRendering:function(){var j=jQuery(window).height();var q=jQuery(v.byId("idAppTitle").getDomRef()).height();var r=jQuery(v.byId("idApplicationToolbar").getDomRef()).height();var t=jQuery(v.byId("idAppPage").getDomRef()).find("header").height();var u=jQuery(v.byId("idAppPage").getDomRef()).find("footer").height();var w;if(q>0){q=q+80;w=q+r+t+u+25;}else{w=232;}s.setHeight(j-w+"px");s.setWidth("100%");h.onResize(function(){if(jQuery(v.getDomRef()).css("display")==="block"){j=jQuery(v.byId("idAppPage").getDomRef()).height();s.setHeight(j-w+"px");s.setWidth("100%");}});sap.ui.core.UIComponent.getRouterFor(i).attachRoutePatternMatched(function(E){if(E.getParameter("name")==="applicationList"){j=jQuery(v.getDomRef()).height();s.setHeight(j-w+"px");s.setWidth("100%");}});}});}
function p(i,E){var j=new sap.m.StandardListItem({title:i.coreApi.getText("importDeliveredContent"),type:sap.m.ListType.Active,press:function(){k(i,"importDeliveredContent");}});var q=new sap.m.StandardListItem({title:i.coreApi.getText("importFiles"),type:sap.m.ListType.Active,press:function(){k(i,"importFiles");}});var P=new sap.m.Popover({placement:sap.m.PlacementType.Top,showHeader:false});var A=new sap.m.List({items:[j,q]});P.addContent(A);P.openBy(E.getSource());}
return B.extend("sap.apf.modeler.ui.controller.applicationList",{onInit:function(){var i=this;this.actualQuery="";var j=i.getOwnerComponent();if(n.checkIsNotUndefined(j)){i.coreApi=j.oCoreApi;if(!this.coreApi.showSemanticObject()){this.hideSemanticObjectColumn();}g(this);_(i);i.coreApi.getApplicationHandler(function(q,r){i.applicationHandler=q;if(i.applicationHandler&&!n.checkIsNotUndefined(r)){e(i);}else{i.showMessage("11508",r);}});}m(i);},showMessage:function(i,j){var M=this.coreApi.createMessageObject({code:i});if(j){M.setPrevious(j);}this.coreApi.putMessage(M);},hideSemanticObjectColumn:function(){this.byId("idSemanticObjectColumn").setVisible(false);},handleAddNewAppPress:function(){var i=this;if(n.checkIsNotNullOrUndefinedOrBlank(i.applicationHandler)){k(i,"newApplication");}else{i.showMessage("11509");}},handleListItemPress:function(i){var j=this,q;q=i.getParameter("listItem").getBindingContext().getPath().split("/")[2];sap.ui.core.UIComponent.getRouterFor(j).navTo("configurationList",{appId:j.byId("idApplicationTable").getModel().getData().Objects[q].id});},handleTextpoolCleanupPress:function(i){var t;var j=i.getSource().getBindingContext().getObject().id;var q=new sap.ui.core.CustomData({value:{applicationId:j}});var r=this.coreApi.getText;t=sap.ui.xmlfragment("idTextpoolCleanupConfirmationFragment","sap.apf.modeler.ui.fragment.textpoolCleanupConfirmationDialog",this);t.setTitle(r("confirmation"));t.getButtons()[0].setText(r("ok"));t.getButtons()[1].setText(r("cancel"));l(this,t,"textpoolCleanupConfirmation",q);},handleConfirmTextpoolCleanup:function(i){var j=this;var q=sap.ui.core.Fragment.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").getCustomData()[0].getValue().applicationId;j.coreApi.getConfigurationHandler(q,function(r){var t=r.getTextPool();j.coreApi.getUnusedTextKeys(q,function(u,s){if(!n.checkIsNotUndefined(s)){t.removeTexts(u,q,function(s){if(!n.checkIsNotUndefined(s)){j.showMessage("11511");}else{j.showMessage("11507",s);}j.closeTextpoolCleanupConfirmationDialog();});}else{j.showMessage("11506",s);j.closeTextpoolCleanupConfirmationDialog();}});});},closeTextpoolCleanupConfirmationDialog:function(){sap.ui.core.Fragment.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").destroy();},handleCancelTextpoolCleanup:function(i){this.closeTextpoolCleanupConfirmationDialog();},handleEditPress:function(i){var j,v;if(n.checkIsNotNullOrUndefinedOrBlank(this.applicationHandler)){j=i.getSource().getBindingContext().getObject();v={parentControl:this.byId("idApplicationTable"),coreApi:this.coreApi,applicationData:j};sap.ui.view({viewName:"sap.apf.modeler.ui.view.editApplication",type:sap.ui.core.mvc.ViewType.XML,viewData:v,async:true}).loaded().then(function(q){this.getView().addDependent(q);}.bind(this));}},handleDeletePress:function(i){var j=this,D;var P=i.getSource().getBindingContext().getPath().split("/")[2];var q=new sap.ui.core.CustomData({value:{removeId:this.byId("idApplicationTable").getModel().getData().Objects[P].id,sPath:P}});D=sap.ui.xmlfragment("idDeleteConfirmationFragment","sap.apf.modeler.ui.fragment.deleteConfirmationDialog",j);d(j);l(j,D,"deleteApp",q);},handleConfirmDeletion:function(){var i=this;var r=sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteConfirmation").getCustomData()[0].getValue().removeId;if(n.checkIsNotUndefined(r)){i.applicationHandler.removeApplication(r,function(R,M,j){if(!n.checkIsNotUndefined(j)&&(typeof R==="string")){e(i);f(i,"11510");}else{i.showMessage("11501",j);}i.closeDialog();});}},closeDialog:function(){sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteConfirmation").destroy();},handleNavigationWithSave:function(){var i=this;i.handleSavePress();sap.ui.core.Fragment.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy();},handleNavigationWithoutSave:function(){sap.ui.core.Fragment.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy();},handlePreventNavigation:function(){sap.ui.core.Fragment.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy();},handleImportPress:function(E){if(this.coreApi.isVendorContentAvailable()){p(this,E);}else{k(this,"importFiles");}},handleSavePress:function(){var i=this,u=[],q,t,j;q=i.applicationHandler.getList();t=i.byId("idApplicationTable").getModel().getData().Objects;for(j=0;j<q.length;j++){if(t[j].description!==q[j].ApplicationName||t[j].semanticObject!==q[j].SemanticObject){u.push(t[j]);}}u.forEach(function(r){var s={ApplicationName:r.description,SemanticObject:r.semanticObject};i.applicationHandler.setAndSave(s,function(R,M,v){if(n.checkIsNotUndefined(v)){i.showMessage("11500",v);}},r.id);});},handleNavigationToConfigurationList:function(E){var i=this;var P={listItem:sap.ui.getCore().byId(E.currentTarget.id).getParent(),srcControl:i.byId("idApplicationTable")};i.byId("idApplicationTable").fireItemPress(P);},handleAdditionOfNewApp:function(E){var j=this,q,A,i,r=0,s;q=E.getParameter("appId");e(j);A=j.byId('idApplicationTable').getModel().getData().Objects;f(j,"11512");j.byId('idApplicationTable').rerender();for(i=0;i<A.length;i++){if(A[i].id===q){r=i;break;}}s=j.byId('idApplicationTable').getItems();if(s.length){var t=s[r].getDomRef();if(t){t.scrollIntoView();}}if(this.actualQuery!==""){this.filterValues(this.actualQuery);}},handleAppListUpdate:function(){var i=this;e(i);},handleNavBack:function(){window.history.go(-1);},onSearch:function(i){var q=i.getParameters().newValue;this.actualQuery=q;this.filterValues(q);},filterValues:function(q){var i=[];if(q&&q.length>0){var j=new F("description",sap.ui.model.FilterOperator.Contains,q);i.push(j);}var t=this.byId("idApplicationTable");var r=t.getBinding("items");r.filter(i,"Objects");}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/catalogService.controller',["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v2/ODataModel","sap/apf/utils/utils"],function(C,F,a,O,u){"use strict";
function _(c){var p={serviceUrl:c.getView().getViewData().getCalatogServiceUri(),json:true,async:true,useBatch:true};return new O(p);}
function b(c){var t=c.getView().getViewData().oTextReader;var s=c.byId("idGatewayCatalogListDialog");s.setTitle(t("selectService"));s.setNoDataText(t("noDataText"));}
return C.extend("sap.apf.modeler.ui.controller.catalogService",{handleSearch:function(e){var c=this;var s=e.getParameter("value").trim();var d=s.toUpperCase();var l=s.toLowerCase();var f=[new F("TechnicalServiceName",a.Contains,d),new F("TechnicalServiceName",a.Contains,l)];var o=new F(f,false);var S=c.byId("idGatewayCatalogListDialog");S.getBinding("items").filter(o);},onInit:function(){var c=this;var d=_(c);var s=c.byId("idGatewayCatalogListDialog");b(c);s.setModel(d);s.open();},handleConfirm:function(e){var c=this,s=e.getParameter('selectedItem').getProperty('title');var S=c.byId("idGatewayCatalogListDialog");var p=c.getView().getViewData().parentControl;S.getBinding("items").filter([]);p.fireEvent("selectService",{"sSelectedService":s});c.byId("idGatewayCatalogListDialog").destroy();c.getView().destroy();},handleCancel:function(){var c=this;c.byId("idGatewayCatalogListDialog").destroy();c.getView().destroy();},handleFormatting:function(s){var p=u.extractPathnameFromUrl(s);return p;}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/facetFilterFRR.controller',['sap/apf/modeler/ui/controller/requestOptions',"sap/apf/modeler/ui/utils/textPoolHelper"],function(r,t){"use strict";var s=false;
var c=r.extend("sap.apf.modeler.ui.controller.facetFilterFRR",{
setDisplayText:function(){var C=this;var T=C.getView().getViewData().oTextReader;C.byId("idSourceLabel").setText(T("vhSource"));C.byId("idEntityLabel").setText(T("vhEntity"));C.byId("idSelectPropertiesLabel").setText(T("vhSelectProperties"));},
handleCopy:function(){var C=this;C.setDetailData();},
clearFRRFields:function(){var C=this;C.clearSource();C.setDetailData();},
enableOrDisableView:function(){var e=true,C=this;if(C.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()===true){e=false;}C.byId("idSource").setEnabled(e);C.byId("idEntity").setEnabled(e);C.byId("idSelectProperties").setEnabled(e);},
getSource:function(){var C=this;return C.oParentObject.getServiceOfFilterResolution();},
getAllEntitiesAsPromise:function(S){var C=this;return C.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(S);},
getEntity:function(){var C=this;return C.oParentObject.getEntitySetOfFilterResolution();},
getAllEntitySetPropertiesAsPromise:function(S,e){var C=this;return C.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(S,e);},
clearSource:function(){var C=this;C.oParentObject.setServiceOfFilterResolution(undefined);C.clearEntity();},
clearEntity:function(){var C=this;C.oParentObject.setEntitySetOfFilterResolution(undefined);C.clearSelectProperties();},
clearSelectProperties:function(){var C=this;var o=C.oParentObject.getSelectPropertiesOfFilterResolution();o.forEach(function(p){C.oParentObject.removeSelectPropertyOfFilterResolution(p);});},
removeSelectProperties:function(p){var C=this;p.forEach(function(a){C.oParentObject.removeSelectPropertyOfFilterResolution(a);});},
updateSource:function(S){var C=this;C.oParentObject.setServiceOfFilterResolution(S);s=true;},
updateEntity:function(e){var C=this;C.oParentObject.setEntitySetOfFilterResolution(e);},
updateSelectProperties:function(S){var C=this;C.clearSelectProperties();S.forEach(function(p){C.oParentObject.addSelectPropertyOfFilterResolution(p);});},
getSelectProperties:function(){var C=this;return C.oParentObject.getSelectPropertiesOfFilterResolution();},
fireRelevantEvents:function(){var C=this;if(s){C.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES);s=false;}},
getValidationState:function(){var C=this;return C.viewValidator.getValidationState();}
});
return c;});
sap.ui.predefine('sap/apf/modeler/ui/controller/representationDimension.controller',['sap/apf/modeler/ui/utils/constants',"sap/apf/core/constants","sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(M,c,B,D,t,a){"use strict";c=c||sap.apf.core.constants;D=D||sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;var r=c.representationMetadata;return B.extend("sap.apf.modeler.ui.controller.representationDimension",{_apfName:"representationDimension",setLabelDisplayOptionTypeAsPromise:function(o){var C=this;var d=jQuery.Deferred();var l=[];var b=new D(C.oTextReader,o);var L=c.representationMetadata.labelDisplayOptions;var p=t.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));var s=C.oRepresentation.getLabelDisplayOption(p);var m=b.getLabelDisplayOptions();C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((s===L.KEY_AND_TEXT||s===L.TEXT)&&!C.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,p)){m=b.getValidatedLabelDisplayOptions();l=t.addPrefixText([s],C.oTextReader);s=l[0];}C.byId("idLabelDisplayOptionType").setModel(m);C.byId("idLabelDisplayOptionType").setSelectedKey(s);d.resolve();});return d.promise();},getAllPropertiesAsPromise:function(){var C=this;var s=C.oStepPropertyMetadataHandler.oStep;var d=jQuery.Deferred();C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var b=[];s.getConsumablePropertiesForRepresentation(C.oRepresentation.getId()).done(function(R){var A=R.consumable;A.forEach(function(p){var f;if(C.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)){f=C.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)["aggregation-role"];if(f===M.aggregationRoles.DIMENSION){b.push(p);}}});var S=C.getSelectedProperty();d.resolve(a.getPropertyListAndSelectedKey(b,S,C,R,t.addPrefixText));});});return d.promise();},getPropertyTextLabelKey:function(p){var C=this;return C.oRepresentation.getDimensionTextLabelKey(p);},removeProperties:function(){var C=this;C.getView().getViewData().oRepresentationHandler.getActualDimensions().forEach(function(p){C.oRepresentation.removeDimension(p.sProperty);});},updatePropertiesInConfiguration:function(p){var C=this;C.removeProperties();p.forEach(function(P){C.oRepresentation.addDimension(P.sProperty);C.oRepresentation.setDimensionKind(P.sProperty,P.sKind);C.oRepresentation.setLabelDisplayOption(P.sProperty,P.sLabelDisplayOption);C.oRepresentation.setDimensionTextLabelKey(P.sProperty,P.sTextLabelKey);});},createNewPropertyInfoAsPromise:function(n){var d=jQuery.Deferred();var C=this,N={};C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var i=C.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,n);N.sProperty=n;N.sKind=C.getView().getViewData().oPropertyTypeData.sContext;N.sLabelDisplayOption=i?r.labelDisplayOptions.KEY_AND_TEXT:r.labelDisplayOptions.KEY;N.sTextLabelKey=undefined;d.resolve(N);});return d.promise();},setPropertyTextLabelKey:function(p,l){var C=this;C.oRepresentation.setDimensionTextLabelKey(p,l);},setNextPropertyInParentObject:function(){var C=this;C.updateOfConfigurationObjectAsPromise().then(function(){C.setDetailData();});},enableDisableLabelDisplayOptionTypeAsPromise:function(){var i,C=this;var d=jQuery.Deferred();var b=C.byId("idLabelDisplayOptionType");var p=t.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var I=C.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,p);if(p===C.oTextReader("none")){b.setEnabled(false);d.resolve();}else{b.setEnabled(true);for(i=0;i<b.getItems().length;i++){b.getItems()[i].setEnabled(true);if(i>0&&!I){b.getItems()[i].setEnabled(false);}}d.resolve();}});return d.promise();},changeLabelDisplayOption:function(l){var C=this;var p=t.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE));C.oRepresentation.setLabelDisplayOption(p,l);},removePropertyFromParentObject:function(){var C=this;C.oRepresentation.removeDimension(t.removePrefixText(C.byId("idPropertyType").getSelectedKey(),C.oTextReader(M.texts.NOTAVAILABLE)));},addPropertyAsPromise:function(){var d=jQuery.Deferred();var C=this,A,b=[];var s=C.oStepPropertyMetadataHandler.oStep;C.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){s.getConsumablePropertiesForRepresentation(C.oRepresentation.getId()).done(function(R){R.consumable.forEach(function(p){if(C.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)){A=C.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)["aggregation-role"];if(A===M.aggregationRoles.DIMENSION){b.push(p);}}});C.getView().fireEvent(M.events.ADDPROPERTY,{"sProperty":b[0],"sContext":C.getView().getViewData().oPropertyTypeData.sContext,"bMandatory":C.getView().getViewData().oPropertyTypeData.bMandatory});C.oConfigurationEditor.setIsUnsaved();d.resolve();});});return d.promise();}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/representationLegend.controller',["sap/apf/modeler/ui/controller/representationDimension.controller","sap/apf/modeler/ui/utils/textManipulator"],function(B,t){"use strict";return B.extend("sap.apf.modeler.ui.controller.representationLegend",{getAllPropertiesAsPromise:function(){var c=this,a,s,p,A,d=[];var S=c.oStepPropertyMetadataHandler.oStep;var C=sap.apf.modeler.ui.utils.CONSTANTS;var b=jQuery.Deferred();c.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){S.getConsumablePropertiesForRepresentation(c.oRepresentation.getId()).done(function(r){a=r.consumable;a.forEach(function(P){if(c.oStepPropertyMetadataHandler.getPropertyMetadata(e,P)){A=c.oStepPropertyMetadataHandler.getPropertyMetadata(e,P)["aggregation-role"];if(A===C.aggregationRoles.DIMENSION){d.push(P);}}});s=c.getSelectedProperty();if(s!==c.oTextReader("none")&&s!==undefined){p=d.indexOf(s)!==-1?d:d.concat(s);d=r.available.indexOf(s)!==-1?p:d.concat(t.addPrefixText([s],c.oTextReader));s=r.available.indexOf(s)!==-1?s:t.addPrefixText([s],c.oTextReader)[0];}d.splice(0,0,c.oTextReader("none"));b.resolve({aAllProperties:d,sSelectedKey:s});});});return b.promise();},removeProperties:function(){var c=this;c.getView().getViewData().oRepresentationHandler.getActualLegends().forEach(function(p){c.oRepresentation.removeDimension(p.sProperty);});},enableDisableLabelDisplayOptionTypeAsPromise:function(){var d=jQuery.Deferred();var i,c=this;var a=c.byId("idLabelDisplayOptionType");var p=t.removePrefixText(c.byId("idPropertyType").getSelectedKey(),c.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));c.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var I=c.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,p);if(p===c.oTextReader("none")){a.setEnabled(false);d.resolve();return;}a.setEnabled(true);for(i=0;i<a.getItems().length;i++){a.getItems()[i].setEnabled(true);if(i>0&&!I){a.getItems()[i].setEnabled(false);}}d.resolve();});return d.promise();},addPropertyAsPromise:function(){var d=jQuery.Deferred();var c=this,a,D=[];var s=c.oStepPropertyMetadataHandler.oStep;var C=sap.apf.modeler.ui.utils.CONSTANTS;c.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){s.getConsumablePropertiesForRepresentation(c.oRepresentation.getId()).done(function(r){r.consumable.forEach(function(p){if(c.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)){a=c.oStepPropertyMetadataHandler.getPropertyMetadata(e,p)["aggregation-role"];if(a===C.aggregationRoles.DIMENSION){D.push(p);}}});c.getView().fireEvent(C.events.ADDPROPERTY,{"sProperty":D[0],"sContext":c.getView().getViewData().oPropertyTypeData.sContext});c.oConfigurationEditor.setIsUnsaved();d.resolve();});});return d.promise();}});});
sap.ui.predefine('sap/apf/modeler/ui/controller/toolbar.controller',['sap/ui/core/mvc/Controller','sap/apf/modeler/ui/utils/constants','sap/ui/core/syncStyleClass'],function(M,c,S){'use strict';return M.extend("sap.apf.modeler.ui.controller.toolbar",{onInit:function(){this.oCoreApi=this.getView().getViewData().oConfigListInstance.oCoreApi;this.oConfigListInstance=this.getView().getViewData().oConfigListInstance;this._setDisplayText();},_setDisplayText:function(){this.byId("idAddButton").setText(this.oCoreApi.getText("addButton"));this.byId("idCopyButton").setText(this.oCoreApi.getText("copyButton"));this.byId("idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));this.byId("idMoveUp").setTooltip(this.oCoreApi.getText("moveUp"));this.byId("idMoveDown").setTooltip(this.oCoreApi.getText("moveDown"));},enableCopyDeleteButton:function(){if(!this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(true);}if(!this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(true);}},disableCopyDeleteButton:function(){if(this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(false);}if(this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(false);}},_setAddMenuText:function(){sap.ui.core.Fragment.byId("idAddMenuFragment","idNewConfig").setText(this.oCoreApi.getText("newConfiguration"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewFacetFilter").setText(this.oCoreApi.getText("newFacetFilter"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewCategory").setText(this.oCoreApi.getText("newCategory"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewNavigationTarget").setText(this.oCoreApi.getText("newNavigationTarget"));sap.ui.core.Fragment.byId("idAddMenuFragment","idStep").setText(this.oCoreApi.getText("step"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewStep").setText(this.oCoreApi.getText("newStep"));sap.ui.core.Fragment.byId("idAddMenuFragment","idExistingStep").setText(this.oCoreApi.getText("existingStep"));sap.ui.core.Fragment.byId("idAddMenuFragment","idHierarchicalStep").setText(this.oCoreApi.getText("hierarchicalStep"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewRepresentation").setText(this.oCoreApi.getText("newRepresentation"));},_setExistingStepDialogText:function(){sap.ui.core.Fragment.byId("idExistingStepDialogFragment","idExistingStepDialog").setTitle(this.oCoreApi.getText("existingStepDialogTitle"));},_enableDisableAddMenuItems:function(s,a){var f;var A=a.getItems();var n,m={};if(this.oConfigListInstance.configEditor){f=Object.keys(this.oConfigListInstance.configEditor.getFilterOption())[0];}if(this.oConfigListInstance.configurationHandler.getList().length===0||s===null){n="default";}else{n=s.nodeObjectType;}m["default"]=1;m[c.configurationObjectTypes.CONFIGURATION]=4;m[c.configurationObjectTypes.FACETFILTER]=4;m[c.configurationObjectTypes.SMARTFILTERBAR]=4;m[c.configurationObjectTypes.CATEGORY]=5;m[c.configurationObjectTypes.STEP]=6;m[c.configurationObjectTypes.REPRESENTATION]=6;m[c.configurationObjectTypes.NAVIGATIONTARGET]=4;A.forEach(function(o,i){if(i<m[n]){o.setEnabled(true);if(f!==c.configurationObjectTypes.FACETFILTER&&i===1){o.setEnabled(false);}}else{o.setEnabled(false);}});},_handlePressAddButton:function(e){var s;var o=this,i=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){s=(typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function")?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;}e.getSource().$().blur();var n=sap.apf.modeler.ui.utils.navigationHandler.getInstance();if(s!==undefined){i=typeof s.getValidationState==="function"?s.getValidationState.call(s):true;}var a=this.oConfigListInstance.configEditor?jQuery.extend(true,{},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=a?a.isSaved():undefined;var b=false;var d=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var A=e.getSource();var f=function(){if(!this.addMenu){this.addMenu=new sap.ui.xmlfragment("idAddMenuFragment","sap.apf.modeler.ui.fragment.addMenu",this);this.getView().addDependent(this.addMenu);this._setAddMenuText();}var g=sap.ui.core.Popup.Dock;this._enableDisableAddMenuItems(d,this.addMenu);this.addMenu.open(false,A,g.BeginTop,g.BeginBottom,A);};if(!i){n.throwMandatoryPopup(o.oConfigListInstance,{yes:function(){var p=o.oConfigListInstance.oTreeInstance.getParentNodeContext(d);o.oConfigListInstance.configEditor=o.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(p.configId);if(o.oConfigListInstance.bIsSaved===false&&o.oConfigListInstance.configEditor){o.oConfigListInstance.configEditor.setIsUnsaved();}var N=o.oConfigListInstance._navMandatoryResetState(o.oConfigListInstance);if(!N.isNewView){f.call(o);}}});b=true;}if(!b){f.call(o);}},_handleAddMenuItemPress:function(e){var i=this.addMenu.getItems();var a=e.getParameters("item");var n;var N={"idAddMenuFragment--idNewFacetFilter":c.configurationObjectTypes.FACETFILTER,"idAddMenuFragment--idNewCategory":c.configurationObjectTypes.CATEGORY,"idAddMenuFragment--idNewStep":c.configurationObjectTypes.STEP,"idAddMenuFragment--idHierarchicalStep":c.configurationObjectTypes.STEP,"idAddMenuFragment--idNewRepresentation":c.configurationObjectTypes.REPRESENTATION,"idAddMenuFragment--idNewConfig":c.configurationObjectTypes.CONFIGURATION,"idAddMenuFragment--idNewNavigationTarget":c.configurationObjectTypes.NAVIGATIONTARGET,"default":c.configurationObjectTypes.CONFIGURATION};i.forEach(function(o){if(o.getId()===a.id){n=N[o.getId()];}else if(o.getSubmenu()){o.getSubmenu().getItems().forEach(function(o){if(o.getId()===a.id){n=N[o.getId()];}});}});var I=false;if(a.id==="idAddMenuFragment--idExistingStep"){this._handleAddExistingStepPress();}else if(a.id!=="idAddMenuFragment--idStep"&&n!==undefined){if(a.id==="idAddMenuFragment--idHierarchicalStep"){I=true;}this.oConfigListInstance.oTreeInstance.addNodeInTree(n,undefined,I);}},_copyConfiguration:function(C,n){var o=this.oConfigListInstance.configurationHandler.getConfiguration(C);var a={},b;a.AnalyticalConfiguration=o.AnalyticalConfiguration;a.name="< "+o.AnalyticalConfigurationName+" >";a.Application=o.Application;a.type=c.configurationObjectTypes.CONFIGURATION;a.bIsLoaded=false;a.bToggleState=false;a.isSelected=true;a.expanded=true;a.selectable=true;a.hasExpander=true;this.oConfigListInstance.oModel.getData().aConfigDetails.push(a);this.oConfigListInstance.oModel.updateBindings();b=this.oConfigListInstance.oTreeInstance.getModel().getContext(n);this.oConfigListInstance.selectedNode=this.oConfigListInstance.oTreeInstance.getItemNodeByContextWithoutExpand(b.sPath);this.oConfigListInstance.modelUpdateDeferred[this.oConfigListInstance.oModel.getData().aConfigDetails.length-1]=new jQuery.Deferred();var d={appId:this.oConfigListInstance.appId,configId:C};sap.ui.core.UIComponent.getRouterFor(this.oConfigListInstance).navTo(a.type,d,true);},_handlePressCopyButton:function(e){var d=jQuery.Deferred();var s,a;var o=this,b=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){s=(typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function")?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;}e.getSource().$().blur();var n=sap.apf.modeler.ui.utils.navigationHandler.getInstance();if(s!==undefined){b=typeof s.getValidationState==="function"?s.getValidationState.call(s):true;}var f=this.oConfigListInstance.configEditor?jQuery.extend(true,{},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=f?f.isSaved():undefined;var g=false;var h=function(){var C=this;var N;var p=this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()||this.selectedNode);this.selectedNode=this.oTreeInstance.getSelectedItem()||this.selectedNode;var q,r,t,u,O,v,w,x,y,z;t=p.nodeContext;switch(p.nodeObjectType){case c.configurationObjectTypes.FACETFILTER:var F=this.oCoreApi.getText("copyOf")+"  "+p.nodeTitle;var A=this.configEditor.copyFacetFilter(p.nodeAPFId);var B=this.configEditor.getFacetFilter(A);var T=sap.apf.modeler.ui.utils.TranslationFormatMap.FACETFILTER_LABEL;this.oTextPool.setTextAsPromise(F,T).done(function(i){B.setLabelKey(i);O=t.split("/");a=O[2];v=O[6];var j=this.oModel.getData().aConfigDetails[a].configData[0].filters[v];j.isSelected=false;var i1=jQuery.extend(true,{},j);i1.id=A;i1.name="< "+F+" >";i1.isSelected=true;u=this.oModel.getData().aConfigDetails[a].configData[0].filters.length;this.oModel.getData().aConfigDetails[a].configData[0].filters.push(i1);O[6]=u;r=O.join("/");h1();}.bind(this));break;case c.configurationObjectTypes.CATEGORY:var D=this.oCoreApi.getText("copyOf")+"  "+p.nodeTitle;var E=this.configEditor.copyCategory(p.nodeAPFId);var G=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;this.oTextPool.setTextAsPromise(D,G).done(function(i1){var j1={labelKey:i1};this.configEditor.setCategory(j1,E);O=t.split("/");a=O[2];w=O[6];var k1=[];var l1=this.configEditor.getSteps();l1.forEach(function(p1){if(C.configEditor.getCategoriesForStep(p1.getId())[0]===E){k1.push(p1.getId());}});var m1=this.oModel.getData().aConfigDetails[a].configData[1].categories[w];m1.isSelected=false;var n1=jQuery.extend(true,{},m1);if(n1.steps){for(var i=0;i<n1.steps.length;i++){n1.steps[i].id=k1[i];var o1=C.configEditor.getStep(k1[i]);N=o1.getRepresentations();if(n1.steps[i].representations){for(var j=0;j<n1.steps[i].representations.length;j++){n1.steps[i].representations[j].id=N[j].getId();}}}}n1.id=E;n1.name="< "+D+" >";n1.isSelected=true;u=this.oModel.getData().aConfigDetails[a].configData[1].categories.length;this.oModel.getData().aConfigDetails[a].configData[1].categories.push(n1);O[6]=u;r=O.join("/");h1();}.bind(this));break;case c.configurationObjectTypes.NAVIGATIONTARGET:var H=this.oCoreApi.getText("copyOf")+"  "+p.nodeTitle;var I=this.configEditor.copyNavigationTarget(p.nodeAPFId);O=t.split("/");a=O[2];x=O[6];var J=this.oModel.getData().aConfigDetails[a].configData[2].navTargets[x];J.isSelected=false;var K=jQuery.extend(true,{},J);K.id=I;K.name="< "+H+" >";K.isSelected=true;u=this.oModel.getData().aConfigDetails[a].configData[2].navTargets.length;this.oModel.getData().aConfigDetails[a].configData[2].navTargets.push(K);O[6]=u;r=O.join("/");h1();o.oConfigListInstance._setNavigationTargetName({configIndexInTree:a});break;case c.configurationObjectTypes.STEP:var L=this.oCoreApi.getText("copyOf")+"  "+p.nodeTitle;var P=this.configEditor.copyStep(p.nodeAPFId);var Q=this.configEditor.getCategoriesForStep(P);var R=this.configEditor.getStep(P);var U=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_TITLE;this.oTextPool.setTextAsPromise(L,U).done(function(i){var j;R.setTitleId(i);O=t.split("/");a=O[2];w=O[6];y=O[8];var i1=this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[y];i1.isSelected=false;var j1=jQuery.extend(true,{},i1);N=R.getRepresentations();j1.id=P;j1.name="< "+L+" >";if(j1.representations){for(j=0;j<j1.representations.length;j++){j1.representations[j].id=N[j].getId();}}u=this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps.length;O[8]=u;r=O.join("/");for(var k1=0;k1<Q.length;k1++){var l1=jQuery.extend(true,{},j1);var m1={arguments:{configId:o.oConfigListInstance.configId,categoryId:Q[k1]}};var n1=o.oConfigListInstance.getSPathFromURL(m1).sPath.split("/");var o1=n1[6];this.oModel.getData().aConfigDetails[a].configData[1].categories[o1].steps.push(l1);}this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[u].isSelected=true;h1();}.bind(this));break;case c.configurationObjectTypes.REPRESENTATION:O=t.split("/");a=O[2];w=O[6];y=O[8];z=O[10];var V=this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[y].id;var W=this.configEditor.getStep(V);var X=this.configEditor.getCategoriesForStep(V);this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[y].representations[z].isSelected=false;var Y=this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[y].representations[z];var Z=jQuery.extend(true,{},Y);var $=W.copyRepresentation(Z.id);Z.id=$;u=this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[y].representations.length;O[10]=u;r=O.join("/");for(var _=0;_<X.length;_++){var a1=jQuery.extend(true,{},Z);var b1={arguments:{configId:o.oConfigListInstance.configId,categoryId:X[_],stepId:V}};var c1=o.oConfigListInstance.getSPathFromURL(b1).sPath.split("/");var d1=c1[6];var e1=c1[8];this.oModel.getData().aConfigDetails[a].configData[1].categories[d1].steps[e1].representations.push(a1);}this.oModel.getData().aConfigDetails[a].configData[1].categories[w].steps[y].representations[u].isSelected=true;h1();break;case c.configurationObjectTypes.CONFIGURATION:var f1=this.oCoreApi.getText("copyOf")+"  "+p.nodeTitle;O=t.split("/");a=O[2];var g1=this.oModel.getData().aConfigDetails[a];g1.isSelected=false;O[2]=this.oModel.getData().aConfigDetails.length;r=O.join("/");this.configurationHandler.copyConfiguration(p.nodeAPFId,function(i){var j={AnalyticalConfigurationName:f1};var i1=C.configurationHandler.setConfiguration(j,i);C.configTitle=f1;C.configurationHandler.loadConfiguration(i1,function(j1){var f1=C.configTitle;var k1=sap.apf.modeler.ui.utils.TranslationFormatMap.APPLICATION_TITLE;C.configurationHandler.getTextPool().setTextAsPromise(f1,k1).done(function(l1){j1.setApplicationTitle(l1);});});o._copyConfiguration(i,r);});break;default:break;}function h1(){C.oModel.updateBindings();q=C.oTreeInstance.getModel().getContext(r);C.selectedNode=C.oTreeInstance.getItemNodeByContextWithoutExpand(q.sPath);var i=C.oTreeInstance.getAPFTreeNodeContext(C.selectedNode);var j=C.oTreeInstance.getParentNodeContext(i);C.navigateToDifferntView(j,i);C.configEditor.setIsUnsaved();d.resolve();}};var k=function(){var i=new sap.m.Label().addStyleClass("noConfigSelected");i.setText(o.oConfigListInstance.oCoreApi.getText("noConfigSelected"));i.placeAt(o.oConfigListInstance.byId("idConfigDetailData"));o.oConfigListInstance.toolbarController.disableCopyDeleteButton();o.oConfigListInstance._enableDisableExportAndExecuteButton();};var l;if(!b){n.throwMandatoryPopup(o.oConfigListInstance,{yes:function(){var i=o.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(o.oConfigListInstance.oTreeInstance.getSelectedItem());var p=o.oConfigListInstance.oTreeInstance.getParentNodeContext(i);o.oConfigListInstance.bIsDifferntConfig=o.oConfigListInstance.oTreeInstance.isConfigurationSwitched(o.oConfigListInstance.oPreviousSelectedNode,o.oConfigListInstance.selectedNode);o.oConfigListInstance.configEditor=o.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(p.configId);if(o.oConfigListInstance.bIsSaved===false&&o.oConfigListInstance.configEditor){o.oConfigListInstance.configEditor.setIsUnsaved();}if(o.oConfigListInstance.bIsDifferntConfig===false){var s=(typeof o.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function")?o.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var j=o.oConfigListInstance._isNewSubView(s.getView().getViewData().oParams);if(!j){h.call(o.oConfigListInstance);o.oConfigListInstance._navHandleExpandDelete.call(o.oConfigListInstance,o.oConfigListInstance.oSelectedNodeDetails,p);}else{o.oConfigListInstance.handleConfirmDeletion();}}else{var N=o.oConfigListInstance._navMandatoryResetState(o.oConfigListInstance);if(!N.isNewView){if(N.bIsSaved===false){l(o.oConfigListInstance);}else{h.call(o.oConfigListInstance);}}}}});g=true;}var m;if(s.getView().getViewData().oParams.name==="configuration"){m=true;}l=function(i){n.throwLossOfDataPopup(i,{yes:function(j){o.oConfigListInstance._navSaveState(function(){j(function(p){if(o.oConfigListInstance.selectedNode){var B=o.oConfigListInstance.selectedNode._getBindingContext().sPath;var C=B.split("/");var a=C[2];}o.oConfigListInstance.oModel.getData().aConfigDetails[a].AnalyticalConfiguration=o.oConfigListInstance.configId;o.oConfigListInstance.oModel.updateBindings();h.call(o.oConfigListInstance);});});},no:function(){var i={appId:o.oConfigListInstance.appId,configId:o.oConfigListInstance.configId};var s=(typeof o.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function")?o.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var m=(s.getView().getViewData().oParams.name==="configuration")?true:false;if(o.oConfigListInstance.configId.indexOf(c.configurationObjectTypes.ISNEWCONFIG)===0){o.oConfigListInstance._navHandleExpandDelete.call(o.oConfigListInstance,{},i,m);o.oConfigListInstance.clearTitleAndBreadCrumb();o.oConfigListInstance.byId("idConfigDetailData").removeAllContent();k();}else{o.oConfigListInstance._navConfigResetState(o.oConfigListInstance,function(){h.call(o.oConfigListInstance);});}}});};if(o.oConfigListInstance.bIsSaved===false&&b&&m){l(o.oConfigListInstance);g=true;}if(!g){h.call(o.oConfigListInstance);}return d.promise();},_handlePressDeleteButton:function(e){var d;var s=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var n=this.oCoreApi.getText(s.nodeObjectType);e.getSource().$().blur();if(s.nodeObjectType===c.configurationObjectTypes.STEP){d=this.oCoreApi.getText("confirmStepDeletion",[s.nodeTitle]);}else{d=this.oCoreApi.getText("confirmDeletion",[n,s.nodeTitle]);}this._openDeleteConfirmationDialog(d);},_openDeleteConfirmationDialog:function(d){var s=this;var C=jQuery.extend(s.oConfigListInstance,{closeDialog:s.closeDialog.bind(s)});if(!this.confirmationDialog){this.confirmationDialog=sap.ui.xmlfragment("idConfigConfirmationDialogFragment","sap.apf.modeler.ui.fragment.deleteConfirmationDialog",C);this.getView().addDependent(this.confirmationDialog);this._setConfirmationDialogText();}var a=new sap.m.Text();a.setText(d);this.confirmationDialog.removeAllContent();this.confirmationDialog.addContent(a);this.confirmationDialog.addAriaDescribedBy(a);S("sapUiSizeCompact",this.getView(),this.confirmationDialog);this.confirmationDialog.open();},closeDialog:function(){if(this.confirmationDialog&&this.confirmationDialog.isOpen()){this.confirmationDialog.close();}},_setConfirmationDialogText:function(){sap.ui.core.Fragment.byId("idConfigConfirmationDialogFragment","idDeleteConfirmation").setTitle(this.oCoreApi.getText("confirmation"));sap.ui.core.Fragment.byId("idConfigConfirmationDialogFragment","idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));sap.ui.core.Fragment.byId("idConfigConfirmationDialogFragment","idCancelButtonDialog").setText(this.oCoreApi.getText("cancel"));},_handlePressMoveUpButton:function(){this.bIsDown=false;var s=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(s!==null){var a=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(s);if(a!==undefined){this._moveUpOrDown(a,this.bIsDown);}}},_handlePressMoveDownButton:function(){this.bIsDown=true;var s=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(s!==null){var a=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(s);if(a!==undefined){this._moveUpOrDown(a,this.bIsDown);}}},_moveUpOrDown:function(s,i){var a=s.nodeObjectType;var b=s.nodeAPFId;var n=s.nodeContext;var d=n.split('/')[2];var o,e,t,T,l;var f=false;var g=n.split('/')[n.split('/').length-1];switch(a){case c.configurationObjectTypes.FACETFILTER:o=this.oConfigListInstance.oModel.getData().aConfigDetails[d].configData[0].filters;l=o.length;if(i){if(parseInt(g,10)!==(l-1)){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(b,1);e=parseInt(g,10)+1;f=true;}}else{if(parseInt(g,10)!==0){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(b,-1);e=parseInt(g,10)-1;f=true;}}break;case c.configurationObjectTypes.CATEGORY:o=this.oConfigListInstance.oModel.getData().aConfigDetails[d].configData[1].categories;l=o.length;if(i){if(parseInt(g,10)!==(l-1)){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(b,1);e=parseInt(g,10)+1;f=true;}}else{if(parseInt(g,10)!==0){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(b,-1);e=parseInt(g,10)-1;f=true;}}break;case c.configurationObjectTypes.NAVIGATIONTARGET:o=this.oConfigListInstance.oModel.getData().aConfigDetails[d].configData[2].navTargets;l=o.length;if(i){if(parseInt(g,10)!==(l-1)){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(b,1);e=parseInt(g,10)+1;f=true;}}else{if(parseInt(g,10)!==0){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(b,-1);e=parseInt(g,10)-1;f=true;}}break;case c.configurationObjectTypes.STEP:var h=n.split('/')[6];var j=this.oConfigListInstance.oModel.getData().aConfigDetails[d].configData[1].categories[h];o=j.steps;l=o.length;if(i){if(parseInt(g,10)!==(l-1)){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(j.id,b,1);e=parseInt(g,10)+1;f=true;}}else{if(parseInt(g,10)!==0){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(j.id,b,-1);e=parseInt(g,10)-1;f=true;}}break;case c.configurationObjectTypes.REPRESENTATION:var k=this.oConfigListInstance.oTreeInstance.getSelectedItem();var m=k.getParentNode();var p=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(m).nodeAPFId;var q=this.oConfigListInstance.configEditor.getStep(p);h=n.split('/')[6];var r=n.split('/')[8];o=this.oConfigListInstance.oModel.getData().aConfigDetails[d].configData[1].categories[h].steps[r].representations;l=o.length;if(i){if(parseInt(g,10)!==(l-1)){q.moveRepresentationUpOrDown(b,1);e=parseInt(g,10)+1;f=true;}}else{if(parseInt(g,10)!==0){q.moveRepresentationUpOrDown(b,-1);e=parseInt(g,10)-1;f=true;}}break;default:break;}if(f){t=o[g];T=o[e];o[e]=t;o[g]=T;this.oConfigListInstance.oModel.updateBindings();this.oConfigListInstance.configEditor.setIsUnsaved();}},_handleAddExistingStepPress:function(){var s=this;var a=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var b=this.oConfigListInstance.oTreeInstance.getParentNodeContext(a).categoryId;var d=this.oConfigListInstance.configEditor.getStepsNotAssignedToCategory(b);var e;var f=[];d.forEach(function(g){var o={};var h=s.oConfigListInstance.configEditor.getStep(g);e=s.oConfigListInstance.oTextPool.get(h.getTitleId()).TextElementDescription;o.id=g;o.name=e;f.push(o);});var m=new sap.ui.model.json.JSONModel({existingStepData:f});if(!this.addExistingStepDialog){this.addExistingStepDialog=sap.ui.xmlfragment("idExistingStepDialogFragment","sap.apf.modeler.ui.fragment.existingStepDialog",this);this._setExistingStepDialogText();}this.getView().addDependent(this.addExistingStepDialog);this.addExistingStepDialog.setModel(m);this.addExistingStepDialog.open();},_handleExistingStepDialogOK:function(e){var n=c.configurationObjectTypes.STEP;var s=e.getParameters("listItem").selectedItems;var a=s.length;var b=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var d=this.oConfigListInstance.oTreeInstance.getParentNodeContext(b).categoryId;var E=[];for(var i=0;i<a;i++){var p=e.getParameters("selectedItems").selectedContexts[i].sPath.split('/')[2];var o=e.getSource().getModel().getData().existingStepData[p];var f=this.oConfigListInstance.configEditor.getStep(o.id);this.oConfigListInstance.configEditor.addCategoryStepAssignment(d,o.id);var r=f.getRepresentations();var g=r.length;var R=[];for(var j=0;j<g;j++){var h={};h.id=r[j].getId();h.name=r[j].getRepresentationType();h.icon=this._getRepresentationIcon(h.name);R.push(h);}var k={};k.step=o;k.representations=R;k.noOfReps=g;E.push(k);}if(a!==0){var l={noOfSteps:a,aExistingStepsToBeAdded:E};this.oConfigListInstance.oTreeInstance.addNodeInTree(n,l);}},_getRepresentationIcon:function(r){var i;var R=this.oCoreApi.getRepresentationTypes();for(var a=0;a<R.length;a++){if(r===R[a].id){i=R[a].picture;break;}}return i;},_handleExistingStepDialogSearch:function(e){var v=e.getParameter("value");var f=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);var b=e.getSource().getBinding("items");b.filter([f]);},_handleExistingStepDialogClose:function(e){if(this.addExistingStepDialog){e.getSource().getBinding("items").filter([]);}}});},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/APFTree',['sap/apf/modeler/ui/utils/constants','sap/m/Tree','sap/m/TreeRenderer'],function(c,T,a){'use strict';
var A=T.extend("sap.apf.modeler.ui.utils.APFTree",{
metadata:{events:{},properties:{translationFunction:{},defaultRepresentationType:{},applicationId:{}}},
previousSelectedItem:null,
renderer:function(C,r){a.render(C,r);},
setTranslationFunction:function(t){this.fnTranslationFunction=t;},
setDefaultRepresentationType:function(d){this.defaultRepresentationType=d;},
setApplicationId:function(b){this.applicationId=b;},
getAPFTreeNodeContext:function(n){if(n){var N=n?n._getBindingContext():undefined;var o=N.getObject()?N.getObject().type:undefined;var O;if(N.getObject()&&N.getObject().id){O=N.getObject().id;}else if(N.getObject()&&N.getObject().AnalyticalConfiguration){O=N.getObject().AnalyticalConfiguration;}return{oNode:n,nodeContext:N.sPath,nodeObjectType:o,nodeTitle:n.getTitle(),nodeAPFId:O};}return null;},
getItemNodeByContext:function(p){var t=this;var s=p.split("/");switch(s.length){case 3:t.expandToLevel(0);break;case 7:t.expandToLevel(2);break;case 9:t.expandToLevel(3);break;case 11:t.expandToLevel(4);break;}for(var n=0;n<this.getItems().length;n++){var i=this.getItems()[n];if(i._getBindingContext().sPath===p){return i;}}return null;},
getItemNodeByContextWithoutExpand:function(p){for(var n=0;n<this.getItems().length;n++){var i=this.getItems()[n];if(i._getBindingContext().sPath===p){return i;}}return null;},
getParentNodeContext:function(s){var m=this.getModel();if(s!==null){var b=s.nodeContext.split('/')[2];var d=m.getData().aConfigDetails[b]?m.getData().aConfigDetails[b].AnalyticalConfiguration:undefined;var r;var e=s.nodeContext.split('/')[6];var f=s.nodeContext.split('/')[6];var n=s.nodeContext.split('/')[6];var g=s.nodeContext.split('/')[8];var S={};if(s!==null){switch(s.nodeObjectType){case c.configurationObjectTypes.FACETFILTER:S.facetFilterId=m.getData().aConfigDetails[b].configData[0].filters[f].id;S.configId=d;S.configurationName=m.getData().aConfigDetails[b].name;S.facetFilterName=m.getData().aConfigDetails[b].configData[0].filters[f].name;break;case c.configurationObjectTypes.SMARTFILTERBAR:S.smartFilterId=m.getData().aConfigDetails[b].configData[0].filters[f].id;S.configId=d;S.configurationName=m.getData().aConfigDetails[b].name;S.smartFilterName=m.getData().aConfigDetails[b].configData[0].filters[f].name;break;case c.configurationObjectTypes.CATEGORY:if(m.getData().aConfigDetails[b].configData!=undefined){S.categoryId=m.getData().aConfigDetails[b].configData[1].categories[e].id;S.configId=d;S.configurationName=m.getData().aConfigDetails[b].name;S.categoryName=m.getData().aConfigDetails[b].configData[1].categories[e].name;}break;case c.configurationObjectTypes.STEP:S.configId=d;S.categoryId=m.getData().aConfigDetails[b].configData[1].categories[e].id;S.stepId=m.getData().aConfigDetails[b].configData[1].categories[e].steps[g].id;S.configurationName=m.getData().aConfigDetails[b].name;S.categoryName=m.getData().aConfigDetails[b].configData[1].categories[e].name;S.stepName=m.getData().aConfigDetails[b].configData[1].categories[e].steps[g].name;break;case c.configurationObjectTypes.REPRESENTATION:r=s.oNode;S.configId=d;S.categoryId=m.getData().aConfigDetails[b].configData[1].categories[e].id;S.stepId=m.getData().aConfigDetails[b].configData[1].categories[e].steps[g].id;S.representationId=r._getBindingContext().getObject().id;S.configurationName=m.getData().aConfigDetails[b].name;S.categoryName=m.getData().aConfigDetails[b].configData[1].categories[e].name;S.stepName=m.getData().aConfigDetails[b].configData[1].categories[e].steps[g].name;S.representationName=r._getBindingContext().getObject().name;break;case c.configurationObjectTypes.CONFIGURATION:S.configId=s.oNode._getBindingContext().getObject().AnalyticalConfiguration;S.configurationName=s.oNode._getBindingContext().getObject().name;break;case c.configurationObjectTypes.NAVIGATIONTARGET:S.navTargetId=m.getData().aConfigDetails[b].configData[2].navTargets[n].id;S.configId=d;S.configurationName=m.getData().aConfigDetails[b].name;S.navTargetName=m.getData().aConfigDetails[b].configData[2].navTargets[n].name;break;default:break;}if(m.getData().aConfigDetails&&m.getData().aConfigDetails[b]){S.appId=m.getData().aConfigDetails[b].Application;}}return S;}},
isConfigurationSwitched:function(p,C){var i=false,P,b;var o=this.getParentNodeContext(this.getAPFTreeNodeContext(p));var d=this.getParentNodeContext(this.getAPFTreeNodeContext(C));P=o?o.configId:undefined;if(o&&!jQuery.isEmptyObject(o)&&o.configId===undefined){b=this.getAPFTreeNodeContext(p).nodeContext.split("/")[2];P=this.getModel().getData().aConfigDetails[b].AnalyticalConfiguration;}if(P!==undefined&&P!==d.configId){i=true;}return i;},
removeSelectionOnTree:function(s){var S=this.getSelectedItem();if(s){s._getBindingContext().getObject().isSelected=false;s.setSelected(false);}else if(S){S._getBindingContext().getObject().isSelected=false;S.setSelected(false);}this.getModel().updateBindings();},
setSelectionOnTree:function(b){this.selectedNode=this.getItemNodeByContextWithoutExpand(b);var s=this.getSelectedItem();if(s!==this.selectedNode){if(s&&s._getBindingContext().getObject()){s.getBindingContext().getObject().isSelected=false;s.setSelected(false);}this.setSelectedItem(this.selectedNode);}},
_scrollTreeToNewNode:function(n){if(n&&n.$().length!==0){jQuery(n.$())[0].scrollIntoView();}},
setSelectedNode:function(n){this.setSelectedItem(n.getItemNodeContext());this.getModel().updateBindings();this._scrollTreeToNewNode(n);},
addNodeInTree:function(o,p,i){var m;var s=this.getAPFTreeNodeContext(this.getSelectedItem());var b=s?s.nodeContext.split('/')[2]:undefined;var d=s?s.nodeContext.split('/')[6]:undefined;var e=s?s.nodeContext.split('/')[8]:undefined;m=["_add",o].join("");this[m](b,d,e,p,i);var O=this._getObjectNodesArray(o,b,d,e);var n=O[O.length-1];if(n!==undefined){if(o!==c.configurationObjectTypes.CONFIGURATION){this.onItemExpanderPressed(n,true);}this.setSelectedItem(n);}},
_getObjectNodesArray:function(o,b,d,s){var O=[];switch(o){case c.configurationObjectTypes.CONFIGURATION:O=this.getItems();break;case c.configurationObjectTypes.FACETFILTER:this.expandToLevel(2);var e=this.getSelectedItem().getId();var r=e.split("-");var f=r.length;var g=r[f-1];var h=this.getItems()[parseInt(g,10)+1].getItemNodeContext().children.length;if(this.getItems()[parseInt(g,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+b+"/configData/0"){for(var i=1;i<h;i++){O.push(this.getItems()[parseInt(g,10)+1+i]);}}this.expandToLevel(1);break;case c.configurationObjectTypes.CATEGORY:this.expandToLevel(2);var e=this.getSelectedItem().getId();var r=e.split("-");var f=r.length;var g=r[f-1];if(this.getItems()[parseInt(g,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+b+"/configData/0"){var h=this.getItems()[parseInt(g,10)+1].getItemNodeContext().children.length;var j=parseInt(g,10)+2+h;var k=this.getItems()[parseInt(j,10)].getItemNodeContext().children.length;for(var i=1;i<k;i++){O.push(this.getItems()[parseInt(j,10)+1+i]);}}this.expandToLevel(1);break;case c.configurationObjectTypes.STEP:break;case c.configurationObjectTypes.REPRESENTATION:break;case c.configurationObjectTypes.NAVIGATIONTARGET:this.expandToLevel(2);var e=this.getSelectedItem().getId();var r=e.split("-");var f=r.length;var g=r[f-1];if(this.getItems()[parseInt(g,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+b+"/configData/0"){var h=this.getItems()[parseInt(g,10)+1].getItemNodeContext().children.length;var j=parseInt(g,10)+2+h;var k=this.getItems()[j].getItemNodeContext().children.length;var N=j+k+1;var l=this.getItems()[N].getItemNodeContext().children.length;for(var i=1;i<l;i++){O.push(this.getItems()[N+1+i]);}}this.expandToLevel(1);break;default:break;}return O;},
_addconfiguration:function(){var s=this;this.configNewIndex=this.configNewIndex||1;var m=this.getModel();var i;i="I"+this.configNewIndex;this.configNewIndex++;var b=[],f=[],C=[],n=[];b.push({filters:f,name:s.fnTranslationFunction("facetFilters"),isSelected:false,expanded:false,selectable:false});b.push({categories:C,name:s.fnTranslationFunction("categories"),isSelected:false,expanded:false,selectable:false});b.push({navTargets:n,name:s.fnTranslationFunction("navigationTargets"),isSelected:false,expanded:false,selectable:false});var o={};o.configData=b;var d=this.fnTranslationFunction("newConfiguration");var e={name:"< "+d+" >",type:c.configurationObjectTypes.CONFIGURATION,AnalyticalConfiguration:"newConfig"+i,Application:this.applicationId,configData:b,bIsLoaded:true,isSelected:false,expanded:false,selectable:true};m.getData().aConfigDetails.push(e);m.updateBindings();},
_addfacetFilter:function(b){var m=this.getModel();var n=this.fnTranslationFunction("newFacetFilter");var i=m.getData().aConfigDetails[b].configData[0].filters.length;var d={name:"< "+n+" >",type:c.configurationObjectTypes.FACETFILTER,id:"newFilter"+i,isSelected:false,selectable:true};m.getData().aConfigDetails[b].expanded=true;m.getData().aConfigDetails[b].configData[0].expanded=true;m.getData().aConfigDetails[b].configData[0].filters.push(d);m.updateBindings();},
_addnavigationTarget:function(b){var m=this.getModel();var n=this.fnTranslationFunction("newNavigationTarget");var i=m.getData().aConfigDetails[b].configData[2].navTargets.length;var d={name:"< "+n+" >",type:c.configurationObjectTypes.NAVIGATIONTARGET,id:"newNavTarget"+i,isSelected:false,selectable:true};m.getData().aConfigDetails[b].expanded=true;m.getData().aConfigDetails[b].configData[2].expanded=true;m.getData().aConfigDetails[b].configData[2].navTargets.push(d);m.updateBindings();},
_addcategory:function(b){var m=this.getModel();var n=this.fnTranslationFunction("newCategory");var i=m.getData().aConfigDetails[b].configData[1].categories.length;var d={name:"< "+n+" >",type:c.configurationObjectTypes.CATEGORY,id:"newCategory"+i,isSelected:false,expanded:false,selectable:true};m.getData().aConfigDetails[b].expanded=true;m.getData().aConfigDetails[b].configData[1].expanded=true;m.getData().aConfigDetails[b].configData[1].categories.push(d);m.updateBindings();},
_addstep:function(b,d,s,p,I){var m=this.getModel();var n;var I=(I&&I===true)?true:false;if(m.getData().aConfigDetails[b].configData[1].categories[d].steps===undefined){m.getData().aConfigDetails[b].configData[1].categories[d].steps=[];}if(!p){var e=m.getData().aConfigDetails[b].configData[1].categories[d].steps.length;var f=this.fnTranslationFunction("newStep");n={name:"< "+f+" >",type:c.configurationObjectTypes.STEP,id:"newStep"+e,isSelected:false,expanded:false,selectable:true,bIsHierarchicalStep:I};m.getData().aConfigDetails[b].expanded=true;m.getData().aConfigDetails[b].configData[1].expanded=true;m.getData().aConfigDetails[b].configData[1].categories[d].expanded=true;m.getData().aConfigDetails[b].configData[1].categories[d].steps.push(n);}else{var g,i,j;for(i=0;i<p.noOfSteps;i++){g={name:p.aExistingStepsToBeAdded[i].step.name,type:c.configurationObjectTypes.STEP,id:p.aExistingStepsToBeAdded[i].step.id,isSelected:false,expanded:false,selectable:true,icon:I===true?"sap-icon://drill-down":"sap-icon://step"};m.getData().aConfigDetails[b].configData[1].categories[d].steps.push(g);if(p.aExistingStepsToBeAdded[i].noOfReps!==0){s=m.getData().aConfigDetails[b].configData[1].categories[d].steps.length-1;for(j=0;j<p.aExistingStepsToBeAdded[i].noOfReps;j++){var r={id:p.aExistingStepsToBeAdded[i].representations[j].id,name:p.aExistingStepsToBeAdded[i].representations[j].name,icon:p.aExistingStepsToBeAdded[i].representations[j].icon};this._addrepresentation(b,d,s,r);}}}}m.updateBindings();},
_addrepresentation:function(b,d,s,p){var m=this.getModel();var e=this;var f;if(p===undefined){var g=this.getAPFTreeNodeContext(this.getSelectedItem());if(g.nodeObjectType===c.configurationObjectTypes.REPRESENTATION){f=this.getParentNodeContext(g,m).stepId;}else if(g.nodeObjectType===c.configurationObjectTypes.STEP){f=g.nodeAPFId;}var S=[];m.getData().aConfigDetails[b].configData[1].categories.forEach(function(h,i){if(m.getData().aConfigDetails[b].configData[1].categories[i].steps){m.getData().aConfigDetails[b].configData[1].categories[i].steps.forEach(function(j,k){var l={};if(j.id===f){l.stepIndex=k;l.categoryIndex=i;S.push(l);}});}});S.forEach(function(h){if(m.getData().aConfigDetails[b].configData[1].categories[h.categoryIndex].steps[h.stepIndex].representations===undefined){m.getData().aConfigDetails[b].configData[1].categories[h.categoryIndex].steps[h.stepIndex].representations=[];}var i=m.getData().aConfigDetails[b].configData[1].categories[h.categoryIndex].steps[h.stepIndex].representations.length;var n={name:e.fnTranslationFunction(e.defaultRepresentationType),type:c.configurationObjectTypes.REPRESENTATION,id:"newRepresentation"+i,isSelected:false,selectable:true};m.getData().aConfigDetails[b].expanded=true;m.getData().aConfigDetails[b].configData[1].expanded=true;m.getData().aConfigDetails[b].configData[1].categories[h.categoryIndex].expanded=true;m.getData().aConfigDetails[b].configData[1].categories[h.categoryIndex].steps[h.stepIndex].expanded=true;m.getData().aConfigDetails[b].configData[1].categories[h.categoryIndex].steps[h.stepIndex].representations.push(n);});}else{if(m.getData().aConfigDetails[b].configData[1].categories[d].steps[s].representations===undefined){m.getData().aConfigDetails[b].configData[1].categories[d].steps[s].representations=[];}var r={name:p.name,type:c.configurationObjectTypes.REPRESENTATION,id:p.id,isSelected:false,selectable:true,icon:p.icon};m.getData().aConfigDetails[b].configData[1].categories[d].steps[s].representations.push(r);}m.updateBindings();}
});
sap.apf.modeler.ui.utils.APFTree=A;return A;},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/propertyTypeFactory',['sap/apf/modeler/ui/utils/constants'],function(M){'use strict';
function c(){}
sap.apf.modeler.ui.utils.PropertyTypeFactory=c;sap.apf.modeler.ui.utils.PropertyTypeFactory.prototype.constructor=sap.apf.modeler.ui.utils.PropertyTypeFactory;
function a(v,V){var o,p,s="sap.apf.modeler.ui.view.propertyType";switch(v.sPropertyType){case M.propertyTypes.DIMENSION:p=new sap.ui.controller("sap.apf.modeler.ui.controller.representationDimension");break;case M.propertyTypes.MEASURE:p=new sap.ui.controller("sap.apf.modeler.ui.controller.representationMeasure");break;case M.propertyTypes.LEGEND:p=new sap.ui.controller("sap.apf.modeler.ui.controller.representationLegend");break;case M.propertyTypes.PROPERTY:p=new sap.ui.controller("sap.apf.modeler.ui.controller.representationProperty");break;case M.propertyTypes.HIERARCHIALCOLUMN:p=new sap.ui.controller("sap.apf.modeler.ui.controller.representationHierarchyProperty");break;case M.propertyTypes.REPRESENTATIONSORT:s="sap.apf.modeler.ui.view.sortPropertyType";p=new sap.ui.controller("sap.apf.modeler.ui.controller.representationSortPropertyType");break;case M.propertyTypes.STEPSORT:s="sap.apf.modeler.ui.view.sortPropertyType";p=new sap.ui.controller("sap.apf.modeler.ui.controller.stepSortPropertyType");break;default:return undefined;}o=new sap.ui.view({viewName:s,type:sap.ui.core.mvc.ViewType.XML,id:V,viewData:v,controller:p});return o;}
sap.apf.modeler.ui.utils.PropertyTypeFactory.prototype.createPropertyTypeView=a;return{createPropertyTypeView:a};},true);
sap.ui.predefine('sap/apf/modeler/ui/utils/propertyTypeOrchestration',['sap/apf/modeler/ui/utils/constants'],function(M){'use strict';
function P(){var p=[];this._getPropertyTypeRows=function(){return p;};this.getPropertyTypeRow=function(v){return p.filter(function(s){return(s.controlId===v);})[0];};this.getPropertyTypeRowByPropertyName=function(s){return p.filter(function(a){return(a.propertyRowInformation.sProperty===s);})[0];};this.getSelectedProperties=function(){var s=[];this._getPropertyTypeRows().forEach(function(a){s.push(a.propertyRowInformation.sProperty);});return s;};this.updatePropertyTypeRow=function(v,s){this.getPropertyTypeRow(v).propertyRowInformation.sProperty=s;};this.getAggregationRole=function(){if(p.length===0){return null;}return m._mapPropertyType2AggregationRole(p[0].sPropertyType);};this.getPropertyInformationList=function(){var t=this;var a=[];this._getPropertyTypeRows().forEach(function(r){var s=r.propertyRowInformation.sProperty;var T;switch(t._getPropertyTypeRows()[0].sPropertyType){case M.propertyTypes.DIMENSION:case M.propertyTypes.LEGEND:T=r.oView.oViewData.oRepresentationHandler.oRepresentation.getDimensionTextLabelKey(s);break;case M.propertyTypes.MEASURE:T=r.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureTextLabelKey(s);break;case M.propertyTypes.PROPERTY:T=r.oView.oViewData.oRepresentationHandler.oRepresentation.getPropertyTextLabelKey(s);break;case M.propertyTypes.HIERARCHIALCOLUMN:T=r.oView.oViewData.oRepresentationHandler.oRepresentation.getHierarchyPropertyTextLabelKey(s);break;default:T=null;break;}if(s!==r.oView.getController().oTextReader("none")){a.push({sProperty:s,sKind:r.propertyRowInformation.sContext,sTextLabelKey:T,sLabelDisplayOption:r.oView.oViewData.oRepresentationHandler.oRepresentation.getLabelDisplayOption(s),sMeasureDisplayOption:r.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureDisplayOption(s)});}});return a;};this.getSortPropertyInformationList=function(s){return this._getPropertyTypeRows().filter(function(r){var a=r.propertyRowInformation.sProperty;return(a!==r.oView.getController().oTextReader("none"));}).map(function(r){return{property:r.propertyRowInformation.sProperty,ascending:r.oView.getController().byId(s).getSelectedKey()==="true"?true:false};});};this.addPropertyTypeReference=function(c,a,s,v){p.push({controlId:c,propertyRowInformation:a,sPropertyType:s,oView:v});};this.removePropertyTypeReference=function(c){p.forEach(function(s,i){if(s.controlId===c){p.splice(i,1);}});};this.updateAllDropDownsAsPromise=function(){return new Promise(function(r){_(r);});};function _(r){var l=[];p.forEach(function(R){l.push(m._updateDropDownOfAControl(R));});Promise.all(l).then(function(){r();});}this.updateAllSelectControlsForPropertyType=function(v,s){var t=this;return new Promise(function(r){if(v&&s){if(t.isSwapCase(v,s)){t._swapPropertiesBetweenControls(v,s).then(function(){_(r);});}else{t.updatePropertyTypeRow(v,s);_(r);}}else{_(r);}});};this.isSwapCase=function(v,s){return(m._mapPropertyType2AggregationRole(this.getPropertyTypeRow(v).sPropertyType)===M.aggregationRoles.MEASURE&&m._isPropertyAlreadySelected(this.getSelectedProperties(),s));};this._swapPropertiesBetweenControls=function(v,n){var c=this;return new Promise(function(r){var a=c.getPropertyTypeRow(v);var b;var o=a.propertyRowInformation.sProperty;c._getPropertyTypeRows().forEach(function(d){if(d.propertyRowInformation.sProperty===n){b=c.getPropertyTypeRow(d.controlId);}});b.propertyRowInformation.sProperty=o;a.propertyRowInformation.sProperty=n;c.updateAllDropDownsAsPromise().then(function(){b.oView.getController().setDetailData();r();});});};}
var m={_updateDropDownOfAControl:function(p){var a=new Promise(function(r){var b=m._mapPropertyType2AggregationRole(p.sPropertyType);var v=p.oView.getViewData();var o=p.oView.getViewData().oPropertyOrchestration;var s=v.oStepPropertyMetadataHandler;var c=v.oParentObject.getId();var d=p.propertyRowInformation.sProperty;var i=p.propertyRowInformation.bMandatory;var S=s.oStep;var e=S.getType()==="hierarchicalStep";if(e&&p.sPropertyType===M.propertyTypes.REPRESENTATIONSORT){b=M.aggregationRoles.MEASURE;}m.getConsumableAndAvailablePropertiesAsPromise(c,b,s).then(function(u){var C=p.oView.getController();C.removeAllItemsFromDropDownList();var f=o.getSelectedProperties();var g=m._relativeComplement(u.available,f);C.setItemsOfDropDownList(g,u.available,d,i,b);r();});});return a;},getPropertyListAndSelectedKey:function(p,s,c,a,b){function d(l,i){return l.indexOf(i)!==-1;}function e(s,a){return d(a.available,s)?s:b([s],c.oTextReader)[0];}function g(s){return s!==c.oTextReader("none")&&s!==undefined;}var S=JSON.parse(JSON.stringify(p));var f=e(s,a);if(g(s)&&!d(p,s)){S=p.concat(f);}if(!c.oView.oViewData.oPropertyTypeData.bMandatory){S.splice(0,0,c.oTextReader("none"));}return{aAllProperties:S,sSelectedKey:f};},_mapPropertyType2AggregationRole:function(p){switch(p){case M.propertyTypes.DIMENSION:case M.propertyTypes.LEGEND:return M.aggregationRoles.DIMENSION;case M.propertyTypes.MEASURE:return M.aggregationRoles.MEASURE;default:return null;}},getConsumableAndAvailablePropertiesAsPromise:function(p,d,s){var a=new Promise(function(r){s.getEntityTypeMetadataAsPromise().then(function(e){var S=s.oStep;S.getConsumablePropertiesForRepresentation(p).then(function(c){var f=c.consumable.filter(function(b){var o=s.getPropertyMetadata(e,b);return(!d||o&&o["aggregation-role"]===d);});var F=c.available.filter(function(b){var o=s.getPropertyMetadata(e,b);return(!d||o&&o["aggregation-role"]===d);});r({available:F,consumable:f});});});});return a;},_relativeComplement:function(a,b){var f=JSON.parse(JSON.stringify(a));b.forEach(function(v){f=f.filter(function(c){return c!==v;});});return f;},_isPropertyAlreadySelected:function(s,p){function c(l,i){return l.indexOf(i)!==-1;}return c(s,p);},PropertyTypeOrchestration:P};return m;});
sap.ui.predefine('sap/apf/ui/representations/dualCombinationChart',["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(c,u,B){"use strict";var D=function(a,p){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[a,p]);this.type=u.representationTypes.DUAL_COMBINATION_CHART;this.chartType=u.vizFrameChartTypes.DUAL_COMBINATION;};D.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);
D.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.YAXIS2:a=c.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break;}return a;};
D.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}});};
sap.apf.ui.representations.dualCombinationChart=D;return D;},true);
sap.ui.predefine('sap/apf/ui/representations/dualStackedCombinationChart',["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(c,u,B){"use strict";var D=function(a,p){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[a,p]);this.type=u.representationTypes.DUAL_STACKED_COMBINATION_CHART;this.chartType=u.vizFrameChartTypes.DUAL_STACKED_COMBINATION;};D.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);
D.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.YAXIS2:a=c.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break;}return a;};
D.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return;}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}});};
sap.apf.ui.representations.dualStackedCombinationChart=D;return D;},true);
sap.ui.predefine('sap/apf/ui/representations/stackedCombinationChart',["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(c,u,B){"use strict";var S=function(a,p){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[a,p]);this.type=u.representationTypes.STACKED_COMBINATION_CHART;this.chartType=u.vizFrameChartTypes.STACKED_COMBINATION;};S.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);
S.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.CATEGORYAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;default:break;}return a;};
sap.apf.ui.representations.stackedCombinationChart=S;return S;},true);
sap.ui.predefine('sap/apf/ui/representations/treeTable',["sap/apf/core/constants","sap/apf/ui/utils/formatter","sap/apf/modeler/ui/utils/constants","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/ui/table/TreeTable"],function(c,f,u,B,p,T){"use strict";
function g(o){return o.metadata.getPropertyMetadata(o.requiredFilter).text;}
function a(o){return o.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor;}
function b(r,o){if(r){if(o.getPropertyMetadata(r)["filter-restriction"]==="single-value"){return sap.ui.table.SelectionMode.Single;}return sap.ui.table.SelectionMode.MultiToggle;}return sap.ui.table.SelectionMode.None;}
function _(o,s,q){var r;var v=function(y){return function(z){if(q.metadata!==undefined){var A;if(z){A=q.oFormatter.getFormattedValue(y,z);if(A!==undefined){return A;}}}return z;};};r=new sap.ui.table.TreeTable({showNoData:false,title:s,enableSelectAll:false,visibleRowCountMode:sap.ui.table.VisibleRowCountMode.Auto});r.setLayoutData(new sap.m.FlexItemData({growFactor:1}));r.addStyleClass("sapUiSizeCompact");r.setSelectionMode(b(q.requiredFilter,q.metadata));var C=[],w,x;o.name.forEach(function(y,z){w=new sap.m.Text().bindText(o.value[z],v(o.value[z]),sap.ui.model.BindingMode.OneWay);x=new sap.ui.table.Column({label:new sap.m.Label({text:y}),template:w,tooltip:y});C.push(x);});C.forEach(function(y){r.addColumn(y);});q.oTreeTableModel.attachBatchRequestCompleted(function(){if(q.oApi.getUiApi().getLayoutView().getController()&&q.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){q.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(false);}e(q,r,o);if(q.oRepresentationFilterHandler!==null){if(q.oRepresentationFilterHandler!==undefined){if(q.oRepresentationFilterHandler.getFilterValues().length>0){d(q);}else{q.oTreeTable.clearSelection();}}}});q.oTreeTableModel.attachBatchRequestSent(function(E){if(q.oApi.getUiApi().getLayoutView().getController()&&q.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){q.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(true);}});r.setModel(q.oTreeTableModel);r.bindRows(q.oTreeTableControlObject);return r;}
function d(o){var q=o.oTreeTable.getRows();o.oTreeTable.clearSelection();setTimeout(function(){q.forEach(function(r,s){var v=r.getBindingContext();if(v){var R=v.getProperty(o.requiredFilter);o.oRepresentationFilterHandler.getFilterValues().forEach(function(w){if(R===w){o.oTreeTable.addSelectionInterval(s,s);}});}});},1);}
function e(o,q,r){if(o.metadata!==null){if(o.metadata!==undefined){for(var s=0;s<r.name.length;s++){var M=o.metadata.getPropertyMetadata(r.value[s]);if(M["aggregation-role"]==="measure"){var v=q.getColumns()[s];v.setHAlign(sap.ui.core.HorizontalAlign.End);}}}}}
function h(o,q){var C=o.oTreeTable.getContextByIndex(q).getProperty(o.requiredFilter);var s=o.oTreeTable.getSelectionMode(o.requiredFilter);var I=o.oTreeTable.isIndexSelected(q);var D=o.oTreeTable.getContextByIndex(q).getProperty(g(o));var r=o.oTreeTable.getContextByIndex(q).getProperty(a(o));o.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(C,D,r);var U=o.oRepresentationFilterHandler.getFilterValues();if(I){U=k(o,s,C,U);}else{U=l(o,s,C,U);}m(o,U);}
function i(o){o.oRepresentationFilterHandler.clearFilters();}
function j(F){return F.filter(function(o,q,r){return r.indexOf(o)===q;});}
function k(o,s,C,U){if(s===sap.ui.table.SelectionMode.Single){U=[C];}else{U.push(C);}return j(U);}
function l(o,s,C,U){if(s===sap.ui.table.SelectionMode.Single){U=[];}else{var q=U.indexOf(C);if(q!==-1){U.splice(q,1);}}return U;}
function m(o,U){i(o);o.oRepresentationFilterHandler.updateFilterFromSelection(U);o.oApi.selectionChanged();}
function n(o){var C={name:[],value:[]};var P=o.oParameters.hierarchicalProperty.concat(o.oParameters.properties);P.forEach(function(q,r){var s=q.fieldName;var v=o.metadata.getPropertyMetadata(s).label||o.metadata.getPropertyMetadata(s).name;if(q.kind===sap.apf.modeler.ui.utils.CONSTANTS.propertyTypes.HIERARCHIALCOLUMN){if(q.labelDisplayOption==="text"){s=o.metadata.getPropertyMetadata(o.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeFor).text;}else{s=o.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor;}}C.name[r]=q.fieldDesc===undefined||!o.oApi.getTextNotHtmlEncoded(q.fieldDesc).length?v:o.oApi.getTextNotHtmlEncoded(q.fieldDesc);C.value[r]=s;});return C;}
var t=function(A,P){var o=this;o.oParameters=P;o.requiredFilter=o.oParameters.requiredFilters[0];o.oKeyTextLookup={};o.type=sap.apf.ui.utils.CONSTANTS.representationTypes.TREE_TABLE_REPRESENTATION;sap.apf.ui.representations.BaseUI5ChartRepresentation.apply(o,[A,P]);o.oPaginationDisplayOptionHandler=new sap.apf.ui.representations.utils.PaginationDisplayOptionHandler();o._selectRowInTreeTable=function(E){var q=E.getParameter("userInteraction");var r=E.getParameter("rowIndex");if(!q||r===undefined||r===null){return;}h(o,r);};o.handleRowSelectionInTreeTable=function(E){o._selectRowInTreeTable(E);};};t.prototype=Object.create(sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype);t.prototype.constructor=t;
t.prototype.getMainContent=function(s){if(!this.oTreeTable){var o=n(this);this.oTreeTable=_(o,s,this);this.oTreeTable.attachRowSelectionChange(this.handleRowSelectionInTreeTable.bind(this));}return new sap.m.VBox({fitContainer:true,items:[this.oTreeTable]});};
t.prototype.getSelections=function(){var s=[],o=this,S;this.oRepresentationFilterHandler.getFilterValues().forEach(function(q){S=o.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(q,o.parameter.requiredFilterOptions,o.requiredFilter,o.oFormatter,o.metadata);s.push({id:q,text:S});});return s;};
t.prototype.removeAllSelection=function(){this.oRepresentationFilterHandler.clearFilters();this.oTreeTable.clearSelection();this.oApi.selectionChanged();};
t.prototype.getFilter=function(){var o=this.oApi.createFilter();var A=o.getTopAnd().addOr('exprssionOr');this.oRepresentationFilterHandler.getFilterValues().forEach(function(q){var F={id:q,name:this.requiredFilter,operator:"EQ",value:q};A.addExpression(F);}.bind(this));return o;};
t.prototype.setFilterValues=function(v){var o=this,F=[];var r=o.requiredFilter;o.oRepresentationFilterHandler.clearFilters();v.forEach(function(q){var s=q[r];var w=q[g(o)];var x=q[a(o)];o.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(s,w,x);F.push(s);});o.oRepresentationFilterHandler.updateFilterFromSelection(F);};
t.prototype.updateTreetable=function(o,M,q,F){this.oTreeTableModel=M;this.oTreeTableControlObject=o;this.metadata=q;this.oFormatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata);if(this.oTreeTable&&F){this.oTreeTable.bindRows(this.oTreeTableControlObject);}};
t.prototype.getPrintContent=function(s){var o=this.oTreeTable.clone();var P={oRepresentation:o};return P;};
t.prototype.getSelectedFilterPropertyLabel=function(r){return this.metadata.getPropertyMetadata(r)["hierarchy-node-for"];};
t.prototype.destroy=function(){if(this.oParameters){this.oParameters=null;}if(this.oTreeTableModel){this.oTreeTableModel=null;}if(this.oTreeTableControlObject){this.oTreeTableControlObject=null;}if(this.oTreeTable){this.oTreeTable.destroy();}if(this.metadata){this.metadata=null;}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler=null;}sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype.destroy.call(this);};
return t;},true);
sap.ui.predefine('sap/apf/ui/reuse/controller/analysisPath.controller',['sap/ui/core/mvc/Controller','sap/apf/utils/trace'],function(B,t){"use strict";return B.extend("sap.apf.ui.reuse.controller.analysisPath",{refreshAnalysisPath:function(s){if(this.getView().getCarouselView().getController().oCoreApi.getSteps().length<2){this.getView().getCarouselView().getController().getView().moveDownButton.setEnabled(false);this.getView().getCarouselView().getController().getView().moveUpButton.setEnabled(false);}this.getView().getCarouselView().getController().showStepChartChartAfterUpdate();},isOpenPath:false,isNewPath:false,isBackNavigation:false,bLastValidState:false,onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");}},refresh:function(s){t.logCall("AnalysisPath.refresh"," inx=",s);function a(){var n=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());if(n>s){var c=this.oUiApi.getStepContainer();c.stepLayout.setBusy(true);}}a.bind(this)();if(!this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle();}t.logReturn("refresh");},updateCustomListView:function(c,n,s){this.getView().getCarouselView().getController().updateCustomListView(c,n,s);},callBackForUpdatePath:function(c,s){t.logCall("AnalysisPath.callBackForUpdatePath"," changed?",s," chart=",c.getSelectedRepresentation().chart?c.getSelectedRepresentation().chart.sId:"NULL");try{var n=this.oCoreApi.getSteps().indexOf(c);if(n===0){this.refreshAnalysisPath(n);}this.updateCurrentStep(c,n,s);this.updateCustomListView(c,n,s);}catch(e){window.console.error("sap.apf .. analysisPath.controller catch exception: ",e);window.console.trace("trace ");}t.logReturn("callBackForUpdatePath");},callBackForUpdatePathAndSetLastStepAsActive:function(c,s){t.logCall("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive"," changed?",s," chart=",c.getSelectedRepresentation().chart?c.getSelectedRepresentation().chart.sId:"NULL");try{var n=this.oCoreApi.getSteps().indexOf(c);if(n===0){var S=this.oCoreApi.getSteps()[this.oCoreApi.getSteps().length-1];this.oCoreApi.setActiveStep(S);this.refreshAnalysisPath();}this.updateCurrentStep(c,n,s);this.updateCustomListView(c,n,s);this.oUiApi.getLayoutView().setBusy(false);}catch(e){window.console.error("sap.apf .. analysisPath.controller catch exception: ",e);window.console.trace("trace ");}t.logReturn("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive");},getIsOpenPath:function(){return this.isOpenPath===true?true:false;},setIsOpenPath:function(o){this.isOpenPath=(o)?true:false;},updateCurrentStep:function(c,n,s){t.logCall("AnalysisPath.updateCurrentStep",", inx=",n,", changed?",s,", #core.path=",this.oCoreApi.getSteps().length);try{var a=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var i=(n===a);t.log("updateCurrentStep",", isOpenPath=",this.isOpenPath,", nActiveIndex=",a);if(i){this.drawMainChart(s,i);}if(this.isOpenPath&&(this.oCoreApi.getSteps().indexOf(c)===(this.oCoreApi.getSteps().length-1))){this.oUiApi.getLayoutView().setBusy(false);this.isOpenPath=false;}if(this.isBackNavigation&&(this.oCoreApi.getSteps().indexOf(c)===(this.oCoreApi.getSteps().length-1))){this.oUiApi.getLayoutView().setBusy(false);this.isBackNavigation=false;}if(this.bLastValidState&&(this.oCoreApi.getSteps().indexOf(c)===(this.oCoreApi.getSteps().length-1))){this.oUiApi.getLayoutView().setBusy(false);this.bLastValidState=false;}this.isNewPath=false;}catch(e){window.console.error("sap.apf .. analysisPath.controller catch exception: ",e);window.console.trace("trace ");}t.logReturn("updateCurrentStep",", isOpenPath="+this.isOpenPath);},drawMainChart:function(s,i){t.logCall("AnalysisPath.drawMainChart");var c=this.oUiApi.getStepContainer();c.getController().drawStepContent(s,i);t.logReturn("drawMainChart");},navigateToStep:function(i){this.getView().getCarouselView().getController().changeActiveStep(i);},apfDestroy:function(){t.logCall("AnalysisPath.apfDestroy ******");this.getView().getToolbar().getController().apfDestroy();this.getView().getCarouselView().getController().apfDestroy();}});});
sap.ui.predefine('sap/apf/ui/reuse/controller/smartFilterBar.controller',['sap/ui/core/mvc/Controller','sap/ui/model/odata/ODataUtils','sap/ui/model/odata/v2/ODataModel','sap/ui/model/odata/CountMode'],function(B,O,a,C){'use strict';return B.extend("sap.apf.ui.reuse.controller.smartFilterBar",{onInit:function(){var c=this;var s=c.getView().getViewData().oSmartFilterBarConfiguration.service;var b=c.getView().getViewData().oCoreApi.getAnnotationsForService(s);var p={annotationURI:b,json:true};if(b&&b.length>0){p.loadAnnotationsJoined=true;}var d=c.getView().getViewData().oCoreApi.getStartParameterFacade().getSapSystem();if(d){s=O.setOrigin(s,{force:true,alias:d});}var m=new a(s,p);m.getMetaModel().loaded().then(function(){c.getView().getViewData().oCoreApi.getMetadata(s).done(function(e){if(e.getAllEntitySetsExceptParameterEntitySets().indexOf(c.getView().getViewData().oSmartFilterBarConfiguration.entitySet)<0){c.getView().getViewData().oCoreApi.putMessage(c.getView().getViewData().oCoreApi.createMessageObject({code:"5053",aParameters:[c.getView().getViewData().oSmartFilterBarConfiguration.entitySet,s]}));}m.setDefaultCountMode(C.None);c.byId("idAPFSmartFilterBar").setModel(m);});});m.attachMetadataFailed(function(){c.getView().getViewData().oCoreApi.putMessage(c.getView().getViewData().oCoreApi.createMessageObject({code:"5052",aParameters:[s]}));});},afterInitialization:function(){this.handleSplitterSize();this.setFilterData();this.validateFilters();this.registerSFBInstanceWithCore();},registerSFBInstanceWithCore:function(){var c=this;c.getView().getViewData().oCoreApi.registerSmartFilterBarInstance(c.byId("idAPFSmartFilterBar"));},handlePressOfGoButton:function(){var c=this;var s=this.byId("idAPFSmartFilterBar");if(!s._apfOpenPath&&c.getView().getViewData().oCoreApi.getActiveStep()){c.getView().getViewData().oUiApi.selectionChanged(true);}delete s._apfOpenPath;},setFilterData:function(){var c=this;var s=this.byId("idAPFSmartFilterBar");var n=c.getView().getViewData().oCoreApi.getStartParameterFacade().getAnalyticalConfigurationId();var b=c.getView().getViewData().oCoreApi.getStartParameterFacade().getXappStateId();var u=s.getUiState();var m=s.mProperties;s.setUiState(u,m);if((n!==undefined)||((b!==null)&&(b!==undefined))){var i=c.getView().getViewData().oCoreApi;var o=i.getComponent();if(sap.ushell.Container!==undefined){var d=sap.ushell.Container.getService("CrossApplicationNavigation");var S=d.getStartupAppState(o);S.done(function(A){var f=A.getData();if(f){f=JSON.parse(JSON.stringify(f));var g=f.selectionVariant;var U=new sap.ui.comp.state.UIState({selectionVariant:g});var s=this.byId("idAPFSmartFilterBar");s.setUiState(U,{replace:true,strictMode:false});}}.bind(this));}var e=s.getVariantManagement().STANDARDVARIANTKEY;s.getVariantManagement().setCurrentVariantId(e);}},validateFilters:function(){var s=this.byId("idAPFSmartFilterBar");var v=s.validateMandatoryFields();this.getView().getViewData().oUiApi.getAddAnalysisStepButton().setEnabled(v);this.getView().getViewData().oUiApi.getAddAnalysisStepButton().rerender();},handleSplitterSize:function(){var t=this;var s=this.byId("idAPFSmartFilterBar");var T=s.mAggregations.content[0];var f=T.mAggregations.content[2];f.attachPress(function(){var F=this.getParent().getParent();if(F.getFilterBarExpanded()){t.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("127px");}else{t.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("65px");}});}});});
sap.ui.predefine('sap/apf/ui/reuse/controller/stepContainer.controller',['sap/apf/ui/utils/helper','sap/apf/core/constants','sap/ui/core/mvc/Controller','sap/apf/ui/utils/constants','sap/suite/ui/commons/ChartContainerContent','sap/suite/ui/commons/ChartContainerToolbarPlaceholder','sap/ui/core/Icon','sap/ui/core/CustomData','sap/m/Link','sap/m/ToggleButton','sap/m/Label','sap/m/Button','sap/m/ToolbarSpacer','sap/m/List','sap/m/ListMode','sap/m/ListSeparators','sap/m/StandardListItem','sap/m/Popover','sap/m/PlacementType','sap/apf/utils/trace'],function(H,C,B,a,b,c,I,d,L,T,e,f,g,h,k,l,S,P,m,t){"use strict";var o,u,A,r=false;
function _(){var i=A.getSelectedRepresentation();return(i.type===a.representationTypes.TABLE_REPRESENTATION);}
function n(){var i=A.getSelectedRepresentation();return(i.type===a.representationTypes.TREE_TABLE_REPRESENTATION);}
function p(){if(A.getSelectedRepresentation().bIsAlternateView===undefined||A.getSelectedRepresentation().bIsAlternateView===false){return false;}return true;}
function q(i){var j=i.getCurrentRepresentation();var U=j.getParameter().requiredFilters;if(U===undefined||U.length===0){return undefined;}return U[0];}
function s(i){t.logCall("StepContainer._setChartContainerContent");var j=i.byId("idChartContainer");var U=i.getCurrentRepresentation();var V=A.longTitle&&!o.isInitialTextKey(A.longTitle.key)?A.longTitle:A.title;var W=o.getTextNotHtmlEncoded(V);t.log("_setChartContainerContent"," title=",W);var X=U.getMainContent(W);var Y={onBeforeRendering:function(){v(i,X);}};X.addEventDelegate(Y);j.removeAllContent();var Z=new b({content:X});j.addContent(Z);t.logReturn("_setChartContainerContent");}
function v(i,j){var U=i.byId("idChartContainer");var V="0";var W=jQuery(window).width();var X=U.getId();if(jQuery("#"+X).length!==0){V=jQuery("#"+X+" > div:first-child > div:nth-child(2)").offset().top;W=jQuery("#"+X+" > div:first-child > div:nth-child(2)").width();}var Y=(jQuery(window).height()-V)-jQuery(".applicationFooter").height();var Z=W;j.setHeight(Y+"px");j.setWidth(Z+"px");}
function w(i,j){var U=i.byId("idSelectedText");var V=i.getCurrentRepresentation();var W=O(i);var X=V.getSelectionFilterLabel();var Y=X+" ("+W+") ";var Z=i.byId("idSelPropertyAndCount");if(!Z){Z=new L({id:i.createId("idSelPropertyAndCount"),press:i.handlePressSelectedPropertyCountLink.bind(i)});Z.addAriaLabelledBy(U.getId());}else{if(Z&&(V.chart!==undefined)&&(V.chart!==null&&V.chart.setFocusOnSelectLink)){V.chart.detachEvent("setFocusOnSelectedLinkEvent",V.chart.setFocusOnSelectLink);}}if(Z&&(V.chart!==undefined)&&(V.chart!==null)){V.chart.setFocusOnSelectLink=function(){Z.focus();};}Z.setVisible(true);Z.setText(Y);j.addContent(Z);j.onAfterRendering=function(){if(Z&&(V.chart!==undefined)&&(V.chart!==null)){V.chart.fireEvent("setFocusOnSelectedLinkEvent");V.chart.detachEvent("setFocusOnSelectedLinkEvent",V.chart.setFocusOnSelectLink);}};}
function x(i){var j=i.byId("idChartContainer");j.removeAllCustomIcons();y(i);z(i);D(i);}
function y(j){var U=j.byId("idChartContainer");var V=A.getSelectedRepresentationInfo();var W;if(V.parameter&&V.parameter.orderby){var X=V.parameter.orderby;new H(o).getRepresentationSortInfo(V).done(function($){for(var i=0;i<$.length;i++){W=X[0].property;}var a1=(X[0].ascending==true)?"Sort Order: Ascending":"Sort Order: Descending";var Y=o.getTextNotHtmlEncoded(V.label)+"\n"+((W!==undefined)?o.getTextNotHtmlEncoded("sortBy")+": "+W:"")+"\n"+a1;var Z=new I({src:V.picture,tooltip:Y,press:function(b1){j.handlePressChartIcon(b1);}});U.addCustomIcon(Z);});}else{var Y=o.getTextNotHtmlEncoded(V.label)+"\n"+((W!==undefined)?o.getTextNotHtmlEncoded("sortBy")+": "+W:"");var Z=new I({src:V.picture,tooltip:Y,press:function(i){j.handlePressChartIcon(i);}});U.addCustomIcon(Z);}}
function z(i){var j=i.byId("idChartContainer");var U=o.getTextNotHtmlEncoded("listView");var V=new sap.ui.core.Icon({src:"sap-icon://table-view",tooltip:U,press:i.handlePressAlternateRepIcon.bind(i)});var W=i.getCurrentRepresentation();var X=W.type;if(_()||n()||X=="TableRepresentation"){j.removeCustomIcon(V);return;}j.addCustomIcon(V);}
function D(i){if((i.getCurrentRepresentation().topN!==undefined)||(!p()&&!_())||(n())){return;}var j=i.byId("idChartContainer");var U=o.getTextNotHtmlEncoded("view-Settings-Button");var V=new I({src:"sap-icon://drop-down-list",tooltip:U,press:function(){i.getView().addDependent(i.getCurrentRepresentation().getViewSettingDialog());i.getCurrentRepresentation().getViewSettingDialog().open();}});j.addCustomIcon(V);}
function E(i,j){var U=i.byId("idSelectedText");if(!U){U=new e({id:i.createId("idSelectedText"),text:o.getTextNotHtmlEncoded("selectedValue")});}U.setVisible(true);j.addContent(U);}
function F(i,j){var U=i.byId("idReset");if(!U){U=new f({text:o.getTextNotHtmlEncoded("reset"),id:i.createId("idReset"),type:"Transparent",press:i.handlePressResetButton.bind(i)}).addStyleClass("chartContainerResetStyle");}U.setVisible(true);j.addContent(U);}
function G(i,j){var U=O(i);if(U>0&&q(i)!==undefined){E(i,j);w(i,j);F(i,j);}}
function J(i,j){var U=i.byId("idPathFilterDisplayButton");if(!U){U=new f({text:o.getTextNotHtmlEncoded("pathFilterDisplayButton"),id:i.createId("idPathFilterDisplayButton"),icon:"sap-icon://message-information",type:"Transparent",press:function(){if(i.byId("idStepLayout").getBusy()===false){o.getPathFilterInformation().then(function(V){var W=new sap.ui.core.mvc.XMLView({viewName:"sap.apf.ui.reuse.view.pathFilterDisplay",viewData:{pathFilterInformation:V,oCoreApi:o,oUiApi:u},id:i.createId("pathFilterDisplay")});W.setParent(i.getView());W.getContent()[0].open();});}}});}j.addContent(U);}
function K(i,j){var U=i.getCurrentRepresentation();var V=U.type;var W=undefined;var X=false;if(V!=="TableRepresentation"&&V!=="listView"&&V!=="TreeTableRepresentation"){if(U.chart!==undefined){if(Object.getOwnPropertyNames(U.chart).length!==0){W=U.chart.vizSelection();X=U.chart.getVizProperties().plotArea.dataLabel.visible;}}if(U!==undefined){if(U.aDataResponse!==0){var Y=i.byId("idToggleDisplayButton");if(!Y){Y=new sap.m.ToggleButton({id:i.createId("idToggleDisplayButton"),pressed:false,text:o.getTextNotHtmlEncoded("values"),tooltip:o.getTextNotHtmlEncoded("displayValues"),press:i.handleToggleDisplay.bind(i)});}else{U=i.getCurrentRepresentation();Y.setPressed(X);}if(W!==undefined){i.getCurrentRepresentation().chart.vizSelection(W,{clearSelection:false});}j.addContent(Y);}}}}
function M(i){var j=i.byId("idChartContainer");var U=j.getToolbar();U.removeAllContent();var V=new e({text:o.getTextNotHtmlEncoded("currentStep")});U.addContent(V);var W=new g();U.addContent(W);K(i,U);G(i,U);J(i,U);U.addContent(new c());j.setToolbar(U);}
function N(i,A,j){t.logCall("StepContainer._drawChartContainer",", isActiveStep=",j,", oActiveStep=",A);if(A!==undefined){s(i);x(i);M(i);}t.logReturn("_drawChartContainer");}
function O(i){var j=i.getCurrentRepresentation();var U=j.getSelections().length;return U;}
function Q(U,V){var W=new h({mode:k.SingleSelectMaster,showSeparators:l.None,includeItemInSelection:true,selectionChange:U.handleSelectionChartSwitchIcon.bind(U)});var X;var Y;for(var j=0;j<A.getRepresentationInfo().length;j++){Y=A.getRepresentationInfo()[j];X=undefined;if(Y.parameter&&Y.parameter.orderby){new H(o).getRepresentationSortInfo(Y).done(function(b1){var c1=[];for(var i=0;i<b1.length;i++){b1[i].done(function(d1){c1.push(d1);});}X=c1.join(", ");var Z=X!==undefined?o.getTextNotHtmlEncoded("sortBy")+": "+X:"";var $=new S({description:Z,icon:Y.picture,title:o.getTextNotHtmlEncoded(Y.label),customData:[new d({key:'data',value:{oRepresentationType:Y,icon:Y.picture}})]});W.addItem($);});}else{var Z=X!==undefined?o.getTextNotHtmlEncoded("sortBy")+": "+X:"";var $=new S({description:Z,icon:Y.picture,title:o.getTextNotHtmlEncoded(Y.label),customData:[new d({key:'data',value:{oRepresentationType:Y,icon:Y.picture}})]});W.addItem($);}}if(!U.byId("idAllChartPopover")){var a1=new P({id:U.createId("idAllChartPopover"),placement:m.Bottom,showHeader:false,content:[W],afterClose:function(){a1.destroy();}});}U.byId("idAllChartPopover").openBy(V);}
function R(i,j){i.byId("idReset").setVisible(j);i.byId("idSelPropertyAndCount").setVisible(j);i.byId("idSelectedText").setVisible(j);}
return B.extend("sap.apf.ui.reuse.controller.stepContainer",{onInit:function(){var i=this;o=i.getView().getViewData().oCoreApi;u=i.getView().getViewData().uiApi;A=o.getActiveStep();this.initialText=new e({id:this.createId("idInitialText")}).addStyleClass('initialText');this.initialText.setText(o.getTextNotHtmlEncoded('initialText'));},onAfterRendering:function(){jQuery(u.getStepContainer().getDomRef()).hide();if(jQuery("#"+this.initialText.getId()).length===0&&o.getSteps().length===0){jQuery('#'+u.getStepContainer().getId()).parent().append(sap.ui.getCore().getRenderManager().getHTML(this.initialText));}else if(o.getSteps().length>0){jQuery(u.getStepContainer().getDomRef()).show();}if(u.getAnalysisPath().getController().isOpenPath){jQuery(".initialText").remove();}},getCurrentRepresentation:function(){var i=A.getSelectedRepresentation();if(p()){i=A.getSelectedRepresentation().toggleInstance;}return i;},handlePressSelectedPropertyCountLink:function(){var i=this;i.oCoreApi=o;var j=new sap.ui.jsfragment("idSelectionDisplayFragment","sap.apf.ui.reuse.fragment.selectionDisplay",i);j.open();},handleToggleDisplay:function(){var i=this;i.oCoreApi=o;var j=i.getCurrentRepresentation();var U=i.byId("idToggleDisplayButton");if(j.measures!==undefined){var V=j.getFormatStringForMeasure(j.measures[0]);if(j.type==="PieChart"){j.chart.setVizProperties({plotArea:{dataLabel:{visible:U.getPressed(),type:"percentage"}}});}else{j.chart.setVizProperties({plotArea:{dataLabel:{visible:U.getPressed(),formatString:V}}});}return j.chart.getVizProperties().plotArea.dataLabel.visible;}var W=j.chartPlotArea.plotArea.dataLabel.visible;W=U.getPressed();return W;},handlePressResetButton:function(){var i=this;if(p()){i.getCurrentRepresentation().removeAllSelection();}i.getCurrentRepresentation().removeAllSelection();R(i,false);},createToggleRepresentationInstance:function(j,U){var V={};function W($){var a1=$.dimensions;var Z=j.getMetaData();$.isAlternateRepresentation=true;if(Z===undefined){return $;}var i,b1;for(i=0;i<a1.length;i++){var c1=Z.getPropertyMetadata(a1[i].fieldName).hasOwnProperty('text');if(c1&&a1[i].labelDisplayOption===C.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){b1={};b1.fieldName=Z.getPropertyMetadata(a1[i].fieldName).text;$.dimensions.splice(i+1,0,b1);}else if(c1&&a1[i].labelDisplayOption===C.representationMetadata.labelDisplayOptions.TEXT){b1={};b1.fieldName=Z.getPropertyMetadata(a1[i].fieldName).text;$.dimensions.splice(i,1,b1);}}return $;}var X=jQuery.extend(true,{},j.getParameter());delete X.alternateRepresentationTypeId;delete X.alternateRepresentationType;X=W(X);if(U){X.orderby=U;}V=o.createRepresentation(j.getParameter().alternateRepresentationType.constructor,X);var Y=j.getData(),Z=j.getMetaData();if(Y!==undefined&&Z!==undefined){V.setData(Y,Z);}return V;},handlePressAlternateRepIcon:function(){var i=this;var j=A.getSelectedRepresentation();j.bIsAlternateView=true;if(p()){j.toggleInstance=i.createToggleRepresentationInstance(j);}r=true;i.getView().getViewData().uiApi.selectionChanged(true);},handlePressChartIcon:function(i){var j=this;var U=A.getSelectedRepresentation();var V=o.getSteps().indexOf(A);var W=null;if(A.getRepresentationInfo().length>1){W=i.getParameter("controlReference");Q(j,W);}else{U.bIsAlternateView=false;r=true;j.getView().getViewData().uiApi.selectionChanged(true);U.createDataset();j.drawStepContent();u.getAnalysisPath().getController().updateCustomListView(A,V,false);}},handleSelectionChartSwitchIcon:function(i){this.byId("idAllChartPopover").close();var j=A.getSelectedRepresentation();var U=i.getParameter("listItem").getCustomData()[0].getValue();var V=A.getSelectedRepresentationInfo().representationId;var W=U.oRepresentationType.representationId;if(V===W&&j.bIsAlternateView===false){return;}r=true;j.bIsAlternateView=false;A.setSelectedRepresentation(U.oRepresentationType.representationId);u.getAnalysisPath().getController().refresh(U.nActiveStepIndex);o.updatePath(u.getAnalysisPath().getController().callBackForUpdatePath.bind(u.getAnalysisPath().getController()));j.createDataset();},drawStepContent:function(i,j){t.logCall("StepContainer.drawStepContent"," bStepUpdated="+i);var U=this;var V=false;var W=A;A=o.getActiveStep();if(A===undefined){t.logReturn("drawStepContent",", the active step === undefined");return;}if(W!==A){V=true;}if(i||r||V){N(U,A,j);}else{M(U);}r=false;U.initialText.destroy();U.byId("idStepLayout").setBusy(false);t.logReturn("drawStepContent",", bIsActiveStepChanged",V);}});},true);
sap.ui.predefine('sap/apf/ui/utils/constants',function(){var c={step:{OPEN_OVERLAY_IMAGE_HEIGHT:15,DROP_MARKER_HEIGHT:1},representationTypes:{FORM_REPRESENTATION:"FormRepresentation",TABLE_REPRESENTATION:"TableRepresentation",COLUMN_CHART:"ColumnChart",LINE_CHART:"LineChart",PIE_CHART:"PieChart",DONUT_CHART:"DonutChart",GEO_MAP:"GeoMap",STACKED_COLUMN_CHART:"StackedColumnChart",SCATTERPLOT_CHART:"ScatterPlotChart",PERCENTAGE_STACKED_COLUMN_CHART:"PercentageStackedColumnChart",BUBBLE_CHART:"BubbleChart",BAR_CHART:"BarChart",STACKED_BAR_CHART:"StackedBarChart",PERCENTAGE_STACKED_BAR_CHART:"PercentageStackedBarChart",HEATMAP_CHART:"HeatmapChart",LINE_CHART_WITH_TWO_VERTICAL_AXES:"LineChartWithTwoVerticalAxes",LINE_CHART_WITH_TIME_AXIS:"LineChartWithTimeAxis",TREE_TABLE_REPRESENTATION:"TreeTableRepresentation",COMBINATION_CHART:"CombinationChart",STACKED_COMBINATION_CHART:"StackedCombinationChart",DUAL_COMBINATION_CHART:"DualCombinationChart",DUAL_STACKED_COMBINATION_CHART:"DualStackedCombinationChart"},vizChartTypes:{COLUMN:"Column",LINE:"Line",PIE:"Pie",STACKED_COLUMN:"StackedColumn",PERCENTAGE_STACKED_COLUMN:"StackedColumn100",SCATTERPLOT:"Scatter",BUBBLE:"Bubble"},vizFrameChartTypes:{COLUMN:"column",LINE:"line",PIE:"pie",DONUT:"donut",STACKED_COLUMN:"stacked_column",PERCENTAGE_STACKED_COLUMN:"100_stacked_column",SCATTERPLOT:"scatter",BUBBLE:"bubble",BAR:"bar",STACKED_BAR:"stacked_bar",PERCENTAGE_STACKED_BAR:"100_stacked_bar",HEATMAP:"heatmap",LINE_CHART_WITH_TWO_VERTICAL_AXES:"dual_line",LINE_CHART_WITH_TIME_AXIS:"timeseries_line",COMBINATION:"combination",STACKED_COMBINATION:"stacked_combination",DUAL_COMBINATION:"dual_combination",DUAL_STACKED_COMBINATION:"dual_stacked_combination"},axisTypes:{AXIS:"axis",GROUP:"group"},thumbnailDimensions:{HEIGHT:"75px",WIDTH:"180px",STEP_WIDTH:"202px",STEP_HEIGHT:"170px",STEP_MARGIN:"20px",SEPARATOR_HEIGHT:"25px",REMOVE_ICON_HEIGHT:"20px",TOTAL_STEP_HEIGHT:215},printChartDimensions:{WIDTH:"0.89",POTRAITWIDTH:"793.700787402",LANDSCAPEWIDTH:"1122.519685039"},analysisPathArea:{HEADERHEIGHT:140},chartArea:{CHARTHEADERHEIGHT:120},carousel:{SCROLLCONTAINER:275,DNDBOX:280},landingPage:"landingPage"};sap.apf.ui.utils.CONSTANTS=c;return c;},true);
sap.ui.predefine('sap/apf/ui/utils/dateTimeFormatter',['sap/ui/core/format/DateFormat'],function(D){"use strict";var a=function(){this.oDisplayFormatterMap=_();};a.prototype.constructor=a;
function _(){var d=new Map();d.set("Date",b);d.set(undefined,c);return d;}
function b(o){var d=D.getDateInstance({style:"short"});var e=d.format(o,true);return e;}
function c(o){return o;}
a.prototype.getFormattedValue=function(m,o){var d=m["sap:display-format"]!==undefined?m["sap:display-format"]:undefined;var e=new Date(o);if(e.toLocaleString()==="Invalid Date"){return"-";}var f=this.oDisplayFormatterMap.get(d)!==undefined?this.oDisplayFormatterMap.get(d).call(this,e):e;return f;};
return a;},true);
sap.ui.predefine('sap/apf/ui/utils/decimalFormatter',['sap/ui/core/format/NumberFormat'],function(N){"use strict";var D=function(){this.aSupportedSemantics=["currency-code",undefined];this.oSemanticsFormatterMap=_();};D.prototype.constructor=D;
function _(){var s=new Map();s.set("currency-code",a);s.set(undefined,b);return s;}
function a(m,o){var c=N.getCurrencyInstance();return c.format(o);}
function b(m,o,p){var f=N.getFloatInstance({style:'standard',minFractionDigits:p});return f.format(o);}
D.prototype.getFormattedValue=function(m,o,p){var s;if(this.aSupportedSemantics.indexOf(m["semantics"])!==-1){s=m["semantics"];}return this.oSemanticsFormatterMap.get(s).call(self,m,o,p);};
return D;},true);
sap.ui.predefine('sap/apf/ui/utils/formatter',['sap/apf/ui/utils/stringToDateFormatter','sap/apf/ui/utils/dateTimeFormatter','sap/apf/ui/utils/timeFormatter','sap/apf/ui/utils/decimalFormatter'],function(S,D,T,a){"use strict";var f=function(F,m,i){this.metadata=m;this.dataResponse=i;this.oFormatterArgs=F;this.oDataTypeFormatterMap=_();};f.prototype.constructor=f;
function _(){var i=new Map();i.set("Edm.String",b);i.set("Edm.DateTime",c);i.set("Edm.Time",d);i.set("Edm.Decimal",e);return i;}
function b(m,o){var s=new S();return s.getFormattedValue(m,o,this.oFormatterArgs);}
function c(m,o){var i=new D();return i.getFormattedValue(m,o);}
function d(m,o){var t=new T();return t.getFormattedValue(m,o);}
function e(m,o){var t=new a();var M=m.unit!==undefined?g(this,m.unit):m;var p=0;if(m!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){p=isNaN(m.scale)?this.dataResponse[0][m.scale]:m.scale;}return t.getFormattedValue(M,o,p);}
function g(f,i){if(f.metadata&&f.metadata.getPropertyMetadata){return f.metadata.getPropertyMetadata(i);}return f.metadata;}
f.prototype.getFormattedValue=function(i,o){if(o===null){return"null";}var j;var m=g(this,i);var k=m.dataType!==undefined?m.dataType.type:undefined;if(k===undefined){k=m.type;}if(this.oDataTypeFormatterMap.has(k)){j=this.oDataTypeFormatterMap.get(k).call(this,m,o);}else{j=o;}var l=jQuery.extend(true,{},m);j=h(l,i,o,j,this.oFormatterArgs);return j;};
f.prototype.getFormattedValueAsString=function(i,o){return this.getFormattedValue(i,o)+"";};
f.prototype.getFormatStringTooltip=function(m){return this.getFormatString(m);};
f.prototype.getFormatString=function(m){var s=this;var i=sap.viz.ui5.format.ChartFormatter.getInstance();sap.viz.ui5.api.env.Format.numericFormatter(i);var j=m.fieldName;i.registerCustomFormatter("measureFormatter",function(v){var k="-";if(v!==null){k=s.getFormattedValue(j,v);}return k;});var F="measureFormatter";return F;};
f.prototype.getFormattedValueForTextProperty=function(i,t){var F;if(t.key){F=t.text+" ("+t.key+")";}else{F=t.text;}var m=jQuery.extend(true,{},g(this,i));F=h(m,i,t.text,F,this.oFormatterArgs);return F;};
function h(m,i,o,j,F){var k;var l=F.getExits!==undefined?F.getExits.customFormat:undefined;if(l===undefined){return j;}k=F.getExits.customFormat.apply(F,[m,i,o,j]);j=k!==undefined?k:j;return j;}
return f;},true);
sap.ui.predefine('sap/apf/ui/utils/timeFormatter',['sap/ui/model/odata/type/Time'],function(T){"use strict";var a=function(){};a.prototype.constructor=a;
a.prototype.getFormattedValue=function(m,o){var f=o;if(o.__edmType!=undefined&&o.__edmType==="Edm.Time"){var t=new T();f=t.formatValue(o,"string");}return f;};
return a;},true);
sap.ui.predefine('sap/apf/utils/executeFilterMapping',["sap/apf/core/utils/filter","sap/apf/core/constants"],function(F,c){"use strict";var e=function(i,m,t,C,M){m.sendGetInBatch(i,a);function a(r){var f;if(r&&r.type&&r.type==="messageObject"){M.putMessage(r);C(undefined,r);}else{f=new F(M);r.data.forEach(function(d){var o=new F(M);t.forEach(function(T){o.addAnd(new F(M,T,c.FilterOperators.EQ,d[T]));});f.addOr(o);});C(f,undefined,r.data);}}};return e;},true);
sap.ui.predefine('sap/apf/utils/proxyTextHandlerForLocalTexts',['sap/apf/utils/parseTextPropertyFile','sap/apf/utils/hashtable','sap/apf/utils/utils'],function(p,H,u){'use strict';var P=function(i){var m=i.instances.messageHandler;var t={};this.initApplicationTexts=function(a,b){var c=t[a]||new H(m);if(b===""||b===null){t[a]=c;return;}var d=p(b,{instances:{messageHandler:m}});d.TextElements.forEach(function(e){if(e.TextElement){c.setItem(e.TextElement,e);}});t[a]=c;};this.createTextFileOfApplication=function(a){if(!t[a]){return"";}var b=u.renderHeaderOfTextPropertyFile(a,m);return b+u.renderTextEntries(t[a],m);};this.getTextElements=function(a){if(!t[a]){return[];}var b=[];t[a].each(function(k,c){b.push(c);});return b;};this.addText=function(a){if(!a.TextElement){a.TextElement=u.createPseudoGuid(32);}var b=t[a.Application]||new H(m);b.setItem(a.TextElement,a);t[a.Application]=b;return a.TextElement;};this.removeText=function(d){var a=d.application;var T=d.inputParameters[0].value;var b=t[a]||new H(m);if(b.hasItem(T)){b.removeItem(T);}};};sap.apf.utils.ProxyTextHandlerForLocalTexts=P;return P;},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine('sap/apf/ui/instance',['sap/apf/ui/utils/constants','sap/apf/core/constants','sap/apf/ui/reuse/view/analysisPath.view','sap/apf/ui/reuse/view/carousel.view','sap/apf/utils/trace','sap/ui/dom/includeStylesheet'],function(u,c,A,C,t,I){'use strict';
function s(o,f,S){var l=o.getLayoutView();var b=l.byId("subHeader");var d=l.byId("idSplitterLayoutData");b.addContent(f);if(!(f instanceof sap.ui.comp.smartfilterbar.SmartFilterBar)){d.setSize("65px");}f.addEventDelegate({onAfterRendering:function(){b.setBusy(false);if(f instanceof sap.ui.comp.smartfilterbar.SmartFilterBar){b.setHeight("");b.addStyleClass(S);}}});}
function r(o){o.getLayoutView().byId("subHeader").setBusy(false);}
function a(i){i.uiApi=this;var o=i.oCoreApi;var S=i.oStartFilterHandler;var b;var m;var d;var e;var f;var g;var p;var h;var j;var F,k;var l=o.getUriGenerator().getApfLocation();this.oEventCallbacks={};var n;I(l+"resources/css/apfUi.css","apfCss");I(l+"resources/css/apfPrint.css","printCss");jQuery("#printCss").attr("media","print");this.getAddAnalysisStepButton=function(){return this.getAnalysisPath().getCarouselView().getAddStepButton();};this.getAnalysisPath=function(){if(b===undefined){b=sap.ui.view({viewName:"sap.apf.ui.reuse.view.analysisPath",type:sap.ui.core.mvc.ViewType.JS,viewData:i,async:true});}return b;};this.getNotificationBar=function(){if(m===undefined){m=sap.ui.view({viewName:"sap.apf.ui.reuse.view.messageHandler",type:sap.ui.core.mvc.ViewType.JS,viewData:i,async:true});}return m;};this.getStepContainer=function(){if(d===undefined){d=sap.ui.view({viewName:"sap.apf.ui.reuse.view.stepContainer",type:sap.ui.core.mvc.ViewType.JS,viewData:i,async:true});}return d;};this.getToolbar=function(){if(e===undefined){e=sap.ui.view({viewName:"sap.apf.ui.reuse.view.toolbar",type:sap.ui.core.mvc.ViewType.JS,viewData:i,async:true});}return e;};this.createCarouselSingleton=function(){if(i&&i.functions&&i.functions.createCarouselSingleton){f=i.functions.createCarouselSingleton();}if(f===undefined){f=sap.ui.view({viewName:"sap.apf.ui.reuse.view.carousel",type:sap.ui.core.mvc.ViewType.JS,viewData:{oInject:i},async:true});}return f;};this.getStepGallery=function(){if(g===undefined){g=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.apf.ui.reuse.view.stepGallery",viewData:i,async:true});}return g;};this.getPathGallery=function(){if(p===undefined){p=sap.ui.view({viewName:"sap.apf.ui.reuse.view.pathGallery",type:sap.ui.core.mvc.ViewType.JS,viewData:{oInject:i},async:true});}return p;};this.getDeleteAnalysisPath=function(){if(h===undefined){h=sap.ui.view({viewName:"sap.apf.ui.reuse.view.deleteAnalysisPath",type:sap.ui.core.mvc.ViewType.JS,viewData:{oInject:i},async:true});}return h;};this.getLayoutView=function(){if(j===undefined){j=sap.ui.view({viewName:"sap.apf.ui.reuse.view.layout",type:sap.ui.core.mvc.ViewType.XML,viewData:i,async:true});}return j;};this.selectionChanged=function(R){t.logCall("ui/Instance.selectionChanged",", bRefreshAllSteps: ",R,"--------");var x;var y=this;function z(){if(j){j.getController().enableDisableOpenIn();}}x=o.getSteps().indexOf(o.getActiveStep());var B=0;x=o.getSteps().indexOf(o.getActiveStep());if(!R){B=x+1;}t.logCall("...",", nActiveStepIndex: ",x,", indexOfRefresh",B);y.getAnalysisPath().getController().refresh(B);y.getAnalysisPath().getController().getView().getCarouselView().getController().setBusyFromIndex(B);o.updatePath(y.getAnalysisPath().getController().callBackForUpdatePath.bind(y.getAnalysisPath().getController()),function(){z();});t.logReturn("ui/Instance.selectionChanged");};var q=false;this.createApplicationLayout=function(x){var y=this;return new Promise(function(z){if(!q){var B=y.getStepGallery().loaded();var D=y.getToolbar().loaded();var E=y.getPathGallery().loaded();var G=y.getDeleteAnalysisPath().loaded();var H=y.getStepContainer().loaded();var J=Promise.all([B]).then(function(){return y.createCarouselSingleton().loaded();});var K=Promise.all([D,J,E,G]).then(function(){return y.getAnalysisPath().loaded();});var L=Promise.all([H,K]).then(function(){return y.getLayoutView().loaded();});L.then(function(){x.addPage(j);q=true;n=x;z(x);});}else{z(n);}});};this.addDetailFooterContent=function(x){this.getLayoutView().getController().addDetailFooterContentLeft(x);};this.addMasterFooterContentRight=function(x){this.getLayoutView().getController().addMasterFooterContentRight(x);};this.setEventCallback=function(E,x){this.oEventCallbacks[E]=x;};this.getEventCallback=function(E){return this.oEventCallbacks[E];};this.getCustomFormatExit=function(){return i.exits;};this.setCustomFormatExit=function(x){var y=this.getCustomFormatExit();y.customFormat=x;};this.drawSmartFilterBar=function(x){var y=this;function z(B){o.getSmartFilterbarDefaultFilterValues().done(function(D){k=sap.ui.view({viewName:"sap.apf.ui.reuse.view.smartFilterBar",type:sap.ui.core.mvc.ViewType.JS,viewData:{oCoreApi:o,oUiApi:y,oSmartFilterBarConfiguration:B,controlConfiguration:D,parent:y.getLayoutView()},async:true});k.loaded().then(function(V){s(y,V.byId("idAPFSmartFilterBar"),"smartFilterBarContainer");});});}if(x){if(x.entitySet){z(x);}else{o.getMetadata(x.service).done(function(B){x.entitySet=B.getEntitySetByEntityType(x.entityType);delete x.entityType;z(x);});}}else{r(y);}};this.drawFacetFilter=function(x){if(x.length>0){var y=this;F=sap.ui.view({viewName:"sap.apf.ui.reuse.view.facetFilter",type:sap.ui.core.mvc.ViewType.JS,viewData:{oCoreApi:o,oUiApi:this,aConfiguredFilters:x,oStartFilterHandler:S},async:true});F.loaded().then(function(V){s(y,V.byId("idAPFFacetFilter"));});}else{r(this);}};this.contextChanged=function(R){var x=this.getEventCallback(c.eventTypes.contextChanged);if(typeof x==="function"){x();}};this.getFacetFilterForPrint=function(){if(F){return F.byId("idAPFFacetFilter");}};this.getSmartFilterForPrint=function(){if(k){return k.byId("idAPFSmartFilterBar");}};this.handleStartup=function(x){var y=this;var z=jQuery.Deferred();o.getSmartFilterBarConfigurationAsPromise().done(function(B){if(B){y.drawSmartFilterBar(B);}x.done(function(D){var E=S.getStartFilters();E.done(function(G){y.contextChanged();if(!B){y.drawFacetFilter(G);}if(D.navigationMode==="backward"){y.getAnalysisPath().getController().isBackNavigation=true;o.updatePath(y.getAnalysisPath().getController().callBackForUpdatePath.bind(y.getAnalysisPath().getController()));y.getLayoutView().getController().setPathTitle();}if(D.navigationMode==="forward"){if(o.getStartParameterFacade().getSteps()){var H=o.getStartParameterFacade().getSteps()[0].stepId;var J=o.getStartParameterFacade().getSteps()[0].representationId;var K=y.getAnalysisPath().getController().callBackForUpdatePathAndSetLastStepAsActive.bind(y.getAnalysisPath().getController());o.createFirstStep(H,J,K);}if(sap.ui.core.BusyIndicator){sap.ui.core.BusyIndicator.hide();}}y.getNotificationBar().loaded().then(function(M){y.getLayoutView().byId("applicationPage").addContent(M);var L=M.getController().showMessage;o.setCallbackForMessageHandling(L.bind(M.getController()));z.resolve();});});});});return z.promise();};this.destroy=function(){F=undefined;k=undefined;if(b){var x=this.getAnalysisPath().getToolbar().getController();v(x.saveDialog);v(x.newOpenDialog);v(x.newDialog);v(x.confirmDialog);v(x.errorMsgDialog);v(x.noPathAddedDialog);if(x.deleteAnalysisPath!==undefined){v(x.deleteAnalysisPath.getController().oDialog);}if(x.pathGallery!==undefined){v(x.pathGallery.getController().oDialog);}var y=this.getAnalysisPath().getCarouselView().getStepGallery().getController();v(y.oHierchicalSelectDialog);}if(d){var z=this.getStepContainer().getController();v(z.selectionDisplayDialog);w(this);}};function v(x){if(x!==undefined){if(x instanceof sap.m.ViewSettingsDialog){x.destroy();}else if(x.isOpen()){x.close();}}}function w(x){var y=false;var z=false;var B;if(x.getStepContainer().getViewData().oCoreApi.getActiveStep()!==undefined){y=true;}if(y){B=x.getStepContainer().getViewData().oCoreApi.getActiveStep().getSelectedRepresentation();if(B!==undefined){z=true;}}if(z){if(B.type!==u.representationTypes.TABLE_REPRESENTATION){if(B.toggleInstance!==undefined){v(B.toggleInstance.viewSettingsDialog);}}else{v(B.viewSettingsDialog);}}}}
sap.apf.ui.Instance=a;return a;},true);
sap.ui.predefine('sap/apf/ui/reuse/controller/carousel.controller',["sap/apf/utils/utils",'sap/apf/ui/utils/wrappedChartWithCornerTexts','sap/apf/utils/trace','sap/base/Log'],function(U,W,t,L){'use strict';var a=0;var l=" ************************************** ";var b=" -------------------------------------- ";
function c(f,n,h,s,i){if(jQuery.sap.log.apfTrace===undefined){return;}var j=g(f,n,h,s,i);t.log("Carousel."+n,j);}
function r(f){var h="";f.forEach(function(i,j){var k=i.oChart;if(k){h+="'"+k.sId+"',";}else{h+="'"+k+"',";}});h=(f.length===0)?"[]":"["+h.slice(0,h.length-1)+"]";return h;}
function d(f){var h="";var i=f.getView().getCustomItemList();i.forEach(function(j,k){h+="'"+j.sId+"',";});h=(i.length===0)?"[]":"["+h.slice(0,h.length-1)+"]";return h;}
function e(f){return", relation="+r(f._relateChartsToItems)+" // "+d(f)+" #path="+f.oCoreApi.getSteps().length;}
function g(f,n,h,s,i){i=i||"";var j="";var k="-";var R;var m="-";if(s){R=s.getSelectedRepresentation();m=R.type;}var o="";if(h===-1){return j+i;}o+=": inx="+h;o+=k==="-"||k===false?"":", is iconic";o+=m==="-"?"":", repr.type="+m;o+=e(f);o+=i===""?"":"\n --- "+i+"---";return j+o;}
var C=sap.ui.controller("sap.apf.ui.reuse.controller.carousel",{cloneCnt:0,paddingLeft:10,paddingRight:10,paddingBottom:15,paddingTop:15,_relateChartsToItems:[],onAfterRendering:function(){},onInit:function(){if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");}var v=this.getView().getViewData().oInject;this.oCoreApi=v.oCoreApi;this.oUiApi=v.uiApi;this._relateChartsToItems=[];},showStepGallery:function(){this.getView().getStepGallery().getController().openHierarchicalSelectDialog();},onBeforeRendering:function(){if(!sap.ui.Device.system.desktop){this.oUiApi.getLayoutView().getController().showMasterFooter(this.getView().addStepButton,this.getView().moveUpButton,this.getView().moveDownButton);}else{this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().addStepButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveUpButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveDownButton);}},getStepData:function(s){var S={};S.index=this.oCoreApi.getSteps().indexOf(s);S.title=this.oCoreApi.getTextNotHtmlEncoded(s.title);S.oStepTexts=this.getTextsForCustomListItem(s);return S;},update1CustomItemChartWhenChange:function(s,n){t.logCall("update1CustomItemChartWhenChange",n,s);var R=s.getSelectedRepresentation();var o=this._relateChartsToItems[n].oChart;if(!o){t.logReturn("update1CustomItemChartWhenChange: chart reference is undefined");return;}t.log("...",", #oClonedChart.oModel before update:",o.getModel().getData().data.length);R.createDataset();o.setModel(R.oModel);this._setSelectionsOnThumbnailAndEnforceRendering(s,n);t.logReturn("update1CustomItemChartWhenChange",", #oClonedChart.oModel:",o.getModel().getData().data.length);},_setSelectionsOnThumbnailAndEnforceRendering:function(s,n){var f=this;var h=a++;t.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+n," set timeout, tick=",h);setTimeout(function(){t.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+n," resolved timeout, tick=",h);f.setSelectionsOnThumbnail(s,n);},1);},getActiveStepIndex:function(){if(this.oCoreApi.getSteps().length>1){this.getView().moveDownButton.setEnabled(true);this.getView().moveUpButton.setEnabled(true);}return this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());},deleteFromBookkeeping:function(f){if(f>=0){this._relateChartsToItems.splice(f,1);}},setSelectionsOnThumbnail:function(s,n){var R=s.getSelectedRepresentation();if(W.isIconDisplayed(R)){t.log("setSelectionsOnThumbnail","iconic, no selections applied, return");return;}var o=this._relateChartsToItems[n].oChart;t.logCall("setSelectionsOnThumbnail",", nIndex",n);if(!o){L.error("***** setSelectionsOnThumbnail: chart reference is undefined");return;}var f=R.oRepresentationFilterHandler.getFilterValues();var S=R.oVizFrameSelectionHandler.getSelectionInfoFromFilter(f,R.aDataResponse);t.log("setSelectionsOnThumbnail",", call oClonedChart.vizSelection"," apfId="+R.apfId,"  chart.id="+o.sId," selections&filters:",S,f);o.vizSelection(S,{clearSelection:true});var h=" #filters:"+f.length;h+=" #vizSelection="+(o.vizSelection()?o.vizSelection().length:"undefined");t.logReturn('setSelectionsOnThumbnail',h);},_createWrappedChartClone:function(s){var o=W.getClonedChart(s);var w=new W.constructor(this,s,o);return{oChart:o,oWrappedView:w.getContent(),wrappedChartWithCornerTexts:w};},_createRelation:function(s){var w=this._createWrappedChartClone(s);var f=this.getView().createCustomListItem(w.oWrappedView);var R=s.getSelectedRepresentation();var h=w.oChart;if(W.isIconDisplayed(R)){h=null;}var i={oChart:h,oTable:R.toggleInstance,typeOfChart:R.type,bIsAlternateView:R.bIsAlternateView,customListItem:f,wrappedChartWithCornerTexts:w.wrappedChartWithCornerTexts};t.log("_createRelation"," return=",i);return i},_addStepAsCustomItem:function(s){var R=this._createRelation(s);this.getView().addCustomListItem(R.customListItem);R.wrappedChartWithCornerTexts.setHighlighted();this._relateChartsToItems.push(R);c(this,'_addStepAsCustomItem <<',this._relateChartsToItems.length,s);},_replaceChangedRepresentation:function(s,n){c(this,'_replaceChangedRepresentation',n,s);var R=this._createRelation(s);t.log("",", relation=",R);this._relateChartsToItems[n]=R;this.getView().removeCustomItem(n);this.getView().insertCustomItem(R.customListItem,n);this._setSelectionsOnThumbnailAndEnforceRendering(s,n);c(this,'_replaceChangedRepresentation',n,s);},isChangeOfRepresentation:function(n,R){var f=R.type!==this._relateChartsToItems[n].typeOfChart||R.bIsAlternateView!==this._relateChartsToItems[n].bIsAlternateView;t.log("isChangeOfRepresentation"," return=",f);return f;},updateCustomListView:function(s,n,S){var R;try{R=s.getSelectedRepresentation();t.logCall(' --API-- Carousel.updateCustomListView',", nIndex="+n," bStepChanged="+S,"apfId=",R.apfId,e(this),b);if(n>=this._relateChartsToItems.length){this._addCustomItemAndSetHighlighting(s,n);}else if(this.isChangeOfRepresentation(n,R)){this._replaceChangedRepresentation(s,n);}else if(!S){this._setSelectionsOnThumbnailAndEnforceRendering(s,n);}else{this.update1CustomItemChartWhenChange(s,n);}this._pruneRelateChartsToItems();this._setBusyOnCustomListItem(this._relateChartsToItems[n],false);}catch(f){window.console.error("sap.apf .. carousel.controller catch exception: ",f);window.console.trace("trace ");}t.logReturn('updateCustomListView',e(this),b);},_pruneRelateChartsToItems:function(){if(this.oCoreApi.getSteps().length<this._relateChartsToItems.length){this._relateChartsToItems.splice(this.oCoreApi.getSteps().length);t.emphasize("updateCustomListView"," deletion of superfluous custom items");}},_addCustomItemAndSetHighlighting:function(s,n){var f;this._addStepAsCustomItem(s);this._setSelectionsOnThumbnailAndEnforceRendering(s,n);f=this.getActiveStepIndex();this._removeHighlightingOfAnyStep(f);if(f<=n){this._setHighlightingOfActiveStep(f);}},_setBusyOnCustomListItem:function(f,i){setTimeout(function(){f.customListItem.setBusy(i);},1);},setBusyFromIndex:function(s){var f=this;s=s||0;this._relateChartsToItems.forEach(function(h,i){if(i>=s){f._setBusyOnCustomListItem(h,true);}});},showStepChartChartAfterUpdate:function(){var s=this.oCoreApi.getSteps();if(s.length>this.getView().getCustomItemList().length){this.oUiApi.getLayoutView().setBusy(true);jQuery(this.oUiApi.getStepContainer().getDomRef()).show();}},handleMove:function(p){var f=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var n=f+1;var h=f-1;t.log("Carousel.handleMove",", parameter",p,", activeStepIndex="+f,l);if(p.down&&n<this.oCoreApi.getSteps().length){this._moveStep(f,n,f);}else{if(p.down!==true&&h>=0&&h<this.oCoreApi.getSteps().length){this._moveStep(f,h,h);}}},_moveInBookkeeping:function(f){t.logCall("_moveInBookkeeping",e(this));var h;h=this._relateChartsToItems[f+1];this._relateChartsToItems[f+1]=this._relateChartsToItems[f];this._relateChartsToItems[f]=h;h=this.getView().getCustomItemList()[f+1];this.getView().removeCustomItem(f+1);this.getView().insertCustomItem(h,f);t.logReturn("_moveInBookkeeping",e(this));},_moveStep:function(f,h,i){t.logCall("Carousel._moveStep"," from "+f+" to "+h,"relation=",this._relateChartsToItems);if(f!==h){this.setBusyFromIndex(i);this._moveInBookkeeping(i);var j=this.oCoreApi.getSteps()[f];var k=this.oUiApi.getAnalysisPath().getController();t.log("Carousel._moveStep"," move step in core and update path");this.oCoreApi.moveStepToPosition(j,h,k.callBackForUpdatePath.bind(k));}t.logReturn("_moveStep","relation=",this._relateChartsToItems);},setActiveStepAfterRemove:function(I){var f=this.getActiveStepIndex();if(I===f){var i;if(f===0){i=1;this._setHighlightingOfActiveStep(0);}else if(f===this.oCoreApi.getSteps().length-1){i=f-1;this._setHighlightingOfActiveStep(i);}else{i=f+1;this._setHighlightingOfActiveStep(f);}this.oCoreApi.setActiveStep(this.oCoreApi.getSteps()[i]);}},removeStep:function(i){var A=this.oUiApi.getAnalysisPath().getController();var f=this.getActiveStepIndex();if(f===i&&this.oCoreApi.getSteps().length>1){this.setActiveStepAfterRemove(i);}var s=this.oCoreApi.getSteps()[i];this.oCoreApi.removeStep(s,A.callBackForUpdatePath.bind(A));this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle();if(this.oCoreApi.getSteps().length>=1){this.getView().moveDownButton.setEnabled(false);this.getView().moveUpButton.setEnabled(false);}this.oUiApi.getLayoutView().getController().enableDisableOpenIn();},removeAllThumbnails:function(){this._removeItemsAndBookkeepingRelations();},_removeItemsAndBookkeepingRelations:function(){var f=this;f.getView().oCustomItemList.removeAllItems();f._relateChartsToItems.forEach(function(h){f._destroyItemAndChart(h);});f._relateChartsToItems=[];},getTextsForCustomListItem:function(s){var S=this;var T=["leftUpper","rightUpper","leftLower","rightLower"];var o=s.thumbnail;var f=s.getSelectedRepresentationInfo().thumbnail;var R={};T.forEach(function(h){var H=f&&f[h];H=H&&!S.oCoreApi.isInitialTextKey(f[h]);var i=o&&o[h];i=i&&!S.oCoreApi.isInitialTextKey(o[h]);if(H){R[h]=S.oCoreApi.getTextNotHtmlEncoded(f[h]);return;}else if(i){R[h]=S.oCoreApi.getTextNotHtmlEncoded(o[h]);return;}});return R;},_getIndexOfCustomItem:function(i){return this.getView().getCustomItemList().findIndex(function(f){return f.sId===i;});},deleteCustomListItem:function(i){var f=this._getIndexOfCustomItem(i);t.log("deleteCustomListItem",", indexOfItem=",f,l);var h=null;if(f>=0){h=this._relateChartsToItems[f];this.getView().removeCustomItem(f);this.deleteFromBookkeeping(f);this.setBusyFromIndex(f);this.removeStep(f);this._destroyItemAndChart(h);}c(this,"deleteCustomListItem",f,null)},_destroyItemAndChart:function(f){if(f.oChart){f.oChart.destroy();}if(f.oTable){f.oTable.tableControl.destroy();f.oTable.destroy();}f.customListItem.destroy();f.customListItem=null;f.oChart=null;},listItemPressed:function(f){var n=this._getIndexOfCustomItem(f.getParameters().id);this.changeActiveStep(n);},changeActiveStep:function(n){t.logCall("changeActiveStep -- changes the active step, index=",n,l);if(n===this.getActiveStepIndex()){t.logReturn("changeActiveStep",", index=",n,"******");return;}var s=this.oCoreApi.getSteps()[n];this._removeHighlightingOfActiveStep();this.oCoreApi.setActiveStep(s);this.oUiApi.selectionChanged(false);this._setHighlightingOfActiveStep(n);t.logReturn("changeActiveStep",", index=",n,"******");},apfDestroy:function(){var s=this.getView().getStepGallery().getController();U.checkAndCloseDialog(s.oHierchicalSelectDialog);},_removeHighlightingOfActiveStep:function(){var n=this.getActiveStepIndex();var A=this._relateChartsToItems[n];A.wrappedChartWithCornerTexts.setNonHighlighted();},_removeHighlightingOfAnyStep:function(n){t.log("_removeHighlightingOfAnyStep",", nExclude",n);this._relateChartsToItems.forEach(function(f,i){if(i!==n){f.wrappedChartWithCornerTexts.setNonHighlighted();}})},_setHighlightingOfActiveStep:function(n){t.log("_setHighlightingOfActiveStep",", nActive",n);var A=this._relateChartsToItems[n];A.wrappedChartWithCornerTexts.setHighlighted();}});return C;});
/*!

 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/apf/ui/representations/utils/vizFrameSelectionHandler',["sap/apf/ui/representations/utils/chartDataSetHelper"],function(C){'use strict';
function V(p,A){this.oParameter=p;this.oApi=A;}
var s=V.prototype;s.constructor=V;var l={isFilterMatch:function(p){var f=p.filterValue;var d=p.dataRow;var r=p.sRequiredProperty;var c=p.fieldForOriginalValue;return(f==d[r]||f==d[c]);},determine1Selection:function(p){var d=p.dataRow;var r=p.sRequiredProperty;var D=p.aDataPoint;if(l.isFilterMatch(p)){var c={data:{}};c.data[r]=d[r];D.push(c);}}};
function _(r,S){var d=[];S.forEach(function(i){var c={data:{}};c.data[r]=i.data?i.data[r]:i;d.push(c);});return d;}
function a(f){return f.filter(function(i,n,c){return c.indexOf(i)===n;});}
s.getSelectionInfoFromEvent=function(c,i,d){var e,E,S=this;var r=S.oParameter.requiredFilters[0];var f=c.mParameters.data.map(function(g){return g.data[r];});var p=d.map(function(g){return g.data[r];});if(i){E=a(p).filter(function(g){return f.indexOf(g)===-1;});}else{E=a(f.concat(p));}e=_(r,E);return{dataPointsFromSelection:e,aUniqueFilterValueFromChart:E};};
s.getSelectionInfoFromFilter=function(f,d,t){var D=[];var r=this.oParameter.requiredFilters[0];var c=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(r);if(r){d.forEach(function(e){f.forEach(function(g){l.determine1Selection({dataRow:e,filterValue:g,sRequiredProperty:r,aDataPoint:D,fieldForOriginalValue:c});});});}return D;};
function b(){return l;}
sap.apf.ui.representations.utils.VizFrameSelectionHandler=V;return{constructor:V,_getLocal:b};},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved.
 */
sap.ui.predefine('sap/apf/utils/trace',[],function(){'use strict';var m={apfLogStyle:"color: blue; font-style: italic; background-color: wheat;padding: 1px",apfWarningStyle:"color: DarkMagenta; font-style: bold; background-color: wheat;padding: 1px",apfErrorStyle:"color: white; font-style: bold; background-color: red;padding: 1px",logCounter:0,_logBase:function(s,h,n,a,b,c,d,e,f){if(jQuery.sap.log.apfTrace===undefined){return;}a=a===undefined?"":a||a;b=b===undefined?"":b||b;c=c===undefined?"":c||c;d=d===undefined?"":d||d;e=e===undefined?"":e||e;f=f===undefined?"":f||f;var g="%c%s %s %s ";window.console.log(g,s,h,m.logCounter,n,a,b,c,d,e,f);},log:function(n,a,b,c,d,e,f){m._logBase(m.apfLogStyle,"-APF-",n,a,b,c,d,e,f);},logCall:function(n,a,b,c,d,e,f){++m.logCounter;m._logBase(m.apfLogStyle,">APF>",n,a,b,c,d,e,f);},logReturn:function(n,a,b,c,d,e,f){m._logBase(m.apfLogStyle,"<APF<",n,a,b,c,d,e,f);--m.logCounter;},emphasize:function(n,a,b,c,d,e,f){m._logBase(m.apfWarningStyle,"-APF-",n,a,b,c,d,e,f);}};return m;});
sap.ui.require.preload({
	"sap/apf/base/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.base","type":"component","embeddedBy":"../","i18n":"../resources/i18n/apfUi.properties","title":"{{AnalysisPathFramework}}","description":"{{AnalysisPathFrameworkDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ushell":{"minVersion":"1.30.0"},"sap.viz":{"minVersion":"1.30.0"},"sap.ui.comp":{"minVersion":"1.30.0"},"sap.suite.ui.commons":{"minVersion":"1.30.0"},"sap.ui.export":{"minVersion":"1.50.0"}}},"contentDensities":{"compact":false,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"../resources/i18n/apfUi.properties"}}}}',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShareDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><Dialog id="shareDialog" title="{value:\'shareConfiguration\',formatter:\'.translate\'}" contentWidth="750px"><content><FlexBox direction="Column"><FlexBox alignItems="Center" justifyContent="Center"><items><FlexBox alignItems="Center" justifyContent="Center"><layoutData><FlexItemData growFactor="1"/></layoutData><GenericTile id="tilePreview" header="{path:\'ui&gt;/TileHeader\'}" subheader="{path:\'ui&gt;/TileSubheader\'}" tooltip="{path:\'ui&gt;/TileTooltip\'}"><TileContent><ImageContent id="tileImage" src="{path:\'ui&gt;/TileIcon\'}"/></TileContent></GenericTile></FlexBox><FlexBox alignItems="Center" justifyContent="Start"><layoutData><FlexItemData growFactor="1"/></layoutData><f:SimpleForm id="formTile" editable="true" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="3" width="400px"><f:content><Label id="labelHeader" text="{value:\'bookmarkHeader\',formatter:\'.translate\'}" labelFor="inputHeader"/><Input id="inputHeader" placeholder="{path:\'ui&gt;/TileHeaderDefault\'}" liveChange="onHeaderChange"/><Label id="labelSubheader" text="{value:\'bookmarkSubheader\',formatter:\'.translate\'}" labelFor="inputSubheader"/><Input id="inputSubheader" placeholder="{value:\'bookmarkSubheaderDefault\',formatter:\'.translate\'}" liveChange="onSubheaderChange"/><Label id="labelIcon" text="{value:\'bookmarkIcon\',formatter:\'.translate\'}" labelFor="inputIcon"/><Input id="inputIcon" change="onIconChange" valueState="{path:\'ui&gt;/TileIconValueState\'}" valueStateText="{value:\'bookmarkIconInvalid\',formatter:\'.translate\'}"/><Label id="labelGroup" text="{value:\'bookmarkGroup\',formatter:\'.translate\'}" labelFor="inputGroup"/><Input id="inputGroup" liveChange="onGroupChange"/></f:content></f:SimpleForm></FlexBox></items></FlexBox><FlexBox justifyContent="Center"><Button id="buttonLink" text="{value:\'showLink\',formatter:\'.translate\'}" type="Transparent" icon="sap-icon://copy" press="onShowLink" class="sapUiMediumMarginEnd" tooltip="{value:\'showLinkTooltip\',formatter:\'.translate\'}"/><Button id="buttonEmail" text="{value:\'sendInEmail\',formatter:\'.translate\'}" type="Transparent" icon="sap-icon://email" press="onSendEmail" class="sapUiMediumMarginEnd" tooltip="{value:\'sendInEmailTooltip\',formatter:\'.translate\'}"/><Button id="buttonFavorite" text="{value:\'markAsFavorite\',formatter:\'.translate\'}" type="Transparent" icon="sap-icon://add-favorite" press="onMarkFavorite" class="sapUiMediumMarginEnd" tooltip="{value:\'markAsFavoriteTooltip\',formatter:\'.translate\'}"/></FlexBox><Input id="inputCopy" editable="false" visible="false"/></FlexBox></content><buttons><Button id="buttonClose" text="{value:\'close\',formatter:\'.translate\'}" press="onClose"/></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShowLinkDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog id="showLinkDialog" title="{value:\'configurationLink\',formatter:\'.translate\'}" type="Message" state="None" beforeOpen=".onBeforeOpen" afterOpen=".onAfterOpen" afterClose=".onAfterClose"><content><TextArea id="textAreaLink" width="100%" editable="false" growing="true"/></content><endButton><Button id="buttonCloseLinkDialog" text="{value:\'close\',formatter:\'.translate\'}" press=".onButtonClosePress"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/view/ShareDialog.view.xml":'<mvc:View controllerName="sap.apf.cloudFoundry.ui.sharedialog.controller.ShareDialog" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"/>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/CatalogBrowser.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><Dialog id="catalogBrowser" title="{path:\'ui&gt;/Title\'}" contentWidth="60%" contentHeight="1000px"><subHeader><Bar visible="{path:\'ui&gt;/SearchEnabled\'}"><contentMiddle><SearchField id="searchField" liveChange="onLiveChangeSearch" search="onSearch"/></contentMiddle></Bar></subHeader><content><NavContainer id="navContainer"><ScrollContainer horizontal="false" vertical="true" height="100%"><List id="selectDestination" items="{destinations&gt;/destinations}"><items><StandardListItem title="{destinations&gt;name}" description="{destinations&gt;description}" info="{destinations&gt;url}" icon="{path:\'destinations&gt;proxyType\',formatter:\'.proxyTypeIcon\'}" adaptTitleSize="false" type="Navigation" press="onSelectDestination"/></items></List></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><Table id="selectService" fixedLayout="false" sticky="ColumnHeaders" inset="false" items="{path:\'catalog&gt;/ServiceCollection\',sorter:{path:\'TechnicalServiceName\',descending:false}}"><columns><Column><Text id="columnTextTechnicalServiceName" text="{value:\'technicalServiceName\',formatter:\'.translate\'}"/></Column><Column minScreenWidth="Tablet" demandPopin="true"><Text id="columnTextUrl" text="{value:\'url\',formatter:\'.translate\'}"/></Column></columns><items><ColumnListItem type="Navigation" press="onSelectService" vAlign="Middle"><cells><ObjectIdentifier title="{catalog&gt;TechnicalServiceName}" text="{catalog&gt;Description}"/><Text text="{path:\'catalog&gt;ServiceUrl\',formatter:\'.getRelativeServiceURL\'}"/></cells></ColumnListItem></items></Table></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="urlInputForm" editable="true" layout="ResponsiveGridLayout" labelSpanXL="1" labelSpanL="1" labelSpanM="1" labelSpanS="12" adjustLabelSpan="false" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><f:content><Label text="{value:\'url\',formatter:\'.translate\'}"/><ComboBox id="urlInput" placeholder="{value:\'serviceURLExample\',formatter:\'.translate\'}" valueState="{path:\'ui&gt;/ServiceUrlValueState\'}" valueStateText="{value:\'serviceURLFormatWarning\',formatter:\'.translate\'}" showButton="false"/><Label/></f:content></f:SimpleForm></ScrollContainer><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.Overview" type="XML"/><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewReduced" type="XML"/><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewServiceOnly" type="XML"/></NavContainer></content><buttons><Button id="buttonOk" text="{value:\'ok\',formatter:\'.translate\'}" visible="{ui&gt;/ButtonOkEnabled}" press="onOk" type="Emphasized"/><Button id="buttonSelect" text="{value:\'select\',formatter:\'.translate\'}" visible="{ui&gt;/ButtonSelectEnabled}" press="onSelectServiceUrl"/><Button id="buttonBack" text="{value:\'back\',formatter:\'.translate\'}" visible="{ui&gt;/ButtonBackEnabled}" press="onBack"/><Button id="buttonCancel" text="{value:\'cancel\',formatter:\'.translate\'}" press="onCancel"/></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/Overview.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="destinationOverview" editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><Title text="{value:\'selectedDestination\',formatter:\'.translate\'}"/><f:content><Label id="destinationOverviewName" text="{value:\'destinationName\',formatter:\'.translate\'}"/><Text text="{destinations&gt;name}"/><Label id="destinationOverviewDescription" text="{value:\'destinationDescription\',formatter:\'.translate\'}"/><Text text="{destinations&gt;description}"/><Label id="destinationOverviewProxyType" text="{value:\'destinationProxyType\',formatter:\'.translate\'}"/><Text text="{path:\'destinations&gt;proxyType\',formatter:\'.proxyTypeText\'}"/><Label id="destinationOverviewUrl" text="{value:\'url\',formatter:\'.translate\'}"/><Text text="{destinations&gt;url}"/></f:content></f:SimpleForm><f:SimpleForm id="serviceOverview" editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><Title text="{value:\'selectedService\',formatter:\'.translate\'}"/><f:content><Label id="serviceOverviewTechnicalServiceName" text="{value:\'technicalServiceName\',formatter:\'.translate\'}"/><Text text="{catalog&gt;TechnicalServiceName}"/><Label id="serviceOverviewUrl" text="{value:\'url\',formatter:\'.translate\'}"/><Text text="{path:\'catalog&gt;ServiceUrl\',formatter:\'.getRelativeServiceURL\'}"/><Label id="serviceOverviewDescription" text="{value:\'description\',formatter:\'.translate\'}"/><Text text="{catalog&gt;Description}"/><Label id="serviceOverviewUpdatedDate" text="{value:\'updatedDate\',formatter:\'.translate\'}"/><Text text="{path:\'catalog&gt;UpdatedDate\',type:\'sap.ui.model.type.DateTime\'}"/><Label id="serviceOverviewTechnicalServiceVersion" text="{value:\'technicalServiceVersion\',formatter:\'.translate\'}"/><Text text="{path:\'catalog&gt;TechnicalServiceVersion\'}"/><Label id="serviceOverviewStatus" text="{value:\'serviceStatus\',formatter:\'.translate\'}"/><ObjectStatus icon="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusIcon\'}" state="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusState\'}" text="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusText\'}"/></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewReduced.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="reducedDestinationOverview" editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><Title text="{value:\'selectedDestination\',formatter:\'.translate\'}"/><f:content><Label id="reducedDestinationOverviewName" text="{value:\'destinationName\',formatter:\'.translate\'}"/><Text text="{destinations&gt;name}"/><Label id="reducedDestinationOverviewDescription" text="{value:\'destinationDescription\',formatter:\'.translate\'}"/><Text text="{destinations&gt;description}"/><Label id="reducedDestinationOverviewProxyType" text="{value:\'destinationProxyType\',formatter:\'.translate\'}"/><Text text="{path:\'destinations&gt;proxyType\',formatter:\'.proxyTypeText\'}"/><Label id="reducedDestinationOverviewUrl" text="{value:\'url\',formatter:\'.translate\'}"/><Text text="{destinations&gt;url}"/></f:content></f:SimpleForm><f:SimpleForm id="reducedServiceOverview" editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><Title text="{value:\'selectedService\',formatter:\'.translate\'}"/><f:content><Label id="reducedServiceOverviewUrl" text="{value:\'url\',formatter:\'.translate\'}"/><Text text="{ui&gt;/Service}"/><Label id="reducedServiceOverviewStatus" text="{value:\'serviceStatus\',formatter:\'.translate\'}"/><ObjectStatus icon="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusIcon\'}" state="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusState\'}" text="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusText\'}"/></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewServiceOnly.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><ScrollContainer horizontal="false" vertical="true" height="100%"><MessageStrip text="{value:\'directServiceDestination\',formatter:\'.translate\'}" type="Information" showIcon="true" class="sapUiSmallMargin"/><f:SimpleForm id="serviceOnlyOverview" editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><f:content><Label id="serviceOnlyOverviewName" text="{value:\'destinationName\',formatter:\'.translate\'}"/><Text text="{destinations&gt;name}"/><Label id="serviceOnlyOverviewDescription" text="{value:\'destinationDescription\',formatter:\'.translate\'}"/><Text text="{destinations&gt;description}"/><Label id="serviceOnlyOverviewProxyType" text="{value:\'destinationProxyType\',formatter:\'.translate\'}"/><Text text="{path:\'destinations&gt;proxyType\',formatter:\'.proxyTypeText\'}"/><Label id="serviceOnlyOverviewUrl" text="{value:\'url\',formatter:\'.translate\'}"/><Text text="{destinations&gt;url}"/><Label id="serviceOnlyOverviewStatus" text="{value:\'serviceStatus\',formatter:\'.translate\'}"/><ObjectStatus icon="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusIcon\'}" state="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusState\'}" text="{path:\'ui&gt;/ServiceStatus\',formatter:\'.serviceStatusText\'}"/></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/view/CatalogBrowser.view.xml":'<mvc:View controllerName="sap.apf.cloudFoundry.ui.valuehelp.controller.CatalogBrowser" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"/>',
	"sap/apf/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.apf","type":"library","embeds":["base","modeler"],"applicationVersion":{"version":"1.96.0"},"title":"Analysis Path Framework","description":"Analysis Path Framework","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.96","libs":{"sap.ui.core":{"minVersion":"1.96.0"},"sap.suite.ui.commons":{"minVersion":"1.96.0"},"sap.m":{"minVersion":"1.96.0"},"sap.ui.layout":{"minVersion":"1.96.0"},"sap.ushell":{"minVersion":"1.96.0"},"sap.viz":{"minVersion":"1.96.0"},"sap.ui.comp":{"minVersion":"1.96.0"},"sap.ui.export":{"minVersion":"1.96.0"},"sap.ui.table":{"minVersion":"1.96.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/apf/modeler/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.modeler","type":"component","embeddedBy":"../","i18n":"./resources/i18n/texts.properties","title":"{{configModelerTitle}}","description":"{{configModelerDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false,"dataSources":{"GatewayCatalogService":{"uri":"/sap/opu/odata/iwfnd/catalogservice;v=2"}},"crossNavigation":{"outbounds":{"navigateToGenericRuntime":{"semanticObject":"FioriApplication","action":"executeAPFConfiguration"}}}},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ui.table":{"minVersion":"1.30.0"},"sap.ui.commons":{"minVersion":"1.30.0"}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"sap.apf.modeler.ui.view","clearTarget":"false"},"routes":{"applicationList":{"pattern":"","view":"applicationList","targetAggregation":"pages","targetControl":"applicationList","subroutes":[{"pattern":"app/{appId}","view":"configurationList","name":"configurationList","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}","view":"configurationList","name":"configuration","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}","view":"configurationList","name":"category","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/facetFilter/{facetFilterId}","view":"configurationList","name":"facetFilter","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/smartFilter/{smartFilterId}","view":"configurationList","name":"smartFilterBar","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}","view":"configurationList","name":"step","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}/repn/{representationId}","view":"configurationList","name":"representation","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/navigationTarget/{navTargetId}","view":"configurationList","name":"navigationTarget","targetAggregation":"pages"}]}}},"contentDensities":{"compact":true,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"./resources/i18n/texts.properties"}},"rootView":"sap.apf.modeler.ui.view.applicationList"}}',
	"sap/apf/modeler/ui/fragment/addMenu.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified"><u:Menu id="idAddMenu"><u:MenuItem id="idNewConfig" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewFacetFilter" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewCategory" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewNavigationTarget" enabled="false" select="_handleAddMenuItemPress"/><u:MenuItem id="idStep" enabled="false" select="_handleAddMenuItemPress"><u:Menu><u:MenuItem id="idNewStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idHierarchicalStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idExistingStep" select="_handleAddMenuItemPress"/></u:Menu></u:MenuItem><u:MenuItem id="idNewRepresentation" enabled="false" select="_handleAddMenuItemPress"/></u:Menu></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/deleteConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDeleteConfirmation" showHeader="true" class="sapUiSizeCompact dialogContentPadding" type="Standard"><beginButton><Button xmlns="sap.m" id="idDeleteButton" press="handleConfirmDeletion" initialFocus="true"/></beginButton><endButton><Button xmlns="sap.m" id="idCancelButtonDialog" press="closeDialog"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/dialogWithTwoButtons.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDialogWithTwoButtons" type="Message" class="sapUiSizeCompact dialogContentPadding" afterClose="handleCancel"><content><Label xmlns="sap.m" id="idLabelForDialog" class="dialogText"/></content><beginButton><Button xmlns="sap.m" id="idBeginButtonForDialog" initialFocus="true" press="handleBeginButtonDialogWithTwoButtons"/></beginButton><endButton><Button xmlns="sap.m" id="idEndButtonForDialog" press="handleCancel"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/existingStepDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><SelectDialog xmlns="sap.m" id="idExistingStepDialog" class="sapUiSizeCompact dialogContentPadding" multiSelect="true" rememberSelections="false" confirm="_handleExistingStepDialogOK" cancel="_handleExistingStepDialogClose" liveChange="_handleExistingStepDialogSearch" items="{path:\'/existingStepData\'}"><StandardListItem title="{name}"/></SelectDialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/exportConfiguration.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><Dialog xmlns="sap.m" id="idExportConfigDialog" icon="" class="sapUiSizeCompact dialogContentPadding" showHeader="true" type="Standard" initialFocus="idExportConfigDialog"><VBox><HBox><Link xmlns="sap.m" id="idDownloadConfig" press="_handleOpenConfigLinkPress"/></HBox><HBox><Link xmlns="sap.m" id="idDownloadTextProperty" press="_handleOpenTextsLinkPress"/></HBox></VBox><beginButton><Button xmlns="sap.m" id="idCloseButton" type="Default" width="" enabled="true" visible="true" press="_handleCloseOfExportDialog"/></beginButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/mandatoryDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMandatoryValidationDialog" class="sapUiSizeCompact dialogContentPadding" showHeader="true" type="Standard" state="Warning" initialFocus="idMandatoryValidationDialog"><beginButton><Button xmlns="sap.m" id="idYesButton" type="Default" enabled="true" visible="true" iconFirst="true" iconDensityAware="true" press="handleValidationNavigation"/></beginButton><endButton><Button xmlns="sap.m" id="idNoButton" type="Default" enabled="true" visible="true" iconFirst="true" iconDensityAware="true" press="handlePreventNavigation"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/overwriteConfirmation.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idOverwriteConfirmationDialog" showHeader="true" type="Standard" class="sapUiSizeCompact dialogContentPadding" initialFocus="idOverwriteConfirmationDialog" afterClose="handleCancelOfOverwriteDialog"><VBox xmlns="sap.m"><items><Text xmlns="sap.m" id="idConfirmationMessage"/><RadioButtonGroup xmlns="sap.m" id="idOverwriteConfigRadioGroup" select="handleChangeForOverwriteConfigOptions" ariaLabelledBy="idConfirmationMessage"><buttons><RadioButton id="idOverwriteConfig"/><RadioButton id="idDoNotOverwriteConfig"/></buttons></RadioButtonGroup><HBox id="idNewConfigTitleLayout" class="newConfigTitleLabel" visible="false"><items><Label xmlns="sap.m" id="idNewConfigTitleLabel" width="65px"/><Input xmlns="sap.m" id="idNewConfigTitleInput" editable="true" width="290px" ariaLabelledBy="idNewConfigTitleLabel"/></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idOkButton" press="handleOkButtonPress"/></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelOfOverwriteDialog"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/textpoolCleanupConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog id="idTextpoolCleanupConfirmation" showHeader="true" class="sapUiSizeCompact dialogContentPadding" type="Standard" aria-describedby="textpoolCleanupConfirmation"><beginButton><Button id="idConfirmTextpoolCleanupButton" press="handleConfirmTextpoolCleanup" initialFocus="true"/></beginButton><endButton><Button id="idCancelTextpoolCleanupButton" press="handleCancelTextpoolCleanup"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/unsavedDataConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMessageDialog" showHeader="true" class="sapUiSizeCompact dialogContentPadding" type="Standard" state="Warning" initialFocus="idMessageDialog"><buttons><Button xmlns="sap.m" id="idYesButton" press="handleNavigationWithSave"/><Button xmlns="sap.m" id="idNoButton" press="handleNavigationWithoutSave"/><Button xmlns="sap.m" id="idCancelButton" press="handlePreventNavigation"/></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/view/application.view.xml":'<mvc:View resourceBundleAlias="i18n" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form"><Button xmlns="sap.m" id="idButton"/></mvc:View>',
	"sap/apf/modeler/ui/view/applicationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.applicationList" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><App xmlns="sap.m" id="applicationList" height="100%" width="100%" backgroundRepeat="false" backgroundOpacity="1"><Page id="idAppPage" showNavButton="true" enableScrolling="false" navButtonType="Back" navButtonPress="handleNavBack"><content><VBox xmlns="sap.m" id="idAppLayout"><items><Panel width="auto"><HBox xmlns="sap.m" alignItems="Start" justifyContent="SpaceBetween"><items><Label xmlns="sap.m" id="idAppTitle" class="applicationTitle"/></items></HBox></Panel><Toolbar id="idApplicationToolbar" class="applicationTitleLayout"><content><Label xmlns="sap.m" id="idAppNumberTitle" class="appCountLabel"/><Label xmlns="sap.m" id="idAppCount" class="applicationCount"/><ToolbarSpacer/><SearchField liveChange="onSearch" id="idApplicationListSearchField" width="300px" class="sapUiSmallMarginEnd"/><Button xmlns="sap.m" id="idNewButton" type="Transparent" press="handleAddNewAppPress" class="newButton"/><Button xmlns="sap.m" id="idImportButton" type="Transparent" press="handleImportPress"/></content></Toolbar><ScrollContainer xmlns="sap.m" id="idAppListScrollContainer" class="applicationListScroll" width="100%" horizontal="true" vertical="true"><Table xmlns="sap.m" id="idApplicationTable" inset="false" rememberSelections="true" mode="None" items="{/Objects}" itemPress="handleListItemPress"><columns><Column><Label xmlns="sap.m" id="idDescriptionLabel"/></Column><Column id="idSemanticObjectColumn"><Label xmlns="sap.m" id="idSemanticObjectLabel"/></Column><Column id="idTextpoolCleanupColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column id="idEditColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column xmlns="sap.m" width="5%" demandPopin="true"><Label text=""/></Column></columns><items><ColumnListItem type="Navigation" vAlign="Middle"><cells><Text xmlns="sap.m" id="idAppDescription" text="{description}"/><Text xmlns="sap.m" id="idSemanticObject" text="{semanticObject}"/><Button id="idTextpoolCleanupIcon" icon="sap-icon://attachment-text-file" press="handleTextpoolCleanupPress" type="Transparent" aria-describedby="idAriaPropertyForTextpoolCleanup"/><Button id="idEditIcon" icon="sap-icon://edit" press="handleEditPress" type="Transparent" aria-describedby="idAriaPropertyForEdit"/><Button id="idDeleteIcon" icon="sap-icon://delete" press="handleDeletePress" type="Transparent" aria-describedby="idAriaPropertyForDelete"/></cells></ColumnListItem></items></Table></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForEdit"/><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDelete"/><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForTextpoolCleanup"/></content></Page></App></mvc:View>',
	"sap/apf/modeler/ui/view/catalogService.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.catalogService" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><SelectDialog id="idGatewayCatalogListDialog" contentHeight="60%" class="dialogPadding" search="handleSearch" confirm="handleConfirm" cancel="handleCancel" multiSelect="false" items="{path:\'/ServiceCollection\',sorter:{path:\'ServiceUrl\',descending:false}}"><StandardListItem title="{path:\'ServiceUrl\',formatter:\'.handleFormatting\'}"/></SelectDialog></mvc:View>',
	"sap/apf/modeler/ui/view/category.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.category" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idCategoryform" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idCategoryBasicData" level="H4"/><Label xmlns="sap.m" id="idCategoryTitleLabel" required="true"/><Input xmlns="sap.m" id="idCategoryTitle" editable="true" change="handleChangeDetailValue" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/></Input><Label xmlns="sap.m" id="idTotalStepsLabel"/><Input xmlns="sap.m" id="idTotalSteps" editable="false"/></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configuration.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configuration" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idConfigform" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idConfigurationBasicData" level="H4"/><Label xmlns="sap.m" id="idConfigTitleLabel" required="true"/><Input xmlns="sap.m" id="idConfigTitle" editable="true" change="handleChangeDetailValue"/><Label xmlns="sap.m" id="idConfigurationIdLabel"/><Input xmlns="sap.m" id="idConfigurationId" editable="false"/><Label xmlns="sap.m" id="idSemanticObjectLabel"/><Input xmlns="sap.m" id="idSemanticObject" editable="false"/><Label xmlns="sap.m" id="idNoOfCategoriesLabel"/><Input xmlns="sap.m" id="idNoOfCategories" editable="false"/><Label xmlns="sap.m" id="idNoOfStepsLabel"/><Input xmlns="sap.m" id="idNoOfSteps" editable="false"/><core:Title id="idFilterTypeData" level="H4"/><Label xmlns="sap.m" id="idFilterTypeLabel" width="100%"/><VBox xmlns="sap.m" id="idFilterTypeRadioGroupVBox" visible="true" displayInline="false" direction="Column" fitContainer="true" renderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idFilterTypeRadioGroup" select="handleChangeForFilterType" enabled="false" ariaLabelledBy="idAriaPropertyForFilterRadioGp"><buttons><RadioButton id="smartFilterBar" app:value="smartFilterBar"/><RadioButton id="facetFilter" app:value="facetFilter" class="facetFilterRadioLabel"/><RadioButton id="none" app:value="none"/></buttons></RadioButtonGroup></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForFilterRadioGp"/></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configurationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configurationList" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:t="sap.apf.modeler.ui.utils"><Page xmlns="sap.m" showNavButton="true" showHeader="true" enableScrolling="false" navButtonType="Back" showFooter="true" id="configPage" navButtonPress="handleNavBack"><content><Label xmlns="sap.m" id="idConfigTitleMaster" design="Standard" text="Configuration" visible="true" textAlign="Begin" textDirection="Inherit" width="" required="false"/><HBox xmlns="sap.m" id="idHorizontalLayout" visible="true"><items><VBox xmlns="sap.m" id="idConfigMasterData" visible="true" width="34%"><items><ScrollContainer id="idMasterScroll" vertical="true" horizontal="false"><t:APFTree id="idConfigTree" mode="SingleSelectMaster" toggleOpenState="_handleToggleTreeNode" select="_onTreeNodeSelection" items="{/aConfigDetails}" includeItemInSelection="{selectable}"><StandardTreeItem title="{name}" icon="{icon}"/></t:APFTree></ScrollContainer></items></VBox><VBox xmlns="sap.m" id="idConfigDetail" visible="true" width="66%"><l:Grid defaultSpan="L12 M12 S12" id="idConfigDetailData"/></VBox></items></HBox></content><footer><Bar xmlns="sap.m" id="idFooterBarMain" visible="true"><contentRight><Button xmlns="sap.m" id="idSavebutton" type="Default" width="" enabled="true" visible="true" press="handleSavePress"/><Button xmlns="sap.m" id="idCancelbutton" type="Default" width="" enabled="true" visible="true" press="handleNavBack"/><Button xmlns="sap.m" id="idExportbutton" type="Default" width="" enabled="false" visible="true" press="_handleExportButtonPress"/><Button xmlns="sap.m" id="idExecuteButton" type="Default" width="" enabled="false" visible="true" press="handleExecuteButtonPress"/><Button xmlns="sap.m" id="idPublishbutton" type="Default" width="" enabled="false" visible="false" press="handlePublishPress"/></contentRight></Bar></footer></Page><core:InvisibleText id="idAriaPropertyForBreadCrumb"/></mvc:View>',
	"sap/apf/modeler/ui/view/cornerTexts.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" visible="true" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idThumbnailTexts" level="H4"/><Input xmlns="sap.m" id="idLeftUpper" editable="true" change="handleChangeForCornerText" width="60%" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/><customData><core:CustomData key="setLeftUpperCornerTextKey" value="setLeftUpperCornerTextKey"/><core:CustomData key="getLeftUpperCornerTextKey" value="getLeftUpperCornerTextKey"/></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6"/></layoutData></Input><Input xmlns="sap.m" id="idRightUpper" editable="true" width="60%" change="handleChangeForCornerText" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/><customData><core:CustomData key="setRightUpperCornerTextKey" value="setRightUpperCornerTextKey"/><core:CustomData key="getRightUpperCornerTextKey" value="getRightUpperCornerTextKey"/></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6"/></layoutData></Input><Icon xmlns="sap.ui.core" id="idChartIcon" color="black" visible="true" decorative="true" size="30px" tooltip="sampleChart"><layoutData><GridData xmlns="sap.ui.layout" span="L12 M12 S12"/></layoutData></Icon><Input xmlns="sap.m" id="idLeftLower" editable="true" change="handleChangeForCornerText" width="60%" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/><customData><core:CustomData key="setLeftLowerCornerTextKey" value="setLeftLowerCornerTextKey"/><core:CustomData key="getLeftLowerCornerTextKey" value="getLeftLowerCornerTextKey"/></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6"/></layoutData></Input><Input xmlns="sap.m" id="idRightLower" editable="true" change="handleChangeForCornerText" width="60%" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/><customData><core:CustomData key="setRightLowerCornerTextKey" value="setRightLowerCornerTextKey"/><core:CustomData key="getRightLowerCornerTextKey" value="getRightLowerCornerTextKey"/></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6"/></layoutData></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/editApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.editApplication" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><Dialog xmlns="sap.m" id="idEditAppDialog" showHeader="true" class="sapUiSizeCompact dialogContentPadding"><VBox><items><HBox class="newAppLayout"><items><Label id="idDescriptionLabel" required="true" width="110px" labelFor="idDescriptionInput"/><Input id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange" required="true" aria-required="true" initialFocus="true" ariaLabelledBy="idDescriptionLabel"/></items></HBox><HBox class="newAppLayout" id="idSemanticObjectBox"><items><Label id="idSemanticObjectLabel" width="110px"/><Input id="idSemanticObjectInput" liveChange="handleSemanticObjectLiveChange" ariaLabelledBy="idSemanticObjectLabel"/></items></HBox></items></VBox><buttons><Button id="idSaveButton" enabled="false" press="handleSavePress"/><Button id="idCancelButton" press="handleCancelPress"/></buttons></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/facetFilter.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.facetFilter" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idFacetFilterVBox" visible="true" width="100%" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idFFForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formBottomPadding"><f:content><core:Title id="idFacetFilterBasicData" level="H4"/><Label xmlns="sap.m" id="idFFLabel" width="100%" required="true"/><Input xmlns="sap.m" id="idLabel" editable="true" change="handleChangeForLabel" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/></Input><Label xmlns="sap.m" id="idFFPropertyLabel" width="100%" required="true"/><Select xmlns="sap.m" id="idFFProperty" visible="true" enabled="true" width="100%" maxWidth="100%" autoAdjustWidth="false" forceSelection="false" change="handleChangeForProperty" items="{/Objects}"><core:Item key="{key}" text="{name}"/></Select><Label xmlns="sap.m" id="idDoNotShowAtRuntimeLabel" width="100%"/><CheckBox xmlns="sap.m" id="idDoNotShowAtRuntimeCheckBox" selected="false" width="0px" visible="true" enabled="true" activeHandling="true" select="handleChangeForVisibilityAtRuntime"/><Label xmlns="sap.m" id="idSelectionModeLabel" width="100%"/><VBox xmlns="sap.m" id="idSelectionMode" visible="true" displayInline="false" direction="Column" fitContainer="true" renderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idSelectionModeRadioGroup" select="handleChangeForSelectionMode" ariaLabelledBy="idAriaPropertyForSelection"><buttons><RadioButton id="idSingleSelectionMode"/><RadioButton id="idMultiSelectionMode"/></buttons></RadioButtonGroup></items></VBox><core:Title id="idDefaultValuesTitle" level="H4"/><Label xmlns="sap.m" id="idPreselectionModeLabel" width="100%"/><VBox xmlns="sap.m" id="idPreselectionMode" visible="true" displayInline="false" direction="Column" fitContainer="true" renderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idPreselectionModeRadioGroup" select="handleChangeForPreselectionMode" ariaLabelledBy="idAriaPropertyForDefaultMode"><buttons><RadioButton id="idNoneSelection"/><RadioButton id="idAutomaticSelection"/><RadioButton id="idFixedValue"/><RadioButton id="idFunction"/></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idPreselectionDefaultsLabel" width="100%" visible="false" required="true"/><MultiInput id="idPreselectionDefaults" width="100%" enableMultiLineMode="true" visible="false" change="handleChangeForPreselectionDefaults" showValueHelp="false"/><Label xmlns="sap.m" id="idPreselectionFunctionLabel" width="100%" visible="false" required="true"/><Input xmlns="sap.m" id="idPreselectionFunction" editable="true" change="handleChangeForPreselectionFunction" visible="false"/><core:Title id="idValueHelpTitle" level="H4"/></f:content><Label xmlns="sap.m" id="idValueHelpLabel" width="100%"/><VBox xmlns="sap.m" id="idValueHelp" visible="true" displayInline="false" direction="Column" fitContainer="true" renderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idValueHelpRadioGroup" select="handleChangeForValueHelpOption" ariaLabelledBy="idAriaPropertyForVHR"><buttons><RadioButton id="idVHNone"/><RadioButton id="idValueHelpRequest"/><RadioButton id="idConfigListOfValues"/></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idConfigListOfValuesLabel" width="100%" visible="false" required="true"/><MultiInput id="idConfigListOfValuesMultiInput" width="100%" enableMultiLineMode="true" visible="false" change="handleChangeForConfigListOfValues" showValueHelp="false"/></f:SimpleForm><VBox id="idVHRVBox"/><f:SimpleForm id="idFFForm1" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idFilterResolutionTitle" level="H4"/><Label xmlns="sap.m" id="idUseVHRAsFRRCheckBoxLabel" width="100%" visible="false"/><CheckBox xmlns="sap.m" id="idUseVHRAsFRRCheckBox" selected="false" width="0px" visible="false" enabled="true" activeHandling="true" select="handleChangeForUseVHRAsFRRCheckBox"/></f:content></f:SimpleForm><VBox id="idFRRVBox"/></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForSelection"/><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDefaultMode"/><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForVHR"/></mvc:View>',
	"sap/apf/modeler/ui/view/importDeliveredContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importDeliveredContent" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportDeliveredContentDialog" showHeader="true" class="sapUiSizeCompact dialogContentPadding" contentWidth="700px" initialFocus="idImportDeliveredContentDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idConfigLabel" class="importFileUploaderDialogLabels"/><ComboBox xmlns="sap.m" id="idAppConfigCombobox" showSecondaryValues="true" items="{/Objects}" selectionChange="handleSelectionChangeOfAppConfigTextField" change="handleChangeOfAppConfigTextField" class="appCofigCombo" ariaLabelledBy="idConfigLabel"><core:ListItem text="{applicationText}" additionalText="{configurationText}" app:value="{value}"/></ComboBox></HBox></VBox><beginButton><Button xmlns="sap.m" id="idImportOfConfig" press="handleImportPress"/></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportDialog"/></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/importFiles.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importFiles" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportFilesDialog" showHeader="true" afterOpen="addAcceptAttribute" class="sapUiSizeCompact dialogContentPadding" initialFocus="idImportFilesDialog" afterClose="handleCancelOfImportFilesDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idJsonFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idJsonFileUploader" class="jsonfileuploader" fileType="json" width="600px" typeMissmatch="handleTypeMissmatchForJSONFile" uploadComplete="handleJSONFileUploadComplete" sameFilenameAllowed="true" ariaLabelledBy="idJsonFileLabel"/></HBox><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idTextFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idTextFileUploader" class="propertiesfileuploader" fileType="properties" width="600px" typeMissmatch="handleTypeMissmatchForPropertiesFile" uploadComplete="handleTextFileUploadComplete" sameFilenameAllowed="true" ariaLabelledBy="idTextFileLabel"/></HBox></VBox><beginButton><Button xmlns="sap.m" id="idUploadOfConfig" press="handleUploadOfConfig"/></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportFilesDialog"/></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/messageHandler.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.messageHandler" xmlns:mvc="sap.ui.core.mvc" class="sapUiSizeCompact"/>',
	"sap/apf/modeler/ui/view/navigationTarget.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.navigationTarget" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idNavTargetform" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formBottomPadding"><f:content><core:Title id="idNavigationTargetHeaderLabel" level="H4"/><Label xmlns="sap.m" id="idSemanticObjectLabel" required="true"/><ComboBox xmlns="sap.m" id="idSemanticObjectField" visible="true" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeSemanticObjectValue" items="{/Objects}"><core:Item key="{id}" text="{id}"/></ComboBox><Label xmlns="sap.m" id="idActionLabel" required="true"/><ComboBox xmlns="sap.m" id="idActionField" visible="true" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeofAction" items="{/Objects}"><core:Item key="{id}" text="{id}"/></ComboBox><Label xmlns="sap.m" id="idDescriptionLabel"/><Input xmlns="sap.m" id="idDescription" editable="true" change="handleChangeForTitleText" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/></Input><core:Title id="idNavigationParametersHeaderLabel" level="H4"/><Label xmlns="sap.m" id="idUseDynamicParametersCheckBoxLabel" width="100%"/><HBox alignItems="Start" justifyContent="Start"><items><CheckBox xmlns="sap.m" id="idUseDynamicParametersCheckBox" select="handleChangeForUseDynamicParameters"/><Button xmlns="sap.m" type="Transparent" id="idDisplayHelpAboutDynamicParameters" press="displayHelpAboutDynamicParameters" icon="sap-icon://sys-help"/></items></HBox><VBox id="idNavigationParameterBox"><layoutData><l:GridData span="L12 M12 S12"/></layoutData></VBox><core:Title id="idNavigationTargetTypeHeaderLabel" level="H4"/><Label xmlns="sap.m" id="idNavigationTargetTypeLabel"/><Select xmlns="sap.m" id="idNavigationTargetTypeField" visible="true" enabled="true" width="100%" type="Default" autoAdjustWidth="false" change="handleChangeOfNavigationTargetType" items="{/Objects}"><core:Item key="{key}" text="{name}"/></Select><Label xmlns="sap.m" id="idAssignedStepsLabel" visible="false"/><MultiComboBox xmlns="sap.m" id="idAssignedStepsCombo" enabled="true" visible="false" editable="true" valueState="None" selectionFinish="handleChangeForAssignedSteps" items="{/Objects}" width="100%"><core:Item key="{stepKey}" text="{stepName}"/></MultiComboBox><core:Title id="idContextMapping" level="H4"/></f:content></f:SimpleForm><VBox id="idContextMappingVBox"/></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTargetParameter.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idNavigationTargetParameterForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%" class="formTopPadding formBottomPadding"><f:content><Label xmlns="sap.m" id="idNavigationParametersLabel"/><Input xmlns="sap.m" id="idNavigationParametersKey" change="onKeyEntered"><layoutData><l:GridData span="L3 M3 S3"/></layoutData></Input><Input xmlns="sap.m" id="idNavigationParametersValue" change="onValueEntered"><layoutData><l:GridData span="L3 M3 S3"/></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L2 M2 S2"/></layoutData><items><Button id="idAddNavigationParameter" icon="sap-icon://add" type="Transparent" press="onPlus" aria-describedby="idAriaPropertyForAdd"/><Button id="idRemoveNavigationParameter" icon="sap-icon://less" type="Transparent" press="onMinus" aria-describedby="idAriaPropertyForDelete"/></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd"/><core:InvisibleText id="idAriaPropertyForDelete"/></mvc:View>',
	"sap/apf/modeler/ui/view/newApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.newApplication" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idNewAppDialog" showHeader="true" class="sapUiSizeCompact dialogContentPadding"><VBox xmlns="sap.m"><items><HBox xmlns="sap.m" class="newAppLayout"><items><Label xmlns="sap.m" id="idDescriptionLabel" required="true" textAlign="Center" width="135px" labelFor="idDescriptionInput"/><Input xmlns="sap.m" id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange" required="true" aria-required="true" initialFocus="true" ariaLabelledBy="idDescriptionLabel"/></items></HBox><HBox xmlns="sap.m" class="newAppLayout" id="idSemanticObjectBox"><items><Label xmlns="sap.m" id="idSemanticObjectLabel" textAlign="Center" width="135px" labelFor="idSemanticObjectInput"/><Input xmlns="sap.m" id="idSemanticObjectInput" ariaLabelledBy="idSemanticObjectLabel"/></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idSaveButton" enabled="false" press="handleSavePress"/></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelPress"/></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/previewContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.previewContent" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" type="Standard" id="idPreviewContentDialog" class="previewDialogStyle" afterClose="handleClose"><VBox xmlns="sap.m" id="idThumbnail" height="240px" width="30%" initialFocus="true" displayInline="false" direction="Column" fitContainer="true" renderType="Div" justifyContent="Left" alignItems="Left" class="previewThumbnailHolder"><items/></VBox><VBox xmlns="sap.m" id="idMainChart" width="70%" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Right" alignItems="Right" class="previewTable previewMainChartHolder"><items/></VBox><endButton><Button xmlns="sap.m" id="idCloseButtonDialog" press="handleCloseButtonOfDialog"/></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/propertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idPropertyTypeForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1" width="100%" class="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForBasicDataGroup"><core:InvisibleText id="idAriaPropertyForBasicDataGroup"/><f:content><Label id="idPropertyTypeLabel"><layoutData><l:GridData span="L2 M2 S2"/></layoutData></Label><Select id="idPropertyType" visible="true" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForPropertyTypeAsPromise" items="{/Objects}"><core:Item key="{key}" text="{name}"/><layoutData><l:GridData id="idPropertyTypeLayout" span="L2 M2 S2"/></layoutData></Select><Select id="idLabelDisplayOptionType" visible="true" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForLabelDisplayOptionType" items="{/Objects}"><core:Item key="{key}" text="{name}"/><layoutData><l:GridData span="L2 M2 S2"/></layoutData></Select><Label id="idPropertyLabel"><layoutData><l:GridData span="L2 M2 S1"/></layoutData></Label><Input id="idPropertyLabelText" editable="true" change="handleChangeForLabelText" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}"/><layoutData><l:GridData span="L3 M3 S2"/></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L1 M1 S1"/></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent" press="handlePressOfAddPropertyIcon" aria-describedby="idAriaPropertyForAdd"/><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent" press="handlePressOfRemovePropertyIcon" aria-describedby="idAriaPropertyForDelete"/></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd"/><core:InvisibleText id="idAriaPropertyForDelete"/></mvc:View>',
	"sap/apf/modeler/ui/view/propertyTypeHandler.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" visible="true" xmlns="sap.m" controllerName="sap.apf.modeler.ui.controller.propertyTypeHandler" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idPropertyTypeVBox"/></mvc:View>',
	"sap/apf/modeler/ui/view/representation.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.representation" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idRepresentationform" visible="true" width="100%" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1"><f:content><core:Title id="idVisualization" level="H4"/><Label xmlns="sap.m" id="idChartTypeLabel"><layoutData><GridData xmlns="sap.ui.layout" span="L2 M2 S2"/></layoutData></Label><Select xmlns="sap.m" id="idChartType" visible="true" enabled="true" width="95%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForChartType" items="{/Objects}"><core:Item key="{key}" text="{name}"/><layoutData><GridData xmlns="sap.ui.layout" span="L4 M4 S4"/></layoutData></Select></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idBasicData" level="H4"/><VBox xmlns="sap.m" id="idBasicDataLayout" width="100%" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"/></f:content></f:SimpleForm><f:SimpleForm id="idSecondForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idSorting" level="H4"/><VBox xmlns="sap.m" id="idSortLayout" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"/></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><VBox xmlns="sap.m" id="idCornerTextsVBox" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"/></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/requestOptions.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" visible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idRequestOptionsForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"><f:content><Label id="idSourceLabel"/><Input id="idSource" editable="true" showValueHelp="true" showSuggestion="true" suggestionItems="{/Objects}" change="handleChangeForSourceAsPromise" valueHelpRequest="handleShowValueHelpRequest" suggest="handleSuggestionsForSource"><core:Item key="{key}" text="{name}"/></Input><Label id="idEntityLabel"/><Select id="idEntity" visible="true" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForEntity" items="{/Objects}"><core:Item key="{key}" text="{name}"/></Select><Label id="idOptionalPropertyLabel" visible="false"/><Select id="idOptionalProperty" visible="false" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForOptionalProperty" items="{/Objects}"><core:Item key="{key}" text="{name}"/></Select><Label id="idSelectPropertiesLabel"/><MultiComboBox id="idSelectProperties" value="" width="100%" enabled="true" visible="true" valueState="None" editable="true" selectionFinish="handleChangeForSelectProperty" items="{/Objects}"><core:Item key="{key}" text="{name}"/></MultiComboBox><Label id="idOptionalRequestFieldLabel" visible="false"/><Select id="idOptionalRequestField" visible="false" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForOptionalRequestField" items="{/Objects}"><core:Item key="{key}" text="{name}"/></Select><Select id="idOptionalLabelDisplayOptionType" visible="false" enabled="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForOptionalLabelDisplayOptionType" items="{/Objects}"><core:Item key="{key}" text="{name}"/></Select><Label id="idOptionalSelectedPropertyLabel" visible="false"/><Input id="idOptionalSelectedPropertyLabelText" editable="true" visible="false" change="handleChangeForOptionalSelectedPropertyLabelText" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestionsForSelectedPropertyLabel"><core:Item key="{key}" text="{name}"/></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/smartFilterBar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.smartFilterBar" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idSFBVBox" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><VBox id="idSFBRequestVBox"/></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/sortPropertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idSortPropertyTypeForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1" width="100%" class="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForSortGroup"><core:InvisibleText id="idAriaPropertyForSortGroup"/><f:content><Label id="idSortLabel"><layoutData><l:GridData id="idGridSortLabel"/></layoutData></Label><Select id="idSortProperty" visible="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForSortProperty" items="{/Objects}"><core:Item key="{key}" text="{name}"/><layoutData><l:GridData id="idGridSortProperty"/></layoutData></Select><Label id="idSortDirectionLabel"><layoutData><l:GridData id="idGridSortDirectionLabel"/></layoutData></Label><Select id="idSortDirection" visible="true" width="100%" maxWidth="100%" type="Default" autoAdjustWidth="false" change="handleChangeForSortDirection" items="{/Objects}"><core:Item key="{key}" text="{name}"/><layoutData><l:GridData id="idGridSortDirection"/></layoutData></Select><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData id="idGridIconLayout"/></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent" press="handlePressOfAddPropertyIcon" aria-describedby="idAriaPropertyForAdd"/><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent" press="handlePressOfRemovePropertyIcon" aria-describedby="idAriaPropertyForDelete"/></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd"/><core:InvisibleText id="idAriaPropertyForDelete"/></mvc:View>',
	"sap/apf/modeler/ui/view/step.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.step" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idStepform" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idBasicDataForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formBottomPadding"><f:content><core:Title id="idStepBasicData" level="H4"/><Label id="idStepTitleLabel" required="true"/><Input id="idStepTitle" editable="true" change="handleChangeForStepTitle" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestionsForStepTitle"><core:Item key="{key}" text="{name}"/></Input><Label id="idStepLongTitleLabel"/><Input id="idStepLongTitle" editable="true" change="handleChangeForStepLongTitle" showSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestionsForStepLongTitle"><core:Item key="{key}" text="{name}"/></Input><Label id="idCategoryTitleLabel" required="true"/><MultiComboBox id="idCategorySelect" enabled="true" visible="true" valueState="None" editable="true" selectionChange="handleChangeForCategory" items="{/Objects}"><core:Item key="{CategoryId}" text="{CategoryTitle}"/></MultiComboBox><core:Title id="idDataRequest" level="H4"/></f:content></f:SimpleForm><VBox id="idStepRequestVBox"/><f:SimpleForm id="idDataReductionForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><core:Title id="idDataReduction" level="H4"/><Label id="idDataReductionLabel" width="100%" visible="true"/><VBox id="idDataReductionRadioButton" visible="true" displayInline="false" direction="Column" fitContainer="true" renderType="Div" justifyContent="Start"><items><RadioButtonGroup id="idDataReductionRadioGroup" select="handleChangeForDataReductionType" ariaLabelledBy="idAriaPropertyForDataReduction"><buttons><RadioButton groupName="groupDataReduction" id="idNoDataReduction"/><RadioButton groupName="groupDataReduction" id="idTopN"/></buttons></RadioButtonGroup></items></VBox><Label id="idNumberOfRecordsLabel" width="100%" required="true" visible="false"/><Input id="idNumberOfRecordsValue" busy="false" width="100%" visible="false" type="Number" enabled="true" liveChange="handleValidationForNumberOfRecords" change="handleChangeForNoOfRecords"/></f:content></f:SimpleForm><VBox id="idSortLayout" visible="true" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"/><f:SimpleForm id="idFilterMappingHeaderForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idFilterMapping" level="H4"/></f:content></f:SimpleForm><VBox id="idStepFilterMappingVBox" visible="false"/><f:SimpleForm id="idFilterMapKeepSourceAndNavTargetForm" maxContainerCols="1" editable="true" labelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><Label id="idFilterMapKeepSourceLabel" visible="false"/><CheckBox xmlns="sap.m" id="idFilterKeepSourceCheckBox" visible="false" selected="false" select="handleFilterMapKeepSource"/><core:Title id="idNavigationTarget" level="H4"/><Label id="idStepSpecificLabel"/><MultiComboBox id="idStepSpecificCombo" enabled="true" visible="true" valueState="None" editable="true" selectionChange="handleChangeForStepSpecificNavTargets" items="{/Objects}" width="100%"><core:Item key="{navTargetKey}" text="{navTargetName}"/></MultiComboBox><Label id="idGlobalLabel"/><MultiComboBox id="idGlobalCombo" enabled="true" visible="true" valueState="None" editable="false" items="{/Objects}" width="100%"><core:Item key="{navTargetKey}" text="{navTargetName}"/></MultiComboBox></f:content></f:SimpleForm><VBox id="idStepCornerTextVBox"/></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDataReduction"/></mvc:View>',
	"sap/apf/modeler/ui/view/titleBreadCrumb.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.titleBreadCrumb" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><VBox xmlns="sap.m" id="idFormTitleLayout" visible="true" height="" width="" displayInline="false" direction="Column" fitContainer="false" renderType="Div" justifyContent="Start" alignItems="Stretch"><items><Text xmlns="sap.m" id="IdFormTitle" textDirection="Inherit" visible="true" wrapping="true" textAlign="Begin" width="" class="formTitle"/><l:HorizontalLayout xmlns="sap.m" id="IdBreadCrumb" visible="true" class="breadCrumb"/></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/toolbar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.toolbar" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><Toolbar xmlns="sap.m" id="idTreeToolbar" visible="true" width="100%" active="false" enabled="true" design="Auto"><content><FlexBox alignItems="Start" width="100%"><items><Button xmlns="sap.m" id="idAddButton" type="Default" width="100%" tap="" press="_handlePressAddButton"><layoutData><FlexItemData growFactor="1"/></layoutData></Button><Button xmlns="sap.m" id="idCopyButton" enabled="false" width="100%" type="Default" tap="" press="_handlePressCopyButton"><layoutData><FlexItemData growFactor="1"/></layoutData></Button><Button xmlns="sap.m" id="idDeleteButton" type="Default" enabled="false" width="100%" tap="" press="_handlePressDeleteButton"><layoutData><FlexItemData growFactor="1"/></layoutData></Button><Button xmlns="sap.m" id="idMoveUp" type="Default" width="100%" tap="" press="_handlePressMoveUpButton" icon="sap-icon://up"><layoutData><FlexItemData growFactor="1"/></layoutData></Button><Button xmlns="sap.m" id="idMoveDown" type="Default" width="100%" tap="" press="_handlePressMoveDownButton" icon="sap-icon://down"><layoutData><FlexItemData growFactor="1"/></layoutData></Button></items></FlexBox></content></Toolbar></mvc:View>',
	"sap/apf/ui/reuse/view/layout.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:fiori="sap.f" xmlns:l="sap.ui.layout" controllerName="sap.apf.ui.reuse.controller.layout" xmlns="sap.m" class="layoutView"><Page id="applicationPage" xmlns="sap.m" showNavButton="true" floatingFooter="true" showHeader="false" navButtonPress="handleNavBack" showFooter="true" enableScrolling="false" class="apfAppPage"><content><l:Splitter id="idSplitter" orientation="Vertical" defaultPane="splitPane2"><ScrollContainer xmlns="sap.m" id="subHeader" width="100%"><layoutData><l:SplitterLayoutData id="idSplitterLayoutData" size="127px"/></layoutData></ScrollContainer><SplitApp xmlns="sap.m" id="applicationView" mode="ShowHideMode"><layoutData><l:SplitterLayoutData size="auto"/></layoutData><masterPages><Page xmlns="sap.m" id="analysisPath" showHeader="false" showFooter="true" enableScrolling="false"><content><fiori:DynamicPage id="analysisDynamicPage" enableScrolling="false" preserveHeaderStateOnScroll="false" showFooter="false"><fiori:title><fiori:DynamicPageTitle areaShrinkRatio="1:5:0"><fiori:content><Title id="analysisPathTitle" text=""/></fiori:content><fiori:actions><Button id="menuButton" type="Transparent" icon="sap-icon://drop-down-list" press="showMenu" ariaLabelledBy="analysisPathTitle"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow"/></layoutData></Button></fiori:actions></fiori:DynamicPageTitle></fiori:title></fiori:DynamicPage></content><footer><Bar xmlns="sap.m" id="deviceFooter" class="applicationFooter"/></footer></Page></masterPages><detailPages><Page xmlns="sap.m" id="stepContainer" showFooter="false" showHeader="false" enableScrolling="false"/></detailPages></SplitApp></l:Splitter></content><footer><Bar xmlns="sap.m" id="masterFooter" class="applicationFooter"/></footer></Page></mvc:View>',
	"sap/apf/ui/reuse/view/pathFilterDisplay.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="sap.apf.ui.reuse.controller.pathFilterDisplay" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Dialog id="pathFilterDisplayDialog" showHeader="false" resizable="true" draggable="true" afterClose=".onClose"><content><NavContainer id="navContainer"><pages><Page id="stepPage"><subHeader><Bar class="filterMargin"><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items="{path:\'/\',templateShareable:false}"><CustomListItem type="Navigation" press=".onStepPress" class="sapUiSmallMargin"><content><HBox class="sapUiSmallMargin" width="100%" wrap="Wrap"><items><VBox class="sapUiSmallMargin" width="100%"><items><Label text="{text}" design="Bold" tooltip="{text}"/><Label text="{parts:[\'selectablePropertyLabel\',\'filterValues\'],formatter:\'.getDescriptionForStep\'}"/></items></VBox><HBox justifyContent="End" alignItems="Center" width="100%"><items><core:Icon src="sap-icon://message-warning" class="sapUiSmallMarginBegin" visible="{warningIcon}" tooltip="{warningText}"/><core:Icon src="sap-icon://message-information" class="sapUiSmallMarginBegin" visible="{infoIcon}" tooltip="{infoText}"/></items></HBox></items></HBox></content></CustomListItem></List></content></Page><Page id="filterValuesPage" title="{text}" showNavButton="true" navButtonPress=".onBackPress" app:stepIndex="{stepIndex}"><subHeader><Bar><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items="{filterValues}"><StandardListItem title="{text}"/></List></content></Page></pages></NavContainer></content><beginButton><Button visible="false" press=".onCloseAndNavigatePress"/></beginButton><endButton><Button press=".onCloseButton"/></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/controller/navigationTargetParameter.controller.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
(function(){"use strict";var t;
function s(c){var i;var k=g(c);var v=a(c);if(c.oldKey&&c.navigationTarget.getNavigationParameter(c.oldKey)){c.navigationTarget.removeNavigationParameter(c.oldKey);c.configurationEditor.setIsUnsaved();}if(!c.navigationTarget.getNavigationParameter(k)){if(k&&v){i=c.oParentController.getNavigationParameters().indexOf(c.getView());c.configurationEditor.setIsUnsaved();c.navigationTarget.addNavigationParameter(k,v,i);}c.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.None);c.oldKey=k;}else{c.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.Error);c.oldKey=null;}}
function r(c){var k=g(c);if(k&&c.navigationTarget.getNavigationParameter(k)){c.configurationEditor.setIsUnsaved();c.navigationTarget.removeNavigationParameter(k);}}
function _(c){c.byId("idNavigationParametersKey").setValueStateText(t("navigationParametersKeyErrorState"));c.byId("idNavigationParametersValue").setValueStateText(t("navigationParametersValueErrorState"));c.byId("idNavigationParametersLabel").setText(t("navigationStaticParametersLabel"));c.byId("idNavigationParametersKey").setPlaceholder(t("navigationParametersKey"));c.byId("idNavigationParametersValue").setPlaceholder(t("navigationParametersValue"));}
function g(c){return c.byId("idNavigationParametersKey").getValue();}
function a(c){return c.byId("idNavigationParametersValue").getValue();}
function b(c,p){if(p){c.byId("idNavigationParametersKey").setValue(p.key);c.oldKey=p.key;c.byId("idNavigationParametersValue").setValue(p.value);}}
sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter",{onInit:function(){var v=this.getView().getViewData();t=v.oTextReader;this.oParentController=v.oParentController;this.navigationTarget=v.oNavigationTarget;this.configurationEditor=v.oConfigurationEditor;_(this);b(this,v.parameter);},onExit:function(){var c=this;c.destroy();},onPlus:function(){this.oParentController.addNavigationParameter();},onMinus:function(){r(this);this.oParentController.removeNavigationParameter(this.getView());this.getView().destroy();},checkVisibilityOfPlusMinus:function(){var n=this.oParentController.getNavigationParameters();if(n.length===1){this.byId("idRemoveNavigationParameter").setVisible(false);}else{this.byId("idRemoveNavigationParameter").setVisible(true);}if(n[n.length-1]===this.getView()){this.byId("idAddNavigationParameter").setVisible(true);if(!this.byId("idRemoveNavigationParameter").hasStyleClass("lessIcon")){this.byId("idRemoveNavigationParameter").addStyleClass("lessIcon");}}else{this.byId("idAddNavigationParameter").setVisible(false);this.byId("idRemoveNavigationParameter").removeStyleClass("lessIcon");}},onKeyEntered:function(){this.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.None);s(this);},onValueEntered:function(){this.byId("idNavigationParametersValue").setValueState(sap.ui.core.ValueState.None);s(this);},validate:function(){if(a(this)&&!g(this)){this.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.Error);return false;}if(!a(this)&&g(this)){this.byId("idNavigationParametersValue").setValueState(sap.ui.core.ValueState.Error);return false;}if(this.byId("idNavigationParametersKey").getValueState()===sap.ui.core.ValueState.Error){return false;}return true;}});}());
},
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
	"sap/apf/modeler/core/messageDefinition.js":function(){jQuery.sap.declare("sap.apf.modeler.core.messageDefinition");sap.apf.modeler.core.messageDefinition=[{code:"11005",severity:"technError",text:"Bad HTTP request returned status code {0} with status text {1}."},{code:"11006",severity:"technError",text:"Unknown identifier: {0}"},{code:"11007",severity:"technError",text:"Cannot export unsaved configuration. Configuration ID: {0}"},{code:"11013",severity:"technError",text:"Metadata request {0} to server failed."},{code:"11016",severity:"error",description:"Sorting options must be supplied when setting top n",key:"11016"},{code:"11020",severity:"error",description:"Text property has invalid format and cannot be imported - see previous messages for details",key:"11020"},{code:"11021",severity:"error",description:"ApfApplicationId {0} referenced in the text property is not yet existing - please load one configuration of the application before importing the texts.",key:"11021"},{code:"11030",severity:"error",description:"Label {0} is not valid",key:"11030"},{code:"11031",severity:"error",description:"Category {0} is not valid",key:"11031"},{code:"11032",severity:"error",description:"Request {0} is not valid",key:"11032"},{code:"11033",severity:"error",description:"Binding {0} is not valid",key:"11033"},{code:"11034",severity:"error",description:"Facet filter {0} is not valid",key:"11034"},{code:"11035",severity:"error",description:"Step {0} is not valid",key:"11035"},{code:"11036",severity:"error",description:"Configuration is not valid",key:"11036"},{code:"11037",severity:"error",description:"Invalid application guid {0}",key:"11037"},{code:"11038",severity:"error",description:"Invalid configuration guid {0}",key:"11038"},{code:"11039",severity:"error",description:"Invalid text guid {0}",key:"11039"},{code:"11040",severity:"error",description:"Navigation target {0} is not valid",key:"11040"},{code:"11041",severity:"technError",text:"Network service for retrieving semantic objects failed - see console."},{code:"11042",severity:"technError",text:"Error occurred when retrieving actions for semantic object - see console."},{code:"11500",severity:"error",description:"An error occurred while attempting to save the application.",key:"11500"},{code:"11501",severity:"error",description:"An error occurred while attempting to delete the application.",key:"11501"},{code:"11502",severity:"error",description:"An error occurred while importing the configuration.",key:"11502"},{code:"11503",severity:"error",description:"An error occurred while importing the text properties file.",key:"11503"},{code:"11504",severity:"technError",description:"An error occurred while retrieving the semantic objects available.",key:"11504"},{code:"11505",severity:"technError",description:"An error occurred while retrieving the actions for the given semantic object.",key:"11505"},{code:"11506",severity:"error",description:"An error occurred while getting the unused texts.",key:"11506"},{code:"11507",severity:"error",description:"An error occurred while doing the text pool cleanup.",key:"11507"},{code:"11508",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"11508"},{code:"11509",severity:"fatal",description:"OData service is not available. You cannot create a new application or change existing ones.",key:"11509"},{code:"11510",severity:"success",description:"Application has been deleted.",key:"11510"},{code:"11511",severity:"success",description:"Cleanup of text pool completed.",key:"11511"},{code:"11512",severity:"success",description:"Application has been saved.",key:"11512"},{code:"11513",severity:"success",description:"Configuration is saved.",key:"11513"},{code:"11514",severity:"error",description:"Error in saving the configuration.",key:"11514"},{code:"11515",severity:"success",description:"Configuration file imported.",key:"11515"},{code:"11516",severity:"success",description:"Text properties file imported",key:"11516"},{code:"11517",severity:"success",description:"Incorrect extension used for configuration file. Please use .json format.",key:"11517"},{code:"11518",severity:"success",description:"Incorrect extension used for text properties file. Please use .properties format.",key:"11518"},{code:"11519",severity:"success",description:"The configuration file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11519"},{code:"11520",severity:"success",description:"The application you referenced does not yet exist. You must also upload a configuration file.",key:"11520"},{code:"11521",severity:"success",description:"The configuration file and text properties file do not belong to the same application. The text properties file cannot be imported.",key:"11521"},{code:"11522",severity:"success",description:"The text properties file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11522"},{code:"11523",severity:"information",description:"Sorting field in section Data Reduction has been changed. Please check and adjust if necessary.",key:"11523"},{code:"11524",severity:"technError",text:"The entity type {0} in smart filter bar configuration is not valid - please check service"}];
},
	"sap/apf/modeler/ui/controller/smartFilterBar.controller.js":function(){(function(){"use strict";var p,t,c,C,s;
function _(o){if(p&&p.arguments&&p.arguments.smartFilterId){s=C.getSmartFilterBar();}}
function a(o){var r,S;var v={oTextReader:t,oConfigurationHandler:c,oConfigurationEditor:C,oParentObject:s,getCalatogServiceUri:o.getView().getViewData().getCalatogServiceUri,oCoreApi:o.getView().getViewData().oCoreApi};r=new sap.ui.controller("sap.apf.modeler.ui.controller.smartFilterBarRequest");S=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:o.createId("idSFBRequestView"),viewData:v,controller:r});o.byId("idSFBRequestVBox").insertItem(S);}
sap.ui.controller("sap.apf.modeler.ui.controller.smartFilterBar",{onInit:function(){var o=this;var v=o.getView().getViewData();t=v.getText;p=v.oParams;c=v.oConfigurationHandler;C=v.oConfigurationEditor;_(o);a(o);},setDetailData:function(){},getValidationState:function(){var o=this;return o.byId("idSFBRequestView").getController().getValidationState();},onExit:function(){var o=this;o.byId("idSFBRequestView").destroy();}});}());
},
	"sap/apf/ui/representations/utils/displayOptionHandler.js":function(){jQuery.sap.declare("sap.apf.ui.representations.utils.displayOptionHandler");jQuery.sap.require("sap.apf.core.constants");(function(){"use strict";
sap.apf.ui.representations.utils.DisplayOptionHandler=function(){};
function _(d,D){var n,h=false;var u=d[0][D];for(n=0;n<d.length;n++){if(u!==d[n][D]){h=true;break;}}return h;}
sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.constructor=sap.apf.ui.representations.utils.DisplayOptionHandler;
sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.getColumnNameBasedOnDisplayOption=function(p,l,m){var c;var P=p;if(l===undefined){c=P;}if(l===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT){c=m.getPropertyMetadata(P).text;}if(l===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY){c="formatted_"+P;}if(l===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){c=P+"_"+m.getPropertyMetadata(P).text;}return c;};
sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.getDisplayNameForMeasure=function(m,M,d,a){var o=M.getPropertyMetadata(m.fieldName);var D=o.label?o.label:o.name;var s=M.getPropertyMetadata(o.name).unit;var b=d[0]?d[0][s]:undefined;if(m.fieldDesc){D=a.getTextNotHtmlEncoded(m.fieldDesc);}if(s&&b&&!_(d,s)){D=a.getTextNotHtmlEncoded("displayUnit",[D,b]);}return D;};
sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.getDisplayNameForDimension=function(d,m,a){var D=m.getPropertyMetadata(d.fieldName);var s=D.label?D.label:D.name;if(d.fieldDesc){s=a.getTextNotHtmlEncoded(d.fieldDesc);}return s;};
}());
},
	"sap/apf/ui/reuse/controller/layout.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.apf.ui.reuse.controller.layout",{onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;var a;this.oCoreApi.getApplicationConfigProperties().done(function(b){if(b){a=b.appName;}this.applicationTitle=this.oCoreApi.getTextNotHtmlEncoded(a);this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.loadLayout();}.bind(this));var s=this;this.oActionListPopover=new sap.m.Popover({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:sap.m.PlacementType.Bottom,contentWidth:"165px"});this.oActionListItem=s.oUiApi.getToolbar().addStyleClass("toolbarView");this.oActionListPopover.addContent(this.oActionListItem);this.oSavedPathName=this.getView().byId("analysisPathTitle");if(this.byId("analysisPath")){this.setPathTitle();}},showMenu:function(e){this.oActionListPopover.openBy(e.getSource());},getAnalysisPathTitleText:function(){this.getView.byId("analysisPathTitle");},setPathTitle:function(){var p=this.oCoreApi.getPathName();if(p.length==0){p=this.oCoreApi.getTextNotHtmlEncoded("unsaved");}if(this.oCoreApi.isDirty()){p='*'+p;}this.getView().byId("analysisPathTitle").setText(p);this.getView().byId("analysisPathTitle").setTooltip(p);},loadLayout:function(){this.oCoreApi.getSmartFilterBarConfigurationAsPromise().done(function(s){if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");this.getView().byId("deviceFooter").destroy();}if(s===undefined){this.getView().byId("idSplitterLayoutData").setSize("0px");}var c=this.oUiApi.getStepContainer();var a=this.oUiApi.getAnalysisPath();this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.getView().byId("stepContainer").addContent(c);this.getView().byId("analysisDynamicPage").setContent(a);if(this.getView().byId("menuButton")){this.getView().byId("menuButton").setTooltip(this.oCoreApi.getTextNotHtmlEncoded("options"));}this.addOpenInButton();}.bind(this));},onAfterRendering:function(){var s=this;if(!sap.ui.Device.system.desktop){var S=new sap.m.Button({text:this.oCoreApi.getTextNotHtmlEncoded("showAnalyticalPath"),press:function(){s.getView().byId("applicationView").showMaster();},type:"Transparent"});this.getView().byId("applicationView").attachAfterMasterClose(function(){if(s.getView().byId("masterFooter")&&s.getView().byId("masterFooter").getContentLeft().length===0){s.getView().byId("masterFooter").addContentLeft(S);}});this.getView().byId("applicationView").attachAfterMasterOpen(function(){if(s.getView().byId("masterFooter")){s.getView().byId("masterFooter").removeContentLeft(S);}});if(this.getView().byId("applicationView").isMasterShown()===false&&this.getView().byId("masterFooter").getContentLeft().length===0){this.addMasterFooterContentLeft(S);}}},hideMaster:function(){if(sap.ui.Device.system.phone||sap.ui.Device.system.tablet){this.getView().byId("applicationView").hideMaster();if(sap.ui.Device.system.phone){this.getView().byId("applicationView").toDetail(this.getView().byId("stepContainer").getId());}}},showMasterFooter:function(a,m,M){if(!sap.ui.Device.system.desktop){var s=this;s.getView().byId("analysisPath").showFooter=true;s.getView().byId("analysisPath").enableScrolling=true;s.getView().byId("deviceFooter").addContentLeft(a);s.getView().byId("deviceFooter").addContentLeft(m);s.getView().byId("deviceFooter").addContentLeft(M);}},showMaster:function(){this.getView().byId("applicationView").showMaster();},addMasterFooterContentLeft:function(c){this.getView().byId("masterFooter").addContentLeft(c);},addMasterFooterContentRight:function(c){if(this.getView().byId("masterFooter").getContentRight().length===0){this.getView().byId("masterFooter").insertContentRight(c);}else{this.addMasterFooterContent(c);}},addMasterFooterContent:function(c){var s=this;if(this.oActionListPopover===undefined){this.oActionListPopover=new sap.m.Popover({showHeader:false,placement:sap.m.PlacementType.Top});}if(typeof c.getWidth==="function"){c.setWidth("100%");}if(this.footerContentButton===undefined){this.getView().byId("masterFooter").getContentRight()[0].setWidth("71%");this.footerContentButton=new sap.m.Button({icon:"sap-icon://overflow",press:function(e){s.oActionListPopover.openBy(e.getSource());},type:"Transparent",tooltip:this.oCoreApi.getTextNotHtmlEncoded("moreIcon")});}this.oActionListPopover.addContent(c);this.getView().byId("masterFooter").insertContentRight(this.footerContentButton,1);},addDetailFooterContentLeft:function(c){this.getView().byId("masterFooter").addContentLeft(c);},addFacetFilter:function(f){this.getView().byId("subHeader").addContent(f);},enableDisableOpenIn:function(){var s=this;if(!s.openInBtn){return;}var r=false;var n=this.oNavigationHandler.getNavigationTargets();n.then(function(a){if(a.global.length===0&&a.stepSpecific.length===0){if(s.openInBtn.getEnabled()){r=true;s.openInBtn.setEnabled(false);}}else{if(!s.openInBtn.getEnabled()){r=true;s.openInBtn.setEnabled(true);}}if(r){s.openInBtn.rerender();}});},addOpenInButton:function(){var s=this;if(this.oNavListPopover===undefined){this.oNavListPopover=new sap.m.Popover({showHeader:false,placement:sap.m.PlacementType.Top});}this.openInBtn=new sap.m.Button({id:this.createId("idOpenInButton"),text:this.oCoreApi.getTextNotHtmlEncoded("openIn"),tooltip:this.oCoreApi.getTextNotHtmlEncoded("openIn"),type:"Transparent",enabled:false,press:function(e){s.oNavTargetsView=sap.ui.view({viewName:"sap.apf.ui.reuse.view.navigationTarget",type:sap.ui.core.mvc.ViewType.JS,viewData:{oNavigationHandler:s.oNavigationHandler,oNavListPopover:s.oNavListPopover,oOpenInButtonEventSource:e.getSource(),oUiApi:s.oUiApi,oCoreApi:s.oCoreApi}});}});this.getView().byId("masterFooter").insertContentRight(this.openInBtn,1);this.enableDisableOpenIn();},doOkOnNavAnalysisPath:function(){var s=this;var t=this.oUiApi.getAnalysisPath().getToolbar();this.oCoreApi.readPaths(function(r,m,a){var S=true;var p=r.paths;if(m!==undefined){t.maxNumberOfSteps=m.getEntityTypeMetadata().maximumNumberOfSteps;t.maxNumberOfPaths=m.getEntityTypeMetadata().maxOccurs;}if(a===undefined&&(typeof r==="object")){t.getController().getSaveDialog(S,function(){window.history.go(-1);},p);}else{var M=s.oCoreApi.createMessageObject({code:"6005",aParameters:[]});M.setPrevious(a);s.oCoreApi.putMessage(M);}});},handleNavBack:function(){var s=this;if(s.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(0,1)==="*"&&s.oCoreApi.getSteps().length!==0){var n=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.newMessageDialog",this);s.getView().byId("idYesButton").attachPress(function(){n.close();s.doOkOnNavAnalysisPath();});s.getView().byId("idNoButton").attachPress(function(){n.close();window.history.go(-1);});var c=new sap.m.Button(s.createId("idCancelButton"),{text:s.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){n.close();}});n.addButton(c);if(sap.ui.Device.system.desktop){n.addStyleClass("sapUiSizeCompact");}n.setInitialFocus(n);n.open();}else{window.history.go(-1);}}});}());
},
	"sap/apf/ui/reuse/controller/viewSetting.controller.js":function(){(function(){'use strict';
function _(s,v){var S={},i;if(s.orderby&&s.orderby.length&&s.orderby[0].ascending!==undefined){i=s.orderby[0].ascending;}if(s.orderby&&s.orderby.length>1){S=undefined;}else if(s.orderby&&s.orderby.length==1){S=s.orderby[0].property;}else{S=undefined;i=true;}v.setSortDescending(!i);v.setSelectedSortItem(S);}
function a(s,v){var p;if(s.getParameters().sortItem&&s.getParameters().sortItem.getKey()){p=s.getParameters().sortItem.getKey();}else{return false;}var c={property:p,ascending:!s.getParameters().sortDescending};var P={property:v._oPreviousState.sortItem?v._oPreviousState.sortItem.getKey():undefined,ascending:!v._oPreviousState.sortDescending};if(P.property===c.property&&P.ascending===c.ascending){return false;}return true;}
sap.ui.controller("sap.apf.ui.reuse.controller.viewSetting",{onInit:function(){var c=this;this.oViewSettingDialog=c.getView().getContent()[0];this.oSelectedRepresentation=c.getView().getViewData().oTableInstance;_(this.oSelectedRepresentation,this.oViewSettingDialog);},handleConfirmForSort:function(s){if(!a(s,this.oViewSettingDialog)){return;}if(this.oSelectedRepresentation){this.oSelectedRepresentation.resetPaginationForTable();}this.oSelectedRepresentation.oApi.selectionChanged(true);},handleCancel:function(s){this.oViewSettingDialog.destroy();this.oSelectedRepresentation.oViewSettingDialog=undefined;}});}());
},
	"sap/apf/ui/reuse/fragment/pathGallery.fragment.js":function(){(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",{createContent:function(c){var s=this;this.contentWidth=jQuery(window).height()*0.6+"px";this.contentHeight=jQuery(window).height()*0.6+"px";this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;var o=function(e){var l=[];var S=e.getSource().getValue();var L=s.pathGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(S&&S.length>0){var f=new sap.ui.model.Filter("title",sap.ui.model.FilterOperator.Contains,S);l.push(f);}var g=L.getBinding("items");g.filter(l);};var p=new sap.m.List().bindItems({path:'StructuredAnalysisPath/steps',template:new sap.m.StandardListItem({title:'{title}',tooltip:'{title}',type:"Active",icon:'{imgSrc}',press:function(e){s.oUiApi.getLayoutView().setBusy(true);var f=e.getSource().getBindingContext().sPath.split('/');var g=this.getModel().getData().GalleryElements[f[2]].AnalysisPathName;var h=this.getModel().getData().GalleryElements[f[2]].AnalysisPath;var i=f[5];c.openPath(g,h,i);s.oUiApi.getLayoutView().setBusy(false);}})});var a=new sap.m.Page({subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:o})]}),content:p,showNavButton:true,navButtonPress:function(){s.oPathGalleryNavContainer.back();}});var b=new sap.m.List().bindItems({path:'/GalleryElements',template:new sap.m.StandardListItem({title:'{title}',tooltip:'{title}',description:'{description}',type:"Navigation",press:function(e){var B=e.getSource().getBindingContext();a.setBindingContext(B);a.setTitle(e.getSource().getTitle());s.oPathGalleryNavContainer.to(s.oPathGalleryNavContainer.getPages()[1]);}})});var d=new sap.m.Page({title:s.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:o})]}),content:b});this.oPathGalleryNavContainer=new sap.m.NavContainer({pages:[d,a]});this.oPathGalleryNavContainer.setModel(c.getView().getModel());s.pathGalleryHierarchicalDialog=new sap.m.Dialog({contentWidth:s.contentWidth,contentHeight:s.contentHeight,showHeader:false,content:[this.oPathGalleryNavContainer],endButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){s.pathGalleryHierarchicalDialog.close();}}),afterClose:function(){s.pathGalleryHierarchicalDialog.destroy();}});return this.pathGalleryHierarchicalDialog;}});}());
},
	"sap/apf/ui/reuse/fragment/stepGallery.fragment.js":function(){(function(){'use strict';sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",{createContent:function(c){var s=this;this.contentWidth=jQuery(window).height()*0.6+"px";this.contentHeight=jQuery(window).height()*0.6+"px";this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;var o=function(E){var l=[];var S=E.getSource().getValue();var L=s.oStepGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(S&&S.length>0){var F=new sap.ui.model.Filter("title",sap.ui.model.FilterOperator.Contains,S);l.push(F);}var i=L.getBinding("items");i.filter(l);};var a=function(E){s.oUiApi.getLayoutView().setBusy(true);var i=E.getSource().getBindingContext().sPath.split('/');var j=i[2];var k=i[4];var r=i[6];var l=c.getStepDetails(j,k);c.onStepPress(l.id,l.representationtypes[r].representationId);};var b=new sap.m.List().bindItems({path:'representationtypes',template:new sap.m.StandardListItem({title:'{title}',icon:'{picture}',tooltip:'{title}',type:"Active",wrapping:true,press:a}).bindProperty("description","sortDescription",function(v){var S=[];if(v===undefined||v===null){return null;}S=v.length?v.join(", "):v;return s.oCoreApi.getTextNotHtmlEncoded("sortBy")+": "+S;})});var d=new sap.m.Page({id:this.createId("idStepGalleryRepresentationPage"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:o})]}).addStyleClass("searchMargin"),content:b,showNavButton:true,navButtonPress:function(){s.oStepGalleryNavContainer.back();}});var e=new sap.m.List().bindItems({path:'stepTemplates',template:new sap.m.StandardListItem({title:'{title}',tooltip:'{title}',type:"Navigation",press:function(E){var B=E.getSource().getBindingContext();d.setBindingContext(B);d.setTitle(E.getSource().getTitle());s.oStepGalleryNavContainer.to(s.oStepGalleryNavContainer.getPages()[2]);}})});var f=new sap.m.Page({id:this.createId("idStepGalleryStepPage"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:o})]}).addStyleClass("searchMargin"),content:e,showNavButton:true,navButtonPress:function(){s.oStepGalleryNavContainer.back();}});var g=new sap.m.List().bindItems({path:'/GalleryElements',template:new sap.m.StandardListItem({title:'{title}',tooltip:'{title}',type:"Navigation",press:function(E){var B=E.getSource().getBindingContext();f.setBindingContext(B);f.setTitle(E.getSource().getTitle());s.oStepGalleryNavContainer.to(s.oStepGalleryNavContainer.getPages()[1]);}})});var h=new sap.m.Page({id:this.createId("idStepGalleryCategoryPage"),title:s.oCoreApi.getTextNotHtmlEncoded("category"),tooltip:s.oCoreApi.getTextNotHtmlEncoded("category"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:o})]}).addStyleClass("searchMargin"),content:g});this.oStepGalleryNavContainer=new sap.m.NavContainer({pages:[h,f,d]});this.oStepGalleryNavContainer.setModel(c.getView().getModel());this.oStepGalleryHierarchicalDialog=new sap.m.Dialog({contentWidth:s.contentWidth,contentHeight:s.contentHeight,showHeader:false,content:[this.oStepGalleryNavContainer],endButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){s.oStepGalleryHierarchicalDialog.close();s.oStepGalleryHierarchicalDialog.destroy();}}),afterClose:function(){s.oStepGalleryHierarchicalDialog.destroy();}});return this.oStepGalleryHierarchicalDialog;}});}());
},
	"sap/apf/ui/reuse/view/deleteAnalysisPath.view.js":function(){(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.deleteAnalysisPath",{getControllerName:function(){return"sap.apf.ui.reuse.controller.deleteAnalysisPath";},createContent:function(c){var a=jQuery(window).height()*0.6+"px";var b=jQuery(window).height()*0.6+"px";this.oCoreApi=this.getViewData().oInject.oCoreApi;this.oUiApi=this.getViewData().oInject.uiApi;var s=this;var l=new sap.m.List({mode:sap.m.ListMode.Delete,items:{path:"/GalleryElements",template:new sap.m.StandardListItem({title:"{AnalysisPathName}",description:"{description}",tooltip:"{AnalysisPathName}"})},"delete":c.handleDeleteOfDialog.bind(c)});var d=new sap.m.Dialog({title:s.oCoreApi.getTextNotHtmlEncoded("delPath"),contentWidth:a,contentHeight:b,content:l,leftButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){d.close();s.oUiApi.getLayoutView().setBusy(false);}}),afterClose:function(){s.destroy();}});if(sap.ui.Device.system.desktop){this.addStyleClass("sapUiSizeCompact");d.addStyleClass("sapUiSizeCompact");}return d;}});}());
},
	"sap/apf/ui/reuse/view/facetFilter.view.js":function(){(function(){'use strict';sap.ui.jsview("sap.apf.ui.reuse.view.facetFilter",{getControllerName:function(){return"sap.apf.ui.reuse.controller.facetFilter";},createContent:function(c){var f=new sap.m.FacetFilter(c.createId("idAPFFacetFilter"),{type:"Simple",showReset:true,showPopoverOKButton:true,reset:c.onResetPress.bind(c)}).addStyleClass('facetFilterInitialAlign');if(sap.ui.Device.system.desktop){f.addStyleClass("facetfilter");}return f;}});}());
},
	"sap/apf/ui/reuse/view/messageHandler.view.js":function(){(function(){'use strict';sap.ui.jsview("sap.apf.ui.reuse.view.messageHandler",{getControllerName:function(){return"sap.apf.ui.reuse.controller.messageHandler";},createContent:function(){}});}());
},
	"sap/apf/ui/reuse/view/pathGallery.view.js":function(){(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.pathGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.pathGallery";},createContent:function(c){this.viewData=this.getViewData();}});}());
},
	"sap/apf/ui/reuse/view/smartFilterBar.view.js":function(){(function(){'use strict';sap.ui.jsview("sap.apf.ui.reuse.view.smartFilterBar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.smartFilterBar";},createContent:function(c){var v=this,e,s,p,S;e=v.getViewData().oSmartFilterBarConfiguration.entitySet;s=v.getViewData().oSmartFilterBarConfiguration.id;p=v.getViewData().oCoreApi.getSmartFilterBarPersistenceKey(s);S=new sap.ui.comp.smartfilterbar.SmartFilterBar(c.createId("idAPFSmartFilterBar"),{entitySet:e,controlConfiguration:v.getViewData().controlConfiguration,initialized:c.afterInitialization.bind(c),search:c.handlePressOfGoButton.bind(c),persistencyKey:p,considerAnalyticalParameters:true,customData:{key:"dateFormatSettings",value:{"UTC":true}},useDateRangeType:true,liveMode:true,filterChange:c.validateFilters.bind(c)});v.setParent(v.getViewData().parent);return S;}});}());
},
	"sap/apf/ui/reuse/view/stepGallery.view.js":function(){(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.stepGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepGallery";},createContent:function(c){this.oController=c;}});}());
},
	"sap/apf/ui/reuse/view/viewSetting.view.js":function(){(function(){'use strict';sap.ui.jsview("sap.apf.ui.reuse.view.viewSetting",{getControllerName:function(){return"sap.apf.ui.reuse.controller.viewSetting";},createContent:function(c){var s=this.getViewData().oTableInstance;var t=s.tableControl;var S=[];t.getColumns().forEach(function(a){var o=new sap.m.ViewSettingsItem({text:a.getCustomData()[0].getValue().text,key:a.getCustomData()[0].getValue().key});S.push(o);});var v=new sap.m.ViewSettingsDialog({sortItems:S,confirm:c.handleConfirmForSort.bind(c),cancel:c.handleCancel.bind(c)});return v;}});}());
},
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
	"sap/apf/modeler/core/applicationHandler.js":function(){jQuery.sap.declare("sap.apf.modeler.core.applicationHandler");jQuery.sap.require("sap.apf.utils.hashtable");(function(){'use strict';
sap.apf.modeler.core.ApplicationHandler=function(i,a){var t=this;var p=i.instances.persistenceProxy;var m=i.instances.messageHandler;var H=i.constructors.Hashtable;var b;this.type="application";this.setAndSave=function(d,e,f,g){if(typeof d==="object"&&typeof e==="function"&&typeof f==="string"&&!g){var h=function(k,l){if(l){e(undefined,k,l);}else{b.setItem(d.Application,d);e(d.Application,k,l);}};if(!d.SemanticObject){d.SemanticObject="";}d.Application=f;p.update(this.type,d,h,[{name:"Application",value:f}]);}else if(typeof d==="object"&&typeof e==="function"){var j=function(r,k,l){if(l){e(r,k,l);}else{b.setItem(r.Application,{Application:r.Application,ApplicationName:r.ApplicationName,SemanticObject:r.SemanticObject});e(r.Application,k,l);}};if(!d.SemanticObject){d.SemanticObject="";}if(g&&f){d.Application=f;}else{d.Application="";}p.create(this.type,d,j);}};this.removeApplication=function(d,e){var f=function(g,h){if(!h){b.removeItem(d);}i.functions.resetConfigurationHandler(d);e(d,g,h);};p.remove(this.type,[{name:"Application",value:d}],f);};this.getList=function(){var d=[];var e=function(k,f){d.push(f);};b.forEachOrdered(e);d=d.sort(function(f,g){return f.ApplicationName.localeCompare(g.ApplicationName);});return d;};this.getApplication=function(d){return b.getItem(d);};this.registerApplicationCreatedOnServer=function(d,e){var f=t.getList();var g=false;f.forEach(function(h){if(h.Application===d){g=true;}});if(!g){b.setItem(d,{Application:d,ApplicationName:e,SemanticObject:""});}};function c(){b=new H(m);var d=function(r,e,f){if(r instanceof Array&&f===undefined){r.forEach(function(o){b.setItem(o.Application,{Application:o.Application,ApplicationName:o.ApplicationName,SemanticObject:o.SemanticObject});});}a(t,f);};p.readCollection(t.type,d);}c();};
}());
},
	"sap/apf/modeler/core/configurationObjects.js":function(){jQuery.sap.declare("sap.apf.modeler.core.configurationObjects");(function(){'use strict';
sap.apf.modeler.core.ConfigurationObjects=function(i){var t=this;var H,a,p,m;var b=i.instances.metadataFactory;if(i.constructors&&i.constructors.Hashtable){H=i.constructors.Hashtable;}if(i.instances.textPool){a=i.instances.textPool;}if(i.instances.persistenceProxy){p=i.instances.persistenceProxy;}if(i.instances.messageHandler){m=i.instances.messageHandler;}function c(l,n){var P=[];if(n){P.push(n);}m.putMessage(m.createMessageObject({code:l,aParameters:P}));}function d(l){var r=l&&l.type&&l.type==="label"&&l.kind&&l.kind==="text"&&l.key&&typeof l.key==="string";if(!r){c(11030,l.key);}return r;}this.serializeLabelKey=function(l){return{type:"label",kind:"text",key:a.getPersistentKey(l)};};this.serializeAndAddThumbnail=function(l,n){var o=l.getLeftLowerCornerTextKey();var q=l.getLeftUpperCornerTextKey();var r=l.getRightUpperCornerTextKey();var u=l.getRightLowerCornerTextKey();var v={type:"thumbnail"};if(q){v.leftUpper=this.serializeLabelKey(q);}if(o){v.leftLower=this.serializeLabelKey(o);}if(r){v.rightUpper=this.serializeLabelKey(r);}if(u){v.rightLower=this.serializeLabelKey(u);}if(v.leftLower||v.leftUpper||v.rightLower||v.rightUpper){n.thumbnail=v;}};this.serializeCategory=function(l,n){var T=a.get(l.labelKey);var o=[];if(n){n.forEach(function(r){o.push({type:"step",id:r});});}var q=(T&&T.TextElementDescription)||"";return{type:"category",description:q,id:l.getId(),label:t.serializeLabelKey(l.labelKey),steps:o};};this.validateCategory=function(l){var r=l&&l.type&&l.type==="category"&&l.id&&l.steps&&d(l.label);if(r){l.steps.forEach(function(o){if(!o.type||o.type!=="step"||!o.id){r=false;}});}if(!r){c(11031,l.id);}return r;};this.validateRequest=function(r){var l=r&&r.id&&r.type==="request"&&r.service&&typeof r.service==="string"&&((r.entityType&&typeof r.entityType==="string")||(r.entitySet&&typeof r.entitySet==="string"))&&r.selectProperties&&r.selectProperties&&r.selectProperties instanceof Array&&r.selectProperties.length>=0;if(!l){c(11032,r.id);}return l;};this.validateBinding=function(l){var r=l&&l.id&&l.type==="binding"&&l.requiredFilters&&l.requiredFilters instanceof Array&&l.requiredFilters.length>=0&&l.representations&&l.representations instanceof Array;if(!r){c(11033,l.id);}return r;};this.validateFacetFilter=function(l){var r=l&&l.id&&l.property&&l.type==="facetFilter";if(!r){c(11034,l.id);}return r;};this.validateNavigationTarget=function(n){var r=n&&n.id&&n.semanticObject&&n.action&&n.type==="navigationTarget"&&n.hasOwnProperty("isStepSpecific");if(!r){c(11040,n.id);}return r;};this.validateStep=function(l){var r=l&&l.id&&l.type==="step"&&d(l.title)&&d(l.longTitle)&&l.hasOwnProperty("navigationTargets");if(!r){c(11035,l.id);}return r;};this.validateConfiguration=function(l){var r=l&&l.applicationTitle&&l.applicationTitle.key&&typeof l.applicationTitle.key==='string'&&l.steps&&l.steps instanceof Array&&l.steps.length>=0&&l.requests&&l.requests instanceof Array&&l.requests.length>=0&&l.bindings&&l.bindings instanceof Array&&l.bindings.length>=0&&l.representationTypes&&l.representationTypes instanceof Array&&l.representationTypes.length>=0&&l.categories&&l.categories instanceof Array&&l.categories.length>=0;if(!r){c(11036);}return r;};function s(l){var r=[];var n,o;var q,u;var v;var w;var x;var y;var z=l.getRepresentations();z.forEach(function(A){n=[];o=A.getDimensions();o.forEach(function(C){var D={fieldName:C};if(A.getDimensionKind(C)){D.kind=A.getDimensionKind(C);}if(A.getDimensionTextLabelKey(C)){D.fieldDesc={type:'label',kind:'text',key:A.getDimensionTextLabelKey(C)};}if(A.getLabelDisplayOption(C)){D.labelDisplayOption=A.getLabelDisplayOption(C);}n.push(D);});q=[];u=A.getMeasures();u.forEach(function(C){var D={fieldName:C};if(A.getMeasureKind(C)){D.kind=A.getMeasureKind(C);}if(A.getMeasureTextLabelKey(C)){D.fieldDesc={type:'label',kind:'text',key:A.getMeasureTextLabelKey(C)};}if(A.getMeasureDisplayOption(C)){D.measureDisplayOption=A.getMeasureDisplayOption(C);}q.push(D);});v=[];A.getProperties().forEach(function(C){var D={fieldName:C};if(A.getPropertyKind(C)){D.kind=A.getPropertyKind(C);}if(A.getPropertyTextLabelKey(C)){D.fieldDesc={type:'label',kind:'text',key:A.getPropertyTextLabelKey(C)};}v.push(D);});var B=[{}];if(A.getHierarchyProperty()){B[0].fieldName=A.getHierarchyProperty();B[0].kind="hierarchicalColumn";if(A.getHierarchyPropertyTextLabelKey()){B[0].fieldDesc={type:'label',kind:'text',key:A.getHierarchyPropertyTextLabelKey()};}B[0].labelDisplayOption=A.getHierarchyPropertyLabelDisplayOption();}w=[];A.getOrderbySpecifications().forEach(function(C){w.push({property:C.property,ascending:C.ascending});});x={id:A.getId(),representationTypeId:A.getRepresentationType(),parameter:{dimensions:n,measures:q,properties:v,hierarchicalProperty:B,alternateRepresentationTypeId:A.getAlternateRepresentationType()}};if(A.getWidthProperties()){x.parameter.width=A.getWidthProperties();}if(w.length>0){x.parameter.orderby=w;}y=A.getTopN();if(y&&y>0){x.parameter.top=y;}t.serializeAndAddThumbnail(A,x);r.push(x);});return r;}this.serializeBinding=function(l,n){var o="binding-for-"+l.getId();var T=a.get(l.getTitleId());var q=(T&&T.TextElementDescription)||"";if(l.getFilterPropertyLabelKey()||l.getFilterPropertyLabelDisplayOption()){var r={labelDisplayOption:l.getFilterPropertyLabelDisplayOption()};if(l.getFilterPropertyLabelKey()){r.fieldDesc=this.serializeLabelKey(l.getFilterPropertyLabelKey());}}n.bindings.push({type:"binding",id:o,stepDescription:q,requiredFilters:l.getFilterProperties(),requiredFilterOptions:r,representations:s(l)});return o;};this.serializeRequest=function(l,n){var r;var o="request-for-"+l.getId();r={type:"request",id:o,service:l.getService(),entitySet:l.getEntitySet(),selectProperties:l.getSelectProperties()};n.requests.push(r);return o;};this.serializeFilterMappingRequest=function(o,l){var r="request-for-FilterMapping"+o.getId();var n={type:"request",id:r,service:o.getFilterMappingService(),entitySet:o.getFilterMappingEntitySet(),selectProperties:o.getFilterMappingTargetProperties()};l.requests.push(n);return r;};this.serializeStep=function(l,n){var r=t.serializeRequest(l,n);var o=t.serializeBinding(l,n);var T=a.get(l.getTitleId());var q=(T&&T.TextElementDescription)||"";var u=l.getLongTitleId();var v;var w={type:l.getType(),description:q,request:r,binding:o,id:l.getId(),title:t.serializeLabelKey(l.getTitleId()),navigationTargets:[]};if(l.getHierarchyProperty&&l.getHierarchyProperty()){w.hierarchyProperty=l.getHierarchyProperty();}if(l.getFilterMappingService()){w.filterMapping={requestForMappedFilter:t.serializeFilterMappingRequest(l,n),target:l.getFilterMappingTargetProperties(),targetPropertyLabelKey:l.getFilterMappingTargetPropertyLabelKey(),targetPropertyDisplayOption:l.getFilterMappingTargetPropertyLabelDisplayOption(),keepSource:l.getFilterMappingKeepSource()?"true":"false"};}v=l.getTopN();if(v){w.topNSettings=v;}if(u!==""&&u!==undefined){w.longTitle=t.serializeLabelKey(l.getLongTitleId());}this.serializeAndAddThumbnail(l,w);l.getNavigationTargets().forEach(function(x){w.navigationTargets.push({type:"navigationTarget",id:x});});return w;};this.serializeFacetFilter=function(l,n){var r,o,v;if(l.getServiceOfFilterResolution()){r=u("FilterResolution",l,n);}if(l.getUseSameRequestForValueHelpAndFilterResolution()){o=r;}else if(l.getServiceOfValueHelp()){o=u("ValueHelp",l,n);}var T=a.get(l.getLabelKey());var q=(T&&T.TextElementDescription)||"";if(l.getValueList().length>0){v=l.getValueList();}return{type:"facetFilter",description:q,id:l.getId(),alias:l.getAlias(),property:l.getProperty(),multiSelection:l.isMultiSelection()+"",preselectionFunction:l.getPreselectionFunction(),preselectionDefaults:w(),valueList:v,label:t.serializeLabelKey(l.getLabelKey()),invisible:!l.isVisible(),filterResolutionRequest:r,valueHelpRequest:o,hasAutomaticSelection:l.getAutomaticSelection()+"",useSameRequestForValueHelpAndFilterResolution:l.getUseSameRequestForValueHelpAndFilterResolution()+""};function u(x,l,n){var y;var z;var A;var B;switch(x){case"ValueHelp":z=l.getServiceOfValueHelp();A=l.getEntitySetOfValueHelp();B=l.getSelectPropertiesOfValueHelp();break;case"FilterResolution":z=l.getServiceOfFilterResolution();A=l.getEntitySetOfFilterResolution();B=l.getSelectPropertiesOfFilterResolution();break;}var C=x+"-request-for-"+l.getId();y={type:"request",id:C,service:z,entitySet:A,selectProperties:B};n.requests.push(y);return C;}function w(){if(l.getNoneSelection()===true){return null;}return l.getPreselectionDefaults();}};this.serializeNavigationTarget=function(n,l){var r={type:"navigationTarget",id:n.getId(),semanticObject:n.getSemanticObject(),action:n.getAction(),isStepSpecific:n.isStepSpecific(),useDynamicParameters:n.getUseDynamicParameters(),parameters:n.getAllNavigationParameters()};if(n.getFilterMappingService()){r.filterMapping={requestForMappedFilter:t.serializeFilterMappingRequest(n,l),target:n.getFilterMappingTargetProperties()};}if(n.getTitleKey()){r.title={key:n.getTitleKey(),type:"label",kind:"text"};}return r;};this.serializeSmartFilterBar=function(l){if(l){if(!l.isEntityTypeConverted()){return{id:l.getId(),type:'smartFilterBar',service:l.getService(),entityType:l.getEntitySet()};}return{id:l.getId(),type:'smartFilterBar',service:l.getService(),entitySet:l.getEntitySet()};}};this.serializeConfiguration=function(l){var n={analyticalConfigurationName:l.getConfigurationName(),applicationTitle:t.serializeLabelKey(l.getApplicationTitle()),steps:[],requests:[],bindings:[],representationTypes:[],categories:[],navigationTargets:[]};var o={requests:n.requests,bindings:n.bindings};l.getCategories().forEach(function(q){var r=l.getCategoryStepAssignments(q.getId());n.categories.push(t.serializeCategory(q,r));});l.getSteps().forEach(function(q){var r=t.serializeStep(q,o);n.steps.push(r);});l.getFacetFilters().forEach(function(q){var r=t.serializeFacetFilter(q,o);if(n.facetFilters===undefined){n.facetFilters=[];}n.facetFilters.push(r);});if(l.getFilterOption().facetFilter===true&&n.facetFilters===undefined){n.facetFilters=[];}l.getNavigationTargets().forEach(function(q){var r=t.serializeNavigationTarget(q,o);n.navigationTargets.push(r);});var S=this.serializeSmartFilterBar(l.getSmartFilterBar());if(S!==undefined){n.smartFilterBar=S;}return n;};function e(l,n){var o=l.thumbnail;if(!o){return;}if(o.leftLower){n.setLeftLowerCornerTextKey(o.leftLower.key);}if(o.leftUpper){n.setLeftUpperCornerTextKey(o.leftUpper.key);}if(o.rightLower){n.setRightLowerCornerTextKey(o.rightLower.key);}if(o.rightUpper){n.setRightUpperCornerTextKey(o.rightUpper.key);}}function f(l,r,n){var o=[];var q;var u;if(l.type==="hierarchicalStep"){q=n.createHierarchicalStepWithId(l.id);u=n.getStep(q);u.setHierarchyProperty(l.hierarchyProperty);}else{q=n.createStepWithId(l.id);u=n.getStep(q);}var v=r.getItem(l.request);if(v.entityType){v.entitySet=v.entityType;delete v.entityType;}if(v.service){o.push(n.registerServiceAsPromise(v.service));}u.setService(v.service);u.setEntitySet(v.entitySet);u.setTitleId(l.title.key);if(l.longTitle&&l.longTitle.key){u.setLongTitleId(l.longTitle.key);}if(l.navigationTargets){l.navigationTargets.forEach(function(x){u.addNavigationTarget(x.id);});}e(l,u);v.selectProperties.forEach(function(x){u.addSelectProperty(x);});var w=r.getItem(l.binding);w.requiredFilters.forEach(function(x){u.addFilterProperty(x);});if(w.requiredFilterOptions){u.setFilterPropertyLabelDisplayOption(w.requiredFilterOptions.labelDisplayOption);if(w.requiredFilterOptions.fieldDesc){u.setFilterPropertyLabelKey(w.requiredFilterOptions.fieldDesc.key);}}w.representations.forEach(function(x){var y;var z=u.getRepresentation(u.createRepresentation({id:x&&x.id}).getId());z.setRepresentationType(x.representationTypeId);z.setAlternateRepresentationType(x.parameter.alternateRepresentationTypeId);if(x.parameter.hierarchicalProperty&&x.parameter.hierarchicalProperty[0]&&x.parameter.hierarchicalProperty[0].fieldDesc){z.setHierarchyPropertyTextLabelKey(x.parameter.hierarchicalProperty[0].fieldDesc.key);}if(x.parameter.hierarchicalProperty&&x.parameter.hierarchicalProperty[0]){z.setHierarchyPropertyLabelDisplayOption(x.parameter.hierarchicalProperty[0].labelDisplayOption);}x.parameter.dimensions.forEach(function(A){z.addDimension(A.fieldName);if(A.fieldDesc){z.setDimensionTextLabelKey(A.fieldName,A.fieldDesc.key);}if(A.kind){z.setDimensionKind(A.fieldName,A.kind);}if(A.labelDisplayOption){z.setLabelDisplayOption(A.fieldName,A.labelDisplayOption);}});x.parameter.measures.forEach(function(A){z.addMeasure(A.fieldName);if(A.fieldDesc){z.setMeasureTextLabelKey(A.fieldName,A.fieldDesc.key);}if(A.kind){z.setMeasureKind(A.fieldName,A.kind);}if(A.measureDisplayOption){z.setMeasureDisplayOption(A.fieldName,A.measureDisplayOption);}});if(x.parameter.properties){x.parameter.properties.forEach(function(A){z.addProperty(A.fieldName);if(A.fieldDesc){z.setPropertyTextLabelKey(A.fieldName,A.fieldDesc.key);}if(A.kind){z.setPropertyKind(A.fieldName,A.kind);}});}if(x.parameter.width){for(y in x.parameter.width){if(x.parameter.width.hasOwnProperty(y)){z.setWidthProperty(y,x.parameter.width[y]);}}}if(x.parameter.orderby&&!x.parameter.topN){x.parameter.orderby.forEach(function(A){z.addOrderbySpec(A.property,A.ascending);});}e(x,z);});if(l.filterMapping){o.push(j(l.filterMapping,u,r,n));}if(l.topNSettings){u.setTopN(l.topNSettings.top,l.topNSettings.orderby);}return Promise.all(o);}function g(l,r,n){var o=[];var q=n.createFacetFilterWithId(l.id);var u=n.getFacetFilter(q);u.setLabelKey(l.label.key);u.setAlias(l.alias);u.setProperty(l.property);if(l.preselectionFunction&&l.preselectionFunction!==""){u.setPreselectionFunction(l.preselectionFunction);}else if(l.preselectionDefaults===null){u.setNoneSelection(true);}else{u.setPreselectionDefaults(l.preselectionDefaults);}if(l.valueList){u.setValueList(l.valueList);}if(l.useSameRequestForValueHelpAndFilterResolution&&l.useSameRequestForValueHelpAndFilterResolution==="true"){u.setUseSameRequestForValueHelpAndFilterResolution(true);}else{u.setUseSameRequestForValueHelpAndFilterResolution(false);}if(l.multiSelection==="true"){u.setMultiSelection(true);}if(l.invisible===true){u.setInvisible();}if(l.hasAutomaticSelection==="true"){u.setAutomaticSelection(true);}else{u.setAutomaticSelection(false);}if(l.valueHelpRequest){var v=r.getItem(l.valueHelpRequest);if(v.entityType){v.entitySet=v.entityType;delete v.entityType;}if(v.service){o.push(n.registerServiceAsPromise(v.service));u.setServiceOfValueHelp(v.service);}if(v.entitySet){u.setEntitySetOfValueHelp(v.entitySet);}v.selectProperties.forEach(function(x){u.addSelectPropertyOfValueHelp(x);});}if(l.filterResolutionRequest){var w=r.getItem(l.filterResolutionRequest);if(w.entityType){w.entitySet=w.entityType;delete w.entityType;}if(w.service){o.push(n.registerServiceAsPromise(w.service));u.setServiceOfFilterResolution(w.service);}if(w.entitySet){u.setEntitySetOfFilterResolution(w.entitySet);}w.selectProperties.forEach(function(x){u.addSelectPropertyOfFilterResolution(x);});}return Promise.all(o);}function h(l,r,n){return new Promise(function(o,q){var u=n.createNavigationTargetWithId(l.id);var v=n.getNavigationTarget(u);v.setSemanticObject(l.semanticObject);v.setAction(l.action);if(l.parameters){l.parameters.forEach(function(w){v.addNavigationParameter(w.key,w.value);});}if(l.isStepSpecific===true){v.setStepSpecific();}else{v.setGlobal();}if(l.useDynamicParameters===true){v.setUseDynamicParameters(true);}if(l.filterMapping){j(l.filterMapping,v,r,n).then(function(){o();});}else{o();}if(l.title&&l.title.key){v.setTitleKey(l.title.key);}});}function j(l,n,r,o){return new Promise(function(q,u){var v=r.getItem(l.requestForMappedFilter);if(v.entityType){v.entitySet=v.entityType;delete v.entityType;}if(v.service){o.registerServiceAsPromise(v.service).done(function(){q();});}else{q();}n.setFilterMappingService(v.service);n.setFilterMappingEntitySet(v.entitySet);l.target.forEach(function(w){n.addFilterMappingTargetProperty(w);});if(l.targetPropertyLabelKey){n.setFilterMappingTargetPropertyLabelKey(l.targetPropertyLabelKey);}if(l.targetPropertyDisplayOption){n.setFilterMappingTargetPropertyLabelDisplayOption(l.targetPropertyDisplayOption);}if(l.hasOwnProperty("keepSource")){if(l.keepSource==="true"){n.setFilterMappingKeepSource(true);}else{n.setFilterMappingKeepSource(false);}}});}function k(r,l){var n=[];n.unshift(new Promise(function(o){var q=r.getItem("SmartFilterBar-1");if(q){l.setFilterOption({smartFilterBar:true});var u=l.getSmartFilterBar();u.setService(q.service);if(q.service){n.push(l.registerServiceAsPromise(q.service));}if(q.entitySet){u.setEntitySet(q.entitySet);o(true);}else if(q.entityType){b.getMetadata(q.service).done(function(v){if(v){var w=v.getEntitySetByEntityType(q.entityType);if(w){u.setEntitySet(w);}else{u.setEntitySet(q.entityType,true);c("11524",[q.entityType]);}}o(true);}).fail(function(){u.setEntitySet(q.entityType,true);c("11524",[q.entityType]);o(true);});}else{o(true);}}else{o(false);}}));return Promise.all(n);}this.mapToDesignTimeAsPromise=function(r,l){var n;var o=false;var q=[];l.setApplicationTitle(r.getItem('applicationTitle').key);r.getSteps().forEach(function(u){q.push(f(u,r,l));});r.getCategories().forEach(function(u){l.createCategoryWithId({labelKey:u.label.key},u.id);u.steps.forEach(function(v){l.addCategoryStepAssignment(u.id,v.id);});});n=r.getFacetFilters();if(n.emptyArray===true){o=true;l.setFilterOption({facetFilter:true});}else{n.forEach(function(u){o=true;l.setFilterOption({facetFilter:true});q.push(g(u,r,l));});}r.getNavigationTargets().forEach(function(u){q.push(h(u,r,l));});q.push(new Promise(function(u){k(r,l).then(function(v){var w=v[0];if(!o&&!w){l.setFilterOption({none:true});}u();});}));return Promise.all(q);};this.loadAllConfigurations=function(l,n){var o=new sap.apf.core.utils.Filter(m,'Application','eq',l);p.readCollection("configuration",function(r,q,u){n(r,q,u);},undefined,["AnalyticalConfiguration","SerializedAnalyticalConfiguration"],o);};this.getTextKeysFromAllConfigurations=function(l,n){this.loadAllConfigurations(l,function(o,q,r){var u=new H(m);if(r){n(undefined,r);return;}o.forEach(function(v){var w=JSON.parse(v.SerializedAnalyticalConfiguration);var x=sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration(w);x.forEach(function(y){u.setItem(y,y);});});n(u,undefined);});};};
sap.apf.modeler.core.ConfigurationObjects.deepDataCopy=function d(i){var r;if(!i){r=i;}else if(i.copy&&typeof i.copy==="function"){r=i.copy();}else if(i&&typeof i==="object"){if(i instanceof Array){r=[];i.forEach(function(a){r.push(d(a));});}else{r={};for(var a in i){if(!i.hasOwnProperty(a)){continue;}r[a]=d(i[a]);}}}else{r=i;}return r;};
sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration=function g(c){var r=[];if(!c){return undefined;}if(c.type==="label"&&c.kind==="text"&&c.key){return[c.key];}for(var i in c){if(typeof c[i]!=="object"||!c.hasOwnProperty(i)){continue;}Array.prototype.push.apply(r,g(c[i]));}return r;};
}());
},
	"sap/apf/modeler/core/facetFilter.js":function(){jQuery.sap.declare("sap.apf.modeler.core.facetFilter");(function(){'use strict';
sap.apf.modeler.core.FacetFilter=function(f,a,d){var r,s,b,m,l,p,v,c,e,g,h,j,k,n,u,o=true;if(!d){r={forValueHelp:{service:undefined,entitySet:undefined},forFilterResolution:{service:undefined,entitySet:undefined}};s=new a.constructors.ElementContainer("SelectPropertyValueHelp",undefined,a);b=new a.constructors.ElementContainer("SelectPropertyFilterResolution",undefined,a);m={};l={};p=[];k=false;u=false;}else{r=d.request;s=d.selectPropertyForValueHelp;b=d.selectPropertyForFilterResolution;m=d.metadata;l=d.label;h=d.preselectionFunction;p=d.preselectionDefaults;v=d.valueList;c=d.property;e=d.alias;g=d.labelKey;n=d.invisible;k=d.isMultiSelectionActive;j=d.hasAutomaticSelection;u=d.useSameRequestForValueHelpAndFilterResolution;o=d.hasNoneSelection;}this.getId=function(){return f;};this.setMultiSelection=function(i){k=i;};this.isMultiSelection=function(){return k;};this.setInvisible=function(){n=true;};this.setVisible=function(){n=undefined;};this.isVisible=function(){return!n;};this.setAlias=function(i){e=i;};this.getAlias=function(){return e;};this.setNoneSelection=function(i){o=i;if(o){j=false;this.removePreselectionDefaults();this.removePreselectionFunction();}};this.getNoneSelection=function(){return o;};this.setAutomaticSelection=function(i){a.instances.messageHandler.check(typeof i==="boolean","facetFilter wrong input for setAutomaticSelection");j=i;if(j){o=false;this.removePreselectionFunction();this.removePreselectionDefaults();}};this.getAutomaticSelection=function(){return j;};this.setPreselectionFunction=function(i){h=i;j=false;o=false;this.removePreselectionDefaults();};this.getPreselectionFunction=function(){return h;};this.removePreselectionFunction=function(){h=undefined;};this.setPreselectionDefaults=function(i){p=i;j=false;o=false;this.removePreselectionFunction();};this.getPreselectionDefaults=function(){return p;};this.removePreselectionDefaults=function(){p=[];};this.setValueList=function(q){var t=jQuery.isArray(q);if(t&&q.length>0&&w(q)){v=jQuery.extend([],q);}else if(t&&q.length==0){v=undefined;}function w(x){for(var i=0,y=x.length;i<y;i++){if(typeof x[i]!='string'){return false;}}return true;}};this.getValueList=function(){if(!v){return[];}return jQuery.extend([],v);};this.setLabelKey=function(i){g=i;};this.getLabelKey=function(){return g;};this.setProperty=function(i){c=i;};this.getProperty=function(){return c;};this.setUseSameRequestForValueHelpAndFilterResolution=function(O){var t=this;if(O){var i=this.getServiceOfValueHelp();this.setServiceOfFilterResolution(i);var q=this.getEntitySetOfValueHelp();this.setEntitySetOfFilterResolution(q);var w=this.getSelectPropertiesOfFilterResolution();w.forEach(function(c){t.removeSelectPropertyOfFilterResolution(c);});w=this.getSelectPropertiesOfValueHelp();w.forEach(function(c){t.addSelectPropertyOfFilterResolution(c);});}u=O;};this.getUseSameRequestForValueHelpAndFilterResolution=function(){return u;};this.setServiceOfValueHelp=function(i){r.forValueHelp.service=i;if(u){r.forFilterResolution.service=i;}};this.getServiceOfValueHelp=function(){return r.forValueHelp.service;};this.setEntitySetOfValueHelp=function(i){r.forValueHelp.entitySet=i;if(u){r.forFilterResolution.entitySet=i;}};this.getEntitySetOfValueHelp=function(){return r.forValueHelp.entitySet;};this.getSelectPropertiesOfValueHelp=function(){var i=[];var q;q=s.getElements();q.forEach(function(t){i.push(t.getId());});return i;};this.removeSelectPropertyOfValueHelp=function(i){s.removeElement(i);if(u){b.removeElement(i);}};this.addSelectPropertyOfValueHelp=function(i){s.createElementWithProposedId(undefined,i);if(u){b.createElementWithProposedId(undefined,i);}};this.setServiceOfFilterResolution=function(i){if(u){return;}r.forFilterResolution.service=i;};this.getServiceOfFilterResolution=function(){return r.forFilterResolution.service;};this.setEntitySetOfFilterResolution=function(i){if(u){return;}r.forFilterResolution.entitySet=i;};this.getEntitySetOfFilterResolution=function(){return r.forFilterResolution.entitySet;};this.getSelectPropertiesOfFilterResolution=function(){var i=[];var q;q=b.getElements();q.forEach(function(t){i.push(t.getId());});return i;};this.removeSelectPropertyOfFilterResolution=function(i){if(u){return;}b.removeElement(i);};this.addSelectPropertyOfFilterResolution=function(i){if(u){return;}b.createElementWithProposedId(undefined,i);};this.copy=function(i){var q={request:r,selectPropertyForValueHelp:s,selectPropertyForFilterResolution:b,metadata:m,label:l,preselectionFunction:h,preselectionDefaults:p,valueList:v,property:c,alias:e,labelKey:g,invisible:n,isMultiSelectionActive:k,hasAutomaticSelection:j,hasNoneSelection:o};var d=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(q);return new sap.apf.modeler.core.FacetFilter((i||this.getId()),a,d);};};
}());
},
	"sap/apf/modeler/core/lazyLoader.js":function(){jQuery.sap.declare("sap.apf.modeler.core.lazyLoader");(function(){'use strict';
sap.apf.modeler.core.LazyLoader=function(a,l,d){var H=a.constructors.Hashtable;var o={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new H(a.instances.messageHandler)},b=null;if(d){o.id=d.id;o.instance=d.instance;}this.type="lazyLoader";this.getId=function(){return o.id;};this.getInstance=function(){return o.instance;};this.isInitializing=function(){return o.isInitializing;};this.reset=function(){b=o.instance;o={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new H(a.instances.messageHandler)};};this.asyncGetInstance=function(i,e){function p(g){if(g===null){return undefined;}return g;}var f;if(!i){return;}if(o.id&&i!==o.id){this.reset();}if(o.id&&(o.instance||o.messageObject)){f=p(o.messageObject);e(o.instance,f,o.id);return;}m(e);if(!o.isInitializing){o.isInitializing=true;o.id=i;l(i,c,b);}};function c(i,e,f){if(i!==o.id){return;}o.isInitializing=false;if(!f){o.instance=e;}else{o.messageObject=f;}o.callbacksFromAsyncGet.each(function(k,g){g.forEach(function(h){h(o.instance,f,o.id);});});o.callbacksFromAsyncGet=null;}function m(e){var i;var f,g;g=o.callbacksFromAsyncGet.getItem(e);if(!g){o.callbacksFromAsyncGet.setItem(e,[e]);return;}f=false;for(i=0;i<g.length;i++){if(g[i]===e){f=true;break;}}if(!f){g.push(e);}}};
}());
},
	"sap/apf/modeler/core/registryWrapper.js":function(){jQuery.sap.declare("sap.apf.modeler.core.registryWrapper");(function(){'use strict';
sap.apf.modeler.core.RegistryWrapper=function(h){function g(t){var r=[];h.each(function(i,e){if(e.type===t){r.push(e);}});return r;}this.getItem=function(k){return h.getItem(k);};this.getSteps=function(){var i=g("step");i=jQuery.merge(i,g("hierarchicalStep"));return i;};this.getCategories=function(){return g("category");};this.getFacetFilters=function(){if(h.getItem(sap.apf.core.constants.existsEmptyFacetFilterArray)===true){return{emptyArray:true};}return g("facetFilter");};this.getNavigationTargets=function(){return g("navigationTarget");};};
}());
},
	"sap/apf/modeler/core/smartFilterBar.js":function(){jQuery.sap.declare("sap.apf.modeler.core.smartFilterBar");(function(){'use strict';
sap.apf.modeler.core.SmartFilterBar=function(s){var a,e;var E=false;this.getId=function(){return s;};this.setService=function(n){a=n;};this.getService=function(){return a;};this.setEntitySet=function(n,b){e=n;E=b;};this.getEntitySet=function(){return e;};this.isEntityTypeConverted=function(){return!E;};};
}());
},
	"sap/apf/modeler/core/step.js":function(){jQuery.sap.declare("sap.apf.modeler.core.step");(function(){'use strict';
sap.apf.modeler.core.Step=function(s,a,d){var r,b,c,f,e,g,t,n,k,h,l,j,m,o,p,q,u,v,w,x,y;u=a.instances.messageHandler;if(!d){r=new a.constructors.ElementContainer(s+"-Representation",a.constructors.Representation,a);b={};c=new a.constructors.ElementContainer("SelectProperty",undefined,a);f=new a.constructors.ElementContainer("FilterProperty",undefined,a);e={};g=new a.constructors.ElementContainer("SelectPropertyForFilterMapping",undefined,a);t=new a.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,a);k=false;n=new a.constructors.ElementContainer("NavigationTarget",undefined,a);}else{r=d.representationContainer;b=d.request;c=d.selectProperties;f=d.filterProperties;v=d.filterPropertyLabelKey;w=d.filterPropertyLabelDisplayOption;x=d.targetPropertyLabelKey;y=d.targetPropertyLabelDisplayOption;e=d.requestForFilterMapping;g=d.selectPropertiesForFilterMapping;t=d.targetPropertiesForFilterMapping;k=d.keepSourceForFilterMapping;n=d.navigationTargets;h=d.titleId;l=d.longTitleId;j=d.leftUpperCornerTextKey;m=d.rightUpperCornerTextKey;o=d.leftLowerCornerTextKey;p=d.rightLowerCornerTextKey;q=d.topNSettings;}this.getType=function(){return"step";};this.getId=function(){return s;};this.setTopN=function(i,A){if(A&&A instanceof Array&&A.length>0){this.resetTopN();q={};q.top=i;q.orderby=A;}else{u.putMessage(u.createMessageObject({code:11016}));return;}r.getElements().forEach(function(B){B.setTopN(i);q.orderby.forEach(function(A){B.addOrderbySpec(A.property,A.ascending);});});};this.setTopNValue=function(i){if(!q){q={};}q.top=i;if(q.orderby){z();}};this.setTopNSortProperties=function(i){if(!q){q={};}if(i&&i.length>0){i.forEach(function(A){if(A.ascending==="true"){A.ascending=true;}});}q.orderby=i;if(q.top){z();}};function z(){r.getElements().forEach(function(i){i.setTopN(q.top);i.removeAllOrderbySpecs();q.orderby.forEach(function(A){i.addOrderbySpec(A.property,A.ascending);});});}this.getTopN=function(){if(q&&q.top>0){if(jQuery.isArray(q.orderby)){var c=this.getSelectProperties();var i;for(i=q.orderby.length-1;i>=0;i--){if(jQuery.inArray(q.orderby[i].property,c)<0){q.orderby.splice(i,1);z();}}}return jQuery.extend({},true,q);}};this.resetTopN=function(){q=undefined;r.getElements().forEach(function(i){if(i.getTopN()){i.setTopN(undefined);}});};this.getService=function(){return b.service;};this.setService=function(i){b.service=i;};this.getEntitySet=function(){return b.entitySet;};this.setEntitySet=function(i){b.entitySet=i;};this.setTitleId=function(i){h=i;};this.getTitleId=function(){return h;};this.setLongTitleId=function(i){l=i;};this.getLongTitleId=function(){return l;};this.getSelectProperties=function(){var i=[];var A=c.getElements();A.forEach(function(B){i.push(B.getId());});return i;};this.addSelectProperty=function(i){c.createElementWithProposedId(undefined,i);};this.removeSelectProperty=function(i){c.removeElement(i);};this.getFilterProperties=function(){var i=[];var F=f.getElements();F.forEach(function(A){i.push(A.getId());});return i;};this.addFilterProperty=function(i){v=undefined;w=undefined;return f.createElementWithProposedId(undefined,i).getId();};this.removeFilterProperty=function(i){v=undefined;w=undefined;f.removeElement(i);};this.setFilterPropertyLabelKey=function(i){v=i;};this.getFilterPropertyLabelKey=function(){return v;};this.setFilterPropertyLabelDisplayOption=function(i){w=i;};this.getFilterPropertyLabelDisplayOption=function(){return w;};this.setFilterMappingService=function(i){e.service=i;};this.getFilterMappingService=function(){return e.service;};this.setFilterMappingEntitySet=function(i){e.entitySet=i;};this.getFilterMappingEntitySet=function(){return e.entitySet;};this.addFilterMappingTargetProperty=function(i){x=undefined;y=undefined;t.createElementWithProposedId(undefined,i);};this.getFilterMappingTargetProperties=function(){var i=[];var A=t.getElements();A.forEach(function(B){i.push(B.getId());});return i;};this.removeFilterMappingTargetProperty=function(i){x=undefined;y=undefined;t.removeElement(i);};this.setFilterMappingTargetPropertyLabelKey=function(i){x=i;};this.getFilterMappingTargetPropertyLabelKey=function(){return x;};this.setFilterMappingTargetPropertyLabelDisplayOption=function(i){y=i;};this.getFilterMappingTargetPropertyLabelDisplayOption=function(){return y;};this.addNavigationTarget=function(i){n.createElementWithProposedId(undefined,i);};this.getNavigationTargets=function(){var i=[];var A=n.getElements();A.forEach(function(B){i.push(B.getId());});return i;};this.removeNavigationTarget=function(i){n.removeElement(i);};this.setFilterMappingKeepSource=function(i){k=i;};this.getFilterMappingKeepSource=function(){return k;};this.getRepresentations=r.getElements;this.getRepresentation=r.getElement;this.createRepresentation=function(i){var A;if(i&&i.id){A=r.createElementWithProposedId(i,i.id);}else{A=r.createElement(i);}if(q&&q.top){A.setTopN(q.top);q.orderby.forEach(function(B){A.addOrderbySpec(B.property,B.ascending);});}return A;};this.removeRepresentation=r.removeElement;this.copyRepresentation=r.copyElement;this.moveRepresentationBefore=function(i,A){return r.moveBefore(i,A);};this.moveRepresentationUpOrDown=function(i,A){return r.moveUpOrDown(i,A);};this.moveRepresentationToEnd=function(i){return r.moveToEnd(i);};this.setLeftUpperCornerTextKey=function(i){j=i;};this.getLeftUpperCornerTextKey=function(){return j;};this.setRightUpperCornerTextKey=function(i){m=i;};this.getRightUpperCornerTextKey=function(){return m;};this.setLeftLowerCornerTextKey=function(i){o=i;};this.getLeftLowerCornerTextKey=function(){return o;};this.setRightLowerCornerTextKey=function(i){p=i;};this.getRightLowerCornerTextKey=function(){return p;};this.getConsumablePropertiesForTopN=function(){var i=jQuery.Deferred();this.getAvailableProperties().done(function(A){var B=[];if(q&&q.orderby&&q.orderby.length>0){q.orderby.forEach(function(C){B.push(C.property);});}i.resolve({available:A,consumable:this.getConsumableProperties(A,B)});}.bind(this));return i.promise();};this.getConsumablePropertiesForRepresentation=function(i){var A=jQuery.Deferred();function B(C){var D=[];jQuery.merge(D,C.getDimensions());jQuery.merge(D,C.getMeasures());jQuery.merge(D,C.getProperties());return D;}this.getAvailableProperties().done(function(C){if(this.getHierarchyProperty&&this.getHierarchyProperty()){C.push(this.getHierarchyProperty());}var D=[];var E=r.getElement(i);if(E){D=B(E);if(E.getHierarchyProperty){D.push(E.getHierarchyProperty());}}else{D=this.getSelectProperties();}A.resolve({available:C,consumable:this.getConsumableProperties(C,D)});}.bind(this));return A.promise();};this.getConsumableSortPropertiesForRepresentation=function(i){var A=jQuery.Deferred();this.getAvailableProperties().done(function(B){A.resolve({available:B,consumable:this.getConsumableProperties(B,this.getSortPropertiesFromRepresentation(i))});}.bind(this));return A.promise();};this.getSortPropertiesFromRepresentation=function(i){var A=[];var B=r.getElement(i);var C=B.getOrderbySpecifications();C.forEach(function(D){A.push(D.property);});return A;};this.getConsumableProperties=function(i,A){var B=[];i.forEach(function(C){if(jQuery.inArray(C,A)===-1){B.push(C);}});return B;};this.getAvailableProperties=function(){var i=jQuery.Deferred();var A=[];if(b.service&&b.entitySet){a.instances.metadataFactory.getMetadata(b.service).then(function(B){if(B){var C=B.getAllPropertiesOfEntitySet(b.entitySet);var D=this.getSelectProperties();D.forEach(function(E){if(jQuery.inArray(E,C)!==-1){A.push(E);}});}i.resolve(A);}.bind(this),function(){i.resolve([]);});}else{i.resolve([]);}return i.promise();};this.copy=function(i){var d=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(this.getDataForCopy());d.representationContainer=r.copy((i||this.getId())+"-Representation");return new sap.apf.modeler.core.Step((i||this.getId()),a,d);};this.getDataForCopy=function(){return{request:b,selectProperties:c,filterProperties:f,filterPropertyLabelKey:v,filterPropertyLabelDisplayOption:w,requestForFilterMapping:e,selectPropertiesForFilterMapping:g,targetPropertiesForFilterMapping:t,targetPropertyLabelKey:x,targetPropertyLabelDisplayOption:y,navigationTargets:n,keepSourceForFilterMapping:k,titleId:h,longTitleId:l,leftUpperCornerTextKey:j,rightUpperCornerTextKey:m,leftLowerCornerTextKey:o,rightLowerCornerTextKey:p,topNSettings:q};};this.getRepresentationContainer=function(){return r;};};
}());
},
	"sap/apf/modeler/core/textHandler.js":function(){jQuery.sap.declare("sap.apf.modeler.core.textHandler");(function(){'use strict';
sap.apf.modeler.core.TextHandler=function(){var r;this.getMessageText=function(R,p){return this.getText(R,p);};this.getText=function(R,p){return r.getResourceBundle().getText(R,p);};function i(){var u;var U;var m=jQuery.sap.getModulePath("sap.apf");u=m+'/modeler/resources/i18n/texts.properties';r=new sap.ui.model.resource.ResourceModel({bundleUrl:u});U=m+'/resources/i18n/apfUi.properties';r.enhance({bundleUrl:U});}i();};
}());
},
	"sap/apf/modeler/core/textPool.js":function(){jQuery.sap.declare("sap.apf.modeler.core.textPool");jQuery.sap.require("sap.apf.utils.hashtable");jQuery.sap.require("sap.apf.core.utils.filter");jQuery.sap.require("sap.ui.core.format.DateFormat");jQuery.sap.require('sap.apf.utils.utils');(function(){'use strict';
sap.apf.modeler.core.TextPool=function(a,b,e){var m=a.instances.messageHandler;var p=a.instances.persistenceProxy;var c=a.isUsingCloudFoundryProxy;var H=a.constructors.Hashtable;var h=new H(m);var k=new H(m);var g=new H(m);var d=0;var f={TextElement:sap.apf.core.constants.textKeyForInitialText,Language:sap.apf.core.constants.developmentLanguage,TextElementType:"XFLD",TextElementDescription:"",MaximumLength:10,Application:b,TranslationHint:""};function l(t,j){var o=h.getKeys();var i,q=o.length;var r=j.MaximumLength||10;var s=j.TranslationHint||"";var u;for(i=0;i<q;i++){u=h.getItem(o[i]);if((u.TextElementDescription===t)&&(u.MaximumLength===r)&&(u.TranslationHint===s)){return o[i];}}return undefined;}this.removeTexts=function(t,o,q){var r=[];var i,s;function u(v){var j;if(!v){for(j=0;j<s;j++){h.removeItem(t[j]);}}q(v);}s=t.length;if(s===0){q(undefined);return;}for(i=0;i<s;i++){if(t[i]===sap.apf.core.constants.textKeyForInitialText){continue;}r.push({method:"DELETE",entitySetName:"texts",inputParameters:[{name:'TextElement',value:t[i]},{name:'Language',value:sap.apf.core.constants.developmentLanguage}]});}if(c){p.doChangeOperationsInBatch(r,u,o,true);}else{p.doChangeOperationsInBatch(r,u,o);}};this.isInitialTextKey=function(t){return(t===sap.apf.core.constants.textKeyForInitialText);};this.addTextsAndSave=function(t,j,o){function q(y,z){return(y.TextElement===z.TextElement&&y.TextElementDescription===z.TextElementDescription&&y.MaximumLength===z.MaximumLength&&y.Language===z.Language&&y.TranslationHint===z.TranslationHint);}var i;var r=t.length;var s;var u=[];var v=[];var w=[];var x;for(i=0;i<r;i++){if(t[i]===sap.apf.core.constants.textKeyForInitialText){continue;}s=h.getItem(t[i].TextElement);if(s){if(!q(s,t[i])){u.push(t[i]);h.setItem(t[i].TextElement,t[i]);}}else{v.push(t[i]);h.setItem(t[i].TextElement,t[i]);}}r=u.length;for(i=0;i<r;i++){x=[{name:'TextElement',value:u[i].TextElement},{name:'Language',value:u[i].Language}];u[i].MaximumLength=parseInt(u[i].MaximumLength,10);w.push({method:"PUT",entitySetName:"texts",data:u[i],inputParameters:x});}r=v.length;for(i=0;i<r;i++){v[i].MaximumLength=parseInt(v[i].MaximumLength,10);w.push({method:"POST",entitySetName:"texts",data:v[i]});}if(w.length>0){if(c){p.doChangeOperationsInBatch(w,j,o,false);}else{p.doChangeOperationsInBatch(w,j,o);}}else{j(undefined);}};this.exportTexts=function(i){var t=sap.apf.utils.renderHeaderOfTextPropertyFile(b,m);var j={TextElement:"AnalyticalConfigurationName",Language:sap.apf.core.constants.developmentLanguage,TextElementType:"XTIT",TextElementDescription:i,MaximumLength:250,Application:b,TranslationHint:""};return t+sap.apf.utils.renderTextEntries(h,m)+sap.apf.utils.renderEntryOfTextPropertyFile(j,m);};this.get=function(i){var j,o;if(i===sap.apf.core.constants.textKeyForInitialText){return f;}if(h.hasItem(i)){return h.getItem(i);}if(k.hasItem(i)){j=k.getItem(i);if(j.TextElementDescription){return j;}return h.getItem(j);}o=jQuery.extend({},true,f);o.TextElement=i;o.TextElementDescription=i;return o;};this.getPersistentKey=function(i){return i;};this.setTextAsPromise=function(t,i){var j;var o=jQuery.Deferred();var u=function(r,s,v){if(v){m.putMessage(v);}if(r){h.setItem(r.TextElement,r);j=r.TextElement;}o.resolve(r&&r.TextElement);};var q={TextElement:"",Language:sap.apf.core.constants.developmentLanguage,TextElementType:i.TextElementType,TextElementDescription:t,MaximumLength:i.MaximumLength||10,Application:b,TranslationHint:i.TranslationHint||""};if(!t){o.resolve(sap.apf.core.constants.textKeyForInitialText);}j=l(t,i);if(j){o.resolve(j);}else{d++;p.create('texts',q,u,true);}return o.promise();};this.getTextKeys=function(t){var j=h.getKeys();var i,o,q=j.length;var r=[];for(i=0;i<q;i++){o=h.getItem(j[i]);if(t&&o.TextElementType!==t){continue;}if(g.hasItem(j[i])){r.push(g.getItem(j[i]));}else{r.push(j[i]);}}return r;};this.getTextsByTypeAndLength=function(t,j){var o=h.getKeys();var i,q,r=o.length;var s=[];for(i=0;i<r;i++){q=h.getItem(o[i]);if(q.TextElementType===t&&q.MaximumLength===j){if(g.hasItem(o[i])){s.push({TextElement:g.getItem(o[i]),TextElementDescription:q.TextElementDescription});}else{s.push({TextElement:o[i],TextElementDescription:q.TextElementDescription});}}}return s;};function n(){var i,j;j=e.length;for(i=0;i<j;i++){if(e[i].TextElement){h.setItem(e[i].TextElement,e[i]);}}}n();};
}());
},
	"sap/apf/modeler/ui/controller/titleBreadCrumb.controller.js":function(){(function(){'use strict';sap.ui.controller("sap.apf.modeler.ui.controller.titleBreadCrumb",{setTitleForDetailPage:function(f){var c=this;c.byId("IdFormTitle").setText(f);}});}());
},
	"sap/apf/modeler/ui/utils/navigationHandler.js":function(){jQuery.sap.declare('sap.apf.modeler.ui.utils.navigationHandler');sap.apf.modeler.ui.utils.navigationHandler=(function(){"use strict";var i,d={};var _=function(d){d.close();};var h=function(){var l=this.configListInstance;var m=this.callback;var s=function(m){l.configEditor.save(function(n,o,p){l.configId=n;l.configurationHandler.memorizeConfiguration(n);if(p===undefined){if(typeof m==="function"){m();}var M=l.oCoreApi.createMessageObject({code:"11513"});l.oCoreApi.putMessage(M);}else{var M=l.oCoreApi.createMessageObject({code:"11514"});l.oCoreApi.putMessage(M);}});};_(d.oConfirmNavigationDialog);if(typeof m.yes==="function"){m.yes(s);}};var a=function(){var l=this.configListInstance;var m=this.callback;_(d.oConfirmNavigationDialog);l.configurationHandler.resetConfiguration(l.configId);if(typeof m.no==="function"){m.no();}};var b=function(){var l=this.isValidationCheck;var m=this.callback;if(!l){_(d.oConfirmNavigationDialog);}else{_(d.oConfirmValidationDialog);}if(typeof m.cancel==="function"){m.cancel();}else if(typeof m.no==="function"&&l){m.no();}};var c=function(C,l){if(l==="naviagtionDialog"){sap.ui.core.Fragment.byId("idMessageDialogFragment","idMessageDialog").setTitle(C.getText("warning"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idYesButton").setText(C.getText("yes"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idNoButton").setText(C.getText("no"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idCancelButton").setText(C.getText("cancel"));}else if(l==="validationDialog"){sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idMandatoryValidationDialog").setTitle(C.getText("warning"));sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idYesButton").setText(C.getText("yes"));sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idNoButton").setText(C.getText("no"));}};var e=function(l,s,m){var C=l.oCoreApi;var n=C.getText("unsavedConfiguration");var o=Object.keys(s)[0];var p={handleNavigationWithSave:h,handleNavigationWithoutSave:a,handlePreventNavigation:b,configListInstance:l,callback:m};p[o]=s[o];d.oConfirmNavigationDialog=sap.ui.xmlfragment("idMessageDialogFragment","sap.apf.modeler.ui.fragment.unsavedDataConfirmationDialog",p);l.getView().addDependent(d.oConfirmNavigationDialog);c(C,"naviagtionDialog");var q=new sap.m.Text();q.setText(n);d.oConfirmNavigationDialog.removeAllContent();d.oConfirmNavigationDialog.addContent(q);d.oConfirmNavigationDialog.attachAfterClose(function(){d.oConfirmNavigationDialog.destroy();});d.oConfirmNavigationDialog.open();};var t=function(l,m){e(l,{isSwitchConfiguration:true},m);};var f=function(){var l=this.callback;_(d.oConfirmValidationDialog);if(typeof l.yes==="function"){l.yes();}};var g=function(l,s,m){var C=l.oCoreApi;var n=C.getText("mandatoryField");var o=Object.keys(s)[0];var p={handleValidationNavigation:f,handlePreventNavigation:b,configListInstance:l,callback:m};p[o]=s[o];d.oConfirmValidationDialog=sap.ui.xmlfragment("idMandatoryValidationDialogFragement","sap.apf.modeler.ui.fragment.mandatoryDialog",p);l.getView().addDependent(d.oConfirmValidationDialog);c(C,"validationDialog");var v=new sap.m.Text();v.setText(n);d.oConfirmValidationDialog.removeAllContent();d.oConfirmValidationDialog.addContent(v);d.oConfirmValidationDialog.attachAfterClose(function(){d.oConfirmValidationDialog.destroy();});d.oConfirmValidationDialog.open();};var j=function(l,m){g(l,{isValidationCheck:true},m);};var k=function(){return{throwLossOfDataPopup:t,throwMandatoryPopup:j};};return{getInstance:function(){return i||(i=k());}};}());
},
	"sap/apf/ui/representations/utils/paginationHandler.js":function(){jQuery.sap.declare("sap.apf.ui.representations.utils.paginationHandler");(function(){'use strict';
sap.apf.ui.representations.utils.PaginationHandler=function(){this.pagingOption={top:100,skip:0};};
sap.apf.ui.representations.utils.PaginationHandler.prototype.constructor=sap.apf.ui.representations.utils.PaginationHandler;
function _(p,t){p.pagingOption.skip=t.getData().tableData.length;p.pagingOption.top=99;}
function a(p,t){var T=t.tableControl.getModel();var d=T.getData();_(p,T);if(!p.bPaginationTriggered&&(p.pagingOption.skip<t.nDataResponseCount)){t.tableControl.getParent().setBusy(true);sap.ui.getCore().applyChanges();var A=t.oApi.getActiveStep();p.bPaginationTriggered=true;t.oApi.updatePath(function(s,S){p.bPaginationTriggered=false;if(s===A){T.setData(d);t.markSelectionInTable();t.tableControl.getParent().setBusy(false);if(T.getData().tableData.length>=t.nDataResponseCount){t.oLoadMoreLink.setVisible(false);}}});}}
function b(p,t){t.oLoadMoreLink.setVisible(true);t.oLoadMoreLink.attachPress(function(){a(p,t);});}
function c(p,t){var d=t.tableControl;t.tableControl.attachFirstVisibleRowChanged(function(e){var i=e.getParameter("firstVisibleRow");var v=d.getVisibleRowCount();var f=p.pagingOption.top+p.pagingOption.skip;if(i+v+10>f){a(p,t);}});}
sap.apf.ui.representations.utils.PaginationHandler.prototype.attachPaginationOnTable=function(t){if(sap.ui.Device.system.desktop){c(this,t);}else{b(this,t);}};
sap.apf.ui.representations.utils.PaginationHandler.prototype.getPagingOption=function(t){var d,s;if(t){d=t;s=0;}else if(this.pagingOption.top!==100&&this.pagingOption.skip!==0){d=this.pagingOption.top;s=this.pagingOption.skip;}else{d=100;s=0;}this.pagingOption={inlineCount:t?false:true,top:d,skip:s};return this.pagingOption;};
sap.apf.ui.representations.utils.PaginationHandler.prototype.resetPaginationOption=function(){this.pagingOption={top:100,skip:0};};
}());
},
	"sap/apf/ui/reuse/controller/navigationTarget.controller.js":function(){(function(){"use strict";
sap.ui.core.mvc.Controller.extend("sap.apf.ui.reuse.controller.navigationTarget",{
onInit:function(){this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");}},
handleNavigation:function(s){this.oNavigationHandler.navigateToApp(s);}
});
}());
},
	"sap/apf/ui/reuse/fragment/newMessageDialog.fragment.js":function(){(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.newMessageDialog",{createContent:function(c){var y=new sap.m.Button(c.createId("idYesButton"),{text:c.oCoreApi.getTextNotHtmlEncoded("yes")});var n=new sap.m.Button(c.createId("idNoButton"),{text:c.oCoreApi.getTextNotHtmlEncoded("no")});var a=new sap.m.Dialog(c.createId("idNewDialog"),{type:sap.m.DialogType.Standard,title:c.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new sap.m.Text({text:c.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),buttons:[y,n],afterClose:function(){a.destroy();}});return a;}});}());
},
	"sap/apf/ui/reuse/fragment/selectionDisplay.fragment.js":function(){(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.selectionDisplay",{createContent:function(c){var s=c.getCurrentRepresentation();var r=s.getParameter().requiredFilterOptions;var a=s.getSortedSelections();var R=s.getMetaData().getPropertyMetadata(s.getParameter().requiredFilters[0]);var b=R.label||R.name;if(r&&r.fieldDesc){b=c.oCoreApi.getTextNotHtmlEncoded(r.fieldDesc);}var d=new sap.m.Dialog({id:this.createId("idSelectionDisplayDialog"),title:c.oCoreApi.getTextNotHtmlEncoded("selected-required-filter",[b])+" ("+a.length+")",contentWidth:jQuery(window).height()*0.6+"px",contentHeight:jQuery(window).height()*0.6+"px",buttons:[new sap.m.Button({text:c.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){d.close();d.destroy();}})],afterClose:function(){d.destroy();}});var D={selectionData:a};var e=new sap.m.List({items:{path:"/selectionData",template:new sap.m.StandardListItem({title:"{text}"})}});var m=new sap.ui.model.json.JSONModel();m.setSizeLimit(a.length);m.setData(D);e.setModel(m);d.addContent(e);return d;}});}());
},
	"sap/apf/ui/reuse/view/navigationTarget.view.js":function(){(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.navigationTarget",{getControllerName:function(){return"sap.apf.ui.reuse.controller.navigationTarget";},createContent:function(c){var v=this.getViewData();this.oNavListPopover=v.oNavListPopover;this.oOpenInButtonEventSource=v.oOpenInButtonEventSource;this.oNavigationHandler=v.oNavigationHandler;this.oUiApi=v.oUiApi;this.oController=c;this.oUiApi.getLayoutView().byId("applicationPage").setBusy(true);var n=this.oNavigationHandler.getNavigationTargets();n.then(this._prepareActionListModel.bind(this),function(){this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);});},_prepareActionListModel:function(n){var c=this;var a=[];var b=[];n.global.forEach(function(t){if(t.title){t.text=c.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title);}a.push(t);});n.stepSpecific.forEach(function(t){if(t.title){t.text=c.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title);}b.push(t);});this.oNavListPopover.removeAllContent();var g,s;var d=this;if(b.length!==0){var m=new sap.ui.model.json.JSONModel();var D={navTargets:b};s=new sap.m.List({items:{path:"/navTargets",template:new sap.m.StandardListItem({title:"{text}",type:sap.m.ListType.Navigation,press:function(E){var f=E.getSource().getBindingContext().getObject().id;d.oController.handleNavigation(f);}})}});m.setData(D);s.setModel(m);var e=new sap.ui.core.HTML({content:'<hr class="lineSeparator">',sanitizeContent:true});this.oNavListPopover.addContent(s);this.oNavListPopover.addContent(e);}if(a.length!==0){var M=new sap.ui.model.json.JSONModel();var o={navTargets:a};g=new sap.m.List({items:{path:"/navTargets",template:new sap.m.StandardListItem({title:"{text}",type:sap.m.ListType.Navigation,press:function(E){var f=E.getSource().getBindingContext().getObject().id;d.oController.handleNavigation(f);}})}});M.setData(o);g.setModel(M);this.oNavListPopover.addContent(g);}this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);this.oNavListPopover.openBy(this.oOpenInButtonEventSource);}});}());
},
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
	"sap/apf/modeler/core/navigationTarget.js":function(){jQuery.sap.declare("sap.apf.modeler.core.navigationTarget");(function(){'use strict';
sap.apf.modeler.core.NavigationTarget=function(n,i,d){var s,a,b=false,r,t,c;var u=false;var p=[];if(d){s=d.semObject;a=d.actn;b=d.isStepSpecific;r=d.requestForFilterMapping;t=d.targetPropertiesForFilterMapping;p=d.parameters;c=d.titleKey;u=d.useDynamicParameters;}else{r={};t=new i.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,i);}this.getId=function(){return n;};this.setSemanticObject=function(e){s=e;};this.getSemanticObject=function(){return s;};this.setAction=function(e){a=e;};this.getAction=function(){return a;};this.isGlobal=function(){return!b;};this.isStepSpecific=function(){return b;};this.setGlobal=function(){b=false;};this.setStepSpecific=function(){b=true;};this.setFilterMappingService=function(e){r.service=e;};this.getFilterMappingService=function(){return r.service;};this.setFilterMappingEntitySet=function(e){r.entitySet=e;};this.getFilterMappingEntitySet=function(){return r.entitySet;};this.addFilterMappingTargetProperty=function(e){t.createElementWithProposedId(undefined,e);};this.getFilterMappingTargetProperties=function(){var e=[];var f=t.getElements();f.forEach(function(g){e.push(g.getId());});return e;};this.removeFilterMappingTargetProperty=function(e){t.removeElement(e);};this.getNavigationParameter=function(k){var e;p.forEach(function(f){if(f.key===k){e=f;}});return e;};this.getAllNavigationParameters=function(){return p;};this.addNavigationParameter=function(k,v,e){if(e===undefined||e>p.length){e=p.length;}p.splice(e,0,{key:k,value:v});};this.removeNavigationParameter=function(k){var e;p.forEach(function(f,g){if(f.key===k){e=g;}});if(e>=0){p.splice(e,1);}};this.setTitleKey=function(l){c=l;};this.setUseDynamicParameters=function(o){u=o;};this.getUseDynamicParameters=function(){return u;};this.getTitleKey=function(){return c;};this.copy=function(e){var f={semObject:s,actn:a,isStepSpecific:b,requestForFilterMapping:r,targetPropertiesForFilterMapping:t,parameters:p,titleKey:c,useDynamicParameters:u};var d=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(f);return new sap.apf.modeler.core.NavigationTarget((e||this.getId()),i,d);};};
}());
}
},"sap/apf/library-preload"
);
//# sourceMappingURL=library-preload.js.map