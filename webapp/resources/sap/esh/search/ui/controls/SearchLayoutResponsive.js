/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/layout/ResponsiveSplitter","sap/ui/layout/SplitterLayoutData","sap/m/ScrollContainer","sap/ui/layout/SplitPane","sap/ui/layout/PaneContainer","sap/ui/core/Orientation",],function(R,S,a,b,P,O){"use strict";return R.extend("sap.esh.search.ui.controls.SearchLayoutResponsive",{metadata:{properties:{isBusy:{type:"boolean",defaultValue:false,},busyDelay:{type:"int",defaultValue:100,},showFacets:{type:"boolean",defaultValue:false,},facetPanelWidthInPercent:{type:"int",defaultValue:"25",},animateFacetTransition:{type:"boolean",defaultValue:false,},},aggregations:{resultListContainer:{type:"sap.ui.core.Control",multiple:false,},facets:{type:"sap.ui.core.Control",multiple:false,},busyIndicator:{type:"sap.ui.core.Control",multiple:false,},},},init:function(){R.prototype.init.apply(this);this._paneLeft=new b("",{requiredParentWidth:960,});var r=new a("",{height:"100%",vertical:true,});this._paneRight=new b("",{requiredParentWidth:960,content:r,});this._paneLeft.setLayoutData(new S("",{size:"0%",}));this._paneRight.setLayoutData(new S("",{size:"100%",}));var p=new P("",{orientation:O.Horizontal,panes:[this._paneLeft,this._paneRight],});this.setRootPaneContainer(p);},constructor:function(i,o){R.prototype.constructor.apply(this,[i,o]);},getFacets:function(){var f=this._paneLeft;return f.getContent();},setFacets:function(c){var f=this._paneLeft;f.setContent(c);},getResultListContainer:function(){var r=(this._paneRight.getContent());if(r){return r;}return undefined;},setResultListContainer:function(c){var r=(this.getRootPaneContainer().getPanes()[1]);r.destroyContent();r.setContent(c);},setAnimateFacetTransition:function(v){this.setProperty("animateFacetTransition",v,true);},setIsBusy:function(i){var t=this;if(i){if(this.busyFlag){return;}if(this.busyTimeout){return;}this.busyTimeout=setTimeout(function(){t.busyTimeout=null;t._setIsBusy(i);},this.getBusyDelay());}else{if(this.busyFlag){this._setIsBusy(i);return;}if(this.busyTimeout){clearTimeout(this.busyTimeout);this.busyTimeout=null;return;}}},setBusyDelay:function(c){this.setProperty("busyDelay",c,true);},_setIsBusy:function(i){if(i){this.getBusyIndicator().open();this.busyFlag=true;}else if(this.busyFlag){this.getBusyIndicator().close();this.busyFlag=false;}this.setProperty("isBusy",i,true);},setShowFacets:function(c){if(c===this.getShowFacets()){return undefined;}var $=jQuery(".sapUiFixFlexFixed");var s=(this.getFacets());if(this.getAnimateFacetTransition()){s.addStyleClass("sapUshellSearchFacetAnimation");}else{s.removeStyleClass("sapUshellSearchFacetAnimation");}if(!c){var l=this._paneLeft.getLayoutData()||this._paneLeft.getContent().getLayoutData();this._currentFacetPanelWidthSize=parseInt(l.getProperty("size").replace("%",""));this._paneLeft.setLayoutData(new S("",{size:"0%",}));this._paneRight.setLayoutData(new S("",{size:"100%",}));}else{if(typeof this._currentFacetPanelWidthSize==="undefined"){this._currentFacetPanelWidthSize=this.getFacetPanelWidthInPercent();}this._paneLeft.setLayoutData(new S("",{size:this._currentFacetPanelWidthSize+"%",}));var r=100-this._currentFacetPanelWidthSize+"%";this._paneRight.setLayoutData(new S("",{size:r,}));}var h=function(){this.getModel()._notifySubscribers("searchLayoutChanged");}.bind(this);$.one("transitionend",h);this.setProperty("showFacets",c,true);return this;},renderer:"sap.ui.layout.ResponsiveSplitterRenderer",});});
