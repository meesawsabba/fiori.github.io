/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/core/InvisibleText","sap/m/Button","sap/m/FlexBox","sap/m/FlexItemData","sap/m/FlexAlignItems","sap/esh/search/ui/SearchHelper","sap/esh/search/ui/controls/SearchSelect","sap/esh/search/ui/controls/SearchInput","sap/esh/search/ui/controls/SearchButton",],function(I,B,F,a,b){"use strict";return sap.ui.core.Control.extend("sap.esh.search.ui.controls.SearchFieldGroup",{metadata:{properties:{selectActive:{defaultValue:true,type:"boolean",},inputActive:{defaultValue:true,type:"boolean",},buttonActive:{defaultValue:true,type:"boolean",},cancelButtonActive:{defaultValue:true,type:"boolean",},},aggregations:{_flexBox:{type:"sap.m.FlexBox",multiple:false,visibility:"hidden",},_buttonAriaText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden",},},},constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);var t=this;t.initSelect();t.initInput();t.initButton();t.initCancelButton();t.initFlexBox();},setCancelButtonActive:function(c){if(c===this.getProperty("cancelButtonActive")){return;}this.setProperty("cancelButtonActive",c);this.initFlexBox();},initFlexBox:function(){if(!this.select){return;}var c=[];if(this.getSelectActive()){this.select.setLayoutData(new a("",{growFactor:0,}));c.push(this.select);}if(this.getInputActive()){this.input.setLayoutData(new a("",{growFactor:1,}));c.push(this.input);}if(this.getButtonActive()){this.button.setLayoutData(new a("",{growFactor:0,}));c.push(this.button);}if(this.getCancelButtonActive()){this.cancelButton.setLayoutData(new a("",{growFactor:0,}));c.push(this.cancelButton);}var f=(this.getAggregation("_flexBox"));if(!f){f=new F("",{alignItems:b.Start,items:c,});this.setAggregation("_flexBox",f);}else{f.removeAllAggregation("items");for(var i=0;i<c.length;++i){f.addItem(c[i]);}}},initSelect:function(){var t=this;t.select=new sap.esh.search.ui.controls.SearchSelect(t.getId()+"-select",{});t.select.attachChange(function(){if(t.getAggregation("input")){var i=(t.getAggregation("input"));i.destroySuggestionRows();}});},initInput:function(){var t=this;t.input=new sap.esh.search.ui.controls.SearchInput(t.getId()+"-input",{});},initButton:function(){var t=this;t.button=new sap.esh.search.ui.controls.SearchButton(t.getId()+"-button",{tooltip:"{i18n>searchbox_tooltip}",press:function(e){var m=(t.button.getModel());if(!m.config.odataProvider&&m.config.isUshell){if(t.input.getValue()===""&&m.getDataSource()===m.getDefaultDataSource()){return;}}m.invalidateQuery();t.input.destroySuggestionRows();t.input.triggerSearch();},});t.setAggregation("_buttonAriaText",new I(t.getId()+"-buttonAriaText",{text:"{i18n>searchbox_tooltip}",}));t.button.addAriaLabelledBy(t.getAggregation("_buttonAriaText"));},initCancelButton:function(){this.cancelButton=new B("",{text:"{i18n>cancelBtn}",});this.cancelButton.addStyleClass("sapUshellSearchCancelButton");},setModel:function(m){this.select.setModel(m);this.input.setModel(m);this.button.setModel(m);this.cancelButton.setModel(m);},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("SearchFieldGroup");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_flexBox"));r.renderControl(c.getAggregation("_buttonAriaText"));r.write("</div>");},});});
