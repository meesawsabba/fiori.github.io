/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../i18n","sap/ui/layout/HorizontalLayout","sap/m/Button","sap/m/ButtonType","sap/m/Input","sap/m/Select","sap/m/CheckBox","sap/m/DateRangeSelection","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/m/Label",],function(i,H,B,a,I,S,C,D,b,c,L){"use strict";var d;var e=H.extend("sap.esh.search.ui.controls.SearchAdvancedCondition",{metadata:{properties:{type:"",},},constructor:function(o){var t=this;o=jQuery.extend({},{allowWrapping:true,content:t.contentFactory(o),},o);H.prototype.constructor.apply(this,[o]);t.addStyleClass("sapUshellSearchFacetDialogDetailPageCondition");},renderer:"sap.ui.layout.HorizontalLayoutRenderer",contentFactory:function(o){var t=this;var A=new C({select:function(E){if(o.type==="string"||o.type==="text"){d.updateCountInfo(E.getSource().getParent().getParent().getParent().getParent().getParent().getParent());}else{d.updateCountInfo(E.getSource().getParent().getParent().getParent());}},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionCheckBox");var f=sap.ui.getCore().byId("advancedCheckBoxLabel");if(!f){f=new b("advancedCheckBoxLabel",{text:i.getText("checkBox"),});}A.addAriaLabelledBy("advancedCheckBoxLabel");var O=sap.ui.getCore().byId("operatorLabel");if(!O){O=new b("operatorLabel",{text:i.getText("operator"),});}var g,h,j,s;switch(o.type){case"timestamp":case"date":g=new D({width:"86%",change:function(E){t.onDateRangeSelectionChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");g.onAfterRendering=function(){var n=$(this.getDomRef());$("input",n).attr("readonly","readonly");};break;case"string":A.setVisible(false);j=new I({width:"57%",placeholder:i.getText("filterCondition"),liveChange:function(E){t.onAdvancedInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");s=new S({width:"40%",tooltip:i.getText("operator"),items:[new c({text:i.getText("equals"),key:"eq",}),new c({text:i.getText("beginsWith"),key:"bw",}),new c({text:i.getText("endsWith"),key:"ew",}),new c({text:i.getText("contains"),key:"co",}),],}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");s.addAriaLabelledBy("operatorLabel");g=new H({allowWrapping:true,content:[s,j],});h=new B({icon:"sap-icon://sys-cancel",type:a.Transparent,tooltip:i.getText("removeButton"),press:function(E){t.onDeleteButtonPress(E);},});break;case"text":A.setVisible(false);j=new I({width:"57%",placeholder:i.getText("filterCondition"),liveChange:function(E){t.onAdvancedInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");s=new S({width:"40%",tooltip:i.getText("operator"),items:[new c({text:i.getText("containsWords"),key:"co",}),],}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");s.addAriaLabelledBy("operatorLabel");g=new H({allowWrapping:true,content:[s,j],});h=new B({icon:"sap-icon://sys-cancel",type:a.Transparent,tooltip:i.getText("removeButton"),press:function(E){t.onDeleteButtonPress(E);},});break;case"integer":case"number":var k=new I({width:"46.5%",placeholder:i.getText("fromPlaceholder"),liveChange:function(E){t.onAdvancedNumberInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");var l=new I({width:"46.5%",placeholder:i.getText("toPlaceholder"),liveChange:function(E){t.onAdvancedNumberInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");var m=new L({text:"...",}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionLabel");g=new H({allowWrapping:true,content:[k,m,l],});g.addEventDelegate({onAfterRendering:function(E){var n=E.srcControl.getParent().getParent().getContent().length;var p=E.srcControl.getParent().getParent().indexOfAggregation("content",E.srcControl.getParent());if(p===n-2){var v=E.srcControl.getContent()[2].getValue();E.srcControl.getContent()[2].setValue();E.srcControl.getContent()[2].setValue(v);}},});break;default:break;}return[A,g,h];},onDateRangeSelectionChange:function(E){var o=E.getSource();var A=o.getParent();var f=A.getContent()[0];if(o.getDateValue()&&o.getSecondDateValue()){f.setSelected(true);d.insertNewAdvancedCondition(A,"date");d.updateCountInfo(A.getParent().getParent());}else{f.setSelected(false);}},onAdvancedInputChange:function(E){var o=E.getSource();var A=o.getParent().getParent();var f=A.getContent()[0];if(o.getValue()){f.setSelected(true);d.updateCountInfo(A.getParent().getParent().getParent().getParent().getParent());}else{f.setSelected(false);}},onDeleteButtonPress:function(E){var A=E.getSource().getParent();d.deleteAdvancedCondition(A);},onAdvancedNumberInputChange:function(E){var o=E.getSource();var A=o.getParent().getParent();var f=A.getContent()[0];if(o.getParent().getContent()[0].getValue()&&o.getParent().getContent()[2].getValue()){f.setSelected(true);d.insertNewAdvancedCondition(A,"number");d.updateCountInfo(A.getParent().getParent());}else{f.setSelected(false);}},});e.setSearchFacetDialogHelper=function(_){d=_;};return e;});
