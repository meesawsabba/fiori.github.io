/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){var _=(this&&this.__extends)||(function(){var e=function(d,b){e=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];};return e(d,b);};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(d,b);function a(){this.constructor=d;}d.prototype=b===null?Object.create(b):(a.prototype=b.prototype,new a());};})();sap.ui.define(["require","exports","./Condition","./ConditionType","./LogicalOperator","./SimpleCondition"],function(r,e,C,a,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ComplexCondition=void 0;var b=(function(c){_(b,c);function b(p){var d,f;var g=c.call(this,p)||this;g.type=a.ConditionType.Complex;g.operator=L.LogicalOperator.And;g.conditions=[];g.operator=(d=p.operator)!==null&&d!==void 0?d:g.operator;g.conditions=(f=p.conditions)!==null&&f!==void 0?f:g.conditions;return g;}b.prototype.clone=function(){var d=[];for(var i=0;i<this.conditions.length;++i){d.push(this.conditions[i].clone());}return new b({sina:this.sina,operator:this.operator,conditions:d,valueLabel:this.valueLabel,attributeLabel:this.attributeLabel,});};b.prototype.equals=function(o){if(!(o instanceof b)){return false;}if(this.operator!==o.operator){return false;}if(this.conditions.length!==o.conditions.length){return false;}var m={};for(var i=0;i<this.conditions.length;++i){var d=this.conditions[i];var f=false;for(var j=0;j<o.conditions.length;++j){if(m[j]){continue;}var g=o.conditions[j];if(d.equals(g)){f=true;m[j]=true;break;}}if(!f){return false;}}return true;};b.prototype.containsAttribute=function(d){for(var f=0,g=this.conditions;f<g.length;f++){var h=g[f];if(h.containsAttribute(d)){return true;}}return false;};b.prototype._collectAttributes=function(d){for(var f=0,g=this.conditions;f<g.length;f++){var h=g[f];h._collectAttributes(d);}};b.prototype.addCondition=function(d){if(!(d instanceof C.Condition)){d=this.sina.createSimpleCondition(d);}this.conditions.push(d);};b.prototype.removeConditionAt=function(i){this.conditions.splice(i,1);};b.prototype.hasFilters=function(){return this.conditions.length>=1;};b.prototype.removeAttributeConditions=function(d){var f={deleted:false,attribute:"",value:"",};for(var i=0;i<this.conditions.length;++i){var s=this.conditions[i];switch(s.type){case a.ConditionType.Complex:f=s.removeAttributeConditions(d);break;case a.ConditionType.Simple:if(s.attribute===d){f={deleted:true,attribute:s.attribute,value:s.value,};this.removeConditionAt(i);i--;}break;}}this.cleanup();return f;};b.prototype.getAttributeConditions=function(d){var f=[];var g=function(h,j){switch(h.type){case a.ConditionType.Complex:for(var i=0;i<h.conditions.length;i++){g(h.conditions[i],j);}break;case a.ConditionType.Simple:if(h.attribute===j){f.push(h);}break;}};g(this,d);return f;};b.prototype.cleanup=function(){var d=false;var f=function(g){for(var i=0;i<g.conditions.length;++i){var s=g.conditions[i];switch(s.type){case a.ConditionType.Complex:f(s);if(s.conditions.length===0){d=true;g.removeConditionAt(i);i--;}break;case a.ConditionType.Simple:break;}}};do{d=false;f(this);}while(d);};b.prototype.resetConditions=function(){this.conditions.splice(0,this.conditions.length);};b.prototype._getAttribute=function(){if(this.conditions.length===0){return null;}if(this.conditions[0]instanceof b){return this.conditions[0]._getAttribute();}if(this.conditions[0]instanceof S.SimpleCondition){return this.conditions[0]._getAttribute();}throw new Error("Condition is neither simple nor complex");};b.prototype.toJson=function(){var d={type:a.ConditionType.Complex,operator:this.operator,conditions:[],valueLabel:this.valueLabel,attributeLabel:this.attributeLabel,};for(var i=0;i<this.conditions.length;++i){var f=this.conditions[i];if(f instanceof b){d.conditions.push(f.toJson());}if(f instanceof S.SimpleCondition){d.conditions.push(f.toJson());}}if(this.userDefined){d.userDefined=true;}return d;};return b;}(C.Condition));e.ComplexCondition=b;});})();
