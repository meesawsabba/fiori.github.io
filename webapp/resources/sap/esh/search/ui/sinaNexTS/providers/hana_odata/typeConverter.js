/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["require","exports","../../sina/util","../../sina/AttributeType","../../core/errors"],function(r,e,s,A,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.addLeadingZeros=e.sina2OdataDate=e.odata2SinaDate=e.sina2OdataTime=e.odata2SinaTime=e.sina2OdataTimestamp=e.odata2SinaTimestamp=e.odata2Sina=e.sina2OdataString=e.sina2Odata=void 0;function b(i,v,m){switch(i){case A.AttributeType.Double:return v.toString();case A.AttributeType.Integer:return v.toString();case A.AttributeType.String:return this.sina2OdataString(v,m);case A.AttributeType.ImageUrl:case A.AttributeType.ImageBlob:return v;case A.AttributeType.GeoJson:return v;case A.AttributeType.Date:return this.sina2OdataDate(v);case A.AttributeType.Time:return this.sina2OdataTime(v);case A.AttributeType.Timestamp:return this.sina2OdataTimestamp(v);default:throw new a.UnknownAttributeTypeError("unknown attribute type "+i);}}e.sina2Odata=b;function c(v,i){return s.convertOperator2Wildcards(v,i.operator);}e.sina2OdataString=c;function o(m,v){switch(m){case A.AttributeType.Double:if(!v){return 0.0;}return parseFloat(v);case A.AttributeType.Integer:if(!v){return 0;}return parseInt(v,10);case A.AttributeType.String:if(!v){return"";}if(Array.isArray(v)){var n="";for(var i=0;i<v.length;i++){if(typeof v[i]==="object"){v[i]=JSON.stringify(v[i]);}else{v[i]=v[i].toString();}if(i===0){n=v[i];}else{n=n+"; "+v[i];}}return n;}return v;case A.AttributeType.ImageUrl:case A.AttributeType.ImageBlob:if(!v){return"";}return v;case A.AttributeType.GeoJson:if(!v){return{};}return v;case A.AttributeType.Date:if(!v){return null;}return this.odata2SinaDate(v);case A.AttributeType.Time:if(!v){return null;}return this.odata2SinaTime(v);case A.AttributeType.Timestamp:if(!v){return null;}return this.odata2SinaTimestamp(v);default:throw new a.UnknownAttributeTypeError("unknown attribute type "+m);}}e.odata2Sina=o;function d(v){return new Date(Date.parse(v));}e.odata2SinaTimestamp=d;function f(v){if(typeof v==="string"){if(v.length===0){return"";}if(v==="$$now$$"){v=new Date();}}var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var i=v.getUTCDate();var n=v.getUTCHours();var p=v.getUTCMinutes();var q=v.getUTCSeconds();var t=this.addLeadingZeros(y.toString(),4)+"-"+this.addLeadingZeros(m.toString(),2)+"-"+this.addLeadingZeros(i.toString(),2)+"T"+this.addLeadingZeros(n.toString(),2)+":"+this.addLeadingZeros(p.toString(),2)+":"+this.addLeadingZeros(q.toString(),2)+"Z";return t;}e.sina2OdataTimestamp=f;function g(v){v=v.trim();return v;}e.odata2SinaTime=g;function h(v){return v;}e.sina2OdataTime=h;function j(v){v=v.trim();return v.slice(0,4)+"/"+v.slice(5,7)+"/"+v.slice(8,10);}e.odata2SinaDate=j;function k(v){return v.slice(0,4)+"-"+v.slice(5,7)+"-"+v.slice(8,10);}e.sina2OdataDate=k;function l(v,i){return"00000000000000".slice(0,i-v.length)+v;}e.addLeadingZeros=l;});})();
