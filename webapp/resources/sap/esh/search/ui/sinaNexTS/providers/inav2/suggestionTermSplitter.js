/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["require","exports","../../sina/SuggestionType"],function(r,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.concatenate=e.split=void 0;var a=(function(){function a(p){this.provider=p;this.sina=p.sina;}a.prototype.split=function(t){var b=t.lastIndexOf(" ");if(b<0){return{searchTerm:null,suggestionTerm:t,};}var d=t.slice(0,b);d=d.replace(/\s+$/,"");if(d.length===0){return{searchTerm:null,suggestionTerm:t,};}var f=t.slice(b);f=f.replace(/^\s+/,"");if(f.length===0){return{searchTerm:null,suggestionTerm:t,};}return{searchTerm:d,suggestionTerm:f,};};a.prototype.concatenate=function(b,d){if(!b.searchTerm){return;}var t;var f=[];var g=b.searchTerm.split(" ");for(var k=0;k<g.length;k++){t=g[k];t=t.trim();f.push({term:t,regExp:new RegExp(this.escapeRegExp(t),"i"),});}for(var i=0;i<d.length;++i){var h=d[i];if(h.suggestionType!==S.SuggestionType.SearchTerm&&h.suggestionType!==S.SuggestionType.SearchTermAndDataSource){continue;}var n=[];for(var j=0;j<f.length;++j){var m=f[j];if(!m.regExp.test(h.filter.searchTerm)){n.push(m.term);}}var p=[];var o=n.join(" ");for(var l=0;l<n.length;l++){t=n[l];p.push("<b>"+t+"</b>");}var q=p.join(" ");h.label=q+" "+h.label;h.filter.searchTerm=h.searchTerm=o+" "+h.filter.searchTerm;this.concatenate(b,h.childSuggestions);}};a.prototype.escapeRegExp=function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");};return a;}());function s(p,t){var b=new a(p);return b.split(t);}e.split=s;function c(p,b,d){var f=new a(p);return f.concatenate(b,d);}e.concatenate=c;});})();
