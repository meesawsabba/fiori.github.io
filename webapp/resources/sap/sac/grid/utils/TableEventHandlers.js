/*
 * SAPUI5
  (c) Copyright 2009-2020 SAP SE. All rights reserved
 */
sap.ui.define(["sap/sac/grid/utils/Utilities"],function(U){"use strict";function T(){var t=this;t.onDrillIconClicked=function(p,c){var C=parseInt(p.col);var r=parseInt(p.row);var o=Object.keys(c.gridCells).length&&c.gridCells[r][C];var k=p.row>c.getRowLimit();if(k){c.mergeNewDataWithExisitngData=true;}if(o){c.fireEvent("drill",{cell:o,keepOffset:k});}};t.onCellClicked=function(p,c){var C=parseInt(p.col);var r=parseInt(p.row);var l=p.event.srcElement;var o=Object.keys(c.gridCells).length&&c.gridCells[r][C];if(o&&l){c.fireEvent("rightClick",{cell:o,link:l});}};t.requestMoreRows=function(c,p){var f=c.getFixedRows();var C=c.rowCount-f;var m=c.getVirtualRows();var r=c.getRowLimit();var R=c.getRowHeight();var i=U.isScrollDown(c);var n=(C<m);var e=Math.ceil(p/R);c.rowOffset=c.rowOffset?c.rowOffset:0;c.rowOffsetEnd=c.rowOffsetEnd?c.rowOffsetEnd:r;if(i&&n){if(U.nextBatchDataFetchNeeded(c,p)){c.rowOffsetEnd=c.rowOffsetEnd+r;c.rowOffset=c.rowOffset+r;c.mergeNewDataWithExisitngData=true;c.fireEvent("requestMoreRows",{currentRow:c.rowOffset});}else{U.updateTableData(c);}}else if(e>c.rowOffsetEnd||e<c.rowOffset){r=(e>c.rowOffsetEnd)?(-1*r):r;c.rowOffset=c.rowOffset-r;c.rowOffsetEnd=c.rowOffsetEnd-r;c.mergeNewDataWithExisitngData=true;c.fireEvent("requestMoreRows",{currentRow:c.rowOffset});}else{U.updateTableData(c);}};}return new T();});
