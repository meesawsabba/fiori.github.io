//@ui5-bundle sap/ushell_abap/bootstrap/evo/core-ext-light-1.js
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.controller',["sap/ushell/components/tiles/generic","sap/m/library","sap/ui/thirdparty/jquery","sap/base/Log"],function(g,m,q,L){"use strict";var D=m.DeviationIndicator;var V=m.ValueColor;var S=m.Size;var a=m.LoadState;var F=m.FrameType;var C=g.extend("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,b,u){var f=[],e={},i,t,l;var h;var T=[];var j=this;var k=null;for(i=0;i<d.results.length;i++){var n=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oTileApi.url.addSystemToServiceUrl(this.oConfig.EVALUATION.ODATA_URL),this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];e[t.key]=t.value;}var o=j.oConfig.TILE_PROPERTIES.COLUMN_NAMES||j.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<o.length;i++){var p={};var r=o[i];p.value=Number(n[r.COLUMN_NAME]);var s=Number(n[r.COLUMN_NAME]);var v=false;var w=0;var x=j._getEvaluationThresholdMeasures();var I=x?Array.prototype.indexOf.call(x,r.COLUMN_NAME):-1;if(I>-1){v=true;w=j.oConfig.EVALUATION.SCALING;}if(j.oConfig.EVALUATION.SCALING==-2&&v){s*=100;}var c=j.isCurrencyMeasure(r.COLUMN_NAME);if(u&&u[i]&&n[u[i].name]){k=n[u[i].name];}h=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(s,w,j.oConfig.EVALUATION.SCALING,j.oConfig.EVALUATION.DECIMAL_PRECISION,c,k);if(j.oConfig.EVALUATION.SCALING==-2&&v){h+=" %";}p.displayValue=h.toString();if(u){if(u[i]&&n[u[i].name]){p.displayValue+=" "+n[u[i].name];}}p.color=r.semanticColor;p.title=e[r.COLUMN_NAME]||r.COLUMN_NAME;p.measure=r.COLUMN_NAME;p.isCurM=c;f.push(p);}return f;},fetchChartData:function(r,b,s,E){function c(z,A){var B=false;if(z&&z.results&&z.results.length){for(var i=0,l=A.length;i<l&&!B;i++){B=z.results[0][A[i].COLUMN_NAME]!==null;}}return B;}var t=this;try{var d=this.oConfig.EVALUATION.ODATA_ENTITYSET;var f=this.oConfig.EVALUATION.COLUMN_NAME;var h=f,j;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){h=h+","+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}else{for(j=0;j<this.oConfig.EVALUATION.COLUMN_NAMES.length;j++){if(this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){h=h+","+this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME;}}}var k=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var n=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(n){var o=n.Data&&JSON.parse(n.Data);}}var p=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var u=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,p,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((o&&!o.rightData)||!n||(!u&&t.oTileApi.visible.isVisible())||k||(b&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var w=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,d,h,null,v,3);this.comparisionChartODataRef=w.model.read(w.uri,null,null,true,function(i){t.kpiValueFetchDeferred=true;var l={};if(w.unit){l.unit=w.unit;}if(c(i,t.oConfig.TILE_PROPERTIES.COLUMN_NAMES||t.oConfig.EVALUATION.COLUMN_NAMES)){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,h.split(",")[0],w.unit);l.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;var z={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();z.ChipId=t.oConfig.TILE_PROPERTIES.id;z.Data=JSON.stringify(l);z.CacheMaxAge=Number(t.chipCacheTime);z.CacheMaxAgeUnit=t.chipCacheTimeUnit;z.CacheType=1;var A=t.getLocalCache(z);t.updateDatajobScheduled=false;var B=t.oConfig.TILE_PROPERTIES.id+"data";var G=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(B);if(G){clearTimeout(G);G=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,A);var U=false;if(n){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,z,U,function(i){if(i){t.cacheTime=i&&i.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,i);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){q.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var H=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id),I;if(H){if(!H.CachedTime){H.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}I=H.Data;if(I){I=JSON.parse(I);I.rightData=l;}H.Data=JSON.stringify(I);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,H);}else{I={};I.rightData=l;A.Data=JSON.stringify(I);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,A);}t.cacheWriteData=l;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(i.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){l=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);l.data=i;}else{l.data=i;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,l);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(i){t.kpiValueFetchDeferred=true;if(i&&i.response){L.error(i.message+" : "+i.request.requestUri);E.call(t,i);}});}}else if(n&&n.Data){var x;var y=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(y.indexOf("DT-")==-1){x=n.Data&&JSON.parse(n.Data);}else{x=n.Data&&JSON.parse(n.Data);x=x.rightData;}t.cacheTime=n.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){q.proxy(t.setTimeStamp(t.cacheTime),t);}if(x.data&&x.data.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=x.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE=x.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}}else{t.setNoData();}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==F.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(F.TwoByOne);t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());var c={};c.data=this.CALCULATED_KPI_VALUE;t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(F.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(a.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"COMP");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({value:8888,size:S.Auto,frameType:F.OneByOne,state:a.Loading,valueColor:V.Error,indicator:D.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1.2,color:"Good"},{title:"Measure 2",value:0.78,color:"Good"},{title:"Measure 3",value:1.4,color:"Error"}]});this.oKpiTileView.oGenericTile.setState(a.Loaded);}});return C;});
sap.ui.predefine('sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.view',["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel","sap/m/library"],function(J,o,s,C,a,G,b,M){"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcomparison.ComparisonTile";},createContent:function(){this.setHeight("100%");this.setWidth("100%");var S=M.Size;var t=this;t.oGenericTileData={};t.oCmprsDataTmpl=new C({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oCmprsChrtTmpl=new a({size:S.Responsive,scale:"{/scale}",data:{template:t.oCmprsDataTmpl,path:"/data"}});t.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:t.oCmprsChrtTmpl});t.oGenericTile=new G({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNVConfS]});t.oGenericTileModel=new b();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorcontribution/ContributionTile.controller',["sap/ushell/components/tiles/generic","sap/m/library","sap/ui/thirdparty/jquery","sap/base/Log"],function(g,m,q,L){"use strict";var D=m.DeviationIndicator;var V=m.ValueColor;var S=m.Size;var a=m.LoadState;var F=m.FrameType;var C=g.extend("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,b,f,u){var s=this.oConfig.TILE_PROPERTIES.semanticColorContribution;var h=[];var t;var j;for(var i=0;i<d.results.length;i++){var k=d.results[i];var l={};try{l.title=k[f].toString();}catch(e){l.title="";}l.value=Number(k[b]);var n=Number(k[b]);if(this.oConfig.EVALUATION.SCALING==-2){n*=100;}var c=this.isCurrencyMeasure(b);j=k[u];t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(n,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,j);l.displayValue=t.toString();if(typeof s==="undefined"){l.color="Neutral";}else{l.color=s;}if(l&&u){l[u]=j;}h.push(l);}return h;},fetchChartData:function(r,i,s,E){var t=this;try{var b=this.oConfig.EVALUATION.ODATA_ENTITYSET,c;t.setThresholdValues();if(this.oConfig.TILE_PROPERTIES.semanticMeasure){c=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{c=this.oConfig.EVALUATION.COLUMN_NAME;}var u=null;var d=this.oConfig.TILE_PROPERTIES.dimension;var f=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(h){var j=h.Data&&JSON.parse(h.Data);}}var k=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var l=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,k,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((j&&!j.rightData)||!h||(!l&&t.oTileApi.visible.isVisible())||f||(i&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=c+",asc";o["1"]=c+",desc";o["2"]=d+",asc";o["3"]=d+",desc";var n=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var p=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,b,c,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){p.uri+="&$top=3&$orderby="+n[0]+" "+n[2];}else{p.uri+="&$top=3&$orderby="+n[0]+" "+n[1];}this.comparisionChartODataRef=p.model.read(p.uri,null,null,true,function(y){t.kpiValueFetchDeferred=true;var z={};if(y&&y.results&&y.results.length){if(p.unit[0]){t._updateTileModel({unit:y.results[0][p.unit[0].name]});u=p.unit[0].name;z.unit=p.unit[0];z.unit.name=p.unit[0].name;}d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oRunTimeODataModel,b,d);z.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=y;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,c.split(",")[0],d,u);z.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;z.isCurM=t.isACurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var A={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();A.ChipId=t.oConfig.TILE_PROPERTIES.id;A.Data=JSON.stringify(z);A.CacheMaxAge=Number(t.chipCacheTime);A.CacheMaxAgeUnit=t.chipCacheTimeUnit;A.CacheType=1;var B=t.getLocalCache(A);t.updateDatajobScheduled=false;var G=t.oConfig.TILE_PROPERTIES.id+"data";var H=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(G);if(H){clearTimeout(H);H=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,B);var U=false;if(h){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,A,U,function(y){if(y){t.cacheTime=y&&y.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){q.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var I=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id),J;if(I){if(!I.CachedTime){I.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}J=I.Data;if(J){J=JSON.parse(J);if(t.oKpiTileView.getViewName()=="tiles.indicatornumeric.NumericTile"){J.leftData=z;}else{J.rightData=z;}}I.Data=JSON.stringify(J);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,I);}else{J={};J.rightData=z;B.Data=JSON.stringify(J);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,B);}t.cacheWriteData=z;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(y.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=y;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){z=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);z.data=y;}else{z.data=y;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,z);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(y){t.kpiValueFetchDeferred=true;if(y&&y.response){L.error(y.message+" : "+y.request.requestUri);E.call(t,y);}});}}else if(h&&h.Data){var w;var x=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(x.indexOf("DT-")==-1){w=h.Data&&JSON.parse(h.Data);}else{w=h.Data&&JSON.parse(h.Data);w=w.rightData;}t.cacheTime=h.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){q.proxy(t.setTimeStamp(t.cacheTime),t);}if(w.data&&w.data.length){if(w.unit){t._updateTileModel({unit:w.data[0][w.unit.name]});}d=w.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=w.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(w&&w.data&&w.data instanceof Array&&w.data.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=w.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{t.setNoData();}}else{t.setNoData();}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==F.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(F.TwoByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(F.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(a.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"CONT");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;t.setTextInTile();t._updateTileModel({value:8888,size:S.Auto,frameType:F.OneByOne,state:a.Loading,valueColor:V.Error,indicator:D.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral"},{title:"EMEA",value:50,color:"Neutral"},{title:"APAC",value:-20,color:"Neutral"}]});this.oKpiTileView.oGenericTile.setState(a.Loaded);}});return C;});
sap.ui.predefine('sap/ushell/components/tiles/indicatorcontribution/ContributionTile.view',["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel","sap/m/library"],function(J,o,s,C,a,G,b,M){"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcontribution.ContributionTile";},createContent:function(){this.setHeight("100%");this.setWidth("100%");var S=M.Size;var t=this;t.oGenericTileData={};t.oCmprsDataTmpl=new C({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oCmprsChrtTmpl=new a({size:S.Responsive,scale:"{/scale}",data:{template:t.oCmprsDataTmpl,path:"/data"}});t.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:t.oCmprsChrtTmpl});t.oGenericTile=new G({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNVConfS]});t.oGenericTileModel=new b();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatordeviation/DeviationTile.controller',["sap/ushell/components/tiles/generic","sap/m/library"],function(g,m){"use strict";var V=m.ValueColor;var L=m.LoadState;var F=m.FrameType;var D=g.extend("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;var f,b;f=t.targetValue;var d=Number(k);this.setThresholdValues();if(this.oConfig.EVALUATION.SCALING==-2){d*=100;}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);b=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(d),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);this.CALCULATED_KPI_VALUE=Number(k);var e={};var h=this.getThresholdsObjAndColor(t).returnColor;var i={value:Number(k),color:h};e.actualValueLabel=b.toString();e.actual=i;e.thresholds=[];e.thresholds=this.getThresholdsObjAndColor(t).arrObj;var j=this.DEFINITION_DATA.EVALUATION_VALUES,l;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){l=Number(f);if(this.oConfig.EVALUATION.SCALING==-2){l*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(l,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);e.targetValue=Number(l);e.targetValueLabel=f.toString();}else{for(var n=0;n<j.length;n++){if(j[n].TYPE==="TA"){l=Number(f);if(this.oConfig.EVALUATION.SCALING==-2){l*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(l,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);e.targetValue=Number(l);e.targetValueLabel=f.toString();}}}if(this.oConfig.EVALUATION.SCALING==-2){e.scale="%";}this._updateTileModel(e);if(this.DEFINITION_DATA.TILE_PROPERTIES.frameType==F.TwoByOne){a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+"defferedRight",false);}else{this.oKpiTileView.oGenericTile.setState(L.Loaded);}this.setToolTip(h,d,"DT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}}},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=V.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==="MI"){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:V.Error});T.arrObj.push({value:b,color:V.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=V.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=V.Critical;}else{T.returnColor=V.Error;}}}else if(i==="MA"){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:V.Error});T.arrObj.push({value:w,color:V.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=V.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=V.Critical;}else{T.returnColor=V.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:V.Error});T.arrObj.push({value:b,color:V.Critical});T.arrObj.push({value:w,color:V.Critical});T.arrObj.push({value:c,color:V.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=V.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=V.Critical;}else{T.returnColor=V.Good;}}}return T;}catch(e){this.logError(e);}},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({actual:{value:120,color:V.Good},targetValue:100,thresholds:[{value:0,color:V.Error},{value:50,color:V.Critical},{value:150,color:V.Critical},{value:200,color:V.Error}],showActualValue:true,showTargetValue:true});this.oKpiTileView.oGenericTile.setState(L.Loaded);}});return D;});
sap.ui.predefine('sap/ushell/components/tiles/indicatordeviation/DeviationTile.view',["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],function(J,o,s,M,B,a,G,b){"use strict";var S=M.Size;var L=M.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatordeviation.DeviationTile";},createContent:function(){this.setHeight("100%");this.setWidth("100%");var h="Lorem ipsum";var c="Lorem ipsum";var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;c=t.subTitle;}var d={subheader:c,header:h,footerNum:"",footerComp:"",frameType:"OneByOne",state:L.Loading,scale:""};var e=new B({value:"{value}",color:"{color}"});this.oBCTmpl=new a({size:S.Responsive,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:e,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oBCTmpl});this.oGenericTile=new G({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});var g=new b();g.setData(d);this.oGenericTile.setModel(g);return this.oGenericTile;}});},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatornumeric/NumericTile.controller',["sap/ushell/components/tiles/generic","sap/m/library"],function(g,m){"use strict";var D=m.DeviationIndicator;var V=m.ValueColor;var L=m.LoadState;var F=m.FrameType;var N=g.extend("sap.ushell.components.tiles.indicatornumeric.NumericTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;this.CALCULATED_KPI_VALUE=k;var b=this.getTrendColor(t);var d=this.getTrendIndicator(t.trendValue);var s="";var e=this.CALCULATED_KPI_VALUE;if(this.oConfig.EVALUATION.SCALING==-2){e*=100;this.getView().oNVConfContS.setFormatterValue(false);}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(e),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);if(this.oConfig.EVALUATION.SCALING==-2){this._updateTileModel({scale:"%"});}this._updateTileModel({value:s.toString(),valueColor:b,indicator:d});if(a.oConfig.TILE_PROPERTIES.frameType==F.OneByOne){this.oKpiTileView.oGenericTile.setState(L.Loaded);this.setToolTip(b,e,"NT");}else{a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+"defferedLeft",false);}this.setToolTip(b,e,"NT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,a.oTileApi.visible.isVisible());}}},doDummyProcess:function(){var t=this;this.setTextInTile();if(!(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile)){t._updateTileModel({value:"10.34",scale:"M",valueColor:V.Neutral,indicator:D.None});}else{this.oKpiTileView.oNVConfContS.setIcon("sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts");}this.oKpiTileView.oGenericTile.setState(L.Loaded);}});return N;});
sap.ui.predefine('sap/ushell/components/tiles/indicatornumeric/NumericTile.view',["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/m/NumericContent","sap/m/GenericTile","sap/ui/model/json/JSONModel"],function(J,o,s,m,N,G,a){"use strict";var D=m.DeviationIndicator;var V=m.ValueColor;var L=m.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatornumeric.NumericTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatornumeric.NumericTile";},createContent:function(){var h="Lorem ipsum";var b="Lorem ipsum";var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;b=t.subTitle;}var g={subheader:b,header:h,footerNum:"",footerComp:"",scale:"",unit:"",value:"",size:"Auto",frameType:"OneByOne",state:L.Loading,valueColor:V.Neutral,indicator:D.None,title:"",footer:"",description:""};this.oNVConfContS=new N({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",valueColor:"{/valueColor}",size:"{/size}",formatterValue:true,truncateValueTo:5,nullifyValue:false});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new G({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});var c=new a();c.setData(g);this.oGenericTile.setModel(c);return this.oGenericTile;}});},true);
sap.ui.predefine('sap/ushell/components/tiles/sbtilecontent',["sap/m/TileContent","sap/m/TileContentRenderer","sap/ui/core/Control"],function(T,R,C){"use strict";var t=C.extend("numeric.TileContent_Timestamp",{ontap:function(e){if(this.getParent().getRefreshOption()){e.preventDefault();e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}this.getParent().fireRefresh();}},renderer:function(r,c){r.write("<div");r.writeElementData(c);r.addClass("sapMTileCntFtrTxt");if(c.getParent().getRefreshOption()){r.addClass("sapMLnk");}r.writeClasses();r.addStyle("position","absolute");r.addStyle("z-index","2");r.addStyle(r.getConfiguration().getRTL()?"left":"right","auto");r.writeStyles();r.write(">");var a=c.getParent().getTimestamp();if(a){if(!c.getParent().getRefreshOption()){r.writeEscaped(a);}else if(r.getConfiguration().getRTL()){r.writeEscaped(a+"\u2009");r.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");}else{r.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");r.writeEscaped("\u2009"+a);}}r.write("</div>");}});return T.extend("sap.ushell.components.tiles.sbtilecontent",{metadata:{properties:{timestamp:{type:"string"},refreshOption:{type:"boolean"}},events:{refresh:{}}},init:function(){this.addDependent(this._oTimestamp=new t());},getAltText:function(){var a=T.prototype.getAltText.apply(this,arguments);if(this.getTimestamp()){a+=(a===""?"":"\n")+this.getTimestamp();}return a;},renderer:{_renderFooter:function(r,c){R._renderFooter.apply(this,arguments);r.renderControl(c._oTimestamp);}}});},true);
sap.ui.predefine('sap/ushell/components/visualizationOrganizer/Component',["sap/m/library","sap/m/GroupHeaderListItem","sap/ushell/library","sap/ui/core/UIComponent","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/m/MessageBox"],function(m,G,u,U,F,c,J,L,C,r,M){"use strict";var B=m.ButtonType;return U.extend("sap.ushell.components.visualizationOrganizer.Component",{metadata:{version:"1.96.0",library:"sap.ushell",dependencies:{libs:["sap.m"]},properties:{pressed:{type:"boolean",group:"Misc",defaultValue:false}}},init:function(){U.prototype.init.apply(this,arguments);this.aPersonalizablePages=[];this.mVizIdInPages=new Map();this.stVizIdInSection=new Set();},requestData:function(){var o=!C.last("/core/shell/enablePersonalization")&&C.last("/core/spaces/myHome/enabled");var s=C.last("/core/spaces/myHome/myHomePageId");return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(a){return a.getAllPages();}).then(function(p){if(o){p=p.filter(function(P){return P.identification.id===s;});}this.aPersonalizablePages=p.map(function(P){return{id:P.identification.id,title:P.identification.title};});this._fillVizIdMaps(p);return this.aPersonalizablePages;}.bind(this));},_fillVizIdMaps:function(p){this.mVizIdInPages=new Map();p.forEach(function(P){Object.keys(P.payload.sections).forEach(function(i){Object.keys(P.payload.sections[i].viz).forEach(function(I){var v=P.payload.sections[i].viz[I].vizId;if(this.mVizIdInPages.has(v)){this.mVizIdInPages.get(v).add(P.identification.id);}else{this.mVizIdInPages.set(v,new Set([P.identification.id]));}}.bind(this));}.bind(this));}.bind(this));},isVizIdPresent:function(v,s){if(s){return this.stVizIdInSection.has(v);}var a=this.mVizIdInPages.get(v);return!!(a&&a.size);},formatPinButtonIcon:function(v,s){return(this.isVizIdPresent(decodeURIComponent(v),s)?"sap-icon://accept":"sap-icon://add");},formatPinButtonType:function(v,s){return(this.isVizIdPresent(decodeURIComponent(v),s)?B.Emphasized:B.Default);},formatPinButtonTooltip:function(v,s){var i=this.isVizIdPresent(decodeURIComponent(v),!!s),t,S;if(s){S=s.sectionTitle;if(i){t="VisualizationOrganizer.Button.Tooltip.RemoveFromSection";}else{t="VisualizationOrganizer.Button.Tooltip.AddToSection";}}else if(i){t="EasyAccessMenu_PinButton_Toggled_Tooltip";}else{t="EasyAccessMenu_PinButton_UnToggled_Tooltip";}return r.i18n.getText(t,S);},onTilePinButtonClick:function(e,s){var S=e.getSource();var t=S.getBindingContext().getProperty();if(S.getBusy()){return Promise.resolve();}if(s){S.setBusy(true);return this._applyOrganizationChangeToSection(S,t,s).then(function(){S.setBusy(false);});}if(this.aPersonalizablePages.length===1){S.setBusy(true);return this._applyChangeToPage(S,t,this.aPersonalizablePages[0]).then(function(){S.setBusy(false);});}return this.toggle(S,t);},open:function(o,v){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover"),l=Promise.resolve();if(!p){l=new Promise(function(a,b){sap.ui.require(["sap/ui/core/Fragment"],function(d){d.load({name:"sap.ushell.components.visualizationOrganizer.VisualizationOrganizerPopover",type:"XML",controller:this}).then(a).catch(b);}.bind(this));}.bind(this)).then(function(a){p=a;p.setModel(new J({pages:[],searchTerm:""}));p.setModel(r.i18nModel,"i18n");});}return l.then(function(){this.oOpenBy=o;this.sVisualizationId=decodeURIComponent(v.id);this.sVisualizationTitle=v.title;this.oVizInfo=v;this.fnResetPopup=this._resetPopup.bind(this);p.attachAfterClose(this.fnResetPopup);return Promise.all([sap.ushell.Container.getServiceAsync("Menu"),sap.ushell.Container.getServiceAsync("CommonDataModel"),sap.ushell.Container.getServiceAsync("Pages")]).then(function(R){var P;if(v.isBookmark){P=R[2]._findBookmarks({url:v.url}).then(function(a){var b=a.map(function(f){return f.pageId;});return Promise.resolve(new Set(b));});}else{P=this.mVizIdInPages.get(this.sVisualizationId);}return Promise.all([R[0].getSpacesPagesHierarchy(),R[1].getAllPages(),P]);}.bind(this)).then(function(R){var s=R[0].spaces,a=R[1],P=R[2],b={};a.forEach(function(g){b[g.identification.id]=g.identification.title;});var O=!C.last("/core/shell/enablePersonalization")&&C.last("/core/spaces/myHome/enabled");var d=C.last("/core/spaces/myHome/myHomeSpaceId");var e=[];s.forEach(function(g){if(O&&g.id!==d){return;}g.pages.forEach(function(h){var i=b[h.id];if(!i){return;}e.push({id:h.id,title:b[h.id],space:g.title,spaceId:g.id,selected:P&&P.has(h.id)});});});var f=p.getModel();f.setProperty("/pages",e);f.setProperty("/pinnedPages",P);this._updatePagesList();p.openBy(o);}.bind(this));}.bind(this));},cancel:function(){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover"),o=this._retrieveChangedPageIds();if(p&&o.deleteFromPageIds.length===0&&o.addToPageIds.length===0){p.close();}else{M.show(r.i18n.getText("VisualizationOrganizer.MessageBox.Description"),{id:"sapUshellVisualizationOrganizerDiscardDialog",title:r.i18n.getText("VisualizationOrganizer.MessageBox.Title"),actions:[r.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),M.Action.CANCEL],emphasizedAction:r.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),onClose:function(a){if(a===r.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard")){p.close();}}});}},toggle:function(o,v){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover");if(p&&p.isOpen()&&p._oOpenBy&&p._oOpenBy.getId()===o.getId()){this.cancel();return Promise.resolve();}return this.open(o,v);},_applyOrganizationChangeToSection:function(o,v,s){var V=decodeURIComponent(v.id),d=v.title,p=s.pageID,S=s.sectionID,P=sap.ushell.Container.getService("Pages"),e,f;if(this.stVizIdInSection.has(V)){f=r.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[d||V,s.sectionTitle,s.pageTitle]);e=P.findVisualization(p,S,V).then(function(g){if(g.length===0){return Promise.resolve();}var h=g[0],i=P.getPageIndex(p),j=h.sectionIndex,k;var l=h.vizIndexes.sort(function(a,b){return b-a;});l.forEach(function(a){if(!k){k=P.deleteVisualization(i,j,a);}else{k=k.then(function(){return P.deleteVisualization(i,j,a);});}});return k;}).then(function(){this.stVizIdInSection.delete(V);}.bind(this));}else{f=r.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[d||V,s.sectionTitle,s.pageTitle]);e=P.addVisualization(p,S,V).then(function(){this.stVizIdInSection.add(V);}.bind(this));}return e.then(function(){o.getBinding("icon").refresh(true);o.getBinding("type").refresh(true);o.getBinding("tooltip").refresh(true);sap.ui.require(["sap/m/MessageToast"],function(a){a.show(f,{offset:"0 -50"});});});},_organizeVisualizations:function(){var o=this._retrieveChangedPageIds();if(this.oVizInfo.isBookmark){return this._applyBookmarkOrganizationChange(o,true);}return this._applyOrganizationChange(o,true);},_applyOrganizationChange:function(v,s){var i=(v.addToPageIds.length+v.deleteFromPageIds.length);if(!i){return Promise.resolve();}var V=this.sVisualizationId;var o=this.oOpenBy;var a=new Set();var p;var b=sap.ushell.Container.getServiceAsync("Pages").then(function(P){p=P;});v.deleteFromPageIds.forEach(function(P){if(!a.has(P)){a.add(P);b=b.then(function(){return p.findVisualization(P,null,V).then(function(d){var e=[],f,g,h;for(var n=d.length-1;n>=0;n--){g=d[n];f=p.getPageIndex(g.pageId);for(var N=g.vizIndexes.length-1;N>=0;N--){h=g.vizIndexes[N];e.push(p.deleteVisualization(f,g.sectionIndex,h));}}return Promise.all(e);});});}this.mVizIdInPages.get(V).delete(P);}.bind(this));v.addToPageIds.forEach(function(P){b=b.then(function(){return p.addVisualization(P,null,V);});if(this.mVizIdInPages.has(V)){this.mVizIdInPages.get(V).add(P);}else{this.mVizIdInPages.set(V,new Set([P]));}}.bind(this));return b.then(function(){if(o){o.getBinding("icon").refresh(true);o.getBinding("type").refresh(true);o.getBinding("tooltip").refresh(true);}if(s){sap.ui.require(["sap/m/MessageToast"],function(d){d.show(r.i18n.getText("VisualizationOrganizer.MessageToast"));});}});},_resetPopup:function(e){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover"),P=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSpacesList"),s=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSearch"),t=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSelectedPages");p.detachAfterClose(this.fnResetPopup);s.setValue("");t.setType(B.Default);P.getBinding("items").filter(null);P.removeSelections();delete this.fnResetPopup;delete this.sVisualizationId;delete this.sVisualizationTitle;},pagePressed:function(e){this._changeSelectionForAllPagesWithTheSamePageId(e.getSource());},onSelectionChange:function(e){var s=e.getParameter("listItem"),S=e.getParameter("selected");this._changeSelectionForAllPagesWithTheSamePageId(s,S);},_changeSelectionForAllPagesWithTheSamePageId:function(i,s){var o=i.getModel(),a=i.getBindingContext(),I=a.getProperty("id"),S=(s!==undefined)?s:!a.getProperty("selected");var p=o.getProperty("/pages");for(var b=0;b<p.length;b++){var P=p[b];if(P.id===I){P.selected=S;}}o.setProperty("/pages",p);},_onSearch:function(e){var s=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSelectedPages");var p=this.getPressed();if(e.sId==="press"){p=!p;this.setPressed(p);s.setPressed(p);}this._updatePagesList();},_updatePagesList:function(){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSpacesList");var s=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSearch");var b=p.getBinding("items");var S=s.getValue();var t=this.getPressed();if(t){b.filter(new F({filters:[new F({filters:[new F({path:"title",operator:c.Contains,value1:S}),new F({path:"selected",operator:c.EQ,value1:t})],and:true}),new F({filters:[new F({path:"space",operator:c.Contains,value1:S}),new F({path:"selected",operator:c.EQ,value1:t})],and:true})],and:false}));}else{b.filter(new F({filters:[new F({path:"title",operator:c.Contains,value1:S}),new F({path:"space",operator:c.Contains,value1:S})],and:false}));}if(b.getLength()===0){p.setNoDataText(r.i18n.getText(S?"VisualizationOrganizer.PagesList.NoResultsText":"VisualizationOrganizer.PagesList.NoDataText"));}},loadSectionContext:function(o){this.stVizIdInSection.clear();if(!o||!o.pageID||!o.sectionID){return Promise.resolve(null);}return sap.ushell.Container.getServiceAsync("Pages").then(function(p){var P=decodeURIComponent(o.pageID),s=decodeURIComponent(o.sectionID);return p.loadPage(P).then(function(a){var b=p.getModel().getProperty(a),S,d;for(var i=0;i<b.sections.length;i++){if(b.sections[i].id===s){S=b.sections[i];break;}}if(!S){return Promise.resolve(null);}S.visualizations.forEach(function(v){this.stVizIdInSection.add(v.vizId);}.bind(this));d={pageID:P,sectionID:s,pageTitle:b.title,sectionTitle:S.title};return Promise.resolve(d);}.bind(this)).catch(function(){L.warning(P+" cannot be loaded. Please, check the id of the page.");return Promise.resolve(null);});}.bind(this));},getPersonalizablePages:function(){return this.aPersonalizablePages;},_retrieveChangedPageIds:function(){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSpacesList"),s=sap.ui.getCore().byId("sapUshellVisualizationOrganizerSearch"),P=p.getModel(),a=P.getProperty("/pinnedPages")||new Set();p.getBinding("items").filter(null);var i=p.getItems().filter(function(I){return I.isA("sap.m.StandardListItem");});s.fireSearch();var A={},b=[],d=[];i.forEach(function(I){var e=I.getBindingContext().getProperty("id");if(!A[e]){A[e]=true;if(I.getSelected()&&!a.has(e)){b.push(e);}else if(!I.getSelected()&&a.has(e)){d.push(e);}}});return{addToPageIds:b,deleteFromPageIds:d};},okay:function(){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover");if(p.getBusy()){return;}p.setBusy(true);this._organizeVisualizations().then(function(){p.setBusy(false);p.close();}).catch(function(){L.error("Could not save the selected pages on the VisualizationOrganizerPopover");});},onHierarchyAppsPinButtonClick:function(e,s){var S=e.getSource();var a=S.getParent().getBinding("title").getContext().getObject();if(S.getBusy()){return Promise.resolve(false);}a.isBookmark=true;a.title=a.text;if(s){S.setBusy(true);return this._applyBookmarkTileChangeToSection(a,s).then(function(){S.setBusy(false);return Promise.resolve(true);});}if(this.aPersonalizablePages.length===1){S.setBusy(true);return this._applyChangeToPage(S,a,this.aPersonalizablePages[0]).then(function(){S.setBusy(false);return Promise.resolve(true);});}return new Promise(function(R){this.toggle(S,a).then(function(){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover");if(p&&p.isOpen()){p.attachEventOnce("afterClose",function(){R(true);});}else{R(false);}});}.bind(this));},_applyBookmarkOrganizationChange:function(v,s){var i=(v.addToPageIds.length+v.deleteFromPageIds.length);if(!i){return Promise.resolve();}var V=this.oVizInfo;var a=new Set();var b,p;var o=Promise.all([sap.ushell.Container.getServiceAsync("Bookmark"),sap.ushell.Container.getServiceAsync("Pages")]).then(function(S){b=S[0];p=S[1];return Promise.resolve();});v.deleteFromPageIds.forEach(function(P){if(!a.has(P)){a.add(P);o=o.then(function(){return p.deleteBookmarks({url:V.url},P);});}});v.addToPageIds.forEach(function(P){o=o.then(function(){return new Promise(function(R,f){var d={url:V.url,title:V.text,subtitle:V.subtitle,icon:V.icon};var e={type:u.ContentNodeType.Page,id:P,isContainer:true};b.addBookmark(d,e).done(R).fail(f);});});});return o.then(function(){if(s){sap.ui.require(["sap/m/MessageToast"],function(d){d.show(r.i18n.getText("VisualizationOrganizer.MessageToast"));});}});},_applyBookmarkTileChangeToSection:function(v,s){var a=v.url,V=v.title,p=s.pageID,S=s.sectionID,P=sap.ushell.Container.getService("Pages"),o,b;if(v.bookmarkCount>0){b=r.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[V,s.sectionTitle,s.pageTitle]);o=P.deleteBookmarks({url:a},p,S);}else{var d={url:a,title:v.text,subtitle:v.subtitle,icon:v.icon};b=r.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[V,s.sectionTitle,s.pageTitle]);o=P.addBookmarkToPage(p,d,S);}return o.then(function(){sap.ui.require(["sap/m/MessageToast"],function(e){e.show(b,{offset:"0 -50"});});});},updateBookmarkCount:function(a,s){return sap.ushell.Container.getServiceAsync("Pages").then(function(P){var b=a.map(function(A){return P._findBookmarks({url:A.url}).then(function(f){if(s){f=f.filter(function(o){return s.pageID===o.pageId&&s.sectionID===o.sectionId;});}A.bookmarkCount=f.length;return A;});});return Promise.all(b);});},formatBookmarkPinButtonTooltip:function(b,s){var t,S;if(s){S=s.sectionTitle;if(b>0){t="VisualizationOrganizer.Button.Tooltip.RemoveFromSection";}else{t="VisualizationOrganizer.Button.Tooltip.AddToSection";}}else if(b>0){t="EasyAccessMenu_PinButton_Toggled_Tooltip";}else{t="EasyAccessMenu_PinButton_UnToggled_Tooltip";}return r.i18n.getText(t,S);},_applyChangeToPage:function(o,v,p){var V=decodeURIComponent(v.id);var s=v.title;var P=p.id;var i=v.isBookmark?v.bookmarkCount>0:this.isVizIdPresent(V);var a={addToPageIds:i?[]:[P],deleteFromPageIds:i?[P]:[]};var b=r.i18n.getText(i?"VisualizationOrganizer.MessageToastPageRemove":"VisualizationOrganizer.MessageToastPageAdd",[s||V,p.title]);this.oVizInfo=v;this.sVisualizationId=V;var d;if(v.isBookmark){d=this._applyBookmarkOrganizationChange(a,false);}else{d=this._applyOrganizationChange(a,false);}return d.then(function(){o.getBinding("icon").refresh(true);o.getBinding("type").refresh(true);o.getBinding("tooltip").refresh(true);sap.ui.require(["sap/m/MessageToast"],function(e){e.show(b,{offset:"0 -50"});});});},groupBySpace:function(b){return{key:b.getProperty("spaceId"),title:b.getProperty("space")};},getGroupHeader:function(s){return new G({title:s.title});},exit:function(){var p=sap.ui.getCore().byId("sapUshellVisualizationOrganizerPopover");if(p){p.destroy();}}});});
sap.ui.predefine('sap/ushell/designtime/ApplicationContainer.designtime',[],function(){"use strict";return{aggregations:{child:{}}};});
sap.ui.predefine('sap/ushell/functionBindPrototype',["sap/base/Log"],function(L){"use strict";L.error("The application uses an obsolete sap.ushell.functionBindPrototype module.","The reference to this module has to be removed.");},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/allMyApps/AllMyApps.controller',["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager","sap/ushell/Config","sap/ui/Device","sap/ui/performance/Measurement","sap/ui/model/json/JSONModel","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/m/library","sap/m/StandardListItem","sap/ushell/renderers/fiori2/allMyApps/AllMyAppsKeyboardHandler"],function(l,C,A,a,D,M,J,r,W,b,m,S,K){"use strict";var L=m.ListType;var s=false;var c=l.AllMyAppsState;var d=l.AppTitleState;return C.extend("sap.ushell.renderers.fiori2.allMyApps.AllMyApps",{iNumberOfProviders:0,onInit:function(){sap.ushell.Container.getServiceAsync("AllMyApps");this.bFirstLoadOfAllMyApps=true;var o=new J(),v=this.getView(),e=sap.ui.getCore().getEventBus();o.setSizeLimit(10000);o.setProperty("/AppsData",[]);o.setProperty("/catalogEnabled",a.last("/core/catalog/enabled"));v.setModel(r.getTranslationModel(),"i18n");v.setModel(o,"allMyAppsModel");e.subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext,this);e.subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);e.subscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);e.subscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this);},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext);e.unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);e.unsubscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);e.unsubscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this);},onAfterRendering:function(){var t=this,v=this.getView(),o=v.getModel("allMyAppsModel"),e=this._getSplitApp(),f=v.byId("sapUshellAllMyAppsMasterPage"),g=v.byId("sapUshellAllMyAppsDetailsPage");if(!this.bAfterInitialLoading){if(f){f.setBusy(true);}if(g){g.setBusy(true);}e.toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");if(!D.system.phone){e.toDetail("sapUshellAllMyAppsDetailsPage","show");}}if(this.bFirstLoadOfAllMyApps){o.setProperty("/AppsData",[]);}else{var h=o.getProperty("/AppsData");o.setProperty("/AppsData",h);}setTimeout(function(){t._getAllMyAppsManager().loadAppsData(o,t._getPopoverObject(),t.bFirstLoadOfAllMyApps);s=t._isSingleDataSource();t.switchToInitialState();t.bFirstLoadOfAllMyApps=false;},0);},switchToInitialState:function(){var o=this._getDataSourceList();if(this._isSingleDataSource()){a.emit("/core/shell/model/allMyAppsMasterLevel",c.FirstLevelSpread);o.bindItems("allMyAppsModel>/AppsData/0/groups",this._getMasterListItemTemplate);}else{a.emit("/core/shell/model/allMyAppsMasterLevel",c.FirstLevel);o.bindItems("allMyAppsModel>/AppsData",this._getMasterListItemTemplate());}if(D.system.phone){this._getSplitApp().toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");}o.rerender();this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:true});this._getPopoverHeaderLabel().setText(r.i18n.getText("allMyApps_headerTitle"));this.updateHeaderButtonsState();},handleSwitchToMasterAreaOnPhone:function(){var e=this._getDataSourcesSelectedPath(),p=e.split("/");this._getSplitApp().toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");if(this._isSingleDataSource()){a.emit("/core/shell/model/allMyAppsMasterLevel",c.FirstLevelSpread);}else if(p.length===3){a.emit("/core/shell/model/allMyAppsMasterLevel",c.FirstLevel);}else{a.emit("/core/shell/model/allMyAppsMasterLevel",c.SecondLevel);}this.updateHeaderButtonsState();},handleMasterListItemPress:function(e){var f=this._getClickedDataSourceItemPath(e),v=this.getView(),o=v.getModel("allMyAppsModel"),g=o.getProperty(f+"/type"),h=a.last("/core/shell/model/allMyAppsMasterLevel"),i=(g===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG),j=this._getCustomPanel(),k=this._getCustomPanelLabel(),n=this._getCustomPanelLink(),B;this.lastPressedMasterItem=e.getParameter("listItem");if(i||(h===c.FirstLevelSpread)||(h===c.SecondLevel)){B=this.handleMasterListItemPressToDetails(e);}else{B=this.handleMasterListItemPressToSecondLevel(e);}j.setBindingContext(B,"allMyAppsModel");k.setBindingContext(B,"allMyAppsModel");if(n&&n.getVisible&&n.getVisible()){n.setBindingContext(B,"allMyAppsModel");}},handleMasterListItemPressToSecondLevel:function(o){var e=this._getClickedDataSourceItemPath(o),v=this.getView(),f=v.getModel("allMyAppsModel"),g=f.getProperty(e+"/type"),h=f.getProperty(e+"/title"),i=this._getSplitApp(),j=this._getDataSourceList(),B,k;if(!D.system.phone){i.toDetail(this.createId("sapUshellAllMyAppsDetailsPage"));}j.bindItems("allMyAppsModel>"+e+"/groups",this._getMasterListItemTemplate());a.emit("/core/shell/model/allMyAppsMasterLevel",c.SecondLevel);B=this._setBindingContext(e+"/groups/0",v.byId("oItemsContainerlist"));j.rerender();j.setSelectedItem(j.getItems()[0]);k=j.getSelectedItem();if(k){k.focus();}if(g===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().HOME){this._getPopoverHeaderLabel().setText(r.i18n.getText("allMyApps_homeEntryTitle"));}else if(g===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().EXTERNAL){this._getPopoverHeaderLabel().setText(h);}this._getDetailsHeaderLabel().setText(f.getProperty(e+"/groups/0/title"));this.updateHeaderButtonsState();return B;},handleMasterListItemPressToDetails:function(e){var f=this._getClickedDataSourceItemPath(e),v=this.getView(),o=v.getModel("allMyAppsModel"),B=this._setBindingContext(f,v.byId("oItemsContainerlist"));this._getDetailsHeaderLabel().setText(o.getProperty(f+"/title"));if(D.system.phone){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"));a.emit("/core/shell/model/allMyAppsMasterLevel",c.Details);}this.updateHeaderButtonsState();return B;},onMasterLoad:function(){var v=this.getView(),B=this._getPopoverHeaderBackButton();this.bAfterInitialLoading=true;v.byId("sapUshellAllMyAppsMasterPage").setBusy(false);B.focus();s=this._isSingleDataSource();this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:false});},onDetailLoad:function(){var v=this.getView(),o=v.byId("sapUshellAllMyAppsDetailsPage");o.setBusy(false);this.bAfterInitialLoading=true;if(!D.system.phone){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"),"show");}},onNoCatalogsLoaded:function(){var v=this.getView(),o=v.byId("sapUshellAllMyAppsDetailsPage");o.setBusy(false);this.bAfterInitialLoading=true;if((!D.system.phone)&&(!s)){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsEmptyDetailsPage"),"show");}else if((!D.system.phone)&&s){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"));}},updateMasterFocusAndDetailsContext:function(e,E,o){var v=this.getView(),f=v.getModel("allMyAppsModel"),F=this._getInitialFirstLevelSelectionIndex(),g=this._getDataSourceList(),h=this._getCustomPanelLabel(),i=this._getCustomPanelLink(),B,j,k;if(s===true){B=f.createBindingContext("/AppsData/0/groups/0");j=f.getProperty(B.getPath());}else{B=f.createBindingContext("/AppsData/"+F);j=f.getProperty(B.getPath());}v.byId("oItemsContainerlist").setBindingContext(B,"allMyAppsModel");h.setBindingContext(B,"allMyAppsModel");v.byId("sapUshellAllMyAppsCustomPanel").setBindingContext(B,"allMyAppsModel");if(i.getVisible()){i.setBindingContext(B,"allMyAppsModel");}if(j!==undefined){this._getDetailsHeaderLabel().setText(j.title);}if(o.bFirstCatalogLoadedEvent===true){g.rerender();}if(o.bFirstCatalogLoadedEvent===false&&F===0){this.onNoCatalogsLoaded();}g.setSelectedItem(g.getItems()[F]);k=g.getSelectedItem();if(k){setTimeout(function(){k.focus();},0);}if(o.bFirstCatalogLoadedEvent){M.end("FLP:ShellAppTitle.onClick");M.end("FLP:ShellNavMenu.footerClick");}},handleCustomPanelLinkPress:function(e){var v=this.getView(),o=v.byId("sapUshellAllMyAppsCustomPanelLink"),f=o.getVisible()?o.getBindingContext("allMyAppsModel").getObject():{};if(f.handlePress){f.handlePress(e.getSource(),f);}},updateHeaderButtonsState:function(){this._getShellAppTitleToggleListButton().setVisible(this.getToggleListButtonVisible());this._getPopoverHeaderBackButton().setVisible(this.getBackButtonVisible());},getToggleListButtonVisible:function(){var o=this.getCurrentState(),i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name==="Phone",v=(i||D.system.phone)&&(o===c.Details);return v;},getBackButtonVisible:function(){var o=a.last("/core/shellHeader/ShellAppTitleState");if(o!==d.AllMyAppsOnly){return true;}var e=this.getCurrentState();return e===c.SecondLevel||e===c.Details;},onAppItemClick:function(p){var o=this.getView().getModel("allMyAppsModel"),e=p.getSource().getBindingContext("allMyAppsModel").getPath(),u=o.getProperty(e+"/url");if(u){if(u[0]==="#"){hasher.setHash(u);setTimeout(function(){this.getView().getParent().close();}.bind(this),50);}else{W.openURL(u,"_blank");}}},getCurrentState:function(){return a.last("/core/shell/model/allMyAppsMasterLevel");},_isSingleDataSource:function(){var o=sap.ushell.Container.getService("AllMyApps");if(o.isCatalogAppsEnabled()){return false;}if(!o.isExternalProviderAppsEnabled()&&o.isHomePageAppsEnabled()){return true;}return o.isExternalProviderAppsEnabled()&&Object.keys(o.getDataProviders()).length===1&&!o.isHomePageAppsEnabled();},_getInitialFirstLevelSelectionIndex:function(){var v=this.getView(),o=v.getModel("allMyAppsModel"),e=o.getProperty("/AppsData"),i,t;for(i=0;i<e.length;i++){t=e[i];if(t.type===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG){return i;}}return 0;},_getPopoverHeaderBackButton:function(){if(!this._oPopoverHeaderBackButton){this._oPopoverHeaderBackButton=this._getPopoverHeaderContent(0);}return this._oPopoverHeaderBackButton;},_getShellAppTitleToggleListButton:function(){if(!this._oShellAppTitleToggleListButton){this._oShellAppTitleToggleListButton=this._getPopoverHeaderContent(1);}return this._oShellAppTitleToggleListButton;},_getPopoverHeaderContent:function(i){var o,h,e;o=this._getPopoverObject().getCustomHeader();h=o.getContentLeft();e=h[i];return e;},_getPopoverHeaderLabel:function(){var o,e;o=this._getPopoverObject().getCustomHeader();e=o.getContentMiddle();return e[0];},_getPopoverObject:function(){return this.getView().getParent();},_getDetailsHeaderLabel:function(){return this.getView().byId("sapUshellAllMyAppsDetailsHeaderLabel");},_setBindingContext:function(B,o){var e=this.getView().getModel("allMyAppsModel"),f=e.createBindingContext(B);o.setBindingContext(f,"allMyAppsModel");return f;},_getClickedDataSourceItemPath:function(e){var o=e.getParameter("listItem");return o.getBindingContext("allMyAppsModel").getPath();},_getAllMyAppsManager:function(){return A;},_getDataSourcesSelectedPath:function(){return this.lastPressedMasterItem.getBindingContextPath();},getControllerName:function(){return"sap.ushell.renderers.fiori2.allMyApps.AllMyApps";},formatListItemType:function(t,e){var f=D.system.phone||(e===c.FirstLevel&&t!==sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG);return f?L.Navigation:L.Active;},_afterOpen:function(){if(!this.bAfterOpenHandlerCalled){this.bAfterOpenHandlerCalled=true;if(D.system.desktop){K.init(this.getView());}}},_getMasterListItemTemplate:function(){if(!this.oTemplate){this.oTemplate=new S({type:{parts:["allMyAppsModel>type","/allMyAppsMasterLevel"],formatter:this.formatListItemType},title:"{allMyAppsModel>title}"});}return this.oTemplate;},_getSplitApp:function(){return this.getView().byId("sapUshellAllMyAppsMasterDetail");},_getDataSourceList:function(){return this.getView().byId("sapUshellAllMyAppsDataSourcesList");},_getCustomPanel:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanel");},_getCustomPanelLabel:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanelLabel");},_getCustomPanelLink:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanelLink");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/allMyApps/AllMyAppsKeyboardHandler',["sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery"],function(K,q){"use strict";var a=function(){};a.prototype.init=function(v){v.byId("sapUshellAllMyAppsDataSourcesList").addEventDelegate({onsaptabnext:function(e){var d=q(".sapUshellAllMyAppsListItem");this.jqDetailAreaElement=v.byId("oItemsContainerlist").$();this.jqDetailAreaElement.on("keydown.keyboardNavigation",this.keydownHandler.bind(this));this._setItemFocus(e,d[0]);}.bind(this)});v.byId("oItemsContainerlist").addEventDelegate({onsaptabprevious:function(){var c=q(".sapUshellAllMyAppsListItem[tabindex=\"0\"]")[0];q(c).attr("tabindex",-1);},onsaptabnext:function(){var c=q(".sapUshellAllMyAppsCustomPanel"),C=q(".sapUshellAllMyAppsListItem[tabindex=\"0\"]")[0];if(c.length===0){q(C).attr("tabindex",-1);}}});v.byId("sapUshellAllMyAppsCustomPanel").addEventDelegate({onsaptabnext:function(e){var c=q(".sapUshellAllMyAppsListItem[tabindex=\"0\"]")[0];q(c).attr("tabindex",-1);}});};a.prototype.keydownHandler=function(e){switch(e.keyCode){case K.ARROW_UP:this.arrowKeyHandler(e,-2);break;case K.ARROW_DOWN:this.arrowKeyHandler(e,2);break;case K.ARROW_LEFT:this.arrowKeyHandler(e,-1);break;case K.ARROW_RIGHT:this.arrowKeyHandler(e,1);break;default:break;}};a.prototype.arrowKeyHandler=function(e,d){var D=q(".sapUshellAllMyAppsListItem").toArray(),c=q(".sapUshellAllMyAppsListItem[tabindex=\"0\"]")[0],C=D.indexOf(c),E=D[C+d];if(E){q(c).attr("tabindex",-1);this._setItemFocus(e,E);}};a.prototype._setItemFocus=function(e,E){if(E){e.preventDefault();e.stopImmediatePropagation();q(E).attr("tabindex",0);E.focus();}};a.prototype.destroy=function(){if(this.jqDetailAreaElement){this.jqDetailAreaElement.off(".keyboardNavigation");}delete this.jqDetailAreaElement;};return new a();},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager',["sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/services/Message"],function(q,r,M){"use strict";var A=function(){};A.prototype.loadAppsData=function(m,p,l){var a=sap.ushell.Container.getService("AllMyApps");this.oPopover=p;if(!a.isEnabled()){return;}this.iNumberOfProviders=0;this.oModel=m;if(a.isHomePageAppsEnabled()){this._handleGroupsData();}if(a.isExternalProviderAppsEnabled()){this._handleExternalProvidersData(m);}if(a.isCatalogAppsEnabled()){this._handleCatalogs(l);}if(!a.isCatalogAppsEnabled()||(a.isCatalogAppsEnabled()&&l)){var e=sap.ui.getCore().getEventBus();e.publish("launchpad","allMyAppsMasterLoaded");}};A.prototype._handleGroupsData=function(){var t=this,g=this._getGroupsData(),h={title:r.i18n.getText("allMyApps_homeEntryTitle")},p;g.done(function(G){h.groups=G;h.type=sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().HOME;if(G.length===0){return;}p=t.oModel.getProperty("/AppsData");if(p){var i=t._getIndexByType(p,h.type);if(i!==undefined){p[i]=h;}else{p.unshift(h);}}t.oModel.setProperty("/AppsData",p);t.iNumberOfProviders+=1;});};A.prototype._getIndexByType=function(p,a){if(p.length<=0){return 0;}for(var i=0;i<p.length;i++){if(p[i].type===a){return i;}}};A.prototype._getGroupsData=function(){var t=this,l=sap.ushell.Container.getService("LaunchPage"),d=new q.Deferred(),g=l.getGroups(),D=l.getDefaultGroup(),p=[],G=[],i,T,o,s,a,b,c,e,n;t.oDefaultGroup=undefined;p.push(D);p.push(g);q.when(p).then(function(){p[0].done(function(f){t.oDefaultGroup=f;});p[1].done(function(f){for(i=0;i<f.length;i++){n=0;T=f[i];if(l.isGroupVisible(T)===false){continue;}if(l.getGroupId(T)===l.getGroupId(t.oDefaultGroup)){s=r.i18n.getText("my_group");}else{s=l.getGroupTitle(T);}o={};o.title=s;o.apps=[];a=l.getGroupTiles(T);for(b=0;b<a.length;b++){c=a[b];if(l.isTileIntentSupported(c)){e=t._getAppEntityFromTile(c);if(e){o.apps.push(e);}else{n++;}}}o.numberCustomTiles=n;if(n===1){o.sCustomLabel=r.i18n.getText("allMyApps_customStringSingle");o.sCustomLink=r.i18n.getText("allMyApps_customLinkHomePageSingle");}else{o.sCustomLabel=r.i18n.getText("allMyApps_customString",[n]);o.sCustomLink=r.i18n.getText("allMyApps_customLinkHomePage");}o.handlePress=function(h,j){window.hasher.setHash("#Shell-home");this.oPopover.close();var B=sap.ui.getCore().getEventBus();B.subscribe("launchpad","dashboardModelContentLoaded",function(){B.publish("launchpad","scrollToGroupByName",{groupName:j.title,isInEditTitle:false});},this);B.publish("launchpad","scrollToGroupByName",{groupName:j.title,isInEditTitle:false});}.bind(t);if(o.apps.length>0||o.numberCustomTiles>0){G.push(o);}}d.resolve(G);});});return d.promise();};A.prototype._handleExternalProvidersData=function(){var t=this,e=sap.ushell.Container.getService("AllMyApps").getDataProviders(),E=Object.keys(e),s,o,a,b,i,c;if(E.length>0){for(i=0;i<E.length;i++){s=E[i];o=e[s];a=o.getTitle();b={};b.title=a;c=o.getData();c.done(function(p){if(p&&(p.length>0)){b.groups=p;b.type=sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().EXTERNAL;t.oModel.setProperty("/AppsData/"+t.iNumberOfProviders,b);t.iNumberOfProviders+=1;var d=sap.ui.getCore().getEventBus();d.publish("launchpad","allMyAppsMasterLoaded");}});}}};A.prototype._handleNotFirstCatalogsLoad=function(){var m=this.oModel.getProperty("/AppsData"),c=sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG;if(m.length&&m[m.length-1].type===c){this.bFirstCatalogLoaded=true;sap.ui.getCore().getEventBus().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true});}};A.prototype._handleCatalogs=function(l){if(!l){this._handleNotFirstCatalogsLoad();}else{this.bFirstCatalogLoaded=false;this.aPromises=[];sap.ushell.Container.getService("LaunchPage").getCatalogs().done(function(){q.when.apply(q,this.aPromises).then(this._onDoneLoadingCatalogs.bind(this));}.bind(this)).fail(function(){this._onGetCatalogsFail(r.i18n.getText("fail_to_load_catalog_msg"));}.bind(this)).progress(this._addCatalogToModel.bind(this));}};A.prototype._addCatalogToModel=function(c){var p={apps:[],numberCustomTiles:0,type:sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG},t=this,P,i,a,o,l=sap.ushell.Container.getService("LaunchPage"),C=l.getCatalogTiles(c);this.aPromises.push(C);C.done(function(b){if(b.length===0){return;}var s=l.getCatalogTitle(c);P=t.oModel.getProperty("/AppsData");for(i=0;i<P.length;i++){if((P[i].type===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG)&&(P[i].title===s)){p=P[i];break;}}p.title=l.getCatalogTitle(c);for(a=0;a<b.length;a++){if(l.isTileIntentSupported(b[a])){o=t._getAppEntityFromTile(b[a]);if(o){p.apps.push(o);}else{p.numberCustomTiles++;}}}if(p.numberCustomTiles===1){p.sCustomLabel=r.i18n.getText("allMyApps_customStringSingle");p.sCustomLink=r.i18n.getText("allMyApps_customLinkAppFinderSingle");}else{p.sCustomLabel=r.i18n.getText("allMyApps_customString",[p.numberCustomTiles]);p.sCustomLink=r.i18n.getText("allMyApps_customLinkAppFinder");}p.handlePress=function(e,d){this.oPopover.close();window.hasher.setHash("#Shell-home&/appFinder/catalog/"+JSON.stringify({catalogSelector:d.title,tileFilter:"",tagFilter:"[]",targetGroup:""}));}.bind(t);if(p.apps.length>0||p.numberCustomTiles>0){t.oModel.setProperty("/AppsData/"+i,p);if(t.bFirstCatalogLoaded===false){sap.ui.getCore().getEventBus().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true});t.bFirstCatalogLoaded=true;}t.iNumberOfProviders+=1;}});};A.prototype._onGetCatalogsFail=function(m){sap.ushell.Container.getService("Message").info(m);};A.prototype._onDoneLoadingCatalogs=function(){var m=this.oModel.getProperty("/AppsData");m.sort(function(a,b){var n=a.title.toUpperCase();var c=b.title.toUpperCase();if(n<c){return-1;}if(n>c){return 1;}return 0;});this.oModel.setProperty("/AppsData",m);var e=sap.ui.getCore().getEventBus();if(!this.bFirstCatalogLoaded){e.publish("launchpad","allMyAppsNoCatalogsLoaded");}};A.prototype._getAppEntityFromTile=function(c){var a,l=sap.ushell.Container.getService("LaunchPage"),t=l.getCatalogTilePreviewTitle(c),T=l.getCatalogTilePreviewSubtitle(c),s=l.getCatalogTileTargetURL(c);if(s&&(t||T)){a={};a.url=s;if(t){a.title=t;a.subTitle=T;}else{a.title=T;}return a;}};return new A();},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/search/searchComponent/Component',["sap/ui/core/UIComponent","sap/ui/core/mvc/View","sap/esh/search/ui/i18n"],function(U,V,i){"use strict";return U.extend("sap/ushell/renderers/fiori2/search/searchComponent",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"],config:{title:i.getText("searchAppTitle"),compactContentDensity:true,cozyContentDensity:true}},init:function(){U.prototype.init.apply(this,arguments);},createContent:function(){return V.create({id:"searchContainerApp",viewName:"module:sap/ushell/renderers/fiori2/search/searchComponent/view/SearchApp.view"});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/searchComponent/controller/SearchApp.controller',["sap/ui/core/mvc/Controller","sap/esh/search/ui/SearchShellHelper","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],function(C,S){"use strict";return C.extend("sap/ushell/renderers/fiori2/search/searchComponent/SearchApp",{onInit:function(){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(s){this.oShellNavigation=s;this.oShellNavigation.hashChanger.attachEvent("hashChanged",this.hashChanged);}.bind(this));if(S.oSearchFieldGroup===undefined){S.init();}S.setSearchState("EXP_S");},hashChanged:function(){var m=sap.esh.search.ui.getModelSingleton({},"flp");m.parseURL();},onExit:function(){this.oShellNavigation.hashChanger.detachEvent("hashChanged",this.hashChanged);var t=this.oView.getContent()[0].oTablePersoController;if(t&&t.getTablePersoDialog&&t.getTablePersoDialog()){t.getTablePersoDialog().destroy();}if(S.getDefaultOpen()!==true){S.setSearchStateSync("COL");}else{S.setSearchState("EXP");}if(this.oView.getContent()[0].oSearchPage.oFacetDialog){this.oView.getContent()[0].oSearchPage.oFacetDialog.destroy();}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/searchComponent/view/SearchApp.view',["sap/ui/core/mvc/View","sap/m/Label","sap/esh/search/ui/SearchCompositeControl"],function(V,L,S){"use strict";return V.extend("sap.ushell.renderers.fiori2.search.searchComponent.view.SearchApp",{getControllerName:function(){return"sap.ushell.renderers.fiori2.search.searchComponent.controller.SearchApp";},createContent:function(){var m=sap.esh.search.ui.getModelSingleton({},"flp");return new S({model:m});}});});
sap.ui.predefine('sap/ushell/services/AppType',["sap/ushell/library","sap/ushell/utils/AppType"],function(l,A){"use strict";var a=JSON.parse(JSON.stringify(l.AppType));a.getDisplayName=A.getDisplayName;return a;});
sap.ui.predefine('sap/ushell/services/Bookmark',["sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log"],function(q,C,l,d,a,L){"use strict";var b="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG";function B(){this._oLaunchPageServicePromise=sap.ushell.Container.getServiceAsync("LaunchPage");if(C.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages");}this._addBookmarkToContentNodes=function(o,c,e,s){var f=l.ContentNodeType;var p=c.map(function(g){if(g&&g.hasOwnProperty("type")&&g.isContainer){switch(g.type){case f.Page:return this.addBookmarkToPage(o,g.id,s);case f.HomepageGroup:return new Promise(function(r,h){this._oLaunchPageServicePromise.then(function(i){i.getGroupById(g.id).done(r).fail(h);});}.bind(this)).then(function(G){return this.addBookmarkToHomepageGroup(o,G,e,s);}.bind(this));default:return Promise.reject("Bookmark Service: The API needs to be called with a valid content node type. '"+g.type+"' is not supported.");}}return Promise.reject("Bookmark Service: Not a valid content node.");}.bind(this));return Promise.all(p);};this.addBookmark=function(p,c,s){var D=new q.Deferred();var e=C.last("/core/shell/enablePersonalization");var E=C.last("/core/spaces/enabled");var f=C.last("/core/spaces/myHome/enabled");if(!e&&(!E||!f)){return D.resolve().promise();}if(typeof c==="undefined"&&E){sap.ushell.Container.getServiceAsync("Menu").then(function(m){return m.getDefaultPage();}).then(function(P){return{id:P.id,label:P.title,type:l.ContentNodeType.Page,isContainer:true};}).then(function(o){this._addBookmarkToContentNodes(p,[o],false,s).then(D.resolve).catch(D.reject);}.bind(this));return D.promise();}if((typeof c==="undefined"||!c.hasOwnProperty("type"))&&!Array.isArray(c)){this.addBookmarkToHomepageGroup(p,c,false,s).then(D.resolve).catch(D.reject);return D.promise();}var g=[].concat(c);this._addBookmarkToContentNodes(p,g,false,s).then(D.resolve).catch(D.reject);return D.promise();};this.addCustomBookmark=function(v,c,e,s){var o=d(c);var f=a(o,{vizType:v,vizConfig:{"sap.flp":{chipConfig:o.chipConfig},"sap.platform.runtime":{includeManifest:!o.loadManifest}}});delete f.chipConfig;delete f.loadManifest;var g=[].concat(e);return this._addBookmarkToContentNodes(f,g,true,s);};this.addBookmarkToHomepageGroup=function(p,g,c,s){if(C.last("/core/spaces/enabled")){var e="Bookmark Service: The API is not available in spaces mode.";return Promise.reject(e);}return new Promise(function(r,f){this._oLaunchPageServicePromise.then(function(h){var D;if(c){D=h.addCustomBookmark(p,g,s);}else{D=h.addBookmark(p,g,s);}D.done(function(t){var o={tile:t,group:g};sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",o);r();}).fail(f);});}.bind(this));};this.addBookmarkToPage=function(p,P,c){if(!C.last("/core/spaces/enabled")){return Promise.reject("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad homepage mode, use 'addBookmark' instead.");}var e=C.last("/core/shell/enablePersonalization");var E=C.last("/core/spaces/myHome/enabled");var m=C.last("/core/spaces/myHome/myHomePageId");if(!e&&(!E||(E&&P!==m))){return Promise.reject("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.");}if(p&&(typeof p.title!=="string"||typeof p.url!=="string")){return Promise.reject("Bookmark Service - Invalid bookmark data.");}return this._oPagesServicePromise.then(function(o){return o.addBookmarkToPage(P,p,undefined,c);});};this.addBookmarkByGroupId=function(p,g,c){var D=new q.Deferred();if(C.last("/core/spaces/enabled")){var e="Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.";return D.reject(e).promise();}this._oLaunchPageServicePromise.then(function(f){f.getGroups().done(function(G){G=q.grep(G,function(h){return h.id===g;});var o=null;if(G.length>0){o=G[0];}this.addBookmark(p,o,c).done(D.resolve).fail(D.reject);}.bind(this)).fail(D.reject);}.bind(this)).catch(D.reject);return D.promise();};this.getShellGroupIDs=function(g){var D=new q.Deferred();if(C.last("/core/spaces/enabled")){var e="Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.";return D.reject(e).promise();}this._oLaunchPageServicePromise.then(function(c){c.getGroupsForBookmarks(g).done(function(G){G=G.map(function(f){return{id:c.getGroupId(f.object),title:f.title};});D.resolve(G);}).fail(D.reject);});return D.promise();};this._doAddCatalogTileToGroup=function(D,c,o,g){this._oLaunchPageServicePromise.then(function(e){if(g){e.getGroups().fail(D.reject).done(function(G){var f=G.some(function(h){if(e.getGroupId(h)===g){this._addToGroup(o,D,c,h);return true;}}.bind(this));if(!f){var E="Group '"+g+"' is unknown";L.error(E,null,"sap.ushell.services.Bookmark");D.reject(E);}}.bind(this));}else{e.getDefaultGroup().fail(D.reject).done(function(G){this._addToGroup(o,D,c,G);}.bind(this));}}.bind(this));return D.promise();};this._isSameCatalogTile=function(c,o,e){var i=e.getCatalogTileId(o);if(i===undefined){return false;}return i.indexOf(c)===0;};this._addToGroup=function(c,D,s,g){return this._oLaunchPageServicePromise.then(function(e){e.getCatalogTiles(c).fail(D.reject).done(function(f){var G=e.getGroupId(g);var t=f.some(function(o){if(this._isSameCatalogTile(s,o,e)){e.addTile(o,g).fail(D.reject).done(function(){D.resolve();sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","catalogTileAdded",G);});return true;}}.bind(this));if(!t){var E="No tile '"+s+"' in catalog '"+e.getCatalogId(c)+"'";L.error(E,null,"sap.ushell.services.Bookmark");D.reject(E);}}.bind(this));}.bind(this));};this.addCatalogTileToGroup=function(c,g,o){var D=new q.Deferred();var e;if(C.last("/core/spaces/enabled")){e="Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.";return D.reject(e).promise();}this._oLaunchPageServicePromise.then(function(f){var m=o?this._isMatchingRemoteCatalog:this._isLegacyHANACatalog;o=o||{id:b};f.onCatalogTileAdded(c);f.getCatalogs().fail(D.reject).done(function(h){var s;h.forEach(function(i){if(m(i,o,f)){if(!s){s=i;}else{L.warning("More than one matching catalog: "+JSON.stringify(o),null,"sap.ushell.services.Bookmark");}}});if(s){this._doAddCatalogTileToGroup(D,c,s,g);}else{e="No matching catalog found: "+JSON.stringify(o);L.error(e,null,"sap.ushell.services.Bookmark");D.reject(e);}}.bind(this));}.bind(this));return D.promise();};this._isMatchingRemoteCatalog=function(c,r,e){var o=e.getCatalogData(c);return o.remoteId===r.remoteId&&o.baseUrl.replace(/\/$/,"")===r.baseUrl.replace(/\/$/,"");};this._isLegacyHANACatalog=function(c,r,e){return e.getCatalogId(c)===b;};this.countBookmarks=function(u,c){var D=new q.Deferred();if(C.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(p){return p.countBookmarks({url:u,contentProviderId:c});}).then(D.resolve,D.reject);}else{this._oLaunchPageServicePromise.then(function(e){e.countBookmarks(u,c).done(D.resolve).fail(D.reject);});}return D.promise();};this.countCustomBookmarks=function(i){if(!i||!i.url||!i.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.");}if(C.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(p){return p.countBookmarks(i);});}return this._oLaunchPageServicePromise.then(function(c){return c.countCustomBookmarks(i);});};this.deleteBookmarks=function(u,c){var D=new q.Deferred();if(C.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(p){return p.deleteBookmarks({url:u,contentProviderId:c});}).then(D.resolve,D.reject);}else{this._oLaunchPageServicePromise.then(function(e){e.deleteBookmarks(u,c).done(function(r){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",u);D.resolve(r);}).fail(D.reject);});}return D.promise();};this.deleteCustomBookmarks=function(i){if(!i||!i.url||!i.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.");}if(C.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(p){return p.deleteBookmarks(i);});}return this._oLaunchPageServicePromise.then(function(c){return c.deleteCustomBookmarks(i);}).then(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",i.url);});};this.updateBookmarks=function(u,p,c){var D=new q.Deferred();if(C.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(P){return P.updateBookmarks({url:u,contentProviderId:c},p);}).then(D.resolve,D.reject);}else{this._oLaunchPageServicePromise.then(function(e){e.updateBookmarks(u,p,c).done(D.resolve).fail(D.reject);});}return D.promise();};this.updateCustomBookmarks=function(i,c){if(!i||!i.url||!i.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.");}var o=a({},c,{vizConfig:{"sap.flp":{chipConfig:c.chipConfig},"sap.platform.runtime":{includeManifest:!c.loadManifest}}});delete o.chipConfig;delete o.loadManifest;if(C.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(p){return p.updateBookmarks(i,o);});}return this._oLaunchPageServicePromise.then(function(e){return e.updateCustomBookmarks(i,o);});};this.getContentNodes=function(){var c=l.ContentNodeType;if(C.last("/core/spaces/enabled")){return sap.ushell.Container.getServiceAsync("Menu").then(function(m){return m.getSpacesPagesHierarchy();}).then(function(s){return s.spaces.map(function(S){return{id:S.id,label:S.title,type:c.Space,isContainer:false,children:S.pages.map(function(p){return{id:p.id,label:p.title,type:c.Page,isContainer:true};})};});});}return new Promise(function(r,e){this._oLaunchPageServicePromise.then(function(f){f.getGroupsForBookmarks().done(function(h){var R=h.map(function(o){return{id:f.getGroupId(o.object),label:o.title,type:c.HomepageGroup,isContainer:true};});r(R);}).fail(e);});}.bind(this));};}B.hasNoAdapter=true;return B;},true);
sap.ui.predefine('sap/ushell/services/Configuration',["sap/ushell/Config","sap/ui/thirdparty/jquery"],function(C,q){"use strict";function a(){this.attachSizeBehaviorUpdate=function(c){var d=C.on("/core/home/sizeBehavior");d.do(c);return{detach:d.off};};this.getAppsSystems=function(){var d=new q.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(c){c.getSiteWithoutPersonalization().done(function(s){var A;A=(s&&s.systemAliases&&JSON.parse(JSON.stringify(s.systemAliases)))||{};d.resolve(A);}).catch(function(){d.resolve({});});}).catch(function(){d.resolve({});});return d.promise();};}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/ConfigurationDefaults',["sap/base/Log","sap/ushell/bootstrap/common/common.create.configcontract.core"],function(L,C){"use strict";function a(A){var d=C.getDefaultConfiguration();this.getDefaults=function(c){var t=this;return A.getDefaultConfig().then(function(D){var r=c.reduce(function(o,p){var R;if(t._isValidConfigPath(p)){var P=p.split("/"),s=P.pop(),O=D;for(var i=0;i<P.length&&O;i++){O=O[P[i]];}if(O&&O.hasOwnProperty(s)){R={defaultValue:O[s]};}else if(d.hasOwnProperty(p)){R={defaultValue:d[p]};}}if(R&&R.hasOwnProperty("defaultValue")&&typeof R.defaultValue==="undefined"){R.defaultValue=null;}o[p]=R;return o;},{});return Promise.resolve(r);});};}a.prototype._isValidConfigPath=function(p){if(!p||typeof p!=="string"){L.warning("Configuration path should be string");return false;}if(p.length===0){L.warning("Configuration path can not be empty string");return false;}if(p.charAt(0)==="/"){L.warning("Configuration path should not start with '/': "+p);return false;}return true;};a.hasNoAdapter=false;return a;});
sap.ui.predefine('sap/ushell/services/ContentExtension',["sap/base/Log"],function(L){"use strict";var S="sap.ushell.services.ContentExtension";function C(a,c,p,s){}C.Type={SITE:"site"};C.prototype.registerContentProvider=function(p){function l(e){L.error("An error occurred when calling #registerContentProvider",e,S);}if(p===null||typeof p!=="object"||Object.keys(p).length===0){l("parameters must be provided and must be a non-empty object");}else if(typeof p.id!=="string"||p.id.length===0){l("id parameter should be a non-empty string");}else if(typeof p.provider!=="object"||p.provider===null){l("provider member must be of type 'object' and not null");}else if(p.type===C.Type.SITE){if(typeof p.provider.getSite!=="function"){l("Provider must expose a getSite member of type 'function', got '"+(typeof p.provider.getSite)+"' instead");}else{return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(a){a.registerContentProvider(p.id,p.provider);}).catch(function(e){l(e+"");return Promise.reject(e);});}}else{l("Unknown type parameter. It should be one should be one of ["+Object.keys(C.Type).map(function(t){return"ContentExtension."+t;}).join(", ")+"] but '"+p.type+"' was provided");}return Promise.reject();};C.hasNoAdapter=true;return C;},true);
sap.ui.predefine('sap/ushell/services/EndUserFeedback',["sap/ui/thirdparty/URI","sap/base/util/ObjectPath"],function(U,O){"use strict";function E(){this.sendFeedback=function(){return Promise.resolve();};this.getLegalText=function(){return"";};this.isEnabled=function(){return Promise.reject();};this.getPathOfURL=function(u){var o=new U(u);return o.pathname();};}E.hasNoAdapter=true;return E;},true);
sap.ui.predefine('sap/ushell/services/Notifications',["sap/ui/thirdparty/datajs","sap/ui/core/ws/SapPcpWebSocket","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/model/json/JSONModel","sap/ushell/utils"],function(O,S,q,L,J,u){"use strict";var a="/sap/bc/apc/iwngw/notification_push_apc";var I=60;function N(c,p,s){var m=new J(),t=new Date(),o=s&&s.config,r={getNotifications:{},getNotificationsByType:{},getNotificationsInGroup:{},getBadgeNumber:{},resetBadgeNumber:{},getNotificationTypesSettings:{},getNotificationsGroupHeaders:{},getMobileSupportSettings:{},getEmailSupportSettings:{},getWebSocketValidity:{},getNotificationCount:{}},w,i,b,d,U=[],f=[],g=[],h=false,C=[],j=false,k=false,E=true,H,D,l=5000,n=6000,W=false,v={NOTIFICATIONS:0,NOTIFICATIONS_BY_TYPE:1,GET_BADGE_NUMBER:2,RESET_BADGE_NUMBER:3,GET_SETTINGS:4,GET_MOBILE_SUPPORT_SETTINGS:5,NOTIFICATIONS_GROUP_HEADERS:6,NOTIFICATIONS_IN_GROUP:7,GET_NOTIFICATIONS_COUNT:8,VALIDATE_WEBSOCKET_CHANNEL:9,GET_EMAIL_SUPPORT_SETTINGS:10,NOTIFICATIONS_BY_DATE_DESCENDING:"notificationsByDateDescending",NOTIFICATIONS_BY_DATE_ASCENDING:"notificationsByDateAscending",NOTIFICATIONS_BY_PRIORITY_DESCENDING:"notificationsByPriorityDescending",NOTIFICATIONS_BY_TYPE_DESCENDING:"notificationsByTypeDescending"},M={PACKAGED_APP:0,FIORI_CLIENT:1,WEB_SOCKET:2,POLLING:3},z,F=false,A=true,B=false,G=new q.Deferred(),K=new q.Deferred(),P,Q,R=G.promise(),T=false,V={},X=10,Y=false,Z=false,$=[];this.isEnabled=function(){if(!o.enabled||!o.serviceUrl){E=false;if(o.enabled&&!o.serviceUrl){L.warning("No serviceUrl was found in the service configuration");}}else{E=true;}return E;};this.init=function(){if(!j&&this.isEnabled()){sap.ui.getCore().getEventBus().subscribe("launchpad","sessionTimeout",this.destroy,this);this.lastNotificationDate=new Date();this._setWorkingMode();j=true;this.bUpdateDependencyInitiatorExists=false;this._userSettingInitialization();}sap.ui.getCore().getEventBus().subscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this);};this._onSetConnectionToServer=function(e,x,y){if(y.active){this._resumeConnection();}else{this._closeConnection();}};this.getUnseenNotificationsCount=function(){var e=new q.Deferred();e.resolve(m.getProperty("/UnseenCount"));return e.promise();};this.getNotificationsCount=function(){return m.getProperty("/NotificationsCount")?m.getProperty("/NotificationsCount"):"0";};this.getNotificationsByTypeWithGroupHeaders=function(){var e={"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()},x,y=new q.Deferred(),_=this._getRequestURI(v.NOTIFICATIONS_BY_TYPE);x={requestUri:_};if(!this._getHeaderXcsrfToken()){e["X-CSRF-Token"]="fetch";}x.headers=e;O.request(x,function(a1){y.resolve(a1);},function(a1){if(a1.response&&a1.response.statusCode===200&&a1.response.body){y.resolve(a1.response.body);}else{y.reject(a1);L.error("Notification service - oData executeAction failed: ",a1,"sap.ushell.services.Notifications");}});return y.promise();};this.getNotificationsGroupHeaders=function(){var e={"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()},x,y=new q.Deferred(),_=this._getRequestURI(v.NOTIFICATIONS_GROUP_HEADERS);x={requestUri:_};if(!this._getHeaderXcsrfToken()){e["X-CSRF-Token"]="fetch";}x.headers=e;O.request(x,function(a1){y.resolve(a1);},function(a1){if(a1.response&&a1.response.statusCode===200&&a1.response.body){y.resolve(a1.response.body);}else{y.reject();L.error("Notification service - oData executeAction failed: ",a1,"sap.ushell.services.Notifications");}});return y.promise();};this.getNotificationsBufferInGroup=function(e,x,y){var _=this,a1={"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()},b1,c1=new q.Deferred(),d1={group:e,skip:x,top:y},e1,f1,g1=this._getRequestURI(v.NOTIFICATIONS_IN_GROUP,d1);if(T===true){e1=V[v.NOTIFICATIONS_IN_GROUP].slice(x,x+y);f1=JSON.stringify({"@odata.context":"$metadata#Notifications",value:e1});setTimeout(function(){c1.resolve(f1);},1000);}else{b1={requestUri:g1};if(!this._getHeaderXcsrfToken()){a1["X-CSRF-Token"]="fetch";}b1.headers=a1;O.request(b1,function(h1){_._updateCSRF(h1.response);c1.resolve(h1.value);},function(h1){if(h1.response&&h1.response.statusCode===200&&h1.response.body){_._updateCSRF(h1.response);c1.resolve(JSON.parse(h1.response.body).value);}else{c1.reject();L.error("Notification service - oData executeAction failed: ",h1,"sap.ushell.services.Notifications");}});}return c1.promise();};this.getNotificationsBufferBySortingType=function(e,x,y){var _=this,a1={"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()},b1,c1=new q.Deferred(),d1={skip:x,top:y},e1,f1,g1=this._getRequestURI(e,d1);if(T===true){e1=V[e].slice(x,x+y);f1=JSON.stringify({"@odata.context":"$metadata#Notifications",value:e1});setTimeout(function(){c1.resolve(f1);},1000);}else{b1={requestUri:g1};if(!this._getHeaderXcsrfToken()){a1["X-CSRF-Token"]="fetch";}b1.headers=a1;O.request(b1,function(h1){_._updateCSRF(h1.response);c1.resolve(h1.value);},function(h1){if(h1.response&&h1.response.statusCode===200&&h1.response.body){_._updateCSRF(h1.response);c1.resolve(JSON.parse(h1.response.body).value);}else{c1.reject();L.error("Notification service - oData executeAction failed: ",h1,"sap.ushell.services.Notifications");}});}return c1.promise();};this.getNotifications=function(){var e,x=new q.Deferred();if((z===M.FIORI_CLIENT)||(z===M.PACKAGED_APP)){e=this._readNotificationsData(false);e.done(function(){x.resolve(m.getProperty("/Notifications"));}).fail(function(){x.reject();});}else{x.resolve(m.getProperty("/Notifications"));}return x.promise();};this.executeBulkAction=function(e,x){var y=new q.Deferred(),_=[],a1=[],b1={succededNotifications:_,failedNotifications:a1},c1=this;c1.sendBulkAction(e,x).done(function(d1){d1.forEach(function(e1,f1){var g1=e1.NotificationId,h1=e1.Success;if(h1){_.push(g1);}else{a1.push(g1);}});if(a1.length){y.reject(b1);}else{y.resolve(b1);}}).fail(function(){y.reject(b1);});return y.promise();};this.dismissBulkNotifications=function(e){var x=new q.Deferred(),y=this;y.sendBulkDismiss(e).done(function(){x.resolve();}).fail(function(){x.reject();});return x.promise();};this.executeAction=function(e,x){var y=this,_=o.serviceUrl+"/ExecuteAction",a1={NotificationId:e,ActionId:x},b1={requestUri:_,method:"POST",data:a1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}},c1=new q.Deferred();O.request(b1,function(d1){var e1,f1={isSucessfull:true,message:""};if(d1&&d1.response&&d1.response.statusCode===200&&d1.response.body){e1=JSON.parse(d1.response.body);f1.isSucessfull=e1.Success;f1.message=e1.MessageText;}c1.resolve(f1);},function(d1){var e1,f1={isSucessfull:false,message:""};if(d1.response&&d1.response.statusCode===200&&d1.response.body){e1=JSON.parse(d1.response.body);f1.isSucessfull=e1.Success;f1.message=e1.MessageText;c1.resolve(f1);}else if(y._csrfTokenInvalid(d1)&&(Y===false)){y._invalidCsrfTokenRecovery(c1,y.executeAction,[e,x]);}else{c1.reject(d1);L.error("Notification service - oData executeAction failed: ",d1,"sap.ushell.services.Notifications");}});return c1.promise();};this.sendBulkAction=function(e,x){var y=this,_=o.serviceUrl+"/BulkActionByHeader",a1={ParentId:e,ActionId:x},b1={requestUri:_,method:"POST",data:a1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}},c1=new q.Deferred();O.request(b1,function(d1){var e1,f1;if(d1&&d1.response&&d1.response.statusCode===200&&d1.response.body){e1=JSON.parse(d1.response.body);f1=e1.value;}c1.resolve(f1);},function(d1){var e1,f1;if(d1.response&&d1.response.statusCode===200&&d1.response.body){e1=JSON.parse(d1.response.body);f1=e1.value;c1.resolve(f1);}else if(y._csrfTokenInvalid(d1)&&(Y===false)){y._invalidCsrfTokenRecovery(c1,y.sendBulkAction,[e,x]);}else{c1.reject();L.error("Notification service - oData executeBulkAction failed: ",d1.message,"sap.ushell.services.Notifications");}});return c1.promise();};this.sendBulkDismiss=function(e){var x=this,y=o.serviceUrl+"/DismissAll",_={ParentId:e},a1={requestUri:y,method:"POST",data:_,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}},b1=new q.Deferred();O.request(a1,function(){b1.resolve();},function(c1){if(c1.response&&c1.response.statusCode===200){b1.resolve();}else if(x._csrfTokenInvalid(c1)&&(Y===false)){x._invalidCsrfTokenRecovery(b1,x.sendBulkDismiss,[e]);}else{b1.reject();var d1=c1?c1.message:"";L.error("Notification service - oData executeBulkAction failed: ",d1,"sap.ushell.services.Notifications");}});return b1.promise();};this.markRead=function(e){var x=this,y=o.serviceUrl+"/MarkRead",_={NotificationId:e},a1={requestUri:y,method:"POST",data:_,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}},b1=new q.Deferred();O.request(a1,function(){b1.resolve();},function(c1){if(x._csrfTokenInvalid(c1)&&(Y===false)){x._invalidCsrfTokenRecovery(b1,x.markRead,[e]);}else{L.error("Notification service - oData reset badge number failed: ",c1,"sap.ushell.services.Notifications");b1.reject(c1);}});return b1.promise();};this.dismissNotification=function(e){var x=o.serviceUrl+"/Dismiss",y=this,_={NotificationId:e},a1={requestUri:x,method:"POST",data:_,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}},b1=new q.Deferred();O.request(a1,function(){y._addDismissNotifications(e);b1.resolve();},function(c1){if(y._csrfTokenInvalid(c1)&&(Y===false)){y._invalidCsrfTokenRecovery(b1,y.dismissNotification,[e]);}else{b1.reject(c1);L.error("Notification service - oData dismiss notification failed: ",c1,"sap.ushell.services.Notifications");}});return b1.promise();};this.registerNotificationsUpdateCallback=function(e){U.push(e);};this.registerDependencyNotificationsUpdateCallback=function(e,x){if(x===false){this.bUpdateDependencyInitiatorExists=true;}f.push({callback:e,dependent:x});};this.registerNotificationCountUpdateCallback=function(e){g.push(e);};this.notificationsSeen=function(){this._setNotificationsAsSeen();};this.isFirstDataLoaded=function(){return F;};this.readSettings=function(){var e;e=this._readSettingsFromServer();return e;};this.saveSettingsEntry=function(e){var x=this._writeSettingsEntryToServer(e);return x;};this.getUserSettingsFlags=function(){var e=new q.Deferred();if(B===true){e.resolve({highPriorityBannerEnabled:A});}else{R.done(function(){e.resolve({highPriorityBannerEnabled:A});});}return e.promise();};this.setUserSettingsFlags=function(e){A=e.highPriorityBannerEnabled;this._writeUserSettingsFlagsToPersonalization(e);};this._getNotificationSettingsMobileSupport=function(){return P;};this._getDismissNotifications=function(){return $;};this.filterDismisssedItems=function(e,$){return e.filter(function(x){return!$.some(function(y){return y===x.originalItemId;});});};this._addDismissNotifications=function(e){if($.indexOf(e)===-1){$.push(e);}};this._initializeDismissNotifications=function(){$=[];};this._getNotificationSettingsEmailSupport=function(){return Q;};this.destroy=function(){k=true;if(i){clearTimeout(i);}else if(b){clearTimeout(b);}else if(d){clearTimeout(d);}if((z===M.WEB_SOCKET)&&w){w.close();}sap.ui.getCore().getEventBus().unsubscribe("launchpad","sessionTimeout",this.destroy,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this);};this._readUnseenNotificationsCount=function(e){var x=this,y=new q.Deferred(),_=this._getRequestURI(v.GET_BADGE_NUMBER),a1={requestUri:_,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()}};O.read(a1,function(b1,c1){m.setProperty("/UnseenCount",c1.data.GetBadgeNumber.Number);x._setNativeIconBadge(c1.data.GetBadgeNumber.Number);y.resolve(c1.data.GetBadgeNumber.Number);},function(b1){if(b1.response&&b1.response.statusCode===200&&b1.response.body){var c1=JSON.parse(b1.response.body);m.setProperty("/UnseenCount",c1.value);x._setNativeIconBadge(c1.value);y.resolve(c1.value);}else{L.error("Notification service - oData read unseen notifications count failed: ",b1.message,"sap.ushell.services.Notifications");y.reject(b1);}});return y.promise();};this.readNotificationsCount=function(){var e=new q.Deferred(),x=this._getRequestURI(v.GET_NOTIFICATIONS_COUNT),y={requestUri:x,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()}};O.read(y,function(_,a1){e.resolve(a1.data);},function(_){if(_.response&&_.response.statusCode===200&&_.response.body){var a1=JSON.parse(_.response.body);e.resolve(a1.value);}else{L.error("Notification service - oData read notifications count failed: ",_.message,"sap.ushell.services.Notifications");e.reject(_);}});return e.promise();};this._getNotificationSettingsAvalability=function(){return K.promise();};this._setNotificationsAsSeen=function(){var e=this,x=new q.Deferred(),y=this._getRequestURI(v.RESET_BADGE_NUMBER),_={requestUri:y,method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}};if(this._isFioriClientMode()===true||this._isPackagedMode()===true){this._setNativeIconBadge(0);}O.request(_,function(){x.resolve();},function(a1){if(e._csrfTokenInvalid(a1)&&(Y===false)){e._invalidCsrfTokenRecovery(x,e._setNotificationsAsSeen);}else{L.error("Notification service - oData reset badge number failed: ",a1,"sap.ushell.services.Notifications");x.reject(a1);}});return x.promise();};this._readNotificationsData=function(e){var x=this,y,_,a1,b1=new q.Deferred(),c1=[];y=this._readUnseenNotificationsCount(e);c1.push(y);a1=this.readNotificationsCount();a1.done(function(d1){m.setProperty("/NotificationsCount",d1);});_=this.getNotificationsBufferBySortingType(v.NOTIFICATIONS_BY_DATE_DESCENDING,0,X);c1.push(_);q.when.apply(q,c1).then(function(){c1[0].done(function(){if(e===true){x._updateNotificationsCountConsumers();}});c1[1].done(function(d1){m.setProperty("/Notifications",d1);x._notificationAlert(d1);if(e===true){x._updateNotificationsConsumers();x._updateDependentNotificationsConsumers();}b1.resolve();});});return b1.promise();};this._getHeaderXcsrfToken=function(){return H;};this._getDataServiceVersion=function(){return D;};this._getRequestURI=function(e,x){var y,_=encodeURI(this._getConsumedIntents(e));switch(e){case v.NOTIFICATIONS:if(r.getNotifications.basic===undefined){r.getNotifications.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20false";}if(this._isIntentBasedConsumption()){if(r.getNotifications.byIntents===undefined){r.getNotifications.byIntents=r.getNotifications.basic.concat("&intents%20eq%20"+_);}return r.getNotifications.byIntents;}return r.getNotifications.basic;case v.NOTIFICATIONS_BY_TYPE:if(r.getNotificationsByType.basic===undefined){r.getNotificationsByType.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams";}if(this._isIntentBasedConsumption()){if(r.getNotificationsByType.byIntents===undefined){r.getNotificationsByType.byIntents=r.getNotificationsByType.basic.concat("&$filter=intents%20eq%20"+_);}return r.getNotificationsByType.byIntents;}return r.getNotificationsByType.basic;case v.NOTIFICATIONS_GROUP_HEADERS:if(r.getNotificationsGroupHeaders.basic===undefined){r.getNotificationsGroupHeaders.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20true";}if(this._isIntentBasedConsumption()){if(r.getNotificationsGroupHeaders.byIntents===undefined){r.getNotificationsGroupHeaders.byIntents=r.getNotificationsGroupHeaders.basic.concat("&intents%20eq%20"+_);}return r.getNotificationsGroupHeaders.byIntents;}return r.getNotificationsGroupHeaders.basic;case v.NOTIFICATIONS_IN_GROUP:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt desc&$filter=IsGroupHeader eq false and ParentId eq "+x.group+"&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+_);}break;case v.GET_BADGE_NUMBER:if(r.getBadgeNumber.basic===undefined){r.getBadgeNumber.basic=o.serviceUrl+"/GetBadgeNumber()";}if(this._isIntentBasedConsumption()){if(r.getBadgeNumber.byIntents===undefined){r.getBadgeNumber.byIntents=o.serviceUrl+"/GetBadgeCountByIntent("+_+")";}return r.getBadgeNumber.byIntents;}return r.getBadgeNumber.basic;case v.GET_NOTIFICATIONS_COUNT:if(r.getNotificationCount.basic===undefined){r.getNotificationCount.basic=o.serviceUrl+"/Notifications/$count";}return r.getNotificationCount.basic;case v.RESET_BADGE_NUMBER:if(r.resetBadgeNumber.basic===undefined){r.resetBadgeNumber.basic=o.serviceUrl+"/ResetBadgeNumber";}return r.resetBadgeNumber.basic;case v.GET_SETTINGS:if(r.getNotificationTypesSettings.basic===undefined){r.getNotificationTypesSettings.basic=o.serviceUrl+"/NotificationTypePersonalizationSet";}return r.getNotificationTypesSettings.basic;case v.GET_MOBILE_SUPPORT_SETTINGS:if(r.getMobileSupportSettings.basic===undefined){r.getMobileSupportSettings.basic=o.serviceUrl+"/Channels(ChannelId='SAP_SMP')";}return r.getMobileSupportSettings.basic;case v.GET_EMAIL_SUPPORT_SETTINGS:if(r.getEmailSupportSettings.basic===undefined){r.getEmailSupportSettings.basic=o.serviceUrl+"/Channels(ChannelId='SAP_EMAIL')";}return r.getEmailSupportSettings.basic;case v.VALIDATE_WEBSOCKET_CHANNEL:if(r.getWebSocketValidity.basic===undefined){r.getWebSocketValidity.basic=o.serviceUrl+"/Channels('SAP_WEBSOCKET')";}return r.getWebSocketValidity.basic;case v.NOTIFICATIONS_BY_DATE_DESCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20desc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+_);}break;case v.NOTIFICATIONS_BY_DATE_ASCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20asc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+_);}break;case v.NOTIFICATIONS_BY_PRIORITY_DESCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=Priority%20desc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+_);}break;default:y="";}return y;};this._readSettingsFromServer=function(){var e=this._getRequestURI(v.GET_SETTINGS),x={requestUri:e,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()}},y=new q.Deferred();O.request(x,function(_){y.resolve(_.results);},function(_){if(_.response&&_.response.statusCode===200&&_.response.body){y.resolve(_.response.body);}else{y.reject(_);L.error("Notification service - oData get settings failed: ",_,"sap.ushell.services.Notifications");}});return y.promise();};this._readMobileSettingsFromServer=function(){return this._readChannelSettingsFromServer(v.GET_MOBILE_SUPPORT_SETTINGS);};this._readEmailSettingsFromServer=function(){return this._readChannelSettingsFromServer(v.GET_EMAIL_SUPPORT_SETTINGS);};this._readChannelSettingsFromServer=function(e){var x=this._getRequestURI(e),y={requestUri:x,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()}},_=new q.Deferred(),a1,b1;O.request(y,function(c1){if(typeof(c1.results)==="string"){a1=JSON.parse(c1.results);a1.successStatus=true;b1=JSON.stringify(a1);_.resolve(b1);}else{c1.results.successStatus=true;_.resolve(c1.results);}},function(c1){if(c1.response&&c1.response.statusCode===200&&c1.response.body){a1=JSON.parse(c1.response.body);a1.successStatus=true;b1=JSON.stringify(a1);_.resolve(b1);}else{_.resolve(JSON.stringify({successStatus:false}));L.error("Notification service - oData get settings failed: ",c1,"sap.ushell.services.Notifications");}});return _.promise();};this._checkWebSocketActivity=function(){var e=this._getRequestURI(v.VALIDATE_WEBSOCKET_CHANNEL),x={requestUri:e,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()}},y=new q.Deferred(),_;O.request(x,function(a1){if(typeof(a1.results)==="string"){_=JSON.parse(a1.results);y.resolve(_.IsActive);}else{y.resolve(false);}},function(a1){if(a1.response&&a1.response.statusCode===200&&a1.response.body){_=JSON.parse(a1.response.body);y.resolve(_.IsActive);}else{y.resolve(false);L.error("Notification service - oData get settings failed: ",a1,"sap.ushell.services.Notifications");}});return y.promise();};this._writeSettingsEntryToServer=function(e){var x=this,y,_=this._getRequestURI(v.GET_SETTINGS)+"(NotificationTypeId="+e.NotificationTypeId+")",a1={requestUri:_,method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:D,"X-CSRF-Token":H}};a1.data=JSON.parse(JSON.stringify(e));a1.data["@odata.context"]="$metadata#NotificationTypePersonalizationSet/$entity";y=new q.Deferred();O.request(a1,function(b1){y.resolve(b1);},function(b1){if(b1.response&&b1.response.statusCode===200&&b1.response.body){y.resolve(b1.response.body);}else if(x._csrfTokenInvalid(b1)&&(Y===false)){x._invalidCsrfTokenRecovery(y,x._writeSettingsEntryToServer,[e]);}else{y.reject(b1);L.error("Notification service - oData set settings entry failed: ",b1,"sap.ushell.services.Notifications");}});return y.promise();};this._updateNotificationsConsumers=function(){U.forEach(function(e){e();});};this._updateDependentNotificationsConsumers=function(){var e=this,x=new q.Deferred();f.forEach(function(y){if(e.bUpdateDependencyInitiatorExists===false){y.callback();}else if(y.dependent===true){y.callback(x.promise());}else{y.callback(x);}});};this._updateNotificationsCountConsumers=function(){g.forEach(function(e){e();});};this._updateAllConsumers=function(){this._updateNotificationsConsumers();this._updateNotificationsCountConsumers();this._updateDependentNotificationsConsumers();};this._getModel=function(){return m;};this._getMode=function(){return z;};this._setWorkingMode=function(){var e;if(o.intentBasedConsumption===true){C=this._getIntentsFromConfiguration(o.consumedIntents);if(C.length>0){h=true;}}if(this._isPackagedMode()){z=M.PACKAGED_APP;e=this._getIntentsFromConfiguration(window.fiori_client_appConfig.applications);if(e.length>0){C=e;}if(C.length>0){h=true;}this._registerForPush();this._readNotificationsData(true);this._setNativeIconBadgeWithDelay();return;}this._performFirstRead();};this._performFirstRead=function(){var e=this,x,y=this._readNotificationsData(true);y.done(function(){x=e._getFioriClientRemainingDelay();if(x<=0){e._fioriClientStep();}else{i=setTimeout(function(){e._fioriClientStep();},x);}F=true;}).fail(function(_){L.error("Notifications oData read failed. Error: "+_);return;});};this._fioriClientStep=function(){var e=this,x;if(this._isFioriClientMode()){z=M.FIORI_CLIENT;this._addPushNotificationHandler();x=this.getUnseenNotificationsCount();x.done(function(y){e._setNativeIconBadge(y,function(){});}).fail(function(){});}else{this._webSocketStep();}};this._webSocketStep=function(){z=M.WEB_SOCKET;this._establishWebSocketConnection();};this._webSocketRecoveryStep=function(){if(W===false){W=true;b=setTimeout(function(){this._webSocketStep();}.bind(this),l);}else{this._activatePollingAfterInterval();}};this._activatePollingAfterInterval=function(){var e=o.pollingIntervalInSeconds||I;clearTimeout(d);d=setTimeout(this._activatePolling.bind(this),e*1000);};this._activatePolling=function(){var e=o.pollingIntervalInSeconds||I;z=M.POLLING;this._readNotificationsData(true);clearTimeout(d);d=setTimeout(this._activatePolling.bind(this,e,false),(e*1000));};this._formatAsDate=function(e){return new Date(e);};this._notificationAlert=function(e){if(A===false){return;}var x,y=[],_=0;for(x in e){if(this.lastNotificationDate&&this._formatAsDate(e[x].CreatedAt)>this.lastNotificationDate){if(e[x].Priority==="HIGH"){y.push(e[x]);}}if(_<this._formatAsDate(e[x].CreatedAt)){_=this._formatAsDate(e[x].CreatedAt);}}if(this.lastNotificationDate&&y&&y.length>0){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Notifications","onNewNotifications",y);}this.lastNotificationDate=_;};this._getFioriClientRemainingDelay=function(){return n-(new Date()-t);};this._establishWebSocketConnection=function(){var x=this,y=false,_;try{w=this._getWebSocketObjectObject(o.webSocketUrl||a,[S.SUPPORTED_PROTOCOLS.v10]);w.attachMessage(this,function(a1){_=a1.getParameter("pcpFields");if((_)&&(_.Command)&&(_.Command==="Notification")){x._readNotificationsData(true);}});w.attachOpen(this,function(){x._checkWebSocketActivity().done(function(a1){if(!a1){y=true;w.close();x._activatePollingAfterInterval();}});L.info("Notifications UShell service WebSocket: webSocket connection opened");});w.attachClose(this,function(a1){L.warning("Notifications UShell service WebSocket: attachClose called with code: "+a1.mParameters.code+" and reason: "+a1.mParameters.reason);if((!k)&&(!y)){x._webSocketRecoveryStep();}});w.attachError(this,function(){L.warning("Notifications UShell service WebSocket: attachError called!");});}catch(e){L.error("Exception occurred while creating new sap.ui.core.ws.SapPcpWebSocket. Message: "+e.message);}};this._isFioriClientMode=function(){return!(sap.FioriClient===undefined);};this._isPackagedMode=function(){return(window.fiori_client_appConfig&&window.fiori_client_appConfig.prepackaged===true);};this._setNativeIconBadge=function(e){if((sap.Push!==undefined)&&(sap.Push.setBadgeNumber!==undefined)){sap.Push.setBadgeNumber(e,function(){});}};this._setNativeIconBadgeWithDelay=function(){var e=this,x;setTimeout(function(){x=e.getUnseenNotificationsCount();x.done(function(y){e._setNativeIconBadge(y);}).fail(function(){});},4000);};this._getIntentsFromConfiguration=function(e){var x=[],y,_;if(e&&e.length>0){for(_=0;_<e.length;_++){y=e[_].intent;x.push(y);}}return x;};this._handlePushedNotification=function(e){var x,y,_,a1,b1=[],c1;if(e!==undefined){if((e.additionalData===undefined)||(e.additionalData.foreground===true)){this._readNotificationsData(true);}else{if(e.additionalData&&e.additionalData.NavigationTargetObject){y=e.additionalData.NavigationTargetObject;}else{y=e.NavigationTargetObject;}if(e.additionalData&&e.additionalData.NavigationTargetAction){_=e.additionalData.NavigationTargetAction;}else{_=e.NavigationTargetAction;}if(e.additionalData&&e.additionalData.NavigationTargetParam){a1=e.additionalData.NavigationTargetParam;}else{a1=e.NavigationTargetParam;}if(a1){if(typeof a1==="string"||a1 instanceof String){b1[0]=a1;}else if(Array.isArray(a1)===true){b1=a1;}}x=e.NotificationId;if((typeof hasher!=="undefined")&&(hasher.getHash()===y+"-"+_)){c1=sap.ui.getCore().byId("viewPortContainer");if(c1){c1.switchState("Center");}}u.toExternalWithParameters(y,_,b1);this.markRead(x);this._readNotificationsData(true);}}};this._registerForPush=function(){sap.Push.initPush(this._handlePushedNotification.bind(this));};this._addPushNotificationHandler=function(){document.addEventListener("deviceready",this._registerForPush.bind(this),false);};this._isIntentBasedConsumption=function(){return h;};this._getConsumedIntents=function(e){var x="",y;if(!this._isIntentBasedConsumption()){return x;}if(C.length>0){if(e!==v.GET_BADGE_NUMBER){x="&";}for(y=0;y<C.length;y++){if(e===v.GET_BADGE_NUMBER){if(y===0){x=C[y];}else{x=x+","+C[y];}}else{x=x+"NavigationIntent%20eq%20%27"+C[y]+"%27";}}}return x;};this._revalidateCsrfToken=function(){var e;H=undefined;Z=false;e=this.getNotificationsBufferBySortingType(v.NOTIFICATIONS_BY_DATE_DESCENDING,0,1);return e.promise();};this._csrfTokenInvalid=function(e){return(e.response&&(e.response.statusCode===403)&&(e.response.headers["x-csrf-token"]==="Required"));};this._invalidCsrfTokenRecovery=function(x,y,_){var a1=this,b1=this._revalidateCsrfToken(),c1;Y=true;b1.done(function(){c1=y.apply(a1,_);c1.done(function(e){Y=false;x.resolve(e);});c1.fail(function(e){Y=false;if(e.response&&e.response.statusCode===200&&e.response.body){x.resolve(e.response.body);}else{x.reject(e);}});});b1.fail(function(e){Y=false;x.reject(e);L.error("Notification service - oData markRead failed: ",e.message,"sap.ushell.services.Notifications");});};this._notificationsAscendingSortBy=function(e,_){e.sort(function(x,y){var a1=x[_],b1=y[_];if(a1===b1){a1=x.id;b1=y.id;}return b1>a1?-1:1;});return e;};this._getWebSocketObjectObject=function(e,x){return new S(e,x);};this.getOperationEnum=function(){return v;};this._readUserSettingsFlagsFromPersonalization=function(){this._getUserSettingsPersonalizer().then(function(e){e.getPersData().done(function(x){if(x===undefined){this._writeUserSettingsFlagsToPersonalization({highPriorityBannerEnabled:A});}else{A=x.highPriorityBannerEnabled;}B=true;G.resolve();}.bind(this)).fail(function(){L.error("Reading User Settings flags from Personalization service failed");});}.bind(this)).catch(function(e){L.error("Personalization service does not work:");L.error(e.name+": "+e.message);L.error("Reading User Settings flags from Personalization service failed");});};this._writeUserSettingsFlagsToPersonalization=function(e){var x=new q.Deferred();this._getUserSettingsPersonalizer().then(function(y){y.setPersData(e).done(x.resolve).fail(x.reject);}).catch(function(y){L.error("Personalization service does not work:");L.error(y.name+": "+y.message);x.reject(y);});return x.promise();};this._getUserSettingsPersonalizer=function(){if(!this.oUserSettingsPersonalizerPromise){this.oUserSettingsPersonalizerPromise=sap.ushell.Container.getServiceAsync("Personalization").then(function(e){var x={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true};var y={container:"sap.ushell.services.Notifications",item:"userSettingsData"};return e.getPersonalizer(y,x);});}return this.oUserSettingsPersonalizerPromise;};this._updateCSRF=function(e){if((Z===true)||(e.headers===undefined)){return;}if(!this._getHeaderXcsrfToken()){H=e.headers["x-csrf-token"]||e.headers["X-CSRF-Token"]||e.headers["X-Csrf-Token"];}if(!this._getDataServiceVersion()){D=e.headers.DataServiceVersion||e.headers["odata-version"];}Z=true;};this._userSettingInitialization=function(){var e,x,y,_={settingsAvailable:false,mobileAvailable:false,emailAvailable:false},a1,b1,c1,d1;this._readUserSettingsFlagsFromPersonalization();e=this._readSettingsFromServer();x=this._readMobileSettingsFromServer();y=this._readEmailSettingsFromServer();a1=[e,x,y];e.done(function(){_.settingsAvailable=true;});x.done(function(e1){b1=JSON.parse(e1);c1=b1.successStatus;if(c1){P=e1?b1.IsActive:false;_.mobileAvailable=P;}else{P=false;_.mobileAvailable=false;}});y.done(function(e1){b1=JSON.parse(e1);d1=b1.successStatus;if(d1){Q=e1?b1.IsActive:false;_.emailAvailable=Q;}else{Q=false;_.emailAvailable=false;}});q.when.apply(q,a1).then(function(){K.resolve(_);});};this._closeConnection=function(){if(!k){if(z===M.WEB_SOCKET&&w){w.close();k=true;}if(z===M.POLLING&&d){clearTimeout(d);k=true;}}};this._resumeConnection=function(){if(k){k=false;this._webSocketStep();}};}N.hasNoAdapter=true;return N;},true);
sap.ui.predefine('sap/ushell/services/PageReferencing',["sap/ushell/services/_PageReferencing/PageReferencer"],function(P){"use strict";function a(){}a.prototype.createReferencePage=function(p){return P.createReferencePage(p);};a.hasNoAdapter=true;return a;});
sap.ui.predefine('sap/ushell/services/Search',[],function(){"use strict";function S(a,c){this.init.apply(this,arguments);}S.prototype={init:function(a,c,p,s){this.oAdapter=a;this.oContainerInterface=c;this.appSearchDeferred=null;},getAppSearch:function(){if(this.appSearchPromise){return this.appSearchPromise;}this.appSearchPromise=new Promise(function(r){sap.ui.getCore().loadLibrary("sap.esh.search.ui",{async:true}).then(function(){sap.ui.require(["sap/esh/search/ui/appsearch/AppSearch"],function(A){r(new A({}));});});});return this.appSearchPromise;},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable();},getSina:function(){return this.oAdapter.getSina();},prefetch:function(){if(!sap||!sap.uhsell||!sap.ushell.Container){return;}return this.getAppSearch().then(function(a){return a.prefetch();});},queryApplications:function(q){q.top=q.top||10;q.skip=q.skip||0;return this.getAppSearch().then(function(a){return a.search(q).then(function(s){return{totalResults:s.totalCount,searchTerm:q.searchTerm,getElements:function(){return s.tiles;}};});});}};S.hasNoAdapter=false;return S;},true);
sap.ui.predefine('sap/ushell/services/SearchableContent',["sap/ushell/Config","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readPages","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/base/util/values","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(C,r,a,b,o,q,u,c){"use strict";var D=u.DisplayFormat;var S=function(){};S.COMPONENT_NAME="sap/ushell/services/SearchableContent";S.prototype.getApps=function(){if(C.last("/core/spaces/enabled")){return this._getPagesAppData().then(this._filterGetApps);}return this._getLaunchPageAppData().then(this._filterGetApps);};S.prototype._filterGetApps=function(A){A.forEach(function(d){var v=d.visualizations;var U=[];d.visualizations=[];v.forEach(function(V){var s=JSON.stringify({title:V.title,subtitle:V.subtitle,icon:V.icon,vizTypeId:V.vizTypeId});if(U.indexOf(s)===-1){d.visualizations.push(V);U.push(s);}});});return A.filter(function(d){return d.visualizations.length>0;});};S.prototype._getLaunchPageAppData=function(){return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){this._oLaunchPageService=l;return this._collectLaunchPageTiles();}.bind(this)).then(function(l){var A={};var v=l.map(this._buildVizDataFromLaunchPageTile.bind(this)).filter(function(V){return V;});v.forEach(function(V){var t=V.targetURL;if(t){if(A[t]){A[t].visualizations.push(V);}else{A[t]=this._buildAppDataFromViz(V);}}}.bind(this));return o(A);}.bind(this));};S.prototype._collectLaunchPageTiles=function(){return new Promise(function(d,e){this._oLaunchPageService.getCatalogs().then(function(f){var g=[];f.forEach(function(h){g.push(this._oLaunchPageService.getCatalogTiles(h));}.bind(this));var G=this._oLaunchPageService.getGroups().then(function(h){var t=[];h.forEach(function(i){Array.prototype.push.apply(t,this._oLaunchPageService.getGroupTiles(i)||[]);}.bind(this));return t;}.bind(this));g.push(G);return q.when.apply(q,g).then(function(){var t=[];var h=Array.prototype.slice.call(arguments);h.forEach(function(i){Array.prototype.push.apply(t,i);});d(t);});}.bind(this));}.bind(this));};S.prototype._getPagesAppData=function(){var A,s;return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(d){return Promise.all([d.getAllPages(),d.getApplications(),d.getVisualizations(),d.getVizTypes(),sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("ClientSideTargetResolution")]);}).then(function(R){var p=R[0];var d=R[1];var v=R[2];var V=R[3];var U=R[4];var e=R[5];s={applications:d,visualizations:v,vizTypes:V};A={};this._applyCdmVisualizations(s,A,U);this._applyCdmPages(s,p,A,U);return this._filterAppDataByIntent(A,U,e);}.bind(this)).then(function(){this._applyCdmApplications(s,A);return o(A);}.bind(this));};S.prototype._filterAppDataByIntent=function(A,U,d){var i=Object.keys(A).filter(U.isIntentUrl.bind(U));if(i.length===0){return Promise.resolve();}return new Promise(function(e,f){d.isIntentSupported(i).then(function(s){Object.keys(s).forEach(function(t){if(!s[t].supported&&A[t]){delete A[t];}});}).always(e);});};S.prototype._applyCdmApplications=function(s,A){Object.keys(A).forEach(function(k){var v=A[k].visualizations;var V=v.find(function(e){return e.target.appId&&e.target.inboundId;});if(V){var d=s.applications[V.target.appId];var i=r.getInbound(d,V.target.inboundId);A[k]=this._buildAppDataFromAppAndInbound(d,i);A[k].visualizations=v;A[k].target=v[0].target;}else{A[k]=this._buildAppDataFromViz(v[0]);A[k].visualizations=v;A[k].target=v[0].target;}}.bind(this));};S.prototype._applyCdmVisualizations=function(s,A,U){Object.keys(s.visualizations).forEach(function(k){var v={vizId:k,displayFormatHint:D.Standard};var V=b.getVizData(s,v,U);var t=V.targetURL;this._changeVizType(V);V.preview=true;if(t){if(A[t]){A[t].visualizations.push(V);}else{A[t]={visualizations:[V]};}}}.bind(this));};S.prototype._applyCdmPages=function(s,p,A,U){p.forEach(function(P){var v=a.getVisualizationReferences(P);v.forEach(function(V){if(V.displayFormatHint&&V.displayFormatHint!==D.Standard){V=Object.assign({},V);V.displayFormatHint=D.Standard;}var d=b.getVizData(s,V,U);var t=d.targetURL;this._changeVizType(d);d.preview=true;if(t){if(A[t]){A[t].visualizations.push(d);}else{A[t]={visualizations:[d]};}}}.bind(this));}.bind(this));};S.prototype._changeVizType=function(v){if(v._instantiationData.platform==="CDM"&&!c.isStandardVizType(v.vizType)){v.vizType="sap.ushell.StaticAppLauncher";v._instantiationData.vizType={"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}};}};S.prototype._buildAppDataFromAppAndInbound=function(A,i){return{id:r.getId(A),title:i.title||r.getTitle(A),subtitle:i.subTitle||r.getSubTitle(A),icon:i.icon||r.getIcon(A),info:i.info||r.getInfo(A),keywords:i.keywords||r.getKeywords(A),visualizations:[]};};S.prototype._buildAppDataFromViz=function(v){return{id:v.vizId,title:v.title,subtitle:v.subtitle,icon:v.icon,info:v.info,keywords:v.keywords,target:v.target,visualizations:[v]};};S.prototype._buildVizDataFromLaunchPageTile=function(l){var t;var v;if(!this._oLaunchPageService.getCatalogTilePreviewTitle(l)){try{t=this._oLaunchPageService.getCatalogTileView(l);}catch(n){}}if(this._oLaunchPageService.getCatalogTileTargetURL(l)&&this._oLaunchPageService.isTileIntentSupported(l)){v={id:this._oLaunchPageService.getTileId(l)||this._oLaunchPageService.getCatalogTileId(l),vizId:this._oLaunchPageService.getCatalogTileId(l)||this._oLaunchPageService.getTileId(l)||"",vizTypeId:"",title:this._oLaunchPageService.getCatalogTilePreviewTitle(l)||this._oLaunchPageService.getCatalogTileTitle(l)||this._oLaunchPageService.getTileTitle(l)||"",subtitle:this._oLaunchPageService.getCatalogTilePreviewSubtitle(l)||"",icon:this._oLaunchPageService.getCatalogTilePreviewIcon(l)||"sap-icon://business-objects-experience",info:this._oLaunchPageService.getCatalogTilePreviewInfo(l)||"",keywords:this._oLaunchPageService.getCatalogTileKeywords(l)||[],target:{type:"URL",url:this._oLaunchPageService.getCatalogTileTargetURL(l)},targetURL:this._oLaunchPageService.getCatalogTileTargetURL(l)};if(l.getChip){v._instantiationData={platform:"LAUNCHPAGE",launchPageTile:l};}else{v._instantiationData={platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}};}}if(t){if(!t.destroy){var e=new Error("The tileview \""+v.title+"\" with target url \""+v.target.url+"\" does not implement mandatory function destroy!");throw e;}t.destroy();}return v;};S.hasNoAdapter=true;return S;},true);
sap.ui.predefine('sap/ushell/services/SmartNavigation',["sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/AppConfiguration","sap/base/Log","sap/ushell/utils/UrlParsing"],function(q,u,A,L,U){"use strict";function S(c,p,s){this._oServiceConfig=s;this._oCrossAppNavigationServicePromise=sap.ushell.Container.getServiceAsync("CrossApplicationNavigation");this._oPersonalizationServicePromise=sap.ushell.Container.getServiceAsync("Personalization");this._oHashCodeCache={"":0};}S.STATISTIC_COLLECTION_WINDOW_DAYS=90;S.PERS_CONTAINER_KEY_PREFIX="ushell.smartnav.";S.ONE_DAY_IN_MILLISECOND=24*60*60*1000;S.prototype.getLinks=function(a){var d=new q.Deferred();this._oCrossAppNavigationServicePromise.then(function(C){var o=C.getLinks(a);if(!this._isTrackingEnabled(this._oServiceConfig)){o.done(d.resolve).fail(d.reject);return;}var c=A.getCurrentApplication();var f=c.sShellHash;var b=c.componentHandle;if(c.componentHandle){b=c.componentHandle.getInstance();}if(!f){L.warning("Call to SmartNavigation#getLinks() simply delegated to CrossApplicationNavigation#getLinks()"+" because AppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");o.done(d.resolve).fail(d.reject);return;}var n=this._getNavigationOccurrences(f,b);q.when(o,n).done(function(l,N){if(N.length===0){d.resolve(l);return;}var p=this._prepareLinksForSorting(l,N);l=p.sort(function(e,O){return O.clickCount-e.clickCount;});d.resolve(l);}.bind(this)).fail(d.reject);}.bind(this)).catch(d.reject);return d.promise();};S.prototype.toExternal=function(a){var b=arguments;this._oCrossAppNavigationServicePromise.then(function(C){if(!this._isTrackingEnabled(this._oServiceConfig)){C.toExternal.apply(C,b);return;}var c=A.getCurrentApplication();var f=c.sShellHash;var o=c.componentHandle;if(c.componentHandle){o=c.componentHandle.getInstance();}if(!f){L.warning("Current shell hash could not be identified. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");C.toExternal.apply(C,b);return;}var d=this._getHashFromOArgs(a.target);if(!d){L.warning("Destination hash does not conform with the ushell guidelines. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");C.toExternal.apply(C,b);return;}this._recordNavigationOccurrences(f,d,o).then(function(){C.toExternal.apply(C,b);});}.bind(this));};S.prototype.hrefForExternal=function(){L.warning("Deprecated API call of 'sap.ushell.services.SmartNavigation.hrefForExternal'. Please use 'hrefForExternalAsync' instead.",null,"sap.ushell.services.SmartNavigation");var C=sap.ushell.Container.getService("CrossApplicationNavigation");return C.hrefForExternal.apply(C,arguments);};S.prototype.hrefForExternalAsync=function(){var a=arguments;return this._oCrossAppNavigationServicePromise.then(function(C){return C.hrefForExternalAsync.apply(C,a);});};S.prototype.getPrimaryIntent=function(){var d=new q.Deferred();var a=arguments;this._oCrossAppNavigationServicePromise.then(function(C){C.getPrimaryIntent.apply(C,a).done(d.resolve).fail(d.reject);}).catch(d.reject);return d.promise();};S.prototype.trackNavigation=function(a){if(!this._isTrackingEnabled(this._oServiceConfig)){L.debug("Call to SmartNavigation#trackNavigation() ignored because Service is not enabled via Configuration",null,"sap.ushell.services.SmartNavigation");return q.when(null);}var t=a.target;var c=A.getCurrentApplication();var f=c.sShellHash;var d;if(!f){L.warning("Call to SmartNavigation#trackNavigation() simply ignored"+" because AppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");return q.when(null);}d=this._getHashFromOArgs(t);if(!d){L.warning("Navigation not tracked - no valid destination provided",null,"sap.ushell.services.SmartNavigation");return q.when(null);}L.debug("Navigation to "+d+" was tracked out of "+f,null,"sap.ushell.services.SmartNavigation");return this._recordNavigationOccurrences(f,d,c.componentHandle.getInstance());};S.prototype._isTrackingEnabled=function(c){return u.isDefined(c)&&u.isDefined(c.config)&&u.isDefined(c.config.isTrackingEnabled)?c.config.isTrackingEnabled:false;};S.prototype._getHashCode=function(a){var s=a+"";if(this._oHashCodeCache[s]){return this._oHashCodeCache[s];}var h=0;var l=s.length;while(l--){h=(h<<5)-h+(s.charCodeAt(l)|0);h|=0;}this._oHashCodeCache[s]=h;return h;};S.prototype._getBaseHashPart=function(i){var t=U.parseShellHash(i);if(t&&t.semanticObject&&t.action){return t.semanticObject+"-"+t.action;}throw"Invalid intent `"+i+"`";};S.prototype._getHashFromOArgs=function(a){if(!a){return null;}if(a.shellHash&&U.parseShellHash(a.shellHash)){return this._getBaseHashPart(a.shellHash);}if(a.semanticObject&&a.action){return a.semanticObject+"-"+a.action;}return null;};S.prototype._getPersContainerKey=function(s){return S.PERS_CONTAINER_KEY_PREFIX+this._getHashCode(s);};S.prototype._getNavigationOccurrences=function(f,c){var d=new q.Deferred();var p=this._getPersContainerKey(f);this._oPersonalizationServicePromise.then(function(P){var C=P.getContainer(p,{keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.HIGH,clientStorageAllowed:true},c);C.done(function(o){var i=o.getItemKeys();var I=i.map(function(s){var a=o.getItemValue(s);var b=Object.keys(a.actions);return b.map(function(e){var g=a.actions[e];var h=g.dailyFrequency.reduce(function(j,k){return j+k;},0);return{intent:s+"-"+e,clickCount:h};});});var F=I.reduce(function(e,s){Array.prototype.push.apply(e,s);return e;},[]);d.resolve(F);});}).catch(d.reject);return d.promise();};S.prototype._prepareLinksForSorting=function(l,n){var N={};n.forEach(function(o){N[o.intent]=o;});l.forEach(function(o){var b=this._getBaseHashPart(o.intent);var a=N[b];o.clickCount=a?a.clickCount:0;}.bind(this));return l;};S.prototype._recordNavigationOccurrences=function(f,t,c){var T=U.parseShellHash(t);var p=this._getPersContainerKey(f);var s=T.semanticObject;var d=new q.Deferred();this._oPersonalizationServicePromise.then(function(P){var C=P.getContainer(p,{keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.HIGH,clientStorageAllowed:true},c);C.done(function(o){var a=o.getItemValue(s);var b=T.action;if(!a){a={actions:{},latestVisit:Date.now(),dailyFrequency:[0]};}var e=a.actions[b];if(!e){e={latestVisit:Date.now(),dailyFrequency:[0]};a.actions[b]=e;}this._updateHistoryEntryWithCurrentUsage(a);this._updateHistoryEntryWithCurrentUsage(e);o.setItemValue(s,a);o.save().done(d.resolve).fail(d.reject);}.bind(this)).fail(d.reject);}.bind(this)).catch(d.reject);return d.promise();};S.prototype._updateHistoryEntryWithCurrentUsage=function(h){var n=Date.now();var t=n-h.latestVisit;var d=Math.floor(t/S.ONE_DAY_IN_MILLISECOND);while(d--){h.dailyFrequency.unshift(0);if(h.dailyFrequency.length>S.STATISTIC_COLLECTION_WINDOW_DAYS){h.dailyFrequency.pop();}}++h.dailyFrequency[0];h.latestVisit=n;return h;};S.hasNoAdapter=true;return S;});
sap.ui.predefine('sap/ushell/services/URLTemplate',["sap/ushell/utils","sap/base/Log"],function(u,L){"use strict";function U(){this._init.apply(this,arguments);}U.prototype._init=function(a){this.oAdapter=a;};U.prototype.handlePostTemplateProcessing=function(s,S,f){if(this.oAdapter&&this.oAdapter.handlePostTemplateProcessing){return this.oAdapter.handlePostTemplateProcessing(s,S,f);}else{return Promise.resolve(s);}};U.hasNoAdapter=false;U.useConfigAdapterOnly=true;return U;});
sap.ui.predefine('sap/ushell/services/UsageAnalytics',["sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/Device"],function(q,L,D){"use strict";function U(c,p,S){var o=(S&&S.config)||{},a=[],A=false,i=false,l,I;window.oCustomProperties={};this.setLegalText=function(t){l=t;if(I){this.init(I.usageAnalyticsTitle,I.iAgree,I.iDisagree,I.remindMeLater);}};this.getLegalText=function(){return l;};this.setTrackUsageAnalytics=function(s){var d=q.Deferred();var u=sap.ushell.Container.getUser();var O=u.getTrackUsageAnalytics();sap.ushell.Container.getServiceAsync("UserInfo").then(function(b){if(O!==s){u.setTrackUsageAnalytics(s);var e=b.updateUserPreferences(u);e.done(function(){u.resetChangedProperty("trackUsageAnalytics");if(!i&&s){this.start();}else if(i&&s===false){window.swa.disable();}else if(i&&s){window.swa.enable();}d.resolve();}.bind(this));e.fail(function(E){u.setTrackUsageAnalytics(O);u.resetChangedProperty("trackUsageAnalytics");L.error(E);d.reject(E);});}else{d.resolve();}}.bind(this)).catch(function(){L.error("Getting UserInfo service failed.");d.reject("Getting UserInfo service failed.");});return d.promise();};this.showLegalPopup=function(){sap.ui.require(["sap/m/Text","sap/m/Dialog","sap/m/Button","sap/m/library"],function(T,b,B,m){var d=m.ButtonType;var e=new b("agreementMessageBox",{title:I.usageAnalyticsTitle,type:"Message",stretch:D.system.phone,buttons:[new B("remindMeLaterButton",{text:I.remindMeLater,press:function(){e.close();}}),new B("iAgreeButton",{text:I.iAgree,type:d.Emphasized,press:function(){this.setTrackUsageAnalytics(true);e.close();}.bind(this)}),new B("iDisagreeButton",{text:I.iDisagree,press:function(){this.setTrackUsageAnalytics(false);e.close();}.bind(this)})],afterClose:function(){e.destroy();},content:new T({text:l})}).addStyleClass("sapUshellUsageAnalyticsPopUp").addStyleClass("sapContrastPlus");e.open();}.bind(this));};this.systemEnabled=function(){if(!o.enabled||!o.pubToken||(this.isSetUsageAnalyticsPermitted()&&!l)){if(!o.pubToken){L.warning("No valid pubToken was found in the service configuration");}if(!l){L.warning("No Legal text message found.");}return false;}return true;};this.userEnabled=function(){var u=sap.ushell.Container.getUser();if(!this.systemEnabled()){return false;}return u.getTrackUsageAnalytics();};this.start=function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.UsageAnalytics","usageAnalyticsStarted");this._initUsageAnalyticsLogging();i=true;window.swa.custom2={ref:sap.ui.getCore().getConfiguration().getLanguage()};};this.init=function(u,s,b,r){I={usageAnalyticsTitle:u,iAgree:s,iDisagree:b,remindMeLater:r};if(this.systemEnabled()&&!i){if(!this.isSetUsageAnalyticsPermitted()){this.start();}else if(l){if(this.userEnabled()===true){this.start();}else if(this.userEnabled()===null||this.userEnabled()===undefined){this.showLegalPopup();}}}};this.setCustomAttributes=function(C){var b,P="attribute",s,d="custom",e,f,F="customFunction";if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}for(b=1;b<6;b++){e=d.concat(b+4);if(window.swa[e]!==undefined){continue;}s=P+b;if(C[s]===undefined){continue;}if(q.isFunction(C[s])){f=F+b;window[f]=C[s];window.swa[e]={ref:f};}else{window.swa[e]={ref:C[s]};}}};this.logCustomEvent=function(e,b,d){if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}if(!this._isAnalyticsScriptLoaded()){this._addDelayedEvent(e,b,d);return;}if(d){d.unshift(b);d.unshift(e);window.swa.trackCustomEvent.apply(window.swa.trackCustomEvent,d);}else{window.swa.trackCustomEvent(e,b);}};window._trackingScriptsLoaded=function(){var b,t;A=true;for(b=0;b<a.length;b++){t=a[b];this.logCustomEvent(t.eventType,t.customEventValue,t.aAdditionalValues);}a=null;};this._initUsageAnalyticsLogging=function(){if(window.swa===undefined){window.swa={};}window.swa.pubToken=o.pubToken;window.swa.baseUrl=o.baseUrl;window.swa.bannerEnabled=false;window.swa.loggingEnabled=true;window.swa.visitorCookieTimeout=63113852;window.swa.dntLevel=1;window.swa.trackerReadyCallback=window._trackingScriptsLoaded.bind(this);window.swa.clicksEnabled=(o.logClickEvents!==false);window.swa.pageLoadEnabled=(o.logPageLoadEvents!==false);this._handlingTrackingScripts();};this._handlingTrackingScripts=function(){var d=document,g=d.createElement("script"),s=d.getElementsByTagName("script")[0];g.onerror=function(){L.warning("SWA scripts not loaded!");};g.type="text/javascript";g.defer=true;g.async=true;g.src=window.swa.baseUrl+"js/privacy.js";s.parentNode.insertBefore(g,s);};this._isAnalyticsScriptLoaded=function(){return A;};this.isSetUsageAnalyticsPermitted=function(){if(o.setUsageAnalyticsPermitted===undefined){return true;}return o.setUsageAnalyticsPermitted;};this._addDelayedEvent=function(e,b,d){var f={eventType:e,customEventValue:b,aAdditionalValues:d};a.push(f);};}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/_AppState/AppStatePersistencySettings',[],function(){"use strict";function A(c,s,r,t){this.CreatorUserID=c;this.SelectedUserIDs=s;this.RetrievalMapping=r;this.Expiration=t;}return A;});
sap.ui.predefine('sap/ushell/services/_PageReferencing/PageReferencer',["sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(d,q){"use strict";var P={};function g(p,N){var r={};p.forEach(function(s){s.viz.forEach(function(t){var T=t.target;if(T&&!r[T]){r[T]=N.resolveHashFragment(T);}});});return new Promise(function(R,f){var b=[];Object.keys(r).forEach(function(h){b.push(r[h]);});q.when.apply(null,b).then(function(){var c=arguments;Object.keys(r).forEach(function(h,i){r[h]=c[i].inboundPermanentKey;});R(r);},f);});}function _(p,t){return{inboundPermanentKey:p[t.target],vizId:t.tileCatalogId};}function a(p,s){return{id:s.id,title:s.title,visualizations:s.viz.map(_.bind(null,p))};}P.createReferencePage=function(p,b){b=b||[];return sap.ushell.Container.getServiceAsync("NavTargetResolution").then(g.bind(null,b)).then(function(o){var r=d({},p);r.sections=b.map(a.bind(null,o));return Promise.resolve(r);});};return P;});
sap.ui.predefine('sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin',["sap/ui/core/support/Plugin","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/Label","sap/m/Text","sap/m/MessageStrip","sap/m/FlexBox","sap/ui/model/resource/ResourceModel","sap/m/SearchField","sap/m/MessageBox","sap/base/util/isEmptyObject"],function(P,J,B,I,a,L,T,M,F,R,S,b,c){"use strict";var t=this,o,f=P.extend("sap.ushell.support.plugins.flpConfig.FlpConfigurationPlugin",{constructor:function(s){o=new R({bundleName:"sap/ushell/support/plugins/flpConfig/i18n/FlpConfigurationPlugin"});P.apply(this,["sapUiFlpConfigurationPlugin",o.getResourceBundle().getText("PLUGIN_NAME"),s]);this._oSupportStub=s;if(this.runsAsToolPlugin()){t=this;this._aEventIds=[this.getId()+"ReceiveData"];}else{this._aEventIds=[this.getId()+"RequestData"];}}});f.prototype.isToolPlugin=function(){return true;};f.prototype.isAppPlugin=function(){return true;};f.prototype.init=function(s){P.prototype.init.apply(this,arguments);if(this.runsAsToolPlugin()){var r;setTimeout(function(){t.requestData();},500);r=sap.ui.getCore().createRenderManager();r.write("<div id='"+this.getId()+"'</div>").flush(this.$().get(0));r.destroy();}else{}};f.prototype.exit=function(){P.prototype.exit.apply(this,arguments);};f.prototype.requestData=function(){this._oSupportStub.sendEvent(this.getId()+"RequestData",{eventData:{data:{}}});};f.prototype.onsapUiFlpConfigurationPluginRequestData=function(E){var i={};this.prepareForSending(window["sap-ushell-config"],i);this._oSupportStub.sendEvent(this.getId()+"ReceiveData",{eventData:{data:i}});};f.prototype.onsapUiFlpConfigurationPluginReceiveData=function(E){var t=this;this.flpConfig=E.getParameter("eventData").data;sap.ui.getCore().loadLibraries(["sap.ui.table"],{async:true}).then(function(){sap.ui.require(["sap/ui/table/TreeTable","sap/ui/table/Column","sap/ui/table/library"],function(i,C,j){var k=j.SelectionMode;t.getFlpConfigurationPluginUI(null,i,C,k);});});};function _(){var H=0,s=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey(),i=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData();if(Array.isArray(i[s])){i[s].forEach(function(j,k){var q=e(i[s][k],s);if(H<q){H=q;}});if(H>0){sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TreeTable"+s).expandToLevel(H-1);}else{b.error(new L({text:sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel("i18n").getResourceBundle().getText("MISSING_HIERARCHY_LEVEL")}));}}}function d(){var s=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey();sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TreeTable"+s).collapseAll();}f.prototype.onPressSearchNewModel=function(E){var q,r,s,A,u,v,w,x,V,y=[],z={},C="",D={},G={},H=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel("Full"),K=E.getParameter("query");if(!H){H=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData();}else{H=H.getData();}Object.keys(H).forEach(function(N){z[N]=0;});if(K){for(var N in H){C=N;q=[];n(H[N],N,C,q,K);G[N]=q;}Object.keys(G).forEach(function(N){A=G[N];for(var i=0;i<A.length;i++){u=A[i].split(".");v=[];for(var j=0;j<u.length;j++){if(!isNaN(parseInt(u[j],10))){v.push(parseInt(u[j],10));}else{v.push(u[j]);}}for(var k=0;k<v.length;k+=2){w={"property":""};w[v[0]]=[];if(isNaN(parseInt(v[k],10))){r=v.slice(0,k+1);if(!g(D,r)&&typeof g(D,v.slice(0,v.length-2))!=="object"){m(D,r,[w],v[0],r.length);}V=g(H,v.slice(0,k+2));if(V&&g(D,v.slice(0,k+2))){l(D,V.property,v.slice(0,k+2).toString()+",property");}else if(k!==v.length-2){y.push(v.slice(0,k+2).toString());}}}s=v.slice(0);m(D,v,{"property":"","value":""},v[0],r.length);V=g(H,s);if(V){l(D,V.value,s.toString()+",value");l(D,V.property,s.toString()+",property");}}y.forEach(function(C){V=g(H,C.split(","));if(V&&g(D,C.split(","))){l(D,V.property,C+",property");}});y=[];if(D[N]&&Array.isArray(D[N][0][N])&&D[N][0][N].length===0){D[N]=D[N].splice(1);}});sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new J(D));sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new J(H),"Full");var O=0;Object.keys(z).forEach(function(N){x=N;if(D[x]&&Array.isArray(D[x])){D[x].forEach(function(i,j){var k=e(D[x][j],x);if(O<k){O=k;}});}sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TreeTable"+N).expandToLevel(O-1);sap.ui.getCore().byId(N).setCount(h(D[N],N,0));});}else{Object.keys(z).forEach(function(N){sap.ui.getCore().byId(N).setCount(h(H[N],N,0));});sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new J(H));}};function e(C,s){var H=0;if(C[s]){C[s].forEach(function(i){var j=e(i,s);if(j>H){H=j;}});}return H+1;}function g(j,k){for(var i=0;i<k.length;i++){if(j){j=j[k[i]];}}return j;}function h(C,s,i){if(Array.isArray(C)){C.forEach(function(j){if(j[s]){i=h(j[s],s,i);}else{i+=1;}});return i;}return undefined;}function l(j,v,s){var k=s.split(",");for(var i=0;i<k.length-1;i++){j=j[k[i]];}j[k[k.length-1]]=v;}function m(i,j,v,s,k){if(j.length===1){i[j[0]]=v;}else{var q=j.shift();i[q]=m(typeof i[q]==="undefined"?{}:i[q],j,v,s,k);}if(i[s]&&i.property&&i.value){delete i.value;i.property="";}return i;}function n(C,s,i,j,k){C.forEach(function(q,r){if(q[s]){i=i+"."+r+"."+s;i=n(q[s],s,i,j,k);}else if(q.property.indexOf(k)>-1){i=i+"."+r;j.push(i);i=i.substring(0,i.lastIndexOf("."));}});i=i.substring(0,i.lastIndexOf("."));if(isNaN(parseInt(i.substr(i.lastIndexOf(".")+1),10))){return i;}return i.substring(0,i.lastIndexOf("."));}function p(C,s){if(typeof C!=="object"){return[{property:s,value:C}];}return Object.keys(C).map(function(i){var r={property:i};if(typeof(C[i])==="object"&&Object.keys(C[i]).length!==0){r[s]=p(C[i],s);return r;}if(!c(C[i])||typeof(C[i])!=="object"){r.value=C[i];}else{r.value="";}return r;});}f.prototype.prepareForSending=function(i,j){Object.keys(i).forEach(function(k){var C=i[k];switch(typeof C){case"object":if(C===null){j[k]=C;return;}else if(Array.isArray(C)){j[k]=[];}else{j[k]={};}this.prepareForSending(i[k],j[k]);break;case"undefined":j[k]="undefined";return;case"function":return;default:j[k]=i[k];return;}}.bind(this));};f.prototype.getNewConfigJSON=function(i){var N={};Object.keys(i).forEach(function(s){N[s]=p(i[s],s);});return N;};f.prototype.getFlpConfigurationPluginUI=function(i,j,C,k){var q,r,s,u={};s=this.getNewConfigJSON(this.flpConfig);q=new J(s);for(var v in s){u[v]=h(s[v],v,0);}if(!sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar")){if(!s||c(s)){new M({text:o.getResourceBundle().getText("ERROR_MESSAGE"),type:"Warning",showIcon:true,showCloseButton:false}).placeAt(this.getId());}else{r=new I("sap-ui-support-flpConfigurationPlugin-TabBar",{headerMode:"Inline"});Object.keys(this.flpConfig).forEach(function(x,y){r.insertItem(new a(x,{key:x,text:x,count:u[x],content:[new j("sap-ui-support-flpConfigurationPlugin-TreeTable"+x,{rows:"{/"+x+"/}",selectionMode:k.None,enableCellFilter:true,extension:[new F({items:[new B({icon:"sap-icon://expand",text:"{i18n>EXPAND_BUTTON}",press:_}),new B({icon:"sap-icon://collapse",text:"{i18n>COLLAPSE_BUTTON}",press:d})]})],columns:[new C({label:new L({text:"{i18n>COLUMN_PROPERTY}"}),template:new T({text:"{property}"})}),new C({label:new L({text:"{i18n>COLUMN_VALUE}"}),template:new T({text:"{value}"})})]})]}),y);});var w=new S({search:this.onPressSearchNewModel});w.placeAt(this.getId());r.setModel(q);r.setModel(o,"i18n");r.placeAt(this.getId());}}};return f;});
sap.ui.predefine('sap/ushell/ui/ContentNodeSelector',["sap/ushell/library","sap/base/util/deepClone","sap/ui/core/XMLComposite","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/Device","sap/m/Token","sap/ushell/resources","sap/ushell/Config"],function(l,d,X,J,F,a,b,D,T,r,C){"use strict";var c=l.ContentNodeType;var e=X.extend("sap.ushell.ui.ContentNodeSelector",{metadata:{library:"sap.ushell",associations:{labelId:{type:"sap.ui.core.Control",multiple:false}},events:{selectionChanged:{}}}});e.prototype.init=function(){this._oModel=new J({items:[],suggestions:[],isSpaces:C.last("/core/spaces/enabled")});this._oDeviceModel=new J(D);this.setModel(this._oModel,"_internal");this.setModel(this._oDeviceModel,"_device");this.setModel(r.getTranslationModel(),"_i18n");var m=this.getAggregation("_content");m.addValidator(this._validateItem.bind(this));this.setBusyIndicatorDelay(0);this._loadContentNodes().then(this._overwriteLabel.bind(this));};e.prototype._overwriteLabel=function(){var L=this.getLabelId();var o=sap.ui.getCore().byId(L);if(o&&typeof o.setText==="function"){if(this._oModel.getProperty("/isSpaces")){o.setText(r.i18n.getText("contentNodeSelectorHomepagePages"));}else{o.setText(r.i18n.getText("contentNodeSelectorHomepageGroups"));}}if(o&&typeof o.setRequired==="function"&&o.isPropertyInitial("required")){o.setRequired(true);}if(o&&typeof o.setLabelFor==="function"){o.setLabelFor(this);}};e.prototype.exit=function(){this._oModel.destroy();this._oDeviceModel.destroy();};e.prototype.getSelectedContentNodes=function(){var m=this.getAggregation("_content");var t=m.getTokens();return t.map(function(o){var f=o.getBindingContext("_internal").getObject();var g=d(f);delete g.selected;delete g.spaceTitles;return g;});};e.prototype._loadContentNodes=function(){this.setBusy(true);return sap.ushell.Container.getServiceAsync("Bookmark").then(function(B){return B.getContentNodes();}).then(function(f){f=d(f);e._normalizeContentNodes(f);this._oModel.setProperty("/items",f);var s=e._getSuggestions(f);for(var i=0;i<s.length;i++){s[i].selected=false;}this._oModel.setProperty("/suggestions",s);this.setBusy(false);}.bind(this));};e.prototype._showValueHelp=function(f){var m=f.getSource();var t=m.getValue();if(!this._oValueHelpDialog){b.load({id:this.getId()+"-ValueHelpDialog",name:"sap.ushell.ui.ContentNodeSelectorValueHelp",controller:this}).then(function(o){this.addDependent(o);this._oValueHelpDialog=o;this._openValueHelpDialog(t);}.bind(this));}else{this._openValueHelpDialog(t);}};e.prototype._openValueHelpDialog=function(f){var t=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesTree");t.expandToLevel(1);this._oValueHelpDialog.open();var s=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesSearch");s.setValue(f);this._onValueHelpSearch();};e.prototype._onValueHelpSearch=function(){var s=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesSearch");var f=s.getValue();var t=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesTree");var i=t.getBinding("items");i.filter(new F({path:"label",operator:a.Contains,value1:f}));};e.prototype._onValueHelpBeginButtonPressed=function(){var t=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesTree");var s=t.getSelectedContextPaths();var m=this.getAggregation("_content");m.destroyTokens();var o;var p;for(var i=0;i<s.length;i++){p=s[i];var M=this.getModel("_internal");var f=m.getAggregation("tokens").map(function(I){return I.getProperty("key");}).indexOf(M.getProperty(p).id);if(f<0){o=this._createToken(p);m.addValidateToken({token:o});}}m.setValue("");this._oValueHelpDialog.close();};e.prototype._onValueHelpEndButtonPressed=function(){this._oValueHelpDialog.close();};e.prototype._onTokenUpdate=function(f){var A=f.getParameter("addedTokens");var R=f.getParameter("removedTokens");this._setTokensSelected(A,true);this._setTokensSelected(R,false);setTimeout(this.fireSelectionChanged.bind(this),0);};e.prototype._setTokensSelected=function(t,s){var o;for(var i=0;i<t.length;i++){o=t[i].getBindingContext("_internal");o.getModel().setProperty(o.getPath("selected"),s);}};e.prototype._validateItem=function(i){if(i.suggestedToken){return i.suggestedToken;}var I=i.suggestionObject;if(!I){return null;}var o=I.getBindingContext("_internal");return this._createToken(o.getPath());};e.prototype._createToken=function(p){var t=new T({key:"{_internal>id}",text:"{_internal>label}"});t.bindObject({path:p,model:"_internal"});return t;};e._getSuggestions=function(i){var s=[];e._getChildren(i,s);return s;};e._getChildren=function(f,g){var I;for(var i=0;i<f.length;i++){I=f[i];if(I.isContainer&&g.indexOf(I)===-1){g.push(I);}if(I.children){e._getChildren(I.children,g);}}};e._normalizeContentNodes=function(f){var p={};e._visitPages(f,function(s,P){P.spaceTitles=P.spaceTitles||[];if(p[P.id]){p[P.id].spaceTitles.push(s.label);return p[P.id];}P.spaceTitles.push(s.label);p[P.id]=P;return P;});};e._visitPages=function(f,g){var o,p;if(f===undefined||f===null){return;}for(var i=0;i<f.length;i++){o=f[i];if(o.type!==c.Space){return;}else if(o.children){for(var k=0;k<o.children.length;k++){p=o.children[k];o.children[k]=g(o,p);}}}};e.prototype.clearSelection=function(){var m=this.getAggregation("_content");var t=m.getTokens();t.forEach(function(o){var f=o.getBindingContext("_internal");this._oModel.setProperty(f.getPath("selected"),false);}.bind(this));m.destroyTokens();};e.prototype.setValueState=function(v){var m=this.getAggregation("_content");m.setValueState(v);};e.prototype.setValueStateText=function(v){var m=this.getAggregation("_content");m.setValueStateText(v);};return e;});
sap.ui.predefine('sap/ushell/ui/ContentNodeTreeItem',["sap/m/StandardTreeItem"],function(S){"use strict";var C=S.extend("sap.ushell.ui.bookmark.ContentNodeTreeItem",{metadata:{library:"sap.ushell",properties:{selectable:{type:"boolean",defaultValue:true,group:"Behavior"}}},renderer:S.getMetadata().getRenderer()});C.prototype.setSelected=function(s){this._bSelected=s;return S.prototype.setSelected.apply(this,arguments);};C.prototype.setSelectable=function(s){this.setProperty("selectable",s,false);if(s){S.prototype.setSelected.call(this,this._bSelected);}return this;};C.prototype.isSelectable=function(){return this.getSelectable();};C.prototype.getModeControl=function(){if(!this.getSelectable()){return null;}return S.prototype.getModeControl.apply(this,arguments);};return C;});
sap.ui.predefine('sap/ushell/ui/CustomGroupHeaderListItem',["sap/m/GroupHeaderListItem","sap/m/Text"],function(G,T){"use strict";var C=G.extend("sap.ushell.ui.CustomGroupHeaderListItem",{metadata:{library:"sap.ushell",properties:{description:{type:"string",group:"Data",defaultValue:null}},aggregations:{_titleText:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_descriptionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}}}});C.prototype.setTitle=function(t){this.setProperty("title",t);var o=this.getAggregation("_titleText");if(o){o.setText(t);}else{this.setAggregation("_titleText",new T({text:t}),true);}};C.prototype.setDescription=function(d){this.setProperty("description",d);var D=this.getAggregation("_descriptionText");if(D){D.setText(d);}else{this.setAggregation("_descriptionText",new T({text:d}),true);}};C.prototype.getContentAnnouncement=function(){return this.getTitle()+", "+this.getDescription();};C.prototype.setCount=function(){return this;};return C;});
sap.ui.predefine('sap/ushell/ui/CustomGroupHeaderListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","sap/m/GroupHeaderListItemRenderer","sap/ushell/library"],function(c,R,G,u){"use strict";var T=c.TextDirection;var C=R.extend(G);C.renderLIAttributes=function(r,l){G.renderLIAttributes(r,l);r.addClass("sapUshellCGHLIContent");};C.renderLIContent=function(r,l){var t=l.getTitleTextDirection();r.write("<span");r.writeAttributeEscaped("class","sapMGHLITitle");if(t!==T.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.write(">");r.renderControl(l.getAggregation("_titleText"));if(l.getDescription()){r.write("</br>");r.write("<span class='sapUshellCGHLIDescription'>");r.renderControl(l.getAggregation("_descriptionText"));r.write("</span>");}r.write("</span>");};return C;});
sap.ui.predefine('sap/ushell/ui/QuickAccess',["sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/library","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/components/ComponentKeysHandler","sap/ushell/utils/AppType"],function(F,J,u,C,r,a,W,b,A){"use strict";var c=u.AppType;var q={oModel:new J({recentActivities:[],frequentActivities:[]}),_createQuickAccessDialog:function(f){return F.load({name:"sap.ushell.ui.QuickAccess",type:"XML",controller:this}).then(function(o){this.oQuickAccessDialog=o;this.oQuickAccessDialog.setModel(this.oModel);this.oQuickAccessDialog.attachAfterClose(function(){this.oQuickAccessDialog.destroy();var d=sap.ui.getCore().byId(f);if(d){d.focus();}else{b.getInstance().then(function(e){e.goToTileContainer();});}}.bind(this));sap.ui.getCore().byId("shell").addDependent(this.oQuickAccessDialog);return this.oQuickAccessDialog;}.bind(this));},_updateQuickAccessDialog:function(d){var i=d.getContent()[0];i.setBusy(true);return sap.ushell.Container.getServiceAsync("UserRecents").then(function(U){return Promise.all([new Promise(function(e){U.getRecentActivity().then(function(f){e(f.map(function(o){o.timestamp=a.formatDate(o.timestamp);return o;}));},function(){e([]);});}),new Promise(function(e){U.getFrequentActivity().then(function(f){e(f);},function(){e([]);});})]);}).then(function(R){var e=R[0];var f=R[1];this.oModel.setData({recentActivities:e,frequentActivities:f});this._setDialogContentHeight(d,Math.max(e.length,f.length));i.setBusy(false);}.bind(this));},_setDialogContentHeight:function(d,i){var h=(i+0.5)*4+2.75;if(h<18){h=18;}else if(h>42){h=42;}d.setContentHeight(h+"rem");},_closeDialog:function(){this.oQuickAccessDialog.close();},_titleFormatter:function(t,s){if(s===c.SEARCH){t="\""+t+"\"";}return t;},_descriptionFormatter:function(s){if(s===c.SEARCH){return r.i18n.getText("recentActivitiesSearchDescription");}return A.getDisplayName(s);},_itemPress:function(e){var p=e.getParameter("listItem").getBindingContextPath();var i=this.oModel.getProperty(p);if(i.url[0]==="#"){window.hasher.setHash(i.url);this._closeDialog();}else{var l=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(l){var R={title:i.title,appType:c.URL,url:i.url,appId:i.url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(R);}W.openURL(i.url,"_blank");}}};return{openQuickAccessDialog:function(f,s){return q._createQuickAccessDialog(s).then(function(d){var i=d.getContent()[0];q._updateQuickAccessDialog(d);i.setSelectedKey(f);d.open();});},_getQuickAccess:function(){return q;}};});
sap.ui.predefine('sap/ushell/ui/appfinder/AppBox',["sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ushell/library","sap/ushell/resources"],function(C,I,a,u,r){"use strict";var A=C.extend("sap.ushell.ui.appfinder.AppBox",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null},navigationMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{pinButton:{type:"sap.m.Button",multiple:false}},events:{press:{},afterRendering:{}}}});A.prototype.init=function(){this._oIcon=new I().addStyleClass("sapUshellAppBoxIcon");};A.prototype.destroy=function(){C.prototype.destroy.apply(this,arguments);this._oIcon.destroy();};A.prototype.onAfterRendering=function(){var j=this.$("title"),b=this.$("subTitle");var t=parseInt(j.css("lineHeight"),10),T=j.height();if((T/t)>1){j.addClass("sapUshellAppBoxHeaderElementTwoLines");b.addClass("sapUshellAppBoxHeaderElementOneLine");}else{j.addClass("sapUshellAppBoxHeaderElementOneLine");b.addClass("sapUshellAppBoxHeaderElementTwoLines");}this.fireAfterRendering();};A.prototype.setIcon=function(i){this.setProperty("icon",i);this._oIcon.setSrc(a.isIconURI(i)?i:null);};A.prototype._getAriaLabel=function(){var s=this.getTitle(),S=this.getSubtitle(),n=this.getNavigationMode();if(S){s+=" "+S;}if(n){s+=" "+r.i18n.getText(n+"NavigationMode");}return s;};A.prototype.onclick=A.prototype.firePress;A.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e);};A.prototype.onsapenter=A.prototype.onsapspace;return A;});
sap.ui.predefine('sap/ushell/ui/appfinder/AppBoxRenderer',["sap/ushell/resources"],function(r){"use strict";var A={apiVersion:2};A.render=function(a,o){var c=o.getParent(),b=[];if(c&&c.getAppBoxesContainer&&c.getCustomTilesContainer){b=c.getAppBoxesContainer().concat(c.getCustomTilesContainer());}var v=b.filter(function(d){return d.getVisible();}),C=v.indexOf(o)>-1?v.indexOf(o)+1:"";a.openStart("li",o);a.class("sapUshellAppBox");a.attr("aria-posinset",C);a.attr("aria-setsize",v.length);a.attr("aria-label",o._getAriaLabel());a.attr("aria-roledescription",r.i18n.getText("tile"));a.attr("aria-describedby",o.getId());a.openEnd();a.openStart("div");a.class("sapUshellAppBoxInner");a.openEnd();var h=o.getIcon();if(h){a.renderControl(o._oIcon);}a.openStart("div");if(h){a.class("sapUshellAppBoxHeader");}else{a.class("sapUshellAppBoxHeaderNoIcon");}a.openEnd();a.openStart("div",o.getId()+"-title");a.class("sapUshellAppBoxTitle");a.openEnd();a.text(o.getTitle());a.close("div");if(o.getSubtitle()){a.openStart("div",o.getId()+"-subTitle");a.class("sapUshellAppBoxSubtitle");a.openEnd();a.text(o.getSubtitle());a.close("div");}a.close("div");a.close("div");a.openStart("div");a.class("sapUshellAppBoxActionsArea");if(o.getTitle){a.attr("role","toolbar");a.attr("aria-label",o.getTitle());}a.openEnd();a.renderControl(o.getPinButton());a.close("div");a.close("li");};return A;},true);
sap.ui.predefine('sap/ushell/ui/appfinder/PinButton',["sap/m/Button","sap/ushell/library"],function(B,u){"use strict";var P=B.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{library:"sap.ushell",properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}}});P.prototype.onAfterRendering=function(){this.$("inner").toggleClass("sapUshellPinSelected",this.getSelected());};return P;});
sap.ui.predefine('sap/ushell/ui/appfinder/PinButtonRenderer',["sap/m/ButtonRenderer","sap/ui/core/Renderer"],function(B,R){"use strict";var P=R.extend(B);P.apiVersion=2;P.renderAccessibilityAttributes=function(r,p,a){a.pressed=p.getSelected();};return P;});
sap.ui.predefine('sap/ushell/ui/bookmark/SaveOnPage.controller',["sap/ui/core/mvc/Controller","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/core/library"],function(C,L,a,r,h,c){"use strict";var V=c.ValueState;return C.extend("sap.ushell.ui.bookmark.SaveOnPage",{onInit:function(){var v=this.getView();v.setModel(r.i18nModel,"i18n");this.byId("bookmarkTitleInput").attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));this.setValueState(V.Error);}else{this.setValueState(V.None);}});this.byId("pageSelect").attachSelectionFinish(function(){if(this.getSelectedKeys().length===0){this.setValueStateText(r.i18n.getText("bookmarkPageSelectError"));this.setValueState(V.Error);}else{this.setValueState(V.None);}});},loadPagesIntoModel:function(s,p){if(s&&!p){var P=a.last("/core/shell/enablePersonalization");var m=a.last("/core/spaces/myHome/enabled");if(!P&&!m){var M=this.getView().getModel();M.setProperty("/pages",[]);M.setProperty("/cannotLoadPages",true);L.error("SaveOnPage controller: Unable to determine or use targets for bookmark placement, because personalization is disabled");return Promise.resolve();}var S=!P&&m;var b=a.last("/core/spaces/myHome/myHomeSpaceId");return Promise.all([sap.ushell.Container.getServiceAsync("Menu"),sap.ushell.Container.getServiceAsync("CommonDataModel")]).then(function(d){return Promise.all([d[0].getSpacesPagesHierarchy(),d[1].getAllPages()]);}).then(function(R){var d=R[0].spaces;var A=R[1];var e={};A.forEach(function(o){e[o.identification.id]=o.identification.title;});return d.reduce(function(t,o){if(S&&b!==o.id){return t;}o.pages.map(function(f){if(e[f.id]){t.push({id:f.id,title:e[f.id],spaceTitle:o.title});}});return t;},[]);}).then(function(t){if(t.length<1){return Promise.reject();}this.getView().getModel().setProperty("/pages",t);}.bind(this)).catch(function(){var M=this.getView().getModel();M.setProperty("/pages",[]);M.setProperty("/cannotLoadPages",true);L.error("SaveOnPage controller: Unable to determine or use targets for bookmark placement.");}.bind(this));}return Promise.resolve();},removeFocusFromTile:function(){this.getView().getDomRef().querySelector(".sapMGT").removeAttribute("tabindex");},getBookmarkTileData:function(){var v=this.getView();var m=v.getModel();var o=v.getViewData();var u;if(o.customUrl){if(typeof(o.customUrl)==="function"){u=o.customUrl();}else{u=o.customUrl;}}else{u=h.getHash()?("#"+h.getHash()):window.location.href;}var p=this.byId("pageSelect");var d={title:m.getProperty("/title")||"",subtitle:m.getProperty("/subtitle")||"",url:u,icon:m.getProperty("/icon"),info:m.getProperty("/info")||"",numberUnit:m.getProperty("/numberUnit"),serviceUrl:typeof(o.serviceUrl)==="function"?o.serviceUrl():o.serviceUrl,serviceRefreshInterval:m.getProperty("/serviceRefreshInterval"),pages:p?p.getSelectedKeys():[],keywords:m.getProperty("/keywords")};d.title=d.title.substring(0,256).trim();d.subtitle=d.subtitle.substring(0,256).trim();d.info=d.info.substring(0,256).trim();return d;},groupBySpace:function(b){return b.getObject().spaceTitle;},sortPages:function(p,b){if(a.last("/core/spaces/myHome/enabled")){var m=a.last("/core/spaces/myHome/myHomePageId");if(p.id===m){return-1;}if(b.id===m){return 1;}}if(p.spaceTitle.toUpperCase()>b.spaceTitle.toUpperCase()){return 1;}if(p.spaceTitle.toUpperCase()<b.spaceTitle.toUpperCase()){return-1;}return 0;}});});
sap.ui.predefine('sap/ushell/ui/fiori3/AppContainer',["../AppContainer"],function(A){"use strict";return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/AboutButton',["sap/m/ButtonRenderer","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem"],function(B,r,A){"use strict";var a=A.extend("sap.ushell.ui.footerbar.AboutButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});a.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://hint");this.setText(r.i18n.getText("about"));this.setTooltip(r.i18n.getText("about"));this.attachPress(this.showAboutDialog);};a.prototype.showAboutDialog=function(){return new Promise(function(b,c){sap.ui.require(["sap/ushell/ui/footerbar/AboutDialog.controller","sap/ui/core/Fragment"],function(d,F){F.load({id:"aboutDialogFragment",name:"sap.ushell.ui.footerbar.AboutDialog",type:"XML",controller:new d()}).then(function(e){e.setModel(r.getTranslationModel(),"i18n");e.open();b();}).catch(c);});});};return a;});
sap.ui.predefine('sap/ushell/ui/footerbar/AboutDialog.controller',["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/services/AppConfiguration","sap/ushell/Config","sap/ushell/resources","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/Device"],function(C,F,J,A,a,r,L,b,D){"use strict";return C.extend("sap.ushell.ui.footerbar.AboutDialog.controller",{onBeforeOpen:function(){this._setupAboutDialogModel();},onClose:function(){this._getDialog().close();},onAfterClose:function(){this._getDialog().destroy();},_getDialog:function(){if(!this.oAboutDialog){this.oAboutDialog=F.byId("aboutDialogFragment","aboutDialog");}return this.oAboutDialog;},_setupAboutDialogModel:function(){this._setupAppInfoModel().catch(function(e){L.error("Failed to setup application info model.",e);});var o=this._getDialog(),s=this._getSystemInformation(),u=this._getUserEnvironmentInformation(),S=new J(s),U=new J(u);o.setModel(S,"SysInfo");o.setModel(U,"UserEnvInfo");},_setupAppInfoModel:function(){var c=["appId","appVersion","appSupportInfo","technicalAppComponentId","appFrameworkId","appFrameworkVersion"],o=this._getDialog();return new Promise(function(d,e){sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(f){var g=f.getCurrentApplication();return Promise.all([g.getInfo(c),this._getContentProviderLabel(g)]);}.bind(this)).then(function(R){var m=A.getMetadata(),i=R[0]||{},p=R[1];c=c.concat(["appTitle","contentProviderLabel"]);i.appTitle=m.title;i.contentProviderLabel=p;var f=this._buildApplicationInformationObject(c,i);o.setModel(new J(f),"AppInfo");d();}.bind(this)).catch(function(f){e(f);});}.bind(this));},_buildApplicationInformationObject:function(c,p){var o={},P;for(var i=0;i<c.length;i++){P=c[i];if(p[P]){o[P]={label:r.i18n.getText(P),text:p[P]};}}return o;},_getSystemInformation:function(){var l=sap.ushell.Container.getLogonSystem(),p=l.getProductName(),P=l.getProductVersion(),s=l.getSystemName(),S=l.getSystemRole(),t=l.getTenantRole(),o={};if(p){o.productName={label:r.i18n.getText("productName"),text:p};}if(P){o.productVersion={label:r.i18n.getText("productVersionFld"),text:P};}if(s){o.systemName={label:r.i18n.getText("systemName"),text:s};}if(S){o.systemRole={label:r.i18n.getText("systemRole"),text:S};}if(t){o.tenantRole={label:r.i18n.getText("tenantRole"),text:t};}return o;},_getUserEnvironmentInformation:function(){var u={};u.userAgentFld={label:r.i18n.getText("userAgentFld"),text:navigator.userAgent};var d=this._getDeviceType(),t=this._isTouchSupported(),U=sap.ushell.Container.getUser(),T=U.getTheme(),o=U.getContentDensity()==="cozy";if(d){u.deviceType={label:r.i18n.getText("deviceType"),text:d};}u.touchSupported={label:r.i18n.getText("touchSupported"),text:t?r.i18n.getText("yes"):r.i18n.getText("no")};u.activeTheme={label:r.i18n.getText("activeTheme"),text:T};u.optimizedForTouch={label:r.i18n.getText("AppearanceContentDensityLabel"),text:o?r.i18n.getText("yes"):r.i18n.getText("no")};return u;},_getContentProviderLabel:function(o){if(a.last("/core/contentProviders/providerInfo/show")){return o.getSystemContext().then(function(s){return s.label;});}return Promise.resolve(undefined);},_getDeviceType:function(){var d;if(D.system.combi){d=r.i18n.getText("configuration.form_factor_combi");}else if(D.system.desktop){d=r.i18n.getText("configuration.form_factor_desktop");}else if(D.system.tablet){d=r.i18n.getText("configuration.form_factor_tablet");}else if(D.system.phone){d=r.i18n.getText("configuration.form_factor_phone");}return d;},_isTouchSupported:function(){return D.support.touch&&(D.system.tablet||D.system.phone||D.system.combi);},calculateNumberOfColumns:function(m){if(!this.isFormVisible(m)){return 1;}return Object.keys(m).length>1?2:1;},isFormVisible:function(m){return!!m&&!b(m);}});});
sap.ui.predefine('sap/ushell/ui/footerbar/AddBookmarkButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/library","sap/m/MessageBox","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/library","sap/ushell/resources"],function(L,B,a,D,m,M,T,V,c,b,d,J,C,u,r){"use strict";var e=m.ButtonType;var f=c.ValueState;var g=c.mvc.ViewType;var A=B.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Appearance",defaultValue:null},numberUnit:{type:"string",group:"Appearance",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},showPageSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});A.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.bSpaceEnabled=C.last("/core/spaces/enabled");this.bMyHomeEnabled=C.last("/core/spaces/myHome/enabled");this.setIcon("sap-icon://add-favorite");this.setText(r.i18n.getText("addToHomePageBtn"));this.setEnabled();this.oModel=new J({showGroupSelection:true,showPageSelection:true,title:"",subtitle:"",numberValue:0,info:"",icon:"",numberUnit:"",keywords:""});this.attachPress(function(){var h=this.getBeforePressHandler();if(h){h();}this.showAddBookmarkDialog();}.bind(this));};A.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy();}if(this.oModel){this.oModel.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};A.prototype.setBookmarkTileView=function(v){this.bookmarkTileView=v;};A.prototype.getBookmarkTileView=function(){return this.bookmarkTileView;};A.prototype.showAddBookmarkDialog=function(){var o=this.getAppData()||{};var v={serviceUrl:this.getServiceUrl()||o.serviceUrl,customUrl:this.getCustomUrl()||o.customUrl};this.oModel.setProperty("/serviceUrl",!!v.serviceUrl);var h;if(this.bSpaceEnabled){h=b.create({type:g.XML,viewName:"sap.ushell.ui.bookmark.SaveOnPage",viewData:v});}else{h=b.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view",viewData:v});}return h.then(function(i){this.setBookmarkTileView(i);i.setModel(this.oModel);return new Promise(function(j,k){sap.ui.require(["sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout"],function(S,l){this.oSimpleForm=new S({id:"bookmarkFormId",layout:l.ResponsiveGridLayout,content:[i],editable:true}).addStyleClass("sapUshellAddBookmarkForm");j(this._openDialog(this.oSimpleForm));}.bind(this));}.bind(this));}.bind(this));};A.prototype._openDialog=function(o){this.oDialog=new D({id:"bookmarkDialog",title:r.i18n.getText("addToHomePageBtn"),contentWidth:"25rem",content:o,beginButton:new B("bookmarkOkBtn",{text:r.i18n.getText("okBtn"),type:e.Emphasized,press:[this._handleOKButtonPress,this]}),endButton:new B("bookmarkCancelBtn",{text:r.i18n.getText("cancelBtn"),press:[this._handleCancelButtonPress,this]}),stretch:d.system.phone,horizontalScrolling:false,afterClose:function(){var h=this.getAfterPressHandler();if(h){h();}this._restoreDialogEditableValuesToDefault();this.oDialog.destroy();delete this.oDialog;}.bind(this)}).addStyleClass("sapContrastPlus");this.oDialog.open();return this.oDialog;};A.prototype._handleOKButtonPress=function(){if(this.bSpaceEnabled){this._handleOKButtonPressSpacesMode();}else{this._handleOKButtonPressClassicMode();}};A.prototype._handleCancelButtonPress=function(){if(this.bSpaceEnabled){this._handleCancelButtonPressSpacesMode();}else{this._handleCancelButtonPressClassicMode();}};A.prototype.setTitle=function(t){this.setProperty("title",t,true);this.oModel.setProperty("/title",t);return this;};A.prototype.setSubtitle=function(s){this.setProperty("subtitle",s,true);this.oModel.setProperty("/subtitle",s);return this;};A.prototype.setInfo=function(i){this.setProperty("info",i,true);this.oModel.setProperty("/info",i);return this;};A.prototype.setTileIcon=function(i){this.setProperty("tileIcon",i,true);this.oModel.setProperty("/icon",i);return this;};A.prototype.setShowGroupSelection=function(s){this.setProperty("showGroupSelection",s,true);this.oModel.setProperty("/showGroupSelection",s);return this;};A.prototype.setNumberUnit=function(n){this.setProperty("numberUnit",n,true);this.oModel.setProperty("/numberUnit",n);return this;};A.prototype.setServiceRefreshInterval=function(s){this.setProperty("serviceRefreshInterval",s,true);this.oModel.setProperty("/serviceRefreshInterval",s);return this;};A.prototype.setKeywords=function(k){this.setProperty("keywords",k,true);this.oModel.setProperty("/keywords",k);return this;};A.prototype.setAppData=function(o){this.setProperty("appData",o,true);var h=["showGroupSelection","title","subtitle","info","icon","numberUnit","keywords","serviceRefreshInterval"];var i=["showInfo","showPreview"];Object.keys(o).forEach(function(k){if(h.indexOf(k)>-1){var p=k==="icon"?"tileIcon":k;this.setProperty(p,o[k],true);}if(h.indexOf(k)>-1||i.indexOf(k)>-1){this.oModel.setProperty("/"+k,o[k]);}}.bind(this));return this;};A.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty("/title",this.getTitle());this.oModel.setProperty("/subtitle",this.getSubtitle());this.oModel.setProperty("/info",this.getInfo());}};A.prototype._handleCancelButtonPressSpacesMode=function(){var o=this.getBookmarkTileView().getController();var h=o.getBookmarkTileData();if(h.title||h.subtitle||h.info||h.pages.length){var s=r.i18n.getText("SaveAsTileDialog.MessageBox.Action.Discard");var i=r.i18n.getText("SaveAsTileDialog.MessageBox.Message.Discard");var t=r.i18n.getText("SaveAsTileDialog.MessageBox.Title.Discard");M.show(i,{title:t,actions:[s,M.Action.CANCEL],emphasizedAction:s,onClose:function(R){if(R===s){this.oDialog.close();}}.bind(this)});}else{this.oDialog.close();}};A.prototype._handleOKButtonPressSpacesMode=function(){var o=this.getBookmarkTileView().getController();var h=o.getBookmarkTileData();var v=true;if(h.pages.length===0){var p=o.byId("pageSelect");if(p){p.setValueState(f.Error);p.setValueStateText(r.i18n.getText("bookmarkPageSelectError"));v=false;}}if(!h.title||h.title.length<1){var t=o.byId("bookmarkTitleInput");if(t){t.setValueState(f.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));v=false;}}if(!v){return;}this.oDialog.setBusy(true);var i=h.pages;delete h.pages;var j=sap.ushell.Container.getServiceAsync("Bookmark");var k=i.map(function(P){return j.then(function(l){return l.addBookmarkToPage(h,P);}).then(function(){return{pageId:P,status:"resolved"};}).catch(function(s){L.error("Failed to add one a bookmark: ",s,"sap.ushell.ui.footerbar.AddBookmarkButton");return{pageId:P,error:s,status:"failed"};});});Promise.all(k).then(function(R){sap.ushell.Container.getServiceAsync("Message").then(function(l){var s=R.filter(function(n){return n.status==="resolved";}).length;var F=R.filter(function(n){return n.status==="failed";});if(s===1){l.info(r.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPage"));}else if(s>1){l.info(r.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPages"));}if(F.length){this._showErrorDialog(F,s,h.title);}this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));}.bind(this));};A.prototype._showErrorDialog=function(h,n,i){sap.ushell.Container.getServiceAsync("Message").then(function(o){var E,s;if(h.length===1){if(n===0){E=r.i18n.getText("SaveAsTileDialog.MessageBox.SinglePageError");}else{E=r.i18n.getText("SaveAsTileDialog.MessageBox.OnePageError");}s=r.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorDetail",[i,h[0].pageId]);}else if(h.length>1){if(n===0){E=r.i18n.getText("SaveAsTileDialog.MessageBox.AllPagesError");}else{E=r.i18n.getText("SaveAsTileDialog.MessageBox.SomePagesError");}var p=h.map(function(F){return F.pageId;}).join("\n");s=r.i18n.getText("SaveAsTileDialog.MessageBox.PagesErrorDetail",[i,p]);}var j=new V({items:[new T({text:s}).addStyleClass("sapUiSmallMarginBottom"),new T({text:h.map(function(F){return F.error;}).join("\n")}).addStyleClass("sapUiSmallMarginBottom"),new T({text:r.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorSolution")})]});o.errorWithDetails(E,j);});};A.prototype._handleCancelButtonPressClassicMode=function(){this.oDialog.close();};A.prototype._handleOKButtonPressClassicMode=function(){var o=this.getBookmarkTileView();var h=o.getController();var i=h.getBookmarkTileData();if(!i.title||i.title.length<1){var t=o.getTitleInput();if(t){t.setValueState(f.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));return Promise.reject();}}this.oDialog.setBusy(true);var s=i.group?i.group.object:"";delete i.group;return Promise.all([sap.ushell.Container.getServiceAsync("Bookmark"),sap.ushell.Container.getServiceAsync("Message")]).then(function(R){var j=R[0];var k=R[1];return new Promise(function(l,n){j.addBookmark(i,s).done(l).fail(n);}).then(function(){k.info(r.i18n.getText("tile_created_msg"));}).catch(function(l){L.error("Failed to add bookmark",l,"sap.ushell.ui.footerbar.AddBookmarkButton");k.error(r.i18n.getText("fail_to_add_tile_msg"));});}).finally(function(){this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));};A.prototype.setEnabled=function(E){var s="",p=true,S;if(sap.ushell.renderers&&sap.ushell.renderers.fiori2&&sap.ushell.renderers.fiori2.RendererExtensions){S=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(S.appState){s=S.appState;}if(S.enablePersonalization!==undefined){p=S.enablePersonalization;}if(!p&&this.bSpaceEnabled&&this.bMyHomeEnabled){p=true;}}if(s==="headerless"||s==="standalone"||s==="embedded"||s==="merged"||!p){E=false;}if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton");}E=false;}B.prototype.setEnabled.call(this,E);if(!E){this.addStyleClass("sapUshellAddBookmarkButton");}};return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/JamDiscussButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/resources"],function(L,B,a,r){"use strict";var J=B.extend("sap.ushell.ui.footerbar.JamDiscussButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});J.prototype.init=function(){var t=this;if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setEnabled();this.setIcon("sap-icon://discussion-2");this.setText(r.i18n.getText("discussBtn"));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.showDiscussDialog(t.getAfterPressHandler());});};J.prototype.showDiscussDialog=function(c){if(!this.discussComponent){this.discussComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.feed.dialog"});}this.discussComponent.setSettings(this.getJamData());this.discussComponent.open();if(c){c();}};J.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling JamDiscussButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamDiscussButton");}e=false;}else{var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(this.getEnabled()){L.info("Disabling JamDiscussButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamDiscussButton");}e=false;this.setVisible(false);}}B.prototype.setEnabled.call(this,e);};return J;});
sap.ui.predefine('sap/ushell/ui/footerbar/JamShareButton',["sap/base/Log","sap/collaboration/components/fiori/sharing/dialog/Component","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/library","sap/ushell/resources"],function(L,C,B,a,l,r){"use strict";var J=B.extend("sap.ushell.ui.footerbar.JamShareButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});J.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setEnabled();this.setIcon("sap-icon://share-2");this.setText(r.i18n.getText("shareBtn"));this.attachPress(function(){if(this.getBeforePressHandler()){this.getBeforePressHandler()();}this.showShareDialog(this.getAfterPressHandler());}.bind(this));};J.prototype.showShareDialog=function(c){function o(){this.shareComponent.setSettings(this.getJamData());this.shareComponent.open();if(c){c();}}if(!this.shareComponent){this.shareComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog"});}if(sap.ushell.Container&&sap.ushell.Container.inAppRuntime()){this.adjustFLPUrl(this.getJamData()).then(function(){o.call(this);}.bind(this),function(e){L.error("Could not retrieve FLP URL",e,"sap.ushell.ui.footerbar.JamShareButton");});}else{o.call(this);}};J.prototype.exit=function(){if(this.shareComponent){this.shareComponent.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};J.prototype.setEnabled=function(e){if(sap.ushell.Container){var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(!e){L.info("Disabling JamShareButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamShareButton");}e=false;this.setVisible(false);}}else{if(!e){L.warning("Disabling JamShareButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamShareButton");}e=false;}B.prototype.setEnabled.call(this,e);};J.prototype.adjustFLPUrl=function(j){if(j&&j.object&&j.object.id&&typeof j.object.id==="string"&&j.object.id===document.URL){return sap.ushell.Container.getFLPUrl(true).then(function(u){j.object.id=u;});}return Promise.resolve();};return J;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/LogoutButton',["sap/base/Log","sap/m/ButtonRenderer","sap/m/MessageBox","sap/ui/core/ElementMetadata","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/LoadingDialog"],function(L,B,M,E,r,A,a){"use strict";var b=M.Action;var I=M.Icon;var c=A.extend("sap.ushell.ui.footerbar.LogoutButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});c.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://log");this.setTooltip(r.i18n.getText("signoutBtn_tooltip"));this.setText(r.i18n.getText("signoutBtn_title"));this.attachPress(this.logout);this.setEnabled();};c.prototype.logout=function(){var s=true,i=false,l=new a({text:""});sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){l.exit();l=new a({text:""});}var R=r.i18n,o;if(d===sap.ushell.Container.DirtyState.DIRTY){o={message:R.getText("unsaved_data_warning_popup_message"),icon:I.WARNING,messageTitle:R.getText("unsaved_data_warning_popup_title")};}else{o={message:R.getText("signoutConfirmationMsg"),icon:I.QUESTION,messageTitle:R.getText("signoutMsgTitle")};}M.show(o.message,o.icon,o.messageTitle,[b.OK,b.CANCEL],function(e){if(e===b.OK){l.openLoadingScreen();l.showAppInfo(r.i18n.getText("beforeLogoutMsg"),null);sap.ushell.Container.logout();}},E.uid("confirm"));});if(s===true){l.openLoadingScreen();i=true;}};c.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'Logout' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.LogoutButton");}e=false;}A.prototype.setEnabled.call(this,e);};return c;});
sap.ui.predefine('sap/ushell/ui/footerbar/SaveAsTile.controller',["sap/ui/core/mvc/Controller","sap/base/Log","sap/ushell/resources","sap/ui/core/library","sap/ui/thirdparty/hasher"],function(C,L,r,c,h){"use strict";var V=c.ValueState;return C.extend("sap.ushell.ui.footerbar.SaveAsTile",{onInit:function(){var v=this.getView();v.getTitleInput().attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));this.setValueState(V.Error);}else{this.setValueState(V.None);}});},loadPersonalizedGroups:function(){return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(a){return new Promise(function(b,d){a.getGroupsForBookmarks().done(b).fail(d);});}).then(function(b){var m=this.getView().getModel();m.setProperty("/groups",b);m.setProperty("/groups/length",b.length);}.bind(this)).catch(function(){L.error("SaveAsTile controller: Unable to determine targets for bookmark placement.");});},getLocalizedText:function(m,p){return p?r.i18n.getText(m,p):r.i18n.getText(m);},getBookmarkTileData:function(){var v=this.getView();var m=v.getModel();var o=v.getViewData();var s;if(v.oGroupsSelect&&v.oGroupsSelect.getSelectedItem()){s=v.oGroupsSelect.getSelectedItem().getBindingContext().getObject();}var u;if(o.customUrl){if(typeof(o.customUrl)==="function"){u=o.customUrl();}else{u=o.customUrl;}}else{u=h.getHash()?("#"+h.getHash()):window.location.href;}var d={title:m.getProperty("/title")||"",subtitle:m.getProperty("/subtitle")||"",url:u,icon:m.getProperty("/icon")||"",info:m.getProperty("/info")||"",numberUnit:m.getProperty("/numberUnit")||"",serviceUrl:typeof(o.serviceUrl)==="function"?o.serviceUrl():o.serviceUrl,serviceRefreshInterval:m.getProperty("/serviceRefreshInterval"),group:s,keywords:m.getProperty("/keywords")||""};d.title=d.title.substring(0,256).trim();d.subtitle=d.subtitle.substring(0,256).trim();d.info=d.info.substring(0,256).trim();return d;},onExit:function(){var v=this.getView();var t=v.getTileView();t.destroy();}});});
sap.ui.predefine('sap/ushell/ui/footerbar/SaveAsTile.view',["sap/m/FlexBox","sap/m/GenericTile","sap/m/Input","sap/m/Label","sap/m/library","sap/m/NumericContent","sap/m/Select","sap/m/TileContent","sap/ui/core/HTML","sap/ui/core/ListItem","sap/ui/core/mvc/View","sap/ui/model/BindingMode","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/ui/launchpad/Tile","sap/ushell/ui/footerbar/SaveAsTile.controller"],function(F,G,I,L,m,N,S,T,H,a,V,B,q,r,b){"use strict";var c=m.FlexJustifyContent;var d=m.FlexRendertype;var e=m.FlexAlignItems;return V.extend("sap.ushell.ui.footerbar.SaveAsTile",{getControllerName:function(){return"sap.ushell.ui.footerbar.SaveAsTile";},createContent:function(){this.oResourceBundle=r.i18n;this.viewData=this.getViewData()||{};this.appData=this.viewData.appData||{};this.oTitleInput=new I("bookmarkTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoTitle_tooltip"),value:{path:"/title",mode:B.TwoWay}}).addStyleClass("sapUshellInputField");this.oTitleInput.addAriaLabelledBy("titleLbl");this.oSubTitleInput=new I("bookmarkSubTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoSubTitle_tooltip"),value:{path:"/subtitle",mode:B.TwoWay}}).addStyleClass("sapUshellInputField");this.oSubTitleInput.addAriaLabelledBy("subtitleLbl");this.oInfoInput=new I("bookmarkInfoInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoDescription_tooltip"),value:{path:"/info",mode:B.TwoWay},visible:"{/showInfo}"}).addStyleClass("sapUshellInputField");this.oInfoInput.addAriaLabelledBy("infoLbl");var t;if(this.viewData.serviceUrl){t=new G({header:"{/title}",subheader:"{/subtitle}",size:"Auto",tileContent:[new T({size:"Auto",footer:"{/info}",unit:"{/numberUnit}",content:[new N({value:"{/numberValue}",truncateValueTo:5,icon:"{/icon}",withMargin:false,width:"100%"})]})]});}else{t=new G({header:"{/title}",subheader:"{/subtitle}",size:"Auto",tileContent:[new T({size:"Auto",footer:"{/info}",content:new N({icon:"{/icon}",value:" ",width:"100%",withMargin:false})})]});}this.setTileView(t);var f=new b({long:false,tileViews:[t],afterRendering:function(){var k=q(this.getDomRef()),l=k.find(".sapMGT");l.removeAttr("tabindex");}}).addStyleClass("sapUshellBookmarkFormPreviewTileMargin");var p=new H("previewBackgroundElement",{content:"<div class='sapUshellShellBG sapContrastPlus sapUiStrongBackgroundColor'></div>"});var h=new F("saveAsTileHBox",{items:[p,f],alignItems:e.Center,justifyContent:c.Center,renderType:d.Bare,visible:"{/showPreview}"}).addStyleClass("sapUshellShellBG").addStyleClass("sapUshellBookmarkFormPreviewBoxBottomMargin");this.oGroupsSelect=new S("groupsSelect",{items:{path:"/groups",template:new a({text:"{title}"})},width:"100%",visible:{parts:["/showGroupSelection","/groups"],formatter:function(k,l){if(k&&!(l&&l.length)){this.oController.loadPersonalizedGroups();}return k;}.bind(this)}});this.oGroupsSelect.addAriaLabelledBy("groupLbl");var P=new L("previewLbl",{text:this.oResourceBundle.getText("previewFld"),labelFor:h,visible:"{/showPreview}"});var o=new L("titleLbl",{required:true,text:" "+this.oResourceBundle.getText("titleFld"),labelFor:this.oTitleInput}).setLabelFor("bookmarkTitleInput");var s=new L("subtitleLbl",{text:this.oResourceBundle.getText("subtitleFld"),labelFor:this.oSubTitleInput}).setLabelFor("bookmarkSubTitleInput");var i=new L("infoLbl",{text:this.oResourceBundle.getText("tileSettingsDialog_informationField"),labelFor:this.oInfoInput,visible:"{/showInfo}"}).setLabelFor("bookmarkInfoInput");var g=this.oResourceBundle.getText("GroupListItem_label");var j=new L("groupLbl",{text:g,labelFor:this.oGroupsSelect,visible:"{/showGroupSelection}"}).setLabelFor("groupsSelect");return[P,h,o,this.oTitleInput,s,this.oSubTitleInput,i,this.oInfoInput,j,this.oGroupsSelect];},getTitleInput:function(){return this.oTitleInput;},getTileView:function(){return this.tileView;},setTileView:function(t){this.tileView=t;}});});
sap.ui.predefine('sap/ushell/ui/footerbar/SendAsEmailButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/Config","sap/ushell/resources"],function(L,B,a,C,r){"use strict";var S=B.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://email");this.setText(r.i18n.getText("sendEmailBtn"));this.setTooltip(r.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(function(){if(this.getBeforePressHandler()){this.getBeforePressHandler()();}this.sendAsEmailPressed(this.getAfterPressHandler());}.bind(this));};S.prototype.sendAsEmailPressed=function(c){if(sap.ushell.Container.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(b){b.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true});});}else{var u=document.URL;var A=C.last("/core/shellHeader/application").title;var s=(A===undefined)?r.i18n.getText("linkToApplication"):r.i18n.getText("linkTo")+" '"+A+"'";sap.ushell.Container.getServiceAsync("AppState").then(function(o){o.setAppStateToPublic(u).done(function(n){sap.m.URLHelper.triggerEmail(null,s,n);}).fail(L.error);});}if(c){c();}};return S;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/SettingsButton',["sap/m/Button","sap/m/ButtonRenderer","sap/m/library","sap/ushell/resources","sap/ushell/ui/footerbar/AboutButton","sap/ushell/ui/footerbar/LogoutButton","sap/ushell/ui/footerbar/UserPreferencesButton"],function(B,a,m,r,A,L,U){"use strict";var P=m.PlacementType;var S=B.extend("sap.ushell.ui.footerbar.SettingsButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://action-settings");this.setTooltip(r.i18n.getText("helpBtn_tooltip"));this.attachPress(this.showSettingsMenu);this.defaultMenuItems=[new A(),new U(),new L()];};S.prototype.setMenuItems=function(b){this.menuItems=b;};S.prototype.showSettingsMenu=function(){sap.ui.require(["sap/m/ActionSheet"],function(b){var o=new b({id:"settingsMenu",showHeader:false,buttons:(this.menuItems||[]).concat(this.defaultMenuItems)});o.setPlacement(P.Vertical);o.openBy(this);o.attachAfterClose(function(){o.removeAllButtons();o.destroy();});}.bind(this));};return S;});
sap.ui.predefine('sap/ushell/ui/footerbar/UserPreferencesButton',["sap/base/Log","sap/m/Bar","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/DisplayListItem","sap/m/library","sap/m/List","sap/m/Text","sap/m/ObjectIdentifier","sap/ui/core/IconPool","sap/ui/Device","sap/ui/layout/VerticalLayout","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/utils"],function(L,B,a,b,D,c,m,d,T,O,I,f,V,J,q,C,E,u,r,A,g,U){"use strict";var h=m.ButtonType;var j=g.extend("sap.ushell.ui.footerbar.UserPreferencesButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});j.prototype.init=function(){if(g.prototype.init){g.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://person-placeholder");this.translationBundle=r.i18n;this.setText(this.translationBundle.getText("userSettings"));this.setTooltip(this.translationBundle.getText("settings_tooltip"));this.attachPress(this.showUserPreferencesDialog);this.oModel=C.createModel("/core/userPreferences",J);this.setModel(this.oModel);};j.prototype.createDialog=function(){var t=this;this.saveButton=this._createSaveButton();this.cancelButton=this._createCancelButton();this.oDialog=new D({id:"userPreferencesDialog",title:"{/dialogTitle}",contentWidth:"29.6rem",content:null,contentHeight:"17rem",buttons:[this.saveButton,this.cancelButton],afterClose:function(){this._destroyDialog();this.oUser.resetChangedProperties();}.bind(t),stretch:f.system.phone}).addStyleClass("sapUshellUserPreferencesDialog").addStyleClass("sapContrastPlus");this._addDialogBackButton();this.oDialog.setModel(this.getModel());this.oDialog.addCustomData(new A({key:"aria-label",value:t.translationBundle.getText("Settings_Dialog_Main_label"),writeToDom:true}));this.oDialog.addContent(this._getOriginalDialogContent());};j.prototype._getOriginalDialogContent=function(){if(!this.oInitialContent){var o,e;o=this._getUserDetailsControl();e=this._getEntryListControl();this.oInitialContent=new V("userPreferencesLayout",{content:[o,e],width:"100%"});}return this.oInitialContent;};j.prototype._getEntryListControl=function(){var e=this._getUserPrefEntriesTemplate(),x=this.getModel()&&this.getModel().getProperty("/enableHelp"),t=this,i,s=this.oUser.getFullName(),o,k=new d("userPrefEnteryList",{items:{path:"/entries",template:e}});k.addCustomData(new A({key:"aria-label",value:t.translationBundle.getText("Settings_EntryList_label")+s,writeToDom:true}));o=k.onAfterRendering;k.onAfterRendering=function(){var l=this.getItems(),n;o.apply(this,arguments);for(i=0;i<l.length;i++){n=l[i].getBindingContext().getPath();if(!t.getModel().getProperty(n+"/valueResult")){t._setEntryValueResult(n);}if(x){t._addXRayHelpId(n,l[i]);}}};return k;};j.prototype._addXRayHelpId=function(e,l){var i=this.getModel().getProperty(e+"/entryHelpID");if(i){l.addStyleClass("help-id-"+i);}};j.prototype._setEntryValueResult=function(e){var t=this,i=this.getModel().getProperty(e+"/editable"),v=this.getModel().getProperty(e+"/valueArgument");if(typeof v==="function"){this.getModel().setProperty(e+"/valueResult",this.translationBundle.getText("genericLoading"));this.getModel().setProperty(e+"/editable",false);var o=v();o.done(function(k){t.getModel().setProperty(e+"/editable",i);t.getModel().setProperty(e+"/visible",typeof(k)==="object"?!!k.value:true);t.getModel().setProperty(e+"/valueResult",typeof(k)==="object"?k.displayText:k);});o.fail(function(){t.getModel().setProperty(e+"/valueResult",t.translationBundle.getText("loadingErrorMessage"));});}else if(v){this.getModel().setProperty(e+"/valueResult",v);this.getModel().setProperty(e+"/editable",i);}else{this.getModel().setProperty(e+"/valueResult",this.translationBundle.getText("loadingErrorMessage"));}};j.prototype._emitEntryOpened=function(e){var o=E.last("UserSettingsOpened")||{},p=e.split("/").pop();o[p]=true;E.emit("UserSettingsOpened",o);};j.prototype._getUserPrefEntriesTemplate=function(){var t=this,i,p=function(e){var o={};o=q.extend(true,{},{},e);sap.ui.require(["sap/m/FlexBox","sap/m/FlexAlignItems","sap/m/FlexJustifyContent","sap/m/BusyIndicator"],function(F,k,l,n){var s=true,v,w,x=o.getSource().getLabel(),y=o.getSource().getBindingContext().getPath();t.getModel().setProperty("/activeEntryPath",y);t._setDetailedEntryModeMode(true,y,x,y);t.oDialog.removeAllContent();w=t.getModel().getProperty(y+"/contentResult");if(w){v=sap.ui.getCore().byId(w);t.oDialog.addContent(v);t._emitEntryOpened(y);}else{var z=null,G,S=true,H=false,K=t.getModel().getProperty(y+"/contentFunc");if(typeof K==="function"){t._emitEntryOpened(y);G=K();G.done(function(M){S=false;if(H===true){t.oDialog.removeAllContent();z.destroy();}if(M instanceof sap.ui.core.Control){t.getModel().setProperty(y+"/contentResult",M.getId());t.oDialog.addContent(M);}else{s=false;}});G.fail(function(){S=false;if(H===true){t.oDialog.removeAllContent();z.destroy();}s=false;});G.always(function(){if(s===false){var M=new F("userPrefErrorFlexBox",{height:"5rem",alignItems:k.Center,justifyContent:l.Center,items:[new T("userPrefErrorText",{text:t.translationBundle.getText("loadingErrorMessage")})]});t.getModel().setProperty(y+"/contentResult",M.getId());t.oDialog.addContent(M);}});if(S===true){z=new n("userPrefLoadingBusyIndicator",{size:"2rem"});t.oDialog.addContent(z);H=true;}}}});};i=new c({label:"{title}",value:"{valueResult}",tooltip:{path:"valueResult",formatter:function(v){return typeof(v)==="string"?v:"";}},type:{path:"editable",formatter:function(e){return(e===true)?"Navigation":"Inactive";}},visible:{path:"visible",formatter:function(v){return(v!==undefined)?v:true;}},press:p,customData:new A({key:"aria-label",value:{parts:[{path:"title"},{path:"valueResult"}],formatter:function(s,v){v=v||"";return s+" "+v;}},writeToDom:true})});return i;};j.prototype._getUserDetailsControl=function(){return new O({title:this.oUser.getFullName(),text:this.oUser.getEmail()}).addStyleClass("sapUshellUserPrefUserIdentifier");};j.prototype._createCancelButton=function(){var t=this;return new a({id:"cancelButton",text:{parts:["/entries"],formatter:function(e){if(!e){return"";}var i=e.some(function(o){return o.editable;});return i>0?t.translationBundle.getText("cancelBtn"):t.translationBundle.getText("close");}},press:t._dialogCancelButtonHandler.bind(t),visible:true});};j.prototype._createSaveButton=function(){var t=this;return new a({id:"saveButton",text:this.translationBundle.getText("saveBtn"),type:h.Emphasized,press:t._dialogSaveButtonHandler.bind(t),visible:{parts:["/entries"],formatter:function(e){if(!e){return false;}return e.some(function(o){return o.editable;});}}});};j.prototype._setDetailedEntryModeMode=function(i,e,k,l){this.getModel().setProperty("/isDetailedEntryMode",!!i);this.getModel().setProperty("/dialogTitle",k);};j.prototype.showUserPreferencesDialog=function(){this.oUser=sap.ushell.Container.getUser();this.createDialog();this.oDialog.open();};j.prototype._dialogBackButtonHandler=function(){var t=this;t.getModel().setProperty("/isDetailedEntryMode",false);t.getModel().setProperty("/dialogTitle",t.translationBundle.getText("userSettings"));t.oDialog.removeAllContent();t.oDialog.addContent(t._getOriginalDialogContent());t._setEntryValueResult(t.getModel().getProperty("/activeEntryPath"));t.getModel().setProperty("/activeEntryPath",null);};j.prototype._destroyDialog=function(){this.oHeadBar.destroy();this.oInitialContent.destroy();this.oInitialContent=null;this._modelCleanUpToInitial();this._entriesCleanUp();this.oDialog.destroy();this.saveButton.destroy();this.cancelButton.destroy();};j.prototype._entriesCleanUp=function(){var i,e=this.getModel().getProperty("/entries"),s,o;for(i=0;i<e.length;i++){s=e[i].contentResult;delete e[i].contentResult;if(s){o=sap.ui.getCore().byId(s);o.destroy();o=null;}e[i].valueResult=null;}this.getModel().setProperty("/entries",e);};j.prototype._modelCleanUpToInitial=function(){this.getModel().setProperty("/isDetailedEntryMode",false);this.getModel().setProperty("/dialogTitle",this.translationBundle.getText("userSettings"));};j.prototype._dialogSaveButtonHandler=function(){var t=this,i,e=this.getModel().getProperty("/entries"),s=U.saveUserPreferenceEntries(e);i=this.getModel().getProperty("/isDetailedEntryMode");if(i){this.getModel().setProperty("/activeEntryPath",null);}s.done(function(){t._showSaveMessageToast();});s.fail(function(k){var l,n="";if(k.length===1){l=t.translationBundle.getText("savingEntryError")+" ";}else{l=t.translationBundle.getText("savingEntriesError")+"\n";}k.forEach(function(o){l+=o.entry+"\n";n+="Entry: "+o.entry+" - Error message: "+o.message+"\n";});sap.ushell.Container.getServiceAsync("Message").then(function(M){M.error(l,t.translationBundle.getText("Error"));});L.error("Failed to save the following entries",n,"sap.ushell.ui.footerbar.UserPreferencesButton");});this.oDialog.close();this._destroyDialog();};j.prototype._dialogCancelButtonHandler=function(){var i,e=this.getModel().getProperty("/entries");for(i=0;i<e.length;i++){if(e[i]&&e[i].onCancel){e[i].onCancel();}}this.oDialog.close();this._destroyDialog();};j.prototype._addDialogBackButton=function(){var t=this,o=new a("userPrefBackBtn",{visible:"{/isDetailedEntryMode}",icon:I.getIconURI("nav-back"),press:t._dialogBackButtonHandler.bind(t),tooltip:this.translationBundle.getText("feedbackGoBackBtn_tooltip")}),e=new T("userPrefTitle",{text:"{/dialogTitle}"});this.oHeadBar=new B({contentLeft:[o],contentMiddle:[e]});this.oDialog.setCustomHeader(this.oHeadBar);};j.prototype._showSaveMessageToast=function(){var t=this;sap.ui.require(["sap/m/MessageToast"],function(M){var e=t.translationBundle.getText("savedChanges");M.show(e,{duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"});});};return j;});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogEntryContainer',["sap/base/Log","sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/TileContainerUtils"],function(L,C,u,r,T){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{library:"sap.ushell",properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBox",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{apiVersion:2,render:function(b,c){b.openStart("div",c);b.attr("aria-labeledby",c.getId()+"-title");b.attr("role","group");b.class("sapUshellTileContainer");b.class("sapUshellCatalogTileContainer");b.openEnd();b.openStart("div");b.class("sapUshellTileContainerContent");b.attr("tabindex","-1");b.openEnd();var h=c.getHeader();if(h){if(r.i18n.hasText(h)){h=r.i18n.getText(h);}b.openStart("div");b.class("sapUshellTileContainerHeader");b.class("sapUshellCatalogTileContainerHeader");b.attr("id",c.getId()+"-groupheader");b.openEnd();b.openStart("div");b.class("sapUshellCatalogTileContainerHeaderInner");b.attr("id",c.getId()+"-title");b.openEnd();b.openStart("h2");b.class("sapUshellContainerTitle");b.class("sapUshellCatalogContainerTitle");b.attr("title",h);b.attr("aria-level","2");b.openEnd();b.text(h);b.close("h2");b.close("div");b.close("div");}var A=c.getAppBoxesContainer();var i;var d=c.getCustomTilesContainer();if(A.length>0||d.length>0){b.openStart("ul");b.class("sapUshellInner");b.openEnd();for(i=0;i<A.length;i++){b.renderControl(A[i]);}if(A.length&&d.length){b.voidStart("br");b.voidEnd();}for(i=0;i<d.length;i++){b.renderControl(d[i]);}b.close("ul");}b.close("div");b.close("div");}}});a.prototype.setAfterHandleElements=function(c){this.onAfterHandleElements=c;};a.prototype.onAfterUpdate=function(c){this.fnCallback=c;};a.prototype.updateAggregation=function(R){L.debug("Updating CatalogEntryContainer. Reason: ",R);};a.prototype.addNewItem=function(e,n){if(this.catalogState[n]!=="full"&&this.getAllocatedUnits&&!this.getAllocatedUnits()){this.catalogState[n]="partial";return false;}if(n==="customTilesContainer"){var b=e.getObject&&e.getObject().src;if(b!==undefined){var c;if(b.Chip!==undefined&&b.Chip.getContract!==undefined){c=b.Chip.getContract("preview");}else if(b.getContract!==undefined){c=b.getContract("preview");}if(c!==undefined){c.setEnabled(true);}}sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){l.getCatalogTileViewControl(e.getProperty("src")).done(function(d){e.getProperty("content")[0]=d;});});}var N=T.createNewItem.bind(this)(e,n);T.addNewItem.bind(this)(N,n);var i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer(),p=e.getPath();this.indexingMaps[n].onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true;};a.prototype.getNumberResults=function(){return{nAppboxes:this.nNumberOfVisibileElements.appBoxesContainer,nCustom:this.nNumberOfVisibileElements.customTilesContainer};};a.prototype.handleElements=function(R){var n=R,b=this.mBindingInfos[n].binding,B=b.getContexts(),i,s,c;if(!this.catalogState){this.catalogState={};}if(!this.catalogState[R]){this.catalogState[R]="start";}if(!this.indexingMaps){this.indexingMaps={};}if(!this.nNumberOfVisibileElements){this.nNumberOfVisibileElements=[];}if(!this.nNumberOfVisibileElements.customTilesContainer){this.nNumberOfVisibileElements.customTilesContainer=0;}if(!this.nNumberOfVisibileElements.appBoxesContainer){this.nNumberOfVisibileElements.appBoxesContainer=0;}if(!this.filters){this.filters={};}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[n]=T.indexOnScreenElements(i,false);c=T.markVisibleOnScreenElementsSearchCatalog(B,this.indexingMaps[n],true);if(T.createMissingElementsInOnScreenElementsSearchCatalog(this.indexingMaps[n],B,c,this.addNewItem.bind(this),i,this.filters[n],n,this.processFiltering.bind(this))){if(this.getAllocatedUnits&&this.getAllocatedUnits()){this.catalogState[R]="full";}}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();s=T.showHideTilesAndHeaders(this.indexingMaps[n],i);this.nNumberOfVisibileElements[n]=s.nCountVisibElelemnts;if(this.fnCallback){this.fnCallback(this);}if(this.onAfterHandleElements){this.onAfterHandleElements(this);}};a.prototype.processFiltering=function(e,n){var p=e.getPath();if(n){var i=this.indexingMaps[n].onScreenPathIndexMap[p];if(i.isVisible&&this.currElementVisible){this.currElementVisible();}}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogsContainer',["sap/base/Log","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ushell/library","sap/ushell/ui/launchpad/TileContainerUtils"],function(L,C,M,u,T){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{library:"sap.ushell",properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{apiVersion:2,render:function(r,c){var b=c.getCatalogs();r.openStart("div",c);r.class("sapUshellCatalogsContainer");r.openEnd();for(var i=0,l=b.length;i<l;++i){r.renderControl(b[i]);}r.close("div");}}});a.prototype.onBeforeRendering=function(){if(this.getCatalogs().length){this.setBusy(false);}};a.prototype.setPagingManager=function(p){M.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");M.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=p;};a.prototype.updateAllocatedUnits=function(n){this.nAllocatedUnits=n;};a.prototype.applyPagingCategoryFilters=function(n,c){var i=this.getCatalogs();this.nAllocatedUnits=n;if(c&&c!=="All"){this.sCatalogTerm=c;}else{this.sCatalogTerm="";}if(!this.filters){this.filters={};}if(!this.filters.catalogEntry){this.filters.catalogEntry=function(e){var p=e.getPath(),I=e.getProperty("title")===this.sCatalogTerm,b;if(!this.sCatalogTerm){return;}b=this.indexingMaps.onScreenPathIndexMap[p];if(b){b.isVisible=I;}}.bind(this);}if(!this.filters.pagination){this.filters.pagination=function(e){var p=e.getPath(),b;b=this.indexingMaps.onScreenPathIndexMap[p];if(!this.nAllocatedUnits){b.isVisible=false;}}.bind(this);}if(!this.indexingMaps){return;}this.indexingMaps=T.indexOnScreenElements(i);T.applyFilterOnAllItems(this.mBindingInfos.catalogs,this.filters,this.processFiltering.bind(this));if(this.indexingMaps){T.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs());}};a.prototype.processFiltering=function(e){var c=this.getCatalogs(),p=e.getPath(),i=this.indexingMaps.onScreenPathIndexMap[p],o=c[i.aItemsRefrenceIndex],b;if(i.isVisible&&(!this.catalogPagination[p]||this.catalogPagination[p]==="start")){if(this.catalogPagination[p]===undefined){this.catalogPagination[p]="start";o.catalogState={};}else if(this.catalogPagination[p]==="start"){var n=o.nNumberOfVisibileElements;this.nAllocatedUnits+=(n.appBoxesContainer+n.customTilesContainer);}b=this.nAllocatedUnits;o.handleElements("appBoxesContainer");o.handleElements("customTilesContainer");if(o.catalogState.appBoxesContainer==="full"&&o.catalogState.customTilesContainer==="full"){this.catalogPagination[p]="full";}if(b-this.nAllocatedUnits>0){this.bSearchResults=true;}else{i.isVisible=false;}}else if(i.isVisible&&this.catalogPagination[p]==="full"){var d=o.nNumberOfVisibileElements;var f=d.appBoxesContainer+d.customTilesContainer;if(f===0){i.isVisible=false;}}};a.prototype.resetCatalogPagination=function(){this.catalogPagination={};};a.prototype.updateAggregation=function(r){L.debug("Updating TileContainer. Reason: ",r);try{M.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();M.pause("FLP:DashboardManager.CatalogsRendering");}catch(e){C.prototype.updateAggregation.apply(this,arguments);}};a.prototype.addNewItem=function(e,n){var N,b,i,p=e.getPath();N=T.createNewItem.bind(this)(e,n);if(!N.filters){N.filters={};N.filters.appBoxesContainer={};N.filters.customTilesContainer={};N.filters.appBoxesContainer.pagination=function(c){var d=this.indexingMaps.appBoxesContainer.onScreenPathIndexMap[c.getPath()];if(this.getAllocatedUnits){d.isVisible=!!this.getAllocatedUnits();}}.bind(N);N.filters.customTilesContainer.pagination=function(c){var d=this.indexingMaps.customTilesContainer.onScreenPathIndexMap[c.getPath()];if(this.getAllocatedUnits){d.isVisible=!!this.getAllocatedUnits();}}.bind(N);}N.nAllocatedUnits=this.nAllocatedUnits;N.getAllocatedUnits=function(){return this.nAllocatedUnits;}.bind(this);N.elementFiltered=function(c){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=c*b;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.elementsVisible=function(c){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits-=c*b;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.newElementCreated=function(E,c){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.currElementVisible=function(){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);T.addNewItem.bind(this)(N,n);i=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true;};a.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={};}if(!this.catalogsElementsMap){this.catalogsElementsMap={};}if(!this.filters){this.filters={};}};a.prototype.setHandleSearchCallback=function(h){this.handleSearchCallback=h;};a.prototype.filterElements=function(){var n="catalogs",b=this.mBindingInfos[n].binding,B=b.getContexts(),i=this.getCatalogs(),c;if(!this.indexingMaps){this.indexingMaps=T.indexOnScreenElements(i);}this.handleFilters();c=T.markVisibleOnScreenElements(B,this.indexingMaps,false);if(!T.validateOrder(B,i,c)){throw true;}T.createMissingElementsInOnScreenElements(this.indexingMaps,B,c,this.addNewItem.bind(this),i,this.filters,n);i=this.getCatalogs();T.showHideTilesAndHeaders(this.indexingMaps,i);if(this.handleSearchCallback){this.handleSearchCallback();}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/ExtendedChangeDetection',["sap/ui/base/ManagedObject","sap/ushell/Config"],function(M,C){"use strict";var E=M.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(a,c,s){M.call(this);this._oAggregation=c.getMetadata().getAggregation(a);this._oControl=c;this._sAggregationName=a;this._aSiblingAggregationNames=s;var e=C.last("/core/spaces/extendedChangeDetection/enabled");if(e){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true;}}});E.oUpdateFromSiblingCache={};E.prototype._updateAggregation=function(){var b=this._oControl.getBindingInfo(this._sAggregationName);var B=b.binding;var u=this._isUpdateFromSibiling();var l=B.aLastContextData||[];var L=l.map(function(s){try{var h=JSON.parse(s);return h[b.key];}catch(j){return s;}});var c=B.getContexts();var a=c.map(function(h){return h.getProperty(b.key);});var d=c.diff;var D;var i;var I=[];var r=[];var R={};var e=false;var f=false;if(d){for(i=0;i<d.length;i++){D=d[i];if(D.type==="insert"){I.push({item:a[D.index],index:D.index});}if(D.type==="delete"){r.push({item:L[D.index-I.length],index:D.index-I.length});L.splice(D.index-I.length,1);}}for(i=0;i<r.length;i++){R[r[i].item]=this._oControl.removeAggregation(this._sAggregationName,r[i].index,true);}var o;var g;for(i=0;i<I.length;i++){o=I[i];g=R[o.item];if(g&&!(d.length>=2&&d[0].index===d[1].index)){this._oControl.insertAggregation(this._sAggregationName,g,o.index,true);delete R[o.item];}else{this._createAndInsertItem(c[o.index],b,o.index);f=true;}}e=!!Object.keys(R).length;for(var k in R){R[k].destroy();delete R[k];}}else if(!(u&&a.length===0&&L.length===0)){this._createAndInsertItems(c,b);f=true;}else{return;}this._updateBindingContexts(c);if(c.length===0){this._oControl.invalidate();}if(e){this.fireItemDeleted();}if(f){this.fireItemAdded();}if(!e&&!f&&d){this.fireItemsReordered();}if(d&&d.length&&!u){this._refreshSiblingBindings();}};E.prototype._isUpdateFromSibiling=function(){var i=this._oControl.getId()+":"+this._sAggregationName;if(E.oUpdateFromSiblingCache[i]){delete E.oUpdateFromSiblingCache[i];return true;}return false;};E.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(var i=0;i<this._aSiblingAggregationNames.length;++i){var s=this._aSiblingAggregationNames[i];var S=this._oControl.getId()+":"+s;var o=this._oControl.getBinding(s);E.oUpdateFromSiblingCache[S]=true;o.refresh(true);}}};E.prototype._createAndInsertItems=function(c,b){this._oAggregation.destroy(this._oControl);for(var i=0;i<c.length;i++){this._createAndInsertItem(c[i],b,i);}};E.prototype._createAndInsertItem=function(c,b,i){var I=b.factory(null,c);this._oControl.insertAggregation(this._sAggregationName,I,i,true);};E.prototype._updateBindingContexts=function(c){var I=this._oAggregation.get(this._oControl);for(var i=0;i<I.length;i++){I[i].setBindingContext(c[i]);}};return E;});
sap.ui.predefine('sap/ushell/ui/launchpad/FailedTileDialog',["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(F,J){"use strict";return function(){function _(s){if(!s){throw new Error("Could not find the Tile of the given control");}if(s.isA(["sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.LinkTileWrapper"])){return s;}return _(s.getParent());}function a(s){if(!s){throw new Error("Could not find the Group of the given control");}if(s.isA("sap.ushell.ui.launchpad.TileContainer")){return s;}return a(s.getParent());}function b(s){var d={};var t=_(s);if(t.getDebugInfo){var D=t.getDebugInfo();if(D){d=JSON.parse(D);d.debugInfo=D;}}if(t.getTileCatalogId){var T=t.getTileCatalogId();if(T){d.chipId=decodeURIComponent(T);}}var g=a(s);var G=g.getBindingContext();if(G){var o=G.getProperty("object");if(o){d.groupId=o.getId();}}return d;}this.openFor=function(s){function g(c){if(!c){throw new Error("Could not find the View of the given control");}return(c.isA("sap.ui.core.mvc.View")?c:g(c.getParent()));}var v=g(s);if(!v.oFailedTileDialog){return F.load({id:v.createId("failedTileDialogFragment"),name:"sap.ushell.ui.launchpad.FailedTileDialog",controller:this}).then(function(f){f.setModel(new J({}));f.bindObject({path:"/"});v.oFailedTileDialog=f;v.addDependent(v.oFailedTileDialog);this.openFor(s);}.bind(this));}var d=v.oFailedTileDialog.getModel();d.setProperty("/",b(s));d.setProperty("/showDetails",false);v.oFailedTileDialog.open();return Promise.resolve();};this.onShowDetails=function(e){e.getSource().getModel().setProperty("/showDetails",true);};this.onClose=function(e){e.getSource().getParent().close();};};});
sap.ui.predefine('sap/ushell/ui/launchpad/Panel',["sap/m/Panel","sap/ushell/library","sap/ushell/override","./PanelRenderer"],function(P,l,o){"use strict";var p=P.extend("sap.ushell.ui.launchpad.Panel",{metadata:{library:"sap.ushell",properties:{translucent:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{headerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"headerContent"},headerBar:{type:"sap.m.Bar",multiple:false}}}});p.prototype.updateAggregation=o.updateAggregation;return p;});
sap.ui.predefine('sap/ushell/ui/launchpad/PanelRenderer',function(){"use strict";var P={render:function(r,c){if(!c.getVisible()){return;}r.write("<section");r.writeControlData(c);r.addClass("sapMPanel");r.addClass("sapUshellPanel");if(!c.getTranslucent()){r.addClass("sapMPanelBG");}r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeClasses();r.writeStyles();r.write(">");var h=c.getHeaderContent();var l=h.length;if(c.getHeaderText()||l>0||c.getHeaderBar()){r.write("<header");r.addClass("sapMPanelHdr");r.addClass("sapUshellCatalogHeader");r.writeClasses();r.write(">");if(c.getHeaderText()||l>0){r.write("<");r.write(c.getHeaderLevel().toLowerCase());r.write(">");if(c.getHeaderText()){r.writeEscaped(c.getHeaderText());}for(var j=0;j<l;j++){r.renderControl(h[j]);}r.write("</");r.write(c.getHeaderLevel().toLowerCase());r.write(">");}if(c.getHeaderBar()){r.renderControl(c.getHeaderBar());}r.write("</header>");}r.write("<div");r.addClass("sapMPanelContent");r.addClass("sapUshellPanelContent");r.writeClasses();r.write(">");var C=c.getContent();var L=C.length;for(var i=0;i<L;i++){r.renderControl(C[i]);}r.write("</div>");r.write("</section>");}};return P;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/TileContainerUtils',["sap/base/util/uid"],function(u){"use strict";var T={};T.showHideTilesAndHeaders=function(i,o){var s,r,e,n=0,a=0;for(s in i.onScreenPathIndexMap){if(i.onScreenPathIndexMap.hasOwnProperty(s)){e=i.onScreenPathIndexMap[s];r=o[e.aItemsRefrenceIndex];if(r.getVisible()&&!e.isVisible){a++;}r.setVisible(e.isVisible);if(e.isVisible){n++;}}}return{nCountVisibElelemnts:n,nCountFilteredElement:a};};T.applyFilterOnItem=function(e,f,p,n){var a;for(a in f){if(f.hasOwnProperty(a)){f[a](e);}}if(p){p(e,n);}};T.createNewItem=function(e,n){var b=this.mBindingInfos[n],f=b.factory,a=function(c){var i=this.getId()+"-"+u(),C=f(i,c);C.setBindingContext(c,b.model);return C;}.bind(this);return a(e);};T.addNewItem=function(c,n){var a=this.getMetadata().getJSONKeys()[n];this[a._sMutator](c);return true;};T.createMissingElementsInOnScreenElements=function(i,e,a,f,I,b,n){var p,j,c=e.length;for(j=a;j<c;j++){p=e[j].getPath();if(!i.onScreenPathIndexMap[p]){if(f(e[j],n)==false){return false;}T.applyFilterOnItem(e[j],b);}else{throw true;}}return true;};T.createMissingElementsInOnScreenElementsSearchCatalog=function(i,e,a,f,I,b,n,p){var c,j,d=e.length;for(j=0;j<d;j++){c=e[j].getPath();if(!i.onScreenPathIndexMap[c]){if(f(e[j],n)==false){return false;}}T.applyFilterOnItem(e[j],b,p,n);}return true;};T.applyFilterOnAllItems=function(b,f,p){var B;var o=b.binding,a;if(!o){return;}a=o.getContexts();for(B=0;B<a.length;B++){T.applyFilterOnItem(a[B],f,p);}};T.validateOrder=function(b,i,a){var l,f,p,L,F,n,s,c;if(b[a]&&i.length>0){l=i[i.length-1].getBindingContext().getPath();f=b[a].getPath();L=l.split("/");F=f.split("/");for(n=0;n<L.length&&n<F.length;n++){s=L[n];c=F[n];if(!!parseInt(s,10)&&!!parseInt(c,10)){if(parseInt(s,10)>parseInt(c,10)){return false;}else if(parseInt(s,10)<parseInt(c,10)){return true;}}else{for(p=0;p<c.length&&p<s.length;p++){if(s[p].charCodeAt()>c[p].charCodeAt()){return false;}else if(s[p].charCodeAt()<c[p].charCodeAt()){return true;}}}}}return true;};T.markVisibleOnScreenElements=function(e,i,U){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){if(U){i.onScreenPathIndexMap[p].isVisible=true;}}else{return a;}}return a;};T.markVisibleOnScreenElementsSearchCatalog=function(e,i,U){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){if(U){i.onScreenPathIndexMap[p].isVisible=true;}}}return a;};T.indexOnScreenElements=function(o,i){var p,a,b={onScreenPathIndexMap:{}},c=o.length,d,v=true;if(i===false){v=false;}for(a=0;a<c;a++){d=o[a];if(d.getBindingContext()){p=d.getBindingContext().getPath();if(!b.onScreenPathIndexMap[p]){b.onScreenPathIndexMap[p]={aItemsRefrenceIndex:a,isVisible:v};}}}return b;};return T;},true);
sap.ui.predefine('sap/ushell/ui/shell/FloatingContainer',["sap/ui/core/Control","sap/ui/Device","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/ushell/EventHub","sap/ushell/library"],function(C,D,M,q,S,E){"use strict";var F=C.extend("sap.ushell.ui.shell.FloatingContainer",{metadata:{library:"sap.ushell",properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:true}}},renderer:{render:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellFloatingContainer");r.writeClasses();r.write(">");if(c.getContent()&&c.getContent().length){r.renderControl(c.getContent()[0]);}r.write("</div>");}}});F.prototype.init=function(){D.resize.attachHandler(F.prototype._handleResize,this);};F.prototype._getWindowHeight=function(){return q(window).height();};F.prototype._setContainerHeight=function(c,f){c.css("max-height",f);};F.prototype._handleResize=function(e){M.start("FLP:FloatingContainer_handleResize","resizing floating container","FLP");if(q(".sapUshellFloatingContainer").parent()[0]&&(q(".sapUshellContainerDocked").length===0)){this.oWrapper=q(".sapUshellFloatingContainer").parent()[0];this.oWrapper.style.cssText=this.oStorage.get("floatingContainerStyle");var i=window.matchMedia?window.matchMedia("(max-width: 417px)").matches:false;this.adjustPosition(e,i);}else if(q(".sapUshellFloatingContainer").parent()[0]&&q(".sapUshellContainerDocked").length){if(q("#canvas").hasClass("sapUshellContainer-Narrow-Right")){var u;if(sap.ui.getCore().getConfiguration().getRTL()){q("#sapUshellFloatingContainerWrapper").css("left",(416/q(window).width()*100)+"%");u=416/q(window).width()*100+"%;";}else{q("#sapUshellFloatingContainerWrapper").css("left",100-416/q(window).width()*100+"%");u=100-416/q(window).width()*100+"%;";}this.oWrapper.style.cssText="left:"+u+this.oWrapper.style.cssText.substring(this.oWrapper.style.cssText.indexOf("top"));this.oStorage.put("floatingContainerStyle",this.oWrapper.style.cssText);}}if(q(".sapUshellContainerDocked").length>0){sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerDockedIsResize");E.emit("ShellFloatingContainerDockedIsResized",Date.now());}var d=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(d.name!=="Desktop"&&(q(".sapUiMedia-Std-Desktop").width()-416<d.from)&&(q(".sapUshellContainerDocked").length)){q("#canvas, .sapUshellShellHead").removeClass("sapUshellContainerDocked");if(q("#canvas").hasClass("sapUshellContainer-Narrow-Right")){q("#canvas").removeClass("sapUshellContainer-Narrow-Right sapUshellMoveCanvasRight");}else{q("#canvas").removeClass("sapUshellContainer-Narrow-Left sapUshellMoveCanvasLeft");}q(".sapUshellShellFloatingContainerFullHeight").removeClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().byId("mainShell").getController()._handleAnimations(false);var s=new S(S.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");if(s){s.put("lastState","floating");}sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsUnDockedOnResize");q("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDocked sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");var v=sap.ui.getCore().byId("viewPortContainer");if(v){v._handleSizeChange();}}M.end("FLP:FloatingContainer_handleResize");};F.prototype.adjustPosition=function(e,i){var w=e?e.width:q(window).width(),W=e?e.height:q(window).height(),c=this.oContainer.width(),a=this.oContainer.height(),b,d,l,t,f=sap.ui.getCore().getConfiguration().getRTL();i=i!==undefined?i:false;if(this.oWrapper){l=this.oWrapper.style.left.replace("%","");l=w*l/100;t=this.oWrapper.style.top.replace("%","");t=W*t/100;if(!isNaN(l)&&!isNaN(t)&&!i){if(f){b=(l<c)||(l>w);if(b){l=l<c?c:w;}}else{b=(l<0)||(w<(l+c));if(b){l=l<0?0:(w-c);}}d=(t<0)||(W<(t+a));if(d){t=t<0?0:(W-a);}if(!b&&!d){this.oWrapper.style.left=l*100/w+"%";this.oWrapper.style.top=t*100/W+"%";this.oWrapper.style.position="absolute";return;}this.oWrapper.style.left=l*100/w+"%";this.oWrapper.style.top=t*100/W+"%";this.oWrapper.style.position="absolute";}}};F.prototype.handleDrop=function(){if(this.oWrapper){this.adjustPosition();this.oStorage.put("floatingContainerStyle",this.oWrapper.style.cssText);}};F.prototype.setContent=function(c){if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(c);r.flush(this.getDomRef());r.destroy();}this.setAggregation("content",c,true);};F.prototype.onAfterRendering=function(){this.oStorage=this.oStorage||new S(S.Type.local,"com.sap.ushell.adapters.local.FloatingContainer");this.oContainer=q(".sapUshellFloatingContainer");this.oWrapper=q(".sapUshellFloatingContainer").parent()[0];};F.prototype.exit=function(){D.resize.detachHandler(F.prototype._resizeHandler,this);};return F;});
sap.ui.predefine('sap/ushell/ui/shell/NavigationMiniTile',["sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],function(C,I){"use strict";var N=C.extend("sap.ushell.ui.shell.NavigationMiniTile",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},intent:{type:"string",group:"Misc",defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{render:function(r,c){var t=c.getTitle();var s=c.getSubtitle();var i=c.getIcon();var o=I.createControlByURI(i);r.write("<div tabindex=\"-1\" class=\"sapUshellNavMiniTile\" ");r.writeControlData(c);r.writeAttributeEscaped("role","listitem");r.writeAttributeEscaped("aria-label",s?t+" "+s:t);r.write(">");r.write("<div>");r.write("<span class=\"sapUshellNavMiniTileTitle\" >");if(t){r.writeEscaped(t);}r.write("</span>");r.write("</div>");if(o){r.write("<div>");r.write("<span class=\"sapUshellNavMiniTileIcon\">");r.renderControl(o);r.write("</span>");r.write("</div>");}else{r.write("<div>");r.write("<span class=\"sapUshellNavMiniTileSubtitle\" >");if(s){r.writeEscaped(s);}r.write("</span>");r.write("</div>");}r.write("</div>");}}});N.prototype.ontap=function(){this.firePress({});};N.prototype.onsapenter=function(){this.firePress({});};N.prototype.onsapspace=function(){this.firePress({});};return N;});
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingAction',["sap/ui/thirdparty/jquery","sap/m/Button","sap/ushell/library","./ShellFloatingActionRenderer"],function(q,B){"use strict";var S=B.extend("sap.ushell.ui.shell.ShellFloatingAction",{metadata:{library:"sap.ushell"}});S.prototype.init=function(){this.addStyleClass("sapUshellShellFloatingAction");if(B.prototype.init){B.prototype.init.apply(this,arguments);}};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);};S.prototype.onAfterRendering=function(){if(this.data("transformY")){this.removeStyleClass("sapUshellShellFloatingActionTransition");q(this.getDomRef()).css("transform","translateY("+this.data("transformY")+")");}else{this.addStyleClass("sapUshellShellFloatingActionTransition");}};return S;});
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingActionRenderer',['sap/ui/core/Renderer','sap/m/ButtonRenderer'],function(R,B){"use strict";var S=R.extend(B);return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingActions',["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","./ShellFloatingAction"],function(C,q,u,r,S){"use strict";var a=C.extend("sap.ushell.ui.shell.ShellFloatingActions",{metadata:{library:"sap.ushell",properties:{isFooterVisible:{type:"boolean",defaultValue:false}},aggregations:{floatingActions:{type:"sap.ushell.ui.shell.ShellFloatingAction",multiple:true,singularName:"floatingAction"}}},renderer:{render:function(R,A){var f=A.getFloatingActions();R.write("<div");R.writeControlData(A);R.addClass("sapUshellShellFloatingActions");R.writeClasses();R.write(">");if(f.length){var F;if(f.length===1){F=f[0];}else{F=A._createMultipleFloatingActionsButton(f);q.each(f,function(){this.setVisible(false);R.renderControl(this);});}R.renderControl(F);}R.write("</div>");}}});a.prototype._createMultipleFloatingActionsButton=function(f){var F;var t=this;return new S({id:this.getId()+"-multipleFloatingActions",icon:"sap-icon://add",visible:true,press:function(){if(!this.hasStyleClass("sapUshellShellFloatingActionRotate")){this.addStyleClass("sapUshellShellFloatingActionRotate");if(!F){F=parseInt(this.$().outerHeight(),10)+parseInt(t.$().css("bottom"),10);}f.forEach(function(o){o.setVisible(true);});setTimeout(function(){f.forEach(function(o,i){var b=F*(i+1);o.$().css("transform","translateY(-"+b+"px)");o.data("transformY","-"+b+"px");});},0);}else{this.removeStyleClass("sapUshellShellFloatingActionRotate");f.forEach(function(o){o.$().css("transform","translateY(0)");});setTimeout(function(){f.forEach(function(o){o.setVisible(false);o.data("transformY",undefined);});},150);}},tooltip:r.i18n.getText("XXX")});};a.prototype.addFloatingAction=function(A){this.addAggregation("floatingActions",A,true);if(this.getDomRef()){var b=sap.ui.getCore().createRenderManager();b.renderControl(A);b.flush(this.getDomRef());b.destroy();}return this;};a.prototype.removeFloatingAction=function(A){if(typeof A==="number"){A=this.getAggregation("floatingActions")[A];}this.removeAggregation("floatingActions",A,true);var i=A.getId();q("#"+i).remove();return this;};return a;});
sap.ui.predefine('sap/ushell/ui/shell/ShellNavigationMenu',["sap/base/Log","sap/m/FlexBox","sap/m/Label","sap/m/List","sap/m/StandardListItem","sap/m/VBox","sap/ui/core/Control","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData"],function(L,F,a,b,S,V,C,D,q,K,u,r,A){"use strict";var c=C.extend("sap.ushell.ui.shell.ShellNavigationMenu",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},showTitle:{type:"boolean",defaultValue:false},showRelatedApps:{type:"boolean",defaultValue:true}},aggregations:{items:{type:"sap.m.ListItem",group:"Misc",defaultValue:null,singularName:"item"},miniTiles:{type:"sap.ushell.ui.shell.NavigationMiniTile",group:"Misc",defaultValue:null,singularName:"miniTile"}},events:{}},renderer:{render:function(R,o){var t,m;R.write("<div ");R.writeControlData(o);R.write(">");if(o.getShowTitle()){t=o.oTitle;t.setIcon(o.getIcon());t.setTitle(o.getTitle());R.write("<div id=\"sapUshellNavTitle\" >");R.renderControl(t);R.write("</div>");}if(o.oItemsList){R.renderControl(o.oItemsList);}if(o.getShowRelatedApps()){m=o.getMiniTiles();if(m&&m.length>0){R.renderControl(o.oRelatedAppsVbox);}}R.write("</div>");}}});var d=function(m){this.init(m);};d.prototype.init=function(m){this.keyCodes=K;this.jqElement=m.$();this.jqElement.on("keydown.keyboardNavigation",this.keydownHandler.bind(this));};d.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation");}delete this.jqElement;};d.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.ARROW_UP:this.upDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:this.upDownHandler(e,false);break;case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.homeEndHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.homeEndHandler(e,false);break;default:break;}};d.prototype.upDownHandler=function(e,i){var j=q(document.activeElement);if(!j.hasClass("sapUshellNavMiniTile")){return false;}var f=j.parent().parent();var g=j.parent().index();var h=f.children();var n;if(i){n=g-3;if(n<0){n+=9;}}else{n=(g+3)%h.length;}var k=h[n].children[0];this._setItemFocus(e,q(k));};d.prototype.leftRightHandler=function(e,i){var n=i?"next":"prev",f,g,h,j,k,l,m=q(document.activeElement);if(!m.hasClass("sapUshellNavMiniTile")){return false;}f=m.parent();g=f[n]();h=g.index();j=f.parent();if(h===-1){k=i?0:j.children().length-1;}else{k=h;}l=j.children()[k].children[0];if(!l){return false;}this._setItemFocus(e,q(l));};d.prototype.homeEndHandler=function(e,i){var n=i?"first":"last";var j=q(document.activeElement);if(!j.hasClass("sapUshellNavMiniTile")){return false;}e.preventDefault();var f=this.jqElement.find(".sapUshellNavMiniTile")[n]();this._setItemFocus(e,f);};d.prototype._setItemFocus=function(e,j){e.preventDefault();e.stopImmediatePropagation();q(".sapUshellNavMiniTile").attr("tabindex",-1);j.attr("tabindex",0);j.focus();};d.prototype.setFocusToLastFocusedMiniTile=function(e){var j=q(".sapUshellNavMiniTile[tabindex='0']");if(j&&j[0]){this._setItemFocus(e,q(j));}else{this._setItemFocus(e,q(q(".sapUshellNavMiniTile")[0]));}};c.prototype.init=function(){};c.prototype._createItemsList=function(){this.oItemsList=new b("sapUshellNavHierarchyItems");};c.prototype._createMiniTilesBox=function(){this.oMiniTilesBox=new F("sapUshellNavRelatedAppsFlexBox");};c.prototype._beforeOpen=function(){if(!this.bInitialized){this.oTitle=new S("navMenuInnerTitle",{wrapping:true}).addStyleClass("sapUshellNavigationMenuTitleItem");this.oRelatedAppsTitle=new a("sapUshellRelatedAppsLabel",{text:r.i18n.getText("shellNavMenu_relatedApps")});if(!this.oMiniTilesBox){this._createMiniTilesBox();}this.oRelatedAppsVbox=new V("sapUshellRelatedAppsItems",{items:[this.oRelatedAppsTitle,this.oMiniTilesBox]});this._extendInnerControlsForAccKeyboard();this.bInitialized=true;}};c.prototype._afterOpen=function(){if(D.system.desktop){if(this.keyboardNavigation){this.keyboardNavigation.destroy();}this.keyboardNavigation=new d(this.oMiniTilesBox);}};c.prototype._extendInnerControlsForAccKeyboard=function(){this.oTitle.addCustomData(new A({key:"aria-level",value:"1",writeToDom:true}));if(D.system.desktop){this.oTitle.addCustomData(new A({key:"tabindex",value:"0",writeToDom:true}));this.oItemsList.addEventDelegate({onsaptabprevious:function(e){if(this.getShowTitle()){e.preventDefault();e.stopImmediatePropagation();q("#navMenuInnerTitle").focus();}else{this.keyboardNavigation.setFocusToLastFocusedMiniTile(e);}}.bind(this),onsaptabnext:function(e){if(q(".sapUshellNavMiniTile").length){this.keyboardNavigation.setFocusToLastFocusedMiniTile(e);}else{var o=sap.ui.getCore().byId("allMyAppsButton");this.keyboardNavigation._setItemFocus(e,q((o.getDomRef())));}}.bind(this)});}};c.prototype.getMiniTiles=function(){if(this.oMiniTilesBox){return this.oMiniTilesBox.getItems();}return[];};c.prototype.insertMiniTile=function(m,i){if(!this.oMiniTilesBox){this._createMiniTilesBox();}this.oMiniTilesBox.insertItem(m,i);return this;};c.prototype.addMiniTile=function(m){if(!this.oMiniTilesBox){this._createMiniTilesBox();}if(this.oMiniTilesBox.getItems().length<9){this.oMiniTilesBox.addItem(m);}else{L.warning("ShellNavigationMenu.addMiniTile - miniTiles aggregation is already at maximum size of 9 elements "+"- current item was not added.");}return this;};c.prototype.removeMiniTile=function(i){if(this.oMiniTilesBox){this.oMiniTilesBox.removeItem(i);}return this;};c.prototype.removeAllMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.removeAllItems();}return this;};c.prototype.destroyMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.destroyItems();}return this;};c.prototype.indexOfMiniTile=function(m){if(this.oMiniTilesBox){return this.oMiniTilesBox.indexOfItem(m);}return-1;};c.prototype.getItems=function(){if(this.oItemsList){return this.oItemsList.getItems();}return[];};c.prototype.insertItem=function(h,i){if(!this.oItemsList){this._createItemsList();}h=this._extendHierarchyItemForAcc(h);this.oItemsList.insertItem(h,i);return this;};c.prototype.addItem=function(h){if(!this.oItemsList){this._createItemsList();}h=this._extendHierarchyItemForAcc(h);this.oItemsList.addItem(h);return this;};c.prototype.removeItem=function(i){if(this.oItemsList){this.oItemsList.removeItem(i);}return this;};c.prototype.removeAllItems=function(){if(this.oItemsList){this.oItemsList.removeAllItems();}return this;};c.prototype.destroyItems=function(){if(this.oItemsList){this.oItemsList.destroyItems();}return this;};c.prototype.indexOfItem=function(h){if(this.oItemsList){return this.oItemsList.indexOfItem(h);}return-1;};c.prototype._extendHierarchyItemForAcc=function(i){if(D.system.desktop){i.addEventDelegate({onsapspace:function(e){this.firePress();}.bind(i)});}return i;};c.prototype.exit=function(){if(this.oItemsList){this.oItemsList.destroy();}if(this.oMiniTilesBox){this.oMiniTilesBox.destroy();}if(this.bInitialized){this.oTitle.destroy();this.oRelatedAppsVbox.destroy();this.oRelatedAppsTitle.destroy();}if(this.keyboardNavigation){this.keyboardNavigation.destroy();}};c.prototype.onAfterRendering=function(){if(this.getShowTitle()){q("#sapUshellAppTitlePopover-intHeader").css("height",0);}else{q("#sapUshellAppTitlePopover-intHeader").css("height","0.5rem");}if(this.getShowTitle()){var j=q("#navMenuInnerTitle");j.attr("aria-readonly","true");j.attr("readonly","readonly");}var e=q("#sapUshellNavHierarchyItems ul");e.attr("role","group");e.attr("aria-label",r.i18n.getText("ShellNavigationMenu_HierarchyItemsAriaLabel"));var f=q("#sapUshellNavRelatedAppsFlexBox");f.attr("role","list");f.attr("aria-labelledBy","sapUshellRelatedAppsLabel");var g=q(".sapUshellNavMiniTile");for(var i=0;i<g.length;i++){q(g[i]).attr("aria-setsize",g.length);q(g[i]).attr("aria-posinset",i+1);}};return c;});
sap.ui.predefine('sap/ushell/ui/utils',["sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(E,q){"use strict";function s(e){var r=new q.Deferred(),w,c,t=0,f=0,a=0,p=[],b=[],d,A={refresh:false};function o(h){if(h&&h.refresh===true){A.refresh=true;}a++;r.notify();}function g(h){b.push({entry:d,message:h});f++;r.notify();}var u=E.last("UserSettingsOpened")||{};Object.keys(u).forEach(function(i){var I=parseInt(i,10);c=e[I].onSave();c.done(o);d=e[I].title;c.fail(g);p.push(c);t++;});w=q.when.apply(null,p);w.done(function(){E.emit("UserSettingsOpened",null);r.resolve(A);});r.progress(function(){if(f>0&&(f+a===t)){r.reject(b);}});return r.promise();}return{saveUserPreferenceEntries:s};});
/*!
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)
 * Version 2.0.0, see https://github.com/sindresorhus/p-cancelable/tree/v2.0.0
 */
sap.ui.predefine('sap/base/util/restricted/_CancelablePromise',function(){'use strict';function _(o,a){var p;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(p=b(o))||a&&o&&typeof o.length==="number"){if(p)o=p;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(f){throw f;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var y=true,z=false,A;return{s:function s(){p=o[Symbol.iterator]();},n:function n(){var s=p.next();y=s.done;return s;},e:function e(f){z=true;A=f;},f:function f(){try{if(!y&&p.return!=null)p.return();}finally{if(z)throw A;}}};}function b(o,a){if(!o)return;if(typeof o==="string")return c(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(o,a);}function c(a,e){if(e==null||e>a.length)e=a.length;for(var i=0,f=new Array(e);i<e;i++){f[i]=a[i];}return f;}function d(o){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){d=function d(o){return typeof o;};}else{d=function d(o){return o&&typeof Symbol==="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;};}return d(o);}function g(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function");}}function h(a,p){for(var i=0;i<p.length;i++){var e=p[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(a,e.key,e);}}function j(a,p,s){if(p)h(a.prototype,p);if(s)h(a,s);return a;}function k(s,a){if(typeof a!=="function"&&a!==null){throw new TypeError("Super expression must either be null or a function");}s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:true,configurable:true}});if(a)w(s,a);}function l(D){var a=u();return function f(){var S=x(D),e;if(a){var N=x(this).constructor;e=Reflect.construct(S,arguments,N);}else{e=S.apply(this,arguments);}return m(this,e);};}function m(s,a){if(a&&(d(a)==="object"||typeof a==="function")){return a;}return q(s);}function q(s){if(s===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return s;}function r(a){var e=typeof Map==="function"?new Map():undefined;r=function r(a){if(a===null||!v(a))return a;if(typeof a!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof e!=="undefined"){if(e.has(a))return e.get(a);e.set(a,W);}function W(){return t(a,arguments,x(this).constructor);}W.prototype=Object.create(a.prototype,{constructor:{value:W,enumerable:false,writable:true,configurable:true}});return w(W,a);};return r(a);}function t(e,f,i){if(u()){t=Reflect.construct;}else{t=function t(e,f,i){var a=[null];a.push.apply(a,f);var n=Function.bind.apply(e,a);var o=new n();if(i)w(o,i.prototype);return o;};}return t.apply(null,arguments);}function u(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function v(f){return Function.toString.call(f).indexOf("[native code]")!==-1;}function w(o,p){w=Object.setPrototypeOf||function w(o,p){o.__proto__=p;return o;};return w(o,p);}function x(o){x=Object.setPrototypeOf?Object.getPrototypeOf:function x(o){return o.__proto__||Object.getPrototypeOf(o);};return x(o);}var C=function(a){k(C,a);var e=l(C);function C(f){var i;g(this,C);i=e.call(this,f||'Promise was canceled');i.name='CancelError';return i;}j(C,[{key:"isCanceled",get:function f(){return true;}}]);return C;}(r(Error));var P=function(){j(P,null,[{key:"fn",value:function f(a){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++){i[n]=arguments[n];}return new P(function(o,p,s){i.push(s);a.apply(void 0,i).then(o,p);});};}}]);function P(e){var a=this;g(this,P);this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise(function(f,i){a._reject=i;var o=function o(s){a._isPending=false;f(s);};var n=function n(s){a._isPending=false;i(s);};var p=function p(s){if(!a._isPending){throw new Error('The `onCancel` handler was attached after the promise settled.');}a._cancelHandlers.push(s);};Object.defineProperties(p,{shouldReject:{get:function s(){return a._rejectOnCancel;},set:function y(s){a._rejectOnCancel=s;}}});return e(o,n,p);});}j(P,[{key:"then",value:function e(o,a){return this._promise.then(o,a);}},{key:"catch",value:function a(o){return this._promise.catch(o);}},{key:"finally",value:function a(o){return this._promise.finally(o);}},{key:"cancel",value:function p(a){if(!this._isPending||this._isCanceled){return;}if(this._cancelHandlers.length>0){try{var e=_(this._cancelHandlers),f;try{for(e.s();!(f=e.n()).done;){var i=f.value;i();}}catch(n){e.e(n);}finally{e.f();}}catch(o){this._reject(o);}}this._isCanceled=true;if(this._rejectOnCancel){this._reject(new C(a));}}},{key:"isCanceled",get:function a(){return this._isCanceled;}}]);return P;}();Object.setPrototypeOf(P.prototype,Promise.prototype);P.CancelError=C;return P;});
/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('jquery.sap.act',['sap/ui/util/ActivityDetection','jquery.sap.global'],function(A,q){"use strict";q.sap.act=A;return q;});
sap.ui.predefine('jquery.sap.encoder',['jquery.sap.global','sap/base/security/encodeXML','sap/base/security/encodeJS','sap/base/security/encodeURL','sap/base/security/encodeURLParameters','sap/base/security/encodeCSS','sap/base/security/URLListValidator','sap/base/security/URLWhitelist','sap/base/security/sanitizeHTML'],function(q,e,a,b,c,d,U,f,s){"use strict";q.sap.encodeHTML=e;q.sap.encodeXML=e;q.sap.escapeHTML=e;q.sap.encodeJS=a;q.sap.escapeJS=a;q.sap.encodeURL=b;q.sap.encodeURLParameters=c;q.sap.encodeCSS=d;q.sap.clearUrlWhitelist=U.clear;q.sap.addUrlWhitelist=U.add.bind(f);q.sap.removeUrlWhitelist=function(i){U._delete(U.entries()[i]);};q.sap.getUrlWhitelist=U.entries;q.sap.validateUrl=U.validate;q.sap._sanitizeHTML=s;return q;});
sap.ui.predefine('jquery.sap.events',['jquery.sap.global','sap/ui/events/ControlEvents','sap/ui/events/PseudoEvents','sap/ui/events/checkMouseEnterOrLeave','sap/ui/events/isSpecialKey','sap/ui/events/isMouseEventDelayed','sap/ui/events/F6Navigation','sap/ui/events/jquery/EventSimulation','sap/ui/events/KeyCodes','sap/base/util/defineCoupledProperty','sap/ui/events/jquery/EventExtension'],function(q,C,P,c,i,I,F,E,K,d){"use strict";q.sap.PseudoEvents=P.events;q.sap.ControlEvents=C.events;q.sap.disableTouchToMouseHandling=E.disableTouchToMouseHandling;d(q.sap,"touchEventMode",E,"touchEventMode");q.sap.bindAnyEvent=C.bindAnyEvent;q.sap.unbindAnyEvent=C.unbindAnyEvent;q.sap.checkMouseEnterOrLeave=c;q.sap.isSpecialKey=function(e){if(e.key){return i(e);}function a(e){var k=e.which;return(k===K.SHIFT)||(k===K.CONTROL)||(k===K.ALT)||(k===K.CAPS_LOCK)||(k===K.NUM_LOCK);}function b(e){var k=e.which,A=(k>=37&&k<=40);switch(e.type){case"keydown":case"keyup":return A;case"keypress":return k===0;default:return false;}}var k=e.which,s=a(e)||b(e)||(k>=33&&k<=36)||(k>=44&&k<=46)||(k>=112&&k<=123)||(k===K.BREAK)||(k===K.BACKSPACE)||(k===K.TAB)||(k===K.ENTER)||(k===K.ESCAPE)||(k===K.SCROLL_LOCK);switch(e.type){case"keydown":case"keyup":return s;case"keypress":return(k===0||k===K.BACKSPACE||k===K.ESCAPE||k===K.ENTER)||false;default:return false;}};q.sap.handleF6GroupNavigation=function(e,s){if(!e.key&&e.keyCode===K.F6){e.key="F6";}return F.handleF6GroupNavigation(e,s);};q.sap._FASTNAVIGATIONKEY=F.fastNavigationKey;q.sap._refreshMouseEventDelayedFlag=function(n){q.sap.isMouseEventDelayed=I.apply(this,arguments);};q.sap._refreshMouseEventDelayedFlag(navigator);return q;});
sap.ui.predefine('jquery.sap.history',["jquery.sap.global","sap/base/Log","sap/base/util/uid","sap/base/strings/escapeRegExp"],function(q,L,u,e){"use strict";(function(w){var s="_skip",r=/\|id-[0-9]+-[0-9]+/,a=new RegExp(s+"[0-9]*$"),b=[],h=[],S={},c=0,d,I="|",H=[],f=false,g,j=false;q.sap.history=function(B){if(!q.isPlainObject(B)){return;}if(!j){var W=q(w),C=(w.location.href.split("#")[1]||"");W.on('hashchange',l);if(Array.isArray(B.routes)){var i,D;for(i=0;i<B.routes.length;i++){D=B.routes[i];if(D.path&&D.handler){q.sap.history.addRoute(D.path,D.handler);}}}if(typeof B.defaultHandler==="function"){g=B.defaultHandler;}h.push(C);if(C.length>1){W.trigger("hashchange",[true]);}else{d=C;}j=true;}};q.sap.history.addHistory=function(i,B,C,V){var U,D;if(C===undefined){C=true;}if(!V){D=p(i,B);U=o(D);if(U){D+=(I+U);}D+=(I+(C?"1":"0"));}else{D=n(d);}H.push(D);S[D]=true;w.location.hash=D;return D;};q.sap.history.addVirtualHistory=function(){q.sap.history.addHistory("",undefined,false,true);};q.sap.history.addRoute=function(i,B,T){if(T){B=q.proxy(B,T);}var R={};R.sIdentifier=i;R['action']=B;b.push(R);return this;};q.sap.history.setDefaultHandler=function(i){g=i;};q.sap.history.getDefaultHandler=function(){return g;};q.sap.history.backToHash=function(i){i=i||"";var B;if(h.length===1){if(typeof g==="function"){g();}}else{B=k(d,i);if(B<0){w.history.go(B);}else{L.error("jQuery.sap.history.backToHash: "+i+"is not in the history stack or it's after the current hash");}}};q.sap.history.backThroughPath=function(P){P=P||"";P=w.encodeURIComponent(P);var i;if(h.length===1){if(typeof g==="function"){g();}}else{i=k(d,P,true);if(i<0){w.history.go(i);}else{L.error("jQuery.sap.history.backThroughPath: there's no history state which has the "+P+" identifier in the history stack before the current hash");}}};q.sap.history.back=function(i){if(h.length===1){if(typeof g==="function"){g(q.sap.history.NavType.Back);}}else{if(!i){i=1;}w.history.go(-1*i);}};q.sap.history.NavType={Back:"_back",Forward:"_forward",Bookmark:"_bookmark",Unknown:"_unknown"};function k(C,T,P){var B=h.indexOf(C),D,i,E;if(B>0){if(P){for(i=B-1;i>=0;i--){E=h[i];if(E.indexOf(T)===0&&!v(E)){return i-B;}}}else{D=h.indexOf(T);if((D===-1)&&T.length===0){return-1*B;}if((D>-1)&&(D<B)){return D-B;}}}return 0;}function l(E,M){var i=(w.location.href.split("#")[1]||"");i=m(i);if(M||!S[i]){H.push(i);}if(!f){f=true;if(H.length>0){var B=H.shift();if(S[B]){t(B);delete S[B];}else{y(B);}d=B;}f=false;}}function m(i,R){var B=i,C=i?i.indexOf("#"):-1;if(C===0){B=B.slice(C+1);}if(R){B=B.replace(r,"");}return B;}function n(i){var P=i?i:"";if(v(P)){var B=P.lastIndexOf(s);P=P.slice(0,B);}return P+s+c++;}function p(i,B){var E=encodeURIComponent(i);var C=encodeURIComponent(JSON.stringify(B));return E+I+C;}function o(B){var C=h.indexOf(d),i,D;if(C>-1){for(i=0;i<C+1;i++){D=h[i];if(D.slice(0,D.length-2)===B){return u();}}}return"";}function t(i){var B=h.indexOf(d);if(!(B===-1||B===h.length-1)){h.splice(B+1,h.length-1-B);}h.push(i);}function v(i){return a.test(i);}function x(C,F){var B=h.indexOf(C),i;if(B!==-1){if(F){for(i=B;i<h.length;i++){if(!v(h[i])){return i-B;}}}else{for(i=B;i>=0;i--){if(!v(h[i])){return i-B;}}return-1*(B+1);}}}function y(i){var R,B,P,N,C;if(d===undefined){P=A(i);if(!P||!P.bBookmarkable){if(typeof g==="function"){g(q.sap.history.NavType.Bookmark);}return;}}if(i.length===0){if(typeof g==="function"){g(q.sap.history.NavType.Back);}}else{N=h.indexOf(i);if(N===0){P=A(i);if(!P||!P.bBookmarkable){if(typeof g==="function"){g(q.sap.history.NavType.Back);}return;}}if(v(i)){if(v(d)){B=x(i,false);w.history.go(B);}else{var D=new RegExp(e(d+s)+"[0-9]*$");if(D.test(i)){B=x(i,true);if(B){w.history.go(B);}else{w.history.back();}}else{B=x(i,false);w.history.go(B);}}}else{if(N===-1){C=q.sap.history.NavType.Unknown;h.push(i);}else{if(h.indexOf(d,N+1)===-1){C=q.sap.history.NavType.Forward;}else{C=q.sap.history.NavType.Back;}}P=A(i);if(P){R=z(P.sIdentifier);if(R){R.action.apply(null,[P.oStateData,C]);}}else{L.error("hash format error! The current Hash: "+i);}}}}function z(B){var i;for(i=0;i<b.length;i++){if(b[i].sIdentifier===B){return b[i];}}}function A(B){if(v(B)){var i=B.lastIndexOf(s);B=B.slice(0,i);}var P=B.split(I),R={};if(P.length===4||P.length===3){R.sIdentifier=w.decodeURIComponent(P[0]);R.oStateData=JSON.parse(w.decodeURIComponent(P[1]));if(P.length===4){R.uid=P[2];}R.bBookmarkable=P[P.length-1]==="0"?false:true;return R;}else{return null;}}})(this);return q;});
sap.ui.predefine('jquery.sap.keycodes',['jquery.sap.global','sap/ui/events/KeyCodes'],function(q,K){"use strict";q.sap.KeyCodes=K;return q;});
sap.ui.predefine('jquery.sap.mobile',['jquery.sap.global','sap/ui/util/Mobile','sap/ui/Device'],function(q,M,D){"use strict";function g(t,p){var d=Object.getOwnPropertyDescriptor(t,p);return d&&d.value;}(function(){q.os=q.extend({os:D.os.name,version:D.os.versionStr,fVersion:D.os.version},g(q,"os"));q.os[D.os.name]=true;q.device=q.extend({},g(q,"device"));q.device.is=q.extend({standalone:window.navigator.standalone,landscape:D.orientation.landscape,portrait:D.orientation.portrait,iphone:D.os.ios&&D.system.phone,ipad:D.os.ios&&D.system.tablet,android_phone:D.system.phone&&D.os.android,android_tablet:D.system.tablet&&D.os.android,tablet:D.system.tablet,phone:D.system.phone,desktop:D.system.desktop},q.device.is);})();q.sap.initMobile=M.init;q.sap.setIcons=M.setIcons;q.sap.setMobileWebAppCapable=M.setWebAppCapable;return q;});
sap.ui.predefine('jquery.sap.promise',[],function(){"use strict";});
sap.ui.predefine('jquery.sap.properties',['jquery.sap.global','sap/base/util/Properties'],function(q,P){"use strict";q.sap.properties=P.create;return q;});
sap.ui.predefine('jquery.sap.resources',['sap/base/i18n/ResourceBundle','jquery.sap.global'],function(R,q){"use strict";q.sap.resources=function(){return R.create.apply(R,arguments);};q.sap.resources.isBundle=function(b){return b instanceof R;};q.sap.resources._getFallbackLocales=R._getFallbackLocales;return q;});
sap.ui.predefine('jquery.sap.sjax',['jquery.sap.global'],function(q){"use strict";q.sap.sjaxSettings={complexResult:true,fallback:undefined};q.sap.sjax=function a(o){var s=q.extend(true,{},q.sap.sjaxSettings,o,{async:false,success:function(d,t,x){r={success:true,data:d,status:t,statusCode:x&&x.status};},error:function(x,t,e){r={success:false,data:undefined,status:t,error:e,statusCode:x.status,errorResponse:x.responseText};}});var r;q.ajax(s);if(!s.complexResult){return r.success?r.data:s.fallback;}return r;};q.sap.syncHead=function(u){return q.sap.sjax({type:'HEAD',url:u}).success;};q.sap.syncGet=function s(u,d,D){return q.sap.sjax({url:u,data:d,type:'GET',dataType:D||'text'});};q.sap.syncPost=function s(u,d,D){return q.sap.sjax({url:u,data:d,type:'POST',dataType:D||'text'});};q.sap.syncGetText=function s(u,d,f){return q.sap.sjax({url:u,data:d,type:'GET',dataType:'text',fallback:f,complexResult:(arguments.length<3)});};q.sap.syncGetJSON=function s(u,d,f){return q.sap.sjax({url:u,data:d||null,type:'GET',dataType:'json',fallback:f,complexResult:(arguments.length<3)});};return q;});
sap.ui.predefine('jquery.sap.storage',['jquery.sap.global','sap/base/assert','sap/ui/util/Storage'],function(q,a,S){"use strict";var s={};q.sap.storage=function(o,i){if(!o){o=S.Type.session;}if(typeof(o)==="string"&&S.Type[o]){var k=o;if(i&&i!="state.key_"){k=o+"_"+i;}if(!s[k]){s[k]=new S(o,i);}return s[k];}a(o instanceof Object&&o.clear&&o.setItem&&o.getItem&&o.removeItem,"storage: duck typing the storage");return new S(o,i);};q.sap.storage.Storage=S;q.sap.storage.Type=S.Type;Object.assign(q.sap.storage,S);return q;});
sap.ui.predefine('jquery.sap.strings',['jquery.sap.global','sap/base/strings/capitalize','sap/base/strings/camelize','sap/base/strings/hyphenate','sap/base/strings/escapeRegExp','sap/base/strings/formatMessage'],function(q,c,a,h,e,f){"use strict";q.sap.endsWith=function(s,E){if(typeof(E)!="string"||E==""){return false;}return s.endsWith(E);};q.sap.endsWithIgnoreCase=function(s,E){if(typeof(E)!="string"||E==""){return false;}s=s.toUpperCase();E=E.toUpperCase();return s.endsWith(E);};q.sap.startsWith=function(s,S){if(typeof(S)!="string"||S==""){return false;}return s.startsWith(S);};q.sap.startsWithIgnoreCase=function(s,S){if(typeof(S)!="string"||S==""){return false;}s=s.toUpperCase();S=S.toUpperCase();return s.startsWith(S);};q.sap.charToUpperCase=function(s,p){if(!s){return s;}if(!p||isNaN(p)||p<=0||p>=s.length){return c(s);}var C=s.charAt(p).toUpperCase();if(p>0){return s.substring(0,p)+C+s.substring(p+1);}return C+s.substring(p+1);};q.sap.padLeft=function(s,p,l){if(!s){s="";}if(p&&p.length===1){return s.padStart(l,p);}while(s.length<l){s=p+s;}return s;};q.sap.padRight=function(s,p,l){if(!s){s="";}if(p&&p.length===1){return s.padEnd(l,p);}while(s.length<l){s=s+p;}return s;};q.sap.camelCase=a;q.sap.hyphen=h;q.sap.escapeRegExp=e;q.sap.formatMessage=f;return q;});
sap.ui.predefine('jquery.sap.trace',['jquery.sap.global','sap/ui/performance/trace/Passport','sap/ui/performance/trace/Interaction','sap/ui/performance/trace/FESR','sap/base/Log','sap/ui/Global'],function(q,P,I,F,L){"use strict";function l(){if(!(window.performance&&window.performance.getEntries)){L.warning("Interaction tracking is not supported on browsers with insufficient performance API");}}q.sap.interaction={};q.sap.interaction.setActive=function(){l();I.setActive.apply(this,arguments);};q.sap.interaction.getActive=I.getActive;q.sap.interaction.notifyStepStart=I.notifyStepStart;q.sap.interaction.notifyStepEnd=I.notifyStepEnd;q.sap.interaction.notifyEventStart=I.notifyEventStart;q.sap.interaction.notifyScrollEvent=I.notifyScrollEvent;q.sap.interaction.notifyEventEnd=I.notifyEventEnd;q.sap.interaction.setStepComponent=I.setStepComponent;q.sap.fesr={};q.sap.fesr.setActive=function(){l();F.setActive.apply(this,arguments);};q.sap.fesr.getActive=F.getActive;q.sap.fesr.getCurrentTransactionId=P.getTransactionId;q.sap.fesr.getRootId=P.getRootId;q.sap.fesr.addBusyDuration=I.addBusyDuration;q.sap.passport={};q.sap.passport.setActive=P.setActive;q.sap.passport.traceFlags=P.traceFlags;function g(){var a=!!document.querySelector("meta[name=sap-ui-fesr][content=true]"),p=window.location.search.match(/[\?|&]sap-ui-(?:xx-)?fesr=(true|x|X|false)&?/);if(p){a=p[1]&&p[1]!="false";}return a;}q.sap.interaction.notifyStepStart(null,true);F.setActive(g());if(/sap-ui-xx-e2e-trace=(true|x|X)/.test(location.search)){sap.ui.requireSync("sap/ui/core/support/trace/E2eTraceLib");}return q;});
sap.ui.predefine('jquery.sap.ui',['jquery.sap.global','sap/base/util/ObjectPath','sap/ui/dom/jquery/control'],function(q,O){"use strict";function f(c){return c.getUIArea().getInterface();}function u(){return sap.ui.getCore().getUIArea(this.id)!=null;}function a(){return sap.ui.getCore().getUIArea(this.id);}q.fn.root=function(r){if(r){sap.ui.getCore().setRoot(this.get(0),r);return this;}var c=this.control();if(c.length>0){return c.map(f);}var U=this.uiarea();if(U.length>0){return U;}this.each(function(){sap.ui.getCore().createUIArea(this);});return this;};q.fn.uiarea=function(i){var U=this.slice("[id]").filter(u).map(a).get();return typeof(i)==="number"?U[i]:U;};q.fn.sapui=function(c,i,C){return this.each(function(){var o=null;if(this){if(c.indexOf(".")==-1){c="sap.ui.commons."+c;}var b=O.get(c);if(b){if(typeof C=='object'&&typeof C.press=='function'){C.press=q.proxy(C.press,this);}o=new(b)(i,C);o.placeAt(this);}}});};return q;});
sap.ui.predefine('jquery.sap.xml',['jquery.sap.global','sap/ui/util/XMLHelper'],function(q,X){"use strict";q.sap.parseXML=X.parse;q.sap.serializeXML=function(x){var s="";if(window.ActiveXObject){s=x.xml;if(s){return s;}}if(window.XMLSerializer){return X.serialize(x);}return s;};q.sap.isEqualNode=function(n,N){if(n===N){return true;}if(!n||!N){return false;}if(n.isEqualNode){return n.isEqualNode(N);}if(n.nodeType!=N.nodeType){return false;}if(n.nodeValue!=N.nodeValue){return false;}if(n.baseName!=N.baseName){return false;}if(n.nodeName!=N.nodeName){return false;}if(n.nameSpaceURI!=N.nameSpaceURI){return false;}if(n.prefix!=N.prefix){return false;}if(n.nodeType!=1){return true;}if(n.attributes.length!=N.attributes.length){return false;}for(var i=0;i<n.attributes.length;i++){if(!q.sap.isEqualNode(n.attributes[i],N.attributes[i])){return false;}}if(n.childNodes.length!=N.childNodes.length){return false;}for(var i=0;i<n.childNodes.length;i++){if(!q.sap.isEqualNode(n.childNodes[i],N.childNodes[i])){return false;}}return true;};q.sap.getParseError=X.getParseError;return q;});
sap.ui.predefine('sap/base/security/URLWhitelist',["sap/base/security/URLListValidator"],function(U){"use strict";return{"add":U.add,"delete":U._delete,"clear":U.clear,"entries":U.entries,"validate":U.validate,"_createEntry":function(p,h,a,b){return{protocol:p&&p.toUpperCase(),host:h&&h.toUpperCase(),port:a,path:b};}};});
sap.ui.predefine('sap/base/security/encodeJS',["sap/base/strings/toHex"],function(t){"use strict";var r=/[\x00-\x2b\x2d\x2f\x3a-\x40\x5b-\x5e\x60\x7b-\xff\u2028\u2029]/g,j={};var J=function(c){var E=j[c];if(!E){var C=c.charCodeAt(0);if(C<256){E="\\x"+t(C,2);}else{E="\\u"+t(C,4);}j[c]=E;}return E;};var e=function(s){return s.replace(r,J);};return e;});
sap.ui.predefine('sap/base/security/encodeURLParameters',["./encodeURL"],function(e){"use strict";var E=function(p){if(!p){return"";}var u=[];Object.keys(p).forEach(function(n){var v=p[n];if(v instanceof String||typeof v==="string"){v=e(v);}u.push(e(n)+"="+v);});return u.join("&");};return E;});
sap.ui.predefine('sap/base/strings/whitespaceReplacer',[],function(){"use strict";var w=function(i){var W=" ",u="\u00A0";if(typeof i!=="string"){return i;}return i.replaceAll("\t",W+W).replaceAll((W+W),(W+u));};return w;});
sap.ui.predefine('sap/base/util/defineCoupledProperty',[],function(){"use strict";var d=function(t,T,s,S){var v=s[S];var p={configurable:true,get:function(){return v;},set:function(_){v=_;}};Object.defineProperty(t,T,p);Object.defineProperty(s,S,p);};return d;});
sap.ui.predefine('sap/base/util/restricted/_castArray',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.castArray;});
sap.ui.predefine('sap/base/util/restricted/_compact',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.compact;});
sap.ui.predefine('sap/base/util/restricted/_debounce',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.debounce;});
sap.ui.predefine('sap/base/util/restricted/_difference',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.difference;});
sap.ui.predefine('sap/base/util/restricted/_differenceBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.differenceBy;});
sap.ui.predefine('sap/base/util/restricted/_differenceWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.differenceWith;});
sap.ui.predefine('sap/base/util/restricted/_flatMap',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatMap;});
sap.ui.predefine('sap/base/util/restricted/_flatMapDeep',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatMapDeep;});
sap.ui.predefine('sap/base/util/restricted/_flatMapDepth',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatMapDepth;});
sap.ui.predefine('sap/base/util/restricted/_flatten',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatten;});
sap.ui.predefine('sap/base/util/restricted/_flattenDeep',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flattenDeep;});
sap.ui.predefine('sap/base/util/restricted/_flattenDepth',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flattenDepth;});
sap.ui.predefine('sap/base/util/restricted/_intersection',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.intersection;});
sap.ui.predefine('sap/base/util/restricted/_intersectionBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.intersectionBy;});
sap.ui.predefine('sap/base/util/restricted/_intersectionWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.intersectionWith;});
sap.ui.predefine('sap/base/util/restricted/_isEqual',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isEqual;});
sap.ui.predefine('sap/base/util/restricted/_isEqualWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isEqualWith;});
sap.ui.predefine('sap/base/util/restricted/_isNil',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isNil;});
sap.ui.predefine('sap/base/util/restricted/_max',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.max;});
sap.ui.predefine('sap/base/util/restricted/_merge',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.merge;});
sap.ui.predefine('sap/base/util/restricted/_mergeWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.mergeWith;});
sap.ui.predefine('sap/base/util/restricted/_min',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.min;});
sap.ui.predefine('sap/base/util/restricted/_omit',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.omit;});
sap.ui.predefine('sap/base/util/restricted/_pick',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.pick;});
sap.ui.predefine('sap/base/util/restricted/_pickBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.pickBy;});
sap.ui.predefine('sap/base/util/restricted/_throttle',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.throttle;});
sap.ui.predefine('sap/base/util/restricted/_toArray',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.toArray;});
sap.ui.predefine('sap/base/util/restricted/_union',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.union;});
sap.ui.predefine('sap/base/util/restricted/_unionBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.unionBy;});
sap.ui.predefine('sap/base/util/restricted/_unionWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.unionWith;});
sap.ui.predefine('sap/base/util/restricted/_uniq',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.uniq;});
sap.ui.predefine('sap/base/util/restricted/_uniqBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.uniqBy;});
sap.ui.predefine('sap/base/util/restricted/_uniqWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.uniqWith;});
sap.ui.predefine('sap/base/util/restricted/_without',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.without;});
sap.ui.predefine('sap/base/util/restricted/_xor',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.xor;});
sap.ui.predefine('sap/base/util/restricted/_xorBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.xorBy;});
sap.ui.predefine('sap/base/util/restricted/_xorWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.xorWith;});
sap.ui.predefine('sap/base/util/restricted/_zipObjectDeep',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.zipObjectDeep;});
sap.ui.predefine('sap/m/AccButton',['./Button','./AccButtonRenderer'],function(B,A){"use strict";var a=B.extend("sap.m.AccButton",{metadata:{library:"sap.m",properties:{"tabIndex":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHidden":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHaspopup":{type:"string",defaultValue:null,bindable:"bindable"}}}});return a;});
sap.ui.predefine('sap/m/AccButtonRenderer',["./ButtonRenderer","sap/ui/core/Renderer"],function(B,R){"use strict";var A=R.extend(B);A.apiVersion=2;A.renderAccessibilityAttributes=function(r,c){if(c.getTabIndex()){r.attr("tabindex",c.getTabIndex());}if(c.getAriaHidden()){r.attr("aria-hidden",c.getAriaHidden());}if(c.getAriaHaspopup()){r.attr("aria-haspopup",c.getAriaHaspopup());}};return A;},true);
sap.ui.predefine('sap/m/ActionListItem',['./ListItemBase','./library','./ActionListItemRenderer'],function(L,l,A){"use strict";var a=l.ListMode;var b=l.ListType;var c=L.extend("sap.m.ActionListItem",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null}}}});c.prototype.init=function(){this.setType(b.Active);L.prototype.init.apply(this,arguments);};c.prototype.getMode=function(){return a.None;};c.prototype.onsapspace=c.prototype.onsapenter;c.prototype.getContentAnnouncement=function(){return this.getText();};return c;});
sap.ui.predefine('sap/m/ActionListItemRenderer',["./ListItemBaseRenderer","sap/ui/core/Renderer"],function(L,R){"use strict";var A=R.extend(L);A.apiVersion=2;A.renderLIAttributes=function(r,l){r.class("sapMALI");};A.renderLIContent=function(r,l){var t=l.getText();if(t){r.openStart("div").class("sapMALIText").openEnd();r.text(t);r.close("div");}};return A;},true);
sap.ui.predefine('sap/m/ActionSelect',['./Select','sap/ui/core/InvisibleText','sap/ui/Device','sap/ui/core/Core','./ActionSelectRenderer'],function(S,I,D,C,A){"use strict";var a=S.extend("sap.m.ActionSelect",{metadata:{library:"sap.m",associations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"}}}});a.prototype.init=function(){S.prototype.init.call(this);this.getList().addEventDelegate({onfocusin:this.onfocusinList},this);};a.prototype.hasContent=function(){return S.prototype.hasContent.call(this)||!!this.getButtons().length;};a.prototype.addContentToFlex=function(){var s=this.getSimpleFixFlex();this.getButtons().forEach(function(b){s.addFlexContent(C.byId(b));});};a.prototype._onBeforeRenderingPopover=function(){S.prototype._onBeforeRenderingPopover.call(this);var p=this.getPicker();p&&p._setAriaRoleApplication(true);this._updateTutorMessage();};a.prototype.onAfterRenderingPicker=function(){S.prototype.onAfterRenderingPicker.call(this);var p=this.getPicker(),r=this.getRenderer();p.addStyleClass(r.CSS_CLASS+"Picker");p.addStyleClass(r.ACTION_SELECT_CSS_CLASS+"Picker");p.addStyleClass(r.ACTION_SELECT_CSS_CLASS+"Picker-CTX");};a.prototype.createPickerCloseButton=function(){};a.prototype.removeButton=function(b){var s=this.getSimpleFixFlex();if(s){if(typeof b==="number"){b=this.getButtons()[b];}s.removeFlexContent(b);}return this.removeAssociation("buttons",b);};a.prototype.removeAllButtons=function(){var s=this.getSimpleFixFlex();if(s){this.getButtons().forEach(function(b){s.removeFlexContent(C.byId(b));});}return this.removeAllAssociation("buttons");};a.prototype.onsaptabprevious=function(e){var b=this.getButtons(),p=this.getPicker(),i;this._bProcessChange=false;if(e.isMarked()||!this.getEnabled()){return;}e.setMarked();if(p&&p.isOpen()&&b.length>0){for(i=b.length-1;i>=0;i--){if(C.byId(b[i]).getEnabled()){C.byId(b[i]).focus();e.preventDefault();break;}}}};a.prototype.onsaptabnext=function(e){var b=this.getButtons(),p=this.getPicker(),i;this._bProcessChange=false;if(e.isMarked()||!this.getEnabled()){return;}e.setMarked();if(p&&p.isOpen()&&b.length>0){for(i=0;i<b.length;i++){if(C.byId(b[i]).getEnabled()){C.byId(b[i]).focus();e.preventDefault();break;}}}};a.prototype.onsapfocusleave=function(e){var b=this.getButtons();var k=(b.indexOf(e.relatedControlId)===-1);if(k){S.prototype.onsapfocusleave.apply(this,arguments);}this._toggleListFocusIndication(true);};a.prototype.onfocusinList=function(e){if(document.activeElement!==this.getList().getDomRef()&&!D.system.phone){this.focus();}};a.prototype.onfocusin=function(){S.prototype.onfocusin.apply(this,arguments);this._toggleListFocusIndication(false);};a.prototype._toggleListFocusIndication=function(r){var s=this.getSelectedItem();if(this.isOpen()&&s){s.$().toggleClass("sapMActionSelectItemWithoutFocus",r);}};a.prototype._updateTutorMessage=function(){var p=this.getPicker(),b=p.getAriaLabelledBy(),h=!!this.getButtons().length,t;if(!this._sTutorMessageId){this._sTutorMessageId=this._getTutorMessageId();this._oTutorMessageText=new I(this._sTutorMessageId,{text:C.getLibraryResourceBundle("sap.m").getText("ACTION_SELECT_TUTOR_MESSAGE")}).toStatic();}t=(b.indexOf(this._sTutorMessageId)===-1);if(t&&h){p.addAriaLabelledBy(this._sTutorMessageId);}else{if(!h){p.removeAriaLabelledBy(this._sTutorMessageId);}}};a.prototype._getTutorMessageId=function(){return this.getId()+"-tutorMessage";};a.prototype.exit=function(){S.prototype.exit.call(this);if(this._oTutorMessageText){this._oTutorMessageText.destroy();this._oTutorMessageText=null;}};return a;});
sap.ui.predefine('sap/m/ActionSelectRenderer',['sap/ui/core/Renderer','./SelectRenderer'],function(R,S){"use strict";var A=R.extend(S);A.ACTION_SELECT_CSS_CLASS="sapMActionSelect";A.apiVersion=2;A.addClass=function(r,a){r.class(A.ACTION_SELECT_CSS_CLASS);};return A;},true);
sap.ui.predefine('sap/m/Breadcrumbs',["sap/ui/core/Control","sap/ui/util/openWindow","sap/m/Text","sap/m/Link","sap/m/Select","sap/ui/core/Item","sap/ui/core/delegate/ItemNavigation","sap/ui/core/ResizeHandler","sap/ui/core/IconPool","sap/ui/Device","sap/m/library","./BreadcrumbsRenderer",'sap/ui/base/ManagedObject','sap/ui/core/InvisibleText'],function(C,o,T,L,S,I,a,R,b,D,l,B,M,c){"use strict";var d=l.SelectType,e=l.BreadcrumbsSeparatorStyle;var f=C.extend("sap.m.Breadcrumbs",{metadata:{library:"sap.m",interfaces:["sap.m.IBreadcrumbs"],designtime:"sap/m/designtime/Breadcrumbs.designtime",properties:{currentLocationText:{type:"string",group:"Behavior",defaultValue:null},separatorStyle:{type:"sap.m.BreadcrumbsSeparatorStyle",group:"Appearance",defaultValue:e.Slash}},aggregations:{links:{type:"sap.m.Link",multiple:true,singularName:"link"},_currentLocation:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}},defaultAggregation:"links",associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});f.STYLE_MAPPER={Slash:"/",BackSlash:"\\",DoubleSlash:"//",DoubleBackSlash:"\\\\",GreaterThan:">",DoubleGreaterThan:">>"};f.prototype.init=function(){this._sSeparatorSymbol=f.STYLE_MAPPER[this.getSeparatorStyle()];this._getInvisibleText();};f.prototype.onBeforeRendering=function(){this.bRenderingPhase=true;if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this._bControlsInfoCached){this._updateSelect(true);}};f.prototype.onAfterRendering=function(){if(!this._sResizeListenerId){this._sResizeListenerId=R.register(this,this._handleScreenResize.bind(this));}if(!this._bControlsInfoCached){this._updateSelect(true);return;}this._configureKeyboardHandling();this.bRenderingPhase=false;};f.prototype.onThemeChanged=function(){this._resetControl();};f.prototype.exit=function(){this._resetControl();this._destroyItemNavigation();if(this._oInvisibleText){this._oInvisibleText.destroy();this._oInvisibleText=null;}};f.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;f.prototype._getAugmentedId=function(s){return this.getId()+"-"+s;};f.prototype._getInvisibleText=function(){var A=B._getResourceBundleText("BREADCRUMB_LABEL");if(!this._oInvisibleText){this._oInvisibleText=new c({id:this.getId()+"-InvisibleText"});this._oInvisibleText.setText(A).toStatic();}return this._oInvisibleText;};f.prototype._getSelect=function(){if(!this.getAggregation("_select")){this.setAggregation("_select",this._decorateSelect(new S({id:this._getAugmentedId("select"),change:this._selectChangeHandler.bind(this),forceSelection:false,autoAdjustWidth:true,icon:b.getIconURI("slim-arrow-down"),type:d.IconOnly,tooltip:B._getResourceBundleText("BREADCRUMB_SELECT_TOOLTIP")})),true);}return this.getAggregation("_select");};f.prototype._getCurrentLocation=function(){if(!this.getAggregation("_currentLocation")){var i=new T({id:this._getAugmentedId("currentText"),text:this.getCurrentLocationText(),wrapping:false}).addStyleClass("sapMBreadcrumbsCurrentLocation");i.addEventDelegate({onAfterRendering:function(){i.$().attr("aria-current","page");i.$().attr("tabindex",0);}});this.setAggregation("_currentLocation",i).addStyleClass("sapMBreadcrumbsCurrentLocation");}return this.getAggregation("_currentLocation");};function g(A,i){var j=Array.prototype.slice.apply(i);j.unshift(A);return j;}f.prototype.insertLink=function(i,j){var r=this.insertAggregation.apply(this,g("links",arguments));this._registerControlListener(i);this._resetControl();return r;};f.prototype.addLink=function(i){var r=this.addAggregation.apply(this,g("links",arguments));this._registerControlListener(i);this._resetControl();return r;};f.prototype.removeLink=function(O){var r=this.removeAggregation.apply(this,g("links",arguments));this._deregisterControlListener(r);this._resetControl();return r;};f.prototype.removeAllLinks=function(){var i=this.getAggregation("links",[]);var r=this.removeAllAggregation.apply(this,g("links",arguments));i.forEach(this._deregisterControlListener,this);this._resetControl();return r;};f.prototype.destroyLinks=function(){var i=this.getAggregation("links",[]);var r=this.destroyAggregation.apply(this,g("links",arguments));i.forEach(this._deregisterControlListener,this);this._resetControl();return r;};f.prototype._decorateSelect=function(s){s.getPicker().attachAfterOpen(this._removeItemNavigation,this).attachBeforeClose(this._restoreItemNavigation,this);s._onBeforeOpenDialog=this._onSelectBeforeOpenDialog.bind(this);s._onBeforeOpenPopover=this._onSelectBeforeOpenPopover.bind(this);s.onsapescape=this._onSelectEscPress.bind(this);return s;};f.prototype._removeItemNavigation=function(){this.removeDelegate(this._getItemNavigation());};f.prototype._onSelectBeforeOpenDialog=function(){var s=this._getSelect();if(this.getCurrentLocationText()&&D.system.phone){s.setSelectedIndex(0);}else{s.setSelectedItem(null);}S.prototype._onBeforeOpenDialog.call(s);this._removeItemNavigation();};f.prototype._onSelectBeforeOpenPopover=function(){this._getSelect().setSelectedItem(null);this._removeItemNavigation();};f.prototype._restoreItemNavigation=function(){this.addDelegate(this._getItemNavigation());};f.prototype._onSelectEscPress=function(){this._getSelect().close();};f.prototype._createSelectItem=function(i){return new I({key:i.getId(),text:M.escapeSettingsValue(i.getText())});};f.prototype._selectChangeHandler=function(E){var i,s,j,k=E.getParameter("selectedItem");if(!k){return;}if(!this._getSelect().isOpen()){return;}i=sap.ui.getCore().byId(k.getKey());if(!(i instanceof L)){return;}s=i.getHref();j=i.getTarget();i.firePress();if(s){if(j){o(s,j);}else{window.location.href=s;}}};f.prototype._getItemsForMobile=function(){var i=this.getLinks().filter(function(j){return j.getVisible();});if(this.getCurrentLocationText()){i.push(this._getCurrentLocation());}return i;};f.prototype._updateSelect=function(i){var s=this._getSelect(),j,k=this._getControlDistribution();if(!this._bControlDistributionCached||i){s.destroyItems();j=D.system.phone?this._getItemsForMobile():k.aControlsForSelect;j.map(this._createSelectItem).reverse().forEach(s.insertItem,s);this._bControlDistributionCached=true;this.invalidate(this);}s.setVisible(!!k.aControlsForSelect.length);if(!this._sResizeListenerId&&!this.bRenderingPhase){this._sResizeListenerId=R.register(this,this._handleScreenResize.bind(this));}};f.prototype._getControlsForBreadcrumbTrail=function(){var v;if(this._bControlDistributionCached&&this._oDistributedControls){return this._oDistributedControls.aControlsForBreadcrumbTrail;}v=this.getLinks().filter(function(i){return i.getVisible();});if(this.getCurrentLocationText()){return v.concat([this._getCurrentLocation()]);}return v;};f.prototype._getControlInfo=function(i){return{id:i.getId(),control:i,width:h(i.$().parent()),bCanOverflow:i instanceof L};};f.prototype._getControlDistribution=function(m){m=m||this._iContainerSize;this._iContainerSize=m;this._oDistributedControls=this._determineControlDistribution(m);return this._oDistributedControls;};f.prototype._getSelectWidth=function(){return this._getSelect().getVisible()&&this._iSelectWidth||0;};f.prototype._determineControlDistribution=function(m){var i,j,k=this._getControlsInfo().aControlInfo,s=this._getSelectWidth(),n=[],p=[],u=s;for(i=k.length-1;i>=0;i--){j=k[i];u+=j.width;if(k.length-1===i){p.push(j.control);continue;}if(i===0){u-=s;}if(u>m&&j.bCanOverflow){n.unshift(j.control);}else{p.unshift(j.control);}}return{aControlsForBreadcrumbTrail:p,aControlsForSelect:n};};f.prototype._getControlsInfo=function(){if(!this._bControlsInfoCached){this._iSelectWidth=h(this._getSelect().$().parent())||0;this._aControlInfo=this._getControlsForBreadcrumbTrail().map(this._getControlInfo);this._iContainerSize=Math.ceil(h(this.$()));this._bControlsInfoCached=true;}return{aControlInfo:this._aControlInfo,iSelectWidth:this._iSelectWidth,iContentSize:this._iContainerSize};};f.prototype._handleScreenResize=function(E){var i,j,k;if(E.size.width===E.oldSize.width||E.size.width===0){return this;}i=this._oDistributedControls.aControlsForBreadcrumbTrail.length;j=this._getControlDistribution(Math.ceil(h(this.$())));k=j.aControlsForBreadcrumbTrail.length;if(i!==k){this._updateSelect(true);}return this;};f.prototype._getItemsToNavigate=function(){var i=this._getControlsForBreadcrumbTrail().slice(),s=this._getSelect();if(s.getVisible()){i.unshift(s);}return i;};f.prototype._getItemNavigation=function(){if(!this._itemNavigation){this._itemNavigation=new a();}return this._itemNavigation;};f.prototype._destroyItemNavigation=function(){if(this._itemNavigation){this.removeEventDelegate(this._itemNavigation);this._itemNavigation.destroy();this._itemNavigation=null;}};f.prototype._configureKeyboardHandling=function(){var i=this._getItemNavigation(),s=-1,j=this._getItemsToNavigate(),n=[];if(j.length===0){return;}j.forEach(function(k,m){if(m===0){k.$().attr("tabindex","0");}k.$().attr("tabindex","-1");n.push(k.getDomRef());});this.addDelegate(i);i.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});i.setCycling(false);i.setPageSize(f.PAGEUP_AND_PAGEDOWN_JUMP_SIZE);i.setRootDomRef(this.getDomRef());i.setItemDomRefs(n);i.setSelectedIndex(s);return this;};f.prototype._registerControlListener=function(i){if(i){i.attachEvent("_change",this._resetControl,this);}};f.prototype._deregisterControlListener=function(i){if(i){i.detachEvent("_change",this._resetControl,this);}};f.prototype.setCurrentLocationText=function(t){var i=this._getCurrentLocation(),r=this.setProperty("currentLocationText",t,true);if(i.getText()!==t){i.setText(t);this._resetControl();}return r;};f.prototype.setSeparatorStyle=function(s){this.setProperty("separatorStyle",s);var i=f.STYLE_MAPPER[this.getSeparatorStyle()];if(i){this._sSeparatorSymbol=i;}return this;};f.prototype._resetControl=function(){this._aControlInfo=null;this._iContainerSize=null;this._bControlsInfoCached=null;this._bControlDistributionCached=null;this._oDistributedControls=null;if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.removeDelegate(this._getItemNavigation());this.invalidate(this);return this;};function h($){var m;if($.length){m=$.outerWidth(true)-$.outerWidth();return $.get(0).getBoundingClientRect().width+m;}}return f;});
sap.ui.predefine('sap/m/BreadcrumbsRenderer',["sap/m/Text"],function(T){"use strict";var B={apiVersion:2};var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");B.render=function(R,c){var C=c._getControlsForBreadcrumbTrail(),s=c._getSelect(),S=c._sSeparatorSymbol,d=c._getInvisibleText().getId(),a=c.getAriaLabelledBy().slice();R.openStart("nav",c);R.class("sapMBreadcrumbs");a.push(d);R.accessibilityState(null,{labelledby:{value:a.join(" "),append:true}});R.openEnd();R.openStart("ol");R.openEnd();if(s.getVisible()){this._renderControlInListItem(R,s,S,false,"sapMBreadcrumbsSelectItem");}C.forEach(function(o){this._renderControlInListItem(R,o,S,o instanceof T);},this);R.close("ol");R.close("nav");};B._renderControlInListItem=function(R,c,s,S,a){R.openStart("li");R.class("sapMBreadcrumbsItem");R.class(a);R.openEnd();R.renderControl(c);if(!S){R.openStart("span").class("sapMBreadcrumbsSeparator").openEnd().text(s).close("span");}R.close("li");};B._getResourceBundleText=function(t){return r.getText(t);};return B;},true);
sap.ui.predefine('sap/m/BusyDialog',['./library','sap/ui/core/Control','sap/m/Dialog','sap/m/BusyIndicator','sap/m/Label','sap/m/Button',"sap/base/Log",'sap/ui/core/Core','sap/ui/core/InvisibleText'],function(l,C,D,B,L,a,b,c,I){"use strict";var T=l.TitleAlignment;var d=C.extend("sap.m.BusyDialog",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Appearance",defaultValue:''},title:{type:"string",group:"Appearance",defaultValue:''},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''},customIconRotationSpeed:{type:"int",group:"Appearance",defaultValue:1000},customIconDensityAware:{type:"boolean",defaultValue:true},customIconWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},customIconHeight:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},cancelButtonText:{type:"string",group:"Misc",defaultValue:''},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:false},titleAlignment:{type:"sap.m.TitleAlignment",group:"Misc",defaultValue:T.Auto}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{close:{parameters:{cancelPressed:{type:"boolean"}}}},designtime:"sap/m/designtime/BusyDialog.designtime"},renderer:{apiVersion:2,render:function(r,o){}}});d.prototype.init=function(){this._busyIndicator=new B(this.getId()+'-busyInd',{visible:true});this._oDialog=new D(this.getId()+'-Dialog',{content:this._busyIndicator,titleAlignment:this.getTitleAlignment(),showHeader:false,afterClose:this._fnCloseHandler.bind(this),initialFocus:this._busyIndicator.getId()+'-busyIndicator'}).addStyleClass('sapMBusyDialog');this._oDialog.close=function(){};this._oDialog.addEventDelegate({onBeforeRendering:function(){var t=this.getText(),e=this.getTitle(),s=this.getShowCancelButton()||this.getCancelButtonText();if(!t&&!e&&!s){this._oDialog.addStyleClass('sapMBusyDialog-Light');}else{this._oDialog.removeStyleClass('sapMBusyDialog-Light');}}},this);this._oDialog.oPopup.onsapescape=function(e){this.close(true);}.bind(this);};d.prototype.exit=function(){if(this._iOpenTimer){clearTimeout(this._iOpenTimer);this._iOpenTimer=null;}this._busyIndicator.destroy();this._busyIndicator=null;if(this._cancelButton){this._cancelButton.destroy();this._cancelButton=null;}if(this._oLabel){this._oLabel.destroy();this._oLabel=null;}if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}};d.prototype.open=function(){var A=this.getAriaLabelledBy();b.debug("sap.m.BusyDialog.open called at "+new Date().getTime());if(A&&A.length){if(!this._oDialog._$dialog){var t=this;A.forEach(function(i){t._oDialog.addAriaLabelledBy(i);});}}else if(!this._oDialog.getShowHeader()){this._oDialog.addAriaLabelledBy(I.getStaticId("sap.m","BUSYDIALOG_TITLE"));}else{this._oDialog.removeAriaLabelledBy(I.getStaticId("sap.m","BUSYDIALOG_TITLE"));}if(!document.body||!c.isInitialized()){this._iOpenTimer=setTimeout(function(){this.open();}.bind(this),50);}else{this._oDialog.open();}return this;};d.prototype.close=function(i){this._isClosedFromUserInteraction=i;if(this._iOpenTimer){clearTimeout(this._iOpenTimer);this._iOpenTimer=null;}D.prototype.close.call(this._oDialog);return this;};d.prototype._fnCloseHandler=function(){this.fireClose({cancelPressed:this._isClosedFromUserInteraction||false});};d.prototype.setTitle=function(t){this.setProperty('title',t,true);this._oDialog.setTitle(t).setShowHeader(!!t);return this;};d.prototype.setTitleAlignment=function(A){this.setProperty("titleAlignment",A,true);if(this._oDialog){this._oDialog.setTitleAlignment(A);}return this;};d.prototype.setTooltip=function(t){this._oDialog.setTooltip(t);return this;};d.prototype.getTooltip=function(){return this._oDialog.getTooltip();};d.prototype.setText=function(t){this.setProperty('text',t,true);if(!this._oLabel){if(t){this._oLabel=new L(this.getId()+'-TextLabel',{text:t}).addStyleClass('sapMBusyDialogLabel');this._oDialog.insertAggregation('content',this._oLabel,0);this._oDialog.addAriaLabelledBy(this._oLabel.getId());}}else{if(t){this._oLabel.setText(t).setVisible(true);}else{this._oLabel.setVisible(false);}}return this;};d.prototype.setCustomIcon=function(i){this.setProperty("customIcon",i,true);this._busyIndicator.setCustomIcon(i);return this;};d.prototype.setCustomIconRotationSpeed=function(s){this.setProperty("customIconRotationSpeed",s,true);this._busyIndicator.setCustomIconRotationSpeed(s);return this;};d.prototype.setCustomIconDensityAware=function(i){this.setProperty("customIconDensityAware",i,true);this._busyIndicator.setCustomIconDensityAware(i);return this;};d.prototype.setCustomIconWidth=function(w){this.setProperty("customIconWidth",w,true);this._busyIndicator.setCustomIconWidth(w);return this;};d.prototype.setCustomIconHeight=function(h){this.setProperty("customIconHeight",h,true);this._busyIndicator.setCustomIconHeight(h);return this;};d.prototype.setShowCancelButton=function(i){this.setProperty("showCancelButton",i,false);if(i){this._oDialog.setEndButton(this._getCancelButton());}else{this._destroyTheCancelButton();}return this;};d.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,false);if(t){this._getCancelButton().setText(t);this._oDialog.setEndButton(this._getCancelButton());}else{this._destroyTheCancelButton();}return this;};d.prototype.getDomRef=function(){return this._oDialog&&this._oDialog.getDomRef();};["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass"].forEach(function(A){d.prototype[A]=function(){if(this._oDialog&&this._oDialog[A]){this._oDialog[A].apply(this._oDialog,arguments);return this;}};});d.prototype._destroyTheCancelButton=function(){this._oDialog.destroyEndButton();this._cancelButton=null;};d.prototype._getCancelButton=function(){var e=this.getCancelButtonText();e=e?e:c.getLibraryResourceBundle("sap.m").getText("BUSYDIALOG_CANCELBUTTON_TEXT");return this._cancelButton?this._cancelButton:this._cancelButton=new a(this.getId()+'busyCancelBtn',{text:e,press:function(){this.close(true);}.bind(this)});};return d;});
sap.ui.predefine('sap/m/Carousel',["./library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/core/library","sap/m/MessagePage","./CarouselRenderer","./CarouselLayout","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/F6Navigation","sap/ui/thirdparty/jquery","sap/ui/thirdparty/mobify-carousel","sap/ui/core/IconPool"],function(l,C,a,D,R,c,M,b,d,K,L,F,q){"use strict";var B=c.BusyIndicatorSize;var I=l.ImageHelper;var e=l.CarouselArrowsPlacement;var P=l.PlacementType;var f=a.extend("sap.m.Carousel",{metadata:{library:"sap.m",designtime:"sap/m/designtime/Carousel.designtime",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},loop:{type:"boolean",group:"Misc",defaultValue:false},showPageIndicator:{type:"boolean",group:"Appearance",defaultValue:true},pageIndicatorPlacement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:P.Bottom},showBusyIndicator:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},arrowsPlacement:{type:"sap.m.CarouselArrowsPlacement",group:"Appearance",defaultValue:e.Content}},defaultAggregation:"pages",aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"page"},customLayout:{type:"sap.m.CarouselLayout",multiple:false}},associations:{activePage:{type:"sap.ui.core.Control",multiple:false}},events:{loadPage:{deprecated:true,parameters:{pageId:{type:"string"}}},unloadPage:{deprecated:true,parameters:{pageId:{type:"string"}}},pageChanged:{parameters:{oldActivePageId:{type:"string"},newActivePageId:{type:"string"},activePages:{type:"array"}}},beforePageChanged:{parameters:{activePages:{type:"array"}}}}}});f._INNER_SELECTOR=".sapMCrslInner";f._PAGE_INDICATOR_SELECTOR=".sapMCrslBulleted";f._PAGE_INDICATOR_ARROWS_SELECTOR=".sapMCrslIndicatorArrow";f._CONTROLS=".sapMCrslControls";f._ITEM_SELECTOR=".sapMCrslItem";f._LEFTMOST_CLASS="sapMCrslLeftmost";f._RIGHTMOST_CLASS="sapMCrslRightmost";f._LATERAL_CLASSES="sapMCrslLeftmost sapMCrslRightmost";f._MODIFIERNUMBERFORKEYBOARDHANDLING=10;f._BULLETS_TO_NUMBERS_THRESHOLD=9;f._PREVIOUS_CLASS_ARROW="sapMCrslPrev";f._NEXT_CLASS_ARROW="sapMCrslNext";f.prototype.init=function(){this._fnAdjustAfterResize=function(){var $=this.$().find(f._INNER_SELECTOR);this._oMobifyCarousel.resize($);if(this.getPages().length>1){this._setWidthOfPages(this._getNumberOfItemsToShow());}}.bind(this);this._aOrderOfFocusedElements=[];this._aAllActivePages=[];this._aAllActivePagesIndexes=[];this._onBeforePageChangedRef=this._onBeforePageChanged.bind(this);this._onAfterPageChangedRef=this._onAfterPageChanged.bind(this);this.data("sap-ui-fastnavgroup","true",true);this._oRb=C.getLibraryResourceBundle("sap.m");};f.prototype.exit=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.destroy();delete this._oMobifyCarousel;}if(this._oArrowLeft){this._oArrowLeft.destroy();delete this._oArrowLeft;}if(this._oArrowRight){this._oArrowRight.destroy();delete this._oArrowRight;}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this.oMessagePage){this.oMessagePage.destroy();this.oMessagePage=null;}this.$().off('afterSlide');this._fnAdjustAfterResize=null;this._$InnerDiv=null;this._aOrderOfFocusedElements=null;this._aAllActivePages=null;this._aAllActivePagesIndexes=null;};f.prototype.ontouchstart=function(E){if(this._oMobifyCarousel){if(E.target instanceof HTMLImageElement){E.preventDefault();}this._oMobifyCarousel.touchstart(E);}};f.prototype.ontouchmove=function(E){if(this._oMobifyCarousel){this._oMobifyCarousel.touchmove(E);}};f.prototype.ontouchend=function(E){if(this._oMobifyCarousel){if(this._oMobifyCarousel.hasActiveTransition()){this._oMobifyCarousel.onTransitionComplete();}this._oMobifyCarousel.touchend(E);}};f.prototype.onBeforeRendering=function(){var A=this.getActivePage();if(!A&&this.getPages().length>0){this.setAssociation("activePage",this.getPages()[0].getId(),true);}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.$().off('beforeSlide',this._onBeforePageChangedRef);this.$().off('afterSlide',this._onAfterPageChangedRef);return this;};f.prototype._getNumberOfItemsToShow=function(){var p=this.getPages().length,o=this.getCustomLayout(),n=1;if(o&&o.isA("sap.m.CarouselLayout")){n=Math.max(o.getVisiblePagesCount(),1);}if(n>1&&p<n){return p;}return n;};f.prototype.onAfterRendering=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.unbind();setTimeout(function(){if(this._oMobifyCarousel){this._oMobifyCarousel.onTransitionComplete();}}.bind(this),0);}var n=this._getNumberOfItemsToShow();this.$().carousel(undefined,{numberOfItemsToShow:n});this._oMobifyCarousel=this.getDomRef()._carousel;this._oMobifyCarousel.setLoop(this.getLoop());this._oMobifyCarousel.setRTL(C.getConfiguration().getRTL());if(n>1){this._setWidthOfPages(n);}var A=this.getActivePage();if(A){this._updateActivePages(A);var i=this._getPageNumber(A);if(isNaN(i)||i==0){if(this.getPages().length>0){this.setAssociation("activePage",this.getPages()[0].getId(),true);this._adjustHUDVisibility(1);}}else{if(C.isThemeApplied()){this._moveToPage(i+1);}else{C.attachThemeChanged(this._handleThemeLoad,this);}if(this.getParent()&&this.getParent().isA("sap.zen.commons.layout.PositionContainer")){if(this._isCarouselUsedWithCommonsLayout===undefined){setTimeout(this["invalidate"].bind(this),0);this._isCarouselUsedWithCommonsLayout=true;}}}}this.$().on('beforeSlide',this._onBeforePageChangedRef);this.$().on('afterSlide',this._onAfterPageChangedRef);this._$InnerDiv=this.$().find(f._INNER_SELECTOR)[0];this._sResizeListenerId=R.register(this._$InnerDiv,this._fnAdjustAfterResize);var p=this.getParent();while(p){if(p.isA("sap.m.IconTabBar")){var t=this;p.attachExpand(function(E){var g=E.getParameter('expand');if(g&&i>0){t._moveToPage(i+1);}});break;}p=p.getParent();}};f.prototype._onBeforePageChanged=function(E,p,n){if(E.target!==this.getDomRef()){return;}var N=this.getPages()[n-1].getId();this._updateActivePages(N);this.fireBeforePageChanged({activePages:this._aAllActivePagesIndexes});};f.prototype._onAfterPageChanged=function(E,p,n){var h=this.getPages().length>0;if(E.target!==this.getDomRef()){return;}if(h&&n>0){this._changePage(p,n);}};f.prototype._setWidthOfPages=function(n){var $=this.$().find(".sapMCrslItem"),i;if(!$.length){return;}i=this._calculatePagesWidth(n);$.each(function(g,p){p.style.width=i+"%";});};f.prototype._calculatePagesWidth=function(n){var w=this.$().width(),s=this.getDomRef().querySelector(".sapMCrslFluid .sapMCrslItem"),m=parseFloat(window.getComputedStyle(s).marginRight),i=(w-(m*(n-1)))/n,g=(i/w)*100;return g;};f.prototype._handleThemeLoad=function(){var A=this.getActivePage();if(A){var i=this._getPageNumber(A);if(i>0){this._moveToPage(i+1);}}C.detachThemeChanged(this._handleThemeLoad,this);};f.prototype._moveToPage=function(i){this._oMobifyCarousel.changeAnimation('sapMCrslNoTransition');this._oMobifyCarousel.move(i);this._changePage(undefined,i);};f.prototype._changePage=function(o,n){this._adjustHUDVisibility(n);var O=this.getActivePage();if(o){O=this.getPages()[o-1].getId();}var N=this.getPages()[n-1].getId();this.setAssociation("activePage",N,true);var t=this._getPageIndicatorText(n);L.debug("sap.m.Carousel: firing pageChanged event: old page: "+O+", new page: "+N);if(!D.system.desktop){q(document.activeElement).trigger("blur");}if(this._oMobifyCarousel&&this._oMobifyCarousel.getShouldFireEvent()){this.firePageChanged({oldActivePageId:O,newActivePageId:N,activePages:this._aAllActivePagesIndexes});}this.$('slide-number').text(t);};f.prototype._getPageIndicatorText=function(n){return this._oRb.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[n,this.getPages().length-this._getNumberOfItemsToShow()+1]);};f.prototype._adjustHUDVisibility=function(n){var N=this._getNumberOfItemsToShow();if(D.system.desktop&&!this.getLoop()&&this.getPages().length>1){var h=this.$('hud');h.removeClass(f._LATERAL_CLASSES);if(n===1){h.addClass(f._LEFTMOST_CLASS);this._focusCarouselContainer(h,f._PREVIOUS_CLASS_ARROW);}if((n+N-1)===this.getPages().length){h.addClass(f._RIGHTMOST_CLASS);this._focusCarouselContainer(h,f._NEXT_CLASS_ARROW);}}};f.prototype._focusCarouselContainer=function(h,A){if(h.find('.'+A)[0]===document.activeElement){this.focus();}};f.prototype.setActivePage=function(p){var s=null;if(typeof(p)=='string'){s=p;}else if(p instanceof a){s=p.getId();}if(s){if(s===this.getActivePage()){return this;}var i=this._getPageNumber(s);if(!isNaN(i)){if(this._oMobifyCarousel){this._oMobifyCarousel.setShouldFireEvent(true);this._oMobifyCarousel.move(i+1);}}}this.setAssociation("activePage",s,true);return this;};f.prototype._getNavigationArrow=function(s){if(!this["_oArrow"+s]){this["_oArrow"+s]=I.getImageControl(this.getId()+"-arrowScroll"+s,this["_oArrow"+s],this,{src:"sap-icon://slim-arrow-"+s.toLowerCase(),useIconTooltip:false});}return this["_oArrow"+s];};f.prototype._getErrorPage=function(){if(!this.oMessagePage){this.oMessagePage=new M({text:this._oRb.getText("CAROUSEL_ERROR_MESSAGE"),description:"",icon:"sap-icon://document",showHeader:false});}return this.oMessagePage;};f.prototype.previous=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.setShouldFireEvent(true);this._oMobifyCarousel.prev();}else{L.warning("Unable to execute sap.m.Carousel.previous: carousel must be rendered first.");}return this;};f.prototype.next=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.setShouldFireEvent(true);this._oMobifyCarousel.next();}else{L.warning("Unable to execute sap.m.Carousel.next: carousel must be rendered first.");}return this;};f.prototype._getPageNumber=function(p){var i,r;for(i=0;i<this.getPages().length;i++){if(this.getPages()[i].getId()==p){r=i;break;}}return r;};f.prototype.onsaptabprevious=function(E){this._bDirection=false;this._fnOnTabPress(E);};f.prototype.onsaptabnext=function(E){this._bDirection=true;this._fnOnTabPress(E);};f.prototype.onfocusin=function(E){this.saveLastFocusReference(E);this._bDirection=undefined;};f.prototype.onsapskipforward=function(E){E.preventDefault();this._handleGroupNavigation(E,false);};f.prototype.onsapskipback=function(E){E.preventDefault();this._handleGroupNavigation(E,true);};f.prototype.onkeydown=function(E){if(E.keyCode==K.F7){this._handleF7Key(E);return;}if(E.target!=this.getDomRef()){return;}switch(E.keyCode){case 189:case K.NUMPAD_MINUS:this._fnSkipToIndex(E,-1);break;case K.PLUS:case K.NUMPAD_PLUS:this._fnSkipToIndex(E,1);break;}};f.prototype.onsapescape=function(E){var g;if(E.target===this.$()[0]&&this._lastActivePageNumber){g=this._lastActivePageNumber+1;this._oMobifyCarousel.move(g);this._changePage(undefined,g);}};f.prototype.onsapright=function(E){this._fnSkipToIndex(E,1);};f.prototype.onsapup=function(E){this._fnSkipToIndex(E,-1);};f.prototype.onsapleft=function(E){this._fnSkipToIndex(E,-1);};f.prototype.onsapdown=function(E){this._fnSkipToIndex(E,1);};f.prototype.onsaphome=function(E){this._fnSkipToIndex(E,0);};f.prototype.onsapend=function(E){this._fnSkipToIndex(E,this.getPages().length);};f.prototype.onsaprightmodifiers=function(E){if(E.ctrlKey){this._fnSkipToIndex(E,f._MODIFIERNUMBERFORKEYBOARDHANDLING);}};f.prototype.onsapupmodifiers=function(E){if(E.ctrlKey){this._fnSkipToIndex(E,f._MODIFIERNUMBERFORKEYBOARDHANDLING);}};f.prototype.onsappageup=function(E){this._fnSkipToIndex(E,f._MODIFIERNUMBERFORKEYBOARDHANDLING);};f.prototype.onsapleftmodifiers=function(E){if(E.ctrlKey){this._fnSkipToIndex(E,-f._MODIFIERNUMBERFORKEYBOARDHANDLING);}};f.prototype.onsapdownmodifiers=function(E){if(E.ctrlKey){this._fnSkipToIndex(E,-f._MODIFIERNUMBERFORKEYBOARDHANDLING);}};f.prototype.onsappagedown=function(E){this._fnSkipToIndex(E,-f._MODIFIERNUMBERFORKEYBOARDHANDLING);};f.prototype._fnOnTabPress=function(E){if(E.target===this.$()[0]){this._lastActivePageNumber=this._getPageNumber(this.getActivePage());}};f.prototype._handleGroupNavigation=function(E,s){var o=q.Event("keydown");E.preventDefault();this.$().trigger("focus");o.target=E.target;o.key='F6';o.shiftKey=s;F.handleF6GroupNavigation(o);};f.prototype.saveLastFocusReference=function(E){var o=q(E.target).closest(".sapMCrsPage").control(0),s;if(this._bDirection===undefined){return;}if(this._lastFocusablePageElement===undefined){this._lastFocusablePageElement={};}if(o){s=o.getId();this._lastFocusablePageElement[s]=E.target;this._updateFocusedPagesOrder(s);}};f.prototype._getActivePageLastFocusedElement=function(){if(this._lastFocusablePageElement){return this._lastFocusablePageElement[this._getLastFocusedActivePage()];}};f.prototype._updateFocusedPagesOrder=function(s){var i=this._aOrderOfFocusedElements.indexOf(s);if(i>-1){this._aOrderOfFocusedElements.splice(0,0,this._aOrderOfFocusedElements.splice(i,1)[0]);}else{this._aOrderOfFocusedElements.unshift(s);}};f.prototype._updateActivePages=function(n){var N=this._getPageNumber(n),g=this._getNumberOfItemsToShow(),h=N+g,A=this.getPages();if(h>A.length){h=A.length-g;}this._aAllActivePages=[];this._aAllActivePagesIndexes=[];for(var i=N;i<h;i++){this._aAllActivePages.push(A[i].getId());this._aAllActivePagesIndexes.push(i);}};f.prototype._getLastFocusedActivePage=function(){for(var i=0;i<this._aOrderOfFocusedElements.length;i++){var p=this._aOrderOfFocusedElements[i];if(this._aAllActivePages.indexOf(p)>-1){return p;}}return this.getActivePage();};f.prototype._fnSkipToIndex=function(E,n){var g=n;if(E.target!==this.getDomRef()){return;}E.preventDefault();if(this._oMobifyCarousel.hasActiveTransition()){this._oMobifyCarousel.onTransitionComplete();}this._oMobifyCarousel.setShouldFireEvent(true);if(n!==0){g=this._getPageNumber(this.getActivePage())+1+n;}this._oMobifyCarousel.move(g);};f.prototype._handleF7Key=function(E){var A=this._getActivePageLastFocusedElement();if(E.target===this.$()[0]&&A){A.focus();}else{this.$().trigger("focus");}};f.prototype.setShowBusyIndicator=function(){L.warning("sap.m.Carousel: Deprecated function 'setShowBusyIndicator' called. Does nothing.");return this;};f.prototype.getShowBusyIndicator=function(){L.warning("sap.m.Carousel: Deprecated function 'getShowBusyIndicator' called. Does nothing.");return false;};f.prototype.setBusyIndicatorSize=function(s){if(!(s in B)){s=B.Medium;}return a.prototype.setBusyIndicatorSize.call(this,s);};return f;});
sap.ui.predefine('sap/m/CarouselLayout',["sap/ui/base/ManagedObject"],function(M){"use strict";var C=M.extend("sap.m.CarouselLayout",{metadata:{library:"sap.m",properties:{visiblePagesCount:{type:"int",group:"Misc",defaultValue:1}}}});return C;});
sap.ui.predefine('sap/m/CarouselRenderer',["sap/m/library","sap/base/strings/capitalize","sap/ui/core/Core","sap/ui/Device"],function(l,c,C,D){"use strict";var a=l.CarouselArrowsPlacement;var P=l.PlacementType;var r=C.getLibraryResourceBundle("sap.m");var b={apiVersion:2};b._BULLETS_TO_NUMBERS_THRESHOLD=9;b.render=function(R,o){var p=o.getPages(),i=p.length,s=o.getPageIndicatorPlacement(),A=o.getArrowsPlacement(),I=o._getPageNumber(o.getActivePage());this._renderOpeningDiv(R,o);if(s===P.Top){this._renderPageIndicatorAndArrows(R,o,{iPageCount:i,iIndex:I,sArrowsPlacement:A,bBottom:false,bShowPageIndicator:o.getShowPageIndicator()});}this._renderInnerDiv(R,o,p,s);if(D.system.desktop&&i>o._getNumberOfItemsToShow()&&A===a.Content){this._renderHudArrows(R,o);}if(s===P.Bottom){this._renderPageIndicatorAndArrows(R,o,{iPageCount:i,iIndex:I,sArrowsPlacement:A,bBottom:true,bShowPageIndicator:o.getShowPageIndicator()});}R.close("div");};b._renderOpeningDiv=function(R,o){var t=o.getTooltip_AsString();R.openStart("div",o).class("sapMCrsl").class("sapMCrslFluid").style("width",o.getWidth()).style("height",o.getHeight()).attr("data-sap-ui-customfastnavgroup",true).attr("tabindex",0).accessibilityState(o,{role:"listbox"});if(t){R.attr("title",t);}R.openEnd();};b._renderInnerDiv=function(R,o,p,s){R.openStart("div").class("sapMCrslInner");if(p.length>1&&(o.getShowPageIndicator()||o.getArrowsPlacement()===a.PageIndicator)){if(s===P.Bottom){R.class("sapMCrslBottomOffset");if(o.getArrowsPlacement()===a.PageIndicator){R.class("sapMCrslBottomArrowsOffset");}}else{R.class("sapMCrslTopOffset");if(o.getArrowsPlacement()===a.PageIndicator){R.class("sapMCrslTopArrowsOffset");}}}R.openEnd();var f=function(d,i,A){R.openStart("div",o.getId()+"-"+d.getId()+"-slide").class("sapMCrslItem").accessibilityState(d,{role:"option",posinset:i+1,setsize:A.length}).openEnd();b._renderPageInScrollContainer(R,o,d);R.close("div");};if(p.length){p.forEach(f);}else{R.renderControl(o._getErrorPage());}R.close("div");};b._renderPageIndicatorAndArrows=function(R,o,s){var p=s.iPageCount,S=D.system.desktop&&s.sArrowsPlacement===a.PageIndicator,I=o.getId(),O=[],n=o._getNumberOfItemsToShow(),d=1;if(p<=o._getNumberOfItemsToShow()){return;}if(!s.bShowPageIndicator&&!S){return;}if(s.bBottom){O.push("sapMCrslControlsBottom");}else{O.push("sapMCrslControlsTop");}if(S){R.openStart("div").class("sapMCrslControls");O.forEach(function(e){R.class(e);});R.openEnd();R.openStart("div").class("sapMCrslControlsContainer");O.forEach(function(e){R.class(e);});R.openEnd();}else{R.openStart("div").class("sapMCrslControlsNoArrows");O.forEach(function(e){R.class(e);});R.openEnd();}if(S){this._renderArrow(R,o,"previous");}R.openStart("div",I+"-pageIndicator");if(!s.bShowPageIndicator){R.style("opacity","0");}if(p<b._BULLETS_TO_NUMBERS_THRESHOLD){R.class("sapMCrslBulleted").openEnd();for(var i=1;i<=p-n+1;i++){R.openStart("span").attr("data-slide",d).accessibilityState({role:"img",label:r.getText("CAROUSEL_POSITION",[i,p])}).openEnd().text(i).close("span");d++;}}else{R.class("sapMCrslNumeric").openEnd();var t=r.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[s.iIndex+1,p-n+1]);R.openStart("span",I+"-"+"slide-number").openEnd().text(t).close("span");}R.close("div");if(S){this._renderArrow(R,o,"next");}if(!S){R.close("div");}if(S){R.close("div").close("div");}};b._renderHudArrows=function(R,o){var A;if(o.getShowPageIndicator()){if(o.getPageIndicatorPlacement()===P.Top){A="sapMCrslHudTop";}else if(o.getPageIndicatorPlacement()===P.Bottom){A="sapMCrslHudBottom";}}else{A="sapMCrslHudMiddle";}R.openStart("div",o.getId()+"-hud").class("sapMCrslHud").class(A).openEnd();this._renderArrow(R,o,"previous");this._renderArrow(R,o,"next");R.close("div");};b._renderArrow=function(R,o,d){var s=d.slice(0,4);R.openStart("a").class("sapMCrsl"+c(s)).attr("tabindex","-1").attr("data-slide",s).attr("title",r.getText("PAGINGBUTTON_"+d.toUpperCase())).openEnd();R.openStart("div").class("sapMCrslArrowInner").openEnd();R.renderControl(o._getNavigationArrow(d==="previous"?"Left":"Right"));R.close("div").close("a");};b._renderPageInScrollContainer=function(R,o,p){R.openStart("div").class("sapMScrollCont").class("sapMScrollContH").style("width","100%").style("height","100%").openEnd();R.openStart("div").class("sapMScrollContScroll").openEnd();R.openStart("div").class("sapMCrslItemTable").openEnd();R.openStart("div").class("sapMCrslItemTableCell");if(p.isA("sap.m.Image")){var i="sapMCrslImgNoArrows",s=D.system.desktop&&o.getArrowsPlacement()===a.PageIndicator;if(s){i="sapMCrslImg";}R.class(i);}R.openEnd();R.renderControl(p.addStyleClass("sapMCrsPage"));R.close("div");R.close("div");R.close("div");R.close("div");};return b;},true);
sap.ui.predefine('sap/m/ColorPalette',['sap/ui/core/Control','sap/ui/Device','sap/ui/base/DataType','sap/ui/core/library','sap/ui/core/delegate/ItemNavigation','./Button','./Dialog','./library','./ColorPaletteRenderer',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/unified/library","sap/ui/unified/ColorPickerDisplayMode","sap/ui/unified/ColorPicker"],function(C,D,a,c,I,B,b,l,d,e,K,q,u,f,g){"use strict";var h=c.CSSColor;var i=u.ColorPickerMode;var j=l.ButtonType;var k=a.getType("boolean");var m="sapMColorPaletteSquare";var S=5;var M=2;var n=15;var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");var o=C.extend("sap.m.ColorPalette",{metadata:{library:"sap.m",properties:{colors:{type:"sap.ui.core.CSSColor[]",group:"Appearance",defaultValue:["gold","darkorange","indianred","darkmagenta","cornflowerblue","deepskyblue","darkcyan","olivedrab","darkslategray","azure","white","lightgray","darkgray","dimgray","black"]}},aggregations:{_defaultColorButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_moreColorsButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{colorSelect:{parameters:{"value":{type:"sap.ui.core.CSSColor"},"defaultAction":{type:"boolean"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}}});o.prototype.init=function(){this._oDefaultColor=null;this._bShowDefaultColorButton=false;this._bShowMoreColorsButton=false;this._bShowRecentColorsSection=false;this._oDisplayMode=f.Default;this._oMoreColorsDialog=null;this._oPaletteColorItemNavigation=null;this._oRecentColorItemNavigation=null;this._recentColors=[];};o.prototype.exit=function(){if(this._oMoreColorsDialog){this._oMoreColorsDialog.destroy();delete this._oMoreColorsDialog;}if(this._oPaletteColorItemNavigation){this.removeDelegate(this._oPaletteColorItemNavigation);this._oPaletteColorItemNavigation.destroy();delete this._oPaletteColorItemNavigation;}if(this._oRecentColorItemNavigation){this.removeDelegate(this._oRecentColorItemNavigation);this._oRecentColorItemNavigation.destroy();delete this._oRecentColorItemNavigation;}};o.prototype.setColors=function(r){r=this.validateProperty("colors",r);if(r.length<M||r.length>n){throw new Error("Cannot set property 'colors' - array must has minimum 2 and maximum 15 elements");}return this.setProperty("colors",r);};o.prototype._setDisplayMode=function(r){var s=this._getColorPicker();s.setDisplayMode(r);this._oDisplayMode=r;return this;};o.prototype._getDisplayMode=function(){return this._oDisplayMode;};o.prototype._getColorPicker=function(){return this._ensureMoreColorsDialog()._oColorPicker;};o.prototype.ontap=function(E){var t=q(E.target),s,$;$=t.closest("."+m);if(!$.length){return;}s=$.attr("data-sap-ui-color");this._fireColorSelect(s,false,E);};o.prototype.onsaptabnext=o.prototype.onsaptabprevious=function(E){var r=this._getElementInfo(E.target);if(r.bIsMoreColorsButton){this.fireEvent("_colorNotSelected",{_originalEvent:E});return;}if(r.bIsDefaultColorButton){this._fireColorSelect(this._getDefaultColor(),true,E);return;}o.prototype.ontap.apply(this,arguments);};o.prototype.onsapenter=o.prototype.ontap;o.prototype.onsapspace=function(E){E.preventDefault();};o.prototype.onkeyup=function(E){if(E.which===K.SPACE){E.preventDefault();o.prototype.ontap.apply(this,arguments);}};o.prototype.onAfterRendering=function(){this._ensureItemNavigation();};o.prototype.pushToRecentColors=function(s){var r=this._recentColors.indexOf(s);if(r>-1){this._recentColors.splice(r,1);}else if(this._recentColors.length===5){this._recentColors.pop();}this._recentColors.unshift(s);this.invalidate();};o.prototype.setColorPickerSelectedColor=function(r){if(!h.isValid(r)){throw new Error("Cannot set the selected color - invalid value: "+r);}this._getColorPicker().setColorString(r);return this;};o.prototype._createDefaultColorButton=function(){return new B(this.getId()+"-btnDefaultColor",{width:"100%",type:j.Transparent,text:L.getText("COLOR_PALETTE_DEFAULT_COLOR"),visible:this._getShowDefaultColorButton(),press:function(E){this._fireColorSelect(this._getDefaultColor(),true,E);}.bind(this)});};o.prototype._getDefaultColor=function(){return this._oDefaultColor;};o.prototype._setDefaultColor=function(r){if(!h.isValid(r)){throw new Error("Cannot set internal property '_defaultColor' - invalid value: "+r);}this._oDefaultColor=r;return this;};o.prototype._getShowDefaultColorButton=function(){return this._bShowDefaultColorButton;};o.prototype._setShowDefaultColorButton=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showDefaultColorButton' - invalid value: "+v);}this._bShowDefaultColorButton=v;if(v&&!this._getDefaultColorButton()){this.setAggregation("_defaultColorButton",this._createDefaultColorButton());}if(this._getDefaultColorButton()){this._getDefaultColorButton().setVisible(v);}return this;};o.prototype._getDefaultColorButton=function(){return this.getAggregation("_defaultColorButton");};o.prototype._createMoreColorsButton=function(){return new B(this.getId()+"-btnMoreColors",{width:"100%",type:j.Transparent,text:L.getText("COLOR_PALETTE_MORE_COLORS"),visible:this._getShowMoreColorsButton(),press:this._openColorPicker.bind(this)});};o.prototype._getShowMoreColorsButton=function(){return this._bShowMoreColorsButton;};o.prototype._getShowRecentColorsSection=function(){return this._bShowRecentColorsSection;};o.prototype._getRecentColors=function(){return this._recentColors;};o.prototype._setShowRecentColorsSection=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showRecentColorsSection' - invalid value: "+v);}this._bShowRecentColorsSection=v;return this;};o.prototype._setShowMoreColorsButton=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showMoreColorsButton' - invalid value: "+v);}this._bShowMoreColorsButton=v;if(v&&!this._getMoreColorsButton()){this.setAggregation("_moreColorsButton",this._createMoreColorsButton());}if(this._getMoreColorsButton()){this._getMoreColorsButton().setVisible(v);}return this;};o.prototype._getMoreColorsButton=function(){return this.getAggregation("_moreColorsButton");};o.prototype._openColorPicker=function(){this.fireEvent("_beforeOpenColorPicker");this._ensureMoreColorsDialog().open();};o.prototype._ensureMoreColorsDialog=function(){if(!this._oMoreColorsDialog){this._oMoreColorsDialog=this._createMoreColorsDialog();}return this._oMoreColorsDialog;};o.prototype._createMoreColorsDialog=function(){var r=new b(this.getId()+"-moreColorsDialog",{stretch:!!D.system.phone,title:L.getText("COLOR_PALETTE_MORE_COLORS_TITLE")}).addStyleClass("CPDialog");r.addContent(r._oColorPicker=new g({mode:i.HSL,displayMode:this._oDisplayMode,liveChange:function(E){this.fireLiveChange(E.getParameters());}.bind(this)}));r.setBeginButton(new B({text:L.getText("COLOR_PALETTE_MORE_COLORS_CONFIRM"),press:function(E){r.close();if(r._oColorPicker.getColorString()){this._fireColorSelect(r._oColorPicker.getColorString(),false,E);}}.bind(this)}));r.setEndButton(new B({text:L.getText("COLOR_PALETTE_MORE_COLORS_CANCEL"),press:function(){r.close();}}));return r;};o.prototype._focusFirstElement=function(){var F=this._getShowDefaultColorButton()?this._getDefaultColorButton().getDomRef():this._getAllPaletteColorSwatches()[0];F.focus();};o.prototype._fireColorSelect=function(r,s,O){this.fireColorSelect({value:r,defaultAction:s,_originalEvent:O});this.pushToRecentColors(r);};o.prototype._ensureItemNavigation=function(){var P=[],r=[];if(!this._oPaletteColorItemNavigation){this._oPaletteColorItemNavigation=new p(this);this._oPaletteColorItemNavigation.setColumns(S);this._oPaletteColorItemNavigation.setCycling(false);this.addDelegate(this._oPaletteColorItemNavigation);this._oPaletteColorItemNavigation.attachEvent(I.Events.BorderReached,this._onSwatchContainerBorderReached,this);}if(!this._oRecentColorItemNavigation){this._oRecentColorItemNavigation=new p(this);this._oRecentColorItemNavigation.setColumns(S);this._oRecentColorItemNavigation.setCycling(false);this.addDelegate(this._oRecentColorItemNavigation);this._oRecentColorItemNavigation.attachEvent(I.Events.BorderReached,this._onSwatchContainerBorderReached,this);}P=P.concat(this._getAllPaletteColorSwatches());r=r.concat(this._getAllRecentColorSwatches());r=r.slice(0,this._getRecentColors().length);this._oPaletteColorItemNavigation.setRootDomRef(this.getDomRef("swatchCont-paletteColor"));this._oPaletteColorItemNavigation.setItemDomRefs(P);this._oRecentColorItemNavigation.setRootDomRef(this.getDomRef("swatchCont-recentColors"));this._oRecentColorItemNavigation.setItemDomRefs(r);};o.prototype._onSwatchContainerBorderReached=function(E){var N,s,H=["saphome","sapend"].indexOf(E.getParameter("event").type)>-1,r=this._getAllRecentColorSwatches()[0]?this._getElementInfo(E.mParameters.event.target).bIsRecentColorSwatch:false;if(E.getParameter(p.BorderReachedDirection)===p.BorderReachedDirectionForward){if(this._getShowMoreColorsButton()&&!r){N=this._getMoreColorsButton();}else if(!H&&this._bShowRecentColorsSection&&!r&&this._getRecentColors().length>0){N=this._getAllRecentColorSwatches()[0];}else if(!H&&this._getShowDefaultColorButton()){N=this._getDefaultColorButton();}else if(!H){N=this._getAllPaletteColorSwatches()[0];}}else{if(this._getShowDefaultColorButton()&&!r){N=this._getDefaultColorButton();}else if(!H&&this._bShowRecentColorsSection&&!r&&this._getRecentColors().length>0){N=this._getAllRecentColorSwatches()[0];}else if(!H&&this._getShowMoreColorsButton()){N=this._getMoreColorsButton();}else if(!H&&!this._getShowDefaultColorButton()){s=this._getAllPaletteColorSwatches();N=s[s.length-1];}else if(!H){s=this._getAllPaletteColorSwatches();N=s[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}}if(N){N.focus();}return N;};o.prototype.onsapnext=function(E){var N,r=this._getElementInfo(E.target);if(!(r.bIsDefaultColorButton||r.bIsMoreColorsButton)){return;}E.preventDefault();E.stopImmediatePropagation(true);if(r.bIsDefaultColorButton){N=this._getAllPaletteColorSwatches()[0];}else if(this._getRecentColors().length>0&&!r.bIsRecentColorSwatch&&this._bShowRecentColorsSection){N=this._getAllRecentColorSwatches()[0];}else{N=this._getShowDefaultColorButton()?this._getDefaultColorButton():this._getAllPaletteColorSwatches()[0];}N.focus();};o.prototype.onsapprevious=function(E){var N,F=this._getElementInfo(E.target),A;if(!(F.bIsDefaultColorButton||F.bIsMoreColorsButton||E.target===this._getAllRecentColorSwatches()[0])){return;}E.preventDefault();E.stopImmediatePropagation(true);A=this._getAllPaletteColorSwatches();if(F.bIsMoreColorsButton||(!F.bIsMoreColorsButton&&this.bIsRecentColorSwatch)){N=E.keyCode===K.ARROW_UP?A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()]:A[A.length-1];}else if(F.bIsRecentColorSwatch&&!this._bShowMoreColorsButton&&!this._bShowDefaultColorButton){A=this._getAllPaletteColorSwatches();N=A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}else if(this._getRecentColors().length>0&&!F.bIsRecentColorSwatch&&this._bShowRecentColorsSection){N=this._getAllRecentColorSwatches()[0];}else if(this._getShowMoreColorsButton()){N=this._getMoreColorsButton();}else{N=A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}N.focus();};o.prototype.onsaphome=function(E){var r=this._getElementInfo(E.target);if(!r.bIsMoreColorsButton){return;}if(this._getShowDefaultColorButton()){this._getDefaultColorButton().focus();}E.preventDefault();E.stopImmediatePropagation(true);};o.prototype.onsapend=function(E){var r=this._getElementInfo(E.target);if(!r.bIsDefaultColorButton){return;}if(this._getShowMoreColorsButton()){this._getMoreColorsButton().focus();}E.preventDefault();E.stopImmediatePropagation(true);};o.prototype._getAllPaletteColorSwatches=function(){return this.$().find("."+m).get().slice(0,this.getColors().length);};o.prototype._getAllRecentColorSwatches=function(){return this.$().find("."+m).get().slice(this.getColors().length);};o.prototype._getElementInfo=function(E){var r=this._getShowDefaultColorButton()&&e(E,this._getDefaultColorButton().getDomRef()),s=!r&&this._getShowMoreColorsButton()&&e(E,this._getMoreColorsButton().getDomRef()),t=this._getAllRecentColorSwatches().indexOf(E)>-1,v=this._getAllPaletteColorSwatches().indexOf(E)>-1;return{bIsDefaultColorButton:r,bIsMoreColorsButton:s,bIsASwatch:v,bIsRecentColorSwatch:t};};var p=I.extend("sap.m.ItemNavigationHomeEnd",{constructor:function(){I.apply(this,arguments);this.setHomeEndColumnMode(true);this.fireEvent=function(N,E){var s;if(N===I.Events.BorderReached){s=p.BorderReachedDirectionBackward;if(["sapnext","sapend"].indexOf(E.event.type)>-1){s=p.BorderReachedDirectionForward;}E[p.BorderReachedDirection]=s;}I.prototype.fireEvent.apply(this,arguments);};}});p.BorderReachedDirection="direction";p.BorderReachedDirectionForward="BorderReachedDirectionForward";p.BorderReachedDirectionBackward="BorderReachedDirectionBackward";p.prototype.getColumns=function(){return this.iColumns;};p.prototype.onsapprevious=function(E){var r=e(this.getRootDomRef(),E.target),A=E.keyCode===K.ARROW_UP&&this.getFocusedIndex()===0;if(!r){return;}if(!A){I.prototype.onsapprevious.apply(this,arguments);return;}E.preventDefault();this.fireEvent(I.Events.BorderReached,{index:0,event:E});};p.prototype.onsapnext=function(E){var r=e(this.getRootDomRef(),E.target),s,t,v;if(!r){return;}if(E.keyCode!==K.ARROW_DOWN){I.prototype.onsapnext.apply(this,arguments);return;}t=this.getFocusedIndex();v=this._getItemInfo(t);if(v.bIsLastItem&&v.bIsInTheLastColumn){E.preventDefault();this.fireEvent(I.Events.BorderReached,{index:t,event:E});return;}if(v.bNextRowExists&&!v.bItemSameColumnNextRowExists){E.preventDefault();s=this.getItemDomRefs();s[s.length-1].focus();return;}I.prototype.onsapnext.apply(this,arguments);};p.prototype.onsaphome=function(E){var r=e(this.getRootDomRef(),E.target),s;if(!r){return;}s=this._getItemInfo(this.getFocusedIndex());if(!s.bIsInTheFirstColumn){I.prototype.onsaphome.apply(this,arguments);return;}E.preventDefault();if(s.bIsFirstItem){this.fireEvent(I.Events.BorderReached,{index:0,event:E});}else{this.getItemDomRefs()[0].focus();}};p.prototype.onsapend=function(E){var r=e(this.getRootDomRef(),E.target),s;if(!r){return;}s=this._getItemInfo(this.getFocusedIndex());if(!(s.bIsLastItem||s.bIsInTheLastColumn)){I.prototype.onsapend.apply(this,arguments);return;}E.preventDefault();if(s.bIsLastItem){this.fireEvent(I.Events.BorderReached,{index:this.getItemDomRefs().length-1,event:E});}else{this.getItemDomRefs()[this.getItemDomRefs().length-1].focus();}};p.prototype._getItemInfo=function(r){var s=this.getItemDomRefs().length,t=r===(s-1),v=s>this.getColumns()?this.getColumns():s,w=r%this.getColumns()===0,x=(r+1)%v===0,y=Math.floor(r/this.getColumns())+1,N,z;N=y*this.getColumns()<s;z=N&&(r+this.getColumns())<s;return{bIsFirstItem:r===0,bIsLastItem:t,bIsInTheLastColumn:x,bIsInTheFirstColumn:w,bNextRowExists:N,bItemSameColumnNextRowExists:z};};p.prototype._getIndexOfTheFirstItemInLastRow=function(){return Math.floor((this.getItemDomRefs().length-1)/this.getColumns())*this.getColumns();};o.prototype._ItemNavigation=p;o.prototype._ColorsHelper={RGB_TO_NAMED_COLORS_MAP:{"#FFB200":"gold","#FF8C00":"darkorange","#CD5C5C":"indianred","#8B008B":"darkmagenta","#6495ED":"cornflowerblue","#00BFFF":"deepskyblue","#008B8B":"darkcyan","#6B8E23":"olivedrab","#2F4F4F":"darkslategray","#F0FFFF":"azure","#FFFFFF":"white","#D3D3D3":"lightgray","#A9A9A9":"darkgray","#696969":"dimgray","#000000":"black"},NAME_COLORS_TO_RGB_MAP:{"gold":"#FFB200","darkorange":"#FF8C00","indianred":"#CD5C5C","darkmagenta":"#8B008B","cornflowerblue":"#6495ED","deepskyblue":"#00BFFF","darkcyan":"#008B8B","olivedrab":"#6B8E23","darkslategray":"#2F4F4F","azure":"#F0FFFF","white":"#FFFFFF","lightgray":"#D3D3D3","darkgray":"#A9A9A9","dimgray":"#696969","black":"#000000"},getNamedColor:function(s){var H="";if(!s||s.toLowerCase().indexOf("hsl")!==-1){return undefined;}if(s.indexOf("#")===-1){return this.NAME_COLORS_TO_RGB_MAP[s.toLowerCase()]?s.toLowerCase():undefined;}if(s.length===4){H=["#",s[1],s[1],s[2],s[2],s[3],s[3]].join("");}else{H=s;}H=H.toUpperCase();return this.RGB_TO_NAMED_COLORS_MAP[H];}};return o;});
sap.ui.predefine('sap/m/ColorPalettePopover',['sap/ui/core/Control','sap/ui/Device','sap/ui/unified/ColorPickerDisplayMode','./Button','./ResponsivePopover','./ColorPalette','./library'],function(C,D,a,B,R,b,l){"use strict";var P=l.PlacementType;var c=C.extend("sap.m.ColorPalettePopover",{metadata:{library:"sap.m",publicMethods:["openBy","close"],properties:{defaultColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},colors:{type:"sap.ui.core.CSSColor[]",group:"Appearance",defaultValue:["gold","darkorange","indianred","darkmagenta","cornflowerblue","deepskyblue","darkcyan","olivedrab","darkslategray","azure","white","lightgray","darkgray","dimgray","black"]},showDefaultColorButton:{type:"boolean",group:"Appearance",defaultValue:true},showMoreColorsButton:{type:"boolean",group:"Appearance",defaultValue:true},showRecentColorsSection:{type:"boolean",group:"Appearance",defaultValue:true},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:a.Default}},events:{colorSelect:{parameters:{"value":{type:"sap.ui.core.CSSColor"},"defaultAction":{type:"boolean"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:{apiVersion:2}});var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");var F={COLOR_PALETTE_PROPS:{colors:"setColors",defaultColor:"_setDefaultColor",showDefaultColorButton:"_setShowDefaultColorButton",showMoreColorsButton:"_setShowMoreColorsButton",showRecentColorsSection:"_setShowRecentColorsSection",displayMode:"_setDisplayMode"},POPOVER_METHODS:{getDomRef:"",close:"",openBy:""}};c.prototype.init=function(){this._oPopover=null;this._bPopoverDestroying=null;};c.prototype.exit=function(){this._bPopoverDestroying=true;if(this._oPopover){this._oPopover.removeDelegate(this._oPopover._onAfterRenderingDelegate);this._oPopover.destroy();this._oPopover=null;}};c.prototype.setColorPickerSelectedColor=function(d){this._getPalette().setColorPickerSelectedColor(d);return this;};c.prototype._getPalette=function(){return this._ensurePopover().getContent()[0];};c.prototype._ensurePopover=function(){if(!this._oPopover){this._oPopover=this._createPopover();}return this._oPopover;};c.prototype._createPopover=function(){var p,o=this._createColorPalette(),d;p=new R(this.getId()+"-colorPalettePopover",{showHeader:D.system.phone,placement:P.VerticalPreferredBottom,showArrow:false,showCloseButton:false,title:L.getText("COLOR_PALETTE_TITLE"),content:o,afterOpen:o._focusFirstElement.bind(o)}).addStyleClass("sapMColorPaletteContainer");if(D.system.phone){p.setEndButton(new B({text:L.getText("COLOR_PALETTE_CANCEL"),press:function(){p.close();}}));}o.attachEvent("_beforeOpenColorPicker",function(){p.close();});o.attachEvent("_colorNotSelected",function(e){this._handleNextOrPreviousUponPaletteClose(e);p.close();}.bind(this));o.attachEvent("colorSelect",function(e){this._handleNextOrPreviousUponPaletteClose(e);p.close();this.fireColorSelect({"value":e.getParameter("value"),"defaultAction":e.getParameter("defaultAction")});}.bind(this));d={onAfterRendering:function(){var $=this.$();$.attr("aria-modal","true");$.attr("aria-label",this.getTitle());}};p.addEventDelegate(d,p);p._onAfterRenderingDelegate=d;return p;};c.prototype._createColorPalette=function(){var o=new b(this.getId()+"-palette",{liveChange:function(e){this.fireLiveChange(e.getParameters());}.bind(this)});o._setShowDefaultColorButton(this.getShowDefaultColorButton());o._setShowMoreColorsButton(this.getShowMoreColorsButton());o._setShowRecentColorsSection(this.getShowRecentColorsSection());return o;};c.prototype._handleNextOrPreviousUponPaletteClose=function(e){var o=e.getParameter("_originalEvent");if(!o){return;}if(o.type==="saptabnext"||o.type==="saptabprevious"){o.stopPropagation();o.preventDefault();}};c.prototype.setProperty=function(p,v,s){var t;if(F.COLOR_PALETTE_PROPS[p]!==undefined){t=F.COLOR_PALETTE_PROPS[p]||p;b.prototype[t].call(this._getPalette(),v);}return C.prototype.setProperty.apply(this,arguments);};Object.keys(F.POPOVER_METHODS).forEach(function(s){var t=F.COLOR_PALETTE_PROPS[s]||s;c.prototype[s]=function(){if(this._bPopoverDestroying){return null;}var p=this._ensurePopover();return p[t].apply(p,arguments);};});return c;});
sap.ui.predefine('sap/m/ColorPaletteRenderer',['sap/ui/Device'],function(D){"use strict";var C={apiVersion:2};var l=sap.ui.getCore().getLibraryResourceBundle("sap.m");C.render=function(r,c){r.openStart("div",c);r.class("sapMColorPalette");r.openEnd();if(c._getShowDefaultColorButton()){this.renderDefaultColorButton(r,c);this.renderSeparator(r);}this.renderSwatches(r,c);if(c._getShowMoreColorsButton()){this.renderSeparator(r);this.renderMoreColorsButton(r,c);if(D.system.phone){this.renderSeparator(r);}}if(c._getShowRecentColorsSection()){if(!c._getShowMoreColorsButton()||!D.system.phone){this.renderSeparator(r);}this.renderRecentColorsSection(r,c);if(D.system.phone){this.renderSeparator(r);}}r.close("div");};C.renderSwatches=function(r,c){var s=c.getColors();r.openStart("div",c.getId()+"-swatchCont-paletteColor");r.class("sapMColorPaletteContent");r.accessibilityState(c,{"role":"region","label":l.getText("COLOR_PALETTE_SWATCH_CONTAINER_TITLE")});r.openEnd();s.forEach(function(a,i){this.renderSquare(r,c,a,i,false);},this);r.close("div");};C.renderSquare=function(r,c,s,i,I){var n=c._ColorsHelper.getNamedColor(s),a=(n===undefined)?l.getText("COLOR_PALETTE_PREDEFINED_COLOR_CUSTOM"):l.getText("COLOR_PALETTE_PREDEFINED_COLOR_"+n.toUpperCase()),b=I?l.getText("COLOR_PALETTE_RECENT_COLOR",[i+1,a]):l.getText("COLOR_PALETTE_PREDEFINED_COLOR",[i+1,a]);r.openStart("div");r.class("sapMColorPaletteSquare");if(I&&s===""){r.class("sapMRecentColorSquareDisabled");}r.attr("data-sap-ui-color",s);r.attr("tabindex","-1");r.attr("title",b);r.accessibilityState(c,{"role":"button","label":b});r.openEnd();r.openStart("div");r.style("background-color",s);r.openEnd();r.close("div");r.close("div");};C.renderSeparator=function(r){r.openStart("div");r.class("sapMColorPaletteSeparator");r.openEnd();r.voidStart("hr");r.voidEnd();r.close("div");};C.renderDefaultColorButton=function(r,c){r.renderControl(c._getDefaultColorButton());};C.renderMoreColorsButton=function(r,c){r.renderControl(c._getMoreColorsButton());};C.renderRecentColorsSection=function(r,c){var s,R=c._getRecentColors(),a=5,b=l.getText("COLOR_PALETTE_SWATCH_RECENT_COLOR_CONTAINER_TITLE");r.openStart("div",c.getId()+"-swatchCont-recentColors");r.class("sapMColorPaletteContent");r.attr("role","region");r.attr("aria-label",b);r.openEnd();for(var i=0;i<a;i++){if(R[i]){s=R[i];}else{s="";}this.renderSquare(r,c,s,i,true);}r.close("div");};return C;},true);
sap.ui.predefine('sap/m/Column',['./library','sap/ui/core/Element','sap/ui/core/Renderer','sap/ui/core/library','sap/ui/Device',"sap/ui/thirdparty/jquery"],function(l,E,R,c,D,q){"use strict";var P=l.PopinDisplay;var V=c.VerticalAlign;var T=c.TextAlign;var S=c.SortOrder;var C=E.extend("sap.m.Column",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},hAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Begin},vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:V.Inherit},styleClass:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},minScreenWidth:{type:"string",group:"Behavior",defaultValue:null},demandPopin:{type:"boolean",group:"Behavior",defaultValue:false},popinHAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Begin,deprecated:true},popinDisplay:{type:"sap.m.PopinDisplay",group:"Appearance",defaultValue:P.Block},mergeDuplicates:{type:"boolean",group:"Behavior",defaultValue:false},mergeFunctionName:{type:"string",group:"Misc",defaultValue:'getText'},sortIndicator:{type:"sap.ui.core.SortOrder",group:"Appearance",defaultValue:S.None},importance:{type:"sap.ui.core.Priority",group:"Behavior",defaultValue:"None"},autoPopinWidth:{type:"float",group:"Behavior",defaultValue:8}},defaultAggregation:"header",aggregations:{header:{type:"sap.ui.core.Control",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}},designtime:"sap/m/designtime/Column.designtime"}});C.prototype._index=-1;C.prototype._screen="";C.prototype._media=null;C.prototype._bForcedColumn=false;C.prototype.exit=function(){this._clearMedia();};C.prototype.getTable=function(){var p=this.getParent();if(p&&p.isA("sap.m.Table")){return p;}};C.prototype.informTable=function(e,p,v){var t=this.getTable();if(t){var m="onColumn"+e;if(t[m]){t[m](this,p,v);}}};C.prototype.ontouchstart=function(e){this._bTouchStartMarked=e.isMarked();};C.prototype.ontap=function(e){if(!this._bTouchStartMarked&&!e.isMarked()){this.informTable("Press");}};C.prototype.onsapspace=function(e){if(e.srcControl===this){this.informTable("Press");e.preventDefault();}};C.prototype.onsapenter=C.prototype.onsapspace;C.prototype.invalidate=function(){var p=this.getParent();if(!p||!p.bOutput){return;}E.prototype.invalidate.apply(this,arguments);};C.prototype._clearMedia=function(){if(this._media&&this._minWidth){this._detachMediaContainerWidthChange(this._notifyResize,this,this.getId());D.media.removeRangeSet(this.getId());this._media=null;}};C.prototype._addMedia=function(){delete this._bShouldAddMedia;if(this._minWidth){D.media.initRangeSet(this.getId(),[parseFloat(this._minWidth)]);this._attachMediaContainerWidthChange(this._notifyResize,this,this.getId());this._media=this._getCurrentMediaContainerRange(this.getId());if(this._media){this._media.matches=!!this._media.from;}}};C.prototype._notifyResize=function(m){if(this._media.from===m.from){return;}this._media=m;this._media.matches=!!m.from;if(!this.getVisible()){return;}setTimeout(function(){this.fireEvent("media",this);this.informTable("Resize");}.bind(this),0);};C.prototype._validateMinWidth=function(w){if(!w){return;}if(Object.prototype.toString.call(w)!="[object String]"){throw new Error('expected string for property "minScreenWidth" of '+this);}if(Object.keys(l.ScreenSizes).indexOf(w.toLowerCase())!=-1){return;}if(!/^\d+(\.\d+)?(px|em|rem)$/i.test(w)){throw new Error('invalid CSS size("px", "em", "rem" required) or sap.m.ScreenSize enumeration for property "minScreenWidth" of '+this);}};C.prototype._isWidthPredefined=function(w){var t=this,u=w.replace(/[^a-z]/ig,""),b=parseFloat(l.BaseFontSize)||16;q.each(l.ScreenSizes,function(s,a){if(u!="px"){a/=b;}if(a+u==w){t._minWidth=this+"px";t._screen=s;return false;}});if(this._minWidth){return true;}if(u=="px"){this._minWidth=w;}else{this._minWidth=parseFloat(w)*b+"px";}};C.prototype.getCssAlign=function(a){a=a||this.getHAlign();if(a===T.Begin||a===T.End||a===T.Initial){a=R.getTextAlign(a);}return a.toLowerCase();};C.prototype.getStyleClass=function(r){var a=this.getProperty("styleClass");if(!r){return a;}if(this._screen&&(!this.getDemandPopin()||!window.matchMedia)){a+=" sapMSize-"+this._screen;}else if(this._media&&!this._media.matches){a+=" sapMListTblNone";}return a.trim();};C.prototype.setIndex=function(n){this._index=+n;};C.prototype.getIndex=function(){return this._index;};C.prototype.setOrder=function(n){this._order=+n;};C.prototype.getOrder=function(){return this.hasOwnProperty("_order")?this._order:this.getInitialOrder();};C.prototype.setInitialOrder=function(n){this._initialOrder=+n;};C.prototype.getInitialOrder=function(){if(this.hasOwnProperty("_initialOrder")){return this._initialOrder;}var t=this.getTable();if(!t){return-1;}return t.indexOfColumn(this);};C.prototype.setDisplay=function(t,d){if(!t||this._index<0){return;}var i=this._index+1,p=this.getParent(),a=d&&!this.isHidden()?"table-cell":"none",h=t.querySelector("tr > th:nth-child("+i+")"),b=t.querySelectorAll("tr > td:nth-child("+i+")"),e=b.length;h.style.display=a;h.setAttribute("aria-hidden",!d);for(i=0;i<e;i++){b[i].style.display=a;b[i].setAttribute("aria-hidden",!d);}if(p&&p.setTableHeaderVisibility){setTimeout(function(){p.setTableHeaderVisibility(d);},0);}};C.prototype.setVisible=function(v){if(v==this.getVisible()){return this;}var p=this.getParent(),t=p&&p.getTableDomRef&&p.getTableDomRef(),s=t&&this._index>=0&&!p.getAutoPopinMode()&&!this._bForcedColumn;if(s){this.setProperty("visible",v,s);this.setDisplay(t,v);}else{this.setProperty("visible",v);}return this;};C.prototype._setMinScreenWidth=function(w){this._clearMedia();this._minWidth=0;this._screen="";if(w){w=w.toLowerCase();var a=l.ScreenSizes[w];if(a){this._screen=w;this._minWidth=a+"px";}else{this._isWidthPredefined(w);}var p=this.getTable();if(p&&p.isActive()){this._addMedia();}else{this._bShouldAddMedia=true;}}};C.prototype.setMinScreenWidth=function(w){w=w||"";if(w==this.getMinScreenWidth()){return this;}this._validateMinWidth(w);this._setMinScreenWidth(w);return this.setProperty("minScreenWidth",w);};C.prototype.setDemandPopin=function(v){if(v==this.getDemandPopin()){return this;}if(!this.getMinScreenWidth()){return this.setProperty("demandPopin",v,true);}return this.setProperty("demandPopin",v);};C.prototype.setSortIndicator=function(s){this.setProperty("sortIndicator",s,true);this.$().attr("aria-sort",this.getSortIndicator().toLowerCase());return this;};C.prototype.isPopin=function(){if(!this.getDemandPopin()){return false;}var t=this.getTable();if(t){var h=t.getHiddenInPopin()||[];var H=h.some(function(i){return this.getImportance()===i;},this);if(H){return false;}}if(this._media){return!this._media.matches;}return false;};C.prototype.isHidden=function(){if(this._media){return!this._media.matches;}if(this._screen&&this._minWidth){return parseFloat(this._minWidth)>window.innerWidth;}return false;};C.prototype.setLastValue=function(v){if(this.getMergeDuplicates()){this._lastValue=v;}return this;};C.prototype.clearLastValue=function(){return this.setLastValue(NaN);};C.prototype.getLastValue=function(){return this._lastValue;};C.prototype.onItemsRemoved=function(){this.clearLastValue();};C.prototype.getFocusDomRef=function(){var p=this.getParent();if(p&&(p.bActiveHeaders||p.bFocusableHeaders)){var o=this.getDomRef();if(o){return o.firstChild;}}return E.prototype.getFocusDomRef.apply(this,arguments);};C.prototype.getCalculatedMinScreenWidth=function(){return parseInt(this._minWidth)||0;};C.prototype.setForcedColumn=function(f){if(this._bForcedColumn==f){return;}this._bForcedColumn=f;this._setMinScreenWidth(f?"":this.getMinScreenWidth());};return C;});
sap.ui.predefine('sap/m/ComboBox',['./ComboBoxTextField','./ComboBoxBase','./List','./library','sap/ui/Device','sap/ui/core/Item','./ComboBoxRenderer',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/scrollToItem","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/ui/events/KeyCodes","sap/ui/core/Core","sap/base/Log","sap/ui/dom/jquery/control"],function(C,a,L,l,D,I,b,c,s,i,t,f,d,g,h,j,K,k,m,q){"use strict";var n=l.ListMode;var o=a.extend("sap.m.ComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ComboBox.designtime",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{value:{type:"string"},itemPressed:{type:"boolean"}}},selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},dnd:{draggable:false,droppable:true}}});function S(e){var p=this.getSelectedItem(),r=d.getListItem(p),u=p&&r&&r.getDomRef(),v=u&&u.offsetTop,w=u&&u.offsetHeight,P=this.getPicker(),x=P.getDomRef("cont"),y=x.clientHeight;if(p&&((v+w)>(y))){if(!e){this._getList().$().css("visibility","hidden");}else{x.scrollTop=v-w/2;this._getList().$().css("visibility","visible");}}}o.prototype._getSelectedItemText=function(v){v=v||this.getSelectedItem();if(!v){v=this.getDefaultSelectedItem();}if(v){return v.getText();}return"";};o.prototype.setSelectedIndex=function(e,_){var p;_=_||this.getItems();e=(e>_.length-1)?_.length-1:Math.max(0,e);p=_[e];if(p){this.setSelection(p);}};o.prototype.revertSelection=function(){var p,P=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){p=this._sValueBeforeOpen;}else{p=this._oSelectedItemBeforeOpen.getText();}P&&P.setValue(p);};o.prototype._filterStartsWithItems=function(e,M){var p=e.toLowerCase();var r=this.getItems(),F=r.filter(function(u){return u[M]&&u[M]().toLowerCase().startsWith(p);});return F;};o.prototype.setSelection=function(v){var e=this._getList(),p,r;this.setAssociation("selectedItem",v);this._setPropertyProtected("selectedItemId",(v instanceof I)?v.getId():v,true);if(typeof v==="string"){v=k.byId(v);}if(e){p=d.getListItem(v);if(p){e.setSelectedItem(p,true);}else{e.removeSelections(true);}}r=v?v.getKey():"";this._setPropertyProtected("selectedKey",r);};o.prototype.isSelectionSynchronized=function(){var v=this.getSelectedItem();return this.getSelectedKey()===(v&&v.getKey());};o.prototype.isItemSelected=function(v){return v&&(v.getId()===this.getAssociation("selectedItem"));};o.prototype.setAssociation=function(A,e,p){var r=this._getList();if(r&&(A==="selectedItem")){if(!(e instanceof I)){e=this.findItem("id",e);}r.setSelectedItem(d.getListItem(e),true);}return a.prototype.setAssociation.apply(this,arguments);};o.prototype.removeAllAssociation=function(A,e){var p=this._getList();if(p&&(A==="selectedItem")){L.prototype.removeAllAssociation.apply(p,arguments);}return a.prototype.removeAllAssociation.apply(this,arguments);};o.prototype.init=function(){this._oRb=k.getLibraryResourceBundle("sap.m");a.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._sInputValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;if(D.system.phone){this.attachEvent("_change",this.onPropertyChange,this);}this.setLastFocusedListItem(null);};o.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);var e=this.getItems();if(this.getRecreateItems()){d.fillList(e,this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false);}this.synchronizeSelection();if(!this.isOpen()&&document.activeElement===this.getFocusDomRef()&&this.getEnabled()){this.addStyleClass("sapMFocus");}if(this.getSelectedItem()&&e.indexOf(this.getSelectedItem())===-1){var v=this.getValue();this.clearSelection();this.setValue(v);}};o.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oRb=null;this._oSelectedItemBeforeOpen=null;this.setLastFocusedListItem(null);};o.prototype.onBeforeRenderingPicker=function(){var O=this["onBeforeRendering"+this.getPickerType()];O&&O.call(this);};o.prototype.onBeforeRenderingDropdown=function(){var p=this.getPicker(),w=(this.$().outerWidth()/parseFloat(l.BaseFontSize))+"rem";if(p){p.setContentMinWidth(w);}};o.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var e=this._getList(),F=this.getFocusDomRef();if(e){e.setBusy(true);}if(F){F.setAttribute("aria-busy","true");}}};o.prototype.onAfterRenderingPicker=function(){var O=this["onAfterRendering"+this.getPickerType()];O&&O.call(this);S.call(this,false);};o.prototype.onAfterRenderingList=function(){var e=this.getSelectedItem(),p=d.getListItem(e);if(this.bProcessingLoadItemsEvent&&(this.getItems().length===0)){return;}var r=this._getList(),F=this.getFocusDomRef();this.highlightList(this._sInputValueBeforeOpen);if(e){r.setSelectedItem(p);this.setLastFocusedListItem(p);}if(r){r.setBusy(false);}if(F){F.removeAttribute("aria-busy");}};o.prototype.filterItems=function(v){return f(this,this.getItems(),v,true,this.getFilterSecondaryValues(),this.fnFilter||i);};o.prototype._mapItemToListItem=function(e){var p=d.createListItemFromCoreItem(e,this.getShowSecondaryValues());if(e.isA("sap.ui.core.Item")){this.setSelectable(e,e.getEnabled());}if(e.isA("sap.ui.core.SeparatorItem")){p.addAriaLabelledBy(this._getGroupHeaderInvisibleText().getId());}p.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"NonInteractiveItem");return p;};o.prototype.oninput=function(e){a.prototype.oninput.apply(this,arguments);this.syncPickerContent();if(e.isMarked("invalid")){return;}this.loadItems(function(){this.handleInputValidation(e);},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&(this.getPickerType()==="Dropdown")){this.open();}if(this.getLastFocusedListItem()){this.getLastFocusedListItem().removeStyleClass("sapMLIBFocused");this.setLastFocusedListItem(null);}this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};o.prototype.handleInputValidation=function(e){var v,p,F,r,u=this.getSelectedItem(),V=e.target.value,E=V==="",w=e.srcControl,T=(this.getPickerType()==="Dropdown"),x=d.getListItem(u),y=this.filterItems(V);if(E&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){v=this.getItems();}else{v=y.items;g(this.getItems(),y);}F=v[0];r=v.some(function(z){return z.getKey()===this.getSelectedKey();},this);p=this.intersectItems(this._filterStartsWithItems(V,'getText'),v);if(F&&this.getSelectedKey()&&!r){this.setSelection(null);}if(!E&&w&&w._bDoTypeAhead){this.handleTypeAhead(w,v,V);}else if(!E&&p[0]&&V===p[0].getText()){this.setSelection(p[0]);}else{this.setSelection(null);}if(u!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});x=d.getListItem(this.getSelectedItem());}this._sInputValueBeforeOpen=V;if(this.isOpen()){setTimeout(function(){this.highlightList(V);}.bind(this));}if(F){if(E&&!this.bOpenedByKeyboardOrButton){this.close();}else if(T){this.open();s(x,this.getPicker());}}else if(this.isOpen()){if(T&&!this.bOpenedByKeyboardOrButton){this.close();}}else{this.clearFilter();}};o.prototype.handleTypeAhead=function(e,p,v){var r,u=this.getFilterSecondaryValues(),M=t(v,e,p,function(w){r=[w.getText()];if(u){r.push(w.getAdditionalText());}return r;});this.setSelection(M[0]);this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");};o.prototype.onSelectionChange=function(e){var p=d.getItemByListItem(this.getItems(),e.getParameter("listItem")),P=this.getChangeEventParams(),r=(p!==this.getSelectedItem());p&&this.updateDomValue(p.getText());this.setSelection(p);this.fireSelectionChange({selectedItem:this.getSelectedItem()});if(r){P.itemPressed=true;this.onChange(null,P);}};o.prototype.onItemPress=function(e){var p=e.getParameter("listItem"),T=p.getTitle(),P=this.getChangeEventParams(),r=(p!==d.getListItem(this.getSelectedItem()));if(p.isA("sap.m.GroupHeaderListItem")){return;}this.setLastFocusedListItem(p);this.updateDomValue(T);if(!r){P.itemPressed=true;this.onChange(null,P);}this._setPropertyProtected("value",T,true);if(this.getPickerType()==="Dropdown"&&!this.isPlatformTablet()){this.selectText.bind(this,this.getValue().length,this.getValue().length);}this.close();};o.prototype.onBeforeOpen=function(){a.prototype.onBeforeOpen.apply(this,arguments);var p=this["onBeforeOpen"+this.getPickerType()],e=this.getFocusDomRef();this.setProperty("open",true);if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems();}if(e){e.setAttribute("aria-controls",this.getPicker().getId());}this.addContent();p&&p.call(this);};o.prototype.onBeforeOpenDialog=function(){var p=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();this.getSelectedItem()&&g(this.getItems(),this.filterItems(""));p.setValue(this._sValueBeforeOpen);};o.prototype.onAfterOpen=function(){var e=this.getSelectedItem(),p=h(this.getFocusDomRef()),T=this.isPlatformTablet();this.closeValueStateMessage();S.call(this,true);if(!T&&e&&p.start===p.end&&p.start>1){setTimeout(function(){this.selectText(0,p.end);}.bind(this),0);}};o.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);var e=this.getFocusDomRef();this.setProperty("open",false);if(e){e.removeAttribute("aria-controls");}if(document.activeElement===e){this.updateFocusOnClose();}this.toggleIconPressedStyle(false);};o.prototype.onAfterClose=function(){this.clearFilter();this._sInputValueBeforeOpen="";if(this.isPickerDialog()){a.prototype.closeValueStateMessage.apply(this,arguments);}};o.prototype.onItemChange=function(e){var p=this.getAssociation("selectedItem"),N=e.getParameter("newValue"),P=e.getParameter("name");if(p===e.getParameter("id")){switch(P){case"text":if(!this.isBound("value")){this.setValue(N);}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(N);}break;}}return a.prototype.onItemChange.call(this,e,this.getShowSecondaryValues());};o.prototype.onkeydown=function(e){var p=e.srcControl;a.prototype.onkeydown.apply(p,arguments);if(!p.getEnabled()||!p.getEditable()){return;}var r=K;p._bDoTypeAhead=!D.os.android&&(e.which!==r.BACKSPACE)&&(e.which!==r.DELETE);};o.prototype.oncut=function(e){var p=e.srcControl;a.prototype.oncut.apply(p,arguments);p._bDoTypeAhead=false;};o.prototype.onsapenter=function(e){var p=e.srcControl,r=p.getSelectedItem();if(r&&this.getFilterSecondaryValues()){p.updateDomValue(r.getText());}a.prototype.onsapenter.apply(p,arguments);if(!p.getEnabled()||!p.getEditable()){return;}if(p.isOpen()&&!this.isComposingCharacter()){p.close();}};["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(N){o.prototype[N]=function(e){this.handleListNavigation(e,N);};});o.prototype.handleListNavigation=function(e,N){var p=e.srcControl;if(!p.getEnabled()||!p.getEditable()){return;}e.preventDefault();this.loadItems(function(){this.syncPickerContent();if(!this.isOpen()){this.handleInlineListNavigation(N);}else{var r=this._getSuggestionsPopover();r&&r.handleListNavigation(this,e,N);}e.setMarked();});};o.prototype.handleInlineListNavigation=function(N){var e=this.getItems(),p=d.getSelectableItems(e),r=this.getSelectedItem(),u;switch(N){case"onsapdown":u=p.indexOf(r)+1;break;case"onsapup":u=r?p.indexOf(r)-1:p.length-1;break;case"onsapend":u=p.length-1;break;case"onsaphome":u=0;break;case"onsappagedown":u=Math.min(p.length-1,p.indexOf(r)+10);break;case"onsappageup":u=Math.max(0,p.indexOf(r)-10);break;}this.handleSelectionFromList(p[u]);};o.prototype.handleSelectionFromList=function(e){if(!e){return;}var p=this.getFocusDomRef(),T=p.value.substring(0,p.selectionStart),r=this.getSelectedItem(),u=this.getLastFocusedListItem(),v,w,x,y;if(e.isA("sap.m.StandardListItem")||e.isA("sap.m.GroupHeaderListItem")){v=e;e=d.getItemByListItem(this.getItems(),e);}else{v=d.getListItem(e);}this.setSelection(e);this.setLastFocusedListItem(v);if(e.isA("sap.ui.core.SeparatorItem")){this.setSelectedItem(null);this.updateDomValue(T);this.fireSelectionChange({selectedItem:null});this._getGroupHeaderInvisibleText().setText(this._oRb.getText("LIST_ITEM_GROUP_HEADER")+" "+e.getText());return;}if(e!==r){w=e.getText();y=u&&u.isA("sap.m.GroupHeaderListItem");x=j(h(p,y),w,T,y);this.updateDomValue(w);this.fireSelectionChange({selectedItem:e});e=this.getSelectedItem();this.selectText(x,p.value.length);}};o.prototype.setLastFocusedListItem=function(e){this._oLastFocusedListItem=e;};o.prototype.getLastFocusedListItem=function(){return this._oLastFocusedListItem;};o.prototype.onsapshow=function(e){var p,r,E=this.getEditable(),u;a.prototype.onsapshow.apply(this,arguments);this.syncPickerContent();if(!this.getValue()&&E){p=d.getSelectableItems(this.getItems());r=p[0];if(r){u=d.getListItem(r);if(this.isOpen()){this._getSuggestionsPopover().updateFocus(this,u);this.setLastFocusedListItem(u);}else{this.addStyleClass("sapMFocus");}this.setSelection(r);this.updateDomValue(r.getText());this.fireSelectionChange({selectedItem:r});setTimeout(function(){this.selectText(0,r.getText().length);}.bind(this),0);}}};o.prototype.onsaphide=o.prototype.onsapshow;o.prototype.ontap=function(e){if(!this.getEnabled()){return;}this.updateFocusOnClose();};o.prototype.updateFocusOnClose=function(){var e=this.getFocusDomRef(),p=this._getSuggestionsPopover();this.setLastFocusedListItem(null);if(p){p.setValueStateActiveState(false);p.updateFocus(this);}e.removeAttribute("aria-activedescendant");};o.prototype.onmouseup=function(){if(this.getPickerType()==="Dropdown"&&document.activeElement===this.getFocusDomRef()&&!this.getSelectedText()){this.selectText(0,this.getValue().length);}};o.prototype.onfocusin=function(e){var p=this.getPickerType()==="Dropdown";if(this._bIsBeingDestroyed){return;}if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(p&&!this.isPlatformTablet()){this.focus();}}else{if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}this.bOpenValueStateMessage=true;}if(this.getEnabled()&&(!this.isOpen()||!this.getSelectedItem()||!this._getList().hasStyleClass("sapMListFocus"))){this.addStyleClass("sapMFocus");}};o.prototype.onsapfocusleave=function(e){var T,p,r,F,u=this.getSelectedItem();if(u&&this.getFilterSecondaryValues()){this.updateDomValue(u.getText());}a.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return;}p=this.getPicker();if(!e.relatedControlId||!p){return;}T=this.isPlatformTablet();r=k.byId(e.relatedControlId);F=r&&r.getFocusDomRef();if(c(p.getFocusDomRef(),F)&&!T&&!(this._getSuggestionsPopover().getValueStateActiveState())){this.focus();}};o.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return;}var e=this.getSelectedKey(),v=this.getItemByKey(""+e);if(v&&(e!=="")){this.setAssociation("selectedItem",v,true);this._setPropertyProtected("selectedItemId",v.getId(),true);this.setValue(v.getText());this._sValue=this.getValue();}};o.prototype.configPicker=function(p){var r=this.getRenderer(),e=r.CSS_CLASS_COMBOBOXBASE;p.setHorizontalScrolling(false).addStyleClass(e+"Picker").addStyleClass(e+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this);};o.prototype._configureList=function(e){var r=this.getRenderer();if(!e){return;}e.setMode(n.SingleSelectMaster).addStyleClass(r.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(r.CSS_CLASS_COMBOBOX+"List");e.attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);e.addEventDelegate({onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this);};o.prototype.getDefaultSelectedItem=function(){return null;};o.prototype.getChangeEventParams=function(){return{itemPressed:false};};o.prototype.clearSelection=function(){this.setAssociation("selectedItem",null);this.setSelectedItemId("");this.setSelectedKey("");};o.prototype.selectText=function(e,p){a.prototype.selectText.apply(this,arguments);return this;};o.prototype.clone=function(e){var p=a.prototype.clone.apply(this,arguments),r=this._getList();p.setAssociation("selectedItem",null);if(!this.isBound("items")&&r){p.syncPickerContent();p.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));}return p;};o.prototype.open=function(){this.syncPickerContent();a.prototype.open.call(this);this._getSuggestionsPopover()&&this._getSuggestionsPopover().updateFocus(this,d.getListItem(this.getSelectedItem()));return this;};o.prototype.syncPickerContent=function(){var p,P=this.getPicker(),e=this.getInputForwardableProperties();if(!P){var r,G;P=this.createPicker(this.getPickerType());p=this.getPickerTextField();d.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));g(this.getItems(),this.filterItems(""));if(p){e.forEach(function(u){u=u.charAt(0).toUpperCase()+u.slice(1);r="set"+u;G="get"+u;if(p[r]){p[r](this[G]());}},this);}this._getSuggestionsPopover().updateValueState(this.getValueState(),this.getValueStateText(),this.getShowValueStateMessage());}this.synchronizeSelection();return P;};o.prototype.findAggregatedObjects=function(){var e=this._getList();if(e){return L.prototype.findAggregatedObjects.apply(e,arguments);}return[];};o.prototype.setSelectedItem=function(v){if(typeof v==="string"){this.setAssociation("selectedItem",v,true);v=k.byId(v);}if(!(v instanceof I)&&v!==null){return this;}if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);this.setValue(this._getSelectedItemText(v));return this;};o.prototype.setSelectedItemId=function(v){v=this.validateProperty("selectedItemId",v);if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);v=this.getSelectedItem();this.setValue(this._getSelectedItemText(v));return this;};o.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var p=(e===""),r=this.isBound("selectedKey")&&this.isBound("value")&&this.getBindingInfo("selectedKey").skipModelUpdate;if(p){this.setSelection(null);if(!r){this.setValue("");}return this;}var u=this.getItemByKey(e);if(u){this.setSelection(u);if(!r){this.setValue(this._getSelectedItemText(u));}return this;}this._sValue=this.getValue();return this._setPropertyProtected("selectedKey",e);};o.prototype._setPropertyProtected=function(p,v,r){try{return this.setProperty(p,v,r);}catch(e){m.warning("setSelectedKey update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e};});}};o.prototype.getSelectedItem=function(){var v=this.getAssociation("selectedItem");return(v===null)?null:k.byId(v)||null;};o.prototype._decoratePopupInput=function(e){a.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return;}e.addEventDelegate({onsapenter:function(){var T=e.getValue();this.updateDomValue(T);this.onChange();if(T){this.updateDomValue(T);this.onChange();this.close();}}},this);return e;};o.prototype.applyShowItemsFilters=function(){var p,P;this.syncPickerContent();p=this.getPicker();P=function(){p.detachBeforeOpen(P,this);p=null;g(this.getItems(),this.filterItems(this.getValue()||"_"));};p.attachBeforeOpen(P,this);};o.prototype.showItems=function(F){var e,p,r=Array.prototype.slice.call(arguments),u=this.fnFilter,v=function(){this.setFilterFunction(F||function(){return true;});p=this.filterItems(this.getValue()||"_");g(this.getItems(),p);this.setFilterFunction(u);e=p.items;if(e&&e.length){a.prototype.showItems.apply(this,r);}}.bind(this);this.attachLoadItems(v);this.loadItems(v);};o.prototype._getFormattedValueStateText=function(){if(this.isOpen()){return this._getSuggestionsPopover()._getValueStateHeader().getFormattedText();}else{return C.prototype.getFormattedValueStateText.call(this);}};return o;});
sap.ui.predefine('sap/m/ComboBoxBase',['./ComboBoxTextField','./ComboBoxBaseRenderer','./SuggestionsPopover','sap/ui/base/ManagedObjectObserver','sap/ui/core/SeparatorItem','sap/ui/core/InvisibleText','sap/ui/base/ManagedObject','sap/base/Log','./library','sap/ui/Device',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/strings/escapeRegExp","sap/m/inputUtils/forwardItemProperties","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/ListHelpers"],function(C,a,S,M,b,I,c,L,l,D,d,K,q,e,f,g,h,j){"use strict";var P=l.PlacementType;var k=["value","enabled","name","placeholder","editable","textAlign","textDirection","valueState","valueStateText"];var m=C.extend("sap.m.ComboBoxBase",{metadata:{library:"sap.m","abstract":true,defaultAggregation:"items",properties:{showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},open:{type:"boolean",defaultValue:false,hidden:true}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}},dnd:{draggable:false,droppable:true}},renderer:a});m.prototype.oncompositionend=function(E){C.prototype.oncompositionend.apply(this,arguments);if(!D.browser.firefox){this.handleInputValidation(E,this.isComposingCharacter());}};m.prototype.updateItems=function(r){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){if(this.isOpen()){j.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false);}this.onItemsLoaded();}};m.prototype.setFilterFunction=function(F){if(F===null||F===undefined){this.fnFilter=null;return this;}if(typeof(F)!=="function"){L.warning("Passed filter is not a function and the default implementation will be used");}else{this.fnFilter=F;}return this;};m.prototype.highlightList=function(v){var i=[];i=this._getList().$().find('.sapMSLIInfo, .sapMSLITitleOnly');h(i,v);};m.prototype._decoratePopupInput=function(i){if(i){this.setTextFieldHandler(i);}return i;};m.prototype.setTextFieldHandler=function(t){var i=this,T=t._handleEvent;t._handleEvent=function(E){T.apply(this,arguments);if(/keydown|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(E.type)){i._handleEvent(E);}};};m.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items");};m.prototype.loadItems=function(i,o){var n=typeof i==="function";if(this.hasLoadItemsEventListeners()&&(this.getItems().length===0)){this._bOnItemsLoadedScheduled=false;if(n){o=q.extend({action:i,busyIndicator:true,busyIndicatorDelay:300},o);this.aMessageQueue.push(o);if((this.iLoadItemsEventInitialProcessingTimeoutID===-1)&&(o.busyIndicator)){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function p(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true);}.bind(this),o.busyIndicatorDelay);}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems();}}else if(n){i.call(this);}};m.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState);}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay);}for(var i=0,n,N,o;i<this.aMessageQueue.length;i++){n=this.aMessageQueue.shift();i--;o=(i+1)===this.aMessageQueue.length;N=o?null:this.aMessageQueue[i+1];if(typeof n.action==="function"){if((n.name==="input")&&!o&&(N.name==="input")){continue;}n.action.call(this);}}};m.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems");};m.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0);}};m.prototype.getPickerInvisibleTextId=function(){return I.getStaticId("sap.m","COMBOBOX_AVAILABLE_OPTIONS");};m.prototype._getGroupHeaderInvisibleText=function(){if(!this._oGroupHeaderInvisibleText){this._oGroupHeaderInvisibleText=new I();this._oGroupHeaderInvisibleText.toStatic();}return this._oGroupHeaderInvisibleText;};m.prototype._isListInSuggestMode=function(){return this._getList().getItems().some(function(o){return!o.getVisible()&&j.getItemByListItem(this.getItems(),o).getEnabled();},this);};m.prototype.getSelectable=function(i){return i._bSelectable;};m.prototype._setItemsShownWithFilter=function(v){this._bItemsShownWithFilter=v;};m.prototype._getItemsShownWithFilter=function(){return this._bItemsShownWithFilter;};m.prototype.init=function(){C.prototype.init.apply(this,arguments);this.setPickerType(D.system.phone?"Dialog":"Dropdown");this._setItemsShownWithFilter(false);this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._bShouldClosePicker=false;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;this.getIcon().addEventDelegate({onmousedown:function(E){this._bShouldClosePicker=this.isOpen();}},this);this.getIcon().attachPress(this._handlePopupOpenAndItemsLoad.bind(this,true,this));this.fnFilter=null;var i=new M(function(o){var s=o.mutation;var n=o.child;var E={"remove":"detachEvent","insert":"attachEvent"};var p={"remove":"handleItemRemoval","insert":"handleItemInsertion"};if(!n[E[s]]||!this[p[s]]){return;}n[E[s]]("_change",this.onItemChange,this);this.setRecreateItems(true);this[p[s]](n);}.bind(this));i.observe(this,{aggregations:["items"]});};m.prototype.handleItemRemoval=function(i){};m.prototype.handleItemInsertion=function(i){};m.prototype.setRecreateItems=function(r){this._bRecreateItems=r;};m.prototype.getRecreateItems=function(){return this._bRecreateItems;};m.prototype.onBeforeRendering=function(){var s=this.isOpen(),v=s?this._getSuggestionsPopover()._getValueStateHeader().getText():null,V=s?this._getSuggestionsPopover()._getValueStateHeader().getValueState():null;C.prototype.onBeforeRendering.apply(this,arguments);if(s&&((this.getValueStateText()&&v!==this.getValueStateText())||(this.getValueState()!==V)||this.getFormattedValueStateText())){this._updateSuggestionsPopoverValueState();}};m.prototype._handlePopupOpenAndItemsLoad=function(o,O){var p;if(!this.getEnabled()||!this.getEditable()){return;}if(o&&this._getItemsShownWithFilter()){this._bShouldClosePicker=false;this.toggleIconPressedStyle(true);this.bOpenedByKeyboardOrButton=false;this.clearFilter();this._setItemsShownWithFilter(false);return;}if(this._bShouldClosePicker){this._bShouldClosePicker=false;this.close();return;}this.loadItems();this.bOpenedByKeyboardOrButton=o;if(this.isPlatformTablet()){this.syncPickerContent();p=this.getPicker();p.setInitialFocus(p);}if(O){p=this.getPicker();p&&p.setInitialFocus(O);}this.open();};m.prototype.exit=function(){C.prototype.exit.apply(this,arguments);if(this._getGroupHeaderInvisibleText()){this._getGroupHeaderInvisibleText().destroy();this._oGroupHeaderInvisibleText=null;}if(this._oSuggestionPopover){this._oSuggestionPopover.destroy();this._oSuggestionPopover=null;}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;this.fnFilter=null;};m.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(E.keyCode===K.F4){this.onF4(E);}if(this._getItemsShownWithFilter()){this.loadItems(this._handlePopupOpenAndItemsLoad.bind(this,true));return;}if(this.isOpen()){this.close();return;}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open();};m.prototype.onF4=function(E){E.preventDefault();};m.prototype.onsapescape=function(E){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){E.setMarked();E.preventDefault();this.close();}else{C.prototype.onsapescape.apply(this,arguments);}};m.prototype.onsaphide=m.prototype.onsapshow;m.prototype.onsapfocusleave=function(E){if(!E.relatedControlId){C.prototype.onsapfocusleave.apply(this,arguments);return;}var r=sap.ui.getCore().byId(E.relatedControlId);if(r===this){return;}var p=this.getPicker(),F=r&&r.getFocusDomRef();if(p&&d(p.getFocusDomRef(),F)){return;}C.prototype.onsapfocusleave.apply(this,arguments);};m.prototype.getPopupAnchorDomRef=function(){return this.getDomRef();};m.prototype.addContent=function(p){};m.prototype.getList=function(){L.warning("[Warning]:","You are attempting to use deprecated method 'getList()', please refer to SAP note 2746748.",this);return this._getList();};m.prototype._getList=function(){var o=this._oSuggestionPopover&&this._oSuggestionPopover.getItemsContainer();if(this.bIsDestroyed||!o){return null;}return o;};m.prototype.setPickerType=function(p){this._sPickerType=p;};m.prototype.getPickerType=function(){return this._sPickerType;};m.prototype._updateSuggestionsPopoverValueState=function(){var s=this._getSuggestionsPopover();if(!s){return;}var v=this.getValueState(),n=this.getValueState()!==s._getValueStateHeader().getValueState(),N=this.getFormattedValueStateText(),V=this.getValueStateText(),i=N||n;if(s.isOpen()&&!i){this.setFormattedValueStateText(s._getValueStateHeader().getFormattedText());}s.updateValueState(v,(N||V),this.getShowValueStateMessage());};m.prototype.shouldValueStateMessageBeOpened=function(){var s=C.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return(s&&!this.isOpen());};m.prototype.onPropertyChange=function(o,i){var n=o.getParameter("newValue"),p=o.getParameter("name"),s="set"+p.charAt(0).toUpperCase()+p.slice(1),r=(i&&i.srcControl)||this.getPickerTextField();if(this.getInputForwardableProperties().indexOf(p)>-1&&r&&(typeof r[s]==="function")){r[s](n);}};m.prototype.getInputForwardableProperties=function(){return k;};m.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog";};m.prototype.isPlatformTablet=function(){var n=!D.system.combi,t=D.system.tablet&&n;return t;};m.prototype.getDropdownSettings=function(){return{showArrow:false,placement:P.VerticalPreferredBottom,offsetX:0,offsetY:0,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined};};m.prototype._configureList=function(){};m.prototype.createPicker=function(p){var o=this.getAggregation("picker");if(o){return o;}this._oSuggestionPopover=this._createSuggestionsPopover();o=this._oSuggestionPopover.getPopover();this.setAggregation("picker",o,true);this.configPicker(o);return o;};m.prototype.configPicker=function(p){};m.prototype._hasShowSelectedButton=function(){return false;};m.prototype._createSuggestionsPopover=function(){var s=new S(this);s.decorateParent(this);s.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()});this._decoratePopupInput(s.getInput());s.initContent(this.getId());this.forwardEventHandlersToSuggPopover(s);this._configureList(s.getItemsContainer());return s;};m.prototype.forwardEventHandlersToSuggPopover=function(s){s.setOkPressHandler(this._handleOkPress.bind(this));s.setCancelPressHandler(this._handleCancelPress.bind(this));s.setInputLabels(this.getLabels.bind(this));};m.prototype._handleOkPress=function(){var t=this,T=t.getPickerTextField();t.updateDomValue(T.getValue());t.onChange();t.close();};m.prototype._handleCancelPress=function(){this.close();this.revertSelection();};m.prototype.setSelectable=function(i,s){if(this.indexOfItem(i)<0){return;}i._bSelectable=s;var o=j.getListItem(i);if(o){o.setVisible(s);}};m.prototype.onBeforeOpen=function(){this._updateSuggestionsPopoverValueState();if(!this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};m.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;this._setItemsShownWithFilter(false);this._updateSuggestionsPopoverValueState();};m.prototype.getPicker=function(){var p=this.getAggregation("picker");if(p&&!p.bIsDestroyed&&!this.bIsDestroyed){return p;}return null;};m.prototype._getSuggestionsPopover=function(){return this._oSuggestionPopover;};m.prototype.getValueStateLinks=function(){var H=this.getPicker()&&this.getPicker().getCustomHeader()&&typeof this.getPicker().getCustomHeader().getFormattedText==="function",F=H&&this.getPicker().getCustomHeader().getFormattedText(),v=F&&F.getControls();return v||[];};m.prototype.getPickerTextField=function(){var s=this._getSuggestionsPopover();return s?s.getInput():null;};m.prototype.getPickerTitle=function(){var p=this.getPicker(),H=p&&p.getCustomHeader();if(this.isPickerDialog()&&H){return H.getContentMiddle()[0];}return null;};m.prototype.revertSelection=function(){};m.prototype.hasContent=function(){return this.getItems().length>0;};m.prototype.syncPickerContent=function(){};m.prototype.open=function(){var p=this.getPicker();if(p){p.open();}return this;};m.prototype.getVisibleItems=function(){return j.getVisibleItems(this.getItems());};m.prototype.isItemSelected=function(){};m.prototype.getKeys=function(n){n=n||this.getItems();for(var i=0,o=[];i<n.length;i++){o[i]=n[i].getKey();}return o;};m.prototype.findItem=function(p,v){var s="get"+p.charAt(0).toUpperCase()+p.slice(1);for(var i=0,n=this.getItems();i<n.length;i++){if(n[i][s]()===v){return n[i];}}return null;};m.prototype.getItemByText=function(t){return this.findItem("text",t);};m.prototype.clearFilter=function(){this.getItems().forEach(function(i){var o=j.getListItem(i);if(o){o.setVisible(i.getEnabled()&&this.getSelectable(i));}},this);};m.prototype.onItemChange=function(o,s){g({item:o.getSource(),propName:o.getParameter("name"),propValue:o.getParameter("newValue")},s);};m.prototype.clearSelection=function(){};m.prototype.setInternalBusyIndicator=function(B){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments);};m.prototype.setInternalBusyIndicatorDelay=function(i){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments);};m.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};m.prototype.getFirstItem=function(){return this.getItems()[0]||null;};m.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};m.prototype.getEnabledItems=function(i){return j.getEnabledItems(i||this.getItems());};m.prototype.getItemByKey=function(s){return this.findItem("key",s);};m.prototype.addItemGroup=function(G,H,s){H=H||new b({text:c.escapeSettingsValue(G.text)||c.escapeSettingsValue(G.key)});this.addAggregation("items",H,s);if(this._getList()&&H.isA("sap.ui.core.SeparatorItem")){this._getList().addItem(this._mapItemToListItem(H));}return H;};m.prototype.isOpen=function(){var p=this.getPicker();return!!(p&&p.isOpen());};m.prototype.close=function(){var p=this.getPicker();if(p){p.close();}return this;};m.prototype.intersectItems=function(i,o){return i.filter(function(n){return o.map(function(O){return O.getId();}).indexOf(n.getId())!==-1;});};m.prototype.showItems=function(F){var i=this.fnFilter,n=function(){if(!this.getItems().length){return;}this.detachLoadItems(n);this.setFilterFunction(F||function(){return true;});this.applyShowItemsFilters();this._handlePopupOpenAndItemsLoad(false,this);this.setFilterFunction(i);}.bind(this);if(!this.getEnabled()||!this.getEditable()){return;}this._setItemsShownWithFilter(true);this.attachLoadItems(n);this.loadItems(n);};m.prototype.applyShowItemsFilters=function(){};return m;});
sap.ui.predefine('sap/m/ComboBoxBaseRenderer',['./ComboBoxTextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/Core'],function(C,R,a){"use strict";var b=R.extend(C);b.apiVersion=2;b.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";b.getAccessibilityState=function(c){var A=C.getAccessibilityState.call(this,c),l=c._getList();if(l){A.controls=l.getId();}return A;};b.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);var d=b.CSS_CLASS_COMBOBOXBASE;r.class(d);if(!c.getEnabled()){r.class(d+"Disabled");}if(!c.getEditable()){r.class(d+"Readonly");}};b.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(b.CSS_CLASS_COMBOBOXBASE+"Arrow");};return b;},true);
sap.ui.predefine('sap/m/ComboBoxRenderer',['./ComboBoxBaseRenderer','sap/ui/core/Renderer','sap/m/inputUtils/ListHelpers'],function(C,R,L){"use strict";var a=R.extend(C);a.apiVersion=2;a.CSS_CLASS_COMBOBOX="sapMComboBox";a.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX);};a.addInnerClasses=function(r,c){C.addInnerClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Inner");};a.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Arrow");};a.addPlaceholderClasses=function(r,c){C.addPlaceholderClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Placeholder");};a.writeInnerAttributes=function(r,c){var o=c.isOpen(),i,s,l;var S=c._getSuggestionsPopover();C.writeInnerAttributes.apply(this,arguments);r.attr("aria-expanded",o);if(!S){return;}var f=S.getFocusedListItem();var v=S.getValueStateActiveState();if(!o||(!f&&!v)){return;}if(v){r.attr("aria-activedescendant",c._getFormattedValueStateText().getId());return;}i=(f.isA("sap.m.GroupHeaderListItem")||f.isA("sap.ui.core.SeparatorItem"));s=c.getSelectedItem();l=s&&L.getListItem(s);f=i?f:l;if(f){r.attr("aria-activedescendant",f.getId());}};return a;},true);
sap.ui.predefine('sap/m/ComboBoxTextField',['./InputBase','./library','sap/ui/core/InvisibleText','sap/ui/core/library','sap/ui/Device','sap/ui/core/LabelEnablement',"./ComboBoxTextFieldRenderer"],function(I,l,a,c,D,L,C){"use strict";var b=I.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");b.prototype.init=function(){I.prototype.init.apply(this,arguments);this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:r.getText("COMBOBOX_BUTTON"),decorative:false});};b.prototype.getIcon=function(){return this.getAggregation("_endIcon")[0];};b.prototype.toggleIconPressedStyle=function(s){this.toggleStyleClass(I.ICON_PRESSED_CSS_CLASS,s);};b.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.apply(this,arguments);var R=L.getReferencingLabels(this)||[],i=this.getIcon();i.setVisible(this.getShowButton());R.forEach(function(s){if(i.getAriaLabelledBy().indexOf(s)===-1){i.addAssociation("ariaLabelledBy",s,true);}},this);};b.prototype.getOpenArea=function(){var d=this.getIcon().getDomRef();return d?d.parentNode:d;};b.prototype.onsapenter=function(e){I.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}this._bCheckDomValue&&e.setMarked();var v=this.getValue(),V=v.length;this.setValue(v);this.selectText(V,V);};b.prototype.getValue=function(){var d=this.getFocusDomRef();if(d){return d.value;}return this.getProperty("value");};b.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef();};b.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_COMBO");return i;};b.prototype.exit=function(){I.prototype.exit.apply(this,arguments);};return b;});
sap.ui.predefine('sap/m/ComboBoxTextFieldRenderer',['./InputBaseRenderer','sap/ui/core/Renderer','sap/ui/core/LabelEnablement','sap/ui/Device'],function(I,R,L,D){"use strict";var C=R.extend(I);C.apiVersion=2;C.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";C.writeInnerAttributes=function(r,c){r.attr("role","combobox");r.attr("aria-haspopup","listbox");r.attr("aria-autocomplete","both");r.attr("aria-expanded","false");r.attr("autocomplete","off");r.attr("autocorrect","off");r.attr("autocapitalize","off");r.attr("type","text");};C.getAriaRole=function(){};C.addOuterStyles=function(r,c){r.style("max-width",c.getMaxWidth());};return C;},true);
sap.ui.predefine('sap/m/CustomDynamicDateOption',['sap/m/DynamicDateOption'],function(D){"use strict";var C=D.extend("sap.m.CustomDynamicDateOption",{metadata:{library:"sap.m",properties:{getText:{type:"function"},getValueHelpUITypes:{type:"function"},createValueHelpUI:{type:"function"},validateValueHelpUI:{type:"function"},getValueHelpOutput:{type:"function"},getGroup:{type:"function"},getGroupHeader:{type:"function"},format:{type:"function"},parse:{type:"function"},toDates:{type:"function"},enhanceFormattedValue:{type:"function"}}}});function c(s){return s.charAt(0).toUpperCase()+s.slice(1);}["getText","getValueHelpUITypes","createValueHelpUI","getValueHelpOutput","validateValueHelpUI","getGroup","getGroupHeader","format","parse","toDates","enhanceFormattedValue"].forEach(function(f){C.prototype[f]=function(){var g="get"+c(f);var a=this[g]();return a?a.apply(this,arguments):D.prototype[f].apply(this,arguments);};});C.prototype.getGroupHeader=function(){if((this.getGroup()<7&&this.getGroup()>-1)||!this.getGetGroupHeader()){return D.prototype.getGroupHeader.apply(this,arguments);}else{return this.getGetGroupHeader().apply(this,arguments);}};return C;});
sap.ui.predefine('sap/m/CustomTile',['./Tile','./library','./CustomTileRenderer'],function(T,l,C){"use strict";var a=T.extend("sap.m.CustomTile",{metadata:{library:"sap.m",deprecated:true,designtime:"sap/m/designtime/CustomTile.designtime",defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}}});return a;});
sap.ui.predefine('sap/m/CustomTileRenderer',['./TileRenderer','sap/ui/core/Renderer'],function(T,R){"use strict";var C=R.extend(T);C.apiVersion=2;C.render=function(r,c){var t,v;r.openStart("div",c).attr("tabindex","0");r.class("sapMCustomTile");if(c._invisible){r.style("visibility","hidden");}if(c.getParent()instanceof sap.m.TileContainer){t=c.getParent();v=t._getVisibleTiles();r.accessibilityState(c,{role:"option",posinset:t._indexOfVisibleTile(c,v)+1,setsize:v.length});}r.openEnd();r.openStart("div",c.getId()+"-remove").class("sapMTCRemove").openEnd().close("div");r.openStart("div").class("sapMCustomTileContent").openEnd();this._renderContent(r,c);r.close("div").close("div");};C._renderContent=function(r,t){r.renderControl(t.getContent());};return C;},true);
sap.ui.predefine('sap/m/DatePicker',['sap/ui/thirdparty/jquery','sap/ui/Device',"sap/ui/core/Element",'./InputBase','./DateTimeField','./Button','./ResponsivePopover',"./ValueStateHeader",'sap/ui/core/date/UniversalDate','./library','sap/ui/core/Control','sap/ui/core/library',"./DatePickerRenderer","sap/base/util/deepEqual","sap/base/assert","sap/base/Log","sap/ui/core/IconPool","./InstanceManager","sap/ui/unified/Calendar","sap/ui/unified/DateRange",'sap/ui/unified/DateTypeRange',"sap/ui/unified/calendar/CustomMonthPicker","sap/ui/unified/calendar/CustomYearPicker","sap/ui/core/LabelEnablement","sap/ui/unified/library","sap/ui/dom/jquery/cursorPos"],function(q,D,E,I,a,B,R,V,U,l,C,c,b,d,e,L,f,g,h,j,k,m,n,o,u){"use strict";var p=c.CalendarType;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var s=a.extend("sap.m.DatePicker",{metadata:{library:"sap.m",properties:{displayFormatType:{type:"string",group:"Appearance",defaultValue:""},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showFooter:{type:"boolean",group:"Misc",defaultValue:false},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{specialDates:{type:"sap.ui.core.Element",multiple:true,singularName:"specialDate"},_popup:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},associations:{legend:{type:"sap.ui.core.Control",multiple:false}},events:{navigate:{parameters:{dateRange:{type:"sap.ui.unified.DateRange"},afterPopupOpened:{type:"boolean"}}}},designtime:"sap/m/designtime/DatePicker.designtime",dnd:{draggable:false,droppable:true}}});s.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bIntervalSelection=false;this._bOnlyCalendar=true;this._bValid=true;this._oMinDate=new Date(1,0,1);this._oMinDate.setFullYear(1);this._oMaxDate=new Date(9999,11,31,23,59,59,999);var i=this.addEndIcon({id:this.getId()+"-icon",src:this.getIconSrc(),noTabStop:true,tooltip:r.getText("OPEN_PICKER_TEXT")});this._bShouldClosePicker=false;i.addEventDelegate({onmousedown:function(A){this._bShouldClosePicker=!!this.isOpen();}},this);i.attachPress(function(){this.toggleOpen(this._bShouldClosePicker);},this);};s.prototype.isValidValue=function(){return this._bValid;};s.prototype.isOpen=function(){return this._oPopup&&this._oPopup.isOpen();};s.prototype.toggleOpen=function(O){if(this.getEditable()&&this.getEnabled()){if(O){t.call(this);}else{_.call(this);}}};s.prototype.getIconSrc=function(){return f.getIconURI("appointment-2");};s.prototype.exit=function(){I.prototype.exit.apply(this,arguments);if(this._oPopup){if(this._oPopup.isOpen()){this._oPopup.close();}delete this._oPopup;}if(this._getCalendar()){if(this._oCalendarAfterRenderDelegate){this._getCalendar().removeDelegate(this._oCalendarAfterRenderDelegate);}this._getCalendar().destroy();delete this._getCalendar();}if(this._iInvalidateCalendar){clearTimeout(this._iInvalidateCalendar);}this._sUsedDisplayPattern=undefined;this._sUsedDisplayCalendarType=undefined;this._oDisplayFormat=undefined;this._sUsedValuePattern=undefined;this._sUsedValueCalendarType=undefined;this._oValueFormat=undefined;};s.prototype.invalidate=function(O){if(!O||O!=this._getCalendar()){C.prototype.invalidate.apply(this,arguments);this._iInvalidateCalendar=setTimeout(z.bind(this),0);}};s.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);this._checkMinMaxDate();var i=this._getValueHelpIcon();if(i){i.setProperty("visible",this.getEditable(),true);}};s.prototype.setDisplayFormat=function(i){this.setProperty("displayFormat",i);if(this._oCalendar){this._oCalendar.removeDelegate(this._oCalendarAfterRenderDelegate);this._oCalendar.destroy();this._oCalendar=null;this._createPopupContent();}return this;};s.prototype.setWidth=function(W){return I.prototype.setWidth.call(this,W||"100%");};s.prototype.getWidth=function(W){return this.getProperty("width")||"100%";};s.prototype.applyFocusInfo=function(F){this._bFocusNoPopup=true;if(!D.support.touch||D.system.desktop){I.prototype.applyFocusInfo.apply(this,arguments);}};s.prototype.onfocusin=function(i){if(!q(i.target).hasClass("sapUiIcon")){a.prototype.onfocusin.apply(this,arguments);}this._bFocusNoPopup=undefined;};s.prototype.onsapshow=function(i){this.toggleOpen(this.isOpen());i.preventDefault();};s.prototype.onsaphide=s.prototype.onsapshow;s.prototype.onsappageup=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(A!="sap.ui.unified.Calendar"){return;}this._increaseDate(1,"day");};s.prototype.onsappageupmodifiers=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(!i.ctrlKey&&i.shiftKey){if(A=="sap.ui.unified.internal.CustomYearPicker"){return;}this._increaseDate(1,"month");}else{this._increaseDate(1,"year");}};s.prototype.onsappagedown=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(A!="sap.ui.unified.Calendar"){return;}this._increaseDate(-1,"day");};s.prototype.onsappagedownmodifiers=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(!i.ctrlKey&&i.shiftKey){if(A=="sap.ui.unified.internal.CustomYearPicker"){return;}this._increaseDate(-1,"month");}else{this._increaseDate(-1,"year");}};s.prototype.onkeypress=function(i){if(!i.charCode||i.metaKey||i.ctrlKey){return;}var F=this._getFormatter(true);var A=String.fromCharCode(i.charCode);if(A&&F.sAllowedCharacters&&F.sAllowedCharacters.indexOf(A)<0){i.preventDefault();}};s.prototype._getValueHelpIcon=function(){var i=this.getAggregation("_endIcon");return i&&i[0];};s.prototype._dateValidation=function(i){this._bValid=true;if(i&&(i.getTime()<this._oMinDate.getTime()||i.getTime()>this._oMaxDate.getTime())){this._bValid=false;e(this._bValid,"Date must be in valid range");}this.setProperty("dateValue",i);return i;};s.prototype.setMinDate=function(i){if(!this._isValidDate(i)){throw new Error("Date must be a JavaScript date object; "+this);}if(d(this.getMinDate(),i)){return this;}if(i){var Y=i.getFullYear();if(Y<1||Y>9999){throw new Error("Date must be between 0001-01-01 and 9999-12-31; "+this);}this._oMinDate=new Date(i.getTime());var A=this.getDateValue();if(A&&A.getTime()<i.getTime()){this._bValid=false;this._bOutOfAllowedRange=true;L.warning("DateValue not in valid date range",this);}}else{this._oMinDate=new Date(1,0,1);this._oMinDate.setFullYear(1);}this.setProperty("minDate",i);if(this._getCalendar()){this._getCalendar().setMinDate(i);}this._oMinDate.setHours(0,0,0,0);return this;};s.prototype.setMaxDate=function(i){if(!this._isValidDate(i)){throw new Error("Date must be a JavaScript date object; "+this);}if(d(this.getMaxDate(),i)){return this;}if(i){var Y=i.getFullYear();if(Y<1||Y>9999){throw new Error("Date must be between 0001-01-01 and 9999-12-31; "+this);}this._oMaxDate=new Date(i.getTime());var A=this.getDateValue();if(A&&A.getTime()>i.getTime()){this._bValid=false;this._bOutOfAllowedRange=true;L.warning("DateValue not in valid date",this);}}else{this._oMaxDate=new Date(9999,11,31,23,59,59,999);}this.setProperty("maxDate",i);if(this._getCalendar()){this._getCalendar().setMaxDate(i);}this._oMaxDate.setHours(23,59,59,999);return this;};s.prototype.setCurrentDateButton=function(S){var i=this._getCalendar();i&&i.setCurrentDateButton(S);return this.setProperty("showCurrentDateButton",S);};s.prototype._checkMinMaxDate=function(){if(this._oMinDate.getTime()>this._oMaxDate.getTime()){L.warning("minDate > MaxDate -> dates switched",this);var M=new Date(this._oMinDate.getTime());var i=new Date(this._oMaxDate.getTime());this._oMinDate=new Date(i.getTime());this._oMaxDate=new Date(M.getTime());this.setProperty("minDate",i,true);this.setProperty("maxDate",M,true);if(this._getCalendar()){this._getCalendar().setMinDate(i);this._getCalendar().setMaxDate(M);}}var A=this.getDateValue();if(A&&(A.getTime()<this._oMinDate.getTime()||A.getTime()>this._oMaxDate.getTime())){this._bValid=false;L.error("dateValue "+A.toString()+"(value="+this.getValue()+") does not match "+"min/max date range("+this._oMinDate.toString()+" - "+this._oMaxDate.toString()+"). App. "+"developers should take care to maintain dateValue/value accordingly.",this);}};s.prototype.getDisplayFormatType=function(){return this.getProperty("displayFormatType");};s.prototype._handleDateValidation=function(i){this._bValid=true;if(!i||i.getTime()<this._oMinDate.getTime()||i.getTime()>this._oMaxDate.getTime()){this._bValid=false;L.warning("Value can not be converted to a valid date",this);}var A=this._formatValue(i,true);if(A!==this.getValue()){this.setLastValue(A);}this.setProperty("value",A);this.setProperty("dateValue",i);};s.prototype.setDisplayFormatType=function(i){if(i){var F=false;for(var T in p){if(T==i){F=true;break;}}if(!F){throw new Error(i+" is not a valid calendar type"+this);}}this.setProperty("displayFormatType",i,true);this.setDisplayFormat(this.getDisplayFormat());return this;};s.prototype.setSecondaryCalendarType=function(i){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",i,true);if(this._getCalendar()){this._getCalendar().setSecondaryCalendarType(i);}return this;};s.prototype.setShowFooter=function(F){var P=this._oPopup,i=this._getCalendar();this.setProperty("showFooter",F);if(!P||!i){return this;}P._getButtonFooter().setVisible(F);return this;};s.prototype.addSpecialDate=function(S){y.call(this,S);this.addAggregation("specialDates",S,true);z.call(this);return this;};s.prototype.insertSpecialDate=function(S,i){y.call(this,S);this.insertAggregation("specialDates",S,i,true);z.call(this);return this;};s.prototype.removeSpecialDate=function(S){var i=this.removeAggregation("specialDates",S,true);z.call(this);return i;};s.prototype.removeAllSpecialDates=function(){var i=this.removeAllAggregation("specialDates",true);z.call(this);return i;};s.prototype.destroySpecialDates=function(){this.destroyAggregation("specialDates",true);z.call(this);return this;};s.prototype.setLegend=function(i){this.setAssociation("legend",i,true);var A=this.getLegend();if(A){var F=sap.ui.require("sap/ui/unified/CalendarLegend");i=sap.ui.getCore().byId(A);if(i&&!(typeof F=="function"&&i instanceof F)){throw new Error(i+" is not an sap.ui.unified.CalendarLegend. "+this);}}if(this._getCalendar()){this._getCalendar().setLegend(A);}return this;};s.prototype.onChange=function(i){if(!this.getEditable()||!this.getEnabled()){return;}var A=this._$input.val(),O=this._formatValue(this.getDateValue()),F;if(A==O&&this._bValid){return;}if(this.getShowFooter()&&this._oPopup&&!A){this._oPopup.getBeginButton().setEnabled(false);}this._bValid=true;if(A!=""){F=this._parseValue(A,true);if(!F||F.getTime()<this._oMinDate.getTime()||F.getTime()>this._oMaxDate.getTime()){this._bValid=false;F=undefined;}else{A=this._formatValue(F);}}if(this.getDomRef()&&(this._$input.val()!==A)){this._$input.val(A);this._curpos=this._$input.cursorPos();}if(F){A=this._formatValue(F,true);}if(this.getLastValue()!==A||(F&&this.getDateValue()&&F.getFullYear()!==this.getDateValue().getFullYear())){this.setLastValue(A);this.setProperty("value",A,true);var N=this.getValue();if(this._bValid&&A==N){this.setProperty("dateValue",F,true);}A=N;if(this.isOpen()){if(this._bValid){F=this.getDateValue();}this._getCalendar().focusDate(F);var S=this._oDateRange.getStartDate();if((!S&&F)||(S&&F&&S.getTime()!=F.getTime())){this._oDateRange.setStartDate(new Date(F.getTime()));}else if(S&&!F){this._oDateRange.setStartDate(undefined);}}this.fireChangeEvent(A,{valid:this._bValid});}};s.prototype._getInputValue=function(i){i=(typeof i=="undefined")?this._$input.val():i.toString();var A=this._parseValue(i,true);i=this._formatValue(A,true);return i;};s.prototype.updateDomValue=function(i){if(this.isActive()&&(this._$input.val()!==i)){this._bCheckDomValue=true;i=(typeof i=="undefined")?this._$input.val():i.toString();this._curpos=this._$input.cursorPos();var A=this._parseValue(i,true);i=this._formatValue(A);this._$input.val(i);if(document.activeElement===this._$input[0]){this._$input.cursorPos(this._curpos);}}return this;};function _(){this._createPopup();this._createPopupContent();var i;var A=this.getBinding("value");if(A&&A.oType&&A.oType.oOutputFormat){i=A.oType.oOutputFormat.oFormatOptions.calendarType;}else if(A&&A.oType&&A.oType.oFormat){i=A.oType.oFormat.oFormatOptions.calendarType;}if(!i){i=this.getDisplayFormatType();}if(i){this._getCalendar().setPrimaryCalendarType(i);}var F=this._bValid?this._formatValue(this.getDateValue()):this.getValue();if(F!=this._$input.val()){this.onChange();}this._fillDateRange();this._openPopup();this.fireNavigate({dateRange:this._getVisibleDatesRange(this._getCalendar()),afterPopupOpened:true});}s.prototype._createPopup=function(){var T="";if(!this._oPopup){this._oPopup=new R(this.getId()+"-RP",{showCloseButton:false,showArrow:false,showHeader:false,placement:l.PlacementType.VerticalPreferedBottom,contentWidth:this.$().closest(".sapUiSizeCompact").length>0?"18rem":"21rem",beginButton:new B({type:l.ButtonType.Emphasized,text:r.getText("DATEPICKER_SELECTION_CONFIRM"),press:this._handleOKButton.bind(this)}),afterOpen:v.bind(this),afterClose:w.bind(this)}).addStyleClass("sapMRPCalendar");if(this.getShowFooter()){this._oPopup.addStyleClass("sapMLandscapePadding");}this._oPopup._getPopup().setAutoClose(true);if(D.system.phone){T=o.getReferencingLabels(this).concat(this.getAriaLabelledBy()).reduce(function(A,i){var F=E.registry.get(i);return A+" "+(F.getText?F.getText():"");},"").trim();this._oPopup.setTitle(T);this._oPopup.setShowHeader(true);this._oPopup.setShowCloseButton(true);}else{this._oPopup._getPopup().setDurations(0,0);this._oPopup.setEndButton(new B({text:r.getText("DATEPICKER_SELECTION_CANCEL"),press:this._handleCancelButton.bind(this)}));}this.setAggregation("_popup",this._oPopup,true);}};s.prototype._openPopup=function(){if(!this._oPopup){return;}this._oPopup._getPopup().setAutoCloseAreas([this.getDomRef()]);this._oPopup.openBy(this);};s.prototype._getVisibleDatesRange=function(i){var A=i._getVisibleDays();return new j({startDate:A[0].toLocalJSDate(),endDate:A[A.length-1].toLocalJSDate()});};s.prototype._createPopupContent=function(){var i=this._getCalendarConstructor();if(!this._getCalendar()){this._oCalendar=new i(this.getId()+"-cal",{intervalSelection:this._bIntervalSelection,minDate:this.getMinDate(),maxDate:this.getMaxDate(),legend:this.getLegend(),startDateChange:function(){this.fireNavigate({dateRange:this._getVisibleDatesRange(this._getCalendar())});}.bind(this)});this._oCalendar.setShowCurrentDateButton(this.getShowCurrentDateButton());this._oDateRange=new j();this._getCalendar().addSelectedDate(this._oDateRange);this._getCalendar()._setSpecialDatesControlOrigin(this);this._getCalendar().attachCancel(t,this);this._getCalendar().setPopupMode(true);if(this.$().closest(".sapUiSizeCompact").length>0){this._getCalendar().addStyleClass("sapUiSizeCompact");}if(this._bSecondaryCalendarTypeSet){this._getCalendar().setSecondaryCalendarType(this.getSecondaryCalendarType());}if(this._bOnlyCalendar){this._getCalendar().attachSelect(this._handleCalendarSelect,this);this._getCalendar().attachEvent("_renderMonth",x,this);this._oPopup._getButtonFooter().setVisible(this.getShowFooter());this._getCalendar()._bSkipCancelButtonRendering=true;if(!this._oPopup.getContent().length){var H=this._getValueStateHeader();this._oPopup.addContent(this._getValueStateHeader());H.setPopup(this._oPopup._oControl);}this._oPopup.addContent(this._getCalendar());if(!this.getDateValue()){this._oPopup.getBeginButton().setEnabled(false);}}this._oCalendarAfterRenderDelegate={onAfterRendering:function(){var P=this._oPopup&&this._oPopup._getPopup();P&&P._oLastPosition&&P._applyPosition(P._oLastPosition);this._oCalendar.focus();}.bind(this)};this._oCalendar.addDelegate(this._oCalendarAfterRenderDelegate);}};s.prototype._getCalendarConstructor=function(){var P=this._getFormatter(true).aFormatArray.map(function(A){return A.type.toLowerCase();}),i=P.indexOf("day")>=0,M=P.indexOf("month")>=0||P.indexOf("monthstandalone")>=0,Y=P.indexOf("year")>=0;if(i&&M&&Y){return h;}else if(M&&Y){return m;}else if(Y){return n;}else{L.warning("Not valid date pattern! Default Calendar constructor function is returned",this);return h;}};s.prototype._fillDateRange=function(){var i=this.getDateValue();if(i&&i.getTime()>=this._oMinDate.getTime()&&i.getTime()<=this._oMaxDate.getTime()){this._getCalendar().focusDate(new Date(i.getTime()));if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!=i.getTime()){this._oDateRange.setStartDate(new Date(i.getTime()));}}else{var A=this.getInitialFocusedDateValue();var F=A?A:new Date();var M=this._oMaxDate.getTime();if(F.getTime()<this._oMinDate.getTime()||F.getTime()>M){F=this._oMinDate;}this._getCalendar().focusDate(F);if(this._oDateRange.getStartDate()){this._oDateRange.setStartDate(undefined);}}};s.prototype.getAccessibilityInfo=function(){var i=this.getRenderer();var A=I.prototype.getAccessibilityInfo.apply(this,arguments);var F=this.getValue()||"";if(this._bValid){var G=this.getDateValue();if(G){F=this._formatValue(G);}}A.type=r.getText("ACC_CTR_TYPE_DATEINPUT");A.description=[F,i.getLabelledByAnnouncement(this),i.getDescribedByAnnouncement(this)].join(" ").trim();return A;};s.prototype._selectDate=function(){var i=this.getDateValue(),A=this._getSelectedDate(),F="";if(!d(A,i)){this.setDateValue(new Date(A.getTime()));F=this.getValue();this.fireChangeEvent(F,{valid:true});this._focusInput();}else if(!this._bValid){F=this._formatValue(A);if(F!=this._$input.val()){this._bValid=true;if(this.getDomRef()){this._$input.val(F);this.setLastValue(F);}F=this._formatValue(A,true);this.setProperty("value",F,true);this.fireChangeEvent(F,{valid:true});this._focusInput();}}else if(D.system.desktop||!D.support.touch){this.focus();}this._oPopup.close();};s.prototype._handleCalendarSelect=function(){if(this.getShowFooter()){this._oPopup.getBeginButton().setEnabled(true);return;}this._selectDate();};s.prototype._focusInput=function(){if(this.getDomRef()&&(D.system.desktop||!D.support.touch)){this._curpos=this._$input.val().length;this._$input.cursorPos(this._curpos);}return this;};s.prototype._getCalendar=function(){return this._oCalendar;};s.prototype._getSelectedDate=function(){var S=this._getCalendar().getSelectedDates(),i;if(S.length>0){i=S[0].getStartDate();}return i;};s.prototype._handleOKButton=function(){this._selectDate();};s.prototype._handleCancelButton=function(){if(!this.getDateValue()){this._oPopup.getBeginButton().setEnabled(false);}this._oPopup.close();};function t(i){if(this.isOpen()){this._oPopup.close();if((D.system.desktop||!D.support.touch)){this.focus();}}}s.prototype._increaseDate=function(N,i){var O=this.getDateValue();var A=this._$input.cursorPos();if(O&&this.getEditable()&&this.getEnabled()){var F;var G=this.getBinding("value");if(G&&G.oType&&G.oType.oOutputFormat){F=G.oType.oOutputFormat.oFormatOptions.calendarType;}else if(G&&G.oType&&G.oType.oFormat){F=G.oType.oFormat.oFormatOptions.calendarType;}if(!F){F=this.getDisplayFormatType();}var H=U.getInstance(new Date(O.getTime()),F);O=U.getInstance(new Date(O.getTime()),F);switch(i){case"day":H.setDate(H.getDate()+N);break;case"month":H.setMonth(H.getMonth()+N);var M=(O.getMonth()+N)%12;if(M<0){M=12+M;}while(H.getMonth()!=M){H.setDate(H.getDate()-1);}break;case"year":H.setFullYear(H.getFullYear()+N);while(H.getMonth()!=O.getMonth()){H.setDate(H.getDate()-1);}break;default:break;}if(H.getTime()<this._oMinDate.getTime()){H=new U(this._oMinDate.getTime());}else if(H.getTime()>this._oMaxDate.getTime()){H=new U(this._oMaxDate.getTime());}if(!d(this.getDateValue(),H.getJSDate())){this.setDateValue(new Date(H.getTime()));this._curpos=A;this._$input.cursorPos(this._curpos);var J=this.getValue();this.fireChangeEvent(J,{valid:true});}}};s.prototype._getSpecialDates=function(){var A=this.getSpecialDates();for(var i=0;i<A.length;i++){var N=A[i].getSecondaryType()===u.CalendarDayType.NonWorking&&A[i].getType()!==u.CalendarDayType.NonWorking;if(N){var F=new k();F.setType(A[i].getSecondaryType());F.setStartDate(A[i].getStartDate());if(A[i].getEndDate()){F.setEndDate(A[i].getEndDate());}A.push(F);}}return A;};function v(){this.addStyleClass(I.ICON_PRESSED_CSS_CLASS);this._renderedDays=this._getCalendar().$("-Month0-days").find(".sapUiCalItem").length;this.$("inner").attr("aria-owns",this.getId()+"-cal");this.$("inner").attr("aria-expanded",true);g.addPopoverInstance(this._oPopup);}function w(){if(!this.getDateValue()){this._oPopup.getBeginButton().setEnabled(false);}this.removeStyleClass(I.ICON_PRESSED_CSS_CLASS);this.$("inner").attr("aria-expanded",false);this._getCalendar()._closePickers();g.removePopoverInstance(this._oPopup);}function x(i){var A=i.getParameter("days"),P=this._oPopup._getPopup();if(A>this._renderedDays){this._renderedDays=A;P._applyPosition(P._oLastPosition);}}function y(S){var k=sap.ui.require("sap/ui/unified/DateTypeRange");if(S&&!(k&&S instanceof k)){throw new Error(S+"is not valid for aggregation \"specialDates\" of "+this);}}function z(){if(this.isOpen()){this._getCalendar()._bDateRangeChanged=false;this._getCalendar().invalidate();}}return s;});
sap.ui.predefine('sap/m/DatePickerRenderer',['sap/ui/core/Renderer','./InputBaseRenderer','sap/ui/core/library'],function(R,I,c){"use strict";var D=R.extend(I);D.apiVersion=2;D.writeInnerValue=function(r,d){if(d._bValid||d._bOutOfAllowedRange){r.attr("value",d._formatValue(d.getDateValue()));}else{r.attr("value",d.getValue());}};D.writeInnerAttributes=function(r,d){r.attr("type","text");if(d._bMobile){r.attr("readonly","readonly");}};D.getAriaRole=function(d){return"combobox";};D.getAccessibilityState=function(d){var a=I.getAccessibilityState.apply(this,arguments);a["roledescription"]=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATEINPUT");a["autocomplete"]="none";a["haspopup"]=c.aria.HasPopup.Grid.toLowerCase();a["expanded"]=false;a["disabled"]=null;if(d._bMobile&&d.getEnabled()&&d.getEditable()){a["readonly"]=false;}return a;};return D;},true);
sap.ui.predefine('sap/m/DateRangeSelection',['sap/ui/Device','./DatePicker','./library','sap/ui/core/LocaleData','sap/ui/core/format/DateFormat','sap/ui/core/date/UniversalDate','./DateRangeSelectionRenderer',"sap/ui/unified/calendar/CustomMonthPicker","sap/ui/unified/calendar/CustomYearPicker","sap/base/util/deepEqual","sap/base/Log","sap/base/assert","sap/ui/dom/jquery/cursorPos"],function(D,a,l,L,b,U,c,C,d,f,g,h){"use strict";var j=a.extend("sap.m.DateRangeSelection",{metadata:{library:"sap.m",properties:{delimiter:{type:"string",group:"Misc",defaultValue:'-'},secondDateValue:{type:"object",group:"Data",defaultValue:null},from:{type:"object",group:"Misc",defaultValue:null,deprecated:true},to:{type:"object",group:"Misc",defaultValue:null,deprecated:true}},designtime:"sap/m/designtime/DateRangeSelection.designtime",dnd:{draggable:false,droppable:true}}});var H=String.fromCharCode(45),E=String.fromCharCode(8211),k=String.fromCharCode(8212);j.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bIntervalSelection=true;};j.prototype._createPopupContent=function(){a.prototype._createPopupContent.apply(this,arguments);var e=this._getCalendar();if(e instanceof C){e._getMonthPicker().setIntervalSelection(true);}if(e instanceof d){e._getYearPicker().setIntervalSelection(true);}this._getCalendar().attachWeekNumberSelect(this._handleWeekSelect,this);this._getCalendar().getSelectedDates()[0].setStartDate(this._oDateRange.getStartDate());this._getCalendar().getSelectedDates()[0].setEndDate(this._oDateRange.getEndDate());};j.prototype.onkeypress=function(e){if(!e.charCode||e.metaKey||e.ctrlKey){return;}var F=r.call(this);var i=q.call(this);var A=F.sAllowedCharacters+i+" ";var v=String.fromCharCode(e.charCode);if(v&&F.sAllowedCharacters&&A.indexOf(v)<0){e.preventDefault();}};j.prototype._getPlaceholder=function(){var P=this.getPlaceholder(),B,e,i,v;if(!P){B=this.getBinding("value");i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=L.getInstance(i);if(B&&B.getType()instanceof sap.ui.model.type.DateInterval){e=B.getType();if(e.oFormatOptions&&e.oFormatOptions.format){P=v.getCustomDateTimePattern(e.oFormatOptions.format);}else{P=v.getDatePattern("medium");}}else{P=this.getDisplayFormat();if(!P){P="medium";}if(this._checkStyle(P)){P=v.getDatePattern(P);}}var w=q.call(this);if(w&&w!==""){P=P+" "+w+" "+P;}}return P;};j.prototype.setValue=function(v){if(v!==this.getValue()){this.setLastValue(v);}else{return this;}this.setProperty("value",v);this._bValid=true;var e=[undefined,undefined];if(v){e=this._parseValue(v);if(!o.call(this,e[0],e[1])[0]){this._bValid=false;g.warning("Value can not be converted to a valid dates",this);}}this.setProperty("dateValue",_(e[0]));this.setProperty("secondDateValue",_(e[1]));if(this.getDomRef()){var O=this._formatValue(e[0],e[1]);if(this._$input.val()!==O){this._$input.val(O);this._curpos=this._$input.cursorPos();}}return this;};function _(B){return(typeof B==='number')?new Date(B):B;}function m(B){return(B&&B.getTime)?B.getTime():B;}j.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);g.warning("Property valueFormat is not supported in sap.m.DateRangeSelection control.",this);return this;};j.prototype.setDisplayFormat=function(e){a.prototype.setDisplayFormat.apply(this,arguments);var O=this._formatValue(this.getDateValue(),this.getSecondDateValue());this.setProperty("value",O,true);if(this.getDomRef()&&(this._$input.val()!==O)){this._$input.val(O);this._curpos=this._$input.cursorPos();}return this;};j.prototype.setFrom=function(F){this.setDateValue(F);return this;};j.prototype.getFrom=function(){return this.getDateValue();};j.prototype.setTo=function(T){this.setSecondDateValue(T);return this;};j.prototype.getTo=function(){return this.getSecondDateValue();};j.prototype.setDateValue=function(e){if(!this._isValidDate(e)){throw new Error("Date must be a JavaScript date object; "+this);}if(f(this.getDateValue(),e)){return this;}a.prototype._dateValidation.call(this,e);this._syncDateObjectsToValue(e,this.getSecondDateValue());return this;};j.prototype.setSecondDateValue=function(S){if(!this._isValidDate(S)){throw new Error("Date must be a JavaScript date object; "+this);}if(f(this.getSecondDateValue(),S)){return this;}this._bValid=true;if(S&&(S.getTime()<this._oMinDate.getTime()||S.getTime()>this._oMaxDate.getTime())){this._bValid=false;h(this._bValid,"Date must be in valid range");}this.setProperty("secondDateValue",S);this._syncDateObjectsToValue(this.getDateValue(),S);return this;};j.prototype.setMinDate=function(e){a.prototype.setMinDate.apply(this,arguments);if(e){var S=this.getSecondDateValue();if(S&&S.getTime()<this._oMinDate.getTime()){g.warning("SecondDateValue not in valid date range",this);}}return this;};j.prototype.setMaxDate=function(e){a.prototype.setMaxDate.apply(this,arguments);if(e){var S=this.getSecondDateValue();if(S&&S.getTime()>this._oMaxDate.getTime()){g.warning("SecondDateValue not in valid date range",this);}}return this;};j.prototype._checkMinMaxDate=function(){a.prototype._checkMinMaxDate.apply(this,arguments);var S=this.getSecondDateValue();if(S&&(S.getTime()<this._oMinDate.getTime()||S.getTime()>this._oMaxDate.getTime())){g.error("secondDateValue "+S.toString()+"(value="+this.getValue()+") does not match "+"min/max date range("+this._oMinDate.toString()+" - "+this._oMaxDate.toString()+"). App. "+"developers should take care to maintain secondDateValue/value accordingly.",this);}};j.prototype._parseValue=function(v){var F;var i=[];var w,x;var B=this.getBinding("value");if(B&&B.getType()instanceof sap.ui.model.type.DateInterval){try{i=B.getType().parseValue(v,"string");}catch(e){return[undefined,undefined];}if(B.getType().oFormatOptions&&B.getType().oFormatOptions.UTC){i=i.map(function(A){return new Date(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate(),A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds());});}return i;}var y=q.call(this);if(y&&v){v=v.trim();v=u(v,[y," "]);i=this._splitValueByDelimiter(v,y);if(i.length===2){if(i[0].slice(i[0].length-1,i[0].length)==" "){i[0]=i[0].slice(0,i[0].length-1);}if(i[1].slice(0,1)==" "){i[1]=i[1].slice(1);}}else{i=v.split(" "+y+" ");}if(v.indexOf(y)===-1){var z=v.split(" ");if(z.length===2){i=z;}}}if(v&&i.length<=2){F=r.call(this);if((!y||y==="")||i.length===1){w=F.parse(v);}else if(i.length===2){w=F.parse(i[0]);x=F.parse(i[1]);if(!w||!x){w=undefined;x=undefined;}}}return[w,x];};j.prototype._splitValueByDelimiter=function(v,e){var w=[H,E,k],i;if(e){if(w.indexOf(e)===-1){return v.split(e);}}for(i=0;i<w.length;i++){if(v.indexOf(w[i])>0){return v.split(w[i]);}}return v?v.split(" "):[];};j.prototype._formatValue=function(e,S){var v="",i=q.call(this),F,B,w,x;w=e;x=S;if(w){B=this.getBinding("value");if(B&&B.getType()instanceof sap.ui.model.type.DateInterval){if(B.getType().oFormatOptions&&B.getType().oFormatOptions.source&&B.getType().oFormatOptions.source.pattern==="timestamp"){v=B.getType().formatValue([m(e),m(S)],"string");}else{if(B.getType().oFormatOptions&&B.getType().oFormatOptions.UTC){w=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()));if(S){x=new Date(Date.UTC(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds()));}}v=B.getType().formatValue([w,x],"string");}}else{F=r.call(this);if(i&&i!==""&&x){v=F.format(w)+" "+i+" "+F.format(x);}else{v=F.format(w);}}}return v;};j.prototype.onChange=function(){if(!this.getEditable()||!this.getEnabled()){return;}var v=this._$input.val();var e=[undefined,undefined];if(this.getShowFooter()&&this._oPopup&&!v){this._oPopup.getBeginButton().setEnabled(false);}this._bValid=true;if(v!=""){e=this._parseValue(v);e[1]&&e[1].setHours(23,59,59,999);e=o.call(this,e[0],e[1]);if(e[0]){v=this._formatValue(e[0],e[1]);}else{this._bValid=false;}}if(v!==this.getLastValue()){if(this.getDomRef()&&(this._$input.val()!==v)){this._$input.val(v);this._curpos=this._$input.cursorPos();}this.setLastValue(v);this.setProperty("value",v,true);if(this._bValid){this.setProperty("dateValue",_(e[0]),true);this.setProperty("secondDateValue",_(e[1]),true);}if(this._oPopup&&this._oPopup.isOpen()){var S=this.getDateValue();if(S){if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!==S.getTime()){this._oDateRange.setStartDate(new Date(S.getTime()));this._getCalendar().focusDate(S);}}else{if(this._oDateRange.getStartDate()){this._oDateRange.setStartDate(undefined);}}var i=this.getSecondDateValue();if(i){if(!this._oDateRange.getEndDate()||this._oDateRange.getEndDate().getTime()!==i.getTime()){this._oDateRange.setEndDate(new Date(i.getTime()));this._getCalendar().focusDate(i);}}else{if(this._oDateRange.getEndDate()){this._oDateRange.setEndDate(undefined);}}}n.call(this,this._bValid);}};j.prototype._getInputValue=function(v){v=(typeof v=="undefined")?this._$input.val():v.toString();if(!v){return"";}var e=this._parseValue(v);v=this._formatValue(e[0],e[1]);return v;};j.prototype.updateDomValue=function(v){this._bCheckDomValue=true;v=(typeof v=="undefined")?this._$input.val():v.toString();this._curpos=this._$input.cursorPos();var e=this._parseValue(v);v=this._formatValue(e[0],e[1]);if(this.isActive()&&(this._$input.val()!==v)){this._$input.val(v);this._$input.cursorPos(this._curpos);}return this;};j.prototype._fillDateRange=function(){a.prototype._fillDateRange.apply(this,arguments);var e=this.getSecondDateValue();if(e&&e.getTime()>=this._oMinDate.getTime()&&e.getTime()<=this._oMaxDate.getTime()){if(!this._oDateRange.getEndDate()||this._oDateRange.getEndDate().getTime()!==e.getTime()){this._oDateRange.setEndDate(new Date(e.getTime()));}}else{if(this._oDateRange.getEndDate()){this._oDateRange.setEndDate(undefined);}}};j.prototype._selectDate=function(){var S=this._getCalendar().getSelectedDates();if(S.length>0){var e=S[0].getStartDate();var i=S[0].getEndDate();if(e&&i){var v=this.getDateValue();var w=this.getSecondDateValue();i.setHours(23,59,59,999);var V;if(!f(e,v)||!f(i,w)){if(f(i,w)){this.setDateValue(e);}else{this.setProperty("dateValue",e,true);this.setSecondDateValue(i);}V=this.getValue();n.call(this,true);if(D.system.desktop||!D.support.touch){this._curpos=V.length;this._$input.cursorPos(this._curpos);}}else if(!this._bValid){V=this._formatValue(e,i);if(V!=this._$input.val()){this._bValid=true;if(this.getDomRef()){this._$input.val(V);}n.call(this,true);}}this._oDateRange.setStartDate(this._getCalendar().getSelectedDates()[0].getStartDate());this._oDateRange.setEndDate(this._getCalendar().getSelectedDates()[0].getEndDate());this._oPopup.close();}}};j.prototype._handleCalendarSelect=function(){var S=this._getCalendar().getSelectedDates(),e=S[0].getStartDate(),i=S[0].getEndDate();if(this.getShowFooter()){this._oPopup.getBeginButton().setEnabled(!!(e&&i));return;}this._selectDate();};j.prototype._handleWeekSelect=function(e){var S=e.getParameter("weekDays"),i=S.getStartDate(),v=S.getEndDate();if(this.getShowFooter()){this._oPopup.getBeginButton().setEnabled(!!(i&&v));return;}this._getCalendar().getSelectedDates()[0].setStartDate(i);this._getCalendar().getSelectedDates()[0].setEndDate(v);this._oDateRange.setStartDate(i);this._oDateRange.setEndDate(v);this._selectDate();};j.prototype.getAccessibilityInfo=function(){var R=this.getRenderer();var i=a.prototype.getAccessibilityInfo.apply(this,arguments);var v=this.getValue()||"";if(this._bValid){var e=this.getDateValue();if(e){v=this._formatValue(e,this.getSecondDateValue());}}i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATERANGEINPUT");i.description=[v,R.getLabelledByAnnouncement(this),R.getDescribedByAnnouncement(this)].join(" ").trim();return i;};j.prototype._syncDateObjectsToValue=function(e,S){var v=this._formatValue(e,S);if(v!==this.getValue()){this.setLastValue(v);}this.setProperty("value",v);if(this.getDomRef()){var O=this._formatValue(e,S);if(this._$input.val()!==O){this._$input.val(O);this._curpos=this._$input.cursorPos();}}};function n(v){this.fireChangeEvent(this.getValue(),{from:this.getDateValue(),to:this.getSecondDateValue(),valid:v});}function o(e,S){var F,i;if(e&&e.getTime){F=e.getTime();}else if(typeof e==='number'){F=e;}if(S&&S.getTime){i=S.getTime();}else if(typeof S==='number'){i=S;}if(e&&S&&F>i){var T=e;e=S;S=T;}if((e&&(F<this._oMinDate.getTime()||F>this._oMaxDate.getTime()))||(S&&(i<this._oMinDate.getTime()||i>this._oMaxDate.getTime()))){return[undefined,undefined];}else{return[e,S];}}j.prototype._increaseDate=function(N,e){var v=this._$input.val(),i=this._parseValue(v),F=i[0],S=i[1],w=r.call(this),x=q.call(this),y,z,A,V,B,G,I;if(!F||!this.getEditable()||!this.getEnabled()){return;}if(!o.call(this,F,S)[0]){g.warning("Value can not be converted to a valid dates or dates are outside of the min/max range",this);this._bValid=false;n.call(this,this._bValid);return;}v=u(v,[x," "]);y=this._$input.cursorPos();z=F?w.format(F).length:0;A=S?w.format(S).length:0;V=v.length;B=y<=z+1;G=y>=V-A-1&&y<=V;if(B&&F){I=p.call(this,F,N,e);if(!f(this.getDateValue(),I.getJSDate())){this.setDateValue(new Date(I.getTime()));this._curpos=y;this._$input.cursorPos(this._curpos);this.fireChangeEvent(this.getValue(),{valid:this._bValid});}}else if(G&&S){I=p.call(this,S,N,e);if(!f(this.getSecondDateValue(),I.getJSDate())){this.setSecondDateValue(new Date(I.getTime()));this._curpos=y;this._$input.cursorPos(this._curpos);this.fireChangeEvent(this.getValue(),{valid:this._bValid});}}};function p(O,N,e){var B=this.getBinding("value"),i,M,v,w;if(B&&B.oType&&B.oType.oOutputFormat){i=B.oType.oOutputFormat.oFormatOptions.calendarType;}else if(B&&B.oType&&B.oType.oFormat){i=B.oType.oFormat.oFormatOptions.calendarType;}if(!i){i=this.getDisplayFormatType();}v=U.getInstance(new Date(O.getTime()),i);w=v.getMonth();switch(e){case"day":v.setDate(v.getDate()+N);break;case"month":v.setMonth(v.getMonth()+N);M=(w+N)%12;if(M<0){M=12+M;}while(v.getMonth()!=M){v.setDate(v.getDate()-1);}break;case"year":v.setFullYear(v.getFullYear()+N);while(v.getMonth()!=w){v.setDate(v.getDate()-1);}break;default:break;}if(v.getTime()<this._oMinDate.getTime()){v=new U(this._oMinDate.getTime());}else if(v.getTime()>this._oMaxDate.getTime()){v=new U(this._oMaxDate.getTime());}return v;}function q(){var e=this.getDelimiter();if(!e){if(!this._sLocaleDelimiter){var i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var v=L.getInstance(i);var P=v.getIntervalPattern();var I=P.indexOf("{0}")+3;var w=P.indexOf("{1}");e=P.slice(I,w);if(e.length>1){if(e.slice(0,1)==" "){e=e.slice(1);}if(e.slice(e.length-1,e.length)==" "){e=e.slice(0,e.length-1);}}this._sLocaleDelimiter=e;}else{e=this._sLocaleDelimiter;}}return e;}function r(){var P=(this.getDisplayFormat()||"medium");var F;var e=this.getDisplayFormatType();if(P==this._sUsedDisplayPattern&&e==this._sUsedDisplayCalendarType){F=this._oDisplayFormat;}else{if(this._checkStyle(P)){F=b.getInstance({style:P,strictParsing:true,calendarType:e});}else{F=b.getInstance({pattern:P,strictParsing:true,calendarType:e});}this._sUsedDisplayPattern=P;this._sUsedDisplayCalendarType=e;this._oDisplayFormat=F;}return F;}function s(v,e){return v&&e&&v.lastIndexOf(e)===v.length-e.length;}function t(v,S){return v&&S&&v.indexOf(S)===0;}function u(v,P){var i=0,T=P;if(!T){T=[" "];}while(i<T.length){if(s(v,T[i])){v=v.substring(0,v.length-T[i].length);i=0;continue;}i++;}i=0;while(i<T.length){if(t(v,T[i])){v=v.substring(T[i].length);i=0;continue;}i++;}return v;}return j;});
sap.ui.predefine('sap/m/DateRangeSelectionRenderer',['sap/ui/core/Renderer','./DatePickerRenderer'],function(R,D){"use strict";var a=R.extend(D);a.apiVersion=2;a.writeInnerValue=function(r,c){if(c._bValid){r.attr("value",c._formatValue(c.getDateValue(),c.getSecondDateValue()));}else{r.attr("value",c.getValue());}};a.getAccessibilityState=function(d){var A=D.getAccessibilityState.apply(this,arguments);A["roledescription"]=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATERANGEINPUT");return A;};return a;},true);
sap.ui.predefine('sap/m/DateTimeField',['sap/ui/model/type/Date','sap/ui/model/odata/type/ODataType','sap/ui/model/odata/type/DateTimeBase','./InputBase','./ValueStateHeader','sap/ui/core/Core','sap/ui/core/LocaleData','sap/ui/core/library','sap/ui/core/format/DateFormat','./DateTimeFieldRenderer',"sap/base/util/deepEqual","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos"],function(S,O,D,I,V,C,L,c,a,b,d,f,q){"use strict";var g=c.CalendarType;var h=c.ValueState;var i=I.extend("sap.m.DateTimeField",{metadata:{"abstract":true,library:"sap.m",properties:{displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null},initialFocusedDateValue:{type:"object",group:"Data",defaultValue:null}}}});i.prototype.setValue=function(v){v=this.validateProperty("value",v);var o=this.getValue();if(v===o){return this;}else{this.setLastValue(v);}this.setProperty("value",v);this._bValid=true;var e;if(v){e=this._parseValue(v);if(!e||e.getTime()<this._oMinDate.getTime()||e.getTime()>this._oMaxDate.getTime()){this._bValid=false;f.warning("Value can not be converted to a valid date",this);}}this.setProperty("dateValue",e);if(this.getDomRef()){var s;if(e){s=this._formatValue(e);}else{s=v;}if(this._$input.val()!==s){this._$input.val(s);this._curpos=this._$input.cursorPos();}}return this;};i.prototype.setDateValue=function(o){if(!this._isValidDate(o)){throw new Error("Date must be a JavaScript date object; "+this);}if(d(this.getDateValue(),o)){return this;}o=this._dateValidation(o);var v=this._formatValue(o,true);if(v!==this.getValue()){this.setLastValue(v);}this.setProperty("value",v);if(this.getDomRef()){var s=this._formatValue(o);if(this._$input.val()!==s){this._$input.val(s);this._curpos=this._$input.cursorPos();}}return this;};i.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);var s=this.getValue();if(s){this._handleDateValidation(this._parseValue(s));}return this;};i.prototype.setDisplayFormat=function(s){this.setProperty("displayFormat",s,true);this.updateDomValue(this._formatValue(this.getDateValue()));this.setPlaceholder(this._getPlaceholder());return this;};i.prototype.getDisplayFormatType=function(){return null;};i.prototype.onfocusin=function(e){if(!q(e.target).hasClass("sapUiIcon")){this.addStyleClass("sapMFocus");}if(!q(e.target).hasClass("sapMInputBaseIconContainer")&&!(this._oPopup&&this._oPopup.isOpen())){this.openValueStateMessage();}else if(this._oValueStateHeader){this._oValueStateHeader.setVisible(this.getValueState()!==h.None);}};i.prototype._getValueStateHeader=function(){var v;if(!this._oValueStateHeader){v=this.getValueState();this._oValueStateHeader=new V({text:this._getTextForPickerValueStateContent(),valueState:v,visible:v!==h.None});}return this._oValueStateHeader;};i.prototype._dateValidation=function(o){this._bValid=true;this.setProperty("dateValue",o);return o;};i.prototype._handleDateValidation=function(o){this._bValid=true;this.setProperty("dateValue",o);};i.prototype._getPlaceholder=function(){var p=this.getPlaceholder();if(!p){p=this._getDisplayFormatPattern();if(!p){p=this._getDefaultDisplayStyle();}if(this._checkStyle(p)){p=this._getLocaleBasedPattern(p);}}return p;};i.prototype._getLocaleBasedPattern=function(p){return L.getInstance(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()).getDatePattern(p);};i.prototype._parseValue=function(v,j){var B=this.getBinding("value"),o=B&&B.getType&&B.getType(),F=this._getFormatter(j),k,l,m;if(o&&this._isSupportedBindingType(o)){try{m=o.parseValue(v,"string");if(typeof(m)==="string"&&o instanceof D){m=D.prototype.parseValue.call(o,v,"string");}k=o.oFormatOptions;if(k&&k.source&&k.source.pattern=="timestamp"){m=new Date(m);}else if(k&&k.source&&typeof k.source.pattern==="string"){m=o.oInputFormat.parse(v);}}catch(e){}if(m&&((o.oFormatOptions&&this._isFormatOptionsUTC(o.oFormatOptions))||(o.oConstraints&&o.oConstraints.isDateOnly))){l=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds());l.setFullYear(m.getUTCFullYear());m=l;}return m;}return F.parse(v);};i.prototype._formatValue=function(o,v){if(!o){return"";}var B=this.getBinding("value"),e=B&&B.getType&&B.getType(),F,j;if(e&&this._isSupportedBindingType(e)){if((e.oFormatOptions&&e.oFormatOptions.UTC)||(e.oConstraints&&e.oConstraints.isDateOnly)){j=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));j.setUTCFullYear(o.getFullYear());o=j;}F=e.oFormatOptions;if(F&&F.source&&F.source.pattern=="timestamp"){o=o.getTime();}else if(e.oOutputFormat){return e.oOutputFormat.format(o);}return e.formatValue(o,"string");}return this._getFormatter(!v).format(o);};i.prototype._isSupportedBindingType=function(B){return B.isA(["sap.ui.model.type.Date","sap.ui.model.odata.type.DateTime","sap.ui.model.odata.type.DateTimeOffset"]);};i.prototype._isFormatOptionsUTC=function(B){return(B.UTC||(B.source&&B.source.UTC));};i.prototype._getDefaultDisplayStyle=function(){return"medium";};i.prototype._getDefaultValueStyle=function(){return"short";};i.prototype._getFormatter=function(e){var p=this._getBoundValueTypePattern(),r=false,F,B=this.getBinding("value"),s;if(B&&B.oType&&B.oType.oOutputFormat){r=!!B.oType.oOutputFormat.oFormatOptions.relative;s=B.oType.oOutputFormat.oFormatOptions.calendarType;}if(!p){if(e){p=(this.getDisplayFormat()||this._getDefaultDisplayStyle());s=this.getDisplayFormatType();}else{p=(this.getValueFormat()||this._getDefaultValueStyle());s=g.Gregorian;}}if(!s){s=sap.ui.getCore().getConfiguration().getCalendarType();}if(e){if(p===this._sUsedDisplayPattern&&s===this._sUsedDisplayCalendarType){F=this._oDisplayFormat;}}else{if(p===this._sUsedValuePattern&&s===this._sUsedValueCalendarType){F=this._oValueFormat;}}if(F){return F;}return this._getFormatterInstance(F,p,r,s,e);};i.prototype._getFormatterInstance=function(F,p,r,s,e){if(this._checkStyle(p)){F=this._getFormatInstance({style:p,strictParsing:true,relative:r,calendarType:s},e);}else{F=this._getFormatInstance({pattern:p,strictParsing:true,relative:r,calendarType:s},e);}if(e){this._sUsedDisplayPattern=p;this._sUsedDisplayCalendarType=s;this._oDisplayFormat=F;}else{this._sUsedValuePattern=p;this._sUsedValueCalendarType=s;this._oValueFormat=F;}return F;};i.prototype._getFormatInstance=function(A,e){return a.getInstance(A);};i.prototype._checkStyle=function(p){return(p==="short"||p==="medium"||p==="long"||p==="full");};i.prototype._getDisplayFormatPattern=function(){var p=this._getBoundValueTypePattern();if(p){return p;}p=this.getDisplayFormat();if(this._checkStyle(p)){p=this._getLocaleBasedPattern(p);}return p;};i.prototype._getBoundValueTypePattern=function(){var B=this.getBinding("value"),o=B&&B.getType&&B.getType();if(o instanceof S){return o.getOutputPattern();}if(o instanceof O&&o.oFormat){return o.oFormat.oFormatOptions.pattern;}return undefined;};i.prototype._isValidDate=function(o){return!o||Object.prototype.toString.call(o)==="[object Date]";};i.prototype._getTextForPickerValueStateContent=function(){return this.getValueStateText()||this._getDefaultTextForPickerValueStateContent();};i.prototype._getDefaultTextForPickerValueStateContent=function(){var v=this.getValueState(),r,t;if(v===h.None){t="";}else{r=C.getLibraryResourceBundle("sap.ui.core");t=r.getText("VALUE_STATE_"+v.toUpperCase());}return t;};return i;});
sap.ui.predefine('sap/m/DateTimeFieldRenderer',['sap/ui/core/Renderer','./InputBaseRenderer'],function(R,I){"use strict";var D=R.extend(I);D.apiVersion=2;return D;},true);
sap.ui.predefine('sap/m/DateTimeInput',["sap/ui/thirdparty/jquery",'sap/ui/core/Control','./library','./DatePicker','./DateTimePicker','./TimePicker','sap/ui/model/type/Date','sap/ui/model/type/Time','sap/ui/model/type/DateTime','sap/ui/model/odata/type/ODataType','sap/ui/core/library','sap/ui/Device',"./DateTimeInputRenderer"],function(q,C,l,D,a,T,b,c,d,O,e,f,g){"use strict";var h=l.DateTimeInputType;var j=e.TextDirection;var k=e.TextAlign;var V=e.ValueState;var m=C.extend("sap.m.DateTimeInput",{metadata:{library:"sap.m",deprecated:true,designtime:"sap/m/designtime/DateTimeInput.designtime",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},showValueStateMessage:{type:"boolean",group:"Misc",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:k.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:j.Inherit},type:{type:"sap.m.DateTimeInputType",group:"Data",defaultValue:h.Date},displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null}},aggregations:{_picker:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"string"},dateValue:{type:"object"},valid:{type:"boolean"}}}}}});!(function(P,$,i){var r=l.getLocaleData();q.extend(P,{_types:{Date:{valueFormat:r.getDatePattern("short"),displayFormat:r.getDatePattern("medium")},Time:{valueFormat:r.getTimePattern("short"),displayFormat:r.getTimePattern("short")},DateTime:{valueFormat:r.getDateTimePattern("short"),displayFormat:r.getDateTimePattern("short")}}});["Time","Date"].forEach(function(t,s){["valueFormat","displayFormat"].forEach(function(F){var u=P._types;u.DateTime[F]=u.DateTime[F].replace("{"+s+"}",u[t][F]);});});}(m.prototype,q,f));m.prototype.init=function(){this.setType(h.Date);};m.prototype.onBeforeRendering=function(){o.call(this);};m.prototype.getFocusDomRef=function(){var P=_.call(this);return P.getFocusDomRef();};m.prototype.getIdForLabel=function(){var P=_.call(this);return P.getIdForLabel();};function n(t){var P;switch(t){case h.DateTime:P=new a(this.getId()+"-Picker");break;case h.Time:P=new T(this.getId()+"-Picker",{localeId:sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString()});break;default:P=new D(this.getId()+"-Picker");break;}P.setDisplayFormat(this.getDisplayFormat()||this._types[t].displayFormat);P.setValueFormat(this.getValueFormat()||this._types[t].valueFormat);if(this.getDateValue()){P.setDateValue(this.getDateValue());}P.setEnabled(this.getEnabled());P.setEditable(this.getEditable());P.setValueState(this.getValueState());P.setValueStateText(this.getValueStateText());P.setShowValueStateMessage(this.getShowValueStateMessage());P.setName(this.getName());P.setPlaceholder(this.getPlaceholder());P.setTextAlign(this.getTextAlign());P.setTextDirection(this.getTextDirection());P.setWidth("100%");P.attachChange(p,this);var A=this.getAriaLabelledBy();for(var i=0;i<A.length;i++){P.addAriaLabelledBy(A[i]);}return P;}m.prototype.setType=function(t){if(t==this.getType()&&_.call(this)){return this;}this.destroyAggregation("_picker");var P=n.call(this,t);this.setAggregation("_picker",P);this.setProperty("type",t);return this;};m.prototype.setWidth=function(w){this.setProperty("width",w);if(this.getDomRef()){w=this.getWidth();this.$().css("width",w);}return this;};m.prototype.setValue=function(v){o.call(this);v=this.validateProperty("value",v);if(v.toLowerCase()=="now"){return this.setDateValue(new Date());}if(v===this.getValue()){return this;}this.setProperty("value",v,true);var P=_.call(this);P.setValue(v);var i=P.getDateValue();this.setProperty("dateValue",i,true);return this;};m.prototype.setDateValue=function(i){if(!this._isValidDate(i)){throw new Error("Date must be a JavaScript date object; "+this);}o.call(this);this.setProperty("dateValue",i,true);var P=_.call(this);P.setDateValue(i);var v=P.getValue();this.setProperty("value",v,true);return this;};m.prototype.setDisplayFormat=function(s){this.setProperty("displayFormat",s,true);var P=_.call(this);P.setDisplayFormat(s||this._types[this.getType()].displayFormat);return this;};m.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);var P=_.call(this);P.setValueFormat(v||this._types[this.getType()].ValueFormat);return this;};m.prototype.setEnabled=function(E){this.setProperty("enabled",E,true);var P=_.call(this);P.setEnabled(E);return this;};m.prototype.setEditable=function(E){this.setProperty("editable",E,true);var P=_.call(this);P.setEditable(E);return this;};m.prototype.setValueState=function(v){this.setProperty("valueState",v,true);var P=_.call(this);P.setValueState(v);return this;};m.prototype.setValueStateText=function(v){this.setProperty("valueStateText",v,true);var P=_.call(this);P.setValueStateText(v);return this;};m.prototype.setShowValueStateMessage=function(s){this.setProperty("showValueStateMessage",s,true);var P=_.call(this);P.setShowValueStateMessage(s);return this;};m.prototype.setName=function(N){this.setProperty("name",N,true);var P=_.call(this);P.setName(N);return this;};m.prototype.setPlaceholder=function(P){this.setProperty("placeholder",P,true);var i=_.call(this);i.setPlaceholder(P);return this;};m.prototype.setTextAlign=function(t){this.setProperty("textAlign",t,true);var P=_.call(this);P.setTextAlign(t);return this;};m.prototype.setTextDirection=function(t){this.setProperty("textDirection",t,true);var P=_.call(this);P.setTextDirection(t);return this;};m.prototype.addAriaLabelledBy=function(i){this.addAssociation("ariaLabelledBy",i,true);var P=_.call(this);P.addAriaLabelledBy(i);return this;};m.prototype.removeAriaLabelledBy=function(i){this.removeAssociation("ariaLabelledBy",i,true);var P=_.call(this);P.removeAriaLabelledBy(i);return this;};m.prototype.removeAllAriaLabelledBy=function(){this.removeAssociation("ariaLabelledBy",true);var P=_.call(this);P.removeAllAriaLabelledBy();return this;};m.prototype.getAccessibilityInfo=function(){var P=_.call(this);return P&&P.getAccessibilityInfo?P.getAccessibilityInfo():null;};m.prototype._getPickerByTypeAndPattern=function(t,i,r){var R=/[DdYyMLWwGQUur]/,s=/[HhKkmsa]/,u=s.test(r),v=R.test(r),w=u&&!v,x=v&&!u,y=v&&u,N,z;switch(t){case h.Time:case h.Date:case h.DateTime:if(w&&i.getMetadata().getName()!=="sap.m.TimePicker"){N=h.Time;}else if(x&&i.getMetadata().getName()!=="sap.m.DatePicker"){N=h.Date;}else if(y&&i.getMetadata().getName()!=="sap.m.DateTimePicker"){N=h.DateTime;}break;default:{throw"Invalid type: "+t+". Expected is one of the sap.m.DateTimeInputType";}}if(N){this.destroyAggregation("_picker");z=n.call(this,N);this.setAggregation("_picker",z);}return z||i;};m.prototype._getBoundValueTypePattern=function(){var B=this.getBinding("value"),i=B&&B.getType()&&B.getType();if(i instanceof b||i instanceof c||i instanceof d){return i.getOutputPattern();}if(i instanceof O&&i.oFormat){return i.oFormat.oFormatOptions.pattern;}return undefined;};function _(){return this.getAggregation("_picker");}m.prototype._isValidDate=function(i){return!i||Object.prototype.toString.call(i)==="[object Date]";};function o(){if(this._getBoundValueTypePattern()){var P=this._getBoundValueTypePattern();var i=_.call(this);i=this._getPickerByTypeAndPattern(this.getType(),i,P);if(i.getValueFormat()!=P){i.setValueFormat(P);}if(i.getDisplayFormat()!=P){i.setDisplayFormat(P);}}}function p(E){var v=E.getParameter("value");var i;var r=E.getParameter("valid");this.setProperty("value",v,true);if(r){i=E.oSource.getDateValue();this.setProperty("dateValue",i,true);}this.fireChange({value:v,newValue:v,valid:r,dateValue:i,newDateValue:i});}return m;});
sap.ui.predefine('sap/m/DateTimeInputRenderer',[],function(){"use strict";var D={apiVersion:2};D.render=function(r,c){r.openStart("div",c);r.class("sapMDTI");var w=c.getWidth();if(w){r.style("width",w);}r.openEnd();var p=c.getAggregation("_picker");if(p){r.renderControl(p);}r.close("div");};return D;},true);
sap.ui.predefine('sap/m/DateTimePicker',["sap/ui/thirdparty/jquery",'./InputBase','./DatePicker','sap/ui/model/type/Date','sap/ui/unified/DateRange','./library','sap/ui/core/Control','sap/ui/Device','sap/ui/core/format/DateFormat','sap/ui/core/LocaleData','./DateTimePickerRenderer','./TimePickerSliders','./SegmentedButton','./SegmentedButtonItem','./ResponsivePopover','./Button',"sap/ui/events/KeyCodes","sap/ui/core/IconPool"],function(q,I,D,a,b,l,C,c,d,L,e,T,S,f,R,B,K,g){"use strict";var P=l.PlacementType,h=l.ButtonType,k="Phone";var m=D.extend("sap.m.DateTimePicker",{metadata:{library:"sap.m",properties:{minutesStep:{type:"int",group:"Misc",defaultValue:1},secondsStep:{type:"int",group:"Misc",defaultValue:1}},designtime:"sap/m/designtime/DateTimePicker.designtime",dnd:{draggable:false,droppable:true}}});var n={Short:"short",Medium:"medium",Long:"long",Full:"full"};var o=C.extend("sap.m.internal.DateTimePickerPopup",{metadata:{library:"sap.m",aggregations:{_switcher:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},calendar:{type:"sap.ui.core.Control",multiple:false},timeSliders:{type:"sap.ui.core.Control",multiple:false}}},renderer:{apiVersion:2,render:function(i,j){i.openStart("div",j);i.class("sapMDateTimePopupCont").class("sapMTimePickerDropDown");i.openEnd();var v=j.getAggregation("_switcher");if(v){i.openStart("div");i.class("sapMTimePickerSwitch");i.openEnd();i.renderControl(v);i.close("div");}var w=j.getCalendar();if(w){i.renderControl(w);}i.openStart("div");i.class("sapMTimePickerSep");i.openEnd();i.close("div");var x=j.getTimeSliders();if(x){i.renderControl(x);}i.close("div");}},init:function(){},onBeforeRendering:function(){var i=this.getAggregation("_switcher");if(!i){var j=sap.ui.getCore().getLibraryResourceBundle("sap.m");var v=j.getText("DATETIMEPICKER_DATE");var w=j.getText("DATETIMEPICKER_TIME");i=new S(this.getId()+"-Switch",{selectedKey:"Cal",items:[new f(this.getId()+"-Switch-Cal",{key:"Cal",text:v}),new f(this.getId()+"-Switch-Sli",{key:"Sli",text:w})]});i.attachSelect(this._handleSelect,this);this.setAggregation("_switcher",i,true);}if(c.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){i.setVisible(true);i.setSelectedKey("Cal");}else{i.setVisible(false);}},onAfterRendering:function(){if(this.getAggregation('timeSliders')&&this.getAggregation('timeSliders').getAggregation("_columns")){this.getAggregation('timeSliders').getAggregation("_columns")[0].setIsExpanded(false);}if(c.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){var i=this.getAggregation("_switcher");var j=i.getSelectedKey();this._switchVisibility(j);}},_handleSelect:function(E){this._switchVisibility(E.getParameter("key"));},_switchVisibility:function(i){var j=this.getCalendar();var v=this.getTimeSliders();if(!j||!v){return;}if(i=="Cal"){j.$().css("display","");v.$().css("display","none");}else{j.$().css("display","none");v.$().css("display","");v._updateSlidersValues();v._onOrientationChanged();v.openFirstSlider();}},switchToTime:function(){var i=this.getAggregation("_switcher");if(i&&i.getVisible()){i.setSelectedKey("Sli");this._switchVisibility("Sli");}},getSpecialDates:function(){return this._oDateTimePicker.getSpecialDates();},onkeydown:function(E){var i=E.keyCode===K.TAB&&!E.shiftKey;var j=E.keyCode===K.TAB&&E.shiftKey;if(i&&E.target.classList.contains('sapUiCalHeadBLast')){this.getAggregation('timeSliders').getDomRef().children[0].focus();}if(j&&E.target.classList.contains('sapUiCalItem')){var v=this.oParent.getAggregation("footer").getAggregation("content").length-1;this.oParent.getAggregation("footer").getAggregation("content")[v].focus();}}});m.prototype.init=function(){D.prototype.init.apply(this,arguments);this._bOnlyCalendar=false;};m.prototype.getIconSrc=function(){return g.getIconURI("date-time");};m.prototype.exit=function(){D.prototype.exit.apply(this,arguments);if(this._oSliders){this._oSliders.destroy();delete this._oSliders;}this._oPopupContent=undefined;c.media.detachHandler(this._handleWindowResize,this);};m.prototype.setDisplayFormat=function(i){D.prototype.setDisplayFormat.apply(this,arguments);if(this._oSliders){this._oSliders.setDisplayFormat(t.call(this));}return this;};m.prototype.setMinutesStep=function(M){this.setProperty('minutesStep',M,true);if(this._oSliders){this._oSliders.setMinutesStep(M);}return this;};m.prototype._getDefaultValueStyle=function(){return n.Medium;};m.prototype.setMinDate=function(i){D.prototype.setMinDate.call(this,i);if(i){this._oMinDate.setHours(i.getHours(),i.getMinutes(),i.getSeconds());}return this;};m.prototype.setMaxDate=function(i){D.prototype.setMaxDate.call(this,i);if(i){this._oMaxDate.setHours(i.getHours(),i.getMinutes(),i.getSeconds());}return this;};m.prototype.setSecondsStep=function(i){this.setProperty('secondsStep',i,true);if(this._oSliders){this._oSliders.setSecondsStep(i);}return this;};m.prototype._getFormatInstance=function(A,i){var M=q.extend({},A);var j=-1;if(M.style){j=M.style.indexOf("/");}if(i){var v=q.extend({},M);if(j>0){v.style=v.style.substr(0,j);}this._oDisplayFormatDate=d.getInstance(v);}return d.getDateTimeInstance(M);};m.prototype._checkStyle=function(v){if(D.prototype._checkStyle.apply(this,arguments)){return true;}else if(v.indexOf("/")>0){var w=[n.Short,n.Medium,n.Long,n.Long];var x=false;for(var i=0;i<w.length;i++){var y=w[i];for(var j=0;j<w.length;j++){var z=w[j];if(v==y+"/"+z){x=true;break;}}if(x){break;}}return x;}return false;};m.prototype._parseValue=function(v,i){var j=D.prototype._parseValue.apply(this,arguments);if(i&&!j){j=this._oDisplayFormatDate.parse(v);if(j){var O=this.getDateValue();if(!O){O=new Date();}j.setHours(O.getHours());j.setMinutes(O.getMinutes());j.setSeconds(O.getSeconds());j.setMilliseconds(O.getMilliseconds());}}return j;};m.prototype._getLocaleBasedPattern=function(i){var j=L.getInstance(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()),v=i.indexOf("/");if(v>0){return j.getCombinedDateTimePattern(i.substr(0,v),i.substr(v+1));}else{return j.getCombinedDateTimePattern(i,i);}};m.prototype._createPopup=function(){var i,j,v,O,w,x;if(!this._oPopup){v=sap.ui.getCore().getLibraryResourceBundle("sap.m");O=v.getText("TIMEPICKER_SET");w=v.getText("TIMEPICKER_CANCEL");this._oPopupContent=new o(this.getId()+"-PC");this._oPopupContent._oDateTimePicker=this;this._oOKButton=new B(this.getId()+"-OK",{text:O,type:h.Emphasized,press:_.bind(this)});var H=this._getValueStateHeader();this._oPopup=new R(this.getId()+"-RP",{showCloseButton:false,showHeader:false,placement:P.VerticalPreferedBottom,beginButton:this._oOKButton,content:[H,this._oPopupContent],afterOpen:r.bind(this),afterClose:s.bind(this)});H.setPopup(this._oPopup._oControl);if(c.system.phone){i=this.$("inner").attr("aria-labelledby");j=i?document.getElementById(i).getAttribute("aria-label"):"";this._oPopup.setTitle(j);this._oPopup.setShowHeader(true);this._oPopup.setShowCloseButton(true);}else{this._oPopup._getPopup().setDurations(0,0);this._oPopup.setEndButton(new B(this.getId()+"-Cancel",{text:w,press:p.bind(this)}));}this._oPopup.addStyleClass("sapMDateTimePopup");x=this._oPopup.getAggregation("_popup");if(x.setShowArrow){x.setShowArrow(false);}this.setAggregation("_popup",this._oPopup,true);}};m.prototype._openPopup=function(){if(!this._oPopup){return;}this.addStyleClass(I.ICON_PRESSED_CSS_CLASS);var i=this._oPopup.getAggregation("_popup");i.oPopup.setAutoCloseAreas([this.getDomRef()]);this._oPopup.openBy(this);var j=this._oPopup.getContent()[1]&&this._oPopup.getContent()[1].getTimeSliders();if(j){setTimeout(j._updateSlidersValues.bind(j),0);}};m.prototype._createPopupContent=function(){var N=!this._oCalendar;D.prototype._createPopupContent.apply(this,arguments);if(N){this._oPopupContent.setCalendar(this._oCalendar);this._oCalendar.attachSelect(u,this);}if(!this._oSliders){this._oSliders=new T(this.getId()+"-Sliders",{minutesStep:this.getMinutesStep(),secondsStep:this.getSecondsStep(),displayFormat:t.call(this),localeId:this.getLocaleId()})._setShouldOpenSliderAfterRendering(true);this._oPopupContent.setTimeSliders(this._oSliders);}};m.prototype._selectFocusedDateValue=function(i){var j=this._oCalendar;j.removeAllSelectedDates();j.addSelectedDate(i);return this;};m.prototype._fillDateRange=function(){var i=this.getDateValue(),j=true;if(i){i=new Date(i.getTime());this._oOKButton.setEnabled(true);}else{j=false;i=this.getInitialFocusedDateValue();if(!i){i=new Date();this._oCalendar.removeAllSelectedDates();}var M=this._oMaxDate.getTime();if(i.getTime()<this._oMinDate.getTime()||i.getTime()>M){i=this._oMinDate;}this._oOKButton.setEnabled(false);}this._oCalendar.focusDate(i);if(j){if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!=i.getTime()){this._oDateRange.setStartDate(i);}}this._oSliders._setTimeValues(i);};m.prototype._getSelectedDate=function(){var i=D.prototype._getSelectedDate.apply(this,arguments);if(i){var j=this._oSliders.getTimeValues();var v=this._oSliders._getDisplayFormatPattern();if(v.search("h")>=0||v.search("H")>=0){i.setHours(j.getHours());}if(v.search("m")>=0){i.setMinutes(j.getMinutes());}if(v.search("s")>=0){i.setSeconds(j.getSeconds());}if(i.getTime()<this._oMinDate.getTime()){i=new Date(this._oMinDate.getTime());}else if(i.getTime()>this._oMaxDate.getTime()){i=new Date(this._oMaxDate.getTime());}}return i;};m.prototype.getLocaleId=function(){return sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();};m.prototype.getAccessibilityInfo=function(){var i=D.prototype.getAccessibilityInfo.apply(this,arguments);i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATETIMEINPUT");return i;};function _(E){this._handleCalendarSelect();}function p(E){this.onsaphide(E);if(!this.getDateValue()){this._oCalendar.removeAllSelectedDates();}}m.prototype._handleWindowResize=function(i){var j=this.getAggregation("_popup").getContent()[1].getAggregation("_switcher"),v=this.getAggregation("_popup").getContent()[1].getCalendar(),w=this.getAggregation("_popup").getContent()[1].getTimeSliders();if(i.name===k){j.setVisible(true);this.getAggregation("_popup").getContent()[1]._switchVisibility(j.getSelectedKey());}else{j.setVisible(false);w.$().css("display","");v.$().css("display","");}};function r(E){this.$("inner").attr("aria-expanded",true);this._oCalendar.focus();this._oSliders._onOrientationChanged();c.media.attachHandler(this._handleWindowResize,this);}function s(){this.removeStyleClass(I.ICON_PRESSED_CSS_CLASS);this.$("inner").attr("aria-expanded",false);this._oCalendar._closePickers();c.media.detachHandler(this._handleWindowResize,this);}function t(){var i=this.getDisplayFormat();var j;var v=this.getBinding("value");if(v&&v.oType&&(v.oType instanceof a)){i=v.oType.getOutputPattern();}else if(v&&v.oType&&v.oType.oFormat){i=v.oType.oFormat.oFormatOptions.pattern;}else{i=this.getDisplayFormat();}if(!i){i=n.Medium;}var w=i.indexOf("/");if(w>0&&this._checkStyle(i)){i=i.substr(w+1);}if(i==n.Short||i==n.Medium||i==n.Long||i==n.Full){var x=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var y=L.getInstance(x);j=y.getTimePattern(i);}else{j=i;}return j;}function u(E){this._oOKButton.setEnabled(true);this._oPopupContent.switchToTime();}return m;});
sap.ui.predefine('sap/m/DateTimePickerRenderer',['sap/ui/core/Renderer','./DatePickerRenderer','./InputBaseRenderer','sap/ui/core/library'],function(R,D,I,c){"use strict";var a=R.extend(D);a.apiVersion=2;a.getDescribedByAnnouncement=function(d){var b=I.getDescribedByAnnouncement.apply(this,arguments);return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("DATETIMEPICKER_TYPE")+" "+b;};a.getAccessibilityState=function(d){var A=D.getAccessibilityState.apply(this,arguments);A["haspopup"]=c.aria.HasPopup.Dialog.toLowerCase();return A;};return a;},true);
sap.ui.predefine('sap/m/DisplayListItem',["sap/ui/core/library","./library","./ListItemBase","./DisplayListItemRenderer"],function(c,l,L,D){"use strict";var T=c.TextDirection;var a=L.extend("sap.m.DisplayListItem",{metadata:{library:"sap.m",properties:{label:{type:"string",group:"Misc",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null},valueTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit}}}});a.prototype.getContentAnnouncement=function(){return this.getLabel()+" "+this.getValue();};return a;});
sap.ui.predefine('sap/m/DisplayListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","./ListItemBaseRenderer"],function(c,R,L){"use strict";var T=c.TextDirection;var D=R.extend(L);D.apiVersion=2;D.renderLIAttributes=function(r,l){r.class("sapMDLI");};D.renderLIContent=function(r,l){var s=l.getLabel();if(s){r.openStart("label");r.attr("for",l.getId()+"-value");r.class("sapMDLILabel");r.openEnd();r.text(s);r.close("label");}var v=l.getValue();if(v){r.openStart("div",l.getId()+"-value");r.class("sapMDLIValue");var V=l.getValueTextDirection();if(V!=T.Inherit){r.attr("dir",V.toLowerCase());}r.openEnd();r.text(v);r.close("div");}};return D;},true);
sap.ui.predefine('sap/m/DraftIndicator',["sap/ui/core/Control","sap/m/Label","sap/m/library","./DraftIndicatorRenderer"],function(C,L,l,D){"use strict";var a=l.DraftIndicatorState;var b=C.extend("sap.m.DraftIndicator",{metadata:{library:"sap.m",designtime:"sap/m/designtime/DraftIndicator.designtime",properties:{state:{type:"sap.m.DraftIndicatorState",group:"Behavior",defaultValue:a.Clear},minDisplayTime:{type:"int",group:"Behavior",defaultValue:1500}},aggregations:{_label:{type:"sap.m.Label",multiple:false,visibility:"hidden"}}}});var B=sap.ui.getCore().getLibraryResourceBundle("sap.m");b._oTEXTS={};b._oTEXTS[a.Saving]=B.getText("DRAFT_INDICATOR_SAVING_DRAFT");b._oTEXTS[a.Saved]=B.getText("DRAFT_INDICATOR_DRAFT_SAVED");b._oTEXTS[a.Clear]="";b.prototype.init=function(){this.aQueue=[];this.iDelayedCallId=null;};b.prototype.exit=function(){this._resetDraftTimer();};b.prototype.setState=function(s){this.setProperty("state",s);this._addToQueue(s);if(s===a.Saving){this._addToQueue(a.Clear);}return this;};b.prototype._getLabel=function(){var c=this.getAggregation('_label');if(!c){var c=new L({id:this.getId()+"-label"});this.setAggregation('_label',c,true);c=this.getAggregation('_label');}return c;};b.prototype.showDraftSaving=function(){this._addToQueue(a.Saving);this._addToQueue(a.Clear);};b.prototype.showDraftSaved=function(){this._addToQueue(a.Saved);};b.prototype.clearDraftState=function(){this._addToQueue(a.Clear);};b.prototype._addToQueue=function(s){this.aQueue.push(s);this._processQueue();};b.prototype._processQueue=function(){if(this.iDelayedCallId){return;}var n=this.aQueue.shift();var t=this.getMinDisplayTime();if(!n){return;}this._applyState(n);if(n===a.Clear){this._proceed();return;}this.iDelayedCallId=setTimeout(this._proceed.bind(this),t);};b.prototype._proceed=function(){this._resetDraftTimer();this._processQueue();};b.prototype._applyState=function(s){this._getLabel().setText(b._oTEXTS[s]);};b.prototype._resetDraftTimer=function(){clearTimeout(this.iDelayedCallId);this.iDelayedCallId=null;};return b;});
sap.ui.predefine('sap/m/DraftIndicatorRenderer',[],function(){"use strict";var D={apiVersion:2};D.render=function(r,c){r.openStart("div",c);r.class("sapMDraftIndicator");r.openEnd();var l=c._getLabel();r.renderControl(l);r.close("div");};return D;},true);
sap.ui.predefine('sap/m/DynamicDate',['sap/m/DynamicDateUtil','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/base/util/each'],function(D,S,F,P,V,e){"use strict";var a=S.extend("sap.m.DynamicDate",{constructor:function(){this.sName="DynamicDate";S.apply(this,arguments);}});a.prototype.formatValue=function(v){var r={};if(!v){return;}r.operator=v.operator;r.values=v.values.slice(0);var b=D.getOption(v.operator).getValueTypes();r.values=r.values.map(function(v,i){if(b[i]==="date"){return t.parse(v);}return v;},this);return r;};a.prototype.parseValue=function(v){var r={},b;if(!v){return;}if(v.operator==="PARSEERROR"){throw new P(v.values[0]);}r.operator=v.operator;r.values=v.values.slice(0);b=D.getOption(v.operator).getValueTypes();r.values=r.values.map(function(v,i){if(b[i]==="date"){return t.format(v);}return v;},this);return r;};a.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),m=sap.ui.getCore().getLibraryResourceBundle("sap.m"),c=[],M=[],o=D.getOption(v.operator),d=o.toDates(this.formatValue(v)).map(function(u){return u.getTime();});if(d[0]===d[1]){d.length=1;}d.forEach(function(T,i){var E="DynamicDate.Invalid"+(i===0?"Start":"End");e(this.oConstraints,function(C,f){switch(C){case"minimum":if(T<f){c.push("minimum");M.push(m.getText(E,[new Date(T).toDateString()]));M.push(b.getText("Date.Minimum",[new Date(f).toDateString()]));}break;case"maximum":if(T>f){c.push("maximum");M.push(m.getText(E,[new Date(T).toDateString()]));M.push(b.getText("Date.Maximum",[new Date(f).toDateString()]));}break;}});},this);if(c.length>0){throw new V(this.combineMessages(M),c);}}};var t={format:function(v){if(v instanceof Date){return v.getTime();}return null;},parse:function(v){if(isNaN(v)){throw new F("Cannot format date: "+v+" is not a valid Timestamp");}else if(typeof(v)!=="number"){v=parseInt(v);}v=new Date(v);return v;}};return a;});
sap.ui.predefine('sap/m/DynamicDateFormat',['sap/ui/core/format/DateFormat','sap/ui/core/format/NumberFormat','sap/ui/core/Locale','sap/ui/core/LocaleData','./StandardDynamicDateRangeKeys',"sap/base/Log","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ui/core/date/UniversalDateUtils"],function(D,N,L,a,S,b,d,c,U){"use strict";var e=function(){throw new Error();};var _=sap.ui.getCore().getLibraryResourceBundle("sap.m");var g={};var h={};var p={"DATE":["date"],"DATERANGE":["date","date"],"LASTDAYS":["int"],"LASTWEEKS":["int"],"LASTMONTHS":["int"],"LASTQUARTERS":["int"],"LASTYEARS":["int"],"NEXTDAYS":["int"],"NEXTWEEKS":["int"],"NEXTMONTHS":["int"],"NEXTQUARTERS":["int"],"NEXTYEARS":["int"],"FROM":["date"],"TO":["date"],"SPECIFICMONTH":["month"],"TODAYFROMTO":["int","int"]};for(var i=0;i<S.length;i++){var k=S[i];var P=_.getText("DYNAMIC_DATE_"+k.toUpperCase()+"_FORMAT");var s=P.split('{').map(function(f){var C=f.indexOf('}');if(C!==-1){return f.slice(C+1);}return f;});g[k]=s;var l=[];var m=P.indexOf('{');var n=-1;var o=-1;while(m!==-1){n=P.indexOf('}');o=parseInt(P.slice(m+1,n-n-1));l.push(o);P=P.slice(n+1);m=P.indexOf('{');}h[k]=l;}e.getInstance=function(f,j){return this.createInstance(f,j);};e.oDefaultDynamicDateFormat={"date":{},"month":{pattern:"MMMM"},"int":{}};e.createInstance=function(F,j){var q=Object.create(this.prototype);if(F instanceof L){j=F;F=undefined;}if(!j){j=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();}q.oLocale=j;q.oLocaleData=a.getInstance(j);q.oOriginalFormatOptions=d({},e.oDefaultDynamicDateFormat,F);q._dateFormatter=D.getInstance(q.oOriginalFormatOptions["date"]);[q._dateFormatter].concat(q._dateFormatter.aFallbackFormats).forEach(function(f){f.parseRelative=function(){return null;};});q._monthFormatter=D.getInstance(q.oOriginalFormatOptions["month"]);q._numberFormatter=N.getInstance(q.oOriginalFormatOptions["int"]);q._resourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");return q;};e.prototype.format=function(O){var k=O.operator;var l=O.values.slice(0);if(k==="SPECIFICMONTH"){var f=new Date();f.setMonth(l[0]);l[0]=this._monthFormatter.format(f);}else if(k==="LASTDAYS"&&l[0]===1){k="YESTERDAY";l=[];}else if(k==="NEXTDAYS"&&l[0]===1){k="TOMORROW";l=[];}else if((k==="LASTDAYS"||k==="NEXTDAYS")&&l[0]===0){k="TODAY";l=[];}var F=l.map(function(j){if(j instanceof Date){return this._dateFormatter.format(j);}if(typeof(j)==="number"){return this._numberFormatter.format(j);}else{return j.toString();}},this);return this._resourceBundle.getText("DYNAMIC_DATE_"+k.toUpperCase()+"_FORMAT",F);};e.prototype.parse=function(v,k){var r;var s=g[k];var R="^"+s.join("(.*)")+"$";if(k==="TODAYFROMTO"){R=R.replace("+","\\+");}var f=new RegExp(R,"i");var q=v.match(f);if(q){r={};r.values=[];for(var j=0;j<h[k].length;j++){var I=h[k][j];var t=p[k][I];var V;var C=q[j+1];switch(t){case"date":V=this._dateFormatter.parse(C);break;case"month":var M=[0,1,2,3,4,5,6,7,8,9,10,11].map(function(i){var w=new Date();w.setMonth(i);return this._monthFormatter.format(w);},this);var u=M.indexOf(C);V=u!==-1?u:null;break;case"int":V=this._numberFormatter.parse(C);break;case"string":V=C;break;default:break;}if(!V){r=null;break;}r.values[I]=V;}if(r){r.operator=k;return r;}}};return e;});
sap.ui.predefine('sap/m/DynamicDateOption',['sap/ui/core/Element','./Label','./StepInput','sap/ui/unified/Calendar','sap/ui/unified/DateRange','sap/ui/unified/calendar/MonthPicker'],function(E,L,S,C,D,M){"use strict";var a=E.extend("sap.m.DynamicDateOption",{metadata:{library:"sap.m",properties:{key:{type:"string"},valueTypes:{type:"string[]",multiple:true}}}});a.prototype.getText=function(c){return this.getKey();};a.prototype.getValueHelpUITypes=function(c){throw new Error("Need implementation for method getValueHelpUITypes. Option: "+this.getKey());};a.prototype.createValueHelpUI=function(c,f){var v=c.getValue();var p=this.getValueHelpUITypes(c);var b=[];var I;if(!c.aControlsByParameters){c.aControlsByParameters={};}c.aControlsByParameters[this.getKey()]=[];for(var i=0;i<p.length;i++){if(p[i].getText()){b.push(new L({text:p[i].getText(),width:"100%"}));}I=this._createControl(i,p[i].getType(),v,f);b.push(I);c.aControlsByParameters[this.getKey()].push(I);}return b;};a.prototype.validateValueHelpUI=function(c){var p=this.getValueHelpUITypes();for(var i=0;i<p.length;i++){var I=c.aControlsByParameters[this.getKey()][i];switch(p[i].getType()){case"int":if(I._isLessThanMin(I.getValue())||I._isMoreThanMax(I.getValue())){return false;}break;case"month":case"date":case"daterange":if(!I.getSelectedDates()||I.getSelectedDates().length==0){return false;}break;}}return true;};a.prototype.getValueHelpOutput=function(c){var p=this.getValueHelpUITypes(),r={},o;r.operator=this.getKey();r.values=[];for(var i=0;i<p.length;i++){var I=c.aControlsByParameters[this.getKey()][i];switch(p[i].getType()){case"int":o=I.getValue();break;case"month":case"date":if(!I.getSelectedDates().length){return null;}o=I.getSelectedDates()[0].getStartDate();break;case"daterange":if(!I.getSelectedDates().length){return null;}var e=I.getSelectedDates()[0].getEndDate()||I.getSelectedDates()[0].getStartDate();o=[I.getSelectedDates()[0].getStartDate(),e];break;}if(Array.isArray(o)){r.values=Array.prototype.concat.apply(r.values,o);}else{o&&r.values.push(o);}}return r;};a.prototype.getGroup=function(){return 0;};a.prototype.getGroupHeader=function(){var g=(this.getGroup()>-1&&this.getGroup()<7)?this.getGroup():0;return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("DDR_OPTIONS_GROUP_"+g);};a.prototype.format=function(v){throw new Error("Need implementation for method format. Option: "+this.getKey());};a.prototype.parse=function(v){throw new Error("Need implementation for method parse. Option: "+this.getKey());};a.prototype.toDates=function(v){throw new Error("Need implementation for method toDates. Option: "+this.getKey());};a.prototype.enhanceFormattedValue=function(){return false;};a.prototype._createControl=function(i,u,v,c){var I;switch(u){case"int":I=this._createIntegerControl(v,i,c);break;case"date":I=this._createDateControl(v,i,c);break;case"daterange":I=this._createDateRangeControl(v,i,c);break;case"month":I=this._createMonthControl(v,i,c);break;}return I;};a.prototype._createIntegerControl=function(v,i,c){var o=new S({width:"120px"});if(v&&this.getKey()===v.operator){o.setValue(v.values[i]);}if(c instanceof Function){o.attachChange(function(){c(this);},this);}return o;};a.prototype._createDateControl=function(v,i,c){var o=new C({width:"100%"});if(v&&this.getKey()===v.operator){o.addSelectedDate(new D({startDate:v.values[i]}));}if(c instanceof Function){o.attachSelect(function(){c(this);},this);}return o;};a.prototype._createDateRangeControl=function(v,i,c){var o=new C({intervalSelection:true,width:"100%"});if(v&&this.getKey()===v.operator){o.addSelectedDate(new D({startDate:v.values[i],endDate:v.values[i+1]}));}if(c instanceof Function){o.attachSelect(function(){c(this);},this);}return o;};a.prototype._createMonthControl=function(v,i,c){var o=new M(),d=new Date(),m=(v&&this.getKey()===v.operator)?v.values[i]:d.getMonth();o.setMonth(m);o.addSelectedDate(new D({startDate:d}));if(c instanceof Function){o.attachSelect(function(){c(this);},this);}return o;};return a;});
sap.ui.predefine('sap/m/DynamicDateRange',['sap/ui/core/InvisibleText','sap/ui/core/Element','sap/ui/core/Control','sap/ui/core/ListItem','sap/ui/core/library',"sap/ui/core/Renderer",'sap/ui/core/message/MessageMixin','sap/m/DynamicDateFormat','sap/m/DynamicDateUtil','sap/ui/core/IconPool',"sap/ui/core/LabelEnablement",'sap/ui/core/format/DateFormat','sap/ui/base/ManagedObjectObserver','sap/ui/Device','./Label','./GroupHeaderListItem','./StandardListItem','./StandardListItemRenderer','./Button','./List','./Input','./InputRenderer','./Toolbar','./ResponsivePopover','./Page','./NavContainer','./DynamicDateRangeRenderer','./StandardDynamicDateOption','./StandardDynamicDateRangeKeys','sap/ui/dom/jquery/Focusable','./library'],function(I,E,C,L,c,R,M,D,d,e,f,g,h,i,j,G,S,k,B,l,m,n,T,p,P,N,q,r,s,F,t){"use strict";var V=c.ValueState,u=t.ToolbarDesign,v=t.ToolbarStyle,w=t.ListType,x=t.ListMode,y=t.ListSeparators,z=sap.ui.getCore().getLibraryResourceBundle("sap.m");var A=C.extend("sap.m.DynamicDateRange",{metadata:{library:"sap.m",properties:{value:{type:"object"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueStateText:{type:"string",group:"Misc",defaultValue:null},required:{type:"boolean",group:"Misc",defaultValue:false},enableGroupHeaders:{type:"boolean",group:"Behavior",defaultValue:true},formatter:{type:"object"},options:{type:"string[]",group:"Behavior",defaultValue:[]}},aggregations:{_input:{type:"sap.m.Input",multiple:false,visibility:"hidden"},_popup:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{change:{parameters:{value:{type:"object"},valid:{type:"boolean"}}}}},renderer:q});M.call(A.prototype);A.prototype.init=function(){this._oInput=new J(this.getId()+"-input",{showValueHelp:true,valueHelpIconSrc:e.getIconURI("sap-icon://check-availability"),valueHelpRequest:this._toggleOpen.bind(this),showSuggestion:true,suggest:this._handleSuggest.bind(this)});this._oListItemDelegate=undefined;this._onBeforeInputRenderingDelegate={onBeforeRendering:function(){this._oInput._getValueHelpIcon().setVisible(true);}};this._oInput._getValueHelpIcon().setTooltip(z.getText("INPUT_VALUEHELP_BUTTON"));this._oInput.addDelegate(this._onBeforeInputRenderingDelegate,this);this.setAggregation("_input",this._oInput,false);this._oInput._setControlOrigin(this);this._oInput.attachChange(this._handleInputChange,this);this.oValueObserver=new h(function(){delete this.oBoundValueFormatter;}.bind(this));this.oValueObserver.observe(this,{bindings:["value"]});};A.prototype.exit=function(){this._oInput.removeDelegate(this._onBeforeInputRenderingDelegate);this._onBeforeInputRenderingDelegate=undefined;this.oValueObserver.destroy();this._infoDatesFooter=undefined;this.aInputControls=undefined;this._removeAllListItemDelegates();};A.prototype._removeAllListItemDelegates=function(){if(this._oOptionsList){this._oOptionsList.getItems().forEach(function(o){o.removeDelegate(this._oListItemDelegate);},this);}};A.prototype.onBeforeRendering=function(){this._updateInputValue(this.getValue());this._oInput.setEditable(this.getEditable());this._oInput.setEnabled(this.getEnabled());this._oInput.setRequired(this.getRequired());this._oInput.setName(this.getName());this._oInput.setWidth(this.getWidth());this._oInput.setPlaceholder(this.getPlaceholder());this._oInput.setValueState(this.getValueState());this._oInput.setValueStateText(this.getValueStateText());};A.prototype.setValue=function(o){o=this._substitudeValue(o);this.setProperty("value",o);this._updateInputValue(o);return this;};A.prototype._toggleOpen=function(){if(this._oPopup&&this._oPopup.isOpen()){this._closePopup();}else{this.open();}};A.prototype.open=function(){if(this.getEditable()&&this.getEnabled()){this._createPopup();this._createPopupContent();if(!this._oListItemDelegate){this._oListItemDelegate={onsapshow:this._closePopup.bind(this),onsaphide:this._closePopup.bind(this)};}this._removeAllListItemDelegates();this._oOptionsList.destroyAggregation("items");this._createValueHelpItems().forEach(function(o){o.addDelegate(this._oListItemDelegate,this);this._oOptionsList.addItem(o);},this);this._oNavContainer.to(this._oNavContainer.getPages()[0]);this._openPopup();}};A.prototype.addOption=function(a){var o=this.getOptions();if(o.indexOf(a)===-1){o.push(a);}this.setOptions(o);};A.prototype.getFocusDomRef=function(){return this.getAggregation("_input")&&this.getAggregation("_input").getFocusDomRef();};A.prototype._updateInputValue=function(o){var a;if(o&&o.operator!=="PARSEERROR"){a=this._enhanceInputValue(this._formatValue(o),o);this._oInput.setValue(a);}};A.prototype._handleSuggest=function(o){if(this._oPopup&&this._oPopup.isOpen()){this._closePopup();}var Q=o.getParameter("suggestValue");this._oInput.removeAllSuggestionItems();var a=this._getOptions().filter(function(O){var U={operator:O.getKey(),values:[]},W=O.getValueHelpUITypes(this);if(W.length&&W[0].getType()){return false;}var X=d.getOption(U.operator).format(U,this._getFormatter()).toLowerCase();var Y=X.indexOf(Q.toLowerCase());return Y===0||(Y>0&&X[Y-1]===" ");},this);a.forEach(function(O){var U={operator:O.getKey(),values:[]};this._addSuggestionItem(U);},this);var b=Q.match(/\d+/);if(!b){return;}a=this._getOptions().filter(function(O){return O.getValueHelpUITypes(this).length===1&&O.getValueHelpUITypes(this)[0].getType()==="int";},this);a.forEach(function(O){var U={operator:O.getKey(),values:[parseInt(b[0])]};this._addSuggestionItem(U);},this);};A.prototype._getOptions=function(){var O=this.getOptions();var a=O.map(function(b){return d.getOption(b);},this);return a.filter(function(o){return!!o;});};A.prototype._getDatesLabelFormatter=function(){if(!this._oDatesLabelFormatter){var o=Object.create(this._getFormatter()._dateFormatter.oFormatOptions);o.interval=true;this._oDatesLabelFormatter=g.getInstance(o);}return this._oDatesLabelFormatter;};A.prototype._destroyInputControls=function(){if(!this.aInputControls){return;}this.aInputControls.forEach(function(o){o.destroy();});this.aInputControls=undefined;};A.prototype._addSuggestionItem=function(o){var a=d.toDates(o);var b=new L({text:d.getOption(o.operator).format(o,this._getFormatter()),additionalText:this._getDatesLabelFormatter().format(a)});this._oInput.addSuggestionItem(b);};A.prototype._handleInputChange=function(o){var a=o.getParameter("value");var b=this._parseValue(this._stripValue(a));var O=this.getValue();var Q=a.trim()===""||!!b;if(!Q){this.setValue({operator:"PARSEERROR",values:[z.getText("DDR_WRONG_VALUE"),a]});}else{this.setValue(b);}this.fireChange({value:this.getValue(),prevValue:O,valid:Q});};A.prototype._enhanceInputValue=function(a,o){if(d.getOption(o.operator).enhanceFormattedValue()||(o.operator==="LASTDAYS"&&o.values[0]<=1)||(o.operator==="NEXTDAYS"&&o.values[0]<=1)){return a+" ("+this._toDatesString(o)+")";}return a;};A.prototype._stripValue=function(a){var o=a.indexOf("(");var b=a.lastIndexOf(")");var O=a;if(o!==-1&&b!==-1&&o<b){O=a.slice(0,o)+a.slice(b+1);O=O.trim();}return O;};A.prototype._toDatesString=function(o){return this._getDatesLabelFormatter().format(d.toDates(o));};A.prototype._createPopup=function(){if(!this._oPopup){this._oPopup=new p(this.getId()+"-RP",{contentHeight:'470px',contentWidth:_(this.getDomRef())?'272px':'320px',showCloseButton:false,showArrow:false,showHeader:false,placement:t.PlacementType.VerticalPreferedBottom,ariaLabelledBy:[I.getStaticId("sap.m","INPUT_AVALIABLE_VALUES")]});this._oPopup.addStyleClass("sapMDDRPopover");if(i.system.phone){this._oPopup.addStyleClass("sapUiNoContentPadding");}else{this._oPopup._oControl._getSingleNavContent=function(){return null;};}this._oPopup.attachAfterOpen(function(){var o=this._oNavContainer.getPages()[0];this._applyNavContainerPageFocus(o);this.invalidate();},this);this._oPopup.attachAfterClose(function(){this._setFooterVisibility(false);this.invalidate();},this);this._oPopup.setBeginButton(new B({type:t.ButtonType.Emphasized,text:z.getText("DYNAMIC_DATE_RANGE_CONFIRM"),press:this._applyValue.bind(this)}));this._oPopup.setEndButton(new B({text:z.getText("DYNAMIC_DATE_RANGE_CANCEL"),press:this._closePopup.bind(this)}));this._setFooterVisibility(false);this._oPopup._getPopup().setAutoClose(true);this.setAggregation("_popup",this._oPopup,true);}};A.prototype._createValueHelpItems=function(){var o;var O;var Q=[];var U=this._getOptions();U.sort(function(a,b){var W=a.getGroup()-b.getGroup();if(W){return W;}return s.indexOf(a.getKey())-s.indexOf(b.getKey());});U=U.reduce(function(a,b){if(r.LastXKeys.indexOf(b.getKey())!==-1){if(o){return a;}o=true;}if(r.NextXKeys.indexOf(b.getKey())!==-1){if(O){return a;}O=true;}a.push(b);return a;},[]);if(this.getEnableGroupHeaders()){U=U.reduce(function(a,b){var W=b.getGroupHeader();if(Q.indexOf(W)===-1){Q.push(W);a.push(W);}a.push(b);return a;},[]);}return U.map(function(a){if(typeof(a)==="string"){return this._createHeaderListItem(a);}return this._createListItem(a);},this);};A.prototype._createListItem=function(o){var b=this._isFixedOption(o);return new K({type:b?w.Active:w.Navigation,title:o.getText(this),wrapping:true,optionKey:o.getKey(),press:this._handleOptionPress.bind(this)});};A.prototype._createHeaderListItem=function(a){var o=new G();o.setTitle(a);o._bGroupHeader=true;return o;};A.prototype._handleOptionPress=function(o){var O=o.getSource().getOptionKey(),a=d.getOption(O);this._oSelectedOption=a;if(this._isFixedOption(a)){this._applyValue();}else{var b=this._createInfoDatesFooter();this._destroyInputControls();this.aInputControls=a.createValueHelpUI(this,this._updateInternalControls.bind(this));var Q=this._oNavContainer.getPages()[1];Q.removeAllContent();this.aInputControls.forEach(function(U){Q.addContent(U);});Q.setFooter(b);Q.setTitle(a.getText(this));this._setFooterVisibility(true);this._updateInternalControls(a);this._oNavContainer.to(Q);}};A.prototype._isFixedOption=function(o){return!o.getValueHelpUITypes(this).length;};A.prototype._createInfoDatesFooter=function(){this._infoDatesFooter=new T({design:u.Info,style:v.Clear,content:[new j({text:z.getText("DDR_INFO_DATES_EMPTY_HINT")})]});return this._infoDatesFooter;};A.prototype._getDatesLabel=function(){return this._infoDatesFooter.getContent()[0];};A.prototype._updateDatesLabel=function(){var o=this._oSelectedOption.getValueHelpOutput(this),a,b;if(!o||!o.operator||!d.getOption(o.operator)){return;}a=d.toDates(o);if(a){b=this._getDatesLabelFormatter().format(a);this._getDatesLabel().setText(z.getText("DDR_INFO_DATES",[b]));}};A.prototype._setApplyButtonEnabled=function(b){if(!this._oPopup){return;}var a=this._oPopup.getBeginButton();if(a.getVisible()){a.setEnabled(b);}};A.prototype._updateInternalControls=function(o){var b=o.validateValueHelpUI(this);if(b){this._updateDatesLabel();}this._setApplyButtonEnabled(b);};A.prototype._setFooterVisibility=function(b){var o;if(!this._oPopup){return;}o=this._oPopup.getAggregation("_popup");if(i.system.phone){this._oPopup.getBeginButton().setVisible(b);}else{o.getFooter().setVisible(b);}o.invalidate();return this;};A.prototype._createPopupContent=function(){var o=new P({showHeader:false,showNavButton:false}),a=new P({showHeader:true,showNavButton:true}).addStyleClass("sapMDynamicDateRangePopover");a.attachNavButtonPress(function(){this._setFooterVisibility(false);this._oNavContainer.back();},this);if(i.system.phone){o.setShowHeader(true);o.setTitle(this._getOptionsPageTitleText());}if(!this._oOptionsList){this._oOptionsList=new l({showSeparators:y.None,mode:x.None});}if(!this._oNavContainer){this._oNavContainer=new N({autoFocus:false});this._oNavContainer.addPage(o);this._oNavContainer.setInitialPage(o);this._oNavContainer.addPage(a);this._oNavContainer.attachAfterNavigate(this._navContainerAfterNavigate,this);this._oPopup.addContent(this._oNavContainer);}this._oNavContainer.getPages()[0].removeAllContent();this._oNavContainer.getPages()[0].addContent(this._oOptionsList);return this._oOptionsList;};A.prototype._applyNavContainerPageFocus=function(o){var a=this.getValue(),O=this._oNavContainer.getPages()[0],b;if(o===O&&a){b=this._oOptionsList.getItems().find(function(Q){return Q.isA("sap.m.DynamicDateRangeListItem")&&(Q.getOptionKey()===a.operator);});}if(!b){b=jQuery(o.getDomRef().querySelector("section")).firstFocusableDomRef();}b.focus();this._reApplyFocusToElement(o,a);};A.prototype._reApplyFocusToElement=function(o,a){};A.prototype._getOptionsPageTitleText=function(){return f.getReferencingLabels(this).concat(this.getAriaLabelledBy()).reduce(function(a,b){var o=E.registry.get(b);return a+" "+(o.getText?o.getText():"");},"").trim();};A.prototype._navContainerAfterNavigate=function(o){var O=this._oNavContainer.getPages()[1],a=o.getParameters()["to"];if(a===O){this.aInputControls.forEach(function(b){if(jQuery(b.getDomRef()).firstFocusableDomRef()){b.addAriaLabelledBy(a.getAggregation("_internalHeader"));if(!this._isCalendarBasedControl(b)&&b.addAriaDescribedBy){b.addAriaDescribedBy(a.getFooter().getContent()[0]);}}},this);}if(this._oPopup&&this._oPopup.isOpen()){this._applyNavContainerPageFocus(a);}else{this.focus();}};A.prototype._isCalendarBasedControl=function(o){return o.isA("sap.ui.unified.Calendar")||o.isA("sap.ui.unified.calendar.CustomMonthPicker")||o.isA("sap.ui.unified.calendar.MonthPicker")||o.isA("sap.ui.unified.calendar.YearPicker")||o.isA("sap.ui.unified.calendar.YearRangePicker")||o.isA("sap.ui.unified.calendar.Month");};A.prototype._openPopup=function(){if(!this._oPopup){return;}this._oPopup._getPopup().setAutoCloseAreas([this._oInput.getDomRef()]);this._oPopup.openBy(this._oInput);};A.prototype._applyValue=function(){this._oOutput=this._oSelectedOption.getValueHelpOutput(this);var a=this.getValue();this.setValue(this._oOutput);this.fireChange({prevValue:a,value:this.getValue(),valid:true});this._closePopup();};A.prototype._closePopup=function(){this._setFooterVisibility(false);this._oNavContainer.to(this._oNavContainer.getPages()[0]);this._oPopup.close();};A.prototype._getFormatter=function(){var o=this.getFormatter(),b;if(o){return o;}if(this.oBoundValueFormatter){return this.oBoundValueFormatter;}b=this.getBinding("value");if(b&&b.getType()){this.oBoundValueFormatter=D.getInstance(b.getType().oFormatOptions);return this.oBoundValueFormatter;}if(!this.oDefaultFormatter){this.oDefaultFormatter=D.getInstance();}return this.oDefaultFormatter;};A.prototype._formatValue=function(o){return d.getOption(o.operator).format(o,this._getFormatter());};A.prototype._parseValue=function(a){var b=d.parse(a,this._getFormatter(),this.getOptions()).filter(function(o){return this.getOptions().indexOf(o.operator)!==-1;},this);return b.length?b[0]:null;};A.prototype._substitudeValue=function(o){var a,b,O;if(!o||!o.operator||!o.values){return o;}a=o.operator;b=o.values;if(a==="LASTDAYS"&&b[0]===1){O={operator:"YESTERDAY",values:[]};}else if(a==="NEXTDAYS"&&b[0]===1){O={operator:"TOMORROW",values:[]};}else if((a==="LASTDAYS"||a==="NEXTDAYS")&&b[0]===0){O={operator:"TODAY",values:[]};}return O?O:o;};var H=R.extend(n);H.apiVersion=2;H.getAriaRole=function(o){return"combobox";};H.writeInnerAttributes=function(o,a){o.attr("type","text");};H.getAccessibilityState=function(o){var a=n.getAccessibilityState(o),b=o._getControlOrigin(),O=b.getAriaLabelledBy(),Q=f.getReferencingLabels(b),U=b.getAriaDescribedBy().join(" "),W;W=Q.concat(O).join(" ");if(U){a.describedby=U;}if(W){a.labelledby=W;}a.roledescription=z.getText("ACC_CTR_TYPE_DYNAMIC_DATE_RANGE");a.role=this.getAriaRole();a.expanded=b._oPopup?b._oPopup.isOpen():false;a.haspopup=c.aria.HasPopup.ListBox.toLowerCase();a.autocomplete="list";a.controls=b._oPopup&&b._oPopup.getDomRef()?b._oPopup.getDomRef().id:undefined;return a;};var J=m.extend("sap.m.internal.DynamicDateRangeInput",{metadata:{library:"sap.m"},renderer:H});J.prototype._setControlOrigin=function(o){this._oOriginControl=o;return this._oOriginControl;};J.prototype._getControlOrigin=function(){return this._oOriginControl;};J.prototype.preventChangeOnFocusLeave=function(o){return this.bFocusoutDueRendering;};var K=S.extend("sap.m.DynamicDateRangeListItem",{metadata:{library:"sap.m",properties:{optionKey:{type:"string",group:"Misc",defaultValue:null}}},renderer:k});K.prototype.getNavigationControl=function(){var o=S.prototype.getNavigationControl.apply(this,arguments),b=["SPECIFICMONTH","DATE","DATERANGE","FROM","TO"].includes(this.getOptionKey()),a=b?e.getIconURI("appointment-2"):e.getIconURI("slim-arrow-right");if(b){o.addStyleClass("sapMDDRDateOption");}o.setSrc(a);return o;};function _(o){var a=o;while(a&&a.classList){if(a.classList.contains("sapUiSizeCompact")){return true;}a=a.parentNode;}return false;}return A;});
sap.ui.predefine('sap/m/DynamicDateRangeRenderer',["sap/m/InputBaseRenderer",'sap/ui/core/Renderer'],function(I,R){"use strict";var D={apiVersion:2};D.render=function(r,c){r.openStart("div",c);r.class("sapMDynamicDateRange");r.openEnd();r.renderControl(c._oInput);r.close("div");};return D;});
sap.ui.predefine('sap/m/DynamicDateUtil',["./StandardDynamicDateOption","./StandardDynamicDateRangeKeys","sap/base/Log"],function(S,a,L){"use strict";var D={_options:{"TODAY":new S({key:"TODAY",valueTypes:[]}),"YESTERDAY":new S({key:"YESTERDAY",valueTypes:[]}),"TOMORROW":new S({key:"TOMORROW",valueTypes:[]}),"THISWEEK":new S({key:"THISWEEK",valueTypes:[]}),"THISMONTH":new S({key:"THISMONTH",valueTypes:[]}),"THISQUARTER":new S({key:"THISQUARTER",valueTypes:[]}),"THISYEAR":new S({key:"THISYEAR",valueTypes:[]}),"LASTWEEK":new S({key:"LASTWEEK",valueTypes:[]}),"LASTMONTH":new S({key:"LASTMONTH",valueTypes:[]}),"LASTQUARTER":new S({key:"LASTQUARTER",valueTypes:[]}),"LASTYEAR":new S({key:"LASTYEAR",valueTypes:[]}),"NEXTWEEK":new S({key:"NEXTWEEK",valueTypes:[]}),"NEXTMONTH":new S({key:"NEXTMONTH",valueTypes:[]}),"NEXTQUARTER":new S({key:"NEXTQUARTER",valueTypes:[]}),"NEXTYEAR":new S({key:"NEXTYEAR",valueTypes:[]}),"LASTDAYS":new S({key:"LASTDAYS",valueTypes:["int"]}),"LASTWEEKS":new S({key:"LASTWEEKS",valueTypes:["int"]}),"LASTMONTHS":new S({key:"LASTMONTHS",valueTypes:["int"]}),"LASTQUARTERS":new S({key:"LASTQUARTERS",valueTypes:["int"]}),"LASTYEARS":new S({key:"LASTYEARS",valueTypes:["int"]}),"NEXTDAYS":new S({key:"NEXTDAYS",valueTypes:["int"]}),"NEXTWEEKS":new S({key:"NEXTWEEKS",valueTypes:["int"]}),"NEXTMONTHS":new S({key:"NEXTMONTHS",valueTypes:["int"]}),"NEXTQUARTERS":new S({key:"NEXTQUARTERS",valueTypes:["int"]}),"NEXTYEARS":new S({key:"NEXTYEARS",valueTypes:["int"]}),"FROM":new S({key:"FROM",valueTypes:["date"]}),"TO":new S({key:"TO",valueTypes:["date"]}),"YEARTODATE":new S({key:"YEARTODATE",valueTypes:[]}),"TODAYFROMTO":new S({key:"TODAYFROMTO",valueTypes:["int","int"]}),"QUARTER1":new S({key:"QUARTER1",valueTypes:[]}),"QUARTER2":new S({key:"QUARTER2",valueTypes:[]}),"QUARTER3":new S({key:"QUARTER3",valueTypes:[]}),"QUARTER4":new S({key:"QUARTER4",valueTypes:[]}),"SPECIFICMONTH":new S({key:"SPECIFICMONTH",valueTypes:["int"]}),"DATERANGE":new S({key:"DATERANGE",valueTypes:["date","date"]}),"DATE":new S({key:"DATE",valueTypes:["date"]})},_allKeys:a.slice(0)};D.addOption=function(o){if(!o||!o.getKey()){return;}var k=o.getKey();D._options[k]=o;if(D._allKeys.indexOf(k)===-1){D._allKeys.push(k);}};D.getAllOptionKeys=function(){return D._allKeys.slice(0);};D.getOption=function(k){return D._options[k];};D.parse=function(v,f,o){if(typeof v!=='string'){L.error("DynamicDateFormat can only parse a String.");return[];}var r=[],R;o=o||Object.keys(D._options);var O=o.sort(function(k,K){return a.indexOf(k)-a.indexOf(K);}).map(function(k){return D._options[k];});for(var i=0;i<O.length;i++){R=O[i]&&O[i].parse(v.trim(),f);if(R){R.operator=O[i].getKey();r.push(R);}}return r;};D.toDates=function(v){var k=v.operator;return D._options[k].toDates(v);};return D;},true);
sap.ui.predefine('sap/m/DynamicDateValueHelpUIType',['sap/ui/core/Element'],function(E){"use strict";var D=E.extend("sap.m.DynamicDateValueHelpUIType",{metadata:{library:"sap.m",properties:{type:{type:"string"},text:{type:"string"},options:{type:"string[]",multiple:true,defaultValue:null}}}});return D;});
sap.ui.predefine('sap/m/ExpandableText',['./library','sap/ui/core/Core','sap/ui/core/Control','sap/ui/core/library','sap/ui/Device','sap/ui/base/ManagedObject','sap/m/Link','sap/m/Text','sap/m/Button','sap/m/ResponsivePopover','sap/m/HyphenationSupport',"./ExpandableTextRenderer"],function(l,C,a,c,D,M,L,T,B,R,H,E){"use strict";var r=C.getLibraryResourceBundle("sap.m");var b=r.getText("EXPANDABLE_TEXT_SHOW_MORE");var d=r.getText("EXPANDABLE_TEXT_SHOW_LESS");var e=r.getText("MSGBOX_CLOSE");var f=c.TextAlign;var g=c.TextDirection;var A=c.aria.HasPopup;var W=l.WrappingType;var P=l.PlacementType;var h=l.ExpandableTextOverflowMode;var i=l.EmptyIndicatorMode;function j(t){return t.replace(/ {2,}/g,' ').replace(/\t{2,}/g,' ');}var k=a.extend("sap.m.ExpandableText",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.m.IHyphenation"],library:"sap.m",properties:{text:{type:"string",defaultValue:'',bindable:"bindable"},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:g.Inherit},wrappingType:{type:"sap.m.WrappingType",group:"Appearance",defaultValue:W.Normal},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:f.Begin},renderWhitespace:{type:"boolean",group:"Appearance",defaultValue:false},overflowMode:{type:"sap.m.ExpandableTextOverflowMode",group:"Appearance",defaultValue:h.InPlace},maxCharacters:{type:"int",group:"Appearance",defaultValue:100},expanded:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:i.Off}},aggregations:{_showMoreLink:{type:'sap.m.Link',multiple:false,visibility:"hidden"}},designtime:"sap/m/designtime/ExpandableText.designtime"}});k.prototype.getText=function(n){var t=this.getProperty("text");if(n){return t.replace(/\r\n|\n\r|\r/g,"\n");}return t;};k.prototype.getTextDomRef=function(){if(!this.getVisible()){return null;}return this.getDomRef("string");};k.prototype._isExpandable=function(){var t=this.getText();if(!this.getRenderWhitespace()){t=j(t);}return t.length>this._getMaxCharacters()+b.length;};k.prototype._getMaxCharacters=function(){return Math.max(0,this.getMaxCharacters());};k.prototype._getDisplayedText=function(){var t=this.getText(true);if(this.getProperty("expanded")||!this._isExpandable()){return t;}if(!this.getRenderWhitespace()){t=j(t);}return t.substring(0,this._getMaxCharacters());};k.prototype._getShowMoreLink=function(){var s=this.getAggregation('_showMoreLink');if(!s){s=new L(this.getId()+'-showMoreLink',{text:this.getProperty("expanded")?d:b,press:function(o){var t,m,p;if(this.getOverflowMode()===h.InPlace){m=!this.getProperty("expanded");s.setText(m?d:b);this.setProperty("expanded",m);}else{t=new T({text:M.escapeSettingsValue(this.getText()),textDirection:this.getTextDirection(),wrappingType:this.getWrappingType(),textAlign:this.getTextAlign(),renderWhitespace:this.getRenderWhitespace()}).addStyleClass("sapUiSmallMargin").addStyleClass("sapMExTextPopover");p=this._oPopover;if(p&&p.isOpen()){p.close();return;}if(!p){p=this._oPopover=new R({showHeader:false,placement:P.HorizontalPreferredRight,beforeClose:this._onPopoverBeforeClose.bind(this)});if(D.system.phone){p.setEndButton(new B({text:e,press:function(){p.close();}}));}this.addDependent(p);}s.setText(d);s.rerender();p.removeAllAriaLabelledBy();p.destroyContent();p.addAriaLabelledBy(t);p.addContent(t);p.openBy(o.getSource());}}.bind(this)});this.setAggregation("_showMoreLink",s,true);}s.setAriaHasPopup(this.getOverflowMode()===h.InPlace?A.None:A.Dialog);return s;};k.prototype._onPopoverBeforeClose=function(){this._getShowMoreLink().setText(b);};k.prototype.exit=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};k.prototype.getAccessibilityInfo=function(){return{description:this.getText()};};k.prototype.getTextsToBeHyphenated=function(){return{"main":this._getDisplayedText(true)};};k.prototype.getDomRefsForHyphenatedTexts=function(){return{"main":this.getTextDomRef()};};H.mixInto(k.prototype);return k;});
sap.ui.predefine('sap/m/ExpandableTextRenderer',['sap/ui/core/Core','sap/ui/core/Renderer','sap/ui/core/library','sap/m/HyphenationSupport','./library'],function(C,R,c,H,m){"use strict";var T=c.TextDirection;var W=m.WrappingType;var E=m.EmptyIndicatorMode;var r=C.getLibraryResourceBundle("sap.m");var a={apiVersion:2};a.render=function(o,t){var d=t._getDisplayedText(),s=t.getTextDirection(),b=t.getTooltip_AsString(),w=t.getWrappingType(),e=t.getTextAlign(),f=t.getRenderWhitespace(),g=t._isExpandable(),h=t.getProperty("expanded"),i=h?" ":"... ";o.openStart("div",t);o.class("sapMExText");o.class("sapUiSelectable");if(w!==W.Hyphenated){if(d&&d.length>0&&!/\s/.test(d)){o.class("sapMExTextBreakWord");}}o.attr("dir",s!==T.Inherit?s.toLowerCase():"auto");if(b){o.attr("title",b);}if(e){e=R.getTextAlign(e,s);if(e){o.style("text-align",e);}}if(f){o.class("sapMExTextRenderWhitespaceWrap");}H.writeHyphenationClass(o,t);o.openEnd();o.openStart("span",t.getId()+"-string");o.class("sapMExTextString");o.openEnd();a.renderText(o,t);o.close("span");if(g){o.openStart("span");o.class("sapMExTextEllipsis");o.openEnd();o.unsafeHtml(i);o.close("span");o.renderControl(t._getShowMoreLink());}o.close("div");};a.renderText=function(o,t){if(t.getEmptyIndicatorMode()!==E.Off&&!t.getText()){this.renderEmptyIndicator(o,t);}else{o.text(H.getTextForRender(t,"main"));}};a.renderEmptyIndicator=function(o,t){o.openStart("span");o.class("sapMEmptyIndicator");if(t.getEmptyIndicatorMode()===E.Auto){o.class("sapMEmptyIndicatorAuto");}o.openEnd();o.openStart("span");o.attr("aria-hidden",true);o.openEnd();o.text(r.getText("EMPTY_INDICATOR"));o.close("span");o.openStart("span");o.class("sapUiPseudoInvisibleText");o.openEnd();o.text(r.getText("EMPTY_INDICATOR_TEXT"));o.close("span");o.close("span");};return a;},true);
sap.ui.predefine('sap/m/FacetFilter',['./NavContainer','./library','sap/ui/core/Control','sap/ui/core/CustomData','sap/ui/core/IconPool','sap/ui/core/delegate/ItemNavigation','sap/ui/core/InvisibleText','sap/ui/core/IntervalTrigger','sap/ui/Device','sap/ui/core/Icon','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/json/JSONModel','./FacetFilterRenderer',"sap/ui/events/KeyCodes","sap/base/assert","sap/base/Log","sap/ui/events/jquery/EventSimulation","sap/ui/thirdparty/jquery","sap/m/Button","sap/m/ToolbarSpacer","sap/m/OverflowToolbar","sap/m/Text","sap/m/Toolbar","sap/m/Popover","sap/m/SearchField","sap/m/Bar","sap/m/Dialog","sap/m/List","sap/m/StandardListItem","sap/m/CheckBox","sap/m/Page","sap/ui/dom/jquery/scrollRightRTL","sap/ui/dom/jquery/scrollLeftRTL","sap/ui/dom/jquery/Selectors"],function(N,l,C,a,I,b,c,d,D,e,F,f,J,g,K,h,L,E,q,B,T,O,m,n,P,S,o,p,r,s,t,u){"use strict";var v=l.ToolbarDesign;var w=l.ListType;var x=l.ListMode;var y=l.FacetFilterListDataType;var z=l.ButtonType;var A=l.PlacementType;var G=l.FacetFilterType;var H=500;var M=C.extend("sap.m.FacetFilter",{metadata:{interfaces:["sap.ui.core.IShrinkable"],library:"sap.m",properties:{showPersonalization:{type:"boolean",group:"Appearance",defaultValue:false},type:{type:"sap.m.FacetFilterType",group:"Appearance",defaultValue:G.Simple},liveSearch:{type:"boolean",group:"Behavior",defaultValue:true},showSummaryBar:{type:"boolean",group:"Behavior",defaultValue:false},showReset:{type:"boolean",group:"Behavior",defaultValue:true},showPopoverOKButton:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"lists",aggregations:{lists:{type:"sap.m.FacetFilterList",multiple:true,singularName:"list"},buttons:{type:"sap.m.Button",multiple:true,singularName:"button",visibility:"hidden"},removeFacetIcons:{type:"sap.ui.core.Icon",multiple:true,singularName:"removeFacetIcon",visibility:"hidden"},popover:{type:"sap.m.Popover",multiple:false,visibility:"hidden"},addFacetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},summaryBar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"},resetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},arrowLeft:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},arrowRight:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{reset:{},confirm:{}}}});M.SCROLL_STEP=264;M.prototype.setType=function(i){var j,k;if(D.system.phone){this.setProperty("type",G.Light);k=true;}else{this.setProperty("type",i);k=(i===G.Light);}j=this._getSummaryBar();j.setActive(k);if(i===G.Light){if(this.getShowReset()){this._addResetToSummary(j);}else{this._removeResetFromSummary(j);}}return this;};M.prototype.setShowReset=function(V){this.setProperty("showReset",V);var i=this._getSummaryBar();if(V){if(this.getShowSummaryBar()||this.getType()===G.Light){this._addResetToSummary(i);}}else{if(this.getShowSummaryBar()||this.getType()===G.Light){this._removeResetFromSummary(i);}}return this;};M.prototype.setShowSummaryBar=function(V){this.setProperty("showSummaryBar",V);if(V){var i=this._getSummaryBar();if(this.getShowReset()){this._addResetToSummary(i);}else{this._removeResetFromSummary(i);}i.setActive(this.getType()===G.Light);}return this;};M.prototype.setLiveSearch=function(V){this.setProperty("liveSearch",V);if(this._displayedList){var i=this._displayedList;var j=sap.ui.getCore().byId(i.getAssociation("search"));j.detachLiveChange(i._handleSearchEvent,i);if(V){j.attachLiveChange(i._handleSearchEvent,i);}}return this;};M.prototype.getLists=function(){var i=this.getAggregation("lists");if(!i){i=[];}if(this._displayedList){i.splice(this._listAggrIndex,0,this._displayedList);}i.forEach(function(j){if(!j.hasListeners("listItemsChange")){j.attachEvent("listItemsChange",_.bind(this));}}.bind(this));return i;};function _(i){var j=i.getSource();if(this._oAllCheckBoxBar){this._oAllCheckBoxBar.setVisible(Boolean(j.getItems(true).length));}}M.prototype.removeAggregation=function(){var i=C.prototype.removeAggregation.apply(this,arguments);if(arguments[0]==="lists"){this._removeList(i);}return i;};M.prototype.openFilterDialog=function(){var i=this._getFacetDialog();var j=this._getFacetDialogNavContainer();i.addContent(j);this.getLists().forEach(function(k){if(k.getMode()===x.MultiSelect){k._preserveOriginalActiveState();}});i.setInitialFocus(j.getPages()[0].getContent()[0].getItems()[0]);i.open();return this;};M.prototype.init=function(){this._pageSize=5;this._invalidateFlag=false;this._lastCategoryFocusIndex=0;this._aDomRefs=null;this._previousTarget=null;this._addTarget=null;this._aRows=null;this._bundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.data("sap-ui-fastnavgroup","true",true);this._buttons={};this._aOwnedLabels=[];this._removeFacetIcons={};this._listAggrIndex=-1;this._displayedList=null;this._lastScrolling=false;this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;this._popoverClosing=false;this._getAddFacetButton();this.setAggregation("resetButton",this._createResetButton());if(E.touchEventMode==="ON"&&!D.system.phone){this._enableTouchSupport();}if(D.system.phone){this.setType(G.Light);}};M.prototype.exit=function(){var i;d.removeListener(this._checkOverflow,this);if(this.oItemNavigation){this.removeDelegate(this.oItemNavigation);this.oItemNavigation.destroy();}if(this._aOwnedLabels){this._aOwnedLabels.forEach(function(j){i=sap.ui.getCore().byId(j);if(i){i.destroy();}});this._aOwnedLabels=null;}if(this._oAllCheckBoxBar){this._oAllCheckBoxBar=undefined;}};M.prototype.onBeforeRendering=function(){if(this.getShowSummaryBar()||this.getType()===G.Light){var i=this._getSummaryBar();var j=i.getContent()[0];j.setText(this._getSummaryText());}d.removeListener(this._checkOverflow,this);};M.prototype.onAfterRendering=function(){var i=this.getShowSummaryBar(),j=this.getType(),k=this._getSummaryBar().$();if(j!==G.Light&&!D.system.phone){d.addListener(this._checkOverflow,this);}if(j!==G.Light){this._startItemNavigation();this.addDelegate(this.oItemNavigation);}if(j===G.Light){k.attr("aria-roledescription",this._bundle.getText("FACETFILTER_ACTIVE_TITLE"));k.attr("role","group");}else if(i){k.attr("aria-roledescription",this._bundle.getText("FACETFILTER_TITLE"));}};M.prototype._startItemNavigation=function(){var j=this.getDomRef(),R=j.getElementsByClassName("sapMFFHead"),k=[];if(R.length>0){for(var i=0;i<R[0].childNodes.length;i++){if(R[0].childNodes[i].id.indexOf("ff")<0&&R[0].childNodes[i].id.indexOf("icon")<0&&R[0].childNodes[i].id.indexOf("add")<0){k.push(R[0].childNodes[i]);}if(R[0].childNodes[i].id.indexOf("add")>=0){k.push(R[0].childNodes[i]);}}}if(k!=""){this._aDomRefs=k;}if(!this.oItemNavigation){this.oItemNavigation=new b();}this._aRows=R;for(var i=0;i<this.$().find(":sapTabbable").length;i++){if(this.$().find(":sapTabbable")[i].id.indexOf("add")>=0){this._addTarget=this.$().find(":sapTabbable")[i];break;}}this.oItemNavigation.setRootDomRef(j);if(this._invalidateFlag==true){this.oItemNavigation.setFocusedIndex(-1);this.focus();this._invalidateFlag=false;}this.oItemNavigation.setItemDomRefs(k);this.oItemNavigation.setCycling(false);this.oItemNavigation.setPageSize(this._pageSize);};M.prototype.onsapdelete=function(i){var j,Q;if(this.getType()===G.Light){return;}if(!this.getShowPersonalization()){return;}j=sap.ui.getCore().byId(i.target.id);if(!j){return;}Q=sap.ui.getCore().byId(j.getAssociation("list"));if(!Q){return;}if(!Q.getShowRemoveFacetIcon()){return;}Q.removeSelections(true);Q.setSelectedKeys();Q.setProperty("active",false,true);this.invalidate();var $=this.$().find(":sapTabbable");q($[$.length-1]).trigger("focus");var R=this.oItemNavigation.getFocusedIndex();q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(R+1);this.focus();if(this.oItemNavigation.getFocusedIndex()==0){for(var k=0;k<this.$().find(":sapTabbable").length-1;k++){if($[k].id.indexOf("add")>=0){q($[k]).trigger("focus");}}}};M.prototype.onsaptabnext=function(j){if(this.getType()===G.Light){return;}this._previousTarget=j.target;if(j.target.parentNode.className=="sapMFFHead"){for(var i=0;i<this.$().find(":sapTabbable").length;i++){if(this.$().find(":sapTabbable")[i].parentNode.className=="sapMFFResetDiv"){q(this.$().find(":sapTabbable")[i]).trigger("focus");this._invalidateFlag=false;j.preventDefault();j.setMarked();return;}}}this._lastCategoryFocusIndex=this.oItemNavigation.getFocusedIndex();if(this._invalidateFlag==true){this.oItemNavigation.setFocusedIndex(-1);this.focus();this._invalidateFlag=false;}};M.prototype.onsaptabprevious=function(i){if(this.getType()===G.Light){return;}if(i.target.parentNode.className=="sapMFFResetDiv"&&this._previousTarget==null){q(this.$().find(":sapTabbable")[0]).trigger("focus");i.preventDefault();i.setMarked();return;}if(i.target.parentNode.className=="sapMFFResetDiv"&&this._previousTarget!=null&&this._previousTarget.id!=i.target.id){q(this._previousTarget).trigger("focus");i.preventDefault();i.setMarked();return;}if(i.target.id.indexOf("add")>=0||i.target.parentNode.className=="sapMFFHead"){this._previousTarget=i.target;q(this.$().find(":sapTabbable")[0]).trigger("focus");}};M.prototype.onsapend=function(i){if(this.getType()===G.Light){return;}if(this._addTarget!=null){q(this._addTarget).trigger("focus");i.preventDefault();i.setMarked();}else{q(this._aRows[this._aRows.length-1]).trigger("focus");i.preventDefault();i.setMarked();}this._previousTarget=i.target;};M.prototype.onsaphome=function(i){if(this.getType()===G.Light){return;}q(this._aRows[0]).trigger("focus");i.preventDefault();i.setMarked();this._previousTarget=i.target;};M.prototype.onsappageup=function(i){this._previousTarget=i.target;};M.prototype.onsappagedown=function(i){this._previousTarget=i.target;};M.prototype.onsapincreasemodifiers=function(i){if(this.getType()===G.Light){return;}if(i.which==K.ARROW_RIGHT){this._previousTarget=i.target;var j=this.oItemNavigation.getFocusedIndex()-1;var k=j+this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();}};M.prototype.onsapdecreasemodifiers=function(i){if(this.getType()===G.Light){return;}var j=0;if(i.which==K.ARROW_LEFT){this._previousTarget=i.target;j=this.oItemNavigation.getFocusedIndex()+1;var k=j-this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();}};M.prototype.onsapdownmodifiers=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=0;j=this.oItemNavigation.getFocusedIndex()-1;var k=j+this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();};M.prototype.onsapupmodifiers=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=0;j=this.oItemNavigation.getFocusedIndex();if(j!=0){j=j+1;}var k=j-this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();};M.prototype.onsapexpand=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=this.oItemNavigation.getFocusedIndex()+1;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(j);this.focus();};M.prototype.onsapcollapse=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=this.oItemNavigation.getFocusedIndex()-1;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(j);this.focus();};M.prototype.onsapdown=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();return;}};M.prototype.onsapup=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();}};M.prototype.onsapleft=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();}var j=this.oItemNavigation.aItemDomRefs,k=this.oItemNavigation.getFocusedIndex(),Q=k-1>=0?k-1:k,R=q(j[Q]).control(0),U=this._calculateScrollIntoView(R);this._scroll(U,H);};M.prototype.onsapright=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();}var j=this.oItemNavigation.aItemDomRefs,k=this.oItemNavigation.getFocusedIndex(),Q=j.length>k+1?k+1:k,R=q(j[Q]).control(0),U=this._calculateScrollIntoView(R);this._scroll(U,H);};M.prototype.onsapescape=function(i){if(this.getType()===G.Light){return;}if(i.target.parentNode.className=="sapMFFResetDiv"){return;}var j=this._lastCategoryFocusIndex;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(j);this.focus();};M.prototype._getPopover=function(){var i=this.getAggregation("popover");if(!i){var j=this;i=new P({placement:A.Bottom,beforeOpen:function(Q){if(j._displayedList){j._displayedList._bSearchEventDefaultBehavior&&j._displayedList._setSearchValue("");}this.setCustomHeader(j._createFilterItemsSearchFieldBar(j._displayedList));var R=this.getSubHeader();if(!R){this.setSubHeader(j._createSelectAllCheckboxBar(j._displayedList));}k(j._displayedList);},beforeClose:function(){j._popoverClosing=true;},afterClose:function(Q){this._popoverClosing=false;j._handlePopoverAfterClose();},horizontalScrolling:false});this.setAggregation("popover",i,true);i.setContentWidth("30%");i.addStyleClass("sapMFFPop");var k=function(Q){if(!Q){return;}var R=j._getFacetRemoveIcon(Q);if(R){R._bTouchStarted=false;}};}if(this.getShowPopoverOKButton()){this._addOKButtonToPopover(i);}else{i.destroyAggregation("footer");}return i;};M.prototype._handlePopoverAfterClose=function(){var i=this.getAggregation("popover"),j=this._displayedList;if(!i){return;}var k=this._getFacetRemoveIcon(j);if(k&&k._bTouchStarted){return;}this._restoreListFromDisplayContainer(i);this._displayRemoveIcon(false,j);j._fireListCloseEvent();this._fireConfirmEvent();this.destroyAggregation("popover");if(this._oOpenPopoverDeferred){setTimeout(function(){this._oOpenPopoverDeferred.resolve();this._oOpenPopoverDeferred=undefined;}.bind(this),0);}};M.prototype._fireConfirmEvent=function(){this.fireEvent('confirm');};M.prototype._openPopover=function(i,j){var k;if(!i.isOpen()){var Q=sap.ui.getCore().byId(j.getAssociation("list"));h(Q,"The facet filter button should be associated with a list.");k=!Q.fireListOpen({});this._moveListToDisplayContainer(Q,i);i.openBy(j);if(Q.getShowRemoveFacetIcon()){this._displayRemoveIcon(true,Q);}if(Q.getWordWrap()){i.setContentWidth("30%");}if(!k){Q._applySearch();}}return this;};M.prototype._getAddFacetButton=function(){var i=this.getAggregation("addFacetButton");if(!i){i=new B(this.getId()+"-add",{icon:I.getIconURI("add-filter"),type:z.Transparent,tooltip:this._bundle.getText("FACETFILTER_ADDFACET"),press:function(j){this.openFilterDialog();}.bind(this)});this.setAggregation("addFacetButton",i,true);}return i;};M.prototype._getButtonForList=function(i){if(this._buttons[i.getId()]){this._setButtonText(i);return this._buttons[i.getId()];}var j=this;var k=new B({type:z.Transparent,press:function(Q){var R=this;var U=function(){var V=j._getPopover();j._openPopover(V,R);};if(i.getMode()===x.MultiSelect){i._preserveOriginalActiveState();}var V=j._getPopover();if(V.isOpen()){setTimeout(function(){if(V.isOpen()){return;}j._oOpenPopoverDeferred=q.Deferred();j._oOpenPopoverDeferred.promise().done(U);},100);}else{setTimeout(U.bind(this),100);}}});this._buttons[i.getId()]=k;this.addAggregation("buttons",k);k.setAssociation("list",i.getId(),true);this._setButtonText(i);return k;};M.prototype._setButtonText=function(i){var j=this._buttons[i.getId()];if(i._iAllItemsCount===undefined&&i.getMaxItemsCount()||!i._bSearchEventDefaultBehavior){i._iAllItemsCount=i.getMaxItemsCount();}if(j){var k="";var Q=Object.getOwnPropertyNames(i._oSelectedKeys);var R=Q.length;if(R===1){var U=i._oSelectedKeys[Q[0]];k=this._bundle.getText("FACETFILTER_ITEM_SELECTION",[i.getTitle(),U]);}else if(R>0&&R===(i._iAllItemsCount?i._iAllItemsCount:0)){k=this._bundle.getText("FACETFILTER_ALL_SELECTED",[i.getTitle()]);}else if(R>0){k=this._bundle.getText("FACETFILTER_ITEM_SELECTION",[i.getTitle(),R]);}else{k=i.getTitle();}j.setText(k);}};M.prototype._getFacetRemoveIcon=function(i){var j=this,k=this._removeFacetIcons[i.getId()];if(!k){k=new e({src:I.getIconURI("decline"),tooltip:this._bundle.getText("FACETFILTER_REMOVE"),press:function(){k._bPressed=true;}});k.addDelegate({ontouchstart:function(){k._bTouchStarted=true;k._bPressed=false;},ontouchend:function(){j._displayRemoveIcon(false,i);k._bTouchStarted=false;setTimeout(Q.bind(this),100);}},true);var Q=function(){if(k._bPressed){i.removeSelections(true);i.setSelectedKeys();i.setProperty("active",false,true);}j._handlePopoverAfterClose();};k.setAssociation("list",i.getId(),true);k.addStyleClass("sapMFFLRemoveIcon");this._removeFacetIcons[i.getId()]=k;this.addAggregation("removeFacetIcons",k);this._displayRemoveIcon(false,i);}return k;};M.prototype._displayRemoveIcon=function(i,j){if(this.getShowPersonalization()){var k=this._removeFacetIcons[j.getId()];if(i){k.removeStyleClass("sapMFFLHiddenRemoveIcon");k.addStyleClass("sapMFFLVisibleRemoveIcon");}else{k.removeStyleClass("sapMFFLVisibleRemoveIcon");k.addStyleClass("sapMFFLHiddenRemoveIcon");}}};M.prototype._getFacetDialogNavContainer=function(){var i=new N({autoFocus:false});var j=this._createFacetPage();i.addPage(j);i.setInitialPage(j);i.attachAfterNavigate(function(k){var Q=k.getParameters()["to"];var R=k.getParameters()['from'];if(R===j){var U=(this._displayedList.getMode()===x.MultiSelect)?Q.getContent(0)[1].getItems()[0]:Q.getContent(0)[0].getItems()[0];if(U){U.focus();}else if(Q.getContent()[1]){Q.getContent()[1].focus();}}if(Q===j){R.destroySubHeader();h(this._displayedList===null,"Filter items list should have been placed back in the FacetFilter aggregation before page content is destroyed.");R.destroyContent();this._selectedFacetItem.invalidate();Q.invalidate();this._selectedFacetItem.focus();this._selectedFacetItem=null;}}.bind(this));return i;};M.prototype._createFacetPage=function(){var i=this._createFacetList();var j=new S({width:"100%",tooltip:this._bundle.getText("FACETFILTER_SEARCH"),liveChange:function(Q){var R=i.getBinding("items");if(R){var U=new F("text",f.Contains,Q.getParameters()["newValue"]);R.filter([U]);}}});var k=new u({enableScrolling:true,title:this._bundle.getText("FACETFILTER_TITLE"),subHeader:new o({contentMiddle:j}),content:[i]});return k;};M.prototype._createFilterItemsPage=function(){var i=new u({showNavButton:true,enableScrolling:true,navButtonPress:function(j){var k=j.getSource().getParent();this._navFromFilterItemsPage(k);}.bind(this)});return i;};M.prototype._getFilterItemsPage=function(i){var j=i.getPages()[1];if(j){i.removePage(j);j.destroy();}var k=this._createFilterItemsPage();i.addPage(k);return k;};M.prototype._createFilterItemsSearchFieldBar=function(i){var j=true;if(i.getDataType()!=y.String){j=false;}var k=new S({value:i._getSearchValue(),width:"100%",enabled:j,tooltip:this._bundle.getText("FACETFILTER_SEARCH"),search:function(R){this._displayedList._handleSearchEvent(R);}.bind(this)});if(this.getLiveSearch()){k.attachLiveChange(i._handleSearchEvent,i);}var Q=new o({contentMiddle:k});i.setAssociation("search",k);return Q;};M.prototype._getFacetDialog=function(){var i=this.getAggregation("dialog");if(!i){var j=this;i=new p({showHeader:false,stretch:D.system.phone?true:false,afterClose:function(){j._invalidateFlag=true;var k=this.getContent()[0];var Q=k.getPages()[1];if(k.getCurrentPage()===Q){var R=j._restoreListFromDisplayContainer(Q);if(R.getMode()===x.MultiSelect){R._updateActiveState();j._bCheckForAddListBtn=true;}R._fireListCloseEvent();R._bSearchEventDefaultBehavior&&R._search("");}this.destroyAggregation("content",true);j.invalidate();},beginButton:new B({text:this._bundle.getText("FACETFILTER_ACCEPT"),tooltip:this._bundle.getText("FACETFILTER_ACCEPT"),press:function(){j._closeDialog();}}),contentHeight:"500px",ariaLabelledBy:[c.getStaticId("sap.m","FACETFILTER_AVAILABLE_FILTER_NAMES")]});i.addStyleClass("sapMFFDialog");i.onsapentermodifiers=function(k){if(k.shiftKey&&!k.ctrlKey&&!k.altKey){var Q=this.getContent()[0];j._navFromFilterItemsPage(Q);}};this.setAggregation("dialog",i,true);}return i;};M.prototype._closeDialog=function(){var i=this.getAggregation("dialog");if(i&&i.isOpen()){i.close();this._fireConfirmEvent();}};M.prototype._closePopover=function(){var i=this.getAggregation("popover");if(i&&i.isOpen()){i.close();}};M.prototype._createFacetList=function(){var j=this._oFacetList=new r({mode:x.None,items:{path:"/items",template:new s({title:"{text}",counter:"{count}",type:w.Navigation,customData:[new a({key:"index",value:"{index}"})]})}});var k=this._getMapFacetLists();var Q=new J({items:k});if(k.length>100){Q.setSizeLimit(k.length);}var R=this;j.attachUpdateFinished(function(){for(var i=0;i<j.getItems().length;i++){var U=this.getItems()[i];U.detachPress(R._handleFacetListItemPress,R);U.attachPress(R._handleFacetListItemPress,R);}});j.setModel(Q);return j;};M.prototype.refreshFacetList=function(){this._oFacetList.getModel().setData({items:this._getMapFacetLists()});return this;};M.prototype._getMapFacetLists=function(){return this.getLists().map(function(i,j){return{text:i.getTitle(),count:i.getAllCount(),index:j};});};M.prototype._createSelectAllCheckboxBar=function(i){if(!i.getMultiSelect()){return null;}var j=i.getActive()&&i.getItems().length>0&&Object.getOwnPropertyNames(i._oSelectedKeys).length===i.getItems().length;var k=new t(i.getId()+"-selectAll",{text:this._bundle.getText("FACETFILTER_CHECKBOX_ALL"),tooltip:this._bundle.getText("FACETFILTER_CHECKBOX_ALL"),selected:j,select:function(R){k.setSelected(R.getParameter("selected"));i._handleSelectAllClick(R.getParameter("selected"));}});i.setAssociation("allcheckbox",k);var Q=new o({visible:Boolean(i.getItems(true).length)});Q.addEventDelegate({ontap:function(R){if(R.srcControl===this){i._handleSelectAllClick(k.getSelected());}}},Q);Q.addContentLeft(k);Q.addStyleClass("sapMFFCheckbar");this._oAllCheckBoxBar=Q;return Q;};M.prototype._handleFacetListItemPress=function(i){this._navToFilterItemsPage(i.getSource());};M.prototype._navToFilterItemsPage=function(i){this._selectedFacetItem=i;var j=this.getAggregation("dialog").getContent()[0];var k=i.getCustomData();h(k.length===1,"There should be exactly one custom data for the original facet list item index");var Q=k[0].getValue();var R=this.getLists()[Q];this._listIndexAgg=this.indexOfAggregation("lists",R);if(this._listIndexAgg==Q){var U=this._getFilterItemsPage(j);R.fireListOpen({});this._moveListToDisplayContainer(R,U);U.setSubHeader(this._createFilterItemsSearchFieldBar(R));var V=this._createSelectAllCheckboxBar(R);if(V){U.insertContent(V,0);}U.setTitle(R.getTitle());j.to(U);}};M.prototype._navFromFilterItemsPage=function(i){var j=i.getPages()[1];var k=this._restoreListFromDisplayContainer(j);if(k.getMode()===x.MultiSelect){k._updateActiveState();}k._fireListCloseEvent();k._bSearchEventDefaultBehavior&&k._search("");this._selectedFacetItem.setCounter(k.getAllCount());i.backToTop();};M.prototype._moveListToDisplayContainer=function(i,j){this._listAggrIndex=this.indexOfAggregation("lists",i);h(this._listAggrIndex>-1,"The lists index should be valid.");C.prototype.removeAggregation.call(this,"lists",i,true);j.addAggregation("content",i,false);i.setAssociation("facetFilter",this,true);this._displayedList=i;};M.prototype._restoreListFromDisplayContainer=function(i){var j=i.removeAggregation("content",this._displayedList,true);this.insertAggregation("lists",j,this._listAggrIndex,j.getActive());this._listAggrIndex=-1;this._displayedList=null;return j;};M.prototype._getSequencedLists=function(){var k=-1;var Q=[];var R=this.getLists();if(R.length>0){for(var i=0;i<R.length;i++){if(R[i].getActive()){if(R[i].getSequence()<-1){R[i].setSequence(-1);}else if(R[i].getSequence()>k){k=R[i].getSequence();}Q.push(R[i]);}else if(!R[i].getRetainListSequence()){R[i].setSequence(-1);}}for(var j=0;j<Q.length;j++){if(Q[j].getSequence()<=-1){k+=1;Q[j].setSequence(k);}}if(Q.length>1){Q.sort(function(U,V){return U.getSequence()-V.getSequence();});}}return Q;};M.prototype._getSummaryBar=function(){var i=this.getAggregation("summaryBar"),j=this.getType();if(!i){var k=new m({maxLines:1});i=new n({content:[k],active:j===G.Light?true:false,design:v.Info,ariaLabelledBy:k,press:function(Q){this.openFilterDialog();}.bind(this)});i._setRootAccessibilityRole("group");this.setAggregation("summaryBar",i);}return i;};M.prototype._handleReset=function(){this.fireReset();this.invalidate();};M.prototype._createResetButton=function(){var j=new B({type:z.Transparent,icon:I.getIconURI("undo"),tooltip:this._bundle.getText("FACETFILTER_RESET"),press:function(k){this._invalidateFlag=true;if(this._popoverClosing){setTimeout(this._handleReset.bind(this),P.prototype._getAnimationDuration());}else{this._handleReset();}var Q=this.getLists();for(var i=0;i<Q.length;i++){Q[i]._setSearchValue("");Q[i]._applySearch();var R=Q[i].getItems()[0];if(R){R.focus();}}}.bind(this)});return j;};M.prototype._addOKButtonToPopover=function(i){var j=i.getFooter(),k;if(!j){k=new B({text:this._bundle.getText("FACETFILTER_ACCEPT"),tooltip:this._bundle.getText("FACETFILTER_ACCEPT"),press:function(){this._closePopover();}.bind(this)});j=new O({content:[new T(),k]});i.setFooter(j);}};M.prototype._getSummaryText=function(){var k=", ";var Q=" ";var R="";var U=true;var V=this.getLists();if(V.length>0){for(var i=0;i<V.length;i++){var W=V[i];if(W.getActive()){var X=this._getSelectedItemsText(W);var Y="";for(var j=0;j<X.length;j++){Y=Y+X[j]+k;}if(Y){Y=Y.substring(0,Y.lastIndexOf(k)).trim();if(U){R=this._bundle.getText("FACETFILTER_INFOBAR_FILTERED_BY",[W.getTitle(),Y]);U=false;}else{R=R+Q+this._bundle.getText("FACETFILTER_INFOBAR_AND")+Q+this._bundle.getText("FACETFILTER_INFOBAR_AFTER_AND",[W.getTitle(),Y]);}}}}}if(!R){R=this._bundle.getText("FACETFILTER_INFOBAR_NO_FILTERS");}return R;};M.prototype._getSelectedItemsText=function(i){var j=i.getSelectedItems().map(function(k){return k.getText();});i._oSelectedKeys&&Object.getOwnPropertyNames(i._oSelectedKeys).forEach(function(k){j.indexOf(i._oSelectedKeys[k])===-1&&j.push(i._oSelectedKeys[k]);});return j;};M.prototype._addResetToSummary=function(i){if(i.getContent().length===1){i.addContent(new T({width:""}));var j=this._createResetButton();i.addContent(j);j.addStyleClass("sapUiSizeCompact");j.addStyleClass("sapMFFRefresh");j.addStyleClass("sapMFFBtnHoverable");}};M.prototype._removeResetFromSummary=function(i){if(i.getContent().length===3){var j=i.removeAggregation("content",1);j.destroy();var k=i.removeAggregation("content",1);k.destroy();}};M.prototype._removeList=function(i){if(i){var j=this._buttons[i.getId()];if(j){this.removeAggregation("buttons",j);j.destroy();}var R=this._removeFacetIcons[i.getId()];if(R){this.removeAggregation("removeIcons",R);R.destroy();}delete this._buttons[i.getId()];delete this._removeFacetIcons[i.getId()];}};M.prototype._calculateScrollIntoView=function(i){var j=this.$("head").width(),k=0;if(!j||!i){return k;}var $=i.$(),Q=$.outerWidth(true),R=$.position().left,U=R+Q;if(U>j){k=U-j;}else if(R<0){k=R;}return k;};M.prototype._getScrollingArrow=function(j){var k=null;var Q={src:"sap-icon://navigation-"+j+"-arrow"};if(j==="left"){k=this.getAggregation("arrowLeft");if(!k){Q.id=this.getId()+"-arrowScrollLeft";k=I.createControlByURI(Q);var R=["sapMPointer","sapMFFArrowScroll","sapMFFArrowScrollLeft"];for(var i=0;i<R.length;i++){k.addStyleClass(R[i]);k.setTooltip(this._bundle.getText("FACETFILTER_PREVIOUS"));}this.setAggregation("arrowLeft",k);}}else if(j==="right"){k=this.getAggregation("arrowRight");if(!k){Q.id=this.getId()+"-arrowScrollRight";k=I.createControlByURI(Q);var U=["sapMPointer","sapMFFArrowScroll","sapMFFArrowScrollRight"];for(var i=0;i<U.length;i++){k.addStyleClass(U[i]);k.setTooltip(this._bundle.getText("FACETFILTER_NEXT"));}this.setAggregation("arrowRight",k);}}else{L.error("Scrolling arrow name "+j+" is not valid");}return k;};M.prototype._checkOverflow=function(){var i=this.getDomRef("head"),$=q(i),j=this.$(),k=false,Q=false,R=false,U=null,V=null,W=null;if(i){U=i.scrollLeft;V=i.scrollWidth;W=i.clientWidth;if(V>W){if(V-W==1){V=W;}else{R=true;}}j.toggleClass("sapMFFScrolling",R);j.toggleClass("sapMFFNoScrolling",!R);this._lastScrolling=R;if(!this._bRtl){k=U>0;Q=(V>W)&&(V>U+W);}else{Q=$.scrollLeftRTL()>0;k=$.scrollRightRTL()>0;}if((Q!=this._bPreviousScrollForward)||(k!=this._bPreviousScrollBack)){j.toggleClass("sapMFFNoScrollBack",!k);j.toggleClass("sapMFFNoScrollForward",!Q);}}};M.prototype.onclick=function(i){var j=i.target.id;if(j){var k=this.getId(),Q=i.target;i.preventDefault();if(j==k+"-arrowScrollLeft"){Q.tabIndex=-1;Q.focus();this._scroll(-M.SCROLL_STEP,H);}else if(j==k+"-arrowScrollRight"){Q.tabIndex=-1;Q.focus();this._scroll(M.SCROLL_STEP,H);}}};M.prototype._scroll=function(i,j){var k=this.getDomRef("head");var Q=k.scrollLeft;if(this._bRtl){i=-i;}var R=Q+i;q(k).stop(true,true).animate({scrollLeft:R},j);};M.prototype._enableTouchSupport=function(){var i=function(Q){var R=this.getType();if(R===G.Light){return;}Q.preventDefault();if(this._iInertiaIntervalId){window.clearInterval(this._iInertiaIntervalId);}this.startScrollX=this.getDomRef("head").scrollLeft;this.startTouchX=Q.touches[0].pageX;this._bTouchNotMoved=true;this._lastMoveTime=new Date().getTime();}.bind(this);var j=function(Q){var R=this.getType();if(R===G.Light){return;}var U=Q.touches[0].pageX-this.startTouchX;var V=this.getDomRef("head");var W=V.scrollLeft;var X=this.startScrollX-U;V.scrollLeft=X;this._bTouchNotMoved=false;var Y=new Date().getTime()-this._lastMoveTime;this._lastMoveTime=new Date().getTime();if(Y>0){this._velocity=(X-W)/Y;}Q.preventDefault();}.bind(this);var k=function(Q){var R=this.getType();if(R===G.Light){return;}if(this._bTouchNotMoved===false){Q.preventDefault();var U=this.getDomRef("head");var V=50;var W=Math.abs(this._velocity/10);this._iInertiaIntervalId=window.setInterval(function(){this._velocity=this._velocity*0.80;var X=this._velocity*V;U.scrollLeft=U.scrollLeft+X;if(Math.abs(this._velocity)<W){window.clearInterval(this._iInertiaIntervalId);this._iInertiaIntervalId=undefined;}}.bind(this),V);}else if(this._bTouchNotMoved===true){this.onclick(Q);Q.preventDefault();}this._bTouchNotMoved=undefined;this._lastMoveTime=undefined;}.bind(this);this.addEventDelegate({ontouchstart:i},this);this.addEventDelegate({ontouchend:k},this);this.addEventDelegate({ontouchmove:j},this);};return M;});
sap.ui.predefine('sap/m/FacetFilterItem',['./ListItemBase','./library','./FacetFilterItemRenderer'],function(L,l,F){"use strict";var a=L.extend("sap.m.FacetFilterItem",{metadata:{library:"sap.m",properties:{key:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},count:{type:"int",group:"Misc",defaultValue:null,deprecated:true}}}});a.prototype.setCount=function(c){this.setProperty("count",c);this.setProperty("counter",c);return this;};a.prototype.setCounter=function(c){this.setProperty("count",c);this.setProperty("counter",c);return this;};a.prototype.init=function(){this.attachEvent("_change",this._itemTextChange);L.prototype.init.apply(this);this.addStyleClass("sapMFFLI");};a.prototype.exit=function(){L.prototype.exit.apply(this);this.detachEvent("_change",this._itemTextChange);};a.prototype._itemTextChange=function(e){if(e.getParameter("name")==="text"){this.informList("TextChange",e.getParameter("newValue"));}};return a;});
sap.ui.predefine('sap/m/FacetFilterItemRenderer',['./ListItemBaseRenderer','sap/ui/core/Renderer'],function(L,R){"use strict";var F=R.extend(L);F.apiVersion=2;F.renderLIContent=function(r,c){r.openStart("div",c);if(c.getParent()&&c.getParent().getWordWrap()){r.class("sapMFFLITitleWrap");}else{r.class("sapMFFLITitle");}r.openEnd();r.text(c.getText());r.close("div");};return F;},true);
sap.ui.predefine('sap/m/FacetFilterList',['./List','./library','sap/ui/model/ChangeReason','sap/ui/model/Filter','./FacetFilterListRenderer','./FacetFilterItem',"sap/base/Log","sap/ui/model/FilterOperator","sap/ui/model/FilterType"],function(L,l,C,F,a,b,c,d,e){"use strict";var f=l.ListMode;var g=l.FacetFilterListDataType;var h=L.extend("sap.m.FacetFilterList",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},wordWrap:{type:"boolean",group:"Appearance",defaultValue:false},multiSelect:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},active:{type:"boolean",group:"Behavior",defaultValue:true},enableCaseInsensitiveSearch:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:false},allCount:{type:"int",group:"Appearance",defaultValue:null},sequence:{type:"int",group:"Behavior",defaultValue:-1},key:{type:"string",group:"Identification",defaultValue:null},showRemoveFacetIcon:{type:"boolean",group:"Misc",defaultValue:true},retainListSequence:{type:"boolean",group:"Misc",defaultValue:false},dataType:{type:"sap.m.FacetFilterListDataType",group:"Misc",defaultValue:g.String}},events:{listOpen:{allowPreventDefault:true},listClose:{parameters:{selectedItems:{type:"sap.m.FacetFilterItem[]"},allSelected:{type:"boolean"},selectedKeys:{type:"object"}}},search:{allowPreventDefault:true,parameters:{term:{type:"string"}}}}}});h.prototype.setTitle=function(t){this.setProperty("title",t,true);this._updateFacetFilterButtonText();return this;};h.prototype.setMultiSelect=function(v){this.setProperty("multiSelect",v,true);var m=v?f.MultiSelect:f.SingleSelectMaster;this.setMode(m);return this;};h.prototype.setMode=function(m){if(m===f.MultiSelect||m===f.SingleSelectMaster){L.prototype.setMode.call(this,m);this.setProperty("multiSelect",m===f.MultiSelect?true:false,true);}return this;};h.prototype._applySearch=function(){var s=this._getSearchValue();if(s===null){return;}this._bSearchEventDefaultBehavior&&this._search(s,true);this._updateSelectAllCheckBox();};h.prototype.getSelectedItems=function(){var s=[];var o={};var i=L.prototype.getSelectedItems.apply(this,arguments);i.forEach(function(I){s.push(new b({text:I.getText(),key:I.getKey(),selected:true}));o[I.getKey()]=true;});var S=this.getSelectedKeys();var j=Object.getOwnPropertyNames(S);if(i.length<j.length){j.forEach(function(k){if(!o[k]){s.push(new b({text:S[k],key:k,selected:true}));}});}return s;};h.prototype.getSelectedItem=function(){var i=L.prototype.getSelectedItem.apply(this,arguments);var s=Object.getOwnPropertyNames(this.getSelectedKeys());if(!i&&s.length>0){i=new b({text:this.getSelectedKeys()[s[0]],key:s[0],selected:true});}return i;};h.prototype.removeSelections=function(A){if(this._allowRemoveSelections){A?this.setSelectedKeys():L.prototype.removeSelections.call(this,A);}return this;};h.prototype.getSelectedKeys=function(){var r={};var k=this._oSelectedKeys;Object.getOwnPropertyNames(k).forEach(function(i){r[i]=k[i];});return r;};h.prototype.setSelectedKeys=function(k){this._oSelectedKeys={};var K=false;k&&Object.getOwnPropertyNames(k).forEach(function(i){this._addSelectedKey(i,k[i]);K=true;},this);if(K){if(this.getMode()===f.MultiSelect){this.setActive(true);}this._selectItemsByKeys();}else{L.prototype.removeSelections.call(this);}};h.prototype._getNonGroupItems=function(){var i=[];this.getItems().forEach(function(I){if(I.getMode()!==f.None){i.push(I);}});return i;};h.prototype.removeSelectedKey=function(k,t){if(this._removeSelectedKey(k,t)){this._getNonGroupItems().forEach(function(i){var I=i.getKey()||i.getText();k===I&&i.setSelected(false);});}};h.prototype.removeSelectedKeys=function(){this._oSelectedKeys={};L.prototype.removeSelections.call(this,true);};h.prototype.removeItem=function(i){var I=L.prototype.removeItem.apply(this,arguments);if(!this._filtering){I&&I.getSelected()&&this.removeSelectedKey(I.getKey(),I.getText());return I;}};h.prototype.init=function(){this._firstTime=true;this._bSearchEventDefaultBehavior=true;this._saveBindInfo;this._oSelectedKeys={};L.prototype.init.call(this);this.setMode(f.MultiSelect);this.setIncludeItemInSelection(true);this.setGrowing(true);this.setRememberSelections(false);this._searchValue="";this.attachUpdateFinished(function(E){var u=E.getParameter("reason");u=u?u.toLowerCase():u;if(u==="change"){var B=this.getBinding("items"),m=B?B.getModel():null;if(m&&m.getProperty(B.getPath())){this._iAllItemsCount=m.getProperty(B.getPath()).length||0;}this._oSelectedKeys={};this._getNonGroupItems().forEach(function(i){if(i.getSelected()){this._addSelectedKey(i.getKey(),i.getText());}},this);}if(u!==C.Filter.toLowerCase()){this._selectItemsByKeys();}this._updateFacetFilterButtonText();this._updateSelectAllCheckBox();});this._allowRemoveSelections=true;this._bOriginalActiveState;this._iAllItemsCount;};h.prototype._resetItemsBinding=function(){if(this.isBound("items")){this._setSearchValue("");this._allowRemoveSelections=false;L.prototype._resetItemsBinding.apply(this,arguments);this._allowRemoveSelections=true;}};h.prototype._fireListCloseEvent=function(){var s=this.getSelectedItems();var S=this.getSelectedKeys();var A=this.isAllSelectableSelected();this._firstTime=true;this.fireListClose({selectedItems:s,selectedKeys:S,allSelected:A});};h.prototype._updateActiveState=function(){var o=sap.ui.getCore().byId(this.getAssociation("allcheckbox"));if(Object.getOwnPropertyNames(this._oSelectedKeys).length>0||(o&&o.getSelected())){this.setActive(true);}};h.prototype._handleSearchEvent=function(E){var s=E.getParameters()["query"];if(s===undefined){s=E.getParameters()["newValue"];}this._bSearchEventDefaultBehavior=this.fireSearch({term:s,clearButtonPressed:E.getParameters()["clearButtonPressed"]});this._bSearchEventDefaultBehavior?this._search(s):this._setSearchValue(s);this._updateSelectAllCheckBox();};h.prototype._search=function(s,i){var j,B,u,U,p,o,P,k,n=0,m=this.getBinding("items"),q=this.getBindingInfo("items");function r(M){return M instanceof sap.ui.model.odata.ODataModel||M instanceof sap.ui.model.odata.v2.ODataModel||M instanceof sap.ui.model.odata.v4.ODataModel;}if(i||(s!==this._searchValue)){this._searchValue=s;if(q&&q.binding){j=q.binding.aFilters;if(j.length>0){n=j[0].aFilters.length;if(this._firstTime){this._saveBindInfo=j[0].aFilters[0][0];this._firstTime=false;}}}if(m){if(s||n>0){k=q.template?q.template:q.factory();B=k.getBindingInfo("text").parts;p=B[0].path;if(p||p===""){u=[];B.forEach(function(t){u.push(new F(t.path,d.Contains,s));});if(this.getEnableCaseInsensitiveSearch()&&r(m.getModel())){u.forEach(function(t){t.bCaseSensitive=false;});}P=new F(u,false);if(n>1){o=new F([P,this._saveBindInfo],true);}else{if(this._saveBindInfo>""&&U.sPath!=this._saveBindInfo.sPath){o=new F([P,this._saveBindInfo],true);}else{if(s==""){o=[];}else{o=new F([P],true);}}}m.filter(o,e.Control);}}else{m.filter([],e.Control);}}else{c.warning("No filtering performed","The list must be defined with a binding for search to work",this);}}};h.prototype._getSearchValue=function(){return this._searchValue;};h.prototype._updateSelectAllCheckBox=function(){var i=this._getNonGroupItems(),I=i.length,o,A,s;function j(k){return k.getSelected();}if(this.getMultiSelect()){o=sap.ui.getCore().byId(this.getAssociation("allcheckbox"));A=I>0&&I===i.filter(j).length;s=this.getActive()&&A;o&&o.setSelected(s);}};h.prototype._addSelectedKey=function(k,t){if(!k&&!t){c.error("Both sKey and sText are not defined. At least one must be defined.");return;}if(this.getMode()===f.SingleSelectMaster){this.removeSelectedKeys();}if(!k){k=t;}this._oSelectedKeys[k]=t||k;};h.prototype._removeSelectedKey=function(k,t){if(!k&&!t){c.error("Both sKey and sText are not defined. At least one must be defined.");return false;}if(!k){k=t;}delete this._oSelectedKeys[k];return true;};h.prototype._setSearchValue=function(v){this._searchValue=v;};h.prototype._isItemSelected=function(i){return!!(this._oSelectedKeys[i&&(i.getKey()||i.getText())]);};h.prototype._updateFacetFilterButtonText=function(){if(this.getParent()&&this.getParent()._setButtonText){this.getParent()._setButtonText(this);}};h.prototype._selectItemsByKeys=function(){this._getNonGroupItems().forEach(function(i){i.setSelected(this._isItemSelected(i));},this);this._updateFacetFilterButtonText();};h.prototype._handleSelectAllClick=function(s){var A,i,I=this._getNonGroupItems(),j=I.length;I.forEach(function(o){if(s){this._addSelectedKey(o.getKey(),o.getText());}else{this._removeSelectedKey(o.getKey(),o.getText());}o.setSelected(s,true);},this);function k(o){return o.getSelected();}if(this.getMode()===f.MultiSelect){i=j>0&&j===I.filter(k).length;A=this._getOriginalActiveState()||(s&&i);this.setActive(A);}setTimeout(this._updateSelectAllCheckBox.bind(this),0);};h.prototype.onItemTextChange=function(i,n){var k=i.getKey();if(this._oSelectedKeys[k]&&n&&!this._filtering){this._oSelectedKeys[k]=n;}};h.prototype.onItemSelectedChange=function(i,s){var A;if(s){this._addSelectedKey(i.getKey(),i.getText());}else{this._removeSelectedKey(i.getKey(),i.getText());}L.prototype.onItemSelectedChange.apply(this,arguments);if(this.getMode()===f.MultiSelect){A=this._getOriginalActiveState()||s||this.getSelectedItems().length>1;this.setActive(A);}!this.getDomRef()&&this.getParent()&&this.getParent().getDomRef()&&this.getParent().invalidate();setTimeout(this._updateSelectAllCheckBox.bind(this),0);};h.prototype.updateItems=function(r){var p=document.activeElement;this._filtering=r===C.Filter;L.prototype.updateItems.apply(this,arguments);this._filtering=false;if(p&&p.getAttribute("id")!==document.activeElement.getAttribute("id")){this.focus();}if(!this.getGrowing()||r===C.Filter){this._selectItemsByKeys();}};h.prototype._getOriginalActiveState=function(){return this._bOriginalActiveState;};h.prototype._preserveOriginalActiveState=function(){this._bOriginalActiveState=this.getActive();};h.prototype._showBusyIndicator=function(){L.prototype._showBusyIndicator.apply(this,arguments);this.fireEvent("listItemsChange");};h.prototype._hideBusyIndicator=function(){L.prototype._hideBusyIndicator.apply(this,arguments);this.fireEvent("listItemsChange");};return h;});
sap.ui.predefine('sap/m/FacetFilterListRenderer',['./ListRenderer','sap/ui/core/Renderer'],function(L,R){"use strict";var F=R.extend(L);F.apiVersion=2;return F;},true);
sap.ui.predefine('sap/m/FacetFilterRenderer',["sap/m/library","sap/ui/Device","sap/ui/core/InvisibleText"],function(l,D,I){"use strict";var F=l.FacetFilterType;var a={apiVersion:2};a.render=function(r,c){if(c.getType()===F.Light||c.getShowSummaryBar()){a.renderSummaryBar(r,c);}else{a.renderSimpleFlow(r,c);}};a.renderSimpleFlow=function(r,c){r.openStart("div",c);r.class("sapMFF");r.accessibilityState({role:"toolbar",roledescription:c._bundle.getText("FACETFILTER_TITLE")});if(c._lastScrolling){r.class("sapMFFScrolling");}else{r.class("sapMFFNoScrolling");}if(c.getShowReset()){r.class("sapMFFResetSpacer");}r.openEnd();if(D.system.desktop){r.renderControl(c._getScrollingArrow("left"));}r.openStart("div",c.getId()+"-head");r.class("sapMFFHead");r.openEnd();a.renderFacetFilterListButtons(c,r);if(c.getShowPersonalization()){a.renderAddFilterButton(c,r);}r.close("div");if(D.system.desktop){r.renderControl(c._getScrollingArrow("right"));}if(c.getShowReset()){r.openStart("div");r.class("sapMFFResetDiv");r.openEnd();r.renderControl(c.getAggregation("resetButton"));r.close("div");}r.close("div");};a.renderSummaryBar=function(r,c){r.openStart("div",c);r.class("sapMFF");r.openEnd();r.renderControl(c.getAggregation("summaryBar"));r.close("div");};a.getAriaAnnouncement=function(k,b){return I.getStaticId("sap.m",b||"FACETFILTER_"+k.toUpperCase());};a.renderFacetFilterListButtons=function(c,r){var L=c._getSequencedLists(),b=L.length,s=c.getShowPersonalization(),A=s&&(c.getType()===F.Simple),f=A?b+1:b,B,i;for(i=0;i<b;i++){var d=L[i].getItems().length>0,e=L[i].getActive(),g=c._bCheckForAddListBtn&&(d||e);if(!c._bCheckForAddListBtn||g){B=c._getButtonForList(L[i]);a.addPositionInfoForButton(c,B,i+1,f);if(s){B.addAriaDescribedBy(a.getAriaAnnouncement("ARIA_REMOVE"));}r.renderControl(B);if(s){r.renderControl(c._getFacetRemoveIcon(L[i]));}}}return this;};a.renderAddFilterButton=function(c,r){var A=c.getAggregation("addFacetButton"),b=c._getSequencedLists().length+1;a.addPositionInfoForButton(c,A,b,b);r.renderControl(A);return this;};a.addPositionInfoForButton=function(c,b,p,s){var S=a.createStaticPositioningLabel(c,p,s);a.clearOldPositioningLabels(c,b);b.addAriaDescribedBy(S);return this;};a.clearOldPositioningLabels=function(c,b){var o=b.removeAllAriaDescribedBy(),r=this.getAriaAnnouncement("ARIA_REMOVE"),i;o.forEach(function(s){if(r===s){return;}i=sap.ui.getCore().byId(s);i&&i.destroy();});return this;};a.createStaticPositioningLabel=function(c,p,s){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),f=r.getText("FACETFILTER_ARIA_FACET_FILTER"),P=r.getText("FACETFILTERLIST_ARIA_POSITION",[p,s]),S=new I({text:f+" "+P}).toStatic();c._aOwnedLabels.push(S.getId());return S;};return a;},true);
sap.ui.predefine('sap/m/FeedContent',['./library','sap/ui/core/Control','sap/m/Text','sap/ui/Device','./FeedContentRenderer',"sap/ui/events/KeyCodes"],function(l,C,T,D,F,K){"use strict";var S=l.Size;var a=C.extend("sap.m.FeedContent",{metadata:{library:"sap.m",properties:{"size":{type:"sap.m.Size",group:"Misc",defaultValue:S.Auto,deprecated:true},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null},"value":{type:"string",group:"Misc",defaultValue:null},"valueColor":{type:"sap.m.ValueColor",group:"Misc",defaultValue:null},"truncateValueTo":{type:"int",group:"Misc",defaultValue:4}},defaultAggregation:"_contentTextAgr",aggregations:{"_contentTextAgr":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});a.prototype.init=function(){this._oContentText=new T(this.getId()+"-content-text",{maxLines:2});this._oContentText.cacheLineHeight=false;this.setAggregation("_contentTextAgr",this._oContentText,true);this.setTooltip("{AltText}");};a.prototype.onBeforeRendering=function(){this.$().off("mouseenter");this.$().off("mouseleave");};a.prototype.onAfterRendering=function(){this.$().on("mouseenter",this._addTooltip.bind(this));this.$().on("mouseleave",this._removeTooltip.bind(this));};a.prototype.exit=function(){this._oContentText=null;};a.prototype._addTooltip=function(){this.$().attr("title",this.getTooltip_AsString());};a.prototype._removeTooltip=function(){this.$().attr("title",null);};a.prototype.getAltText=function(){var A="";var i=true;if(this.getAggregation("_contentTextAgr").getText()){A+=this.getAggregation("_contentTextAgr").getText();i=false;}if(this.getSubheader()){if(i){A+=""+this.getSubheader();}else{A+="\n"+this.getSubheader();}i=false;}if(this.getValue()){if(i){A+=""+this.getValue();}else{A+="\n"+this.getValue();}}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var s=this.getAltText();if(typeof t==="string"||t instanceof String){s=t.split("{AltText}").join(s).split("((AltText))").join(s);return s;}if(t){return t;}else{return"";}};a.prototype.setContentText=function(t){this._oContentText.setText(t);return this;};a.prototype.ontap=function(e){if(D.browser.msie){this.$().trigger("focus");}this.firePress();};a.prototype.onkeydown=function(e){if(e.which===K.ENTER||e.which===K.SPACE){this.firePress();e.preventDefault();}};a.prototype.attachEvent=function(e,d,f,b){C.prototype.attachEvent.call(this,e,d,f,b);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");}return this;};a.prototype.detachEvent=function(e,f,b){C.prototype.detachEvent.call(this,e,f,b);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");}return this;};return a;});
sap.ui.predefine('sap/m/FeedContentRenderer',[],function(){"use strict";var F={apiVersion:2};F.render=function(r,c){var s=c.getSubheader();var v=c.getValue();var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.openStart("div",c);r.attr("role","presentation");r.attr("aria-label",t);r.class("sapMFC");if(c.hasListeners("press")){r.attr("tabindex","0");r.class("sapMPointer");}r.openEnd();if(v){r.openStart("div",c.getId()+"-value");r.class("sapMFCValue");r.class(c.getValueColor());r.openEnd();var C=c.getTruncateValueTo();if(v.length>=C&&(v[C-1]==="."||v[C-1]===",")){r.text(v.substring(0,C-1));}else if(v){r.text(v.substring(0,C));}else{r.text("");}r.close("div");}r.openStart("div");r.class("sapMFCCTxt");r.openEnd();r.renderControl(c._oContentText);r.close("div");r.openStart("div",c.getId()+"-subheader");r.class("sapMFCSbh");r.openEnd();r.text(s);r.close("div");r.close("div");};return F;},true);
sap.ui.predefine('sap/m/FeedInput',["./library","sap/ui/core/Control","sap/ui/core/IconPool","sap/m/TextArea","sap/m/Button","./FeedInputRenderer","sap/ui/thirdparty/jquery","sap/base/security/URLListValidator","sap/base/security/sanitizeHTML","sap/m/Avatar","sap/m/AvatarShape","sap/m/AvatarSize"],function(l,C,I,T,B,F,q,U,s,A,a,b){"use strict";var c=l.ButtonType;var M=15,d=2,e=0;var f=C.extend("sap.m.FeedInput",{metadata:{library:"sap.m",designtime:"sap/m/designtime/FeedInput.designtime",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},rows:{type:"int",group:"Appearance",defaultValue:2},showExceededText:{type:"boolean",group:"Behavior",defaultValue:false},maxLength:{type:"int",group:"Behavior",defaultValue:0},growing:{type:"boolean",group:"Behavior",defaultValue:false},growingMaxLines:{type:"int",group:"Behavior",defaultValue:0},placeholder:{type:"string",group:"Appearance",defaultValue:"Post something here"},value:{type:"string",group:"Data",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},iconDisplayShape:{type:"sap.m.AvatarShape",defaultValue:a.Circle},iconInitials:{type:"string",defaultValue:""},iconSize:{type:"sap.m.AvatarSize",defaultValue:b.M},showIcon:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},buttonTooltip:{type:"sap.ui.core.TooltipBase",group:"Accessibility",defaultValue:"Submit"},ariaLabelForPicture:{type:"string",group:"Accessibility",defaultValue:null}},aggregations:{_avatar:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"}},events:{post:{parameters:{value:{type:"string"}}}}}});var _={ATTRIBS:{'style':1,'class':1,'a::href':1,'a::target':1},ELEMENTS:{'a':{cssClass:'sapMLnk'},'abbr':1,'blockquote':1,'br':1,'cite':1,'code':1,'em':1,'h1':{cssClass:'sapMTitle sapMTitleStyleH1'},'h2':{cssClass:'sapMTitle sapMTitleStyleH2'},'h3':{cssClass:'sapMTitle sapMTitleStyleH3'},'h4':{cssClass:'sapMTitle sapMTitleStyleH4'},'h5':{cssClass:'sapMTitle sapMTitleStyleH5'},'h6':{cssClass:'sapMTitle sapMTitleStyleH6'},'p':1,'pre':1,'strong':1,'span':1,'u':1,'dl':1,'dt':1,'dd':1,'ol':1,'ul':1,'li':1}};f.prototype._renderingRules=_;function S(t,g){var h,v,j=t==="a";var k=this._renderingRules.ELEMENTS[t].cssClass||"";for(var i=0;i<g.length;i+=2){h=g[i];v=g[i+1];if(!this._renderingRules.ATTRIBS[h]&&!this._renderingRules.ATTRIBS[t+"::"+h]){g[i+1]=null;continue;}if(h=="href"){if(!U.validate(v)){g[i+1]="#";j=false;}}if(h=="target"){j=false;}if(k&&h.toLowerCase()=="class"){g[i+1]=k+" "+v;k="";}}if(j){g.push("target");g.push("_blank");}if(k){g.push("class");g.push(k);}return g;}function p(t,g){return S.call(this,t,g);}f.prototype._sanitizeHTML=function(t){return s(t,{tagPolicy:p.bind(this),uriRewriter:function(u){if(U.validate(u)){return u;}}});};f.prototype.init=function(){var o=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setProperty("placeholder",o.getText("FEEDINPUT_PLACEHOLDER"),true);this.setProperty("buttonTooltip",o.getText("FEEDINPUT_SUBMIT"),true);};f.prototype.exit=function(){if(this._oTextArea){this._oTextArea.destroy();}if(this._oButton){this._oButton.destroy();}if(this.oAvatar){this.oAvatar.destroy();}};f.prototype.setRows=function(r){var m=this.getProperty("growingMaxLines");if(r>M){r=M;}else if(r<d){r=d;}if(r>m&&m!==0){this.setProperty("growingMaxLines",r,true);this._getTextArea().setGrowingMaxLines(r);}this.setProperty("rows",r,true);this._getTextArea().setRows(r);return this;};f.prototype.setShowExceededText=function(v){this.setProperty("showExceededText",v,true);this._getTextArea().setShowExceededText(v);return this;};f.prototype.setMaxLength=function(m){this.setProperty("maxLength",m,true);this._getTextArea().setMaxLength(m);return this;};f.prototype.setGrowing=function(g){this.setProperty("growing",g,true);this._getTextArea().setGrowing(g);return this;};f.prototype.setGrowingMaxLines=function(m){var r=this.getProperty("rows");if(m!==e){if(m<r){m=r;}else if(m>M){m=M;}}this.setProperty("growingMaxLines",m,true);this._getTextArea().setGrowingMaxLines(m);return this;};f.prototype.setValue=function(v){this.setProperty("value",v,true);this._getTextArea().setValue(v);this._enablePostButton();return this;};f.prototype.setPlaceholder=function(v){this.setProperty("placeholder",v,true);this._getTextArea().setPlaceholder(v);return this;};f.prototype.setEnabled=function(E){this.setProperty("enabled",E,true);if(this.getDomRef("outerContainer")){if(E){this.getDomRef("outerContainer").classList.remove("sapMFeedInDisabled");}else{this.getDomRef("outerContainer").classList.add("sapMFeedInDisabled");}}this._getTextArea().setEnabled(E);this._enablePostButton();return this;};f.prototype.setButtonTooltip=function(v){this.setProperty("buttonTooltip",v,true);this._getPostButton().setTooltip(v);return this;};f.prototype._getTextArea=function(){var t=this;if(!this._oTextArea){this._oTextArea=new T(this.getId()+"-textArea",{value:this.getValue(),maxLength:this.getMaxLength(),placeholder:this.getPlaceholder(),growing:this.getGrowing(),growingMaxLines:this.getGrowingMaxLines(),showExceededText:this.getShowExceededText(),rows:this.getRows(),liveChange:q.proxy(function(E){var v=E.getParameter("value");this.setProperty("value",v,true);this._enablePostButton();},this)});this._oTextArea.setParent(this);this._oTextArea.addEventDelegate({onAfterRendering:function(){t.$("counterContainer").empty();t.$("counterContainer").html(t._oTextArea.getAggregation("_counter").$());}});}return this._oTextArea;};f.prototype._getPostButton=function(){if(!this._oButton){this._oButton=new B(this.getId()+"-button",{enabled:false,type:c.Default,icon:"sap-icon://feeder-arrow",tooltip:this.getButtonTooltip(),press:q.proxy(function(){this._oTextArea.focus();this.firePost({value:this._sanitizeHTML(this.getValue())});this.setValue(null);},this)});this._oButton.setParent(this);}return this._oButton;};f.prototype._enablePostButton=function(){var P=this._isControlEnabled();var o=this._getPostButton();o.setEnabled(P);};f.prototype._isControlEnabled=function(){var v=this.getValue();return this.getEnabled()&&(typeof v==="string"||v instanceof String)&&v.trim().length>0;};f.prototype._getAvatar=function(){var i=this.getIcon();var g=this.getId()+'-icon';this.oAvatar=this.getAggregation("_avatar");if(!this.oAvatar){this.oAvatar=new A({id:g,src:i,displayShape:this.getIconDisplayShape(),initials:this.getIconInitials(),displaySize:this.getIconSize()}).addStyleClass("sapMFeedInImage");if(i){this.oAvatar.addStyleClass("sapMFeedInImageBgColor");}}else{this.oAvatar.setSrc(i).setDisplayShape(this.getIconDisplayShape()).setInitials(this.getIconInitials()).setDisplaySize(this.getIconSize());}this.setAggregation("_avatar",this.oAvatar);return this.oAvatar;};return f;});
sap.ui.predefine('sap/m/FeedInputRenderer',[],function(){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var F={apiVersion:2};F.render=function(R,c){var m=c.getId();R.openStart("div",c);R.class("sapMFeedInBase");R.attr("role","group");R.attr("aria-label",r.getText("FEED_INPUT_ARIA_LABEL"));R.openEnd();R.openStart("div",m+"-outerContainer");R.class("sapMFeedIn");if(!c.getShowIcon()){R.class("sapMFeedInNoIcon");}if(!c.getEnabled()){R.class("sapMFeedInDisabled");}R.openEnd();if(c.getShowIcon()){this._addImage(R,c,m);}R.openStart("div",m+"-container");R.class("sapMFeedInContainer");R.openEnd();var t=c._getTextArea();R.renderControl(t);R.renderControl(c._getPostButton());R.close("div");R.close("div");R.openStart("div",m+"-counterContainer");R.class("sapMFeedInCounter");R.openEnd();R.close("div");R.close("div");};F._addImage=function(R,c,m){R.openStart("figure",m+'-figure').class("sapMFeedInFigure");if(!c.getIcon()){R.class("sapMFeedListItemIsDefaultIcon");}R.openEnd();R.renderControl(c._getAvatar());R.close("figure");};return F;},true);
sap.ui.predefine('sap/m/FeedListItem',["./ListItemBase","./Link","./library","./FormattedText","sap/ui/core/IconPool","sap/m/Button","sap/ui/Device","./FeedListItemRenderer","sap/m/Avatar","sap/m/AvatarShape","sap/m/AvatarSize"],function(L,a,l,F,I,B,D,b,A,c,d){"use strict";var e=l.ListType;var f=l.LinkConversion;var g=l.ButtonType;var h=L.extend("sap.m.FeedListItem",{metadata:{library:"sap.m",designtime:"sap/m/designtime/FeedListItem.designtime",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},iconDisplayShape:{type:"sap.m.AvatarShape",defaultValue:c.Circle},iconInitials:{type:"string",defaultValue:""},iconSize:{type:"sap.m.AvatarSize",defaultValue:d.S},activeIcon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},sender:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Data",defaultValue:null},moreLabel:{type:"string",group:"Data",defaultValue:null},lessLabel:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},timestamp:{type:"string",group:"Data",defaultValue:null},senderActive:{type:"boolean",group:"Behavior",defaultValue:true},iconActive:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",defaultValue:true},showIcon:{type:"boolean",group:"Behavior",defaultValue:true},convertLinksToAnchorTags:{type:"sap.m.LinkConversion",group:"Behavior",defaultValue:f.None},convertedLinksDefaultTarget:{type:"string",group:"Behavior",defaultValue:"_blank"},maxCharacters:{type:"int",group:"Behavior",defaultValue:null}},defaultAggregation:"actions",aggregations:{actions:{type:"sap.m.FeedListItemAction",multiple:true},_text:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},_actionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"},_actionButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_avatar:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"}},events:{senderPress:{parameters:{domRef:{type:"string"},getDomRef:{type:"function"}}},iconPress:{parameters:{domRef:{type:"string"},getDomRef:{type:"function"}}}}}});h._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");h._nMaxCharactersMobile=300;h._nMaxCharactersDesktop=500;h._sTextShowMore=h._oRb.getText("TEXT_SHOW_MORE");h._sTextShowLess=h._oRb.getText("TEXT_SHOW_LESS");h.prototype.init=function(){L.prototype.init.apply(this);this.setAggregation("_text",new F(this.getId()+"-formattedText"),true);this.setAggregation("_actionButton",new B({id:this.getId()+"-actionButton",type:g.Transparent,icon:"sap-icon://overflow",press:[this._onActionButtonPress,this]}),true);};h.prototype._onActionButtonPress=function(){sap.ui.require(["sap/m/ActionSheet"],this._openActionSheet.bind(this));};h.prototype._openActionSheet=function(j){var o=this.getAggregation("_actionSheet");var k=this.getActions();var m;if(!(o&&o instanceof j)){o=new j({id:this.getId()+"-actionSheet",beforeOpen:[this._onBeforeOpenActionSheet,this]});this.setAggregation("_actionSheet",o,true);}o.destroyAggregation("buttons",true);for(var i=0;i<k.length;i++){m=k[i];o.addButton(new B({icon:m.getIcon(),text:m.getText(),visible:m.getVisible(),enabled:m.getEnabled(),press:m.firePress.bind(m,{"item":this})}));}o.openBy(this.getAggregation("_actionButton"));};h.prototype._onBeforeOpenActionSheet=function(i){var o,t;if(D.system.phone){return;}t=sap.ui.getCore().getConfiguration().getTheme();o=i.getSource().getParent();o.removeStyleClass("sapContrast sapContrastPlus");if(t==="sap_belize"){o.addStyleClass("sapContrast");}else if(t==="sap_belize_plus"){o.addStyleClass("sapContrastPlus");}};h.prototype.invalidate=function(){L.prototype.invalidate.apply(this,arguments);var m=h._sTextShowMore;if(this.getMoreLabel()){m=this.getMoreLabel();}delete this._bTextExpanded;if(this._oLinkExpandCollapse){this._oLinkExpandCollapse.setProperty("text",m,true);}};h.prototype.onBeforeRendering=function(){this.$("realtext").find('a[target="_blank"]').off("click");var o=this.getAggregation("_text");o.setProperty("convertLinksToAnchorTags",this.getConvertLinksToAnchorTags(),true);o.setProperty("convertedLinksDefaultTarget",this.getConvertedLinksDefaultTarget(),true);if(this.getConvertLinksToAnchorTags()===f.None){o.setHtmlText(this.getText());}else{o.setProperty("htmlText",this.getText(),true);}this._sFullText=o._getDisplayHtml().replace(/\n/g,"<br>");this._sShortText=this._getCollapsedText();if(this._sShortText){this._sShortText=this._sShortText.replace(/<br>/g," ");}this._bEmptyTagsInShortTextCleared=false;};h.prototype.onAfterRendering=function(){if(document.getElementById(this.getAggregation("_actionButton"))){document.getElementById(this.getAggregation("_actionButton").getId()).setAttribute("aria-haspopup","menu");}if(this._checkTextIsExpandable()&&!this._bTextExpanded){this._clearEmptyTagsInCollapsedText();}var r=this.$("realtext");F.prototype.onAfterRendering.apply({$:function(){return r;}});};h.prototype.exit=function(){this.$("realtext").find('a[target="_blank"]').off("click");if(this._oLinkControl){this._oLinkControl.destroy();}if(this.oAvatar){this.oAvatar.destroy();}if(this._oLinkExpandCollapse){this._oLinkExpandCollapse.destroy();}L.prototype.exit.apply(this);};h.prototype.ontap=function(E){if(E.srcControl){if((!this.getIconActive()&&this.oAvatar&&E.srcControl.getId()===this.oAvatar.getId())||(!this.getSenderActive()&&this._oLinkControl&&E.srcControl.getId()===this._oLinkControl.getId())||(!this.oAvatar||(E.srcControl.getId()!==this.oAvatar.getId())&&(!this._oLinkControl||(E.srcControl.getId()!==this._oLinkControl.getId()))&&(!this._oLinkExpandCollapse||(E.srcControl.getId()!==this._oLinkExpandCollapse.getId())))){L.prototype.ontap.apply(this,[E]);}}};h.prototype.onfocusin=function(E){var i=E.srcControl,o=i.getDomRef(),p=this.getParent().getAccessbilityPosition(i);if(i instanceof sap.m.FeedListItem){o.setAttribute("aria-posinset",p.posInset);o.setAttribute("aria-setsize",p.setSize);}};h.prototype._getAvatar=function(){var i=this.getIcon();var s=this.getId()+'-icon';this.oAvatar=this.getAggregation("_avatar");this.oAvatar=this.oAvatar||new A(s);this.oAvatar.applySettings({src:i,displayShape:this.getIconDisplayShape(),initials:this.getIconInitials(),displaySize:this.getIconSize(),ariaLabelledBy:this.getSender()});var t=this;if(this.getIconActive()){this.oAvatar.addStyleClass("sapMFeedListItemImage");if(!this.oAvatar.hasListeners("press")){this.oAvatar.attachPress(function(){t.fireIconPress({domRef:this.getDomRef(),getDomRef:this.getDomRef.bind(this)});});}}else{this.oAvatar.addStyleClass("sapMFeedListItemImageInactive");}this.setAggregation("_avatar",this.oAvatar);return this.oAvatar;};h.prototype._getLinkSender=function(w){if(!this._oLinkControl){var t=this;this._oLinkControl=new a({press:function(){t.fireSenderPress({domRef:this.getDomRef(),getDomRef:this.getDomRef.bind(this)});}});this._oLinkControl.setParent(this,null,true);}if(w){this._oLinkControl.setProperty("text",this.getSender()+h._oRb.getText("COLON"),true);}else{this._oLinkControl.setProperty("text",this.getSender(),true);}this._oLinkControl.setProperty("enabled",this.getSenderActive(),true);return this._oLinkControl;};h.prototype._activeHandlingInheritor=function(){var s=this.getActiveIcon();if(this.oAvatar&&s){this.oAvatar.setSrc(s);}};h.prototype._inactiveHandlingInheritor=function(){var s=this.getIcon()?this.getIcon():I.getIconURI("person-placeholder");if(this.oAvatar){this.oAvatar.setSrc(s);}};h.prototype._getCollapsedText=function(){this._nMaxCollapsedLength=this.getMaxCharacters();if(this._nMaxCollapsedLength===0){if(D.system.phone){this._nMaxCollapsedLength=h._nMaxCharactersMobile;}else{this._nMaxCollapsedLength=h._nMaxCharactersDesktop;}}var p=this._convertHtmlToPlainText(this._sFullText);var t=null;if(p&&p.length>this._nMaxCollapsedLength){var C=p.substring(0,this._nMaxCollapsedLength);var n=C.lastIndexOf(" ");if(n>0){C=C.substr(0,n);}if(p.length===this._sFullText.length){t=C;}else{t=this._convertPlainToHtmlText(C);}}return t;};h.prototype._clearEmptyTagsInCollapsedText=function(){var r;if(this._bEmptyTagsInShortTextCleared){return;}this._bEmptyTagsInShortTextCleared=true;do{r=this.$("realtext").find(":empty").remove();}while(r.length>0);this._sShortText=this.$("realtext").html();};h.prototype._toggleTextExpanded=function(){var $=this.$("realtext");var i=this.$("threeDots");var m=h._sTextShowMore;var s=h._sTextShowLess;if(this.getMoreLabel()){m=this.getMoreLabel();}if(this.getLessLabel()){s=this.getLessLabel();}if(this._bTextExpanded){$.html(this._sShortText.replace(/&#xa;/g,"<br>"));i.text(" ... ");this._oLinkExpandCollapse.setText(m);this._bTextExpanded=false;this._clearEmptyTagsInCollapsedText();}else{$.html(this._sFullText.replace(/&#xa;/g,"<br>"));i.text("  ");this._oLinkExpandCollapse.setText(s);this._bTextExpanded=true;}};h.prototype._getLinkExpandCollapse=function(){var m=h._sTextShowMore;if(this.getMoreLabel()){m=this.getMoreLabel();}if(!this._oLinkExpandCollapse){this._oLinkExpandCollapse=new a({text:m,press:[this._toggleTextExpanded,this]});this._bTextExpanded=false;this._oLinkExpandCollapse.setParent(this,null,true);}return this._oLinkExpandCollapse;};h.prototype._convertHtmlToPlainText=function(i){var r=/(<([^>]+)>)/ig;return i.replace(r,"");};h.prototype._convertPlainToHtmlText=function(j){var s=this._sFullText;var r=/(<([^>]+)>)/ig;var E=s.split(r);var t="";for(var i=0;i<E.length;i++){if(E[i].length===0){continue;}if(j.length>0&&E[i].indexOf(j.trim())!==-1){E[i]=j;}if(/^<.+>$/.test(E[i])){t=t+E[i];E[i+1]="";continue;}if(j.indexOf(E[i].trim())===-1){continue;}else{j=j.replace(E[i],"");}t=t+E[i];}return t;};h.prototype._checkTextIsExpandable=function(){return this._sShortText!==null;};h.prototype.setType=function(t){if(this.getType()!==t){if(t===e.Navigation){this.setProperty("type",e.Active);}else{this.setProperty("type",t);}}return this;};return h;});
sap.ui.predefine('sap/m/FeedListItemAction',["sap/ui/core/Element"],function(E){"use strict";var F=E.extend("sap.m.FeedListItemAction",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:""},key:{type:"string",group:"Misc",defaultValue:""},visible:{type:"boolean",group:"Appearance",defaultValue:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true}},events:{press:{}}}});return F;});
sap.ui.predefine('sap/m/FeedListItemRenderer',["./ListItemBaseRenderer","sap/ui/core/Renderer","sap/ui/Device"],function(L,R,D){"use strict";var F=R.extend(L);F.apiVersion=2;F.renderLIAttributes=function(r,c){r.class("sapMFeedListItemTitleDiv");r.class("sapMFeedListShowSeparatorsAll");};F.renderLIContent=function(r,c){var m=c.getId(),i=D.system.phone;r.openStart('div');r.class('sapMFeedListItem');r.openEnd();if(c.getShowIcon()){this._writeAvatarControl(r,c,m);}if(c.getActions().length>0){r.openStart("div",m+"-action-button");r.class('sapMFeedListItemActionButton');r.openEnd();r.renderControl(c.getAggregation("_actionButton"));r.close("div");}if(i){r.openStart('div').class("sapMFeedListItemHeader").class("sapUiSelectable");if(c.getShowIcon()){r.class("sapMFeedListItemHasFigure");}if(c.getSender()&&c.getTimestamp()){r.class('sapMFeedListItemFullHeight');}r.openEnd();if(c.getSender()){r.openStart('p',m+'-name').class("sapMFeedListItemTextName").class("sapUiSelectable").openEnd();r.renderControl(c._getLinkSender(false));r.close('p');}if(c.getTimestamp()){r.openStart('p',m+'-timestamp').class("sapMFeedListItemTimestamp").class("sapUiSelectable").openEnd();r.text(c.getTimestamp());r.close('p');}r.close('div');r.openStart('div').class("sapMFeedListItemText").class("sapUiSelectable").openEnd();this._writeText(r,c,m,i);if(c._checkTextIsExpandable()){this._writeCollapsedText(r,c,m);}else{r.unsafeHtml(c._sFullText);r.close('span');}r.close('div');if(c.getInfo()){r.openStart('p').class("sapMFeedListItemFooter").class("sapUiSelectable").openEnd();if(c.getInfo()){r.openStart('span',m+'-info').class("sapMFeedListItemInfo").class("sapUiSelectable").openEnd();r.text(c.getInfo());r.close('span');}r.close('p');}}else{r.openStart('div').class("sapMFeedListItemText");if(c.getShowIcon()){r.class('sapMFeedListItemHasFigure');}r.openEnd();r.openStart('div',m+'-text').class("sapMFeedListItemTextText").class("sapUiSelectable").openEnd();if(c.getSender()){r.openStart('span',m+'-name').class("sapMFeedListItemTextName").class("sapUiSelectable").openEnd();r.renderControl(c._getLinkSender(true));r.close('span');}this._writeText(r,c,m,i);if(c._checkTextIsExpandable()){this._writeCollapsedText(r,c,m);}else{r.unsafeHtml(c._sFullText);r.close('span');}r.close('div');if(c.getInfo()||c.getTimestamp()){r.openStart('p').class("sapMFeedListItemFooter").class("sapUiSelectable").openEnd();if(!sap.ui.getCore().getConfiguration().getRTL()){if(c.getInfo()){this._writeInfo(r,c,m);if(c.getTimestamp()){r.openStart("span").openEnd();r.text("\u00a0\u00a0\u00B7\u00a0\u00a0");r.close("span");}}if(c.getTimestamp()){this._writeTimestamp(r,c,m);}}else{if(c.getTimestamp()){this._writeTimestamp(r,c,m);}if(c.getInfo()){if(c.getTimestamp()){r.openStart("span").openEnd();r.text("\u00a0\u00a0\u00B7\u00a0\u00a0");r.close("span");}this._writeInfo(r,c,m);}}r.close('p');}r.close('div');}r.close('div');};F._writeAvatarControl=function(r,c,i){r.openStart('figure',i+'-figure');r.class('sapMFeedListItemFigure');if(!c.getIcon()){r.class('sapMFeedListItemIsDefaultIcon');}r.openEnd();r.renderControl(c._getAvatar());r.close('figure');};F._writeCollapsedText=function(r,c,i){if(c._bTextExpanded){r.unsafeHtml(c._sFullText);r.close('span');r.openStart('span',i+'-threeDots').class("sapMFeedListItemTextString").openEnd();r.text(" ");r.close('span');}else{r.unsafeHtml(c._sShortText);r.close('span');r.openStart('span',i+'-threeDots').class("sapMFeedListItemTextString").openEnd();r.text(" ... ");r.close('span');}var l=c._getLinkExpandCollapse();l.addStyleClass("sapMFeedListItemLinkExpandCollapse");r.renderControl(l);};F._writeTimestamp=function(r,c,i){r.openStart('span',i+'-timestamp');r.class('sapMFeedListItemTimestampText');r.class('sapUiSelectable');if(c.getUnread()){r.class('sapMFeedListItem-Unread');}r.openEnd();r.text(c.getTimestamp());r.close('span');};F._writeInfo=function(r,c,i){r.openStart('span',i+'-info');r.class('sapMFeedListItemInfoText');r.class('sapUiSelectable');if(c.getUnread()){r.class('sapMFeedListItem-Unread');}r.openEnd();r.text(c.getInfo());r.close('span');};F._writeText=function(r,c,i,I){r.openStart('span',i+'-realtext');r.class(I?'sapMFeedListItemText':'sapMFeedListItemTextString');r.class('sapMFeedListItemText');r.class('sapUiSelectable');if(c.getUnread()){r.class('sapMFeedListItem-Unread');}r.openEnd();};return F;},true);
sap.ui.predefine('sap/m/GenericTag',["sap/ui/core/Control","sap/ui/events/KeyCodes",'./library',"sap/ui/core/library","sap/ui/core/Icon","./GenericTagRenderer"],function(C,K,l,c,I){"use strict";var G=l.GenericTagDesign,a=l.GenericTagValueState,V=c.ValueState,b={Error:"sap-icon://message-error",Warning:"sap-icon://message-warning",Success:"sap-icon://message-success",Information:"sap-icon://hint"};var d=C.extend("sap.m.GenericTag",{metadata:{library:"sap.m",interfaces:["sap.m.IOverflowToolbarContent","sap.m.IOverflowToolbarFlexibleContent"],properties:{text:{type:"string",defaultValue:""},status:{type:"sap.ui.core.ValueState",defaultValue:V.None},design:{type:"sap.m.GenericTagDesign",defaultValue:G.Full},valueState:{type:"sap.m.GenericTagValueState",defaultValue:a.None}},defaultAggregation:"value",aggregations:{value:{type:"sap.m.ObjectNumber",multiple:false},_statusIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_errorIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{press:{}}}});d.CLASSNAME_OVERFLOW_TOOLBAR="sapMGenericTagOverflowToolbar";d.prototype.setStatus=function(s){this.setProperty("status",s,false);this._getStatusIcon().setSrc(s!==V.None?b[s]:null);return this;};d.prototype.setValue=function(v){var p=this.getValue();if(p){v.detachEvent("_change",this._fireValueChanged,this);}this.setAggregation("value",v);v.attachEvent("_change",this._fireValueChanged,this);this._fireValueChanged();return this;};d.prototype._fireValueChanged=function(){this.fireEvent("_valueChanged");};d.prototype._getStatusIcon=function(){var s=this.getAggregation("_statusIcon");if(!s){s=new I(this.getId()+"-statusIcon").addStyleClass("sapMGenericTagIcon");this.setAggregation("_statusIcon",s);}return s;};d.prototype._getErrorIcon=function(){var e=this.getAggregation("_errorIcon");if(!e){e=new I(this.getId()+"-errorIcon",{src:b[V.Error]}).addStyleClass("sapMGenericTagErrorIcon");this.setAggregation("_errorIcon",e);}return e;};d.prototype.ontouchstart=function(){this._toggleActiveGenericTag(true);};d.prototype.ontouchend=function(){this._toggleActiveGenericTag(false);};d.prototype.ontouchcancel=function(){this._toggleActiveGenericTag(false);};d.prototype.onkeydown=function(e){if(e.which===K.SPACE||e.which===K.ENTER){this._toggleActiveGenericTag(true);}if(e.which===K.SHIFT||e.which===K.ESCAPE){this._bShouldInterupt=this._bSpacePressed;}if(e.which===K.SPACE){this._bSpacePressed=true;e.preventDefault();}if(e.which===K.ENTER){this.firePress();}};d.prototype.onkeyup=function(e){if(e.which===K.SPACE||e.which===K.ENTER){this._toggleActiveGenericTag(false);}if(e.which===K.SPACE){if(!this._bShouldInterupt){this.firePress();}this._bShouldInterupt=false;this._bSpacePressed=false;}};d.prototype.onclick=function(){this.firePress();};d.prototype.onfocusout=function(){this._toggleActiveGenericTag(false);};d.prototype._toggleActiveGenericTag=function(t){this.toggleStyleClass("sapMGenericTagActive",t);};d.prototype._onBeforeEnterOverflow=function(o){o.addStyleClass(d.CLASSNAME_OVERFLOW_TOOLBAR);};d.prototype._onAfterExitOverflow=function(o){o.removeStyleClass(d.CLASSNAME_OVERFLOW_TOOLBAR);};d.prototype.getOverflowToolbarConfig=function(){var o={canOverflow:true,invalidationEvents:["_valueChanged"]};o.onBeforeEnterOverflow=this._onBeforeEnterOverflow;o.onAfterExitOverflow=this._onAfterExitOverflow;return o;};return d;});
sap.ui.predefine('sap/m/GenericTagRenderer',["./library","sap/ui/core/library"],function(l,c){"use strict";var G=l.GenericTagDesign,a=l.GenericTagValueState,V=c.ValueState,C=sap.ui.getCore(),b={apiVersion:2};b.render=function(r,o){var L=this._getAriaLabelledBy(o),R=C.getLibraryResourceBundle("sap.m"),t=o.getTooltip_AsString();r.openStart("div",o);r.class("sapMGenericTag");r.attr("tabindex",0);r.class("sapMGenericTag"+o.getStatus());r.accessibilityState(o,{role:"button",roledescription:R.getText("GENERICTAG_ROLEDESCRIPTION"),labelledby:L.join(" ")});if(t){r.attr("title",t);}r.openEnd();r.openStart("div");r.class("sapMGenericTagWrap");r.openEnd();this.renderElements(r,o);r.close("div");r.close("div");};b.renderElements=function(r,o){var s=o.getDesign()===G.StatusIconHidden,S=o.getValueState()===a.Error,v=o.getValue();if(!s&&o.getStatus()!==V.None){r.renderControl(o._getStatusIcon());}this.renderText(r,o);if(S){r.renderControl(o._getErrorIcon());}else if(v){r.renderControl(v.addStyleClass("sapMGenericTagValue"));}this.renderHiddenARIAElement(r,o);};b.renderText=function(r,o){r.openStart("span",o.getId()+"-text");r.class("sapMGenericTagText");r.openEnd();r.text(o.getText());r.close("span");};b.renderHiddenARIAElement=function(r,o){if(o.getStatus()===V.None){return;}r.openStart("span",o.getId()+"-status");r.class("sapUiInvisibleText");r.attr("aria-hidden","true");r.openEnd();r.text(this._getGenericTagStatusText(o));r.close("span");};b._getAriaLabelledBy=function(o){var L=[],i=o.getId(),t=this._getTagValueId(o);if(o.getStatus()!==V.None){L.push(i+"-status");}L.push(i+"-text");L.push(o.getValueState()===a.Error?i+"-errorIcon":t);return L;};b._getGenericTagStatusText=function(o){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),A;switch(o.getStatus()){case V.Error:A=r.getText("GENERICTAG_ARIA_VALUE_STATE_ERROR");break;case V.Warning:A=r.getText("GENERICTAG_ARIA_VALUE_STATE_WARNING");break;case V.Success:A=r.getText("GENERICTAG_ARIA_VALUE_STATE_SUCCESS");break;case V.Information:A=r.getText("GENERICTAG_ARIA_VALUE_STATE_INFORMATION");break;default:}return A;};b._getTagValueId=function(o){var v=o.getValue();return v?v.getId():"";};return b;},true);
sap.ui.predefine('sap/m/GrowingList',['./List','./library','./GrowingListRenderer'],function(L,l,G){"use strict";var a=L.extend("sap.m.GrowingList",{metadata:{deprecated:true,library:"sap.m",properties:{threshold:{type:"int",group:"Misc",defaultValue:20},triggerText:{type:"string",group:"Appearance",defaultValue:null},scrollToLoad:{type:"boolean",group:"Behavior",defaultValue:false}}}});a.prototype._isIncompatible=function(){return sap.ui.getCore().getConfiguration().getCompatibilityVersion("sapMGrowingList").compareTo("1.16")>=0;};a.prototype.init=function(){L.prototype.init.call(this);if(!this._isIncompatible()){this.setGrowing();}};a.prototype.setGrowing=function(){return L.prototype.setGrowing.call(this,true);};!(function(g,o){["Threshold","TriggerText","ScrollToLoad"].forEach(function(p){g["set"+p]=o["setGrowing"+p];g["get"+p]=o["getGrowing"+p];});}(a.prototype,L.prototype));return a;});
sap.ui.predefine('sap/m/GrowingListRenderer',['./ListRenderer','sap/ui/core/Renderer',"sap/base/Log"],function(L,R,a){"use strict";var G=R.extend(L);G.apiVersion=2;G.render=function(r,c){if(c._isIncompatible()){a.warning("Does not render sap.m.GrowingList#"+c.getId()+" when compatibility version is 1.16 or higher. Instead use sap.m.List/Table control with growing feature!");}else{L.render.call(this,r,c);}};return G;},true);
sap.ui.predefine('sap/m/HeaderContainer',['./library','./Button','./ScrollContainer','sap/ui/core/Core','sap/ui/core/Control','sap/ui/Device','sap/m/HeaderContainerItemNavigator','sap/ui/core/delegate/ItemNavigation','sap/ui/core/library','sap/ui/core/IntervalTrigger','sap/ui/core/Icon','./HeaderContainerRenderer',"sap/base/Log","sap/ui/events/KeyCodes","sap/ui/events/PseudoEvents","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/control","sap/ui/dom/jquery/scrollLeftRTL","sap/ui/dom/jquery/scrollRightRTL","sap/ui/dom/jquery/Selectors"],function(l,B,S,C,a,D,H,I,c,b,d,e,L,K,P,q){"use strict";var O=c.Orientation;var f=a.extend("sap.m.HeaderContainerItemContainer",{metadata:{defaultAggregation:"item",properties:{position:{type:"int",defaultValue:null},setSize:{type:"int",defaultValue:null},ariaLabelledBy:{type:"string",defaultValue:null}},aggregations:{item:{type:"sap.ui.core.Control",multiple:false}}},renderer:{apiVersion:2,render:function(r,o){var i=o.getAggregation("item");if(!i||!i.getVisible()){return;}r.openStart("div",o);r.class("sapMHdrCntrItemCntr");r.class("sapMHrdrCntrInner");r.attr("aria-setsize",o.getSetSize());r.attr("aria-posinset",o.getPosition());r.attr("role","listitem");if(o.getAriaLabelledBy()){r.attr("aria-labelledby",o.getAriaLabelledBy());}r.openEnd();r.renderControl(i);r.close("div");}}});var g=a.extend("sap.m.HeaderContainer",{metadata:{interfaces:["sap.m.ObjectHeaderContainer"],library:"sap.m",properties:{scrollStep:{type:"int",defaultValue:300,group:"Behavior"},scrollStepByItem:{type:"int",defaultValue:1,group:"Behavior"},scrollTime:{type:"int",defaultValue:500,group:"Behavior"},showOverflowItem:{type:"boolean",defaultValue:true,group:"Behavior"},showDividers:{type:"boolean",defaultValue:true,group:"Appearance"},orientation:{type:"sap.ui.core.Orientation",defaultValue:O.Horizontal,group:"Appearance"},backgroundDesign:{type:"sap.m.BackgroundDesign",defaultValue:l.BackgroundDesign.Transparent,group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Appearance"},height:{type:"sap.ui.core.CSSSize",group:"Appearance"}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true},_scrollContainer:{type:"sap.m.ScrollContainer",multiple:false,visibility:"hidden"},_prevButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_nextButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{scroll:{}}}});g.prototype.init=function(){this._aItemEnd=[];this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oScrollCntr=new S(this.getId()+"-scrl-cntnr",{width:"100%",height:"100%",horizontal:!D.system.desktop});this.setAggregation("_scrollContainer",this._oScrollCntr,true);if(D.system.desktop){this._oArrowPrev=new B({id:this.getId()+"-scrl-prev-button",type:l.ButtonType.Transparent,tooltip:this._oRb.getText("HEADERCONTAINER_BUTTON_PREV_SECTION"),press:function(E){E.cancelBubble();this._scroll(this._getScrollValue(false),this.getScrollTime());}.bind(this)}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrLeft");this._oArrowPrev._bExcludeFromTabChain=true;this.setAggregation("_prevButton",this._oArrowPrev,true);this._oArrowNext=new B({id:this.getId()+"-scrl-next-button",type:l.ButtonType.Transparent,tooltip:this._oRb.getText("HEADERCONTAINER_BUTTON_NEXT_SECTION"),press:function(E){E.cancelBubble();this._scroll(this._getScrollValue(true),this.getScrollTime());}.bind(this)}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrRight");this._oArrowNext._bExcludeFromTabChain=true;this.setAggregation("_nextButton",this._oArrowNext,true);}else if(D.system.phone||D.system.tablet){this._oArrowPrev=new d({id:this.getId()+"-scrl-prev-button"}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrLeft");this.setAggregation("_prevButton",this._oArrowPrev,true);this._oArrowNext=new d({id:this.getId()+"-scrl-next-button"}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrRight");this.setAggregation("_nextButton",this._oArrowNext,true);}this._oScrollCntr.addDelegate({onAfterRendering:function(){if(D.system.desktop){var F=this._oScrollCntr.getDomRef("scroll");var o=this._oScrollCntr.$("scroll");var h=o.find(".sapMHrdrCntrInner").attr("tabindex","0");F.setAttribute("role","list");if(!this._oItemNavigation){this._oItemNavigation=new H();this.addDelegate(this._oItemNavigation);this._oItemNavigation.attachEvent(I.Events.BorderReached,this._handleBorderReached,this);this._oItemNavigation.attachEvent(I.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(I.Events.BeforeFocus,this._handleBeforeFocus,this);if(D.browser.msie||D.browser.edge){this._oItemNavigation.attachEvent(I.Events.FocusAgain,this._handleFocusAgain,this);}}this._oItemNavigation.setRootDomRef(F);this._oItemNavigation.setItemDomRefs(h);this._oItemNavigation.setTabIndex0();this._oItemNavigation.setCycling(false);this._handleMobileScrolling();}}.bind(this)});b.addListener(this._checkOverflow,this);};g.prototype.onBeforeRendering=function(){var i=this.getOrientation()===O.Horizontal,s=i?"sap-icon://slim-arrow-left":"sap-icon://slim-arrow-up",h=i?"sap-icon://slim-arrow-right":"sap-icon://slim-arrow-down";if(!this.getHeight()){L.warning("No height provided",this);}if(!this.getWidth()){L.warning("No width provided",this);}if(D.system.desktop){this._oArrowPrev.setProperty("icon",s,true);this._oArrowNext.setProperty("icon",h,true);}else if(D.system.phone||D.system.tablet){this._oArrowPrev.setProperty("src",s,true);this._oArrowNext.setProperty("src",h,true);}this.getContent();};g.prototype.onAfterRendering=function(){this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._checkOverflow();};g.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();this._oItemNavigation=null;}b.removeListener(this._checkOverflow,this);};g.prototype.onsaptabnext=function(E){var F=this.$().find(":focusable");var t=F.index(E.target);var n=F.eq(t+1).get(0);var o=this._getParentCell(E.target);var T;if(n){T=this._getParentCell(n);}if((o&&T&&o.id!==T.id)||(n&&n.id===this.getId()+"-after")||(n&&n.id===this.getId()+"-scrl-prev-button")||(n&&n.id===this.getId()+"-scrl-next-button")){var h=F.last().get(0);if(h){this._bIgnoreFocusIn=true;h.focus();}}};g.prototype.onsaptabprevious=function(E){this.$().find(".sapMHdrCntrItemCntr").css("border-color","");var F=this.$().find(":focusable");var t=F.index(E.target);var p=F.eq(t-1).get(0);var o=this._getParentCell(E.target);var T;if(p){T=this._getParentCell(p);}if(!T||o&&o.id!==T.id){var s=this.$().attr("tabindex");this.$().attr("tabindex","0");this.$().trigger("focus");if(!s){this.$().removeAttr("tabindex");}else{this.$().attr("tabindex",s);}}};g.prototype.setOrientation=function(v){this.setProperty("orientation",v);if(v===O.Horizontal&&!D.system.desktop){this._oScrollCntr.setHorizontal(true);this._oScrollCntr.setVertical(false);}else if(!D.system.desktop){this._oScrollCntr.setHorizontal(false);this._oScrollCntr.setVertical(true);}return this;};g.prototype.validateAggregation=function(A,o,m){return this._callSuperMethod("validateAggregation",A,o,m);};g.prototype.getAggregation=function(A,o,s){return this._callSuperMethod("getAggregation",A,o,s);};g.prototype.setAggregation=function(A,o,s){return this._callSuperMethod("setAggregation",A,o,s);};g.prototype.indexOfAggregation=function(A,o){return this._callSuperMethod("indexOfAggregation",A,o);};g.prototype.insertAggregation=function(A,o,i,s){return this._callSuperMethod("insertAggregation",A,o,i,s);};g.prototype.addAggregation=function(A,o,s){return this._callSuperMethod("addAggregation",A,o,s);};g.prototype.removeAggregation=function(A,o,s){return this._callSuperMethod("removeAggregation",A,o,s);};g.prototype.removeAllAggregation=function(A,s){return this._callSuperMethod("removeAllAggregation",A,s);};g.prototype.destroyAggregation=function(A,s){return this._callSuperMethod("destroyAggregation",A,s);};g.prototype.onkeydown=function(E){var h=this.getOrientation()===O.Horizontal,$=this.$("prev-button-container"),i=this.$("next-button-container"),s,j=0,k=this._filterVisibleItems();if(E.which===K.ARROW_RIGHT&&h){s=k[E.srcControl.mProperties.position-1].$().parent().outerWidth(true);if(s<this._getSize($.is(":visible"))){this._scroll((s-j),this.getScrollTime());}}else if(E.which===K.ARROW_LEFT&&h){s=k[E.srcControl.mProperties.position-1].$().parent().outerWidth(true);if(s<this._getSize(i.is(":visible"))){if(!i.is(":visible")){var m=10;if(s+m<this._getSize(true)){j=i.width()+m;}else{j=i.width();}}this._scroll(-(s-j),this.getScrollTime());}}if(E.which===K.ARROW_DOWN&&!h){s=k[E.srcControl.mProperties.position-1].$().parent().outerHeight(true);if(s<this._getSize($.is(":visible"))){this._scroll((s-j),this.getScrollTime());}}else if(E.which===K.ARROW_UP&&!h){s=k[E.srcControl.mProperties.position-1].$().parent().outerHeight(true);if(s<this._getSize(i.is(":visible"))){if(!i.is(":visible")){var m=10;if(s+m<this._getSize(true)){j=i.height()+m;}else{j=i.wheightidth();}}this._scroll(-(s-j),this.getScrollTime());}}};g.prototype._setScrollInProcess=function(v){this.bScrollInProcess=v;};g.prototype._scroll=function(i,h){this._setScrollInProcess(true);this.fireScroll();setTimeout(this._setScrollInProcess.bind(this,false),h+300);if(this.getOrientation()===O.Horizontal){this._hScroll(i,h);}else{this._vScroll(i,h);}};g.prototype._vScroll=function(h,i){var o=this._oScrollCntr.getDomRef(),s=o.scrollTop,j=o.scrollHeight,k=s+h,m=o.clientHeight,p=parseFloat(this.$("scroll-area").css("padding-top")),r;if(k<=0){r=this._calculateRemainingScrolling(h,i,s);this.$("scroll-area").css("transition","padding "+r+"s");this.$().removeClass("sapMHrdrTopPadding");}else if(k+m+p>=j){r=this._calculateRemainingScrolling(h,i,j-m-s);this.$("scroll-area").css("transition","padding "+r+"s");if(m+h>j&&m!==j){this.$().removeClass("sapMHrdrBottomPadding");this.$().addClass("sapMHrdrTopPadding");}else{this.$().removeClass("sapMHrdrBottomPadding");}}else{this.$("scroll-area").css("transition","padding "+i/1000+"s");}this._oScrollCntr.scrollTo(0,k,i);};g.prototype._hScroll=function(h,i){var o=this._oScrollCntr.getDomRef();var s,j,k,m,p,r;if(!this._bRtl){j=o.scrollLeft;m=o.scrollWidth;k=o.clientWidth+(D.browser.msie?1:0);s=j+h;p=parseFloat(this.$("scroll-area").css("padding-left"));if(s<=0){r=this._calculateRemainingScrolling(h,i,j);this.$("scroll-area").css("transition","padding "+r+"s");this.$().removeClass("sapMHrdrLeftPadding");}else if(s+o.clientWidth+p>=m){r=this._calculateRemainingScrolling(h,i,m-k-j);this.$("scroll-area").css("transition","padding "+r+"s");if(k+h>m&&k!==m){this.$().removeClass("sapMHrdrRightPadding");this.$().addClass("sapMHrdrLeftPadding");}else{this.$().removeClass("sapMHrdrRightPadding");}}else{this.$("scroll-area").css("transition","padding "+i/1000+"s");}this._oScrollCntr.scrollTo(s,0,i);}else{s=q(o).scrollRightRTL()+h;this._oScrollCntr.scrollTo((s>0)?s:0,0,i);}};g.prototype._collectItemSize=function(){var s=0,h=this._filterVisibleItems(),F=this.getOrientation()===O.Horizontal?"outerWidth":"outerHeight";this._aItemEnd=[];h.forEach(function(o,i){s+=o.$().parent()[F](true);this._aItemEnd[i]=s;},this);};g.prototype._getScrollValue=function(F){if(!this._oScrollCntr){return 0;}var h=this.getOrientation()===O.Horizontal,$=this._oScrollCntr.$(),j=this.$("prev-button-container"),m=this.$("next-button-container"),s=h?$[0].scrollLeft:$[0].scrollTop,t=0,n=0,o,p=this._filterVisibleItems();var G=function(k){var n=0,u=0;var v=10;if(this._bRtl&&h){if(!j.is(":visible")){u=j.width();}if(!m.is(":visible")){u=m.width();}}for(var i=0;i<p.length&&i<k;i++){n+=r(p[i]);}return n!==0?n+v-u:0;}.bind(this);var r=function(k){return h?k.$().parent().outerWidth(true):k.$().parent().outerHeight(true);};var E=function(){var n=this._getSize(true),M,A=0;for(var i=t;i<p.length;i++){if(!p[i].$().is(":visible")){M=r(p[i])+G(i)-n-s;for(var k=t;k<p.length&&k<i;k++){if(o+A>M){break;}t++;A+=r(p[k]);}o+=A;break;}}}.bind(this);if(this.getScrollStepByItem()>0){s=h&&this._bRtl?$.scrollRightRTL():s;for(var i=0;i<p.length;i++){n+=r(p[i]);if(n>=s){t=i;break;}}t=(F?1:-1)*this.getScrollStepByItem()+t;if(t<0){t=0;}if(t>=p.length){t=p.length-1;}o=G(t)-s;if(F&&!this.getShowOverflowItem()){E();}return o;}return F?this.getScrollStep():-this.getScrollStep();};g.prototype._calculateRemainingScrolling=function(h,i,j){return Math.abs(j*i/(1000*h));};g.prototype._checkOverflow=function(){if(this.getOrientation()===O.Horizontal){this._checkHOverflow();}else{this._checkVOverflow();}};g.prototype._filterVisibleItems=function(){return this.getContent().filter(function(i){return i.getVisible();});};g.prototype._getFirstItemOffset=function(t){var F=this._filterVisibleItems()[0],$=F&&F.$(),h=$&&$.parent(),i=h&&h[0]&&h[0][t];return i||0;};g.prototype._checkVOverflow=function(){var o=this._oScrollCntr.getDomRef(),h,$;if(o){var F=this._getFirstItemOffset("offsetTop");var s=Math.ceil(o.scrollTop);var i=false;var j=false;var r=o.scrollHeight;var k=o.offsetHeight;if(Math.abs(r-k)===1){r=k;}if(s>F){i=true;}if((r>k)&&(s+k<r)){j=true;}j=this._checkForOverflowItem(j);$=this.$("prev-button-container");h=$.is(":visible");if(h&&!i){$.hide();this.$().removeClass("sapMHrdrTopPadding");}if(!h&&i){$.show();this.$().addClass("sapMHrdrTopPadding");}$=this.$("next-button-container");var m=$.is(":visible");if(m&&!j){$.hide();this.$().removeClass("sapMHrdrBottomPadding");}if(!m&&j){$.show();this.$().addClass("sapMHrdrBottomPadding");}}};g.prototype._handleMobileScrolling=function(){if(C.isMobile()){var $=this.$("scrl-cntnr-scroll"),i=this.getOrientation()===O.Horizontal,p=i?"clientX":"clientY",h=0,t=this,s=false;$.on("touchstart",function(E){s=true;h=E.targetTouches[0][p];});$.on("touchmove",function(E){if(s){var j=E.targetTouches[0][p],k=h-j,o=t._oScrollCntr.getDomRef();i?o.scrollLeft+=k:o.scrollTop+=k;h=j;E.preventDefault();}});$.on("touchend",function(){s=false;});}};g.prototype._checkHOverflow=function(){var o=this._oScrollCntr.getDomRef(),$;if(o){var F=this._getFirstItemOffset("offsetLeft");var s=Math.ceil(o.scrollLeft);var h=false;var i=false;var r=o.scrollWidth;var j=o.offsetWidth;if(Math.abs(r-j)===1){r=j;}if(this._bRtl){var k=q(o).scrollLeftRTL();if(k>((D.browser.msie||D.browser.edge)?1:0)){i=true;}}else if(s>F){h=true;}if(r-5>j){if(this._bRtl){if(q(o).scrollRightRTL()>1){h=true;}}else if(s+j<r){i=true;}}$=this.$("prev-button-container");i=this._checkForOverflowItem(i);var m=$.is(":visible");if(m&&!h){$.hide();this.$().removeClass("sapMHrdrLeftPadding");}if(!m&&h){$.show();this.$().addClass("sapMHrdrLeftPadding");}$=this.$("next-button-container");var n=$.is(":visible");if(n&&!i){$.hide();this.$().removeClass("sapMHrdrRightPadding");}if(!n&&i){$.show();this.$().addClass("sapMHrdrRightPadding");}}};g.prototype._getSize=function(A){var $=this._oScrollCntr.$(),h=this.getOrientation()===O.Horizontal,i=this.$("next-button-container"),j=!i.is(":visible")&&A,F=h?"width":"height";return $[F]()-(j?i[F]():0);};g.prototype._checkForOverflowItem=function(s){if(this._oScrollCntr&&!this.getShowOverflowItem()){var $=this._oScrollCntr.$(),h=this.getOrientation()===O.Horizontal,j=!h?$[0].scrollTop:(this._bRtl?$.scrollRightRTL():$[0].scrollLeft),F=h?"width":"height",k=this._getSize(s),m=this._filterVisibleItems();this._collectItemSize();this._aItemEnd.forEach(function(E,i){var n=m[i].$(),o=n.parent(),v=n.is(":visible");if(s&&E>j+k){if(i===0||this._aItemEnd[i-1]<=j){o.css(F,"auto");n.show();}else if(v){o[F](o[F]());n.hide();s=true;}}else{if(!v){o.css(F,"auto");n.show();}}},this);}return s;};g.prototype._handleBorderReached=function(E){if(D.browser.msie&&this.bScrollInProcess){return;}var i=E.getParameter("index");if(i===0){this._scroll(this._getScrollValue(false),this.getScrollTime());}else if(i===this._filterVisibleItems().length-1){this._scroll(this._getScrollValue(true),this.getScrollTime());}};g.prototype._handleAfterFocus=function(E){var s=E.getParameter("event");if((D.browser.msie||D.browser.edge)&&s.type==="mousedown"&&s.srcControl instanceof sap.m.Input){s.srcControl.focus();}if(D.browser.msie&&this.bScrollInProcess){return;}var i=E.getParameter("index");if(i===0){this._scroll(this._getScrollValue(false),this.getScrollTime());}else if(i===this._filterVisibleItems().length-1){this._scroll(this._getScrollValue(true),this.getScrollTime());}};g.prototype._handleFocusAgain=function(E){var s=E.getParameter("event");if((D.browser.msie||D.browser.edge)&&s.type==="mousedown"&&s.srcControl instanceof sap.m.Input){s.srcControl.focus();}E.getParameter("event").preventDefault();};g.prototype._handleBeforeFocus=function(E){var o=E.getParameter("event");if(q(o.target).hasClass("sapMHdrCntrItemCntr")||q(o.target).hasClass("sapMScrollContScroll")||P.events.sapprevious.fnCheck(o)||P.events.sapnext.fnCheck(o)){this.$().find(".sapMHdrCntrItemCntr").css("border-color","");}else{this.$().find(".sapMHdrCntrItemCntr").css("border-color","transparent");}};g.prototype._unWrapHeaderContainerItemContainer=function(w){if(w instanceof f){w=w.getItem();}else if(Array.isArray(w)){for(var i=0;i<w.length;i++){if(w[i]instanceof f){w[i]=w[i].getItem();}}}return w;};g._AGGREGATION_FUNCTIONS=["validateAggregation","getAggregation","setAggregation","indexOfAggregation","removeAggregation"];g._AGGREGATION_FUNCTIONS_FOR_INSERT=["insertAggregation","addAggregation"];g.prototype._callSuperMethod=function(F,A){var h=Array.prototype.slice.call(arguments);if(A==="content"){var o=h[2];h[1]="content";if(o instanceof a){if(g._AGGREGATION_FUNCTIONS.indexOf(F)>-1&&o.getParent()instanceof f){h[2]=o.getParent();}else if(g._AGGREGATION_FUNCTIONS_FOR_INSERT.indexOf(F)>-1){h[2]=new f({item:o});}}var j=[];this._oScrollCntr.getContent().forEach(function(o,s){if(!o.getItem()){j.push(s);}});for(var i=0;i<j.length;i++){this._oScrollCntr.removeContent(j[i]);}var r=this._oScrollCntr[F].apply(this._oScrollCntr,h.slice(1));if(F!=="removeAllAggregation"){var k=this._oScrollCntr.getContent();var m=this.getAriaLabelledBy();var p=1;var v=k.filter(function(s){return s.getItem().getVisible();}).length;for(var i=0;i<k.length;i++){var n=k[i];if(n.getItem().getVisible()){n.setVisible(true);n.setPosition(p);n.setSetSize(v);n.setAriaLabelledBy(m[i]);p++;}else{n.setVisible(false);}}}return this._unWrapHeaderContainerItemContainer(r);}else{return a.prototype[F].apply(this,h.slice(1));}};g.prototype._callMethodInManagedObject=function(){throw new TypeError("Method no longer exists: HeaderContainer.prototype._callMethodInManagedObject");};g.prototype._getParentCell=function(o){return q(o).parents(".sapMHrdrCntrInner").andSelf(".sapMHrdrCntrInner").get(0);};g.prototype.onfocusin=function(E){if(this._bIgnoreFocusIn){this._bIgnoreFocusIn=false;return;}if(E.target.id===this.getId()+"-after"){this._restoreLastFocused();}};g.prototype._restoreLastFocused=function(){if(!this._oItemNavigation){return;}var n=this._oItemNavigation.getItemDomRefs();var i=this._oItemNavigation.getFocusedIndex();var $=q(n[i]);var r=$.control(0)||{};var t=r.getTabbables?r.getTabbables():$.find(":sapTabbable");t.eq(-1).add($).eq(-1).trigger("focus");};return g;});
sap.ui.predefine('sap/m/HeaderContainerItemNavigator',["sap/ui/core/delegate/ItemNavigation","sap/base/assert","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes"],function(I,a,c,K){"use strict";var H=I.extend("sap.m.HeaderContainerItemNavigator");H.prototype.focusItem=function(i,e){if(e.type==="mousedown"){var f=this.aItemDomRefs[i].focus;this.aItemDomRefs[i].focus=function(){};this._callParent("focusItem",arguments);this.aItemDomRefs[i].focus=f;return;}this._callParent("focusItem",arguments);};H.prototype._callParent=function(f,A){if(typeof I.prototype[f]==="function"){I.prototype[f].apply(this,A);}};H.prototype.onsaphome=function(e){if(this._skipNavigation(e)){return;}this._callParent("onsaphome",arguments);};H.prototype.onsapend=function(e){if(this._skipNavigation(e)){return;}this._callParent("onsapend",arguments);};H.prototype.onsapnext=function(e){if(this._skipNavigation(e)){return;}this._callParent("onsapnext",arguments);};H.prototype.onsapprevious=function(e){if(this._skipNavigation(e,true,false)){return;}this._callParent("onsapprevious",arguments);};H.prototype._skipNavigation=function(e){return Array.prototype.indexOf.call(this.aItemDomRefs,e.target)===-1;};return H;});
sap.ui.predefine('sap/m/HeaderContainerRenderer',['sap/ui/core/library'],function(c){"use strict";var O=c.Orientation;var H={apiVersion:2};H.render=function(r,C){var t=C.getTooltip_AsString();var o=C.getOrientation();var b="sapMHdrCntrBG"+C.getBackgroundDesign();r.openStart("div",C);if(t){r.attr("title",t);}r.class("sapMHdrCntr");r.class(o);if(C.getShowDividers()){r.class("sapMHrdrCntrDvdrs");}if(C.getHeight()){r.style("height",C.getHeight());}else{r.style("height",(C.getOrientation()===O.Horizontal)?"auto":"100%");}if(C.getWidth()){r.style("width",C.getWidth());}else{r.style("width",(C.getOrientation()===O.Horizontal)?"100%":"auto");}r.openEnd();r.openStart("div",C.getId()+"-scroll-area");r.class("sapMHdrCntrCntr");r.class(o);r.class(b);r.openEnd();r.renderControl(C.getAggregation("_scrollContainer"));r.close("div");var B=C.getAggregation("_prevButton");if(B){r.openStart("div",C.getId()+"-prev-button-container");r.class("sapMHdrCntrBtnCntr");r.class("sapMHdrCntrLeft");r.class(o);r.openEnd();r.renderControl(B);r.close("div");}B=C.getAggregation("_nextButton");if(B){r.openStart("div",C.getId()+"-next-button-container");r.class("sapMHdrCntrBtnCntr");r.class("sapMHdrCntrRight");r.class(o);r.openEnd();r.renderControl(B);r.close("div");}r.openStart("div",C.getId()+"-after");r.attr("tabindex","0");r.openEnd().close("div");r.close("div");};return H;},true);
sap.ui.predefine('sap/m/IconTabBar',['./library',"sap/ui/core/Core",'sap/ui/core/Control','./IconTabBarRenderer','./IconTabHeader',"sap/ui/core/util/ResponsivePaddingsEnablement","sap/ui/thirdparty/jquery"],function(l,C,a,I,b,R,q){"use strict";var c=l.IconTabHeaderMode;var B=l.BackgroundDesign;var d=l.IconTabDensityMode;var T=l.TabsOverflowMode;var e=a.extend("sap.m.IconTabBar",{metadata:{interfaces:["sap.m.ObjectHeaderContainer","sap.f.IDynamicPageStickyContent"],library:"sap.m",properties:{showSelection:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},expandable:{type:"boolean",group:"Misc",defaultValue:true},expanded:{type:"boolean",group:"Misc",defaultValue:true},selectedKey:{type:"string",group:"Data",defaultValue:null},upperCase:{type:"boolean",group:"Appearance",defaultValue:false},stretchContentHeight:{type:"boolean",group:"Appearance",defaultValue:false},applyContentPadding:{type:"boolean",group:"Appearance",defaultValue:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Solid},headerMode:{type:"sap.m.IconTabHeaderMode",group:"Appearance",defaultValue:c.Standard},showOverflowSelectList:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},headerBackgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Solid},enableTabReordering:{type:"boolean",group:"Behavior",defaultValue:false},maxNestingLevel:{type:"int",group:"Behavior",defaultValue:0},tabDensityMode:{type:"sap.m.IconTabDensityMode",group:"Appearance",defaultValue:d.Cozy},ariaTexts:{type:"object",group:"Accessibility",defaultValue:null},tabsOverflowMode:{type:"sap.m.TabsOverflowMode",group:"Behavior",defaultValue:T.End}},aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item",forwarding:{getter:"_getIconTabHeader",aggregation:"items",forwardBinding:true}},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},_header:{type:"sap.m.IconTabHeader",multiple:false,visibility:"hidden"}},events:{select:{parameters:{item:{type:"sap.m.IconTabFilter"},key:{type:"string"},previousKey:{type:"string"},selectedItem:{type:"sap.m.IconTabFilter"},selectedKey:{type:"string"}}},expand:{parameters:{expand:{type:"boolean"},collapse:{type:"boolean"}}}},designtime:"sap/m/designtime/IconTabBar.designtime"}});R.call(e.prototype,{header:{selector:".sapMITH"},content:{suffix:"content"}});e._CLASSES_TO_COPY=["sapUiResponsiveContentPadding","sapUiNoContentPadding","sapUiContentPadding"];e.prototype.init=function(){this._initResponsivePaddingsEnablement();};e.prototype.setExpanded=function(E){this.setProperty("expanded",E,true);if(this.$().length){this._toggleExpandCollapse(E);}return this;};e.prototype.setHeaderMode=function(m){this.setProperty("headerMode",m,true);this._getIconTabHeader().setMode(m);return this;};e.prototype.setTabDensityMode=function(m){this.setProperty("tabDensityMode",m);this._getIconTabHeader().setTabDensityMode(m);return this;};e.prototype.setHeaderBackgroundDesign=function(h){this.setProperty("headerBackgroundDesign",h,true);this._getIconTabHeader().setBackgroundDesign(h);return this;};e.prototype.setEnableTabReordering=function(v){this.setProperty("enableTabReordering",v,true);this._getIconTabHeader().setEnableTabReordering(v);return this;};e.prototype.setAriaTexts=function(A){this.setProperty("ariaTexts",A,true);this._getIconTabHeader().setAriaTexts(A);return this;};e.prototype.addStyleClass=function(s,S){var i=this._getIconTabHeader();if(e._CLASSES_TO_COPY.indexOf(s)!==-1){i.addStyleClass(s,true);}return a.prototype.addStyleClass.apply(this,arguments);};e.prototype.removeStyleClass=function(s,S){var i=this._getIconTabHeader();if(e._CLASSES_TO_COPY.indexOf(s)!==-1){i.removeStyleClass(s,true);}return a.prototype.removeStyleClass.apply(this,arguments);};e.prototype._rerenderContent=function(o){var $=this.$("content");if(o&&($.length>0)){var r=C.createRenderManager();for(var i=0;i<o.length;i++){r.renderControl(o[i]);}r.flush($[0]);r.destroy();}};e.prototype._toggleExpandCollapse=function(E){var $=this.$("content");var s=this._getIconTabHeader().oSelectedItem;if(E===undefined){E=!this.getExpanded();}if(s){s.$().toggleClass("sapMITBSelected",E);s.$().attr({'aria-expanded':E});if(E){s.$().attr({'aria-selected':E});}else{s.$().removeAttr('aria-selected');}}this._iAnimationCounter=(this._iAnimationCounter===undefined?1:++this._iAnimationCounter);if(E){if(s){if(this.$("content").children().length===0){var S=s.getContent();if(S.length>0){this._rerenderContent(S);}else{this._rerenderContent(this.getContent());}}$.stop(true,true).slideDown('400',q.proxy(this.onTransitionEnded,this,E));this.$("containerContent").toggleClass("sapMITBContentClosed",!E);}}else{this.$("contentArrow").hide();$.stop(true,true).slideUp('400',q.proxy(this.onTransitionEnded,this,E));}if(!E||s){this.setProperty("expanded",E,true);}this.fireExpand({expand:E,collapse:!E});return this;};e.prototype.onTransitionEnded=function(E){var $=this.$("content"),f=this.$("containerContent"),g=this.$("contentArrow");if(this._iAnimationCounter===1){f.toggleClass("sapMITBContentClosed",!E);if(E){g.show();$.css("display","block");}else{g.hide();$.css("display","none");}}this._iAnimationCounter=(this._iAnimationCounter>0?--this._iAnimationCounter:0);return this;};e.prototype._getIconTabHeader=function(){var o=this.getAggregation("_header");if(!o){o=new b(this.getId()+"--header",{});this.setAggregation("_header",o,true);}return o;};e.prototype._getStickyContent=function(){return this._getIconTabHeader();};e.prototype._returnStickyContent=function(){if(this.bIsDestroyed){return;}this._getStickyContent().$().prependTo(this.$());};e.prototype._setStickySubheaderSticked=function(i){this._bStickyContentSticked=i;};e.prototype._getStickySubheaderSticked=function(){return this._bStickyContentSticked;};e.prototype.onBeforeRendering=function(){var i=this._getIconTabHeader(),$=i.$();i.setMaxNestingLevel(this.getMaxNestingLevel());i.setTabsOverflowMode(this.getTabsOverflowMode());if(this._bStickyContentSticked&&$){delete this._bStickyContentSticked;this._getIconTabHeader().$().remove();}};e.prototype.setShowSelection=function(v){this._getIconTabHeader().setShowSelection(v);return this;};e.prototype.getShowSelection=function(){return this._getIconTabHeader().getShowSelection();};e.prototype.setSelectedKey=function(v){this._getIconTabHeader().setSelectedKey(v);return this;};e.prototype.getSelectedKey=function(){return this._getIconTabHeader().getSelectedKey();};e.prototype.setSelectedItem=function(i,A){return this._getIconTabHeader().setSelectedItem(i,A);};return e;});
sap.ui.predefine('sap/m/IconTabBarDragAndDropUtil',['sap/ui/core/dnd/DragInfo','sap/ui/core/dnd/DropInfo',"sap/ui/events/KeyCodes",'sap/ui/core/library'],function(D,a,K,c){"use strict";var b=c.dnd.DropPosition;var I="Before",d="insertBefore",e="insertAfter",i,f="IconTabReorder",g="Forward",h="Backward";var j={_insertControl:function(i,o,k,l){var $=o.$(),m=k.$(),n=[],p=[];if(o._getNestedLevel()>1&&k._getNestedLevel()>1){n=o._getRootTab()._getSelectList().getItems().filter(function(q){return o._getRealTab()._isParentOf(q._getRealTab());});p=k._getRootTab()._getSelectList().getItems().filter(function(q){return k._getRealTab()._isParentOf(q._getRealTab());});}if(l){var O=o._getRootTab().getParent()._getOverflow()._getSelectList().getItems();n=O.filter(function(q){return o._getRealTab()._isParentOf(q._getRealTab());});p=O.filter(function(q){return k._getRealTab()._isParentOf(q._getRealTab());});}if(i===e){$.insertAfter(m);}else{$.insertBefore(m);}n.reverse().forEach(function(C){C.$().insertAfter($);});p.reverse().forEach(function(C){C.$().insertAfter(m);});},handleDrop:function(C,s,o,k,l,m){var B=C.indexOfItem(o),n=C.indexOfItem(k),A=0,r=sap.ui.getCore().getConfiguration().getRTL(),p=s===I,q=k._getNestedLevel()-1;if(o._isParentOf(k)){return;}if(q===m&&s===b.On){return;}if(r&&!l){if(p){A=B<n?n:n+1;i=e;}else{A=B<n?n-1:n;i=d;}}else{if(p){A=B<n?n-1:n;i=d;}else{A=B<n?n:n+1;i=e;}}if(C.isA("sap.m.IconTabFilter")||!o.getParent().isA("sap.m.IconTabHeader")){if(p){A=n;}else{A=n+1;}}j._insertControl(i,o,k);if(s===b.On){if(k===o){return;}A=C.getAggregation("items").length;}j._handleConfigurationAfterDragAndDrop.call(C,o,A);},_updateAccessibilityInfo:function(){var o=this.getItems(),A=1,k;o.forEach(function(l){k=l.getDomRef();if(k&&k.getAttribute("aria-posinset")!==null){k.setAttribute("aria-posinset",A++);}});},_handleConfigurationAfterDragAndDrop:function(o,k){var l=[],m=this.isA("sap.m.IconTabHeader")?this:this._getIconTabHeader();if(this.isA("sap.m.IconTabBarSelectList")){l=this.getItems().filter(function(p){return o._getRealTab()._isParentOf(p._getRealTab());});}m._setPreserveSelection(true);this.removeAggregation('items',o,true);this.insertAggregation('items',o,k,true);l.forEach(function(p){this.removeAggregation('items',p,true);}.bind(this));var n=1+this.indexOfAggregation('items',o);l.reverse().forEach(function(p){this.insertAggregation('items',p,n,true);}.bind(this));m._setPreserveSelection(false);j._updateAccessibilityInfo.call(this);},_decreaseDropIndex:function(B,k){var p=B-1;while(p>=0&&(k[B]._getRealTab()._getNestedLevel()!==k[p]._getRealTab()._getNestedLevel()||!k[p].getVisible()||(!k[B].$().hasClass("sapMITBFilterHidden")&&k[p].$().hasClass("sapMITBFilterHidden")))){p--;}if(p<0){i=e;return B;}i=d;return p;},_increaseDropIndex:function(B,k,m){var n=B+1;while(n<k.length&&(k[B]._getRealTab()._getNestedLevel()!==k[n]._getRealTab()._getNestedLevel()||!k[n].getVisible())){n++;}if(n>m){i=d;return B;}i=e;return n;},moveItem:function(o,k,m){var l=this.getItems(),B=this.indexOfItem(o),r=sap.ui.getCore().getConfiguration().getRTL(),n,p;if(this.isA("sap.m.IconTabFilter")){l=this._getRealTab().getItems();}switch(k){case K.HOME:n=0;i=d;break;case K.END:n=l.length-1;i=e;break;case K.ARROW_LEFT:if(r){p=j.preventDragBetweenSubItems(o,g,this);n=j._increaseDropIndex(B,l,m);}else{p=j.preventDragBetweenSubItems(o,h,this);n=j._decreaseDropIndex(B,l);}break;case K.ARROW_RIGHT:if(r){p=j.preventDragBetweenSubItems(o,h,this);n=j._decreaseDropIndex(B,l);}else{p=j.preventDragBetweenSubItems(o,g,this);n=j._increaseDropIndex(B,l,m);}break;case K.ARROW_DOWN:p=j.preventDragBetweenSubItems(o,g,this);n=j._increaseDropIndex(B,l,m);break;case K.ARROW_UP:p=j.preventDragBetweenSubItems(o,h,this);n=j._decreaseDropIndex(B,l);break;default:return false;}if(p){return false;}if(!this.isA("sap.m.IconTabFilter")){var q=l[n];j._insertControl(i,o,q,this._oTabFilter&&this._oTabFilter._bIsOverflow);}j._handleConfigurationAfterDragAndDrop.call(this,o,n);return true;},setDragDropAggregations:function(k,s,o){var l=k._oIconTabHeader?k._oIconTabHeader:k;var m=l.getId();k.addDragDropConfig(new D({sourceAggregation:"items",groupName:f+m}));k.addDragDropConfig(new a({targetAggregation:"items",dropPosition:o,dropLayout:s,drop:k._handleDragAndDrop.bind(k),groupName:f+m}));},preventDragBetweenSubItems:function(o,s,C){var p=false;if(C.isA("sap.m.IconTabBarSelectList")){var r=o._getRealTab(),P=r.getParent(),k=P.getItems();if((k.indexOf(r)===0&&s===h)||(k.indexOf(r)+1===k.length&&s===g)||k.length===1){p=true;}}return p;}};return j;});
sap.ui.predefine('sap/m/IconTabBarRenderer',[],function(){"use strict";var I={apiVersion:2};I._aAllIconColors=['sapMITBFilterCritical','sapMITBFilterPositive','sapMITBFilterNegative','sapMITBFilterDefault'];I.render=function(r,i){var c=i.getContent(),h=i._getIconTabHeader();r.openStart("div",i).class("sapMITB");if(i.getStretchContentHeight()){r.class("sapMITBStretch");}if(!i.getApplyContentPadding()){r.class("sapMITBNoContentPadding");}r.class("sapMITBBackgroundDesign"+i.getBackgroundDesign()).openEnd();if(!i._bHideHeader){r.renderControl(h);}r.openStart("div",i.getId()+"-containerContent").class("sapMITBContainerContent");if(!i.getExpanded()){r.class("sapMITBContentClosed");}r.openEnd();r.openStart("div",i.getId()+"-content").class("sapMITBContent").attr("role","tabpanel");if(!i.getExpanded()){r.style("display","none");}if(h.oSelectedItem){r.accessibilityState({labelledby:h.oSelectedItem.getId()});}r.openEnd();if(i.getExpanded()){if(h.oSelectedItem&&h.oSelectedItem.getContent()){var C=h.oSelectedItem.getContent();if(C.length>0){c=C;}}c.forEach(function(o){r.renderControl(o);});}r.close("div").close("div").close("div");};return I;},true);
sap.ui.predefine('sap/m/IconTabBarSelectList',["./library","./IconTabBarDragAndDropUtil","./IconTabBarSelectListRenderer","sap/ui/core/Control","sap/ui/core/delegate/ItemNavigation","sap/ui/core/theming/Parameters","sap/ui/core/library","sap/ui/thirdparty/jquery"],function(l,I,a,C,b,P,c,q){"use strict";var D=c.dnd.DropPosition;var d=C.extend("sap.m.IconTabBarSelectList",{metadata:{library:"sap.m",aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item",dnd:true}},events:{selectionChange:{parameters:{selectedItem:{type:"sap.m.IconTabFilter"}}}}}});d.prototype.init=function(){this._oItemNavigation=new b();this._oItemNavigation.setCycling(false);this.addEventDelegate(this._oItemNavigation);this._oItemNavigation.setPageSize(10);this._oIconTabHeader=null;this._oTabFilter=null;};d.prototype.exit=function(){this._oItemNavigation.destroy();this._oItemNavigation=null;this._oIconTabHeader=null;this._oTabFilter=null;};d.prototype.onBeforeRendering=function(){if(!this._oIconTabHeader){return;}this.destroyDragDropConfig();this._setsDragAndConfiguration();};d.prototype.onAfterRendering=function(){this._initItemNavigation();this.getItems().forEach(function(i){if(i._onAfterParentRendering){i._onAfterParentRendering();}});};d.prototype._setsDragAndConfiguration=function(){if(this._oIconTabHeader.getEnableTabReordering()&&!this.getDragDropConfig().length){I.setDragDropAggregations(this,"Vertical",this._oIconTabHeader._getDropPosition());}};d.prototype._initItemNavigation=function(){var e=this.getItems(),f=[],p=this._oIconTabHeader.oSelectedItem,s=-1,o,i;for(i=0;i<e.length;i++){o=e[i];if(o.isA("sap.m.IconTabFilter")){var g=o._getAllSubFiltersDomRefs();f=f.concat(o.getDomRef(),g);}if(p&&this.getSelectedItem()&&this.getSelectedItem()._getRealTab()===p){s=i;}}if(p&&f.indexOf(p.getDomRef())!==-1){s=f.indexOf(p.getDomRef());}this._oItemNavigation.setRootDomRef(this.getDomRef()).setItemDomRefs(f).setSelectedIndex(s);};d.prototype.getVisibleItems=function(){return this.getItems().filter(function(i){return i.getVisible();});};d.prototype.getVisibleTabFilters=function(){return this.getVisibleItems().filter(function(i){return i.isA("sap.m.IconTabFilter");});};d.prototype.setSelectedItem=function(i){this._selectedItem=i;};d.prototype.getSelectedItem=function(){return this._selectedItem;};d.prototype._getIconTabHeader=function(){return this._oIconTabHeader;};d.prototype._getParams=function(){var p=Object.assign({"_sap_m_IconTabBar_SelectListItem_PaddingLeft":"0.5rem","_sap_m_IconTabBar_SelectListItem_PaddingLeftAdditional":"0"},P.get({name:["_sap_m_IconTabBar_SelectListItem_PaddingLeft","_sap_m_IconTabBar_SelectListItem_PaddingLeftAdditional"],callback:this.invalidate.bind(this)}));return{fNestedItemPaddingLeft:Number.parseFloat(p["_sap_m_IconTabBar_SelectListItem_PaddingLeft"]),fAdditionalPadding:Number.parseFloat(p["_sap_m_IconTabBar_SelectListItem_PaddingLeftAdditional"])};};d.prototype.ontap=function(e){var t=e.srcControl;if(!t){return;}if(!t.isA("sap.m.IconTabFilter")){return;}if(this._oIconTabHeader._isUnselectable(t)){return;}e.preventDefault();if(t!=this.getSelectedItem()){this.fireSelectionChange({selectedItem:t});}};d.prototype.onsapenter=d.prototype.ontap;d.prototype.onsapspace=d.prototype.ontap;d.prototype.checkIconOnly=function(){this._bIconOnly=this.getVisibleTabFilters().every(function(i){return!i.getText()&&!i.getCount();});return this._bIconOnly;};d.prototype._handleDragAndDrop=function(e){var s=e.getParameter("dropPosition"),o=e.getParameter("draggedControl"),f=e.getParameter("droppedControl"),g=f._getRealTab().getParent(),h=this._oIconTabHeader.getMaxNestingLevel();if(this._oTabFilter._isOverflow()){g=this._oIconTabHeader;}if(s===D.On){g=f._getRealTab();}I.handleDrop(g,s,o._getRealTab(),f._getRealTab(),true,h);this._oIconTabHeader._setItemsForStrip();this._oIconTabHeader._initItemNavigation();this._oTabFilter._setSelectListItems();this._initItemNavigation();f._getRealTab().getParent().$().trigger("focus");};d.prototype.ondragrearranging=function(e){if(!this._oIconTabHeader.getEnableTabReordering()){return;}var t=e.srcControl,k=e.keyCode,i=this.indexOfItem(t),o=this;I.moveItem.call(o,t,k,o.getItems().length-1);this._initItemNavigation();t.$().trigger("focus");if(i===this.indexOfItem(t)){return;}o=t._getRealTab().getParent();if(this._oTabFilter._isOverflow()&&t._getRealTab()._getNestedLevel()===1){this._oIconTabHeader._moveTab(t._getRealTab(),k,this._oIconTabHeader.getItems().length-1);}else{I.moveItem.call(o,t._getRealTab(),k,o.getItems().length-1);}};d.prototype.onsaphomemodifiers=d.prototype.ondragrearranging;d.prototype.onsapendmodifiers=d.prototype.ondragrearranging;d.prototype.onsapincreasemodifiers=d.prototype.ondragrearranging;d.prototype.onsapdecreasemodifiers=d.prototype.ondragrearranging;return d;});
sap.ui.predefine('sap/m/IconTabBarSelectListRenderer',["sap/ui/core/library"],function(c){"use strict";var I=c.IconColor;var a={apiVersion:2};a.render=function(r,s){var p=s._getParams(),i=s.getVisibleItems(),o=s._oIconTabHeader,t=o._checkTextOnly(),T=o.getVisibleTabFilters().length,n=p.fNestedItemPaddingLeft,e=false;var h=i.filter(function(b){return b.isA("sap.m.IconTabFilter");}).some(function(b){return b.getIconColor()!==I.Default;});s.checkIconOnly();var A=p.fAdditionalPadding;if(h&&A){n+=A;e=true;}this.renderList(r,i,s,o,t,n,e,T);};a.renderList=function(r,b,s,o,t,p,e,S){if(!b.length){return;}r.openStart("ul",s).attr("role","menu").class("sapMITBSelectList");if(t){r.class("sapMITBSelectListTextOnly");}r.openEnd();for(var i=0;i<b.length;i++){var d=b[i],f;if(o&&d.isA("sap.m.IconTabFilter")){f=o.getVisibleTabFilters().indexOf(d._getRealTab());}if(d.isA("sap.m.IconTabFilter")&&d._getRootTab()._getSelectList()===s){f=i;S=b.length;}var l=d._getNestedLevel()-2;if(e){l++;}if(s._bIsOverflow){l++;}d.renderInSelectList(r,s,f,S,p*l);}r.close("ul");};return a;},true);
sap.ui.predefine('sap/m/IconTabFilter',["./library","./AccButton","./IconTabFilterExpandButtonBadge","sap/ui/core/library","sap/ui/core/Core","sap/ui/core/Item","sap/ui/core/Renderer","sap/ui/core/IconPool",'sap/ui/core/InvisibleMessage','sap/ui/Device',"sap/m/BadgeCustomData","sap/m/Button","sap/m/ResponsivePopover","sap/m/IconTabBarSelectList","sap/m/BadgeEnabler"],function(l,A,I,c,C,a,R,b,d,D,B,e,f,g,h){"use strict";var T=c.TextAlign;var j=c.TextDirection;var k=l.ButtonType;var P=l.PlacementType;var m=l.ImageHelper;var n=l.IconTabFilterDesign;var o=l.BadgeStyle;var p=l.BadgeState;var q=c.IconColor;var r=c.aria.HasPopup;var s=3000;var t=c.InvisibleMessageMode;var u=-8;var v=a.extend("sap.m.IconTabFilter",{metadata:{interfaces:["sap.m.IconTab","sap.ui.core.PopupInterface","sap.m.IBadge"],library:"sap.m",designtime:"sap/m/designtime/IconTabFilter.designtime",properties:{count:{type:"string",group:"Data",defaultValue:''},showAll:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:''},iconColor:{type:"sap.ui.core.IconColor",group:"Appearance",defaultValue:q.Default},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},design:{type:"sap.m.IconTabFilterDesign",group:"Appearance",defaultValue:n.Vertical}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},items:{type:"sap.m.IconTab",multiple:true,singularName:"item"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_expandButtonBadge:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});h.call(v.prototype);var w=C.getLibraryResourceBundle("sap.m");v._aAllIconColors=['sapMITBFilterCritical','sapMITBFilterPositive','sapMITBFilterNegative','sapMITBFilterDefault','sapMITBFilterNeutral'];v.prototype._getImageControl=function(i,x,y){var z={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};if(z.src){this._oImageControl=m.getImageControl(this.getId()+"-icon",this._oImageControl,x,z,i,y);}else if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null;}return this._oImageControl;};v.prototype.init=function(){this._oDragEventDelegate={onlongdragover:this._handleOnLongDragOver,ondragover:this._handleOnDragOver,ondragleave:this._handleOnDragLeave,ondrop:this._handleOnDrop};this.initBadgeEnablement({style:o.Attention,selector:{selector:".sapMITBBadgeHolder"}});this._oCloneInList=null;this.setAggregation("_expandButtonBadge",new I());};v.prototype.exit=function(E){if(this._oImageControl){this._oImageControl.destroy();}if(a.prototype.exit){a.prototype.exit.call(this,E);}if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}if(this._oExpandButton){this._oExpandButton.removeEventDelegate(this._oDragEventDelegate);this._oExpandButton.destroy();this._oExpandButton=null;}this.removeEventDelegate(this._oDragEventDelegate);this._oDragEventDelegate=null;if(this._iHideBadgeTimeout){clearTimeout(this._iHideBadgeTimeout);}};v.prototype.invalidate=function(){var i=this.getParent(),x,O;if(!i){return;}x=i.getParent();if(!(x instanceof sap.m.IconTabBar)){i.invalidate();return;}O=x.getParent();if(O instanceof sap.m.ObjectHeader){O.invalidate();}else{x.invalidate();}};v.prototype.setProperty=function(i,V,S){switch(i){case'textDirection':case'text':case'count':case'showAll':case'icon':case'iconColor':case'iconDensityAware':case'design':if(this.getProperty(i)===V){return this;}a.prototype.setProperty.call(this,i,V,true);if(!S){var x=this.getParent();if(x instanceof sap.m.IconTabHeader){x.invalidate();}}break;default:a.prototype.setProperty.apply(this,arguments);break;}return this;};v.prototype._getNonEmptyKey=function(){var K=this.getKey();if(K){return K;}return this.getId();};v.prototype._getRealTab=function(){return this._oRealItem||this;};v.prototype._getRootTab=function(){var i=this._getRealTab(),x=i.getParent();while(x&&x.isA("sap.m.IconTabFilter")){i=x;x=x.getParent();}return i;};v.prototype._getNestedLevel=function(){var i=this._getRealTab().getParent(),L;for(L=1;i&&i.isA("sap.m.IconTabFilter");L++){i=i.getParent();}return L;};v.prototype.render=function(i,V,x){if(!this.getVisible()){return;}var y=this.getParent(),z=y.getParent();if(y.getEnableTabReordering()){this._prepareDragEventDelegate();}var H=y._isInsideIconTabBar(),E={role:"tab"},F=this.getId(),G=this.getCount(),J=this.getText(),K=this.getIcon(),L=this.getIconColor(),M=this.getEnabled(),S=this._shouldReadIconColor(),N=this.getDesign()===n.Horizontal,O=y._bTextOnly,Q=y._bInLine||y.isInlineMode(),U=this.getShowAll(),W=this.getTextDirection();if(H){E.controls=z.getId()+"-content";}if(this.getItems().length){E.roledescription=w.getText("ICONTABFILTER_SPLIT_TAB");}if(J.length||G!==""||K){var X=[];if(G!==""&&!Q){X.push(F+"-count");}if(J.length){X.push(F+"-text");}if(K){X.push(F+"-icon");}if(S){X.push(F+"-iconColor");}E.labelledby=X.join(" ");}if(V!==undefined&&x!==undefined){Object.assign(E,{posinset:V+1,setsize:x});}i.openStart("div",this).accessibilityState(E).class("sapMITBItem");if(!G){i.class("sapMITBItemNoCount");}if(N){i.class("sapMITBHorizontal");}else{i.class("sapMITBVertical");}if(U){i.class("sapMITBAll");}else{i.class("sapMITBFilter");}if(!U&&M){i.class("sapMITBFilter"+L);}if(y._isUnselectable(this)){i.class("sapMITHUnselectable");}if(this.getItems().length>0){i.class("sapMITBFilterWithItems");}if(!M){i.class("sapMITBDisabled").attr("aria-disabled",true);}i.attr("aria-selected",false);var Y=this.getTooltip_AsString();if(Y){i.attr("title",Y);}if(this._isOverflow()||this.getItems().length){i.attr("aria-haspopup","menu");}i.openEnd();if(S){this._renderIconColorDescription(i);}i.openStart("div").class("sapMITBFilterWrapper").openEnd();if(!Q){i.openStart("div",F+"-tab").class("sapMITBTab").openEnd();if(!U||!K){var Z=["sapMITBFilterIcon","sapMITBBadgeHolder"];if(M){Z.push("sapMITBFilter"+L);}i.renderControl(this._getImageControl(Z,y,v._aAllIconColors));}if(!U&&!K&&!O){i.openStart("span").class("sapMITBFilterNoIcon").openEnd().close("span");}if(N&&!U){i.close("div");i.openStart("div").class("sapMITBHorizontalWrapper").openEnd();}i.openStart("span",F+"-count").class("sapMITBCount");if(U||(!K&&!J.length)){i.class("sapMITBBadgeHolder");}i.openEnd();if(G===""&&N){i.unsafeHtml("&nbsp;");}else{i.text(G);}i.close("span");if(!N){i.close("div");}}if(J.length){i.openStart("div",F+"-text").class("sapMITBText");if(!K&&!U){i.class("sapMITBBadgeHolder");}if(H&&z.getUpperCase()){i.class("sapMITBTextUpperCase");}i.openEnd();if(Q&&K){this._renderIcon(i);}i.openStart("span").class("sapMITHTextContent").attr("dir",W!==j.Inherit?W.toLowerCase():"auto");i.openEnd().text(y._getDisplayText(this)).close("span");if(this._isOverflow()||this.getItems().length&&y._isUnselectable(this)){i.openStart("span",this.getId()+"-expandButton").class("sapMITHShowSubItemsIcon").openEnd();i.icon(b.getIconURI("slim-arrow-down"),null,{"title":null,"aria-hidden":true});i.close("span");}i.close("div");}if(!Q&&N){i.close("div");}i.openStart("div").class("sapMITBContentArrow").openEnd().close("div");i.close("div");if(this.getItems().length&&!y._isUnselectable(this)){i.openStart("span").accessibilityState({role:"separator"}).openEnd().close("span");i.renderControl(this._getExpandButton());}i.renderControl(this.getAggregation("_expandButtonBadge"));if(this.getItems().length){this._updateExpandButtonBadge();}i.close("div");};v.prototype.renderInSelectList=function(i,S,x,y,z){if(!this.getVisible()){return;}var E=true,F=S._bIconOnly,G=S._oIconTabHeader,H=this.getIconColor(),J=this.getEnabled();if(G){E=G._bTextOnly;}i.openStart("li",this).class("sapMITBSelectItem").attr("tabindex","-1").attr("role","menuitem");if(z){i.style("padding-left",z+"rem");}if(x!==undefined&&y!==undefined){i.attr("aria-posinset",x+1);i.attr("aria-setsize",y);i.attr("aria-level",this._getNestedLevel());}var K=this.getTooltip_AsString();if(K){i.attr("title",K);}if(G._isUnselectable(this)){i.class("sapMITHUnselectable");}if(!J){i.class("sapMITBDisabled").attr("aria-disabled",true);}if(S.getSelectedItem()==this){i.class("sapMITBSelectItemSelected");i.attr("aria-selected",true);}if(J){i.class("sapMITBFilter"+H);}var L=this.getId(),M=this._shouldReadIconColor(),N=[];if(!F){N.push(L+"-text");}if(!E&&this.getIcon()){N.push(L+"-icon");}if(M){N.push(L+"-iconColor");}i.accessibilityState({labelledby:N.join(" ")}).openEnd();if(M){this._renderIconColorDescription(i);}if(!E){this._renderIcon(i,F);}if(!F){this._renderText(i);}i.close("li");};v.prototype._onAfterParentRendering=function(){this._renderBadge();d.getInstance();};v.prototype._renderIcon=function(i,x){var y=this.getIcon();if(y){var z=b.getIconInfo(y),E=["sapMITBSelectItemIcon"];if(z&&!z.suppressMirroring){E.push("sapUiIconMirrorInRTL");}if(x){E.push("sapMITBBadgeHolder");}if(this._getIconTabHeader().isInlineMode()){E.push("sapMITBInlineIcon");}i.icon(y,E,{id:this.getId()+"-icon","aria-hidden":true});}else{i.openStart("span").class("sapUiIcon").openEnd().close("span");}};v.prototype._renderIconColorDescription=function(i){i.openStart("div",this.getId()+"-iconColor").style("display","none").openEnd().text(w.getText("ICONTABBAR_ICONCOLOR_"+this.getIconColor().toUpperCase())).close("div");};v.prototype._renderText=function(i){var x=this.getText(),y=this.getCount(),z=C.getConfiguration().getRTL(),E=this.getTextDirection();i.openStart("span",this.getId()+"-text").attr("dir",E!==j.Inherit?E.toLowerCase():"auto").class("sapMText").class("sapMTextNoWrap").class("sapMITBText").class("sapMITBBadgeHolder");var F=R.getTextAlign(T.Begin,E);if(F){i.style("text-align",F);}if(y){if(z){x='('+y+') '+x;}else{x+=' ('+y+')';}}i.openEnd().text(x).close("span");};v.prototype._getSelectList=function(){if(!this._oSelectList){this._oSelectList=new g({selectionChange:function(E){var i=E.getParameter("selectedItem");this._oIconTabHeader.setSelectedItem(i._getRealTab());this._oTabFilter._closePopover();}});this._oSelectList._oIconTabHeader=this.getParent();this._oSelectList._oTabFilter=this;this._oSelectList._bIsOverflow=this._isOverflow();}return this._oSelectList;};v.prototype._prepareDragEventDelegate=function(){if(this.getEnabled()){this.addEventDelegate(this._oDragEventDelegate,this);}else{this.removeEventDelegate(this._oDragEventDelegate);}};v.prototype._updateTabCountText=function(){if(!this._isOverflow()){return;}var i=this._getIconTabHeader()._getItemsForOverflow(this._bIsStartOverflow).filter(function(x){return x.isA("sap.m.IconTabFilter");}).length;this.setText("+"+i);};v.prototype._getExpandButton=function(){this._oExpandButton=this.getAggregation("_expandButton");if(!this._oExpandButton){this._oExpandButton=new A(this.getId()+"-expandButton",{type:k.Transparent,icon:b.getIconURI("slim-arrow-down"),tooltip:w.getText("ICONTABHEADER_OVERFLOW_MORE"),tabIndex:"-1",ariaHasPopup:r.Menu,press:this._expandButtonPress.bind(this)}).addStyleClass("sapMITBFilterExpandBtn");this.setAggregation("_expandButton",this._oExpandButton);}return this._oExpandButton;};v.prototype._updateExpandButtonBadge=function(){var E=this.getAggregation("_expandButtonBadge"),H=E.getBadgeCustomData()&&E.getBadgeCustomData().getVisible(),i=this._hasChildWithBadge();if(i&&!H){E.addCustomData(new B({visible:true}));}else if(!i&&H){E.getBadgeCustomData().setVisible(false);}};v.prototype._hasChildWithBadge=function(){var i=this._isOverflow()?this._getIconTabHeader()._getItemsForOverflow(this._bIsStartOverflow):this._getAllSubItems();return i.some(function(x){return x.isA("sap.m.IBadge")&&x.getBadgeCustomData()&&x.getBadgeCustomData().getVisible();});};v.prototype._expandButtonPress=function(){if(!this.getEnabled()){return;}this.$().trigger("focus");if(!this._oPopover){this._oPopover=new f({showArrow:false,showHeader:false,offsetY:0,offsetX:0,placement:P.VerticalPreferredBottom}).addStyleClass("sapMITBFilterPopover");this._oPopover.attachBeforeClose(function(){this._getSelectList().destroyItems();},this);if(D.system.phone){this._oPopover._oControl.addButton(this._createPopoverCloseButton());}if(this._getIconTabHeader()._isInsideToolHeader()){this._oPopover.addStyleClass("sapMITBFilterPopoverInToolHeader");this._oPopover.setOffsetY(u);if(!D.system.phone){this._oPopover.addEventDelegate({onAfterRendering:function(E){this._oPopover.getDomRef().style.minWidth=this.$().outerWidth(true)+"px";}.bind(this)});}}this.addDependent(this._oPopover);this._oPopover._oControl._adaptPositionParams=function(){var i=this.$().parents().hasClass("sapUiSizeCompact");this._arrowOffset=0;if(i){this._offsets=["0 0","0 0","0 4","0 0"];}else{this._offsets=["0 0","0 0","0 5","0 0"];}this._atPositions=["end top","end top","end bottom","begin top"];this._myPositions=["end bottom","begin top","end top","end top"];};}var H=this._setSelectListItems();var S=this._getSelectList();this._oPopover.removeAllContent();if(this.getItems().length||this._isOverflow()){this._oPopover.addContent(S);this._oPopover.setInitialFocus(H?S.getSelectedItem():S.getVisibleTabFilters()[0]);this._oPopover.openBy(this);}};v.prototype._getAllSubItems=function(){var i=[];this._getRealTab().getItems().forEach(function(x){if(x.isA("sap.m.IconTabFilter")){i=i.concat(x,x._getAllSubItems());}else{i=i.concat(x);}});return i;};v.prototype._getAllSubFilters=function(){return this._getAllSubItems().filter(function(i){return i.isA("sap.m.IconTabFilter");});};v.prototype._getAllSubFiltersDomRefs=function(){return this._getAllSubFilters().filter(function(S){return Boolean(S._getRealTab().getDomRef());}).map(function(S){return S._getRealTab().getDomRef();});};v.prototype._getFirstAvailableSubFilter=function(){var x=this._getAllSubFilters();for(var i=0;i<x.length;i++){var y=x[i];if(y.getContent().length&&y.getVisible()){return y;}}return this;};v.prototype._isParentOf=function(x){var y=this._getAllSubFilters();for(var i=0;i<y.length;i++){if(y[i]._getRealTab()===x){return true;}}return false;};v.prototype._createPopoverCloseButton=function(){return new e({text:w.getText("SELECT_CANCEL_BUTTON"),press:this._closePopover.bind(this)});};v.prototype._closePopover=function(){if(this._oPopover){this._oPopover.close();this._oPopover.removeAllContent();}if(this._isOverflow()&&this.getParent().oSelectedItem){(this.getParent()._oSelectedRootItem||this.getParent().oSelectedItem._getRootTab()).$().trigger("focus");}};v.prototype._handleOnDragOver=function(E){if(this._isDropPossible(E)){this.getDomRef().classList.add("sapMITHDragOver");E.preventDefault();}};v.prototype._handleOnLongDragOver=function(E){if(this._isDropPossible(E)){if(this._oPopover&&this._oPopover.isOpen()){return;}this._expandButtonPress();}};v.prototype._handleOnDrop=function(){this.getDomRef().classList.remove("sapMITHDragOver");};v.prototype._handleOnDragLeave=function(){this.getDomRef().classList.remove("sapMITHDragOver");};v.prototype._isDropPossible=function(E){var i=this._getIconTabHeader(),x=E.dragSession.getDragControl()._getRealTab(),S=i.oSelectedItem;if(i!==x._getIconTabHeader()){return false;}if(x===this||x._isParentOf(this)){return false;}if(!this._isOverflow()&&!i.getMaxNestingLevel()){return false;}if(this._isOverflow()&&S&&(S===x||S._getRootTab()===x)){return false;}return true;};v.prototype._setSelectListItems=function(){var x=this.getParent(),S=this._getSelectList(),y=this._getAllSubItems(),z=x.oSelectedItem,H=false,E,L,F,i,G;if(this._isOverflow()){y=x._getItemsForOverflow(this._bIsStartOverflow);}S.destroyItems();S.setSelectedItem(null);for(i=0;i<y.length;i++){E=y[i];L=E.clone(undefined,undefined,{cloneChildren:false,cloneBindings:true});E._oCloneInList=L;F=E.getCustomData();for(G=0;G<F.length;G++){L.addCustomData(F[G].clone());}L._oRealItem=E;S.addItem(L);if(E.isA("sap.m.IconTabSeparator")){continue;}if(L._getRealTab()===z){S.setSelectedItem(L);H=true;continue;}if(L._getRealTab()._isParentOf(z)){S.setSelectedItem(z._getRealTab());H=true;}}return H;};v.prototype._isOverflow=function(){return this._bIsOverflow||this._bIsStartOverflow;};v.prototype._getIconTabHeader=function(){return this._getRootTab().getParent();};v.prototype.onsapdown=function(E){if(!this.getEnabled()){return;}if(this._isOverflow()||((this._getNestedLevel()===1&&this._getRealTab()===this)&&this._getRealTab().getItems().length!==0)){E.stopImmediatePropagation();this._expandButtonPress();}};v.prototype._startBadgeHiding=function(){if(this._iHideBadgeTimeout){return;}this._iHideBadgeTimeout=setTimeout(this._hideBadge.bind(this),s);if(this._getRootTab()!==this){this._getRootTab()._updateExpandButtonBadge();}};v.prototype._hideBadge=function(){var i=this.getBadgeCustomData();if(!i){return;}i.setVisible(false);if(this._getRootTab()!==this){this._getRootTab()._updateExpandButtonBadge();}if(this._oCloneInList&&!this._oCloneInList.bIsDestroyed&&this._oCloneInList.getBadgeCustomData()){this._oCloneInList.getBadgeCustomData().setVisible(false);this._oCloneInList=null;}if(this._isInOverflow()){this._getIconTabHeader()._getOverflow()._updateExpandButtonBadge();}if(this._isInStartOverflow()){this._getIconTabHeader()._getStartOverflow()._updateExpandButtonBadge();}this._iHideBadgeTimeout=null;};v.prototype._isInOverflow=function(){return!this._bIsOverflow&&this._getIconTabHeader()._getItemsInStrip().indexOf(this._getRealTab())===-1;};v.prototype._isInStartOverflow=function(){return!this._bIsStartOverflow&&this._getIconTabHeader()._getItemsInStrip().indexOf(this._getRealTab())===-1;};v.prototype.onBadgeUpdate=function(V,S,i){var x=this.getDomRef(),y=this._getIconTabHeader(),z,E,F,G,O,H,J,K;if(!y){return;}if(x){F=x.getAttribute("aria-labelledby")||"";switch(S){case p.Appear:F=i+" "+F;break;case p.Disappear:F=F.replace(i,"").trim();break;}x.setAttribute("aria-labelledby",F);}if(!y._isRendered()){return;}z=this._getRootTab();if(z._isInOverflow()){O=this._getIconTabHeader()._getOverflow();O._updateExpandButtonBadge();}if(z._isInStartOverflow()){H=this._getIconTabHeader()._getStartOverflow();H._updateExpandButtonBadge();}else if(z!==this){z._updateExpandButtonBadge();}if(S!==p.Appear){return;}this._enableMotion();if((this._isInOverflow()||this._isInStartOverflow())&&this._oCloneInList){this._oCloneInList.addCustomData(new B());}E=d.getInstance();G=this.getText();if(z._isInOverflow()){J="ICONTABFILTER_SUB_ITEM_BADGE";K=[G,O.getText()];}if(z._isInStartOverflow()){J="ICONTABFILTER_SUB_ITEM_BADGE";K=[G,H.getText()];}else{if(z!==this){J="ICONTABFILTER_SUB_ITEM_BADGE";K=[G,z.getText()];}else{J="ICONTABFILTER_BADGE_MSG";K=G;}}E.announce(w.getText(J,K),t.Assertive);};v.prototype.getAriaLabelBadgeText=function(){return w.getText("ICONTABFILTER_BADGE");};v.prototype._enableMotion=function(){if(this._getRealTab()._isInOverflow()||this._getRealTab()._isInStartOverflow()){if(this._oCloneInList&&this._oCloneInList.getDomRef()){this._oCloneInList.getDomRef().classList.add("sapMITBFilterBadgeMotion");}}else if(this.getDomRef()){this.getDomRef().classList.add("sapMITBFilterBadgeMotion");}};v.prototype._shouldReadIconColor=function(){var i=this.getIconColor();return this.getEnabled()&&(i==="Positive"||i==="Critical"||i==="Negative"||i==="Neutral");};return v;});
sap.ui.predefine('sap/m/IconTabFilterExpandButtonBadge',["./BadgeEnabler","sap/ui/core/Control","sap/ui/core/Core"],function(B,C,a){"use strict";var r=a.getLibraryResourceBundle("sap.m");var I=C.extend("sap.m.IconTabFilterExpandButtonBadge",{metadata:{library:"sap.m",interfaces:["sap.m.IBadge"]},renderer:{apiVersion:2,render:function(R,c){R.openStart("div",c).class("sapMITFExpandButtonBadge").openEnd().close("div");}}});B.call(I.prototype);I.prototype.init=function(){this.initBadgeEnablement({style:"Attention"});};I.prototype.getAriaLabelBadgeText=function(){return r.getText("ICONTABFILTER_SUB_ITEMS_BADGES");};I.prototype.onBadgeUpdate=function(){var p=this.getParent();p.onBadgeUpdate.apply(p,arguments);};return I;});
sap.ui.predefine('sap/m/IconTabHeader',['./library','sap/ui/core/Core','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/delegate/ItemNavigation',"sap/ui/core/InvisibleText",'sap/ui/core/ResizeHandler','sap/ui/Device','sap/m/Button','sap/m/IconTabFilter','sap/m/IconTabSeparator','sap/m/IconTabBarDragAndDropUtil','sap/ui/core/library','sap/m/IconTabHeaderRenderer',"sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/events/KeyCodes"],function(l,C,a,E,I,b,R,D,B,c,d,e,f,g,q,L,K){"use strict";var h=f.dnd.DropPosition;var k=l.BackgroundDesign;var m=l.IconTabHeaderMode;var n=l.IconTabDensityMode;var T=l.TabsOverflowMode;var o=a.extend("sap.m.IconTabHeader",{metadata:{library:"sap.m",properties:{showSelection:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},selectedKey:{type:"string",group:"Data",defaultValue:null},visible:{type:"boolean",group:"Behavior",defaultValue:true},mode:{type:"sap.m.IconTabHeaderMode",group:"Appearance",defaultValue:m.Standard},showOverflowSelectList:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:k.Solid},enableTabReordering:{type:"boolean",group:"Behavior",defaultValue:false},maxNestingLevel:{type:"int",group:"Behavior",defaultValue:0},tabDensityMode:{type:"sap.m.IconTabDensityMode",group:"Appearance",defaultValue:n.Cozy},ariaTexts:{type:"object",group:"Accessibility",defaultValue:null},tabsOverflowMode:{type:"sap.m.TabsOverflowMode",group:"Behavior",defaultValue:T.End}},aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item",dnd:{draggable:true,droppable:true,layout:"Horizontal"}},_overflow:{type:"sap.m.IconTabFilter",multiple:false,visibility:"hidden"},_startOverflow:{type:"sap.m.IconTabFilter",multiple:false,visibility:"hidden"}},events:{select:{parameters:{item:{type:"sap.m.IconTabFilter"},key:{type:"string"},previousKey:{type:"string"}}}}}});var r=C.getLibraryResourceBundle("sap.m");E.apply(o.prototype,[true]);o.prototype.init=function(){this._aTabKeys=[];this._oAriaHeadText=null;this._bIsRendered=false;};o.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this._aTabKeys){this._aTabKeys=null;}if(this._oOverflow){this._oOverflow.removeEventDelegate(this._oOverflowEventDelegate);this._oOverflowEventDelegate=null;this._oOverflow=null;}if(this._oStartOverflow){this._oStartOverflow.removeEventDelegate(this._oStartOverflowEventDelegate);this._oStartOverflowEventDelegate=null;this._oStartOverflow=null;}if(this._oAriaHeadText){this._oAriaHeadText.destroy();this._oAriaHeadText=null;}this._bRtl=null;};o.prototype.onBeforeRendering=function(){this._bIsRendered=false;this._bRtl=C.getConfiguration().getRTL();if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this._updateSelection();this.destroyDragDropConfig();this._setsDragAndDropConfigurations();};o.prototype.onAfterRendering=function(){this._applyTabDensityMode();if(this.oSelectedItem){this._applySelectionToFilters();this.oSelectedItem._hideBadge();}if(C.isThemeApplied()){this._setItemsForStrip();}else{C.attachThemeChanged(this._handleThemeLoad,this);}this._initItemNavigation();this._sResizeListenerId=R.register(this.getDomRef(),q.proxy(this._fnResize,this));this.getItems().forEach(function(i){if(i._onAfterParentRendering){i._onAfterParentRendering();}});this._bIsRendered=true;};o.prototype._isRendered=function(){return this._bIsRendered;};o.prototype._getSelectList=function(){return this._getOverflow()._getSelectList();};o.prototype._getOverflow=function(){var O=this.getAggregation("_overflow");if(!O){O=new c({id:this.getId()+'-overflow',text:r.getText("ICONTABHEADER_OVERFLOW_MORE")});O._bIsOverflow=true;this._oOverflowEventDelegate={onsapnext:O.onsapdown};O.addEventDelegate(this._oOverflowEventDelegate,O);this.setAggregation("_overflow",O);this._oOverflow=O;}return O;};o.prototype._getStartOverflow=function(){var s=this.getAggregation("_startOverflow");if(!s){s=new c({id:this.getId()+'-startOverflow',text:r.getText("ICONTABHEADER_OVERFLOW_MORE")});s._bIsStartOverflow=true;this._oStartOverflowEventDelegate={onsapprevious:s.onsapdown};s.addEventDelegate(this._oStartOverflowEventDelegate,s);this.setAggregation("_startOverflow",s);this._oStartOverflow=s;}return s;};o.prototype._getInvisibleHeadText=function(){var A=this.getAriaTexts()||{};if(!this._oAriaHeadText){this._oAriaHeadText=new b({id:this.getId()+"-ariaHeadText"});}this._oAriaHeadText.setText(A.headerDescription);return this._oAriaHeadText;};o.prototype._onItemNavigationFocusLeave=function(){if(!this.oSelectedItem){return;}var j=this.getItems();var p=-1;var s;for(var i=0;i<j.length;i++){s=j[i];if(s instanceof c==false){continue;}p++;if((this.oSelectedItem._getRootTab()||this.oSelectedItem)===s){break;}}this._oItemNavigation.setFocusedIndex(p);};o.prototype.getTabFilters=function(){var t=[];this.getItems().forEach(function(i){if(i instanceof c){t.push(i);}});return t;};o.prototype._setsDragAndDropConfigurations=function(){if(this.getEnableTabReordering()&&!this.getDragDropConfig().length){e.setDragDropAggregations(this,"Horizontal",this._getDropPosition());}};o.prototype._getDropPosition=function(){return this.getMaxNestingLevel()===0?h.Between:h.OnOrBetween;};o.prototype.setSelectedKey=function(s){var j=this.getTabFilters(),p=this._isInsideIconTabBar(),S;if(j.length>0){s=s||j[0]._getNonEmptyKey();}if(this.$().length){for(var i=0;i<j.length;i++){if(j[i]._getNonEmptyKey()===s){this.setSelectedItem(j[i],true);S=true;break;}}if(!S&&!p&&s){this.setSelectedItem(null);}}this.setProperty("selectedKey",s,true);return this;};o.prototype.setSelectedItem=function(i,A){if(!i){if(this.oSelectedItem){this._removeSelectionFromFilters();this.oSelectedItem=null;}return this;}if(this._isUnselectable(i)){return this;}var p=this.getParent();var j=this._isInsideIconTabBar();var P=this.getSelectedKey();var s=false;if(i.getContent().length===0&&this.oSelectedItem&&this.oSelectedItem.getContent().length===0){s=true;}if(this.oSelectedItem&&this.oSelectedItem.getVisible()&&(!A&&j&&p.getExpandable()||this.oSelectedItem!==i)){this._removeSelectionFromFilters();}if(i.getVisible()){if(this.oSelectedItem===i){if(!A&&j&&p.getExpandable()){p._toggleExpandCollapse();}}else{if(j){p.$("content").attr('aria-labelledby',i.sId);}this.oSelectedItem=i;this._applySelectionToFilters();this.setProperty("selectedKey",this.oSelectedItem._getNonEmptyKey(),true);if(j&&(p.getExpandable()||p.getExpanded())){var S=this.oSelectedItem.getContent();if(S.length>0){p._rerenderContent(S);}else{if(!s){p._rerenderContent(p.getContent());}}if(!A&&p.getExpandable()&&!p.getExpanded()){p._toggleExpandCollapse(true);}}}}this.oSelectedItem=i;var t=this.oSelectedItem._getNonEmptyKey();this.setProperty("selectedKey",t,true);if(j){p.setProperty("selectedKey",t,true);}if(!A){if(j){p.fireSelect({selectedItem:this.oSelectedItem,selectedKey:t,item:this.oSelectedItem,key:t,previousKey:P});}else{this.fireSelect({selectedItem:this.oSelectedItem,selectedKey:t,item:this.oSelectedItem,key:t,previousKey:P});}}this.oSelectedItem._startBadgeHiding();var u=this.oSelectedItem._getRootTab().getDomRef();if(!u||u.classList.contains("sapMITBFilterHidden")||this.getTabsOverflowMode()===T.End){this._setItemsForStrip();}return this;};o.prototype.getVisibleTabFilters=function(){return this.getTabFilters().filter(function(F){return F.getVisible();});};o.prototype._initItemNavigation=function(){var t=[],s=-1,S=this.oSelectedItem&&this.oSelectedItem._getRootTab();if(this.$().hasClass("sapMITHStartOverflowList")){var i=this._getStartOverflow().getFocusDomRef();i.setAttribute("tabindex","-1");t.push(i);}this.getTabFilters().forEach(function(j){var p=this.getFocusDomRef(j);if(!p){return;}p.setAttribute("tabindex","-1");t.push(p);if(j===S||j===this.oSelectedItem){s=t.indexOf(p);}}.bind(this));if(this.$().hasClass("sapMITHEndOverflowList")){var O=this._getOverflow().getFocusDomRef();O.setAttribute("tabindex","-1");t.push(O);}if(!this._oItemNavigation){this._oItemNavigation=new I().setCycling(false).attachEvent(I.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"]});this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(this.getDomRef()).setItemDomRefs(t).setPageSize(t.length).setSelectedIndex(s);};o.prototype.onThemeChanged=function(){this._applyTabDensityMode();};o.prototype._applyTabDensityMode=function(){var t=this.getTabDensityMode();this.$().removeClass("sapUiSizeCompact");switch(t){case n.Compact:this.$().addClass("sapUiSizeCompact");break;case n.Inherit:if(this.$().closest(".sapUiSizeCompact").length){this.$().addClass("sapUiSizeCompact");}break;}};o.prototype._handleThemeLoad=function(){setTimeout(this._setItemsForStrip.bind(this),350);C.detachThemeChanged(this._handleThemeLoad,this);};o.prototype.destroyItems=function(){this.oSelectedItem=null;this._aTabKeys=[];this.destroyAggregation("items");return this;};o.prototype.addItem=function(i){if(!(i instanceof d)){var s=i.getKey();if(this._aTabKeys.indexOf(s)!==-1){L.warning("sap.m.IconTabHeader: duplicate key '"+s+"' inside the IconTabFilter. Please use unique keys.");}this._aTabKeys.push(s);}this.addAggregation("items",i);this._invalidateParentIconTabBar();return this;};o.prototype.insertItem=function(i,j){if(!(i instanceof d)){var s=i.getKey();if(this._aTabKeys.indexOf(s)!==-1){L.warning("sap.m.IconTabHeader: duplicate key '"+s+"' inside the IconTabFilter. Please use unique keys.");}this._aTabKeys.push(s);}this.insertAggregation("items",i,j);this._invalidateParentIconTabBar();};o.prototype.removeAllItems=function(){var i=this.removeAllAggregation("items");this._aTabKeys=[];this.oSelectedItem=null;this._invalidateParentIconTabBar();return i;};o.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(i&&!(i instanceof d)){var s=i.getKey();this._aTabKeys.splice(this._aTabKeys.indexOf(s),1);}if(this.oSelectedItem===i){this.oSelectedItem=null;}this._invalidateParentIconTabBar();return i;};o.prototype.updateAggregation=function(){this.oSelectedItem=null;a.prototype.updateAggregation.apply(this,arguments);this.invalidate();};o.prototype.removeAggregation=function(A,O,s){var i=this.getTabFilters();var j=a.prototype.removeAggregation.apply(this,arguments);if(s){return j;}if(!this._getPreserveSelection()&&j&&j==this.oSelectedItem&&A=='items'){var p=(i?Array.prototype.indexOf.call(i,j):-1);i=this.getTabFilters();p=Math.max(0,Math.min(p,i.length-1));var S=i[p];if(S){this.setSelectedItem(S,true);}else{var t=this.getParent();if(this._isInsideIconTabBar()&&t.getExpanded()){t.$("content").children().remove();}}}return j;};o.prototype.removeAllAggregation=function(A,s){if(A=='items'){var i=this.getParent();if(this._isInsideIconTabBar()&&i.getExpanded()){i.$("content").children().remove();}}return a.prototype.removeAllAggregation.apply(this,arguments);};o.prototype._getPreserveSelection=function(){return this._bPreserveSelection;};o.prototype._setPreserveSelection=function(p){this._bPreserveSelection=p;};o.prototype._getDisplayText=function(i){var t=i.getText();if(this.isInlineMode()){var s=i.getCount();if(s){if(this._bRtl){t='('+s+') '+t;}else{t+=' ('+s+')';}}}return t;};o.prototype.isInlineMode=function(){return this.getMode()===m.Inline;};o.prototype._checkTextOnly=function(){this._bTextOnly=this.getItems().every(function(i){return i instanceof d||!i.getIcon();});return this._bTextOnly;};o.prototype._checkNoText=function(j){if(j.length>0){for(var i=0;i<j.length;i++){if(!(j[i]instanceof d)){if(j[i].getText().length>0){return false;}}}}return true;};o.prototype._checkInLine=function(j){var p;if(j.length>0){for(var i=0;i<j.length;i++){p=j[i];if(!(p instanceof d)){if(p.getIcon()||p.getCount()){this._bInLine=false;return false;}}}}this._bInLine=true;return true;};o.prototype._getItemsInStrip=function(){return this.getItems().filter(function(i){var j=i.getDomRef();return j&&!j.classList.contains("sapMITBFilterHidden");});};o.prototype._setItemsForStrip=function(){var t=this.getVisibleTabFilters();if(!C.isThemeApplied()||!t.length){return;}var i=this.getDomRef("head");if(!i){return;}var s=this._getStartOverflow(),O=this._getOverflow(),j=this.getItems().filter(function(v){return v.getDomRef();}).map(function(v){return v.getDomRef();}),S=(this.oSelectedItem&&this.oSelectedItem.getVisible())?this.oSelectedItem:t[0],p=(S._getRootTab()||S).getDomRef();if(!j.length||!p){return;}s.$().removeClass("sapMITHOverflowVisible");O.$().removeClass("sapMITHOverflowVisible");this.$().removeClass("sapMITHStartOverflowList");this.$().removeClass("sapMITHEndOverflowList");j.forEach(function(v){v.classList.remove("sapMITBFilterHidden");});var u=j.reduce(function(v,w){return v+q(w).outerWidth(true);},0),H=u>i.offsetWidth;if(!H){return;}switch(this.getTabsOverflowMode()){case T.StartAndEnd:this._updateStartAndEndOverflow(j,p);break;case T.End:default:this._updateEndOverflow(j,p);break;}};o.prototype._updateEndOverflow=function(j,s){var O=this._getOverflow(),t=this.getDomRef("head"),p,u,S,i;O.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");p=t.offsetWidth;S=this._getSelectedItemIndexAndSize(j,s);u=this._findLastVisibleItem(j,p,S.width);for(i=u+1;i<j.length;i++){j[i].classList.add("sapMITBFilterHidden");}O._updateExpandButtonBadge();};o.prototype._updateStartAndEndOverflow=function(j,s){var S=this._getStartOverflow(),O=this._getOverflow(),t=this.getDomRef("head"),p=t.offsetWidth,u=this._getSelectedItemIndexAndSize(j,s),H=this._hasStartOverflow(p,j,u),v=this._hasEndOverflow(p,j,u),F,w,i;O.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");p=t.offsetWidth;if(!H){w=this._findLastVisibleItem(j,p,u.width);for(i=w+1;i<j.length;i++){j[i].classList.add("sapMITBFilterHidden");}O._updateTabCountText();O._updateExpandButtonBadge();return;}S.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHStartOverflowList");O.$().removeClass("sapMITHOverflowVisible");this.$().removeClass("sapMITHEndOverflowList");p=t.offsetWidth;if(!v){F=this._findFirstVisibleItem(j,p,u.width);for(i=F-1;i>=0;i--){j[i].classList.add("sapMITBFilterHidden");}S._updateTabCountText();S._updateExpandButtonBadge();return;}O.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");p=t.offsetWidth;var x=[],y;for(y=0;y<u.index;y++){x.push(j[y]);}F=this._findFirstVisibleItem(j,p,u.width,u.index-1);w=this._findLastVisibleItem(j,p,u.width,F);for(i=F-1;i>=0;i--){j[i].classList.add("sapMITBFilterHidden");}for(i=w+1;i<j.length;i++){j[i].classList.add("sapMITBFilterHidden");}S._updateExpandButtonBadge();S._updateTabCountText();O._updateTabCountText();O._updateExpandButtonBadge();};o.prototype._hasStartOverflow=function(t,j,s){if(s.index===0){return false;}var i,p=0;for(i=s.index-1;i>=0;i--){p+=this._getItemSize(j[i]);}return t<p+s.width;};o.prototype._hasEndOverflow=function(t,j,s){if(s.index>=j.length){return false;}var i,p=0;for(i=s.index;i<j.length;i++){p+=this._getItemSize(j[i]);}return t<p+s.width;};o.prototype._getSelectedItemIndexAndSize=function(i,s){var S=i.indexOf(s),j=this._getItemSize(s),p;if(i[S-1]&&i[S-1].classList.contains("sapMITBSep")){p=i[S-1];j+=this._getItemSize(p);}i.splice(S,1);if(p){i.splice(S-1,1);}return{index:S,width:j};};o.prototype._findFirstVisibleItem=function(i,t,s,S){var j=i.length,p,u;if(S===undefined){S=i.length-1;}for(p=S;p>=0;p--){u=this._getItemSize(i[p]);if(t<s+u){break;}s+=u;j=p;}return j;};o.prototype._findLastVisibleItem=function(i,t,s,S){var j=-1,p,u;S=S||0;for(p=S;p<i.length;p++){u=this._getItemSize(i[p]);if(t<s+u){break;}s+=u;j=p;}var P=i[p-1];if(P&&P.classList.contains("sapMITBSep")){j-=1;}return j;};o.prototype._getItemSize=function(i){var s=window.getComputedStyle(i),w=i.offsetWidth,M=Number.parseInt(s.marginLeft)+Number.parseInt(s.marginRight);return w+M;};o.prototype._handleActivation=function(i){var t=i.target.id,j=i.srcControl,s,$=q(i.target);if(j instanceof B){return;}var p=q(document.getElementById(t));if(p.parents()&&Array.prototype.indexOf.call(p.parents(),this.$("content")[0])>-1){}else{if(t){i.preventDefault();if($.hasClass('sapMITBFilterIcon')||$.hasClass('sapMITBCount')||$.hasClass('sapMITBText')||$.hasClass('sapMITBTab')||$.hasClass('sapMITBContentArrow')||$.hasClass('sapMITBSep')||$.hasClass('sapMITBSepIcon')){s=i.srcControl.getId().replace(/-icon$/,"");j=C.byId(s);if(j.getMetadata().isInstanceOf("sap.m.IconTab")&&!(j instanceof d)){if(this._isUnselectable(j)){if(j.getItems().length||j._isOverflow()){j._expandButtonPress();}return;}if((j===this._getOverflow())||(j===this._getStartOverflow())){j._expandButtonPress();return;}this.setSelectedItem(j);}}else if(j.getMetadata().isInstanceOf("sap.m.IconTab")&&!(j instanceof d)){if(this._isUnselectable(j)){if(j.getItems().length||j._isOverflow()){j._expandButtonPress();}return;}if((j===this._getOverflow())||(j===this._getStartOverflow())){j._expandButtonPress();return;}this.setSelectedItem(j);}}else{if(j.getMetadata().isInstanceOf("sap.m.IconTab")&&!(j instanceof d)){if(this._isUnselectable(j)){if(j.getItems().length||j._isOverflow()){j._expandButtonPress();}return;}if((j===this._getOverflow())||(j===this._getStartOverflow())){j._expandButtonPress();return;}this.setSelectedItem(j);}}}};o.prototype._fnResize=function(){if(this._getOverflow()._oPopover){this._getOverflow()._oPopover.close();}if(this._getStartOverflow()._oPopover){this._getStartOverflow()._oPopover.close();}this._setItemsForStrip();this._initItemNavigation();};o.prototype._isUnselectable=function(i){var F=i._getRealTab();return!F.getEnabled()||(this._isInsideIconTabBar()&&!this.getParent().getContent().length&&F._getNestedLevel()===1&&F.getItems().length&&!F.getContent().length)||F._isOverflow();};o.prototype._isInsideIconTabBar=function(){var p=this.getParent();return p instanceof a&&p.isA('sap.m.IconTabBar');};o.prototype._isInsideToolHeader=function(){var p=this.getParent();return p instanceof a&&p.isA('sap.tnt.ToolHeader');};o.prototype._invalidateParentIconTabBar=function(){if(this._isInsideIconTabBar()){this.getParent().invalidate();}};o.prototype.getFocusDomRef=function(F){var t=F||this.oSelectedItem;if(!t){return null;}return t.getDomRef();};o.prototype.applyFocusInfo=function(F){if(F.focusDomRef){q(F.focusDomRef).trigger("focus");}};o.prototype._updateSelection=function(){var j=this.getItems(),s=this.getSelectedKey(),i=0,p=this._isInsideIconTabBar(),t=this._isInsideToolHeader();if(!j.length){return;}if(!this.oSelectedItem||s&&s!==this.oSelectedItem._getNonEmptyKey()){if(s){this.oSelectedItem=this._findItemByKey(s);}if(!this.oSelectedItem&&(p||!s)){for(i=0;i<j.length;i++){if(!(j[i]instanceof d)&&j[i].getVisible()){this.oSelectedItem=j[i];break;}}}}if(!t&&this.oSelectedItem&&!this.oSelectedItem.getVisible()){for(i=0;i<j.length;i++){if(!(j[i]instanceof d)&&j[i].getVisible()){this.oSelectedItem=j[i];break;}}}if(!this.oSelectedItem){return;}if(this._isUnselectable(this.oSelectedItem)){this.setSelectedItem(this.oSelectedItem._getFirstAvailableSubFilter(),true);return;}this.setProperty("selectedKey",this.oSelectedItem._getNonEmptyKey(),true);};o.prototype._findItemByKey=function(s){var t=this.getTabFilters(),S;for(var i=0;i<t.length;i++){if(t[i]._getNonEmptyKey()===s){return t[i];}S=t[i]._getAllSubFilters();for(var j=0;j<S.length;j++){if(S[j]._getNonEmptyKey()===s){return S[j];}}}};o.prototype._applySelectionToFilters=function(){if(this._isInsideIconTabBar()&&!this.getParent().getExpanded()){return;}this.oSelectedItem.$().addClass("sapMITBSelected").attr({'aria-selected':true});if(this.oSelectedItem._getNestedLevel()!==1){var s=this.oSelectedItem._getRootTab();s.$().addClass("sapMITBSelected").attr({"aria-selected":true});}};o.prototype._removeSelectionFromFilters=function(){this.oSelectedItem.$().removeClass("sapMITBSelected").attr({'aria-selected':false});if(this.oSelectedItem._getNestedLevel()!==1){var s=this.oSelectedItem._getRootTab();s.$().removeClass("sapMITBSelected").attr({"aria-selected":false});}};o.prototype._getItemsForOverflow=function(i){var j=this._getItemsInStrip(),p=this.getTabsOverflowMode()===T.StartAndEnd,s,t=this.getItems(),u=[];if(p){s=t.indexOf(j[0]);t=i?t.slice(0,s):t.slice(s,t.length);}t.forEach(function(v){if(!D.system.phone&&j.indexOf(v)>-1){return;}u.push(v);if(v.isA("sap.m.IconTabFilter")){v._getAllSubItems().forEach(function(S){u.push(S);});}});return u;};o.prototype.ontouchstart=function(i){var t=i.targetTouches[0];this._iActiveTouch=t.identifier;};o.prototype.ontouchend=function(i){if(this._iActiveTouch===undefined){return;}var M=0;var j=1;var p;if(i.which===p||i.which===M||i.which===j){this._handleActivation(i);}this._iActiveTouch=undefined;};o.prototype.ontouchcancel=o.prototype.ontouchend;o.prototype.onkeydown=function(i){switch(i.which){case K.ENTER:this._handleActivation(i);i.preventDefault();break;case K.SPACE:i.preventDefault();break;}};o.prototype.onkeyup=function(i){if(i.which===K.SPACE){this._handleActivation(i);}};o.prototype._handleDragAndDrop=function(i){var j=i.getParameter("dropPosition"),p=i.getParameter("draggedControl"),s=i.getParameter("droppedControl"),t=this,u=this.getMaxNestingLevel();if(j===h.On){t=s._getRealTab();}e.handleDrop(t,j,p._getRealTab(),s,false,u);if(p._getNestedLevel()>1){p._getRootTab()._closePopover();}this._setItemsForStrip();this._initItemNavigation();this._getOverflow()._setSelectListItems();this._getStartOverflow()._setSelectListItems();this._getSelectList()._initItemNavigation();p._getRealTab().$().trigger("focus");if(j===h.On){s._getRealTab().$().trigger("focus");}};o.prototype._moveTab=function(t,i,M){e.moveItem.call(this,t,i,M);this._setItemsForStrip();this._initItemNavigation();};o.prototype.ondragrearranging=function(i){if(!this.getEnableTabReordering()){return;}var t=i.srcControl,j=this.indexOfItem(this._getItemsInStrip().pop());this._moveTab(t,i.keyCode,j);t.$().trigger("focus");};o.prototype.onsaphomemodifiers=o.prototype.ondragrearranging;o.prototype.onsapendmodifiers=o.prototype.ondragrearranging;o.prototype.onsapincreasemodifiers=o.prototype.ondragrearranging;o.prototype.onsapdecreasemodifiers=o.prototype.ondragrearranging;return o;});
sap.ui.predefine('sap/m/IconTabHeaderRenderer',['./library'],function(l){"use strict";var I={apiVersion:2};var T=l.TabsOverflowMode;I.render=function(r,c){if(!c.getVisible()){return;}var s=c.getId(),a=c.getItems(),v=c.getVisibleTabFilters().length,V=0,t=c._checkTextOnly(),n=c._checkNoText(a),b=c._checkInLine(a)||c.isInlineMode();var o=c.getParent(),u=o&&o.isA('sap.m.IconTabBar')&&o.getUpperCase(),A=c.getAriaTexts()||{};r.openStart("div",c).class("sapMITH").class("sapContrastPlus").class("sapMITHBackgroundDesign"+c.getBackgroundDesign());if(u){r.class("sapMITBTextUpperCase");}if(t){r.class("sapMITBTextOnly");}if(n){r.class("sapMITBNoText");}if(b){r.class("sapMITBInLine");r.class("sapMITBTextOnly");}r.accessibilityState(c,{role:"navigation"});if(A.headerLabel){r.accessibilityState(c,{label:A.headerLabel});}r.openEnd();if(a.length&&c.getTabsOverflowMode()===T.StartAndEnd){r.openStart("div").class("sapMITHStartOverflow").openEnd();c._getStartOverflow().render(r);r.close("div");}if(A.headerDescription){r.renderControl(c._getInvisibleHeadText());}r.openStart("div",s+"-head").class("sapMITBHead");r.accessibilityState({role:"tablist",orientation:"horizontal"});if(A.headerDescription){r.accessibilityState({describedby:c._getInvisibleHeadText().getId()});}r.openEnd();for(var i=0;i<a.length;i++){var d=a[i];d.render(r,V,v);if(d.isA("sap.m.IconTabFilter")){if(d.getVisible()){V++;}}}r.close("div");if(a.length){r.openStart("div").class("sapMITHEndOverflow").openEnd();c._getOverflow().render(r);r.close("div");}r.close("div");};return I;},true);
sap.ui.predefine('sap/m/IconTabSeparator',["./library","sap/ui/core/Core","sap/ui/core/Element","sap/ui/core/Item","sap/m/IconTabFilter"],function(l,C,E,I,a){"use strict";var b=l.ImageHelper;var c=E.extend("sap.m.IconTabSeparator",{metadata:{interfaces:["sap.m.IconTab"],library:"sap.m",designtime:"sap/m/designtime/IconTabSeparator.designtime",properties:{icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:''},visible:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true}}}});c.prototype._getImageControl=function(d,p){var P={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};this._oImageControl=b.getImageControl(this.getId()+"-icon",this._oImageControl,p,P,d);return this._oImageControl;};c.prototype.exit=function(e){if(this._oImageControl){this._oImageControl.destroy();}E.prototype.exit.call(this,e);};c.prototype._getRealTab=function(){return a.prototype._getRealTab.call(this);};c.prototype._getNestedLevel=function(){return a.prototype._getNestedLevel.call(this);};c.prototype.render=function(r){if(!this.getVisible()){return;}var i=this.getIcon(),o=this.getParent(),R=C.getLibraryResourceBundle('sap.m'),A={};if(i){A.role="img";A.label=R.getText("ICONTABBAR_NEXTSTEP");}else{A.role="separator";}r.openStart("div",this).accessibilityState(A).class("sapMITBItem").class("sapMITBSep");if(!i){r.class("sapMITBSepLine");}r.openEnd();if(i){r.renderControl(this._getImageControl(["sapMITBSepIcon"],o));}r.close("div");};c.prototype.renderInSelectList=function(r,s,i,S,p){if(!this.getVisible()){return;}var d=this.getIcon(),o=s._oIconTabHeader,R=C.getLibraryResourceBundle('sap.m'),A={};if(d){A.role="img";A.label=R.getText("ICONTABBAR_NEXTSTEP");}else{A.role="separator";}r.openStart("li",this).class("sapMITBSelectItem").class("sapMITBSep").accessibilityState(A);if(p&&!d){r.style("padding-left",p+"rem");}if(!d){r.class("sapMITBSepLine");}r.openEnd();if(d){r.renderControl(this._getImageControl(["sapMITBSepIcon"],o));}r.close("li");};return c;});
sap.ui.predefine('sap/m/InputListItem',["sap/ui/core/library","./library","./ListItemBase","./InputListItemRenderer"],function(c,l,L,I){"use strict";var T=c.TextDirection;var a=L.extend("sap.m.InputListItem",{metadata:{library:"sap.m",properties:{label:{type:"string",group:"Misc",defaultValue:null},labelTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",bindable:"bindable"}},designtime:"sap/m/designtime/InputListItem.designtime"}});a.prototype.getContentAnnouncement=function(){var A=this.getLabel()+" . ";this.getContent().forEach(function(C){A+=L.getAccessibilityText(C)+" ";});return A.trim();};return a;});
sap.ui.predefine('sap/m/InputListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","./ListItemBaseRenderer"],function(c,R,L){"use strict";var T=c.TextDirection;var I=R.extend(L);I.apiVersion=2;I.renderLIAttributes=function(r,l){r.class("sapMILI");};I.renderLIContent=function(r,l){var s=l.getLabel();var i=l.getId()+"-label";if(s){r.openStart("span",i);r.class("sapMILILabel");var a=l.getLabelTextDirection();if(a!==T.Inherit){r.attr("dir",a.toLowerCase());}r.openEnd();r.text(s);r.close("span");}r.openStart("div").class("sapMILIDiv").class("sapMILI-CTX").openEnd();l.getContent().forEach(function(C){if(C.addAriaLabelledBy&&C.getAriaLabelledBy().indexOf(i)===-1){C.addAriaLabelledBy(i);}r.renderControl(C);});r.close("div");};return I;},true);
sap.ui.predefine('sap/m/LightBox',["./library","sap/ui/core/Control","sap/ui/core/Popup","sap/ui/core/Core","sap/m/Text","sap/m/Button","sap/ui/core/ResizeHandler","sap/ui/Device","sap/ui/core/Icon","sap/ui/layout/VerticalLayout","./InstanceManager","sap/ui/core/InvisibleText","sap/ui/core/library","./LightBoxRenderer","sap/m/BusyIndicator","sap/ui/thirdparty/jquery","sap/ui/dom/units/Rem"],function(l,C,P,a,T,B,R,D,I,V,b,c,d,L,e,q,f){"use strict";var g=l.ButtonType;var h=l.LightBoxLoadingStates;var O=d.OpenState;var i=d.TextAlign;var j=C.extend("sap.m.LightBox",{metadata:{library:"sap.m",interfaces:["sap.ui.core.PopupInterface"],aggregations:{imageContent:{type:"sap.m.LightBoxItem",multiple:true,bindable:"bindable"},_closeButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_verticalLayout:{type:"sap.ui.layout.VerticalLayout",multiple:false,visibility:"hidden"},_invisiblePopupText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_busy:{type:"sap.m.BusyIndicator",multiple:false,visibility:"hidden"}},defaultAggregation:"imageContent",events:{},designtime:"sap/m/designtime/LightBox.designtime"}});j.prototype.init=function(){this._createPopup();this._iWidth=0;this._iHeight=0;this._isRendering=true;this._iResizeListenerId=null;this._$lightBox=null;this._oRB=a.getLibraryResourceBundle("sap.m");this.setAggregation("_invisiblePopupText",new c());};j.prototype.onBeforeRendering=function(){var o=this._getImageContent(),n=o._getNativeImage(),s=o.getImageSrc(),S=o._getImageState(),k=this._oRB.getText("LIGHTBOX_ARIA_ENLARGED",[o.getTitle(),o.getSubtitle()]),E=this._oRB.getText("LIGHTBOX_IMAGE_ERROR"),m=this._oRB.getText("LIGHTBOX_IMAGE_ERROR_DETAILS");this._createErrorControls();if(n.getAttribute("src")!==s){n.src=s;}if(this._iResizeListenerId){D.resize.detachHandler(this._fnResizeListener);R.deregister(this._iResizeListenerId);this._iResizeListenerId=null;}switch(S){case h.Loading:if(!this._iTimeoutId){this._iTimeoutId=setTimeout(function(){o._setImageState(h.TimeOutError);},10000);}break;case h.Loaded:clearTimeout(this._iTimeoutId);this._calculateSizes(n);break;case h.Error:clearTimeout(this._iTimeoutId);k+=" "+E+" "+m;break;default:break;}if(o){this.getAggregation("_invisiblePopupText").setText(k);}this._isRendering=true;};j.prototype.onAfterRendering=function(){this._isRendering=false;this._$lightBox=this.$();if(!this._iResizeListenerId){this._fnResizeListener=this._onResize.bind(this);D.resize.attachHandler(this._fnResizeListener);this._iResizeListenerId=R.register(this,this._fnResizeListener);}};j.prototype.forceInvalidate=C.prototype.invalidate;j.prototype.invalidate=function(o){var k=this._getImageContent();if(this.isOpen()){if(k&&k.getImageSrc()){this.forceInvalidate(o);}else{this.close();}}return this;};j.prototype.exit=function(){if(this._oPopup){this._oPopup.detachOpened(this._fnPopupOpened,this);this._oPopup.detachClosed(this._fnPopupClosed,this);this._oPopup.destroy();this._oPopup=null;}if(this._iResizeListenerId){D.resize.detachHandler(this._fnResizeListener);R.deregister(this._iResizeListenerId);this._iResizeListenerId=null;}b.removeLightBoxInstance(this);};j.prototype.open=function(){var o=this._getImageContent();this._oPopup.setContent(this);if(o&&o.getImageSrc()){this._oPopup.open(300,"center center","center center",document.body,null);b.addLightBoxInstance(this);}return this;};j.prototype.isOpen=function(){if(this._oPopup&&this._oPopup.isOpen()){return true;}return false;};j.prototype.close=function(){if(this._iResizeListenerId){D.resize.detachHandler(this._fnResizeListener);R.deregister(this._iResizeListenerId);this._iResizeListenerId=null;}this._oPopup.close();b.removeLightBoxInstance(this);return this;};j.prototype._getCloseButton=function(){var o=this.getAggregation("_closeButton");if(!o){o=new B({id:this.getId()+"-closeButton",text:this._oRB.getText("LIGHTBOX_CLOSE_BUTTON"),type:g.Transparent,press:this.close.bind(this)});this.setAggregation("_closeButton",o,true);}return o;};j.prototype._getBusyIndicator=function(){var o=this.getAggregation("_busy");if(!o){o=new e();this.setAggregation("_busy",o,true);}return o;};j.prototype._imageStateChanged=function(n){var E=n===h.Loaded||n===h.Error;if(E&&!this._isRendering){this.rerender();}};j.prototype._createPopup=function(){this._oPopup=new P(this,true,true);this._oPopup.attachOpened(this._fnPopupOpened,this);this._oPopup.attachClosed(this._fnPopupClosed,this);};j.prototype._fnPopupOpened=function(){this._onResize();q("#sap-ui-blocklayer-popup").on("click",function(){this.close();}.bind(this));};j.prototype._fnPopupClosed=function(){q("#sap-ui-blocklayer-popup").off("click");};j.prototype._createErrorControls=function(){var E,s,t,S,o;if(this.getAggregation("_verticalLayout")){return;}if(this._getImageContent()._getImageState()===h.TimeOutError){E=this._oRB.getText("LIGHTBOX_IMAGE_TIMED_OUT");s=this._oRB.getText("LIGHTBOX_IMAGE_TIMED_OUT_DETAILS");}else{E=this._oRB.getText("LIGHTBOX_IMAGE_ERROR");s=this._oRB.getText("LIGHTBOX_IMAGE_ERROR_DETAILS");}t=new T({text:E,textAlign:i.Center}).addStyleClass("sapMLightBoxErrorTitle");S=new T({text:s,textAlign:i.Center}).addStyleClass("sapMLightBoxErrorSubtitle");o=new I({src:"sap-icon://picture"}).addStyleClass("sapMLightBoxErrorIcon");this.setAggregation("_verticalLayout",new V({content:[o,t,S]}).addStyleClass("sapMLightBoxVerticalLayout"));};j.prototype._onResize=function(){var m=this._calculateOffset()/2+"px",t=m,v=m,M="",k="",o=this._getImageContent(),n=this.getDomRef(),p,r,s=this._calculateOffset();if(o._getImageState()===h.Loaded){this._calculateSizes(o._getNativeImage());p=this._iWidth;r=this._iHeight;this._$lightBox.width(p);this._$lightBox.height(r);}else{p=n.clientWidth;r=n.clientHeight;}if(window.innerWidth>p+s){v="50%";k=Math.round(-p/2);}if(window.innerHeight>r+s){t="50%";M=Math.round(-r/2);}this._$lightBox.css({"top":t,"margin-top":M,"left":v,"margin-left":k});};j.prototype._calculateSizes=function(n){var F=this._calculateFooterHeightInPx(),k=288-F,o=this._getImageContent().getAggregation("_image"),H;this._setImageSize(o,n.naturalWidth,n.naturalHeight);this._calculateAndSetLightBoxSize(o);H=this._pxToNumber(o.getHeight());this.toggleStyleClass("sapMLightBoxMinSize",H<k);this._isBusy=false;};j.prototype._calculateFooterHeightInPx=function(){var k=this.$().parents().hasClass("sapUiSizeCompact"),s=this._getImageContent().getSubtitle(),F=3;if(k&&!s){F-=0.5;}if(s){F+=0.5;}return f.toPx(F);};j.prototype._calculateAndSetLightBoxSize=function(o){var k,m,n=20*16,p=18*16,F=this._calculateFooterHeightInPx();k=this._pxToNumber(o.getHeight());m=this._pxToNumber(o.getWidth());this._iWidth=Math.max(n,m);this._iHeight=Math.max(p,k+F);this._bIsLightBoxBiggerThanMinDimensions=(m>=n)&&(k>=(p-F));};j.prototype._setImageSize=function(o,w,H){var F=this._calculateFooterHeightInPx(),k=this._getDimensions(w,H,F);o.setWidth(k.width+"px");o.setHeight(k.height+"px");};j.prototype._getDimensions=function(k,m,F){var n=20*16,o=18*16,$=q(window),w=$.height(),W=$.width(),M=this._calculateOffset(),A=Math.max(W-M,n),p=Math.max(w-M,o),s;p-=F;if(m<=p){if(k<=A){}else{m*=A/k;k=A;}}else if(k<=A){k*=p/m;m=p;}else{s=Math.max(k/A,m/p);k/=s;m/=s;}return{width:Math.round(k),height:Math.round(m)};};j.prototype._pxToNumber=function(s){return(s.substring(0,(s.length-2)))*1;};j.prototype._getImageContent=function(){var k=this.getAggregation("imageContent");return k&&k[0];};j.prototype._calculateOffset=function(){if(D.system.desktop){return 4*16;}if(D.system.tablet){return 2*16;}if(D.system.phone&&D.resize.width>320){return 1*16;}return 0;};j.prototype.onsapescape=function(E){var o=this._oPopup.getOpenState();if(o!==O.CLOSED||o!==O.CLOSING){this.close();E.stopPropagation();}};return j;});
sap.ui.predefine('sap/m/LightBoxItem',["./library","sap/ui/core/library","sap/ui/core/Element","sap/m/Image","sap/m/Title","sap/m/Label"],function(l,c,E,I,T,L){"use strict";var a=l.LightBoxLoadingStates;var O=c.OpenState;var b=c.TitleLevel;var d=E.extend("sap.m.LightBoxItem",{metadata:{library:"sap.m",properties:{imageSrc:{type:"sap.ui.core.URI",group:"Appearance",multiple:false,defaultValue:""},alt:{type:"string",group:"Appearance",multiple:false,defaultValue:""},title:{type:"string",group:"Appearance",multiple:false,defaultValue:""},subtitle:{type:"string",group:"Appearance",multiple:false,defaultValue:""}},aggregations:{_image:{type:"sap.m.Image",multiple:false,visibility:"hidden"},_title:{type:"sap.m.Title",multiple:false,visibility:"hidden"},_subtitle:{type:"sap.m.Label",multiple:false,visibility:"hidden"}}}});d.prototype.init=function(){this._createNativeImage();this.setAggregation("_image",new I({decorative:false,densityAware:false}),true);this.setAggregation("_title",new T({level:b.H2,wrapping:false}),true);this.setAggregation("_subtitle",new L({wrapping:false}),true);};d.prototype._createNativeImage=function(){var t=this;this._sImageState=a.Loading;this._oImage=new window.Image();this._oImage.onload=function(){if(this.complete&&t._sImageState===a.Loading){t._setImageState(a.Loaded);}};this._oImage.onerror=function(){t._setImageState(a.Error);};};d.prototype.exit=function(){this._oImage=null;};d.prototype._setImageState=function(i){if(i!==this._sImageState){this._sImageState=i;if(this.getParent()){this.getParent()._imageStateChanged(i);}}};d.prototype._getImageState=function(){return this._sImageState;};d.prototype._getNativeImage=function(){return this._oImage;};d.prototype.setImageSrc=function(i){var o=this.getAggregation("_image"),e=this.getParent();if(this.getImageSrc()===i){return this;}this._sImageState=a.Loading;if(e&&e._oPopup.getOpenState()===O.OPEN){this._oImage.src=i;}this.setProperty("imageSrc",i,false);o.setSrc(i);return this;};d.prototype.setAlt=function(e){var i=this.getAggregation("_image");this.setProperty("alt",e,false);i.setAlt(e);return this;};d.prototype.setTitle=function(t){var o=this.getAggregation("_title");this.setProperty("title",t,false);o.setText(t);return this;};d.prototype.setSubtitle=function(s){var S=this.getAggregation("_subtitle");this.setProperty("subtitle",s,false);S.setText(s);return this;};return d;});
sap.ui.predefine('sap/m/LightBoxRenderer',["sap/m/library"],function(l){"use strict";var L=l.LightBoxLoadingStates;var a={apiVersion:2};a.render=function(r,c){var o=c._getImageContent();var i=o._getImageState();var I=c.getAggregation("_invisiblePopupText");r.openStart("div",c).class("sapMLightBox").attr("tabindex","-1").accessibilityState({role:"dialog",modal:true,labelledby:I&&I.getId()});if(o.getSubtitle()){r.class("sapMLightBoxTwoLines");}if(c._bIsLightBoxBiggerThanMinDimensions){r.class("sapMLightBoxTopCornersRadius");}if(i!==L.Error){r.style("width",c._iWidth+"px");r.style("height",c._iHeight+"px");}else{r.class("sapMLightBoxError");}r.openEnd();r.renderControl(I);if(i===L.Loading){this.renderBusyState(r,c);}else if(i===L.TimeOutError||i===L.Error){this.renderError(r,c);}else{this.renderImage(r,c);}this.renderFooter(r,c,o);r.close("div");c._isRendering=false;};a.renderImage=function(r,c){var o=c._getImageContent();r.openStart("div",o);if(o.getSubtitle()){r.class("sapMLightBoxImageContainerTwoLines");}else{r.class("sapMLightBoxImageContainer");}r.openEnd();r.renderControl(o.getAggregation("_image"));r.close("div");};a.renderError=function(r,c){var o=c._getImageContent();r.openStart("div");if(o&&o.getSubtitle()){r.class("sapMLightBoxErrorContainerTwoLines");}else{r.class("sapMLightBoxErrorContainer");}r.openEnd();r.renderControl(c.getAggregation("_verticalLayout"));r.close("div");};a.renderBusyState=function(r,c){r.renderControl(c._getBusyIndicator());};a.renderFooter=function(r,c,i){var t=i.getAggregation("_title"),s=i.getAggregation("_subtitle");r.openStart("div").class("sapMLightBoxFooter").class("sapContrast").class("sapContrastPlus");if(i.getSubtitle()){r.class("sapMLightBoxFooterTwoLines");}r.openEnd();r.openStart("div").class("sapMLightBoxTitleSection").openEnd();if(t){r.renderControl(t.addStyleClass("sapMLightBoxTitle"));}if(s&&s.getText()){r.renderControl(s.addStyleClass("sapMLightBoxSubtitle"));}r.close("div");r.renderControl(c._getCloseButton());r.close("div");};return a;},true);
sap.ui.predefine('sap/m/MaskEnabler',['sap/ui/core/Control','./InputBase','sap/ui/Device','sap/ui/core/library','sap/ui/core/IconPool',"sap/ui/events/KeyCodes","sap/base/Log","sap/ui/thirdparty/jquery","sap/m/MaskInputRule","sap/ui/dom/jquery/cursorPos"],function(C,I,D,c,a,K,L,q,M){"use strict";var T=c.TextDirection;var b=function(){var E='^';this.init=b.init=function(){I.prototype.init.call(this);this._iCaretTimeoutId=null;this._iUserInputStartPosition=null;this._iMaskLength=null;this._sOldInputValue=null;this._oRules=null;this._oTempValue=null;this._bSkipSetupMaskVariables=null;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._setDefaultRules();this._setupMaskVariables();};this.exit=b.exit=function(){this._iCaretTimeoutId=null;this._iUserInputStartPosition=null;this._iMaskLength=null;this._sOldInputValue=null;this._oRules=null;this._oTempValue=null;this._bSkipSetupMaskVariables=null;};this.onBeforeRendering=function(){if(this._isMaskEnabled()){var v=this._validateDependencies();if(v){L.warning("Invalid mask input: "+v);}}I.prototype.onBeforeRendering.apply(this,arguments);this.getShowClearIcon&&this.getShowClearIcon()&&this._getClearIcon().setVisible(this.getProperty("effectiveShowClearIcon"));};this.onAfterRendering=function(){I.prototype.onAfterRendering.apply(this,arguments);};this.onfocusin=b.onfocusin=function(o){this._sOldInputValue=this._getInputValue();I.prototype.onfocusin.apply(this,arguments);if(this._isMaskEnabled()){if(!this._oTempValue.differsFromOriginal()||!this._isValidInput(this._sOldInputValue)){this._applyMask();}this._positionCaret(true);}};this.onfocusout=function(o){if(this._isMaskEnabled()){this.bFocusoutDueRendering=this.bRenderingPhase;this.removeStyleClass("sapMFocus");q(document).off('.sapMIBtouchstart');if(this.bRenderingPhase){return;}this.closeValueStateMessage();this._inputCompletedHandler();}else{this._inputCompletedHandlerNoMask();I.prototype.onfocusout.apply(this,arguments);}};this.oninput=function(o){if(this._isChromeOnAndroid()){this._onInputForAndroidHandler(o);return;}I.prototype.oninput.apply(this,arguments);if(this._isMaskEnabled()){this._applyMask();this._positionCaret(false);}};this.onkeypress=function(o){if(this._isMaskEnabled()){this._keyPressHandler(o);}if(this.getDOMValue()!==""){this._setClearIconVisibility();}};this.onkeydown=b.onkeydown=function(o){if(this._isMaskEnabled()){var k=this._parseKeyBoardEvent(o);I.prototype.onkeydown.apply(this,arguments);this._keyDownHandler(o,k);if(this.getDOMValue()!==""){this._setClearIconVisibility();}}else{var k=this._parseKeyBoardEvent(o);if(k.bEnter){this._inputCompletedHandlerNoMask();}I.prototype.onkeydown.apply(this,arguments);}};this.onsapenter=function(o){};this.onsapfocusleave=function(o){};this.onsapescape=function(o){if(this._oTempValue._aContent.join("")!==this._oTempValue._aInitial.join("")){I.prototype.onsapescape.call(this,o);}};this._setClearIconVisibility=function(s){var f=s!==undefined?s:!this._isValueEmpty();if(this.getShowClearIcon&&this.getShowClearIcon()){this.setProperty("effectiveShowClearIcon",f);this._getClearIcon().setVisible(this.getProperty("effectiveShowClearIcon"));}};this._getClearIcon=function(){if(this._oClearButton){return this._oClearButton;}this._oClearButton=this.addEndIcon({src:a.getIconURI("decline"),noTabStop:true,visible:false,alt:this._oRb.getText("INPUT_CLEAR_ICON_ALT"),useIconTooltip:false,press:function(){if(!this._isValueEmpty()){this.fireChange({value:""});this.setValue("");this.setProperty("effectiveShowClearIcon",false);this._getClearIcon().setVisible(false);setTimeout(function(){if(D.system.desktop){this.focus();}},0);}}.bind(this)});return this._oClearButton;};this._isValueEmpty=function(){var v=this.getDOMValue(),p=this._oTempValue._aInitial.join('');return v==p;};this.getDOMValue=function(){return this._$input.val();};this.setValue=b.setValue=function(v){v=this.validateProperty('value',v);I.prototype.setValue.call(this,v);this._sOldInputValue=v;if(this._isMaskEnabled()){if(!this._oTempValue){this._setupMaskVariables();}if(this._oTempValue._aInitial.join('')!==v){this._applyRules(v);}}this._setClearIconVisibility(v!=="");return this;};this.addAggregation=function(A,o,s){if(A==="rules"){if(!this._validateRegexAgainstPlaceHolderSymbol(o)){return this;}this._removeRuleWithSymbol(o.getMaskFormatSymbol());C.prototype.addAggregation.apply(this,arguments);if(!this._bSkipSetupMaskVariables){this._setupMaskVariables();}return this;}return C.prototype.addAggregation.apply(this,arguments);};this.insertAggregation=function(A,o,i,s){if(A==="rules"){if(!this._validateRegexAgainstPlaceHolderSymbol(o)){return this;}this._removeRuleWithSymbol(o.getMaskFormatSymbol());C.prototype.insertAggregation.apply(this,arguments);this._setupMaskVariables();return this;}return C.prototype.insertAggregation.apply(this,arguments);};this._validateRegexAgainstPlaceHolderSymbol=function(r){if(new RegExp(r.getRegex()).test(this.getPlaceholderSymbol())){L.error("Rejecting input mask rule because it includes the currently set placeholder symbol.");return false;}return true;};this.setPlaceholderSymbol=function(s){var S;if(!/^.$/i.test(s)){L.error("Invalid placeholder symbol string given");return this;}S=this.getRules().some(function(r){return new RegExp(r.getRegex()).test(s);});if(S){L.error("Rejecting placeholder symbol because it is included as a regex in an existing mask input rule.");}else{this.setProperty("placeholderSymbol",s);this._setupMaskVariables();}return this;};this.setMask=function(m){if(!m){var s="Setting an empty mask is pointless. Make sure you set it with a non-empty value.";L.warning(s);return this;}this.setProperty("mask",m,true);this._setupMaskVariables();return this;};this._isCharAllowed=function(s,i){return this._oRules.applyCharAt(s,i);};this._feedReplaceChar=function(s,p,f){return s;};this._inputCompletedHandlerNoMask=function(){var v=this._getInputValue();if(this._sOldInputValue!==v){I.prototype.setValue.call(this,this._getAlteredUserInputValue?this._getAlteredUserInputValue(v):v);this._sOldInputValue=v;if(this.onChange&&!this.onChange({value:v})){this.fireChangeEvent(v);}}};var d=function(f){this._aInitial=f.slice(0);this._aContent=f;};d.prototype.setCharAt=function(s,p){this._aContent[p]=s;};d.prototype.charAt=function(p){return this._aContent[p];};d.prototype.toString=function(){return this._aContent.join('');};d.prototype.differsFromOriginal=function(){return this.differsFrom(this._aInitial);};d.prototype.differsFrom=function(v){var i=0;if(v.length!==this._aContent.length){return true;}for(;i<v.length;i++){if(v[i]!==this._aContent[i]){return true;}}return false;};d.prototype.getSize=function(){return this._aContent.length;};var e=function(r){this._aRules=r;};e.prototype.nextTo=function(i){if(typeof i==="undefined"){i=-1;}do{i++;}while(i<this._aRules.length&&!this._aRules[i]);return i;};e.prototype.previousTo=function(i){do{i--;}while(!this._aRules[i]&&i>0);return i;};e.prototype.hasRuleAt=function(i){return!!this._aRules[i];};e.prototype.applyCharAt=function(s,i){return this._aRules[i].test(s);};this._setDefaultRules=function(){this._bSkipSetupMaskVariables=true;this.addRule(new M({maskFormatSymbol:"a",regex:"[A-Za-z]"}),true);this.addRule(new M({maskFormatSymbol:"9",regex:"[0-9]"}),true);this._bSkipSetupMaskVariables=false;};this._validateDependencies=function(){var p=this.getPlaceholderSymbol(),r=this.getRules(),m=[],f=[];if(!this.getMask()){f.push("Empty mask");}if(r.length){m=[];r.every(function(R){var s=R.getMaskFormatSymbol(),g=s!==p,h;h=!m.some(function(S){return s===S;});m.push(s);if(!g){f.push("Placeholder symbol is the  same as the existing rule's mask format symbol");}if(!h){f.push("Duplicated rule's maskFormatSymbol ["+s+"]");}return g&&h;});}return f.length?f.join(". "):null;};this._removeRuleWithSymbol=function(s){var S=this._findRuleBySymbol(s,this.getRules());if(S){this.removeAggregation('rules',S.oRule);S.oRule.destroy();}};this._findRuleBySymbol=function(m,r){var R=null;if(typeof m!=="string"||m.length!==1){L.error(m+" is not a valid mask rule symbol");return null;}q.each(r,function(i,o){if(o.getMaskFormatSymbol()===m){R={oRule:o,iIndex:i};return false;}});return R;};this._getTextSelection=function(){var _=q(this.getFocusDomRef());if(!_&&(_.length===0||_.is(":hidden"))){return{};}return{iFrom:_[0].selectionStart,iTo:_[0].selectionEnd,bHasSelection:(_[0].selectionEnd-_[0].selectionStart!==0)};};this._setCursorPosition=function(p){if(p<0){p=0;}q(this.getFocusDomRef()).cursorPos(p);return this;};this._getCursorPosition=function(){return q(this.getFocusDomRef()).cursorPos();};this._setupMaskVariables=function(){var r=this.getRules(),m=this.getMask(),s=this._getSkipIndexes(m),f=this._getMaskArray(m,s),p=this.getPlaceholderSymbol(),i=this._buildMaskValueArray(f,p,r,s),t=this._buildRules(f,r,s);this._oTempValue=new d(i);this._iMaskLength=t.length;this._oRules=new e(t);this._iUserInputStartPosition=this._oRules.nextTo();};this._getMaskArray=function(m,s){var l=Array.isArray(s)?s.length:0,f=(m)?m.split(""):[],i;for(i=0;i<l;i++){f.splice(s[i],1);}return f;};this._getSkipIndexes=function(m){var l=(m)?m.length:0,i,s=[],p=0,f=false;for(i=0;i<l;i++){if(m[i]===E&&!f){s.push(i-p);f=true;p++;}else{f=false;}}return s;};this._applyMask=function(){var m=this._getInputValue();if(!this.getEditable()){return;}this._applyAndUpdate(m);};this._resetTempValue=function(f,t){var i,p=this.getPlaceholderSymbol();if(typeof f==="undefined"||f===null){f=0;t=this._oTempValue.getSize()-1;}for(i=f;i<=t;i++){if(this._oRules.hasRuleAt(i)){this._oTempValue.setCharAt(p,i);}}};this._applyAndUpdate=function(m){this._applyRules(m);this.updateDomValue(this._oTempValue.toString());};this._findFirstPlaceholderPosition=function(){return this._oTempValue.toString().indexOf(this.getPlaceholderSymbol());};this._applyRules=function(i){var s,f=0,m,p=this.getPlaceholderSymbol(),g;if(this._oTempValue.toString()===i){return;}for(m=0;m<this._iMaskLength;m++){if(this._oRules.hasRuleAt(m)){this._oTempValue.setCharAt(p,m);g=false;if(i.length){do{s=i.charAt(f);f++;if(this._oRules.applyCharAt(s,m)){this._oTempValue.setCharAt(s,m);g=true;}}while(!g&&(f<i.length));}if(!g){this._resetTempValue(m+1,this._iMaskLength-1);break;}}else{if(this._oTempValue.charAt(m)===i.charAt(f)){f++;}}}};this._keyPressHandler=function(o,k){var s,p,f;if(!this.getEditable()){return;}k=k||this._parseKeyBoardEvent(o);if(k.bCtrlKey||k.bAltKey||k.bMetaKey||k.bBeforeSpace){return;}s=this._getTextSelection();if(!k.bEnter&&!k.bShiftLeftOrRightArrow&&!k.bHome&&!k.bEnd&&!(k.bShift&&k.bDelete)&&!(k.bCtrlKey&&k.bInsert)&&!(k.bShift&&k.bInsert)){if(s.bHasSelection){this._resetTempValue(s.iFrom,s.iTo-1);this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,s.iFrom));}p=this._oRules.nextTo(s.iFrom-1);if(p<this._iMaskLength){f=this._feedReplaceChar(k.sChar,p,this._getInputValue());this._feedNextString(f,p);}o.preventDefault();}};this.oncut=function(o){var s=this._getTextSelection(),m=this._getMinBrowserDelay(),B=s.iFrom,i=s.iTo;I.prototype.oncut(o);if(!s.bHasSelection||!this._isMaskEnabled()){return;}i=i-1;this._resetTempValue(B,i);setTimeout(function u(v,p,O){this._oTempValue._aContent=O;this.updateDomValue(v);setTimeout(this._setCursorPosition.bind(this,p),m);}.bind(this,this._oTempValue.toString(),Math.max(this._iUserInputStartPosition,B),this._oTempValue._aContent.slice(0)),m);};this._keyDownHandler=function(o,k){var s,S,i,n,k=k||this._parseKeyBoardEvent(o);if(!this.getEditable()){return;}if(!k.bShift&&(k.bArrowRight||k.bArrowLeft)){i=this._getCursorPosition();S=this._getTextSelection();s=this._determineArrowKeyDirection(k,S);if(this._isRtlMode()&&S.bHasSelection){n=this._determineRtlCaretPositionFromSelection(s);}else{n=this._oRules[s](i);}if(this._isWebkitProblematicCase()){n=this._fixWebkitBorderPositions(n,s);}this._setCursorPosition(n);o.preventDefault();}else if(k.bEscape){this._applyAndUpdate(this._sOldInputValue);this._positionCaret(true);o.preventDefault();}else if(k.bEnter){this._inputCompletedHandler(o);}else if((k.bCtrlKey&&k.bInsert)||(k.bShift&&k.bInsert)){I.prototype.onkeydown.apply(this,arguments);}else if((!k.bShift&&k.bDelete)||k.bBackspace){this._revertKey(k);o.preventDefault();}else if(this._isChromeOnAndroid()){this._oKeyDownStateAndroid={sValue:this._oTempValue.toString(),iCursorPosition:this._getCursorPosition(),oSelection:this._getTextSelection()};}};this._revertKey=function(k,s){s=s||this._getTextSelection();var B=s.iFrom,i=s.iTo;if(!s.bHasSelection){if(k.bBackspace){B=this._oRules.previousTo(B);}}if(k.bBackspace||(k.bDelete&&s.bHasSelection)){i=i-1;}this._resetTempValue(B,i);this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,B));};this._feedNextString=function(n,p){var N,A=false,f=n.split(""),s;while(f.length){s=f.splice(0,1)[0];if(this._oRules.applyCharAt(s,p)){A=true;this._oTempValue.setCharAt(s,p);p=this._oRules.nextTo(p);}}if(A){N=p;this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(N);}};this._inputCompletedHandler=function(){var n=this._getInputValue(),t,v,f,g;if(this._oTempValue.differsFrom(n)){this._applyAndUpdate(n);}t=this._oTempValue.differsFromOriginal();v=t?this._oTempValue.toString():"";f=!this._sOldInputValue||!this.getValue();g=!n;if(f&&(g||!t)){this.updateDomValue("");return;}if(this._sOldInputValue!==this._oTempValue.toString()){I.prototype.setValue.call(this,this._getAlteredUserInputValue?this._getAlteredUserInputValue(v):v);this._sOldInputValue=v;if(this.onChange&&!this.onChange({value:v})){this.fireChangeEvent(v);}}};this._buildMaskValueArray=function(m,p,r,s){return m.map(function(f,i){var n=s.indexOf(i)===-1,R=this._findRuleBySymbol(f,r);return(n&&R)?p:f;},this);};this._buildRules=function(m,r,s){var t=[],S,l=m.length,i=0;for(;i<l;i++){if(s.indexOf(i)===-1){S=this._findRuleBySymbol(m[i],r);t.push(S?new RegExp(S.oRule.getRegex()):null);}else{t.push(null);}}return t;};this._parseKeyBoardEvent=function(o){var p=o.which||o.keyCode,k=K,A=p===k.ARROW_RIGHT,f=p===k.ARROW_LEFT,s=o.shiftKey;return{iCode:p,sChar:String.fromCharCode(p),bCtrlKey:o.ctrlKey,bAltKey:o.altKey,bMetaKey:o.metaKey,bShift:s,bInsert:p===K.INSERT,bBackspace:p===k.BACKSPACE,bDelete:p===k.DELETE,bEscape:p===k.ESCAPE,bEnter:p===k.ENTER,bIphoneEscape:(D.system.phone&&D.os.ios&&p===127),bArrowRight:A,bArrowLeft:f,bHome:p===K.HOME,bEnd:p===K.END,bShiftLeftOrRightArrow:s&&(f||A),bBeforeSpace:p<k.SPACE};};this._positionCaret=function(s){var m=this.getMask(),i=this._getMinBrowserDelay(),f;clearTimeout(this._iCaretTimeoutId);f=this._findFirstPlaceholderPosition();if(f<0){f=m.length;}this._iCaretTimeoutId=setTimeout(function(){if(this.getFocusDomRef()!==document.activeElement){return;}if(s&&(f===(m.length))){this.selectText(0,f);}else{this._setCursorPosition(f);}}.bind(this),i);this._setClearIconVisibility();};this._getMinBrowserDelay=function(){return 4;};this._isValidInput=function(s){var l=s.length,i=0,f;for(;i<l;i++){f=s[i];if(this._oRules.hasRuleAt(i)&&(!this._oRules.applyCharAt(f,i)&&f!==this.getPlaceholderSymbol())){return false;}if(!this._oRules.hasRuleAt(i)&&f!==this._oTempValue.charAt(i)){return false;}}return true;};this._isRtlChar=function(s){var l='A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF'+'\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF',r='\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC',f=new RegExp('^[^'+l+']*['+r+']');return f.test(s);};this._fixWebkitBorderPositions=function(i,s){var t=this._oTempValue.toString().length;if(s==='nextTo'){if(i===0||i===t||i===1){i=0;}else if(i===t+1){i=1;}}else{if(i===0||i===t-1){i=t;}else if(i===-1||i===t){i=t-1;}}return i;};this._containsRtlChars=function(){var t=this._oTempValue.toString(),f=false;for(var i=0;i<t.length;i++){f=this._isRtlChar(t[i]);}return f;};this._isRtlMode=function(){return sap.ui.getCore().getConfiguration().getRTL()||(this.getTextDirection()===T.RTL);};this._isWebkitProblematicCase=function(){return D.browser.webkit&&this._isRtlMode()&&!this._containsRtlChars();};this._determineArrowKeyDirection=function(k,s){var f;if(!this._isRtlMode()||!this._containsRtlChars()||s.bHasSelection){if(k.bArrowRight){f='nextTo';}else{f='previousTo';}}else{if(k.bArrowRight){f='previousTo';}else{f='nextTo';}}return f;};this._determineRtlCaretPositionFromSelection=function(s,w){var n,S=this._getTextSelection();if(w){if(s==='nextTo'){if(!this._containsRtlChars()){n=S.iFrom;}else{n=S.iTo;}}else{if(!this._containsRtlChars()){n=S.iTo;}else{n=S.iFrom;}}}else{if(s==='nextTo'){if(!this._containsRtlChars()){n=S.iTo;}else{n=S.iFrom;}}else{if(!this._containsRtlChars()){n=S.iFrom;}else{n=S.iTo;}}}return n;};this._onInputForAndroidHandler=function(o){var k;if(!this._oKeyDownStateAndroid){return;}k=this._buildKeyboardEventInfo(this._oKeyDownStateAndroid.sValue,this._getInputValue(),this._oKeyDownStateAndroid.oSelection);this.updateDomValue(this._oKeyDownStateAndroid.sValue);setTimeout(function(i,f,g){this._setCursorPosition(f.iCursorPosition);if(g.bBackspace){this._revertKey(g,f.oSelection);if(f.oSelection.bHasSelection&&g.sChar){this._keyPressHandler(i,g);}}else{this._keyPressHandler(i,g);}}.bind(this,o,this._oKeyDownStateAndroid,k),0);delete this._oKeyDownStateAndroid;o.preventDefault();};this._buildKeyboardEventInfo=function(o,n,O){var N="",i,r={},f;if(!o&&!n){return{};}if(o&&n&&n.length<o.length){r.bBackspace=true;}for(i=0;i<n.length;i++){f=O.bHasSelection&&O.iFrom===i;if(f||o[i]!==n[i]){N=n[i];break;}}r.sChar=N;return r;};this._isChromeOnAndroid=function(){return D.browser.chrome&&D.os.android;};};return b;},true);
sap.ui.predefine('sap/m/MaskInput',['./InputBase','./MaskEnabler','./MaskInputRenderer'],function(I,M,a){"use strict";var b=I.extend("sap.m.MaskInput",{metadata:{library:"sap.m",properties:{placeholderSymbol:{type:"string",group:"Misc",defaultValue:"_"},mask:{type:"string",group:"Misc",defaultValue:null},showClearIcon:{type:"boolean",defaultValue:false},effectiveShowClearIcon:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{rules:{type:"sap.m.MaskInputRule",multiple:true,singularName:"rule"}},dnd:{draggable:false,droppable:true}}});M.call(b.prototype);b.prototype._isMaskEnabled=function(){return true;};return b;});
sap.ui.predefine('sap/m/MaskInputRenderer',['sap/ui/core/Renderer','./InputBaseRenderer'],function(R,I){"use strict";var M=R.extend(I);M.apiVersion=2;M.getLabelledByAnnouncement=function(c){var m=c.getMask(),p=c.getPlaceholder()||"",r,s,a="";if(m&&m.length){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");s=r.getText("MASKINPUT_SCREENREADER_TAG");if(p){p=" "+p+" ";}a=s+p;return a;}return I.getLabelledByAnnouncement.apply(this,arguments);};M.getDescribedByAnnouncement=function(c){var m=c.getMask(),s=c.getPlaceholderSymbol(),r,a="";if(m.length&&s){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");a=r.getText("MASKINPUT_SCREENREADER_DESCRIPTION",[s,m]);return a.trim();}return I.getDescribedByAnnouncement.apply(this,arguments);};return M;},true);
sap.ui.predefine('sap/m/MaskInputRule',['sap/ui/core/Element',"sap/base/Log"],function(E,L){"use strict";var M=E.extend("sap.m.MaskInputRule",{metadata:{library:"sap.m",properties:{maskFormatSymbol:{type:"string",group:"Misc",defaultValue:"*"},regex:{type:"string",group:"Misc",defaultValue:"[a-zA-Z0-9]"}}}});M.prototype.setMaskFormatSymbol=function(n){var i=v.call(this,n);if(i){this.setProperty("maskFormatSymbol",n);}return this;};M.prototype.setRegex=function(n){var i=a.call(this,n);if(i){this.setProperty("regex",n);}return this;};M.prototype.toString=function(){return this.getMaskFormatSymbol()+":"+this.getRegex();};function v(n){if(/^.$/i.test(n)){return true;}L.error("The mask format symbol '"+n+"' is not valid");return false;}function a(r){if(/.+/i.test(r)){return true;}L.error("The regex value '"+r+"' is not valid");return false;}return M;});
sap.ui.predefine('sap/m/Menu',['./library','sap/ui/core/Control','./Button','./Dialog','./NavContainer','./List','./Page','./MenuListItem','sap/ui/unified/Menu','sap/ui/unified/MenuItem','sap/ui/Device','sap/ui/core/EnabledPropagator',"sap/ui/thirdparty/jquery","sap/ui/core/Popup"],function(l,C,B,D,N,L,P,M,U,a,b,E,q,c){"use strict";var d=c.Dock;var e=l.ListType;var f=l.ListMode;var g=C.extend("sap.m.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"},_dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},_menu:{type:"sap.ui.unified.Menu",multiple:false,visibility:"hidden"}},events:{itemSelected:{parameters:{item:{type:"sap.m.MenuItem"}}},closed:{}}},renderer:null});E.call(g.prototype);g.UNIFIED_MENU_ITEMS_ID_SUFFIX='-unifiedmenu';g.UNFIFIED_MENU_ITEMS_PROPS=a.getMetadata().getAllProperties();g.LIST_ITEMS_ID_SUFFIX='-menuinnerlist';g.MENU_LIST_ITEMS_PROPS=M.getMetadata().getAllProperties();g.prototype.init=function(){if(b.system.phone){this._initDialog();}this._bIsInitialized=false;};g.prototype.exit=function(){if(this._navContainerId){this._navContainerId=null;}if(this._bIsInitialized){this._bIsInitialized=null;}if(this._getMenu()&&this._getMenu().getPopup()){this._getMenu().getPopup().detachClosed(this._menuClosed,this);}};g.prototype.invalidate=function(){};g.prototype.setTitle=function(t){var n=this._getNavContainer();this.setProperty("title",t,true);if(n&&n.getPages().length){n.getPages()[0].setTitle(t);}return this;};g.prototype.openBy=function(o,w,s,i,O){if(b.system.phone){this._openDialog();}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true;}if(!s){s=d.BeginTop;}if(!i){i=d.BeginBottom;}if(!O){O="0 -2";}this._getMenu().open(w,o,s,i,o,O);}};g.prototype.close=function(){if(b.system.phone){this._getDialog().close();}else{this._getVisualParent().close();}};g.prototype._initDialog=function(){var o=new D({showHeader:false,stretch:true,content:this._initNavContainer(),buttons:[this._initCloseButton()]});o.addStyleClass("sapMRespMenuDialog");o.addStyleClass("sapUiNoContentPadding");this.setAggregation("_dialog",o,true);o.attachAfterClose(this._menuClosed,this);};g.prototype._getDialog=function(){return this.getAggregation("_dialog");};g.prototype._openDialog=function(){if(!this._bIsInitialized){this._initAllPages();this._bIsInitialized=true;}this._getNavContainer().to(this._getNavContainer().getPages()[0]);this._getDialog().open();};g.prototype._initAllMenuItems=function(){this._initMenuForItems(this.getItems());};g.prototype._setCustomEnhanceAccStateFunction=function(i){this._fnEnhanceUnifiedMenuAccState=i;};g.prototype._initMenuForItems=function(i,p){var m=new U();m._setCustomEnhanceAccStateFunction(this._fnEnhanceUnifiedMenuAccState);m.isCozy=this._isMenuCozy.bind(this,m);this.addStyleClass('sapMMenu');m.aCustomStyleClasses=this.aCustomStyleClasses;m.mCustomStyleClassMap=this.mCustomStyleClassMap;i.forEach(function(I){this._addVisualMenuItemFromItem(I,m);}.bind(this));if(p){p.setSubmenu(m);}else{m.getPopup().attachClosed(this._menuClosed,this);this.setAggregation('_menu',m,true);}m.attachItemSelect(this._handleMenuItemSelect,this);};g.prototype._menuClosed=function(){this.fireClosed();};g.prototype._getMenu=function(){return this.getAggregation("_menu");};g.prototype._initCloseButton=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new B({text:r.getText("MENU_CLOSE"),press:h.bind(this)});};function h(){this._getDialog().close();}g.prototype._initNavContainer=function(){var n=new N();this._navContainerId=n.getId();return n;};g.prototype._getNavContainer=function(){return sap.ui.getCore().byId(this._navContainerId);};g.prototype._initAllPages=function(){this._initPageForParent(this);};g.prototype._initPageForParent=function(p){var i=p.getItems(),k=p instanceof g,s=k?p.getTitle():p.getText(),o=new L({mode:f.None}),m=new P({title:s,showNavButton:!k,content:o});if(!k){this._setBackButtonTooltipForPageWithParent(p,m);}m.attachNavButtonPress(function(){this._getNavContainer().back();},this);this._getNavContainer().addPage(m);i.forEach(function(I){this._addListItemFromItem(I,m);},this);this._updateListInset(o);o.attachEvent("itemPress",this._handleListItemPress,this);return m;};g.prototype._handleListItemPress=function(o){var i=o.getParameter("listItem"),m=sap.ui.getCore().byId(i.getMenuItem()),p=m._getVisualChild();if(p){this._getNavContainer().to(p);}else{this._getDialog().close();this.fireItemSelected({item:m});}m.firePress();};g.prototype._setBackButtonTooltipForPageWithParent=function(p,o){var i=p.getParent(),r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s;s=i instanceof g?i.getTitle():i.getText();s=r.getText("MENU_PAGE_BACK_BUTTON")+" "+s;o.setNavButtonTooltip(s);};g.prototype._createMenuListItemFromItem=function(i){return new M({id:this._generateListItemId(i.getId()),type:i.getEnabled()?e.Active:e.Inactive,icon:i.getIcon(),title:i.getText(),startsSection:i.getStartsSection(),menuItem:i,tooltip:i.getTooltip(),visible:i.getVisible(),enabled:i.getEnabled()});};g.prototype._createVisualMenuItemFromItem=function(I){var u=new a({id:this._generateUnifiedMenuItemId(I.getId()),icon:I.getIcon(),text:I.getText(),startsSection:I.getStartsSection(),tooltip:I.getTooltip(),visible:I.getVisible(),enabled:I.getEnabled()}),i,k=I.getCustomData();for(i=0;i<k.length;i++){I._addCustomData(u,k[i]);}return u;};g.prototype._addVisualMenuItemFromItem=function(i,m,I){var o=this._createVisualMenuItemFromItem(i);i._setVisualParent(m);i._setVisualControl(o);var k=['aggregationChanged','propertyChanged'];k.forEach(function(s){var n='_on'+s.slice(0,1).toUpperCase()+s.slice(1);i.attachEvent(s,this[n],this);},this);if(i.getItems().length!==0){this._initMenuForItems(i.getItems(),o);i._setVisualChild(i.getItems()[0]._getVisualParent());}if(I===undefined){m.addItem(o);}else{m.insertItem(o,I);}};g.prototype._addListItemFromItem=function(i,p,I){var m=this._createMenuListItemFromItem(i),o=p.getContent()[0];i._setVisualParent(p);i._setVisualControl(m);var k=['aggregationChanged','propertyChanged'];k.forEach(function(s){var n='_on'+s.slice(0,1).toUpperCase()+s.slice(1);i.attachEvent(s,this[n],this);},this);if(i.getItems().length!==0){this._initPageForParent(i);i._setVisualChild(i.getItems()[0]._getVisualParent());}if(I===undefined){o.addItem(m);}else{o.insertItem(m,I);}o.rerender();};g.prototype._connectVisualItem=function(i,o,I){if(!o||sap.ui.getCore().byId(i._getVisualControl())){return;}if(b.system.phone){this._addListItemFromItem(i,o,I);var k=o.getContent()[0];this._updateListInset(k);}else{this._addVisualMenuItemFromItem(i,o,I);}};g.prototype._updateListInset=function(o){var H=false,I="sapMListIcons",k=o.getItems();for(var i=0;i<k.length;i++){if(k[i].getIcon()){H=true;break;}}if(H){o.addStyleClass(I);}else{o.removeStyleClass(I);}};g.prototype._handleMenuItemSelect=function(o){var u=o.getParameter("item"),m;if(!u){return;}m=this._findMenuItemByUnfdMenuItem(u);if(m&&!m.getItems().length){this.fireItemSelected({item:m});}if(m){m.firePress();}};g.prototype._generateListItemId=function(m){return m+g.LIST_ITEMS_ID_SUFFIX;};g.prototype._generateUnifiedMenuItemId=function(m){return m+g.UNIFIED_MENU_ITEMS_ID_SUFFIX;};g.prototype._findMenuItemByUnfdMenuItem=function(u){var k=[],o=u,I,m,i;do{k.push(o.getId());o=o.getParent().getParent();}while(o instanceof a);I=this.getItems();do{m=k.pop();for(i=0;i<I.length;i++){if(I[i]._getVisualControl()===m){if(k.length===0){return I[i];}else{I=I[i].getItems();break;}}}}while(k.length);return null;};g.prototype._isMenuCozy=function(m){if(!m.bCozySupported){return false;}if(m.hasStyleClass("sapUiSizeCozy")){return true;}if(j(m.oOpenerRef)){return true;}return false;};function j(r){if(!r){return false;}r=r.$?r.$():q(r);var $=r.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");return(!$.hasClass("sapUiSizeCompact")&&!$.hasClass("sapUiSizeCondensed"))||$.hasClass("sapUiSizeCozy");}g.prototype.addAggregation=function(A,o,s){C.prototype.addAggregation.apply(this,arguments);if(A==="items"){this._connectVisualItem(o,this._getVisualParent());}return this;};g.prototype.insertAggregation=function(A,o,i,s){C.prototype.insertAggregation.apply(this,arguments);if(A==="items"){this._connectVisualItem(o,this._getVisualParent(),i);}return this;};g.prototype.removeAggregation=function(A,o,s){var i=C.prototype.removeAggregation.apply(this,arguments);if(A==="items"){this._removeVisualItem(i);}return i;};g.prototype.removeAllAggregation=function(A,s){var I=C.prototype.removeAllAggregation.apply(this,arguments);if(A==="items"){for(var i=0;i<I.length;i++){this._removeVisualItem(I[i]);}}return I;};g.prototype._removeVisualItem=function(i,p){var v=sap.ui.getCore().byId(i._getVisualControl()),m;if(v){m=v.getParent();m.removeItem(v);if(b.system.phone){this._removeSubPageForItem(i);if(m.getItems().length===0){if(p){p._setVisualChild(null);sap.ui.getCore().byId(p._getVisualControl()).rerender();}}if(m){m.rerender();}}}};g.prototype.destroyAggregation=function(A,s){if(A==="items"){for(var i=0;i<this.getItems().length;i++){this._removeVisualItem(this.getItems()[i]);}}return C.prototype.destroyAggregation.apply(this,arguments);};g.prototype._removeSubPageForItem=function(I,s){var S;if(!s){for(var i=0;i<I.getItems().length;i++){this._removeSubPageForItem(I.getItems()[i]);}}if(I._getVisualChild()){S=sap.ui.getCore().byId(I._getVisualChild());if(this._getNavContainer()&&S){this._getNavContainer().removePage(S);}!!S&&S.destroy();}};g.prototype._getVisualParent=function(){var n=this._getNavContainer(),m=this._getMenu();if(n&&n.getPages().length){return n.getPages()[0];}else{return m;}};g.prototype._onPropertyChanged=function(o){var p=o.getParameter("propertyKey"),i=o.getParameter("propertyValue"),t=b.system.phone?g.MENU_LIST_ITEMS_PROPS:g.UNFIFIED_MENU_ITEMS_PROPS,G=b.system.phone?this._generateListItemId:this._generateUnifiedMenuItemId,T;if(b.system.phone&&p==='text'){p='title';}if(!t[p]){return;}T=G(o.getSource().getId());if(T){sap.ui.getCore().byId(T).setProperty(p,i);if(b.system.phone&&this._getDialog().isOpen()){this._getDialog().close();}}};g.prototype._onAggregationChanged=function(o){var A=o.getParameter("aggregationName");switch(A){case'items':this._onItemsAggregationChanged(o);break;case'tooltip':this._onTooltipAggregationChanged(o);break;}};g.prototype._onTooltipAggregationChanged=function(o){var v=o.getSource()._getVisualControl(),m=o.getParameter("methodName"),i=o.getParameter("methodParams"),V;if(!v){return;}V=sap.ui.getCore().byId(v);if(m==="set"){V.setTooltip(i.item);}if(m==="destroy"){V.destroyTooltip();}};g.prototype._onItemsAggregationChanged=function(o){var I=o.getSource(),m=o.getParameter("methodName"),k=o.getParameter("methodParams"),n;if(m==="add"||m==="insert"){if(m==="insert"){n=k.index;}this._addOrInsertItem(I,k.item,n);}if(m==="remove"){this._removeVisualItem(k.item,I);}if(m==="removeall"){for(var i=0;i<k.items.length;i++){this._removeVisualItem(k.items[i],I);}}if(m==="destroy"){this._destroyItem(I);}};g.prototype._addOrInsertItem=function(p,n,i){var o;if(p._getVisualChild()){this._connectVisualItem(n,sap.ui.getCore().byId(p._getVisualChild()),i);}else{if(b.system.phone){this._initPageForParent(p);p._setVisualChild(p.getItems()[0]._getVisualParent());o=sap.ui.getCore().byId(p._getVisualControl());o.rerender();}else{this._initMenuForItems(p.getItems(),sap.ui.getCore().byId(p._getVisualControl()));p._setVisualChild(p.getItems()[0]._getVisualParent());}}};g.prototype._destroyItem=function(i){var v=sap.ui.getCore().byId(i._getVisualControl());if(v&&v.setMenuItem){v.setMenuItem(null);}this._removeSubPageForItem(i,true);i._setVisualChild(null);if(v&&v.setMenuItem){v.rerender();v.setMenuItem(i);}};g.prototype.getDomRefId=function(){if(b.system.phone){return this._getDialog().getId();}else{return this._getMenu().getId();}};g.prototype.openAsContextMenu=function(o,O){if(b.system.phone){this._openDialog();}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true;}this._getMenu().openAsContextMenu(o,O);}};["addStyleClass","removeStyleClass","toggleStyleClass"].forEach(function(m){g.prototype[m]=function(s,S){var o=this._getDialog();C.prototype[m].apply(this,arguments);if(o){o[m].apply(o,arguments);}return this;};});return g;});
sap.ui.predefine('sap/m/MenuButton',['./library','sap/ui/core/Control','./Button','./SplitButton','sap/ui/Device','sap/ui/core/EnabledPropagator','sap/ui/core/library','sap/ui/core/Popup','sap/ui/core/LabelEnablement',"./MenuButtonRenderer","sap/ui/events/KeyCodes"],function(l,C,B,S,D,E,c,P,L,M,K){"use strict";var a=l.MenuButtonMode;var T=c.TextDirection;var b=l.ButtonType;var d=P.Dock;var n=["buttonMode","useDefaultActionOnly","width","menuPosition"];var e=C.extend("sap.m.MenuButton",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:b.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},buttonMode:{type:"sap.m.MenuButtonMode",group:"Misc",defaultValue:a.Regular},menuPosition:{type:"sap.ui.core.Popup.Dock",group:"Misc",defaultValue:d.BeginBottom},useDefaultActionOnly:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{menu:{type:"sap.m.Menu",multiple:false,singularName:"menu"},_button:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{defaultAction:{},beforeMenuOpen:{}},defaultAggregation:"menu",designtime:"sap/m/designtime/MenuButton.designtime",dnd:{draggable:true,droppable:false}}});E.call(e.prototype);e.prototype.init=function(){this._initButtonControl();};e.prototype.exit=function(){if(this._sDefaultText){this._sDefaultText=null;}if(this._sDefaultIcon){this._sDefaultIcon=null;}if(this._iInitialTextBtnContentWidth){this._iInitialTextBtnContentWidth=null;}if(this._lastActionItemId){this._lastActionItemId=null;}if(this.getMenu()){this.getMenu().detachClosed(this._menuClosed,this);}};e.prototype.onBeforeRendering=function(){if(!this._sDefaultText){this._sDefaultText=this.getText();}if(!this._sDefaultIcon){this._sDefaultIcon=this.getIcon();}this._updateButtonControl();this._attachMenuEvents();};e.prototype._needsWidth=function(){return this._isSplitButton()&&this.getWidth()==="";};e.prototype._getTextBtnContentDomRef=function(){return this._getButtonControl()._getTextButton().getDomRef("content");};e.prototype.onAfterRendering=function(){if(this._needsWidth()&&sap.ui.getCore().isThemeApplied()&&this._getTextBtnContentDomRef()&&this._getInitialTextBtnWidth()>0){this._getTextBtnContentDomRef().style.width=this._getInitialTextBtnWidth()+'px';}if(this._activeButton){this._activeButton.$().attr("aria-expanded","false");this._activeButton=null;}};e.prototype.onThemeChanged=function(o){if(this._needsWidth()&&this.getDomRef()&&!this._iInitialTextBtnContentWidth&&this._getTextBtnContentDomRef()&&this._getInitialTextBtnWidth()>0){this._getTextBtnContentDomRef().style.width=this._getInitialTextBtnWidth()+'px';}};e.prototype._getInitialTextBtnWidth=function(){if(!this._iInitialTextBtnContentWidth){this._iInitialTextBtnContentWidth=Math.ceil(this._getTextBtnContentDomRef().getBoundingClientRect().width);}return this._iInitialTextBtnContentWidth;};e.prototype.setButtonMode=function(m){var t=this.getTooltip(),o,f;C.prototype.setProperty.call(this,"buttonMode",m,true);this._getButtonControl().destroy();this._initButtonControl();o=this._getButtonControl();f=o.getMetadata().getAllProperties();for(var k in this.mProperties){if(this.mProperties.hasOwnProperty(k)&&n.indexOf(k)<0&&f.hasOwnProperty(k)){o.setProperty(k,this.mProperties[k],true);}}if(t){o.setTooltip(t);}if(!this._isSplitButton()&&this._sDefaultText){this.setText(this._sDefaultText);}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setText(sap.ui.getCore().byId(this._getLastSelectedItem()).getText());}if(!this._isSplitButton()&&this._sDefaultIcon){this.setIcon(this._sDefaultIcon);}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setIcon(sap.ui.getCore().byId(this._getLastSelectedItem()).getIcon());}this.invalidate();return this;};e.prototype._initButton=function(){var o=new B(this.getId()+"-internalBtn",{width:"100%",ariaHasPopup:c.aria.HasPopup.Menu});o.attachPress(this._handleButtonPress,this);return o;};e.prototype._initSplitButton=function(){var o=new S(this.getId()+"-internalSplitBtn",{width:"100%"});o.attachPress(this._handleActionPress,this);o.attachArrowPress(this._handleButtonPress,this);return o;};e.prototype._initButtonControl=function(){var o;if(this._isSplitButton()){o=this._initSplitButton();}else{o=this._initButton();}this.setAggregation("_button",o,true);};e.prototype._updateButtonControl=function(){this._getButtonControl().setText(this.getText());};e.prototype._getButtonControl=function(){return this.getAggregation("_button");};e.prototype._handleButtonPress=function(w){var m=this.getMenu(),o={zero:"0 0",plus2_right:"0 +2",minus2_right:"0 -2",plus2_left:"+2 0",minus2_left:"-2 0"};this._isSplitButton()&&this.fireBeforeMenuOpen();if(!m){return;}if(this._bPopupOpen){this.getMenu().close();this._bPopupOpen=false;return;}if(!m.getTitle()){m.setTitle(this.getText());}var p=[this,w];switch(this.getMenuPosition()){case d.BeginTop:p.push(d.BeginBottom,d.BeginTop,o.plus2_right);break;case d.BeginCenter:p.push(d.BeginCenter,d.BeginCenter,o.zero);break;case d.LeftTop:p.push(d.RightBottom,d.LeftBottom,o.plus2_left);break;case d.LeftCenter:p.push(d.RightCenter,d.LeftCenter,o.plus2_left);break;case d.LeftBottom:p.push(d.RightTop,d.LeftTop,o.plus2_left);break;case d.CenterTop:p.push(d.CenterBottom,d.CenterTop,o.plus2_left);break;case d.CenterCenter:p.push(d.CenterCenter,d.CenterCenter,o.zero);break;case d.CenterBottom:p.push(d.CenterTop,d.CenterBottom,o.minus2_right);break;case d.RightTop:p.push(d.LeftBottom,d.RightBottom,o.minus2_left);break;case d.RightCenter:p.push(d.LeftCenter,d.RightCenter,o.minus2_left);break;case d.RightBottom:p.push(d.LeftTop,d.RightTop,o.minus2_left);break;case d.EndTop:p.push(d.EndBottom,d.EndTop,o.plus2_right);break;case d.EndCenter:p.push(d.EndCenter,d.EndCenter,o.zero);break;case d.EndBottom:p.push(d.EndTop,d.EndBottom,o.minus2_right);break;case d.BeginBottom:default:p.push(d.BeginTop,d.BeginBottom,o.minus2_right);break;}m.openBy.apply(m,p);if(this.getMenu()){this._bPopupOpen=true;}this._writeAriaAttributes();if(this._isSplitButton()&&!D.system.phone){this._getButtonControl().setArrowState(true);}};e.prototype._handleActionPress=function(){var s=this._getLastSelectedItem(),o;if(!this.getUseDefaultActionOnly()&&s){o=sap.ui.getCore().byId(s);this.getMenu().fireItemSelected({item:o});}else{this.fireDefaultAction();}};e.prototype._menuClosed=function(){var o=this._getButtonControl(),O=o;this._bPopupOpen=false;if(this._isSplitButton()){o.setArrowState(false);O=o._getArrowButton();}O.$().removeAttr("aria-controls");O.$().attr("aria-expanded","false");};e.prototype._menuItemSelected=function(o){var m=o.getParameter("item");this.fireEvent("_menuItemSelected",{item:m});this._bPopupOpen=false;if(!this._isSplitButton()||this.getUseDefaultActionOnly()||!m){return;}this._lastActionItemId=m.getId();!!this._sDefaultText&&this.setText(m.getText());!!this._sDefaultIcon&&this.setIcon(m.getIcon());};e.prototype._getLastSelectedItem=function(){return this._lastActionItemId;};e.prototype._attachMenuEvents=function(){if(this.getMenu()){this.getMenu().attachClosed(this._menuClosed,this);this.getMenu().attachItemSelected(this._menuItemSelected,this);}};e.prototype._isSplitButton=function(){return this.getButtonMode()===a.Split;};e.prototype.setProperty=function(p,v,s){function i(t){var f=[b.Up,b.Back,b.Unstyled];return f.indexOf(t)!==-1;}if(p==="type"&&i(v)){return this;}if(p==='text'){this._sDefaultText=v;}switch(p){case'activeIcon':case'iconDensityAware':case'textDirection':case'visible':case'enabled':this._getButtonControl().setProperty(p,v);break;}return C.prototype.setProperty.apply(this,arguments);};e.prototype.setTooltip=function(t){this._getButtonControl().setTooltip(t);return C.prototype.setTooltip.apply(this,arguments);};e.prototype.setText=function(v){C.prototype.setProperty.call(this,'text',v);this._getButtonControl().setText(v);return this;};e.prototype.setType=function(v){C.prototype.setProperty.call(this,'type',v);this._getButtonControl().setType(v);return this;};e.prototype.setIcon=function(v){C.prototype.setProperty.call(this,'icon',v);this._getButtonControl().setIcon(v);return this;};e.prototype.addAriaLabelledBy=function(A){this.getAggregation("_button").addAssociation("ariaLabelledBy",A);return C.prototype.addAssociation.call(this,"ariaLabelledBy",A);};e.prototype.addAriaDescribedBy=function(A){this.getAggregation("_button").addAssociation("ariaDescribedBy",A);return C.prototype.addAssociation.call(this,"ariaDescribedBy",A);};e.prototype.removeAriaLabelledBy=function(A){this.getAggregation("_button").removeAssociation("ariaLabelledBy",A);return C.prototype.removeAssociation.call(this,"ariaLabelledBy",A);};e.prototype.removeAriaDescribedBy=function(A){this.getAggregation("_button").removeAssociation("ariaDescribedBy",A);return C.prototype.removeAssociation.call(this,"ariaDescribedBy",A);};e.prototype.removeAllAriaLabelledBy=function(A){this.getAggregation("_button").removeAllAssociation("ariaLabelledBy");return C.prototype.removeAllAssociation.call(this,"ariaLabelledBy");};e.prototype.removeAllAriaDescribedBy=function(){this.getAggregation("_button").removeAllAssociation("ariaDescribedBy");return C.prototype.removeAllAssociation.call(this,"ariaDescribedBy");};e.prototype.getFocusDomRef=function(){return this._getButtonControl().getDomRef();};e.prototype.onsapup=function(o){this.openMenuByKeyboard();o.stopPropagation();};e.prototype.onsapdown=function(o){this.openMenuByKeyboard();o.stopPropagation();};e.prototype.onsapupmodifiers=function(o){this.openMenuByKeyboard();o.stopPropagation();};e.prototype.onsapdownmodifiers=function(o){this.openMenuByKeyboard();o.stopPropagation();};e.prototype.onsapshow=function(o){this.openMenuByKeyboard();!!o&&o.preventDefault();};e.prototype.ontouchstart=function(){this._bPopupOpen=this.getMenu()&&this.getMenu()._getMenu()&&this.getMenu()._getMenu().getPopup().isOpen();};e.prototype.onkeydown=function(o){if((o.keyCode===K.ENTER||o.keyCode===K.TAB)&&this._bPopupOpen){this.getMenu().close();this._bPopupOpen=false;}};e.prototype.openMenuByKeyboard=function(){if(!this._isSplitButton()){this._handleButtonPress(true);}};e.prototype._writeAriaAttributes=function(){var o=this._getButtonControl(),O=this._isSplitButton()?o._getArrowButton():o,m=this.getMenu();if(m){O.$().attr("aria-controls",m.getDomRefId());O.$().attr("aria-expanded","true");}};e.prototype.getIdForLabel=function(){return this.getId()+"-internalBtn";};e.prototype._ensureBackwardsReference=function(){var i=this._getButtonControl(),I=i.getAriaLabelledBy(),r=L.getReferencingLabels(this);r.forEach(function(s){if(I&&I.indexOf(s)===-1){i.addAriaLabelledBy(s);}});return this;};return e;});
sap.ui.predefine('sap/m/MenuButtonRenderer',[],function(){"use strict";var M={apiVersion:2};M.CSS_CLASS="sapMMenuBtn";M.render=function(r,m){var w=m.getWidth();r.openStart("div",m);r.class(M.CSS_CLASS).class(M.CSS_CLASS+m.getButtonMode());if(w!=""){r.style("width",w);}r.openEnd();m._ensureBackwardsReference();r.renderControl(m._getButtonControl());m._activeButton=m._isSplitButton()?m._getButtonControl()._getArrowButton():m._getButtonControl();r.close("div");};return M;},true);
sap.ui.predefine('sap/m/MenuItem',['./library','sap/ui/core/Item','sap/ui/base/ManagedObjectObserver'],function(l,I,M){"use strict";var a=I.extend("sap.m.MenuItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{press:{},propertyChanged:{parameters:{propertyKey:{type:"string"},propertyValue:{type:"any"}}},aggregationChanged:{parameters:{aggregationName:{type:"string"},methodName:{type:"string"},methodParams:{type:"object"}}}}}});a.UNIFIED_MENU_ITEMS_ID_SUFFIX='-unifiedmenu';a.prototype.exit=function(){if(this._sVisualChild){this._sVisualChild=null;}if(this._sVisualParent){this._sVisualParent=null;}if(this._sVisualControl){this._sVisualControl=null;}};a.prototype.setProperty=function(p,P){I.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:p,propertyValue:P});};a.prototype.setAggregation=function(A,o,s){I.prototype.setAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"set",methodParams:{item:o}});return this;};a.prototype.addAggregation=function(A,o,s){var v=this._getVisualControl(),V;I.prototype.addAggregation.apply(this,arguments);if(A==='customData'&&v){V=sap.ui.getCore().byId(v);this._addCustomData(V,o);}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"add",methodParams:{item:o}});return this;};a.prototype.insertAggregation=function(A,o,i,s){var v=this._getVisualControl(),V;I.prototype.insertAggregation.apply(this,arguments);if(A==='customData'&&v){V=sap.ui.getCore().byId(v);V.insertCustomData(o.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX),i);this._observeCustomDataChanges(o);}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"insert",methodParams:{item:o,index:i}});return this;};a.prototype.removeAggregation=function(A,o,s){var O=I.prototype.removeAggregation.apply(this,arguments);if(A==="customData"){if(this.getCustomData().length===1){this._disconnectAndDestroyCustomDataObserver();}else if(o&&this._oCustomDataObserver){this._oCustomDataObserver.unobserve(o,{properties:["value"]});}}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"remove",methodParams:{item:O}});return O;};a.prototype.removeAllAggregation=function(A,s){var o=I.prototype.removeAllAggregation.apply(this,arguments);if(A==='customData'){this._disconnectAndDestroyCustomDataObserver();}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"removeall",methodParams:{items:o}});return o;};a.prototype.destroyAggregation=function(A,s){if(A==='customData'){this._disconnectAndDestroyCustomDataObserver();}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"destroy"});return I.prototype.destroyAggregation.apply(this,arguments);};a.prototype.destroy=function(){var v=sap.ui.getCore().byId(this._getVisualControl());if(v){v.destroy();}return I.prototype.destroy.apply(this,arguments);};a.prototype._addCustomData=function(v,c){v.addCustomData(c.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX,undefined,{bCloneChildren:false,bCloneBindings:true}));this._observeCustomDataChanges(c);};a.prototype._observeCustomDataChanges=function(c){this._getCustomDataObserver().observe(c,{properties:["value"]});};a.prototype._customDataObserverCallbackFunction=function(c){sap.ui.getCore().byId(c.object.getId()+"-"+a.UNIFIED_MENU_ITEMS_ID_SUFFIX).setValue(c.current);};a.prototype._getCustomDataObserver=function(){if(!this._oCustomDataObserver){this._oCustomDataObserver=new M(this._customDataObserverCallbackFunction);}return this._oCustomDataObserver;};a.prototype._disconnectAndDestroyCustomDataObserver=function(){if(this._oCustomDataObserver){this._oCustomDataObserver.disconnect();this._oCustomDataObserver.destroy();this._oCustomDataObserver=null;}};a.prototype._setVisualChild=function(c){this._setInternalRef(c,"_sVisualChild");};a.prototype._setVisualParent=function(c){this._setInternalRef(c,"_sVisualParent");};a.prototype._setVisualControl=function(c){this._setInternalRef(c,"_sVisualControl");};a.prototype._setInternalRef=function(c,i){if(!c||typeof c==="string"){this[i]=c;}else if(c.getId){this[i]=c.getId();}};a.prototype._getVisualChild=function(){return this._sVisualChild;};a.prototype._getVisualParent=function(){return this._sVisualParent;};a.prototype._getVisualControl=function(){return this._sVisualControl;};return a;});
sap.ui.predefine('sap/m/MenuListItem',['./ListItemBase','./library','sap/ui/core/IconPool','sap/ui/core/library','./MenuListItemRenderer'],function(L,l,I,c,M){"use strict";var T=c.TextDirection;var a=l.ListType;var b=L.extend("sap.m.MenuListItem",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{menuItem:{type:"sap.m.MenuItem",multiple:false}}}});b.prototype.exit=function(){if(this._image){this._image.destroy();}if(this._imageRightArrow){this._imageRightArrow.destroy();}L.prototype.exit.apply(this,arguments);};b.prototype._getImage=function(i,s,S,d){var o=this._image;if(o){o.setSrc(S);if(o instanceof sap.m.Image){o.setDensityAware(d);}}else{o=I.createControlByURI({id:i,src:S,densityAware:d,useIconTooltip:false},sap.m.Image).setParent(this,null,true);}if(o instanceof sap.m.Image){o.addStyleClass(s,true);}else{o.addStyleClass(s+"Icon",true);}this._image=o;return this._image;};b.prototype._getIconArrowRight=function(){if(!this._imageRightArrow){this._imageRightArrow=I.createControlByURI({id:this.getId()+"-arrowRight",src:"sap-icon://slim-arrow-right",useIconTooltip:false},sap.m.Image).setParent(this,null,true);this._imageRightArrow.addStyleClass("sapMMenuLIArrowRightIcon",true);}return this._imageRightArrow;};b.prototype._hasSubItems=function(){return!!(this.getMenuItem()&&sap.ui.getCore().byId(this.getMenuItem()).getItems().length);};b.prototype.setProperty=function(p,P){L.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:p,propertyValue:P});if(p==="enabled"){this.setType(P?a.Active:a.Inactive);}};return b;});
sap.ui.predefine('sap/m/MenuListItemRenderer',['./ListItemBaseRenderer','sap/ui/core/Renderer','sap/m/library','sap/ui/core/library'],function(L,R,l,c){"use strict";var T=c.TextDirection;var a=l.ListType;var M=R.extend(L);M.apiVersion=2;M.openItemTag=function(r,o){if(o.getStartsSection()){r.openStart("li");r.attr("role","separator");r.class("sapUiMnuDiv");r.openEnd();r.openStart("div");r.class("sapUiMnuDivL");r.openEnd();r.close("div");r.voidStart("hr").voidEnd();r.openStart("div");r.class("sapUiMnuDivR");r.openEnd();r.close("div");r.close("li");}L.openItemTag(r,o);};M.renderLIAttributes=function(r,o){r.class("sapMSLI");if(o.getIcon()){r.class("sapMSLIIcon");}if(o.getType()==a.Detail||o.getType()==a.DetailAndActive){r.class("sapMSLIDetail");}if(o._hasSubItems()){r.class("sapMMenuLIHasChildren");}if(!o.getEnabled()){r.class("sapMMLIDisabled");}};M.renderLIContent=function(r,o){var t=o.getTitleTextDirection();if(o.getIcon()){r.renderControl(o._getImage((o.getId()+"-img"),"sapMMenuLIImgThumb",o.getIcon(),o.getIconDensityAware()));}r.openStart("div");r.class("sapMSLIDiv");r.class("sapMSLITitleDiv");r.openEnd();if(o._bNoFlex){r.openStart("div");r.class("sapMLIBNoFlex");r.openEnd();}r.openStart("div");r.class("sapMSLITitleOnly");if(t!==T.Inherit){r.attr("dir",t.toLowerCase());}r.openEnd();r.text(o.getTitle());r.close("div");if(o._bNoFlex){r.close('div');}r.close("div");if(o._hasSubItems()){r.renderControl(o._getIconArrowRight());}};return M;},true);
sap.ui.predefine('sap/m/MessagePopoverItem',["./library","./MessageItem"],function(l,M){"use strict";var a=M.extend("sap.m.MessagePopoverItem",{metadata:{deprecated:true}});return a;});
sap.ui.predefine('sap/m/MessageStrip',["./library","sap/ui/core/Control","./MessageStripUtilities","./Text","./Link","./FormattedText","sap/ui/core/library","./MessageStripRenderer","sap/base/Log","sap/m/Button","sap/ui/core/Core","sap/ui/core/InvisibleText"],function(l,C,M,T,L,F,c,a,b,B,d,I){"use strict";var e=c.MessageType;var f=l.ButtonType;var g=C.extend("sap.m.MessageStrip",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MessageStrip.designtime",properties:{text:{type:"string",group:"Appearance",defaultValue:""},type:{type:"sap.ui.core.MessageType",group:"Appearance",defaultValue:e.Information},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},showIcon:{type:"boolean",group:"Appearance",defaultValue:false},showCloseButton:{type:"boolean",group:"Appearance",defaultValue:false},enableFormattedText:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"link",aggregations:{link:{type:"sap.m.Link",multiple:false,singularName:"link"},_formattedText:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},_text:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_closeButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{close:{}},dnd:{draggable:true,droppable:false}}});g.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this.setAggregation("_text",new T());this._initCloseButton();};g.prototype.onBeforeRendering=function(){this._normalizeType(this.getType());this._setButtonAriaLabelledBy(this.getType());};g.prototype.setText=function(t){var o=this.getAggregation("_formattedText");if(o){o.setHtmlText(t);}this.getAggregation("_text").setText(t);return this.setProperty("text",t);};g.prototype.close=function(){var h=function(){this.setVisible(false);this.fireClose();}.bind(this);if(!d.getConfiguration().getAnimation()){h();return;}M.closeTransitionWithCSS.call(this,h);};g.prototype.setEnableFormattedText=function(E){var o=this.getAggregation("_formattedText");if(E){if(!o){o=new F();o._setUseLimitedRenderingRules(true);this.setAggregation("_formattedText",o);}o.setHtmlText(this.getText());}return this.setProperty("enableFormattedText",E);};g.prototype.setAggregation=function(n,o,s){if(n==="link"&&o instanceof L){var i=this.getId()+"-info"+" "+this.getId()+"-content",A=o.getAriaDescribedBy();if(!A.includes(i)){o.addAriaDescribedBy(i);}}C.prototype.setAggregation.call(this,n,o,s);return this;};a.getAccessibilityState=function(){var A=M.getAccessibilityState.call(this),o=this.getLink(),r=d.getLibraryResourceBundle("sap.m");if(!o){A.labelledby=this.getId();}A.roledescription=r.getText("MESSAGE_STRIP_ARIA_ROLE_DESCRIPTION");return A;};g.prototype.ontouchmove=function(E){E.setMarked();};g.prototype._normalizeType=function(t){if(t===e.None){b.warning(M.MESSAGES.TYPE_NOT_SUPPORTED);this.setProperty("type",e.Information,true);}};g.prototype._initCloseButton=function(){var r=d.getLibraryResourceBundle("sap.m"),o=this.getAggregation("_closeButton");if(!o){var h=new B({type:f.Transparent,tooltip:r.getText("MESSAGE_STRIP_TITLE"),icon:"sap-icon://decline",press:this.close.bind(this)}).addStyleClass(M.CLASSES.CLOSE_BUTTON).addStyleClass("sapUiSizeCompact");this.setAggregation("_closeButton",h);this._setButtonAriaLabelledBy(this.getType());}};g.prototype._setButtonAriaLabelledBy=function(t){var o=this.getAggregation("_closeButton"),r=d.getLibraryResourceBundle("sap.m"),s=r.getText("MESSAGE_STRIP_"+t.toUpperCase()+"_CLOSE_BUTTON");if(!this._oInvisibleText){this._oInvisibleText=new I({text:s}).toStatic();}else{this._oInvisibleText.setText(s);}if(o){o.removeAllAssociation("ariaLabelledBy",true);o.addAssociation("ariaLabelledBy",this._oInvisibleText.getId(),true);}};g.prototype.exit=function(){if(this._oInvisibleText){this._oInvisibleText.destroy();this._oInvisibleText=null;}};return g;});
sap.ui.predefine('sap/m/MessageStripRenderer',["./MessageStripUtilities","sap/ui/core/IconPool"],function(M,I){"use strict";var a={apiVersion:2};a.render=function(r,c){this.startMessageStrip(r,c);this.renderAriaTypeText(r,c);if(c.getShowIcon()){this.renderIcon(r,c);}this.renderTextAndLink(r,c);if(c.getShowCloseButton()){this.renderCloseButton(r,c);}this.endMessageStrip(r);};a.startMessageStrip=function(r,c){r.openStart("div",c);r.class(M.CLASSES.ROOT);r.class(M.CLASSES.ROOT+c.getType());r.attr(M.ATTRIBUTES.CLOSABLE,c.getShowCloseButton());r.accessibilityState(c,this.getAccessibilityState.call(c));r.openEnd();};a.renderAriaTypeText=function(r,c){r.openStart("span",c.getId()+"-info");r.class("sapUiPseudoInvisibleText");r.openEnd();r.text(M.getAriaTypeText.call(c));r.close("span");};a.renderIcon=function(r,c){r.openStart("div");r.class(M.CLASSES.ICON);r.openEnd();r.icon(M.getIconURI.call(c),null,{"title":null,"aria-hidden":true});r.close("div");};a.renderTextAndLink=function(r,c){var f=c.getAggregation("_formattedText");r.openStart("div",c.getId()+"-content");r.class(M.CLASSES.MESSAGE);r.openEnd();if(c.getEnableFormattedText()&&f){r.renderControl(f);}else{r.renderControl(c.getAggregation("_text"));}r.renderControl(c.getLink());r.close("div");};a.renderCloseButton=function(r,c){r.renderControl(c.getAggregation("_closeButton"));};a.endMessageStrip=function(r){r.close("div");};return a;},true);
sap.ui.predefine('sap/m/MessageStripUtilities',['sap/ui/core/IconPool'],function(I){"use strict";var M={};M.MESSAGES={TYPE_NOT_SUPPORTED:"Value 'sap.ui.core.MessageType.None' for property 'type' is not supported. "+"Defaulting to 'sap.ui.core.MessageType.Information'"};M.CLASSES={ROOT:"sapMMsgStrip",ICON:"sapMMsgStripIcon",MESSAGE:"sapMMsgStripMessage",CLOSE_BUTTON:"sapMMsgStripCloseButton",CLOSING_TRANSITION:"sapMMsgStripClosing"};M.ATTRIBUTES={CLOSABLE:"data-sap-ui-ms-closable"};M.RESOURCE_BUNDLE=sap.ui.getCore().getLibraryResourceBundle("sap.m");M.getIconURI=function(){var t=this.getType(),c=this.getCustomIcon(),i;var o={"Error":"error","Warning":"alert","Success":"sys-enter-2","Information":"information"};i=I.getIconURI(o[t]);return c||i;};M.getAriaTypeText=function(){var b="MESSAGE_STRIP_"+this.getType().toUpperCase(),a=M.RESOURCE_BUNDLE.getText(b);if(this.getShowCloseButton()){a+=" "+M.RESOURCE_BUNDLE.getText("MESSAGE_STRIP_CLOSABLE");}return a;};M.isMSCloseButtonPressed=function(t){return t.className.indexOf(M.CLASSES.CLOSE_BUTTON)!==-1||t.parentNode.className.indexOf(M.CLASSES.CLOSE_BUTTON)!==-1;};M.closeTransitionWithCSS=function(c){this.$().addClass(M.CLASSES.CLOSING_TRANSITION).one("webkitTransitionEnd transitionend",c);};M.getAccessibilityState=function(){return{role:"note",live:"assertive"};};return M;});
sap.ui.predefine('sap/m/MultiComboBox',['./InputBase','./ComboBoxTextField','./ComboBoxBase','./Tokenizer','./Token','./List','./StandardListItem','./Popover','./GroupHeaderListItem','./CheckBox','./Toolbar','./library','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/library','sap/ui/Device','sap/ui/core/Item','sap/ui/core/SeparatorItem','sap/ui/core/ResizeHandler','./MultiComboBoxRenderer',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/completeTextSelected","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/filterItems","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/m/inputUtils/forwardItemPropertiesToToken","sap/m/inputUtils/getTokenByItem","sap/ui/events/KeyCodes","sap/base/util/deepEqual","sap/base/assert","sap/base/Log","sap/ui/core/Core",'sap/ui/core/InvisibleText',"sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos","sap/ui/dom/jquery/control"],function(I,C,a,T,b,L,S,P,G,c,d,l,E,e,f,D,g,h,R,M,j,k,m,t,n,o,p,s,q,r,u,K,v,w,x,y,z,Q){"use strict";var A=l.ListMode;var V=f.ValueState;var O=f.OpenState;var B=l.TokenizerRenderMode;var F=a.extend("sap.m.MultiComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MultiComboBox.designtime",properties:{selectedKeys:{type:"string[]",group:"Data",defaultValue:[]},hasSelection:{type:"boolean",visibility:"hidden",defaultValue:false},showSelectAll:{type:"boolean",defaultValue:false}},associations:{selectedItems:{type:"sap.ui.core.Item",multiple:true,singularName:"selectedItem"}},aggregations:{tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"}},events:{selectionChange:{parameters:{changedItem:{type:"sap.ui.core.Item"},changedItems:{type:"sap.ui.core.Item[]"},selected:{type:"boolean"},selectAll:{type:"boolean"}}},selectionFinish:{parameters:{selectedItems:{type:"sap.ui.core.Item[]"}}}},dnd:{draggable:false,droppable:true}}});e.insertFontFaceStyle();E.apply(F.prototype,[true]);F.prototype.clone=function(i){var H=a.prototype.clone.apply(this,arguments),J=this._getList();if(J){H.syncPickerContent();}return H;};F.prototype.open=function(){if(!this.isOpen()){this._bPickerIsOpening=true;}this.syncPickerContent();return a.prototype.open.apply(this,arguments);};F.prototype.onsapend=function(i){if(i.isMarked("forwardFocusToParent")){this.focus();}};F.prototype.onsaphome=function(i){if(!this.getFocusDomRef().selectionStart&&this._hasTokens()){T.prototype.onsaphome.apply(this.getAggregation("tokenizer"),arguments);}i.setMarked();};F.prototype.onsapdown=function(i){if(!this.getEnabled()||!this.getEditable()){return;}i.setMarked();i.preventDefault();this.syncPickerContent();if(!this.isOpen()){this._oTraversalItem=this._getNextTraversalItem();if(this._oTraversalItem&&!this.isFocusInTokenizer()&&!this.isComposingCharacter()){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length);}return;}setTimeout(this.handleDownEvent.bind(this,i),0);};F.prototype.onsapup=function(i){if(!this.getEnabled()||!this.getEditable()){return;}i.setMarked();i.preventDefault();this.syncPickerContent();if(this.isFocusInTokenizer()||this.isOpen()){return;}this._oTraversalItem=this._getPreviousTraversalItem();if(this._oTraversalItem){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length);}};F.prototype.handleDownEvent=function(i){if(!this.isOpen()){return;}var H=i.srcControl,J=H&&H.getDomRef(),N=j(this.getDomRef(),J),U=this.getPicker().getCustomHeader(),W=U&&U.getDomRef();i.setMarked();i.preventDefault();if(N&&this.getValueState()!=V.None){this._handleFormattedTextNav();return;}if((N||j(W,J))&&this.getShowSelectAll()){this.focusSelectAll();return;}this.focusFirstItemInList();};F.prototype.handleEndEvent=function(i){i.setMarked();i.preventDefault();var H=n.getVisibleItems(this.getItems()),J=H.length&&n.getListItem(H[H.length-1]);J&&J.focus();};F.prototype.handleHomeEvent=function(i){i.setMarked();i.preventDefault();if(this.getValueState()!==V.None){this._handleFormattedTextNav();i.stopPropagation(true);return;}if(this.getShowSelectAll()){this.focusSelectAll();i.stopPropagation(true);return;}this.focusFirstItemInList();};F.prototype.focusFirstItemInList=function(){var i=n.getVisibleItems(this.getItems()),H=i.length&&n.getListItem(i[0]);H&&H.focus();};F.prototype.isFocusInTokenizer=function(){return Q.contains(this.getAggregation("tokenizer").getFocusDomRef(),document.activeElement);};F.prototype.onsapshow=function(i){i.preventDefault();this._handleItemToFocus();a.prototype.onsapshow.apply(this,arguments);};F.prototype._handlePopupOpenAndItemsLoad=function(){this._handleItemToFocus();a.prototype._handlePopupOpenAndItemsLoad.apply(this,arguments);};F.prototype._valueStateNavDelegate=function(i,H){return{onsapdown:this.handleDownEvent,onsapup:this.focus,onsapend:this.handleEndEvent,onfocusout:function(J){i.removeStyleClass("sapMFocusable");if(!i.getDomRef().contains(J.relatedTarget)){H.forEach(function(N){N.getDomRef().setAttribute("tabindex","-1");});}},onsapshow:this.close,onsaphide:this.close};};F.prototype._closePickerDelegate={onsaptabnext:function(){this.close();setTimeout(function(){this.closeValueStateMessage();}.bind(this),0);}};F.prototype._formattedTextLinksNav={onsapup:this.focus,onsapdown:this.handleDownEvent};F.prototype._handleFormattedTextNav=function(){var i=this.getPicker().getCustomHeader(),H=this.getValueStateLinks(),J=H?H[H.length-1]:null,N=H?H[0]:null;if(!i.getDomRef()||i.getDomRef()===document.activeElement){return;}if(!this.oValueStateNavDelegate){this.oValueStateNavDelegate=this._valueStateNavDelegate(i,H);i.addEventDelegate(this.oValueStateNavDelegate,this);}i.getDomRef().setAttribute("tabindex","-1");i.addStyleClass("sapMFocusable");i.focus();H.forEach(function(U){U.getDomRef().setAttribute("tabindex","0");U.addEventDelegate(this._formattedTextLinksNav,this);},this);this.oMoveFocusBackToVSHeader=!this.oMoveFocusBackToVSHeader?{onsaptabprevious:function(U){U.preventDefault();i.focus();i.addStyleClass("sapMFocusable");}}:this.oMoveFocusBackToVSHeader;J&&J.addEventDelegate(this._closePickerDelegate,this);N&&N.addEventDelegate(this.oMoveFocusBackToVSHeader,this);};F.prototype.onsaphide=function(i){this.onsapshow(i);};F.prototype._selectItemByKey=function(H){var J,N,U,i,W,X,Y=this.isOpen();if(!this.getEnabled()||!this.getEditable()){return;}if(H){H.setMarked();}J=this._getUnselectedItems(Y?"":this.getValue());for(i=0;i<J.length;i++){X=!(J[i].getKey()===undefined||J[i].getKey()===null)&&!J[i].isA("sap.ui.core.SeparatorItem");if(J[i].getText().toUpperCase()===this.getValue().toUpperCase()&&X){U=J[i];W=true;break;}}if(W){N={item:U,id:U.getId(),key:U.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false};this._bPreventValueRemove=false;if(this.getValue()===""||(typeof this.getValue()==="string"&&U.getText().toLowerCase().startsWith(this.getValue().toLowerCase()))){if(n.getListItem(U).isSelected()){this.setValue('');}else{this.setSelection(N);}}}else{this._bPreventValueRemove=true;}if(H){this.close();}};F.prototype.onsapenter=function(i){var H=this.getAggregation("tokenizer");I.prototype.onsapenter.apply(this,arguments);this._showAlreadySelectedVisualEffect();if(this.getValue()){this._selectItemByKey(i);}if(!this.getEditable()&&H.getHiddenTokensCount()&&i.target===this.getFocusDomRef()){H._togglePopup(H.getTokensPopup());}};F.prototype.onsaptabnext=function(i){var H=this.getValue();if(H){var J=this._getUnselectedItemsStartingText(H);if(J.length===1){this._selectItemByKey(i);}else{this._showWrongValueVisualEffect();}}};F.prototype.onsaptabprevious=F.prototype.onsaptabnext;F.prototype.onsapfocusleave=function(i){var H=this.isPlatformTablet(),J=y.byId(i.relatedControlId),N=J&&J.getFocusDomRef(),U=this.getValue(),W=this.getPicker(),X=this.getAggregation("tokenizer");if(!this._bPickerIsOpening&&(!W||!W.getFocusDomRef()||!N||!Q.contains(W.getFocusDomRef(),N))){this.setValue(null);if(U){this.fireChangeEvent("",{value:U});}if(!Q.contains(this.getDomRef(),document.activeElement)){X.setRenderMode(B.Narrow);}}if(W&&N){if(v(W.getFocusDomRef(),N)&&!H&&!this.isPickerDialog()){this.focus();}}};F.prototype.onfocusin=function(i){var H=this.getPicker();var J=false;var N=H&&H.getFocusDomRef();var U=(H&&H.oPopup.getOpenState())||O.CLOSED;var W=U===O.CLOSING||U===O.CLOSED;var X=this.getPickerType()==="Dropdown";var Y=this.getAggregation("tokenizer");if(X){J=N&&Q.contains(N,i.relatedTarget);}if(this.getEditable()&&i.target===this.getDomRef("inner")){Y.setRenderMode(B.Loose);}if(i.target===this.getFocusDomRef()){Y.hasOneTruncatedToken()&&Y.setFirstTokenTruncated(false);this.getEnabled()&&this.addStyleClass("sapMFocus");!W&&J&&this.handleInputValidation(i,false);}if(i.target===this.getOpenArea()&&X&&!this.isPlatformTablet()){this.focus();}if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}};F.prototype._handleItemTap=function(i){var H=Q(i.target).control(0);if(!H.isA("sap.m.CheckBox")&&!H.isA("sap.m.GroupHeaderListItem")){this._bCheckBoxClicked=false;}};F.prototype._handleItemPress=function(i){if(this.isOpen()&&this._isListInSuggestMode()&&this.getPicker().oPopup.getOpenState()!==O.CLOSING){this.clearFilter();var H=this._getLastSelectedItem();if(H){n.getListItem(H).focus();}}};F.prototype._handleSelectionLiveChange=function(i){if(i.getParameter("selectAll")){return;}var H=i.getParameter("listItem");var J=i.getParameter("listItems");var N=J&&J[J.length-1]||H;var U=this.isPickerDialog()?this.getPickerTextField():this;var W=this._getIsClick()&&!!N;var X=i.getParameter("selected");var Y=n.getItemByListItem(this.getItems(),H);var Z;if(J&&J.length){Z=[];J.forEach(function(_){if(_.getType()==="Active"){Z.push(n.getItemByListItem(this.getItems(),_));}},this);}if(H.getType()==="Inactive"){return;}w(Y,"The corresponding mapped item was not found on "+this);if(!Y){return;}var $={item:Y,items:Z,id:Y.getId(),key:Y.getKey(),selectAll:false,fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:true};if(X){this.fireChangeEvent(Y.getText());this.setSelection($);}else{this.fireChangeEvent(Y.getText());this.removeSelection($);}if(this._bCheckBoxClicked){U.setValue(this._sOldInput);if(W&&this.isOpen()&&this.getPicker().oPopup.getOpenState()!==O.CLOSING){N.focus();this._setIsClick(false);}}else{this._bCheckBoxClicked=true;this.setValue("");this.close();}};F.prototype.onkeydown=function(i){var H=this.getEditable(),J=this.getAggregation("tokenizer"),N=J.getTokens().length;a.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()){return;}if((i.ctrlKey||i.metaKey)&&i.which===K.I&&N){i.preventDefault();if(H){this._togglePopover();}else{this._handleIndicatorPress();}return;}this._bIsPasteEvent=(i.ctrlKey||i.metaKey)&&(i.which===K.V);if(this.getValue().length===0&&(i.ctrlKey||i.metaKey)&&(i.which===K.A)&&this._hasTokens()){J.focus();J.selectAllTokens(true);i.preventDefault();}if(this.isPickerDialog()){this._sOldValue=this.getPickerTextField().getValue();this._iOldCursorPos=Q(this.getFocusDomRef()).cursorPos();}this._bDoTypeAhead=!D.os.android&&(i.which!==K.BACKSPACE)&&(i.which!==K.DELETE);};F.prototype.oninput=function(i){a.prototype.oninput.apply(this,arguments);var H=i.srcControl,J=this.isPickerDialog(),N=J?this.getPickerTextField():this,U=N.getValueState();if(U===V.Error&&this._bAlreadySelected){N.setValueState(this._sInitialValueState);N.setValueStateText(this._sInitialValueStateText);this._bAlreadySelected=false;}if(!this.getEnabled()||!this.getEditable()){return;}this.syncPickerContent();this.handleInputValidation(i,this.isComposingCharacter());if(this._bIsPasteEvent){H.updateDomValue(this._sOldValue||i.target.value||"");return;}if(this.isOpen()){setTimeout(this.highlightList.bind(this,this._sOldInput));}if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};F.prototype.filterItems=function(i){return o(this,i.items,i.value,true,false,this.fnFilter||m);};F.prototype.onkeyup=function(i){if(!this.getEnabled()||!this.getEditable()){return;}this._sOldValue=this.getValue();this._iOldCursorPos=Q(this.getFocusDomRef()).cursorPos();};F.prototype._showWrongValueVisualEffect=function(){var i=this._getSuggestionsPopover();var H=this._sInitialValueStateText;var J=this._sInitialValueState;var N=H||this._oRbC.getText("VALUE_STATE_ERROR");var U=this;if(J===V.Error){return;}if(i){i.updateValueState(V.Error,N,true);setTimeout(i.updateValueState.bind(i,U.getValueState(),N,true),1000);}if(!this.isPickerDialog()){this.setValueState(V.Error);this.setValueStateText(this.getValueStateText()||N);setTimeout(this["setValueState"].bind(this,J||V.Error),1000);}this._syncInputWidth(this.getAggregation("tokenizer"));};F.prototype._showAlreadySelectedVisualEffect=function(){var i=this._oRbM.getText("VALUE_STATE_ERROR_ALREADY_SELECTED");if(!this.getValue()){return;}var H=!!this.getSelectedItems().filter(function(J){return J.getText().toLowerCase()===this.getValue().toLowerCase();},this).length;var N=this.getItems().filter(function(J){return J.getText().toLowerCase()===this.getValue().toLowerCase();},this).length;if(H){this._sInitialValueState=this.getValueState();this._sInitialValueStateText=this.getValueStateText();this.setValueStateText(i);this._bAlreadySelected=true;this.setValueState("Error");return;}else if(N){return;}else{this._showWrongValueVisualEffect();}};F.prototype._hasShowSelectedButton=function(){return true;};F.prototype.forwardEventHandlersToSuggPopover=function(i){a.prototype.forwardEventHandlersToSuggPopover.apply(this,arguments);i.setShowSelectedPressHandler(this._filterSelectedItems.bind(this));};F.prototype.configPicker=function(i){var H=this.getRenderer(),J=H.CSS_CLASS_MULTICOMBOBOX;i.setHorizontalScrolling(false).addStyleClass(H.CSS_CLASS_COMBOBOXBASE+"Picker").addStyleClass(J+"Picker").addStyleClass(J+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this);};F.prototype._configureList=function(i){var H=10;if(!i){return;}i.setMode(A.MultiSelect);i.setIncludeItemInSelection(true);i.setGrowingThreshold(H);i.attachBrowserEvent("tap",this._handleItemTap,this).attachSelectionChange(this._handleSelectionLiveChange,this).attachItemPress(this._handleItemPress,this);i.addEventDelegate({onAfterRendering:this.onAfterRenderingList,onfocusin:this.onFocusinList},this);this.getShowSelectAll()&&this.createSelectAllHeaderToolbar(i);};F.prototype._decoratePopupInput=function(i){a.prototype._decoratePopupInput.apply(this,arguments);if(!i||!i.isA(["sap.m.InputBase"])){return;}i.attachSubmit(function(H){var J=i.getValue();if(J){this.setValue(J);this._selectItemByKey();this.setValue(this._sOldInput);this.close();}}.bind(this));i.addEventDelegate({onfocusout:this._handleInputFocusOut},this);return i;};F.prototype.onBeforeRendering=function(){var i=this.getEditable();var H=this.getAggregation("tokenizer");a.prototype.onBeforeRendering.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=true;H.setEnabled(this.getEnabled());H.setEditable(i);this._updatePopoverBasedOnEditMode(i);if(!this.getItems().length){this._clearTokenizer();}if(this._getList()){this.syncPickerContent(true);}this.toggleSelectAllVisibility(this.getShowSelectAll());this._deregisterResizeHandler();this._synchronizeSelectedItemAndKey();this.setProperty("hasSelection",!!this.getSelectedItems().length,true);if(!this._bAlreadySelected){this._sInitialValueStateText=this.getValueStateText();}if(this.getValueState()!==V.Error){this._sInitialValueState=this.getValueState();}};F.prototype.syncPickerContent=function(i){var H,J,N=this.getPicker();if(!N){N=this.createPicker(this.getPickerType());this._updateSuggestionsPopoverValueState();i=true;}if(i){J=this._getList();H=this.getEditable()?this.getItems():this.getSelectedItems();this._synchronizeSelectedItemAndKey();J.destroyItems();this._clearTokenizer();this._fillList(H);if(J.getItemNavigation()){this._iFocusedIndex=J.getItemNavigation().getFocusedIndex();}}return N;};F.prototype._registerResizeHandler=function(){w(!this._iResizeHandlerId,"Resize handler already registered");this._iResizeHandlerId=R.register(this,this._onResize.bind(this));};F.prototype._deregisterResizeHandler=function(){if(this._iResizeHandlerId){R.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null;}};F.prototype._onResize=function(){var i=this.getAggregation("tokenizer");i.setMaxWidth(this._calculateSpaceForTokenizer());this._syncInputWidth(i);this._handleNMoreAccessibility();};F.prototype.onBeforeRenderingPicker=function(){var i=this["_onBeforeRendering"+this.getPickerType()];if(i){i.call(this);}};F.prototype.onAfterRenderingPicker=function(){var i=this["_onAfterRendering"+this.getPickerType()];if(i){i.call(this);}};F.prototype.onBeforeOpen=function(){a.prototype.onBeforeOpen.apply(this,arguments);var i=this["_onBeforeOpen"+this.getPickerType()];this.addContent();this._aInitiallySelectedItems=this.getSelectedItems();this._synchronizeSelectedItemAndKey();if(i){i.call(this);}};F.prototype.onAfterOpen=function(){var i=this.getFocusDomRef(),H=this.getValueStateLinks();i&&this.getFocusDomRef().setAttribute("aria-expanded","true");this._bPickerIsOpening=false;if(!this.isPlatformTablet()){this.getPicker().setInitialFocus(this);}H.forEach(function(J){J.addDelegate({onAfterRendering:function(){if(this.getFocusDomRef()){this.getFocusDomRef().setAttribute("tabindex","-1");}}},J);});this.closeValueStateMessage();};F.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);};F.prototype.onAfterClose=function(){var U=!Q.contains(this.getDomRef(),document.activeElement)||this.isPickerDialog(),i=this.getFocusDomRef();i&&this.getFocusDomRef().setAttribute("aria-expanded","false");this.toggleIconPressedStyle(false);this.clearFilter();!this.isComposingCharacter()&&!this._bPreventValueRemove&&this.setValue("");this._sOldValue="";this._sOldInput="";this._getSuggestionsPopover()._sTypedInValue="";if(this.isPickerDialog()){this.getPickerTextField().setValue("");this.getFilterSelectedButton()&&this.getFilterSelectedButton().setPressed(false);}this.fireSelectionFinish({selectedItems:this.getSelectedItems()});this.getAggregation("tokenizer").setRenderMode(U?B.Narrow:B.Loose);if(this.getValueState()==V.Error&&document.activeElement===this.getFocusDomRef()){this.selectText(0,this.getValue().length);}};F.prototype._onBeforeOpenDialog=function(){};F.prototype._onBeforeOpenDropdown=function(){var i=this.getPicker(),H=this.getDomRef(),W;if(H&&i){W=(H.offsetWidth/parseFloat(l.BaseFontSize))+"rem";i.setContentMinWidth(W);}};F.prototype.getFilterSelectedButton=function(){return this._getSuggestionsPopover().getFilterSelectedButton();};F.prototype._filterSelectedItems=function(i,H){var J=i.oSource,N,U,W=this.getPickerTextField()?this.getPickerTextField().getValue():"",X=(J&&J.getPressed&&J.getPressed())||H,Y=n.getVisibleItems(this.getItems()),Z=this.getItems(),$=this.getSelectedItems(),_=null;if(X){Y.forEach(function(a1){U=$.indexOf(a1)>-1?true:false;N=n.getListItem(a1);if(!N){return;}if(N.isA("sap.m.GroupHeaderListItem")){N.setVisible(false);_=N;}else{N.setVisible(U);if(U&&_){_.setVisible(true);}}},this);}else{p(this.getItems(),this.filterItems({value:W,items:Z}));}this.manageSelectAllCheckBoxState();};F.prototype.revertSelection=function(){this.setSelectedItems(this._aInitiallySelectedItems);};F.prototype.setSelection=function(i){var H=this._getList(),N;if(i.item&&this.isItemSelected(i.item)){return;}if(!i.item){return;}if(!i.items||!i.items.length||i.selectAll){N=[i.item];}else{N=i.items;}N.forEach(function(J){if(!i.listItemUpdated&&n.getListItem(J)&&H){H.setSelectedItem(n.getListItem(J),true);}var U=new b({key:J.getKey()});U.setText(J.getText());J.data(n.CSS_CLASS+"Token",U);this.getAggregation("tokenizer").addToken(U);this.addAssociation("selectedItems",J,i.suppressInvalidate);var W=this.getSelectedKeys();var X=this.getKeys([J])[0];if(X===""||W.indexOf(X)===-1){W.push(X);this.setProperty("selectedKeys",W,i.suppressInvalidate);}if(i.fireChangeEvent){this.fireSelectionChange({changedItem:i.item,changedItems:i.items,selectAll:i.selectAll,selected:true});}},this);this.setValue('');if(i.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()});}}};F.prototype.removeSelection=function(i){var H,J,N;if(i.item&&!this.isItemSelected(i.item)){return;}if(!i.item){return;}if(!i.items||!i.items.length||i.selectAll){H=[i.item];}else{H=i.items;}H.forEach(function(U){this.removeAssociation("selectedItems",U,i.suppressInvalidate);J=this.getSelectedKeys();N=J.indexOf(U.getKey());J.splice(N,1);this.setProperty("selectedKeys",J,i.suppressInvalidate);if(!i.listItemUpdated&&n.getListItem(U)){var W=n.getListItem(U);this._getList().setSelectedItem(W,false);}if(!i.tokenUpdated){var X=u(U);U.data(n.CSS_CLASS+"Token",null);this.getAggregation("tokenizer").removeToken(X);}if(i.fireChangeEvent){this.fireSelectionChange({changedItem:i.item,changedItems:i.items,selectAll:i.selectAll,selected:false});}},this);if(i.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()});}}};F.prototype._synchronizeSelectedItemAndKey=function(){var H=this.getSelectedKeys();var J=this.getKeys(this.getSelectedItems());if(!H.length){x.info("Info: _synchronizeSelectedItemAndKey() the MultiComboBox control does not contain any item on ",this);return;}for(var i=0,N=null,U=null,W=H.length;i<W;i++){N=H[i];if(J.indexOf(N)>-1){continue;}U=this.getItemByKey(""+N);if(U){this.setSelection({item:U,id:U.getId(),key:U.getKey(),fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:false});}}};F.prototype.updateItems=function(i){var H=function(X){return X&&X.getKey&&X.getKey();},J,N=this.getSelectedItems().map(H),U=this.getSelectedKeys();var W=a.prototype.updateItems.apply(this,arguments);N=this.getSelectedItems().map(H).filter(function(X){return N.indexOf(X)>-1;});J=U.concat(N);this.setSelectedKeys(J);return W;};F.prototype._getSelectedItemsOf=function(H){for(var i=0,J=H.length,N=[];i<J;i++){if(n.getListItem(H[i]).isSelected()){N.push(H[i]);}}return N;};F.prototype._getLastSelectedItem=function(){var i=this.getAggregation("tokenizer").getTokens();var H=i.length?i[i.length-1]:null;if(!H){return null;}return this._getItemByToken(H);};F.prototype._getFocusedListItem=function(){if(!document.activeElement){return null;}var i=y.byId(document.activeElement.id);if(this._getList()&&j(this._getList().getFocusDomRef(),i.getFocusDomRef())){return i;}return null;};F.prototype._getFocusedItem=function(){return n.getItemByListItem(this.getItems(),this._getFocusedListItem());};F.prototype._hasTokens=function(){return this.getAggregation("tokenizer").getTokens().length>0;};F.prototype._decorateListItem=function(i){i.addDelegate({onkeydown:function(H){if((H.ctrlKey||H.metaKey)&&H.which==K.A){H.setMarked();H.preventDefault();var J=n.getSelectableItems(this.getItems());var N=this._getSelectedItemsOf(J);if(N.length!==J.length){J.forEach(function(U){this.setSelection({item:U,items:J,selectAll:true,id:U.getId(),key:U.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}else{J.forEach(function(U){this.removeSelection({item:U,items:J,selectAll:true,id:U.getId(),key:U.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}}},onmousedown:function(H){this._setIsClick(true);},onkeyup:function(H){var J=null;if(H.which==K.SPACE&&this.isOpen()&&this._isListInSuggestMode()){this.open();J=this._getLastSelectedItem();if(J){n.getListItem(J).focus();}return;}}},true,this);i.addEventDelegate({onsapbackspace:function(H){H.preventDefault();},onsapshow:function(H){H.setMarked();this.close();},onsaphide:function(H){this.onsapshow(H);},onsapenter:function(H){H.setMarked();this.close();},onsaphome:this.handleHomeEvent.bind(this),onsapend:this.handleEndEvent.bind(this),onsapup:function(H){H.setMarked();H.preventDefault();var J=n.getVisibleItems(this.getItems());var N=J[0];var U=Q(document.activeElement).control()[0];if(U!==n.getListItem(N)){return;}if(this.getShowSelectAll()){this.focusSelectAll();}else if(this.getValueState()!==V.None){this._handleFormattedTextNav();}else{this.focus();}H.stopPropagation(true);},onfocusin:function(H){this.addStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused");},onfocusout:function(H){this.removeStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused");},onsapfocusleave:function(H){var J=this.getAggregation("picker");var N=y.byId(H.relatedControlId);if(J&&N&&v(J.getFocusDomRef(),N.getFocusDomRef())){if(H.srcControl){H.srcControl.focus();}}},onsaptabnext:function(){this.getPicker().close();},onsaptabprevious:function(){this.getPicker().close();}},this);if(D.support.touch){i.addEventDelegate({ontouchstart:function(H){H.setMark("cancelAutoClose");}});}};F.prototype._handleInputFocusOut=function(){var i=this.isPickerDialog()?this.getPickerTextField():this,U=this._sOldInput||this._sOldValue||"";i.updateDomValue(U);this._bIsPasteEvent=null;};F.prototype.onItemChange=function(i){var H=a.prototype.onItemChange.call(this,i,this.getShowSecondaryValues());var J=i.getParameters();r({item:i.getSource(),propName:J.name,propValue:J.newValue});return H;};F.prototype._handleIndicatorPress=function(){var i,H=this.getAggregation("tokenizer");if(this.getEditable()){this.syncPickerContent();this._filterSelectedItems({},true);this.focus();i=this.getPicker();i.open();}else{H._togglePopup(H.getTokensPopup());}if(this.isPickerDialog()){this.getFilterSelectedButton().setPressed(true);this.bOpenedByKeyboardOrButton=true;}};F.prototype._togglePopover=function(){var i=this.getPicker();if(!i){i=this.syncPickerContent(true);}if(i.isOpen()){i.close();}else{i.open();}};F.prototype._createTokenizer=function(){var i=new T({renderMode:B.Narrow}).attachTokenDelete(this._handleTokenDelete,this);i.getTokensPopup().attachAfterOpen(function(){if(i.hasOneTruncatedToken()){i.setFirstTokenTruncated(false);}}).attachAfterClose(function(){var H=i.getTokens();if(H.length===1&&!H[0].getTruncated()){i.setFirstTokenTruncated(true);}});i.addEventDelegate({onAfterRendering:this._onAfterRenderingTokenizer},this);return i;};F.prototype._onAfterRenderingTokenizer=function(){var i=this.getAggregation("tokenizer");if(this.getEditable()){i.addStyleClass("sapMTokenizerIndicatorDisabled");}else{i.removeStyleClass("sapMTokenizerIndicatorDisabled");}setTimeout(this._syncInputWidth.bind(this,i),0);setTimeout(this._handleNMoreAccessibility.bind(this),0);setTimeout(i["scrollToEnd"].bind(i),0);this._toggleTokenClass();};F.prototype._handleTokenDelete=function(i){var H=i.getParameter("tokens");var J=this.getSelectedItems();this._removeSelection(H);if(J.length!==n.getSelectableItems(this.getItems())){!this.isPickerDialog()&&!this.isFocusInTokenizer()&&this.focus();this.fireChangeEvent("");this.setProperty("hasSelection",!!this.getSelectedItems().length);}};F.prototype._removeSelection=function(i){var H=this.getAggregation("tokenizer");i.forEach(function(J){var N=(J&&this._getItemByToken(J));if(!this.getEditable()||!this.getEnabled()||!N||!this.isItemSelected(N)||!N.getEnabled()||!J.getEditable()){return;}this.removeSelection({item:N,id:N.getId(),key:N.getKey(),tokenUpdated:true,fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true});J.destroy();if(this.getSelectedItems().length>0){var i=H.getTokens();i[i.length-1].focus();}else{this.focus();}},this);};F.prototype.onAfterRenderingList=function(){var i=this._getList();var H=document.activeElement===this.getFocusDomRef();if(this.getEditable()&&!H&&i&&i.getItems()[this._iFocusedIndex]){i.getItems()[this._iFocusedIndex].focus();this._iFocusedIndex=null;}this.manageSelectAllCheckBoxState();};F.prototype.onFocusinList=function(){var i=this._getList();if(this._bListItemNavigationInvalidated&&this._getList().getItemNavigation()){i.getItemNavigation().setSelectedIndex(this._iInitialItemFocus);this._bListItemNavigationInvalidated=false;}this._getSuggestionsPopover().updateListDataAttributes(i);};F.prototype.onAfterRendering=function(){var i=this.getAggregation("tokenizer");a.prototype.onAfterRendering.apply(this,arguments);this._registerResizeHandler();setTimeout(function(){i.setMaxWidth(this._calculateSpaceForTokenizer());}.bind(this),0);};F.prototype.onfocusout=function(i){this.isOpen()&&this._handleInputFocusOut();this.removeStyleClass("sapMFocus");if(this.getValueState()===V.Error&&this.getValueStateText()===this._oRbM.getText("VALUE_STATE_ERROR_ALREADY_SELECTED")){this.setValueState(this._sInitialValueState);this.setValueStateText(this._sInitialValueStateText);}a.prototype.onfocusout.apply(this,arguments);};F.prototype.onpaste=function(i){var H;var J=false;var N=this.getSelectedItems();if(window.clipboardData){H=window.clipboardData.getData("Text");}else{H=i.originalEvent.clipboardData.getData('text/plain');}var U=H.split(/\r\n|\r|\n/g);if(U&&U.length>0){n.getSelectableItems(this.getItems()).filter(function(W){return N.indexOf(W)===-1;}).forEach(function(W){if(U.indexOf(W.getText())>-1){J=true;this.setSelection({item:W,id:W.getId(),key:W.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false});}},this);}if(J){i.stopPropagation();i.preventDefault();}};F.prototype.onsapbackspace=function(i){var H=this.getAggregation("tokenizer");var J=H.getTokens();var N=J.filter(function(U){return U.getSelected();});if(!this.getEnabled()||!this.getEditable()){i.preventDefault();return;}if(this.getCursorPosition()>0||this.getValue().length>0){return;}if(N.length>0){this._removeAllTokens();return;}if(document.activeElement===this.getFocusDomRef()){J[J.length-1]&&J[J.length-1].focus();}i.preventDefault();};F.prototype._removeAllTokens=function(){var i=this.getAggregation("tokenizer");var H=i.getTokens().filter(function(J){return J.getSelected();});if(!H.length){return;}this._removeSelection(H);this.fireChangeEvent("");this.invalidate();};F.prototype.onsapdelete=F.prototype.onsapbackspace;F.prototype.onsapnext=function(i){var H=this.getAggregation("tokenizer");if(i.isMarked()){return;}var J=Q(document.activeElement).control()[0];if(!J){return;}if(J===H||H.$().find(J.$()).length>0&&this.getEditable()){H.scrollToEnd();this.focus();}};F.prototype.onsapprevious=function(i){if(this.getCursorPosition()===0&&!k(this.getFocusDomRef())){if(i.srcControl===this){T.prototype.onsapprevious.apply(this.getAggregation("tokenizer"),arguments);}}};F.prototype.onclick=function(i){var H=this.getEditable(),J=this.getEnabled(),N=i.target.className.indexOf("sapMTokenizerIndicator")>-1;if(H&&J&&N){i.preventDefault();this._handleIndicatorPress();}};F.prototype.ontap=function(i){a.prototype.ontap.apply(this,arguments);var H=this.getOpenArea();if(!this.getEnabled()||!this.getEditable()){return;}i.setMarked();if(this.isPickerDialog()&&H.contains(i.target)){this.open();}};F.prototype.getOpenArea=function(){if(this.isPickerDialog()){return this.getDomRef();}else{return a.prototype.getOpenArea.apply(this,arguments);}};F.prototype._getItemsStartingWithPerTerm=function(i,H){var J=[],N=H?n.getEnabledItems(this.getItems()):n.getSelectableItems(this.getItems()),U=this.fnFilter?this.fnFilter:m;N.forEach(function(W){if(U(i,W)){J.push(W);}},this);return J;};F.prototype._getItemsStartingWith=function(i,H){var J=[],N=H?n.getEnabledItems(this.getItems()):n.getSelectableItems(this.getItems());N.forEach(function(U){if(typeof i==="string"&&i!==""&&U.getText().toLowerCase().startsWith(i.toLowerCase())){J.push(U);}},this);return J;};F.prototype._getUnselectedItemsStartingText=function(i){var H=[];this._getUnselectedItems().forEach(function(J){if(typeof i==="string"&&i!==""&&J.getText().toLowerCase().startsWith(i.toLowerCase())){H.push(J);}},this);return H;};F.prototype.getCursorPosition=function(){return this._$input.cursorPos();};F.prototype._selectPreviousItemsOf=function(i){var H;do{H=true;var J=this._getPreviousVisibleItemOf(i);if(J){var N=n.getListItem(J);if(N){H=n.getListItem(J).getSelected();}}this.setSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true});i=J;}while(!H);};F.prototype._getNextVisibleItemOf=function(i){var H=n.getSelectableItems(this.getItems());var J=H.indexOf(i)+1;if(J<=0||J>H.length-1){return null;}return H[J];};F.prototype._getPreviousVisibleItemOf=function(i){var H=n.getSelectableItems(this.getItems());var J=H.indexOf(i)-1;if(J<0){return null;}return H[J];};F.prototype._getNextUnselectedItemOf=function(i){var H=this._getUnselectedItems();var J=H.indexOf(i)+1;if(J<=0||J>H.length-1){return null;}return H[J];};F.prototype._getPreviousUnselectedItemOf=function(i){var H=this._getUnselectedItems();var J=H.indexOf(i)-1;if(J<0){return null;}return H[J];};F.prototype._getNextTraversalItem=function(){var i=this.getValue();var H=i?this._getItemsStartingWithPerTerm(i):[];var J=this._getUnselectedItems();if(H.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getNextUnselectedItemOf(this._oTraversalItem);}if(H.length&&H[0].getText()===this.getValue()){return this._getNextUnselectedItemOf(H[0]);}return H.length?H[0]:J[0];};F.prototype._getPreviousTraversalItem=function(){var i=this.getValue();var H=i?this._getItemsStartingWithPerTerm(i):[];if(H.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getPreviousUnselectedItemOf(this._oTraversalItem);}if(H.length&&H[H.length-1].getText()===this.getValue()){return this._getPreviousUnselectedItemOf(H[H.length-1]);}if(H.length){return H[H.length-1];}else{var J=this._getUnselectedItems();if(J.length>0){return J[J.length-1];}else{return null;}}};F.prototype.setSelectedItems=function(i){this.removeAllSelectedItems();if(!i||!i.length){return this;}if(!Array.isArray(i)){x.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return this;}i.forEach(function(H){if(!(H instanceof g)&&(typeof H!=="string")){x.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return;}if(typeof H==="string"){H=y.byId(H);}this.setSelection({item:H?H:null,id:H?H.getId():"",key:H?H.getKey():"",suppressInvalidate:true});},this);return this;};F.prototype.addSelectedItem=function(i){if(!i){return this;}if(typeof i==="string"){i=y.byId(i);}this.setSelection({item:i?i:null,id:i?i.getId():"",key:i?i.getKey():"",fireChangeEvent:false,suppressInvalidate:true});return this;};F.prototype.removeSelectedItem=function(i){if(!i){return null;}if(typeof i==="string"){i=y.byId(i);}if(!this.isItemSelected(i)){return null;}this.removeSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:false,suppressInvalidate:true});return i;};F.prototype.removeAllSelectedItems=function(){var i=[];var H=this.getAssociation("selectedItems",[]);H.forEach(function(J){var N=this.removeSelectedItem(J);if(N){i.push(N.getId());}},this);return i;};F.prototype.removeSelectedKeys=function(i){var H,J=[];if(!i||!i.length||!Array.isArray(i)){return J;}i.forEach(function(N){H=this.getItemByKey(N);if(H){this.removeSelection({item:H?H:null,id:H?H.getId():"",key:H?H.getKey():"",fireChangeEvent:false,suppressInvalidate:true});J.push(H);}},this);return J;};F.prototype.setSelectedKeys=function(i){if(this._bInitialSelectedKeysSettersCompleted){this.setProperty("selectedKeys",[],true);this.removeAllSelectedItems();}this.addSelectedKeys(i);this._bInitialSelectedKeysSettersCompleted=true;return this;};F.prototype.addSelectedKeys=function(i){var H,J=[];i=this.validateProperty("selectedKeys",i);i.forEach(function(N){var U=this.getItemByKey(N);if(U){this.addSelectedItem(U);}else if(N!=null){J.push(N);}},this);if(J.length>0){H=this.getProperty("selectedKeys").filter(function(N){return J.indexOf(N)===-1;});J=H.concat(J);this.setProperty("selectedKeys",J,true);}return this;};F.prototype._getUnselectedItems=function(){var i=Q(n.getSelectableItems(this.getItems())).not(this.getSelectedItems()).get();if(!this.isOpen()){return i.filter(function(H){return!H.isA("sap.ui.core.SeparatorItem");});}return i;};F.prototype.getSelectedItems=function(){var i=[],H=this.getAssociation("selectedItems")||[];H.forEach(function(J){var N=y.byId(J);if(N){i.push(N);}},this);return i;};F.prototype.getWidth=function(){return this.getProperty("width")||"100%";};F.prototype._updatePopoverBasedOnEditMode=function(i){var H=this._getList(),J=this._getSuggestionsPopover();if(!H){return;}if(i){J.addContent(H);}};F.prototype._mapItemToListItem=function(i){var H,J,N,U=this.getRenderer();if(!i){return null;}H=n.createListItemFromCoreItem(i,this.getShowSecondaryValues());this._decorateListItem(H);if(i.isA("sap.ui.core.SeparatorItem")){return H;}J=U.CSS_CLASS_MULTICOMBOBOX+"Item";N=(this.isItemSelected(i))?J+"Selected":"";H.addStyleClass(J+" "+N);if(N){var W=new b({key:i.getKey()});W.setText(i.getText());i.data(n.CSS_CLASS+"Token",W);this.getAggregation("tokenizer").addToken(W,true);}this.setSelectable(i,i.getEnabled());return H;};F.prototype.setSelectable=function(i,H){a.prototype.setSelectable.call(this,i,H);var J=u(i);if(J){J.setVisible(H);}};F.prototype._fillList=function(){var H=this._getList();var J=this.getEditable()?this.getItems():this.getSelectedItems();if(!H){return;}H.destroyItems();if(!this._oListItemEnterEventDelegate){this._oListItemEnterEventDelegate={onsapenter:function(W){if(W.srcControl.isSelected()){W.setMarked();}}};}for(var i=0,N,U=J.length;i<U;i++){N=this._mapItemToListItem(J[i]);N.addDelegate(this._oListItemEnterEventDelegate,true,this,true);this._getList().addAggregation("items",N,true);if(this.isItemSelected(J[i])){this._getList().setSelectedItem(N,true);}}};F.prototype.handleInputValidation=function(i,H){var J=i.target.value,N=this.isValueValid(J),U,W,X;var Y=i.srcControl;if(!N&&J!==""&&!H){this._handleFieldValidationState(Y);return;}X=this._getItemsStartingWith(J,true);if(!H||this._bIsPasteEvent){this._handleTypeAhead(J,X,Y);}U=this.getItems();if(this.isPickerDialog()){W=this.getFilterSelectedButton();if(W!=null&&W.getPressed()){W.setPressed(false);}}p(this.getItems(),this.filterItems({value:J,items:U}));this.manageSelectAllCheckBoxState();this._sOldInput=J;if((!this.getValue()||!N)&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){this.close();}else{this.open();}};F.prototype.isValueValid=function(i){var H=this._getItemsStartingWith(i,true);var J=this._getItemsStartingWithPerTerm(i,true);return H.length||J.length;};F.prototype._handleTypeAhead=function(i,H,J){var N,U;if(!this._bDoTypeAhead){return;}N=this.getSelectedItems();U=H.filter(function(W){return N.indexOf(W)===-1;});t(i,J,U);};F.prototype._handleFieldValidationState=function(i){if(this._sOldInput&&this.isValueValid(this._sOldInput)){i.updateDomValue(this._sOldInput);}else if(this._sOldValue&&this.isValueValid(this._sOldValue)){i.updateDomValue(this._sOldValue);}else{i.updateDomValue("");}if(this._iOldCursorPos){Q(i.getFocusDomRef()).cursorPos(this._iOldCursorPos);}this._showWrongValueVisualEffect();};F.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=false;this._bListItemNavigationInvalidated=false;this._iInitialItemFocus=-1;this._bCheckBoxClicked=true;this._bPreventValueRemove=false;this._oTokenizer=this._createTokenizer();this.setAggregation("tokenizer",this._oTokenizer);this._aInitiallySelectedItems=[];this._oRbM=y.getLibraryResourceBundle("sap.m");this._oRbC=y.getLibraryResourceBundle("sap.ui.core");this._fillList();};F.prototype.handleItemRemoval=function(i){this.removeSelection({item:i,id:i?i.getId():"",key:i?i.getKey():"",fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:true});};F.prototype.isItemSelected=function(i){return this.getSelectedItems().indexOf(i)>-1;};F.prototype._clearTokenizer=function(){this.getAggregation("tokenizer").destroyTokens();};F.prototype._toggleTokenClass=function(){this.toggleStyleClass("sapMMultiComboBoxHasToken",this._hasTokens());};F.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._deregisterResizeHandler();if(this._oTokenizer){this._oTokenizer.destroy();this._oTokenizer=null;}this._oRbC=null;this._oRbM=null;this._oListItemEnterEventDelegate=null;this.oValueStateNavDelegate=null;this._sInitialValueState=null;};F.prototype.destroyItems=function(){this.setProperty("selectedKeys",[]);this._clearTokenizer();return this.destroyAggregation("items");};F.prototype._getItemByToken=function(i){return n.getItemBy(this.getItems(),i,"Token");};F.prototype._getItemByValue=function(H){var J=n.getSelectableItems(this.getItems());for(var i=0;i<J.length;i++){if(J[i].getText().toLowerCase()===H.toLowerCase()){return J[i];}}};F.prototype._handleItemToFocus=function(){if(this.isOpen()){return;}this.syncPickerContent();var i,H,J=y.byId(document.activeElement.id),N=this.getSelectedItems(),U=n.getSelectableItems(this.getItems()),W=this._getList(),X=W&&W.getItemNavigation(),Y=this.getValue(),Z=this.getPicker();if(J&&J.isA("sap.m.Token")){H=this._getItemByToken(J);}else if(Y){H=this._getItemByValue(Y);}if(!H){H=N.length?n.getItemByListItem(this.getItems(),this._getList().getSelectedItems()[0]):U[0];}i=n.getVisibleItems(this.getItems()).indexOf(H);if(X){X.setSelectedIndex(i);}else{this._bListItemNavigationInvalidated=true;this._iInitialItemFocus=i;}if(!H){Z.setInitialFocus(this);}else{Z.setInitialFocus(W);}};F.prototype.getAccessibilityInfo=function(){var i=this.getSelectedItems().map(function(J){return J.getText();}).join(" ");var H=a.prototype.getAccessibilityInfo.apply(this,arguments);H.type=y.getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_MULTICOMBO");H.description=((H.description||"")+" "+i).trim();return H;};F.prototype._setIsClick=function(i){this._bIsClick=i;};F.prototype._getIsClick=function(){return this._bIsClick;};F.prototype._calculateSpaceForTokenizer=function(){if(this.getDomRef()){var i,H=this.getDomRef().getBoundingClientRect().width,J=this._calculateIconsSpace(),N=this.$().find(".sapMInputBaseInner"),U=["min-width","padding-right","padding-left"],W=U.reduce(function(X,Y){return X+(parseInt(N.css(Y))||0);},0);i=H-(J+W);i=i<0?0:i;return i+"px";}else{return null;}};F.prototype._syncInputWidth=function(i){var H=this.getDomRef('inner'),J,N;if(!H||(i&&!i.getDomRef())){return;}N=parseFloat(i.getDomRef().getBoundingClientRect().width.toFixed(2));J=this._calculateIconsSpace();H.style.width='calc(100% - '+parseFloat(J+N)+"px)";};F.prototype._handleNMoreAccessibility=function(){var i=z.getStaticId("sap.m","MULTICOMBOBOX_OPEN_NMORE_POPOVER"),H=this.getAggregation("tokenizer"),J=this.getFocusDomRef(),N=(J&&J.getAttribute("aria-describedby")),U=N?N.split(" "):[],W=U.indexOf(i),X=this.getEnabled(),Y=!this.getEditable()&&H&&H.getHiddenTokensCount();if(Y&&W===-1){U.push(i);X&&this.getFocusDomRef().setAttribute("aria-keyshortcuts","Enter");}else if(W!==-1&&!Y){U.splice(W,1);this.getFocusDomRef().removeAttribute("aria-keyshortcuts");}if(J&&U.length){J.setAttribute("aria-describedby",U.join(" ").trim());}};F.prototype.applyShowItemsFilters=function(){this.syncPickerContent();p(this.getItems(),this.filterItems({value:this.getValue()||"_",items:this.getItems()}));this.manageSelectAllCheckBoxState();};F.prototype.showItems=function(i){var H=true,J=this.fnFilter;if(typeof i==="function"){this.syncPickerContent();this.setFilterFunction(i||function(){return true;});H=this.filterItems({value:this.getValue()||"_",items:this.getItems()}).items.length>0;this.setFilterFunction(J);}if(H){a.prototype.showItems.apply(this,arguments);}};F.prototype.createSelectAllHeaderToolbar=function(i){i=i||this._getList();if(!i||i.getHeaderToolbar()){return;}var H=new c({select:function(J){var N=J.getSource(),U=n.getSelectableItems(this.getItems()),W=this._getSelectedItemsOf(U);if(J.getParameter("selected")){var X=U.filter(function(Y){return W.indexOf(Y)===-1;});X.forEach(function(Y){this.setSelection({item:Y,items:X,selectAll:true,id:Y.getId(),key:Y.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}else{W.forEach(function(Y){this.removeSelection({item:Y,items:W,selectAll:true,id:Y.getId(),key:Y.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}N.focus();}.bind(this)});H.addEventDelegate(this._selectAllDelegate(),this);i.setHeaderToolbar(new d({content:H}).addStyleClass("sapMMultiComboBoxSelectAll")).setSticky(["HeaderToolbar"]);this.attachSelectionChange(this.manageSelectAllCheckBoxState.bind(this));};F.prototype.manageSelectAllCheckBoxState=function(){var i=this.getSelectAllCheckbox();if(!i){return;}var H=this.getItems(),J=this.getSelectedItems(),N=n.getSelectableItems(H).filter(function(U){return J.indexOf(U)>-1;}).length===n.getSelectableItems(H).length;i.setText(this._oRbM.getText("MULTICOMBOBOX_SELECT_ALL_CHECKBOX",[J.length,n.getAllSelectableItems(H).length])).setSelected(N);};F.prototype.getSelectAllToolbar=function(){var i=this._getList();return i&&i.getHeaderToolbar();};F.prototype.getSelectAllCheckbox=function(){var i=this.getSelectAllToolbar();return i&&i.getContent()[0];};F.prototype._selectAllDelegate=function(){return{onsapdown:this.handleDownEvent,onsapup:function(i){i.preventDefault();if(this.getValueState()!==V.None){this._handleFormattedTextNav();return;}this.getFocusDomRef().focus();},onsaphome:this.handleHomeEvent,onsapend:this.handleEndEvent,onfocusin:function(){var i=this.getRenderer(),H=this.getSelectAllToolbar();H&&H.addStyleClass(i.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused");},onfocusout:function(){var i=this.getRenderer(),H=this.getSelectAllToolbar();H&&H.removeStyleClass(i.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused");},onsapshow:this.close,onsaphide:this.close};};F.prototype.focusSelectAll=function(){var i=this.getSelectAllCheckbox();i&&i.focus();};F.prototype.toggleSelectAllVisibility=function(i){var H=this.getSelectAllToolbar();if(H){H.setVisible(i);return;}i&&this.createSelectAllHeaderToolbar();};return F;});
sap.ui.predefine('sap/m/MultiComboBoxRenderer',['./ComboBoxBaseRenderer','./ComboBoxTextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/Core'],function(C,a,R,b){"use strict";var M=R.extend(C);M.apiVersion=2;M.CSS_CLASS_MULTICOMBOBOX="sapMMultiComboBox";M.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.class(M.CSS_CLASS_MULTICOMBOBOX);};M.getAriaDescribedBy=function(c){var A=a.getAriaDescribedBy.apply(this,arguments),t=c.getAggregation("tokenizer"),i=t&&t.getTokensInfoId();return(A||"")+" "+i;};M.getAccessibilityState=function(c){var A=C.getAccessibilityState.apply(this,arguments),r=b.getLibraryResourceBundle("sap.m");A.roledescription=r.getText("MULTICOMBOBOX_ARIA_ROLE_DESCRIPTION");return A;};M.prependInnerContent=function(r,c){r.renderControl(c.getAggregation("tokenizer"));};return M;},true);
sap.ui.predefine('sap/m/MultiEditField',["sap/ui/core/XMLComposite","./library","sap/ui/core/Item"],function(X,l,I){"use strict";var M=X.extend("sap.m.MultiEditField",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",properties:{selectedItem:{type:"sap.ui.core.Item",group:"Data",defaultValue:null,invalidate:true},showValueHelp:{type:"boolean",group:"Behavior",defaultValue:true,invalidate:true},nullable:{type:"boolean",group:"Behavior",defaultValue:true,invalidate:true},required:{type:"boolean",group:"Behavior",defaultValue:false,invalidate:true}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,bindable:"bindable"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}}}});M.prototype.init=function(){if(!M.prototype._oRb){M.prototype._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");}var k=new I({key:"keep",text:"< "+this._oRb.getText("MULTI_EDIT_KEEP_TEXT")+" >"}),b=new I({key:"blank",text:"< "+this._oRb.getText("MULTI_EDIT_BLANK_TEXT")+" >"}),n=new I({key:"new",text:"< "+this._oRb.getText("MULTI_EDIT_NEW_TEXT")+" >"});this._getKeepAll=function(){return k;};this._getBlank=function(){return b;};this._getValueHelp=function(){return n;};this.byId("select").getParent=this.getParent.bind(this);this._oLastSelectedItem=this._getKeepAll();};M.prototype.onBeforeRendering=function(){this.insertAggregation("items",this._getKeepAll(),0,true);if(this.getNullable()){this.insertAggregation("items",this._getBlank(),1,true);}else{this.removeAggregation("items",this._getBlank(),true);}if(this.getShowValueHelp()){this.insertAggregation("items",this._getValueHelp(),this.getNullable()?2:1,true);}else{this.removeAggregation("items",this._getValueHelp(),true);}var s=this.getSelectedItem();if(s){s=this._getInternalItem(s);this.byId("select").setSelectedItem(s);}};M.prototype.setSelectedItem=function(s){var i=this._getExternalItem(s)||s;var o;if(i&&this.indexOfItem(i)>=0&&!this._isSpecialValueItem(i)){o=this._getInternalItem(s);if(o){this.byId("select").setSelectedItem(o);}this._oLastSelectedItem=i;return this.setProperty("selectedItem",i);}return this;};M.prototype.exit=function(){this._getKeepAll().destroy();this._getBlank().destroy();this._getValueHelp().destroy();var i=this.byId("itemTemplate");if(i){i.destroy();}};M.prototype.getFormDoNotAdjustWidth=function(){return true;};M.prototype.isBlankSelected=function(){return this._getExternalItem(this.byId("select").getSelectedItem())===this._getBlank();};M.prototype.isKeepExistingSelected=function(){return this._getExternalItem(this.byId("select").getSelectedItem())===this._getKeepAll();};M.prototype._isSpecialValueItem=function(i){return i===this._getKeepAll()||i===this._getBlank()||i===this._getValueHelp();};M.prototype._handleSelectionChange=function(e){var i=this._getExternalItem(e.getParameter("selectedItem"));if(i&&!this._isSpecialValueItem(i)){this.fireChange({selectedItem:i});}else if(i===this._getValueHelp()){this.fireEvent("_valueHelpRequest");}if(i!==this._getValueHelp()){this._oLastSelectedItem=i;this.setProperty("selectedItem",i,true);}};M.prototype.resetSelection=function(){this.byId("select").setSelectedItem(this._getInternalItem(this._oLastSelectedItem));};M.prototype._getExternalItem=function(i){var a=this.byId("select").indexOfItem(i);if(a>=0){return this.getItems()[a];}return null;};M.prototype._getInternalItem=function(i){var a=this.indexOfItem(i);if(a>=0){return this.byId("select").getItems()[a];}return null;};M.prototype._getInternalDomRef=function(){var s=this.byId("select");return s&&s.getDomRef();};M.prototype._getInternalUIArea=function(){return this.byId("select").getUIArea();};return M;});
sap.ui.predefine('sap/m/MultiInput',['./Input','./Tokenizer','./Token','./library','sap/ui/core/EnabledPropagator','sap/ui/base/ManagedObject','sap/ui/base/ManagedObjectMetadata','sap/ui/base/ManagedObjectObserver','sap/ui/Device','./Popover','./List','./Title','./Bar','./Toolbar','./StandardListItem','sap/ui/core/ResizeHandler','sap/ui/core/IconPool','./MultiInputRenderer',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/completeTextSelected","sap/ui/events/KeyCodes",'sap/ui/core/InvisibleText',"sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos","sap/ui/dom/jquery/control"],function(I,T,a,l,E,M,b,c,D,P,L,d,B,f,S,R,g,h,j,k,K,m,q){"use strict";var n=l.TokenizerRenderMode;var o=I.extend("sap.m.MultiInput",{metadata:{interfaces:["sap.ui.core.ISemanticFormContent"],library:"sap.m",designtime:"sap/m/designtime/MultiInput.designtime",properties:{enableMultiLineMode:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:true},maxTokens:{type:"int",group:"Behavior"},_semanticFormValue:{type:"string",group:"Behavior",defaultValue:"",visibility:"hidden"}},aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"},tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"}},events:{tokenChange:{parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}},deprecated:true},tokenUpdate:{allowPreventDefault:true,parameters:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}}},dnd:{draggable:false,droppable:true}}});E.apply(o.prototype,[true]);var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");o.prototype.init=function(){var t=this;this._bShowListWithTokens=false;I.prototype.init.call(this);this._getClearIcon();this._bIsValidating=false;var e=new T({renderMode:n.Narrow,tokenDelete:this._tokenDelete.bind(this)});e.updateTokens=function(){this.destroyTokens();this.updateAggregation("tokens");};this.setAggregation("tokenizer",e);e.getTokensPopup().attachBeforeOpen(this._onBeforeOpenTokensPicker.bind(this)).attachAfterClose(this._onAfterCloseTokensPicker.bind(this))._getPopup().setAutoCloseAreas([e,this]);this.setAggregation("tokenizer",e);this._oTokenizerObserver=new c(function(C){var s=C.mutation;var i=C.child;switch(s){case"insert":i.attachEvent("_change",this.invalidate,this);this.fireTokenChange({type:sap.m.Tokenizer.TokenChangeType.Added,token:i,tokens:[i],removedTokens:[]});break;case"remove":var p=C.object.getTokens().length?sap.m.Tokenizer.TokenChangeType.Removed:sap.m.Tokenizer.TokenChangeType.RemovedAll;i.detachEvent("_change",this.invalidate,this);this.fireTokenChange({type:p,token:i,removedTokens:[i]});break;default:break;}this.updateFormValueProperty();this.invalidate();}.bind(this));this._oTokenizerObserver.observe(e,{aggregations:["tokens"]});this._bShowListWithTokens=false;this._bIsValidating=false;e.addEventDelegate({onThemeChanged:this._handleInnerVisibility.bind(this),onAfterRendering:function(){if(this.isMobileDevice()&&this.getEditable()){e.addStyleClass("sapMTokenizerIndicatorDisabled");}else{e.removeStyleClass("sapMTokenizerIndicatorDisabled");}this._syncInputWidth(e);this._handleInnerVisibility();this._handleNMoreAccessibility();this._registerTokenizerResizeHandler();}.bind(this)},this);this._aTokenValidators=[];this.setShowValueHelp(true);this.setShowSuggestion(true);this._getSuggestionsPopoverInstance()._oPopover.attachBeforeOpen(function(){if(t.isMobileDevice()!==true){return;}var i=e._getTokensList();e._fillTokensList(i);this.addContent(i);t._manageListsVisibility(!!e.getTokens().length);});this.attachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.attachLiveChange(this._onLiveChange,this);this.attachValueHelpRequest(this._onValueHelpRequested,this);this._getValueHelpIcon().setProperty("visible",true,true);this._onResize=this._onResize.bind(this);};o.prototype.exit=function(){this._deregisterResizeHandler();this._deregisterTokenizerResizeHandler();this._oTokenizerObserver.disconnect();this._oTokenizerObserver.destroy();this._oTokenizerObserver=null;I.prototype.exit.call(this);};o.prototype.onAfterRendering=function(){var t=this.getAggregation("tokenizer");this._bTokenIsValidated=false;t.setMaxWidth(this._calculateSpaceForTokenizer());t.scrollToEnd();this._registerResizeHandler();I.prototype.onAfterRendering.apply(this,arguments);};o.prototype._tokenDelete=function(e){if(!this.getEditable()||!this.getEnabled()){return;}this._deleteTokens(e.getParameter("tokens"),e.getParameters());};o.prototype._deleteTokens=function(e,O){var t=this.getAggregation("tokenizer");var i=0;var p=O.keyCode===K.BACKSPACE;var s=e[e.length-1];var F=e[0];i=this.getTokens().indexOf(p?F:s);t.focusToken(i,O,function(){this.focus();}.bind(this));this.fireTokenUpdate({type:T.TokenUpdateType.Removed,addedTokens:[],removedTokens:e});e.filter(function(u){return this.getEditable()&&this.getEnabled()&&u.getEditable();}.bind(this)).forEach(function(u){u.destroy();});if(this.getTokens().length===0){t.getTokensPopup().close();}if(!O.keyCode){this.focus();}};o.prototype._handleInnerVisibility=function(){var H=!!this.getAggregation("tokenizer").getHiddenTokensCount();this._setValueVisible(!H);};o.prototype.oninput=function(e){this.setProperty("selectedKey",'',true);I.prototype.oninput.call(this,e);if(e.isMarked("invalid")||!this.getEditable()){return;}this._setValueVisible(true);this._manageListsVisibility(false);this.getAggregation("tokenizer").getTokensPopup().close();};o.prototype._registerResizeHandler=function(){if(!this._iResizeHandlerId){this._iResizeHandlerId=R.register(this,this._onResize);}};o.prototype._deregisterResizeHandler=function(){if(this._iResizeHandlerId){R.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null;}};o.prototype._registerTokenizerResizeHandler=function(){if(!this._iTokenizerResizeHandler){this._iTokenizerResizeHandler=R.register(this.getAggregation("tokenizer"),this._onResize);}};o.prototype._deregisterTokenizerResizeHandler=function(){if(this._iTokenizerResizeHandler){R.deregister(this._iTokenizerResizeHandler);this._iTokenizerResizeHandler=null;}};o.prototype._onResize=function(){this.getAggregation("tokenizer").setMaxWidth(this._calculateSpaceForTokenizer());};o.prototype._onSuggestionItemSelected=function(e){var t=this.getAggregation("tokenizer"),i=null,p=null,O=t.getTokens().length;if(this.getMaxTokens()&&O>=this.getMaxTokens()||this._bValueHelpOpen){return;}if(this._hasTabularSuggestions()){i=e.getParameter("selectedRow");}else{i=e.getParameter("selectedItem");if(i){p=new a({text:M.escapeSettingsValue(i.getText()),key:M.escapeSettingsValue(i.getKey())});}}if(i&&!this._bTokenIsAdded){var s=this.getValue();this.addValidateToken({text:s,token:p,suggestionObject:i,validationCallback:this._validationCallback.bind(this,O)});}if(this.isMobileDevice()){var N=t.getTokens().length;if(O<N){this.setValue("");}if(this._getSuggestionsList()instanceof sap.m.Table){this._getSuggestionsList().addStyleClass("sapMInputSuggestionTableHidden");}else{this._getSuggestionsList().destroyItems();}var u=this.getAggregation("tokenizer").getScrollDelegate();if(u){u.scrollTo(0,0,0);}this._getSuggestionsPopoverInstance().getInput().focus();}this._bTokenIsAdded=false;};o.prototype._onValueHelpRequested=function(){this._bValueHelpOpen=true;};o.prototype._onLiveChange=function(e){var C=this.getAggregation("tokenizer").getTokens().every(function(t){return t.getSelected();});if(!C){return;}this.removeAllTokens();};o.prototype._setValueVisible=function(v){var V=v?"1":"0";this.$("inner").css("opacity",V);};o.prototype.onmousedown=function(e){if(e.target==this.getDomRef('content')){e.preventDefault();e.stopPropagation();}};o.prototype.openMultiLine=function(){};o.prototype.closeMultiLine=function(){};o.prototype.showItems=function(){I.prototype.showItems.apply(this,arguments);this._manageListsVisibility(false);};o.prototype.onBeforeRendering=function(){var t=this.getAggregation("tokenizer");var e=t._getTokensList();I.prototype.onBeforeRendering.apply(this,arguments);this._hideTokensOverLimit();t.setEnabled(this.getEnabled());t._fillTokensList(e);};o.prototype._hideTokensOverLimit=function(){if(!this.getMaxTokens()){return;}this.getTokens().forEach(function(t,i){if(i>=this.getMaxTokens()){return t.setVisible(false);}return t.setVisible(true);},this);};o.prototype.onsapnext=function(e){var t=this.getAggregation("tokenizer");if(e.isMarked()){return;}var F=q(document.activeElement).control()[0];if(!F){return;}if(t===F||t.$().find(F.$()).length>0){t.scrollToEnd();this.$().find("input").trigger("focus");}};o.prototype.onsapbackspace=function(e){var v=this.getValue();var i=this.getFocusDomRef()===document.activeElement;var t=this.getTokens();var p=t[t.length-1];if(!this.getEnabled()||!this.getEditable()){e.preventDefault();return;}if(v===""&&i&&p&&e.srcControl===this){var A=t.filter(function(s){return s.getSelected();}).length===t.length;if(A){return this._deleteTokens(t,{keyCode:K.BACKSPACE});}p.focus();e.preventDefault();}};o.prototype.onsapdelete=function(e){if(!this.getEditable()){return;}if(this.getValue()&&!k(this.getFocusDomRef())){return;}if(e.isMarked("forwardFocusToParent")){this.focus();}};o.prototype.onkeydown=function(e){var t=this.getAggregation("tokenizer");I.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()){return;}if(e.which===K.TAB){t.selectAllTokens(false);}if((e.ctrlKey||e.metaKey)&&e.which===K.A&&t.getTokens().length>0){t.focus();t.selectAllTokens(true);e.preventDefault();}if((e.ctrlKey||e.metaKey)&&(e.which===K.C||e.which===K.INSERT)){t._copy();}if(((e.ctrlKey||e.metaKey)&&e.which===K.X)||(e.shiftKey&&e.which===K.DELETE)){if(this.getEditable()){t._cut();}else{t._copy();}}if((e.ctrlKey||e.metaKey)&&e.which===K.I&&t.getTokens().length){t._togglePopup(t.getTokensPopup());e.preventDefault();}};o.prototype.onpaste=function(e){var O,i,s,A=[];if(this.getValueHelpOnly()){return;}O=e.originalEvent.clipboardData.getData('text/plain');s=O.split(/\r\n|\r|\n/g);if(s.length<=1){return;}setTimeout(function(){if(s){if(this.fireEvent("_validateOnPaste",{texts:s},true)){var p="";for(i=0;i<s.length;i++){if(s[i]){var t=this._convertTextToToken(s[i],true);if(this._addUniqueToken(t)){A.push(t);}else{p=s[i];}}}this.updateDomValue(p);if(A.length>0){this.fireTokenUpdate({addedTokens:A,removedTokens:[],type:T.TokenUpdateType.Added});this.fireTokenChange({addedTokens:A,removedTokens:[],type:T.TokenChangeType.TokensChanged});}}if(A.length){this.cancelPendingSuggest();}}}.bind(this),0);};o.prototype._validationCallback=function(O,v){var N=this.getAggregation("tokenizer").getTokens().length;var s=this._getSuggestionsPopoverInstance();this._bIsValidating=false;if(v){this.setValue("");this._bTokenIsValidated=true;if(this.isMobileDevice()&&s&&s.getInput()&&(O<N)){s.getInput().setValue("");}}};o.prototype.onsapprevious=function(e){if(this._getIsSuggestionPopupOpen()){return;}if(this._$input.cursorPos()===0){if(e.srcControl===this){T.prototype.onsapprevious.apply(this.getAggregation("tokenizer"),arguments);}}if(e.keyCode===K.ARROW_UP){e.preventDefault();}};o.prototype.onsaphome=function(e){if(!this.getFocusDomRef().selectionStart){T.prototype.onsaphome.apply(this.getAggregation("tokenizer"),arguments);}I.prototype.onsaphome.apply(this,arguments);};o.prototype.onsapend=function(e){if(e.isMarked("forwardFocusToParent")){this.focus();}I.prototype.onsapend.apply(this,arguments);};o.prototype.onsapenter=function(e){I.prototype.onsapenter.apply(this,arguments);var v=true,t=this.getAggregation("tokenizer");if(this._getIsSuggestionPopupOpen()){if(this._hasTabularSuggestions()){v=!this._getSuggestionsTable().getSelectedItem();}else{v=!this._getSuggestionsList().getSelectedItem();}}if(v){this._validateCurrentText();}if(e&&e.setMarked&&(this._bTokenIsValidated||this.getDOMValue())){e.setMarked();}if(!this.getEditable()&&t.getHiddenTokensCount()&&e.target===this.getFocusDomRef()){t._togglePopup(t.getTokensPopup());}this.focus();};o.prototype.onsapfocusleave=function(e){var p=this._getSuggestionsPopoverPopup(),t=this.getAggregation("tokenizer"),s=t.getTokensPopup(),N=false,i=false,u=this.getDomRef()&&j(this.getDomRef(),document.activeElement),v,F;if(p&&p.isA("sap.m.Popover")){if(e.relatedControlId){v=sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef();N=j(p.getFocusDomRef(),v);i=j(t.getFocusDomRef(),v);if(s){F=j(s.getFocusDomRef(),v);}}}I.prototype.onsapfocusleave.apply(this,arguments);if(this._bIsValidating||this._bValueHelpOpen){return;}if(!this.isMobileDevice()&&!N&&e.relatedControlId!==this.getId()&&!i){this._validateCurrentText(true);}if(!this.isMobileDevice()&&this.getEditable()){if(u||N){return;}}if(!F&&!i){s.isOpen()&&!this.isMobileDevice()&&t._togglePopup(s);t.setRenderMode(n.Narrow);}this._handleInnerVisibility();};o.prototype.ontap=function(e){var t=this.getAggregation("tokenizer");if(document.activeElement===this._$input[0]||document.activeElement===t.getDomRef()){t.selectAllTokens(false);}if(e&&e.isMarked("tokenDeletePress")){return;}I.prototype.ontap.apply(this,arguments);};o.prototype.onfocusin=function(e){var t=this.getAggregation("tokenizer");this._deregisterTokenizerResizeHandler();this._bValueHelpOpen=false;if(e.target===this.getFocusDomRef()){I.prototype.onfocusin.apply(this,arguments);if(t.hasOneTruncatedToken()&&this.getEnabled()&&this.getEditable()){t.getTokens()[0].setSelected(false);!this.isMobileDevice()&&t.setFirstTokenTruncated(false);}}if(!this.isMobileDevice()&&this.getEditable()&&e.target===this.getDomRef("inner")&&!(this._getIsSuggestionPopupOpen())){t.setRenderMode(n.Loose);this._setValueVisible(true);}this._registerResizeHandler();};o.prototype.onsapescape=function(e){var t=this.getAggregation("tokenizer"),p=t.getTokensPopup();this.getAggregation("tokenizer").selectAllTokens(false);this.selectText(0,0);if(p.isOpen()){t._togglePopup(p);}I.prototype.onsapescape.apply(this,arguments);};o.prototype._getIsSuggestionPopupOpen=function(){var s=this._getSuggestionsPopoverInstance(),e=this._getSuggestionsPopoverPopup();return s&&e&&e.isOpen();};o.prototype.setEditable=function(e){var t=this.getAggregation("tokenizer");e=this.validateProperty("editable",e);if(e===this.getEditable()){return this;}if(I.prototype.setEditable){I.prototype.setEditable.apply(this,arguments);}t.setEditable(e);return this;};o.prototype._findItem=function(t,e,p,G){if(!t){return;}if(!(e&&e.length)){return;}t=t.toLowerCase();var s=e.length;for(var i=0;i<s;i++){var u=e[i];var v=G(u);if(!v){continue;}v=v.toLowerCase();if(v===t){return u;}if(!p&&v.indexOf(t)===0){return u;}}};o.prototype._getSuggestionItem=function(t,e){var p=null;var s=null;if(this._hasTabularSuggestions()){p=this.getSuggestionRows();s=this._findItem(t,p,e,function(u){var v=u.getCells();var w=null;if(v){var i;for(i=0;i<v.length;i++){if(v[i].getText){w=v[i].getText();break;}}}return w;});}else{p=this.getSuggestionItems();s=this._findItem(t,p,e,function(s){return s.getText();});}return s;};o.prototype.clone=function(){var C;this.detachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.detachLiveChange(this._onLiveChange,this);this.detachValueHelpRequest(this._onValueHelpRequested,this);C=I.prototype.clone.apply(this,arguments);this.attachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.attachLiveChange(this._onLiveChange,this);this.attachValueHelpRequest(this._onValueHelpRequested,this);return C;};o.getMetadata().forwardAggregation("tokens",{getter:function(){return this.getAggregation("tokenizer");},aggregation:"tokens",forwardBinding:true});o.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("content");};o.prototype.setTokens=function(t){if(!Array.isArray(t)){return;}this.removeAllTokens();t.forEach(function(e){b.addAPIParentInfoBegin(e,this,"tokens");},this);t.forEach(function(e){this.addToken(e);},this);t.forEach(function(e){b.addAPIParentInfoEnd(e);},this);this.fireTokenChange({type:sap.m.Tokenizer.TokenChangeType.TokensChanged,addedTokens:t,removedTokens:[]});return this;};o.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};o.WaitForAsyncValidation="sap.m.MultiInput.WaitForAsyncValidation";o.prototype.getDomRefForValueStateMessage=o.prototype.getPopupAnchorDomRef;o.prototype.updateInputField=function(N){I.prototype.updateInputField.call(this,N);var s=this._getSuggestionsPopoverInstance();this.setDOMValue('');if(s.getInput()){s.getInput().setDOMValue('');}};o.prototype.onChange=function(e,p,N){p=p||this.getChangeEventParams();if(!this.getEditable()||!this.getEnabled()){return;}var v=this._getInputValue(N);if(v===this.getLastValue()){this._bCheckDomValue=false;return;}if(!this._bTokenIsValidated){this.setValue(v);v=this.getValue();this.setLastValue(v);}this.fireChangeEvent(v,p);return true;};o.prototype.getAccessibilityInfo=function(){var t=this.getTokens().map(function(e){return e.getText();}).join(" ");var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_MULTIINPUT");i.description=((i.description||"")+" "+t).trim();return i;};o.prototype._decoratePopupInput=function(p){I.prototype._decoratePopupInput.apply(this,arguments);var t=this;if(!p){return;}p.addEventDelegate({oninput:t._manageListsVisibility.bind(t,false),onsapenter:function(e){if(p.getValue()){t._closeSuggestionPopup();}t._validateCurrentText();t._setValueVisible(false);t.onChange(e,null,p.getValue());}});return p;};o.prototype._hasShowSelectedButton=function(){return true;};o.prototype.forwardEventHandlersToSuggPopover=function(s){I.prototype.forwardEventHandlersToSuggPopover.apply(this,arguments);s.setShowSelectedPressHandler(this._handleShowSelectedPress.bind(this));};o.prototype._handleShowSelectedPress=function(e){this._bShowListWithTokens=e.getSource().getPressed();this._manageListsVisibility(this._bShowListWithTokens);};o.prototype._onBeforeOpenTokensPicker=function(){var t=this.getAggregation("tokenizer"),p=t.getTokensPopup(),e=this.getDomRef(),i=this.getEditable(),C,s;this._setValueVisible(false);this._manageListsVisibility(true);if(e&&p){C=parseInt(p.getContentWidth());s=isNaN(C)||e.offsetWidth>C?e.offsetWidth:C;s=((t.getTokens().length===1)||!i)?"auto":(s/parseFloat(l.BaseFontSize))+"rem";p.setContentWidth(s);}};o.prototype._onAfterCloseTokensPicker=function(){if(document.activeElement!==this.getDomRef("inner")){this.getAggregation("tokenizer").setRenderMode(n.Narrow);}};o.prototype.getDialogTitle=function(){var p=this._getSuggestionsPopoverPopup(),H=p&&p.getCustomHeader();if(H){return H.getContentMiddle()[0];}return null;};o.prototype._updatePickerHeaderTitle=function(){var e,i;i=this.getLabels();if(i.length){e=i[0];if(e&&(typeof e.getText==="function")){this.getDialogTitle().setText(e.getText());}}else{this.getDialogTitle().setText(r.getText("COMBOBOX_PICKER_TITLE"));}};o.prototype._getSuggestionsList=function(){var s=this._getSuggestionsPopoverInstance();return s&&s.getItemsContainer();};o.prototype._getSuggestionsPopoverInstance=function(){return this._oSuggPopover;};o.prototype._getSuggestionsPopoverPopup=function(){return this._oSuggestionPopup;};o.prototype._manageListsVisibility=function(s){if(!this.isMobileDevice()){return;}this.getAggregation("tokenizer")._getTokensList().setVisible(s);this._getSuggestionsList()&&this._getSuggestionsList().setVisible(!s);this._getSuggestionsPopover().getFilterSelectedButton().setPressed(s);};o.prototype._handleNMoreAccessibility=function(){var i=m.getStaticId("sap.m","MULTICOMBOBOX_OPEN_NMORE_POPOVER"),F=this.getFocusDomRef(),A=(F&&F.getAttribute("aria-describedby")),e=A?A.split(" "):[],N=e.indexOf(i),p=this.getEnabled(),s=!this.getEditable()&&this.getAggregation("tokenizer").getHiddenTokensCount();if(s&&N===-1){e.push(i);p&&this.getFocusDomRef().setAttribute("aria-keyshortcuts","Enter");}else if(N!==-1&&!s){e.splice(N,1);this.getFocusDomRef().removeAttribute("aria-keyshortcuts");}if(F&&e.length){F.setAttribute("aria-describedby",e.join(" ").trim());}};o.prototype._calculateSpaceForTokenizer=function(){var e=this.getDomRef();if(e){var s,i=this.$().find(".sapMInputDescriptionWrapper"),p=this.$().find(".sapMInputBaseInner"),C=e.offsetWidth||0,t=i.width()||0,u=this._calculateIconsSpace(),v=["min-width","padding-right","padding-left"],w=v.reduce(function(A,x){return A+(parseInt(p.css(x))||0);},0);s=C-(u+w+t);s=s<0?0:s;return s+"px";}else{return null;}};o.prototype._syncInputWidth=function(t){var F=this.getDomRef('inner'),s,i;if(!F||(t&&!t.getDomRef())){return;}s=this._calculateIconsSpace();i=t.getDomRef().scrollWidth;F.style.width='calc(100% - '+Math.floor(s+i)+"px";};o.prototype.isValueHelpOnlyOpener=function(t){return[this._$input[0],this._getValueHelpIcon().getDomRef()].indexOf(t)>-1;};o.prototype._shouldTriggerSuggest=function(){var s=I.prototype._shouldTriggerSuggest.apply(this,arguments);return s&&!this._bShowListWithTokens;};o.prototype.addValidator=function(v){if(typeof(v)==="function"){this._aTokenValidators.push(v);}};o.prototype.removeValidator=function(v){var i=this._aTokenValidators.indexOf(v);if(i!==-1){this._aTokenValidators.splice(i,1);}};o.prototype.removeAllValidators=function(){this._aTokenValidators=[];};o.prototype.getValidators=function(){return this._aTokenValidators;};o.prototype.addValidateToken=function(p,v){var t=this._validateToken(p,v),A=this._addUniqueToken(t,p.validationCallback);if(A){this.fireTokenUpdate({addedTokens:[t],removedTokens:[],type:T.TokenUpdateType.Added});this.fireTokenChange({addedTokens:[t],removedTokens:[],type:T.TokenChangeType.TokensChanged});}};o.prototype._validateToken=function(p,v){var t=p.token,V=p.validationCallback,s=p.suggestionObject,e=t&&t.getText(),u=e?e:p.text,w;v=v?v:this._aTokenValidators;w=v.length;if(!w){if(!t&&V){V(false);}return t;}for(var i=0;i<w;i++){t=v[i]({text:u,suggestedToken:t,suggestionObject:s,asyncCallback:this._getAsyncValidationCallback(v,i,u,s,V)});if(!t){if(V){V(false);}return null;}if(t===o.WaitForAsyncValidation){return null;}}return t;};o.prototype._addUniqueToken=function(t,v){if(!t){return false;}var e=!this._tokenExists(t);e&&this.addToken(t);if(v){v(e);}return e;};o.prototype._tokenExists=function(t){var e=this.getTokens(),p=e.length,s=t&&t.getKey();if(!s){return false;}for(var i=0;i<p;i++){if(e[i].getKey()===s){return true;}}return false;};o.prototype._convertTextToToken=function(t,C){var e=this.getAggregation("tokenizer"),O=e.getTokens().length,i=this._configureTokenOptions(t,false,C),v=i.text,p=i.item,s=i.token;if(!v){return null;}return this._validateToken({text:v,token:s,suggestionObject:p,validationCallback:this._validationCallback.bind(this,O)});};o.prototype._validateCurrentText=function(e){var t=this.getAggregation("tokenizer"),O=t.getTokens().length,i=this._configureTokenOptions(this.getValue(),e),v=i.text,p=i.item,s=i.token;if(!v){return null;}if(p){this._bTokenIsAdded=true;}if(!this.getMaxTokens()||this.getTokens().length<this.getMaxTokens()){this._bIsValidating=true;this.addValidateToken({text:v,token:s,suggestionObject:p,validationCallback:this._validationCallback.bind(this,O)});}};o.prototype._configureTokenOptions=function(v,e,p){var i,t;if(v&&this.getEditable()){v=v.trim();}if(v&&(e||p||this._getIsSuggestionPopupOpen())){if(this._hasTabularSuggestions()){i=this._getSuggestionsTable().getSelectedItem();}else{i=this._getSuggestionItem(v,e);}}if(i&&i.getText&&i.getKey){t=new a({text:M.escapeSettingsValue(i.getText()),key:i.getKey()});}return{text:v,item:i,token:t};};o.prototype._getAsyncValidationCallback=function(v,V,i,s,e){var t=this;return function(p){if(p){p=t.addValidateToken({text:i,token:p,suggestionObject:s,validationCallback:e},v.slice(V+1));}else{e&&e(false);}};};o.prototype.getFormFormattedValue=function(){return this.getTokens().map(function(t){return t.getText();}).join(", ");};o.prototype.getFormValueProperty=function(){return"_semanticFormValue";};o.prototype.updateFormValueProperty=function(){this.setProperty("_semanticFormValue",this.getFormFormattedValue(),true);};return o;});
sap.ui.predefine('sap/m/MultiInputRenderer',['./InputRenderer','sap/ui/core/Renderer',"sap/ui/core/Core"],function(I,R,C){"use strict";var M=R.extend(I);M.apiVersion=2;M.prependInnerContent=function(r,c){r.renderControl(c.getAggregation("tokenizer"));};M.addOuterClasses=function(r,c){I.addOuterClasses.apply(this,arguments);r.class("sapMMultiInput");if(c.getTokens().length>0){r.class("sapMMultiInputHasTokens");}};M.getAriaDescribedBy=function(c){var a=I.getAriaDescribedBy.apply(this,arguments),i=c.getAggregation("tokenizer")&&c.getAggregation("tokenizer").getTokensInfoId();if(a){a=a+" "+i;}else{a=i;}return a;};M.getAccessibilityState=function(c){var a=I.getAccessibilityState.apply(this,arguments),r=C.getLibraryResourceBundle("sap.m");a.roledescription=r.getText("MULTIINPUT_ARIA_ROLE_DESCRIPTION");return a;};return M;},true);
sap.ui.predefine('sap/m/NewsContent',['./library','sap/ui/core/Control','sap/m/Text','sap/m/FormattedText','sap/ui/Device','./NewsContentRenderer',"sap/ui/events/KeyCodes"],function(l,C,T,F,D,N,K){"use strict";var a=C.extend("sap.m.NewsContent",{metadata:{library:"sap.m",designtime:"sap/m/designtime/NewsContent.designtime",properties:{"size":{type:"sap.m.Size",group:"Misc",defaultValue:"Auto",deprecated:true},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"_contentText",aggregations:{"_contentText":{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},"_subHeaderText":{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"}},events:{"press":{}}}});a.prototype.init=function(){this._oContentText=new F(this.getId()+"-content-text");this._oSubHeaderText=new F(this.getId()+"-subheader-text");this.setAggregation("_contentText",this._oContentText,true);this.setAggregation("_subHeaderText",this._oSubHeaderText,true);this.setTooltip("{AltText}");};a.prototype.onBeforeRendering=function(){this._setPointerOnContentText();this.$().off("mouseenter");this.$().off("mouseleave");};a.prototype.onAfterRendering=function(){this.$().on("mouseenter",this._addTooltip.bind(this));this.$().on("mouseleave",this._removeTooltip.bind(this));};a.prototype._addTooltip=function(){this.$().attr("title",this.getTooltip_AsString());};a.prototype._removeTooltip=function(){this.$().attr("title",null);};a.prototype._setPointerOnContentText=function(){var t=this.getAggregation("_contentText");if(t&&this.hasListeners("press")){t.addStyleClass("sapMPointer");}else if(t&&t.hasStyleClass("sapMPointer")){t.removeStyleClass("sapMPointer");}};a.prototype.getAltText=function(){var A="";var i=true;if(this.getContentText()){A+=this.getContentText();i=false;}if(this.getSubheader()){if(i){A+=""+this.getSubheader();}else{A+="\n"+this.getSubheader();}}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var s=this.getAltText();if(typeof t==="string"||t instanceof String){s=t.split("{AltText}").join(s).split("((AltText))").join(s);return s;}if(t){return t;}else{return"";}};a.prototype.setContentText=function(t){this._oContentText.setHtmlText(t);return this.setProperty("contentText",t,true);};a.prototype.setSubheader=function(t){this._oSubHeaderText.setHtmlText(t);return this.setProperty("subheader",t,true);};a.prototype.ontap=function(e){if(D.browser.msie){this.$().trigger("focus");}this.firePress();};a.prototype.onkeydown=function(e){if(e.which===K.ENTER||e.which===K.SPACE){this.firePress();e.preventDefault();}};a.prototype.attachEvent=function(e,d,f,b){C.prototype.attachEvent.call(this,e,d,f,b);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");this._setPointerOnContentText();}return this;};a.prototype.detachEvent=function(e,f,b){C.prototype.detachEvent.call(this,e,f,b);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");this._setPointerOnContentText();}return this;};return a;});
sap.ui.predefine('sap/m/NewsContentRenderer',[],function(){"use strict";var N={apiVersion:2};N.render=function(r,c){var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.openStart("div",c);r.attr("role","presentation");r.attr("aria-label",t);r.class("sapMNwC");if(c.hasListeners("press")){r.class("sapMPointer");r.attr("tabindex","0");}r.openEnd();r.openStart("div");r.class("sapMNwCCTxt");r.openEnd();r.renderControl(c._oContentText);r.close("div");r.openStart("div",c.getId()+"-subheader");r.class("sapMNwCSbh");r.openEnd();r.renderControl(c._oSubHeaderText);r.close("div");r.close("div");};return N;},true);
sap.ui.predefine('sap/m/NotificationList',["./ListBase","./NotificationListRenderer"],function(L,N){'use strict';var a=L.extend('sap.m.NotificationList',{metadata:{library:'sap.m'}});a.prototype.onItemFocusIn=function(){};return a;});
sap.ui.predefine('sap/m/NotificationListGroup',['./library','sap/ui/core/Core','./NotificationListBase','sap/ui/core/InvisibleText','./ListItemBase','sap/ui/core/IconPool','sap/ui/core/library','sap/ui/Device','sap/m/Button','./NotificationListGroupRenderer',"sap/ui/events/KeyCodes"],function(l,C,N,I,L,a,c,D,B,b,K){'use strict';var P=c.Priority;var d=l.ButtonType;var R=C.getLibraryResourceBundle('sap.m'),E=R.getText('NOTIFICATION_LIST_GROUP_EXPAND'),e=R.getText('NOTIFICATION_LIST_GROUP_COLLAPSE'),f=R.getText('NOTIFICATION_LIST_GROUP_READ'),U=R.getText('NOTIFICATION_LIST_GROUP_UNREAD'),g='sap-icon://slim-arrow-right',h='sap-icon://slim-arrow-down';var m=D.system.desktop?400:100;var i=N.extend('sap.m.NotificationListGroup',{metadata:{library:'sap.m',properties:{collapsed:{type:'boolean',group:'Behavior',defaultValue:false},autoPriority:{type:'boolean',group:'Behavior',defaultValue:true},showEmptyGroup:{type:'boolean',group:'Behavior',defaultValue:false},enableCollapseButtonWhenEmpty:{type:'boolean',group:'Behavior',defaultValue:false},showItemsCounter:{type:'boolean',group:'Behavior',defaultValue:true},authorName:{type:'string',group:'Appearance',defaultValue:'',deprecated:true},authorPicture:{type:'sap.ui.core.URI',multiple:false,deprecated:true},datetime:{type:'string',group:'Appearance',defaultValue:'',deprecated:true}},defaultAggregation:'items',aggregations:{items:{type:'sap.m.NotificationListItem',multiple:true,singularName:'item'},_collapseButton:{type:'sap.m.Button',multiple:false,visibility:"hidden"}},events:{onCollapse:{parameters:{collapsed:{type:'boolean'}}}}}});i.prototype._getCollapseButton=function(){var k=this.getAggregation('_collapseButton'),n=this.getCollapsed();if(!k){k=new B(this.getId()+'-collapseButton',{type:d.Transparent,press:function(){var o=!this.getCollapsed();this.setCollapsed(o);this.fireOnCollapse({collapsed:o});this.getAggregation("_collapseButton").focus();}.bind(this)});this.setAggregation("_collapseButton",k,true);}k.setIcon(n?g:h);k.setTooltip(n?E:e);return k;};i.prototype.init=function(){this._groupTitleInvisibleText=new I({id:this.getId()+"-invisibleGroupTitleText"});};i.prototype.exit=function(){N.prototype.exit.apply(this,arguments);if(this._groupTitleInvisibleText){this._groupTitleInvisibleText.destroy();this._groupTitleInvisibleText=null;}};i.prototype.getVisibleItems=function(){var v=this.getItems().filter(function(k){return k.getVisible();});return v;};i.prototype._getVisibleItemsCount=function(){return this.getVisibleItems().length;};i.prototype._getGroupTitleInvisibleText=function(){var r=this.getUnread()?U:f,p,k=this.getPriority(),n,o=[r];if(k!==P.None){p=R.getText('NOTIFICATION_LIST_GROUP_PRIORITY',k);o.push(p);}if(this.getShowItemsCounter()){n=R.getText("LIST_ITEM_COUNTER",[this._getVisibleItemsCount()]);o.push(n);}return this._groupTitleInvisibleText.setText(o.join(' '));};i.prototype.getPriority=function(){if(!this.getAutoPriority()){return this.getProperty('priority');}var n=this.getAggregation('items');var p=P.None;if(n){n.forEach(function(k){p=j(p,k.getPriority());});}else{p=this.getProperty('priority');}return p;};function j(k,s){if(k==s){return k;}if((k=='None')){return s;}if((k=='Low')&&(s!='None')){return s;}if((k=='Medium')&&(s!='None'&&s!='Low')){return s;}return k;}i.prototype.onBeforeRendering=function(){N.prototype.onBeforeRendering.apply(this,arguments);this._getCollapseButton().setVisible(this.getEnableCollapseButtonWhenEmpty()||this._getVisibleItemsCount()>0);};i.prototype._isMaxNumberReached=function(){return this.getItems().length>m;};i.prototype._getMaxNumberReachedMsg=function(){return{title:R.getText('NOTIFICATION_LIST_GROUP_MAX_NOTIFICATIONS_TITLE',this.getItems().length-m),description:R.getText('NOTIFICATION_LIST_GROUP_MAX_NOTIFICATIONS_BODY')};};return i;});
sap.ui.predefine('sap/m/NotificationListGroupRenderer',["sap/ui/core/library","sap/ui/core/InvisibleRenderer","sap/ui/Device"],function(c,I,D){'use strict';var N={apiVersion:2};var P=c.Priority;N.render=function(r,a){if(!a.getVisible()){I.render(r,a,a.TagName);return false;}if(!a.getItems().length&&!a.getShowEmptyGroup()){return false;}var i=a.getCollapsed(),p=a.getPriority(),s=a.getShowItemsCounter(),b=a.getUnread(),v=a._getVisibleItemsCount(),m,C=a.getId(),g=C+'-groupTitle',d=C+'-invisibleGroupTitleText',A=g+' '+d;r.openStart('li',a).class('sapMLIB').class('sapMNLIB').class('sapMNLGroup');if(i){r.class('sapMNLGroupCollapsed');}if(b){r.class('sapMNLGroupUnread');}r.attr('tabindex','0');r.accessibilityState(a,{role:"listitem",expanded:!a.getCollapsed(),labelledby:{value:A}});r.openEnd();r.openStart('div').class('sapMNLGroupHeader').openEnd();r.openStart('div').class('sapMNLIItem').class('sapMNLGroupCollapseButton').openEnd();r.renderControl(a._getCollapseButton());r.close('div');if(p!==P.None){r.openStart('div').class('sapMNLIBPriority').class('sapMNLIBPriority'+p).openEnd();r.renderControl(a._getPriorityIcon());r.close('div');}r.openStart('div',C+'-groupTitle').class('sapMNLIItem').class('sapMNLGroupTitle').openEnd();r.text(a.getTitle());r.close('div');if(s){r.openStart('div').class('sapMNLGroupCount').openEnd();r.text('('+v+')');r.close('div');}r.openStart('div').class('sapMNLGroupHeaderSpacer').openEnd().close('div');r.openStart('div').class('sapMNLIItem').class('sapMNLIActions');if(!a._shouldRenderOverflowToolbar()||(i&&!D.system.phone)){r.style('display','none');}r.openEnd();if(a._shouldRenderOverflowToolbar()){r.renderControl(a._getOverflowToolbar());}r.close('div');if(a._shouldRenderCloseButton()){r.openStart('div').class('sapMNLIItem').class('sapMNLICloseBtn').openEnd();r.renderControl(a._getCloseButton());r.close('div');}r.renderControl(a._getGroupTitleInvisibleText());r.close('div');r.openStart('ul').class('sapMNLGroupChildren').attr('role','list').openEnd();a.getItems().forEach(function(e){r.renderControl(e);});if(a._isMaxNumberReached()){m=a._getMaxNumberReachedMsg();r.openStart('div').class('sapMNLGroupMaxNotifications').openEnd();r.openStart('div').class('sapMNLGroupMNTitle').openEnd();r.text(m.title);r.close('div');r.openStart('div').class('sapMNLGroupMNDescription').openEnd();r.text(m.description);r.close('div');r.close('div');}r.close('ul');r.close('li');};return N;},true);
sap.ui.predefine('sap/m/NotificationListRenderer',['sap/ui/core/Renderer','./ListBaseRenderer'],function(R,L){"use strict";var N=R.extend(L);N.apiVersion=2;N.getAriaRole=function(c){return"list";};return N;},true);
sap.ui.predefine('sap/m/ObjectAttribute',['./library','sap/ui/core/Control','sap/ui/core/library','sap/m/Text','sap/ui/events/KeyCodes','./ObjectAttributeRenderer','sap/base/Log','sap/ui/base/ManagedObjectObserver','sap/ui/core/Core'],function(l,C,c,T,K,O,L,M,a){"use strict";var b=c.TextDirection;var E=l.EmptyIndicatorMode;var d=C.extend("sap.m.ObjectAttribute",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectAttribute.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},active:{type:"boolean",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:b.Inherit}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:false},_textControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{press:{parameters:{domRef:{type:"string"}}}},dnd:{draggable:true,droppable:false}}});d.prototype.init=function(){this.setAggregation('_textControl',new T());};d.prototype.exit=function(){if(this._oCustomContentObserver){this._oCustomContentObserver.disconnect();this._oCustomContentObserver=null;}if(this._oCustomContentCloning){this._oCustomContentCloning.destroy();}};d.prototype._getUpdatedTextControl=function(){var A=this._oCustomContentCloning||this.getAggregation('_textControl'),t=this.getTitle(),s=this.getAggregation('customContent')?this.getAggregation('customContent').getText():this.getText(),e=this.getTextDirection(),p=this.getParent(),P=sap.ui.getCore().getConfiguration().getRTL(),m,w=true,o='',f=sap.ui.getCore(),r;this._bEmptyIndicatorMode=this._isEmptyIndicatorMode();if(e===b.LTR&&P){o='\u200e';}if(e===b.RTL&&!P){o='\u200f';}s=o+s+o;if(t){r=t;if(f.getConfiguration().getLocale().getLanguage().toLowerCase()==="fr"){r+=" ";}r+=": "+s;}else{r=s;}if(this._bEmptyIndicatorMode){this.getAggregation('_textControl').setProperty("emptyIndicatorMode",E.On,true);}A.setProperty('text',r,true);A.setProperty('textDirection',e,true);if(p instanceof sap.m.ObjectListItem){w=false;m=O.MAX_LINES.SINGLE_LINE;}this._setControlWrapping(A,w,m);return A;};d.prototype._isEmptyIndicatorMode=function(){var o=this.getAggregation('customContent');return o&&o.getEmptyIndicatorMode()!==E.Off&&!o.getText();};d.prototype._setControlWrapping=function(A,w,m){if(A.isA("sap.m.Link")){A.setProperty('wrapping',w,true);}if(A.isA("sap.m.Text")){A.setProperty('maxLines',m,true);}};d.prototype.ontap=function(e){var t=e.target;t=t.id?t:t.parentElement;if(this._isSimulatedLink()&&(t.id===this.getId()+"-text")){this.firePress({domRef:this.getDomRef()});}};d.prototype.onsapenter=function(e){if(this._isSimulatedLink()){this.firePress({domRef:this.getDomRef()});e.setMarked();}};d.prototype.onsapspace=function(e){e.preventDefault();};d.prototype.onkeyup=function(e){if(e.which===K.SPACE){this.onsapenter(e);}};d.prototype._isEmpty=function(){if(this.getAggregation('customContent')&&!(this.getAggregation('customContent').isA("sap.m.Link")||this.getAggregation('customContent').isA("sap.m.Text"))){L.warning("Only sap.m.Link or sap.m.Text are allowed in \"sap.m.ObjectAttribute.customContent\" aggregation");return true;}return!(this.getText().trim()||this.getTitle().trim());};d.prototype.ontouchstart=function(e){if(this._isSimulatedLink()){e.originalEvent._sapui_handledByControl=true;}};d.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("text");};d.prototype._isSimulatedLink=function(){return(this.getActive()&&this.getText()!=="")&&!this.getAggregation('customContent');};d.prototype.setCustomContent=function(o){var e=this.getCustomContent(),g=function(){return"-1";};if(o&&o.isA('sap.m.Link')){o._getTabindex=g;}if(this._oCustomContentCloning){this._oCustomContentCloning.destroy();}this._oCustomContentCloning=o&&o.clone();if(this._oCustomContentCloning&&this._oCustomContentCloning.isA('sap.m.Link')){this._oCustomContentCloning._getTabindex=g;}if(!this._oCustomContentObserver){this._oCustomContentObserver=new M(function(){this.invalidate();}.bind(this));}if(e){this._oCustomContentObserver.unobserve(e);}o&&this._oCustomContentObserver.observe(o,{properties:true});return this.setAggregation('customContent',o);};d.prototype._isClickable=function(){return(this.getActive()&&this.getText()!=="")||(this.getAggregation('customContent')&&this.getAggregation('customContent').isA('sap.m.Link'));};return d;});
sap.ui.predefine('sap/m/ObjectAttributeRenderer',["sap/ui/core/library"],function(c){"use strict";var T=c.TextDirection;var O={apiVersion:2,MAX_LINES:{SINGLE_LINE:1}};O.render=function(r,o){var p=o.getParent(),t=o.getTooltip_AsString(),s=o.getTextDirection();r.openStart("div",o);if(o._isEmpty()){r.class("sapMObjectAttributeDiv");r.class("sapUiHidden");r.openEnd();r.close("div");return;}r.class("sapMObjectAttributeDiv");if(s!==T.Inherit){r.attr("dir",s.toLowerCase());}if(o._isClickable()){r.class("sapMObjectAttributeActive");r.attr("tabindex","0");r.accessibilityState(o,{role:"link"});if(!o.getTitle()&&o.getText()){r.class("sapMObjectAttributeTextOnly");}}if(t){r.attr("title",t);}r.openEnd();if(o._isClickable()||p instanceof sap.m.ObjectHeader){this.renderActiveTitle(r,o);this.renderActiveText(r,o,p);}else{r.renderControl(o._getUpdatedTextControl());if(o._bEmptyIndicatorMode){r.renderControl(o.getAggregation("_textControl"));}}r.close("div");};O.renderActiveTitle=function(r,o){var C,R=o.getTextDirection()===T.Inherit;if(!o.getProperty("title")){return;}C=": ";r.openStart("span",o.getId()+"-title");r.class("sapMObjectAttributeTitle");r.openEnd();if(R){r.openStart("bdi");r.openEnd();}r.text(o.getProperty("title"));if(R){r.close("bdi");}r.close("span");r.openStart("span",o.getId()+"-colon");r.class("sapMObjectAttributeColon");r.openEnd();if(sap.ui.getCore().getConfiguration().getLocale().getLanguage().toLowerCase()==="fr"){C=" "+C;}r.text(C);r.close("span");};O.renderActiveText=function(r,o,p){var a=o.getAggregation("customContent"),R=o.getTextDirection()===T.Inherit;r.openStart("span",o.getId()+"-text");r.class("sapMObjectAttributeText");r.openEnd();if(a&&p){if((p instanceof sap.m.ObjectHeader)&&!o.getParent().getResponsive()){o._setControlWrapping(a,true);}else{o._setControlWrapping(a,false,O.MAX_LINES.SINGLE_LINE);}r.renderControl(a);}else{if(R){r.openStart("bdi");r.openEnd();}r.text(o.getProperty("text"));if(R){r.close("bdi");}}r.close("span");};return O;},true);
sap.ui.predefine('sap/m/ObjectHeader',['./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/library','sap/ui/core/util/ResponsivePaddingsEnablement','sap/ui/Device','sap/m/Text','sap/ui/events/KeyCodes','./ObjectHeaderRenderer','./ObjectMarker','./ObjectNumber',"sap/ui/thirdparty/jquery"],function(l,C,I,c,R,D,T,K,O,a,b,q){"use strict";var B=l.BackgroundDesign;var d=c.TextAlign;var e=l.ImageHelper;var f=l.ObjectMarkerType;var g=c.TitleLevel;var h=c.TextDirection;var V=c.ValueState;var j=l.ObjectHeaderPictureShape;var k=C.extend("sap.m.ObjectHeader",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectHeader.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null},intro:{type:"string",group:"Misc",defaultValue:null},introActive:{type:"boolean",group:"Misc",defaultValue:null},titleActive:{type:"boolean",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconActive:{type:"boolean",group:"Misc",defaultValue:null},iconAlt:{type:"string",group:"Accessibility",defaultValue:null},iconTooltip:{type:"string",group:"Accessibility",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},imageShape:{type:"sap.m.ObjectHeaderPictureShape",group:"Appearance",defaultValue:j.Square},markFavorite:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},markFlagged:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},showMarkers:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},showTitleSelector:{type:"boolean",group:"Misc",defaultValue:false},numberState:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:V.None},condensed:{type:"boolean",group:"Appearance",defaultValue:false},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance"},responsive:{type:"boolean",group:"Behavior",defaultValue:false},fullScreenOptimized:{type:"boolean",group:"Appearance",defaultValue:false},titleHref:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},titleTarget:{type:"string",group:"Behavior",defaultValue:null},introHref:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},introTarget:{type:"string",group:"Behavior",defaultValue:null},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:h.Inherit},introTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:h.Inherit},numberTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:h.Inherit},titleSelectorTooltip:{type:"string",group:"Misc",defaultValue:"Options"},titleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:g.H1}},defaultAggregation:"attributes",aggregations:{attributes:{type:"sap.m.ObjectAttribute",multiple:true,singularName:"attribute"},firstStatus:{type:"sap.m.ObjectStatus",multiple:false,deprecated:true},secondStatus:{type:"sap.m.ObjectStatus",multiple:false,deprecated:true},statuses:{type:"sap.ui.core.Control",multiple:true,singularName:"status"},_objectNumber:{type:"sap.m.ObjectNumber",multiple:false,visibility:"hidden"},additionalNumbers:{type:"sap.m.ObjectNumber",multiple:true,singularName:"additionalNumber"},headerContainer:{type:"sap.m.ObjectHeaderContainer",multiple:false},markers:{type:"sap.m.ObjectMarker",multiple:true,singularName:"marker"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{titlePress:{parameters:{domRef:{type:"object"}}},introPress:{parameters:{domRef:{type:"object"}}},iconPress:{parameters:{domRef:{type:"object"}}},titleSelectorPress:{parameters:{domRef:{type:"object"}}}},dnd:{draggable:false,droppable:true}}});k._getResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m");};R.call(k.prototype,{header:{selector:".sapMOH, .sapMOHR"}});k.prototype.init=function(){this._oTitleArrowIcon=I.createControlByURI({id:this.getId()+"-titleArrow",src:I.getIconURI("arrow-down"),decorative:false,visible:false,tooltip:k._getResourceBundle().getText("OH_SELECT_ARROW_TOOLTIP"),size:"1.375rem",press:function(E){}});this._fNumberWidth=undefined;this._titleText=new T(this.getId()+"-titleText");this._titleText.setMaxLines(3);this._initResponsivePaddingsEnablement();};k.prototype.insertAttribute=function(A,i){var r=this.insertAggregation("attributes",A,i);this._registerControlListener(A);return r;};k.prototype.addAttribute=function(A){var r=this.addAggregation("attributes",A);this._registerControlListener(A);return r;};k.prototype.removeAttribute=function(A){var r=this.removeAggregation("attributes",A);this._deregisterControlListener(r);return r;};k.prototype.removeAllAttributes=function(){var A=this.removeAllAggregation("attributes");A.forEach(this._deregisterControlListener,this);return A;};k.prototype.destroyAttributes=function(){var A=this.getAggregation("attributes");if(A!==null){A.forEach(this._deregisterControlListener,this);}return this.destroyAggregation("attributes");};k.prototype.insertStatus=function(s,i){var r=this.insertAggregation("statuses",s,i);this._registerControlListener(s);return r;};k.prototype.addStatus=function(s){var r=this.addAggregation("statuses",s);this._registerControlListener(s);return r;};k.prototype.removeStatus=function(s){var r=this.removeAggregation("statuses",s);this._deregisterControlListener(r);return r;};k.prototype.removeAllStatuses=function(){var s=this.removeAllAggregation("statuses");s.forEach(this._deregisterControlListener,this);return s;};k.prototype.destroyStatuses=function(){var s=this.getAggregation("statuses");if(s!==null){s.forEach(this._deregisterControlListener,this);}return this.destroyAggregation("statuses");};k.prototype._registerControlListener=function(o){if(o){o.attachEvent("_change",this.invalidate,this);}};k.prototype._deregisterControlListener=function(o){if(o){o.detachEvent("_change",this.invalidate,this);}};k.prototype.setCondensed=function(i){this.setProperty("condensed",i);if(this.getCondensed()){this._oTitleArrowIcon.setSize("1rem");}else{this._oTitleArrowIcon.setSize("1.375rem");}return this;};k.prototype.setNumber=function(n){this.setProperty("number",n);this._getObjectNumber().setNumber(n);return this;};k.prototype.setNumberUnit=function(u){this.setProperty("numberUnit",u);this._getObjectNumber().setUnit(u);return this;};k.prototype.setNumberState=function(s){this.setProperty("numberState",s);this._getObjectNumber().setState(s);return this;};k.prototype.setTitleSelectorTooltip=function(t){this.setProperty("titleSelectorTooltip",t);this._oTitleArrowIcon.setTooltip(t);return this;};k.prototype.setMarkFavorite=function(m){return this._setOldMarkers(f.Favorite,m);};k.prototype.setMarkFlagged=function(m){return this._setOldMarkers(f.Flagged,m);};k.prototype.setShowMarkers=function(m){var M,A=this.getMarkers(),i;this.setProperty("showMarkers",m);for(i=0;i<A.length;i++){M=A[i].getType();if((M===f.Flagged&&this.getMarkFlagged())||(M===f.Favorite&&this.getMarkFavorite())){A[i].setVisible(m);}}return this;};k.prototype._setOldMarkers=function(m,M){var A=this.getMarkers(),H=false,i,o={Flagged:"-flag",Favorite:"-favorite"};this.setProperty("mark"+m,M,false);if(!this.getShowMarkers()){M=false;}for(i=0;i<A.length;i++){if(A[i].getType()===m){H=true;A[i].setVisible(M);break;}}if(!H){this.insertAggregation("markers",new a({id:this.getId()+o[m],type:m,visible:M}));}return this;};k.prototype._getVisibleMarkers=function(){var A=this.getMarkers(),v=[],i;for(i=0;i<A.length;i++){if(A[i].getVisible()){v.push(A[i]);}}return v;};k.prototype._getObjectNumber=function(){var o=this.getAggregation("_objectNumber");if(!o){o=new b(this.getId()+"-number",{emphasized:false});this.setAggregation("_objectNumber",o,true);}return o;};k.prototype.getFocusDomRef=function(){if(this.getResponsive()){return this.$("txt")[0];}else{return this.$("title")[0];}};k.prototype.ontap=function(E){var s=E.target.id;if(this.getIntroActive()&&s===this.getId()+"-intro"){if(!this.getIntroHref()){this.fireIntroPress({domRef:window.document.getElementById(s)});}}else if(!this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-title"||q(E.target).parent().attr('id')===this.getId()+"-title"||s===this.getId()+"-titleText-inner")){if(!this.getTitleHref()){E.preventDefault();s=this.getId()+"-title";this.fireTitlePress({domRef:window.document.getElementById(s)});}}else if(this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-txt"||q(E.target).parent().attr('id')===this.getId()+"-txt")){if(!this.getTitleHref()){E.preventDefault();s=this.getId()+"-txt";this.fireTitlePress({domRef:window.document.getElementById(s)});}}else if(s===this.getId()+"-titleArrow"){this.fireTitleSelectorPress({domRef:window.document.getElementById(s)});}else if(s.indexOf(this.getId())!==-1){E.setMarked();E.preventDefault();}};k.prototype._handleSpaceOrEnter=function(E){var s=E.target.id;E.setMarked();if(!this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-title"||q(E.target).parent().attr('id')===this.getId()+"-title"||s===this.getId()+"-titleText-inner")){s=this.getId()+"-title";if(!this.getTitleHref()){E.preventDefault();this.fireTitlePress({domRef:(s?window.document.getElementById(s):null)});}else{if(E.type==="sapspace"){this._linkClick(E,s);}}}else if(this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-txt"||q(E.target).parent().attr('id')===this.getId()+"-txt")){s=this.getId()+"-txt";if(!this.getTitleHref()){E.preventDefault();this.fireTitlePress({domRef:(s?window.document.getElementById(s):null)});}else{if(E.type==="sapspace"){this._linkClick(E,s);}}}else if(this.getIntroActive()&&s===this.getId()+"-intro"){if(!this.getIntroHref()){this.fireIntroPress({domRef:(s?window.document.getElementById(s):null)});}}else if(s===this.getId()+"-titleArrow"){this.fireTitleSelectorPress({domRef:(s?window.document.getElementById(s):null)});}};k.prototype.onkeyup=function(E){if(E.which===K.SPACE){this._handleSpaceOrEnter(E);}};k.prototype.onsapenter=k.prototype._handleSpaceOrEnter;k.prototype._linkClick=function(E,s){E.setMarked();var o=document.createEvent('MouseEvents');o.initEvent('click',false,true);((s?window.document.getElementById(s):null)).dispatchEvent(o);};k.prototype._onOrientationChange=function(){var i=this.getId();if(D.system.tablet&&this.getFullScreenOptimized()&&(this._hasAttributes()||this._hasStatus())){this._rerenderStates();}if(D.system.phone){if(D.orientation.portrait){if(this.getTitle().length>50){this._rerenderTitle(50);}if(this.getIcon()){q(document.getElementById(i+"-titlediv")).removeClass("sapMOHRTitleIcon");q(document.getElementById(i+"-titleIcon")).addClass("sapMOHRHideIcon");}}else{if(D.orientation.landscape){if(this.getTitle().length>80){this._rerenderTitle(80);}if(this.getIcon()){q(document.getElementById(i+"-titlediv")).addClass("sapMOHRTitleIcon");q(document.getElementById(i+"-titleIcon")).removeClass("sapMOHRHideIcon");}}}this._adjustNumberDiv();}this._adjustIntroDiv();};k.prototype._rerenderTitle=function(n){var r=sap.ui.getCore().createRenderManager();this.getRenderer()._rerenderTitle(r,this,n);r.destroy();};k.prototype._rerenderStates=function(){var r=sap.ui.getCore().createRenderManager();this.getRenderer()._rerenderResponsiveStates(r,this);r.destroy();};k.prototype.exit=function(){if(!D.system.phone){this._detachMediaContainerWidthChange(this._rerenderOHR,this,D.media.RANGESETS.SAP_STANDARD);}if(D.system.tablet||D.system.phone){D.orientation.detachHandler(this._onOrientationChange,this);}if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=undefined;}if(this._oTitleArrowIcon){this._oTitleArrowIcon.destroy();this._oTitleArrowIcon=undefined;}if(this._titleText){this._titleText.destroy();this._titleText=undefined;}if(this._introText){this._introText.destroy();this._introText=undefined;}};k.prototype._getImageControl=function(){var i=this.getId()+"-img";var s="2.5rem";var p=q.extend({src:this.getIcon(),tooltip:this.getIconTooltip(),alt:this.getIconAlt()||k._getResourceBundle().getText("OH_ARIA_ICON"),useIconTooltip:false,densityAware:this.getIconDensityAware(),decorative:false},I.isIconURI(this.getIcon())?{size:s}:{});if(this.getIconActive()){p.press=function(E){this.fireIconPress({domRef:E.getSource().getDomRef()});}.bind(this);p.decorative=false;}this._oImageControl=e.getImageControl(i,this._oImageControl,this,p);return this._oImageControl;};k.prototype.onBeforeRendering=function(){if(D.system.tablet||D.system.phone){D.orientation.detachHandler(this._onOrientationChange,this);}if(!D.system.phone){this._detachMediaContainerWidthChange(this._rerenderOHR,this,D.media.RANGESETS.SAP_STANDARD);}if(this._introText){this._introText.destroy();this._introText=undefined;}};k.prototype.onAfterRendering=function(){var o=this.getAggregation("_objectNumber");var p=sap.ui.getCore().getConfiguration().getRTL();var $=this.$("titleArrow");$.attr("role","button");if(this.getResponsive()){this._adjustIntroDiv();if(o&&o.getNumber()){if(D.system.desktop&&q('html').hasClass("sapUiMedia-Std-Desktop")&&this.getFullScreenOptimized()&&this._iCountVisAttrStat>=1&&this._iCountVisAttrStat<=3){o.setTextAlign(p?d.Right:d.Left);}else{o.setTextAlign(p?d.Left:d.Right);}}this._adjustNumberDiv();if(D.system.tablet||D.system.phone){D.orientation.attachHandler(this._onOrientationChange,this);}if(!D.system.phone){this._attachMediaContainerWidthChange(this._rerenderOHR,this,D.media.RANGESETS.SAP_STANDARD);}}else{var t=p?d.Left:d.Right;if(o&&o.getNumber()){o.setTextAlign(t);}if(this.getAdditionalNumbers()){this._setTextAlignANum(t);}}};k.prototype._rerenderOHR=function(){this.invalidate();};k.prototype._adjustNumberDiv=function(){var i=this.getId();var o=this.getAggregation("_objectNumber");var p=sap.ui.getCore().getConfiguration().getRTL();if(o&&o.getNumber()){var $=q(document.getElementById(i+"-number"));var m=q(document.getElementById(i+"-titlediv"));if(this._isMediaSize("Phone")){if($.hasClass("sapMObjectNumberBelowTitle")){o.setTextAlign(p?d.Left:d.Right);$.removeClass("sapMObjectNumberBelowTitle");m.removeClass("sapMOHRTitleDivFull");}var n=$.parent().width()*0.4;if($.outerWidth()>n){o.setTextAlign(p?d.Right:d.Left);$.addClass("sapMObjectNumberBelowTitle");m.addClass("sapMOHRTitleDivFull");}}}};k.prototype._adjustIntroDiv=function(){var i=this.getId();var $=q(document.getElementById(i+"-txt"));var m=q(document.getElementById(i+"-titleArrow"));var n=q(document.getElementById(i+"-intro"));if(n.parent().hasClass("sapMOHRIntroMargin")){n.parent().removeClass("sapMOHRIntroMargin");}if(m.height()!==null&&($.height()<m.height())){n.parent().addClass("sapMOHRIntroMargin");}};k._escapeId=function(i){return i?"#"+i.replace(/(:|\.)/g,'\\$1'):"";};k.prototype._hasBottomContent=function(){return(this._hasAttributes()||this._hasStatus()||this._hasMarkers());};k.prototype._hasIcon=function(){return!!this.getIcon().trim();};k.prototype._hasAttributes=function(){var m=this.getAttributes();if(m&&m.length>0){for(var i=0;i<m.length;i++){if(!m[i]._isEmpty()){return true;}}}return false;};k.prototype._hasStatus=function(){var H=((this.getFirstStatus()&&!this.getFirstStatus()._isEmpty())||(this.getSecondStatus()&&!this.getSecondStatus()._isEmpty()));if(!H&&this.getStatuses()&&this.getStatuses().length>0){var s=this.getStatuses();for(var i=0;i<s.length;i++){if(s[i]instanceof sap.m.ObjectStatus&&!s[i]._isEmpty()){H=true;break;}else if(s[i]instanceof sap.m.ProgressIndicator){H=true;break;}}}return H;};k.prototype._hasMarkers=function(){var m=this.getMarkers(),H=this.getShowMarkers()&&(this.getMarkFavorite()||this.getMarkFlagged()),i=m&&m.length;return(H||i);};k.prototype._getDefaultBackgroundDesign=function(){if(this.getCondensed()){return B.Solid;}else{if(this.getResponsive()){return B.Translucent;}else{return B.Transparent;}}};k.prototype._getBackground=function(){if(this.getBackgroundDesign()===undefined){return this._getDefaultBackgroundDesign();}else{return this.getBackgroundDesign();}};k.prototype._setTextAlignANum=function(t){var n=this.getAdditionalNumbers();for(var i=0;i<n.length;i++){n[i].setTextAlign(t);}};k.prototype._isMediaSize=function(r){return this._getCurrentMediaContainerRange(D.media.RANGESETS.SAP_STANDARD).name===r;};return k;});
sap.ui.predefine('sap/m/ObjectHeaderRenderer',['sap/ui/core/Control','sap/ui/core/library','sap/m/library','sap/ui/Device',"sap/base/Log",'sap/m/Link','sap/m/Text',"sap/ui/thirdparty/jquery","sap/ui/util/defaultLinkTypes"],function(C,c,l,D,L,a,T,q,d){"use strict";var b=c.TextDirection;var B=l.BackgroundDesign;var e=c.TitleLevel;var O={apiVersion:2};O._isEmptyObject=function(o){if(!o){return true;}if((!o._isEmpty||!o._isEmpty())&&(!o.getVisible||o.getVisible())){return false;}return true;};O._isEmptyArray=function(A){if(A){for(var i=0;i<A.length;i++){if(!O._isEmptyObject(A[i])){return false;}}}return true;};O._isEmptyRow=function(o,r){return O._isEmptyObject(o)&&O._isEmptyArray(r);};O._renderObjects=function(r,o,f){for(var i=0;i<o.length;i++){if(o[i]instanceof C){this._renderChildControl(r,f,o[i]);}}};O._computeChildControlsToBeRendered=function(o){o.__controlsToBeRendered={};var f=o.getAttributes();for(var i=0;i<f.length;i++){o.__controlsToBeRendered[f[i].getId()]=f[i];}f=o.getStatuses();for(var i=0;i<f.length;i++){o.__controlsToBeRendered[f[i].getId()]=f[i];}var g=o.getFirstStatus();if(g){o.__controlsToBeRendered[g.getId()]=g;}g=o.getSecondStatus();if(g){o.__controlsToBeRendered[g.getId()]=g;}g=o.getAggregation("_objectNumber");if(g){o.__controlsToBeRendered[g.getId()]=g;}};O._cleanupNotRenderedChildControls=function(r,o){for(var i in o.__controlsToBeRendered){r.cleanupControlWithoutRendering(o.__controlsToBeRendered[i]);}delete o.__controlsToBeRendered;};O._getMarkers=function(o){return o._getVisibleMarkers();};O._renderIntro=function(r,o,i,I){if(o.getIntroActive()){o._introText=new a(o.getId()+"-intro");o._introText.setText(o.getIntro());o._introText.setHref(o.getIntroHref());o._introText.setTarget(o.getIntroTarget());o._introText.press=o.introPress;}else{o._introText=new T(o.getId()+"-intro");o._introText.setText(o.getIntro());o._introText.setMaxLines(3);}o._introText.setTextDirection(o.getIntroTextDirection());r.openStart("div");r.class(i);if(o.getIntroActive()){r.class(I);}r.openEnd();this._renderChildControl(r,o,o._introText);r.close("div");};O._renderAttribute=function(r,o,A,f){r.openStart("div");r.class("sapMOHAttr");if(f){r.style("width","100%");}r.openEnd();this._renderChildControl(r,o,A);r.close("div");};O._getVisibleStatuses=function(o){var v=[];if(o.getFirstStatus()&&o.getFirstStatus().getVisible()){v.push([o.getFirstStatus()]);}if(o.getSecondStatus()&&o.getSecondStatus().getVisible()){v.push([o.getSecondStatus()]);}if(o.getStatuses()){var s=o.getStatuses();for(var i=0;i<s.length;i++){if(!s[i].getVisible||s[i].getVisible()){if((s[i]instanceof sap.m.ObjectStatus&&!s[i]._isEmpty())||s[i]instanceof sap.m.ProgressIndicator){v.push([s[i]]);}else{L.warning("Only sap.m.ObjectStatus or sap.m.ProgressIndicator are allowed in \"sap.m.ObjectHeader.statuses\" aggregation."+" Current object is "+s[i].constructor.getMetadata().getName()+" with id \""+s[i].getId()+"\"");}}}}return v;};O._getVisibleAttribsAndStatuses=function(o){var r=[],A=o.getAttributes(),v=[];for(var j=0;j<A.length;j++){if(A[j].getVisible()&&!A[j]._isEmpty()){v.push(A[j]);}}var V=this._getVisibleStatuses(o);r[0]=v;r[1]=V;return r;};O._renderRow=function(r,o,f,R){if(O._isEmptyRow(f,R)){return;}r.openStart("div");r.class("sapMOHAttrRow");r.openEnd();if(!O._isEmptyObject(f)){this._renderAttribute(r,o,f,O._isEmptyArray(R));}else if(O._isEmptyObject(f)&&!O._isEmptyArray(R)){if(R[0]instanceof sap.m.ProgressIndicator){r.openStart("div");r.class("sapMOHAttr");r.openEnd();r.close("div");}}if(!O._isEmptyArray(R)){r.openStart("div");if(R[0]instanceof sap.m.ProgressIndicator){r.class("sapMOHStatusFixedWidth");}else if(R[0]instanceof sap.m.ObjectMarker){r.class("sapMOHStatusFixedWidth");r.class("sapMObjStatusMarker");}else{r.class("sapMOHStatus");}r.openEnd();O._renderObjects(r,R,o);r.close("div");}r.close("div");};O._renderAttributesAndStatuses=function(r,o){var A=o.getAttributes();var v=[];for(var j=0;j<A.length;j++){if(A[j].getVisible()){v.push(A[j]);}}var i=v.length;var m=[];var M=O._getMarkers(o);if(!o.getResponsive()&&!O._isEmptyArray(M)){m.push(M);}var V=this._getVisibleStatuses(o);m=m.concat(V);var f=m.length;var n=i>f?i:f;if(!o.getResponsive()){for(var g=0;g<n;g++){this._renderRow(r,o,v[g],m[g]);}}};O._renderNumber=function(r,o){var n=o.getAdditionalNumbers();if(!o.getNumber()&&(n&&!n.length)){return;}r.openStart("div",o.getId()+"-numberdiv");r.class("sapMOHNumberDiv");r.openEnd();var f=o.getAggregation("_objectNumber");if(f&&f.getNumber()){f.setTextDirection(o.getNumberTextDirection());this._renderChildControl(r,o,f);}r.close("div");if(!o.getCondensed()){this._renderAdditionalNumbers(r,o);}};O._renderAdditionalNumbers=function(r,o){var n=o.getAdditionalNumbers();if(n&&!n.length){return;}if(n.length===1){r.openStart("div");r.class("additionalOHNumberSeparatorDiv");r.openEnd();r.close("div");}for(var i=0;i<n.length;i++){r.openStart("div",o.getId()+"-additionalNumber"+i);r.class("sapMOHNumberDiv");r.class("additionalOHNumberDiv");if(n.length===1){r.class("sapMOHOnlyANumber");}r.openEnd();n[i].setTextDirection(o.getNumberTextDirection());this._renderChildControl(r,o,n[i]);r.close("div");}};O._renderTitle=function(r,o){o._oTitleArrowIcon.setVisible(o.getShowTitleSelector());if(o.getShowTitleSelector()&&o._oTitleArrowIcon.getVisible()){r.openStart("div");r.class("sapMOHTitleAndArrow");r.openEnd();}if(o.getTitle()){var t=(o.getTitleLevel()===e.Auto)?e.H1:o.getTitleLevel();t=t.toLowerCase();o._titleText.setText(o.getTitle());o._titleText.setTextDirection(o.getTitleTextDirection());if(o.getTitleActive()){r.openStart("a",o.getId()+"-title");if(o.getTitleHref()){r.attr("href",o.getTitleHref());if(o.getTitleTarget()){r.attr("target",o.getTitleTarget());r.attr("rel",d('',o.getTitleTarget()));}}r.accessibilityState({role:"link"});}else{r.openStart("div",o.getId()+"-title");}r.class("sapMOHTitle");if(o.getTitleActive()){r.attr("tabindex","0");r.class("sapMOHTitleActive");}if(o.getShowTitleSelector()){r.class("sapMOHTitleFollowArrow");}r.openEnd();r.openStart(t);r.openEnd();this._renderChildControl(r,o,o._titleText);r.close(t);if(o.getTitleActive()){r.close("a");}else{r.close("div");}}if(o.getShowTitleSelector()){r.openStart("span");r.class("sapMOHTitleArrow");r.openEnd();this._renderChildControl(r,o,o._oTitleArrowIcon);r.close("span");}if(o.getShowTitleSelector()&&o._oTitleArrowIcon.getVisible()){r.close("div");}};O._renderFullTitle=function(r,o){var n=o.getAdditionalNumbers();if(!o.getNumber()&&(n&&!n.length)){r.class("sapMOHTitleDivFull");}};O._renderFullOH=function(r,o){if(o.getIntro()){this._renderIntro(r,o,"sapMOHIntro","sapMOHIntroActive");}r.openStart("div");r.class("sapMOHTopRow");r.openEnd();r.openStart("div",o.getId()+"-titlediv");r.class("sapMOHTitleDiv");if(o._hasIcon()){r.class("sapMOHTitleIcon");}this._renderFullTitle(r,o);r.openEnd();if(o._hasIcon()){r.openStart("div");r.class("sapMOHIcon");r.class('sapMOHIcon'+o.getImageShape());if(o.getIconActive()){r.class("sapMPointer");}r.openEnd();this._renderChildControl(r,o,o._getImageControl());r.close("div");}this._renderTitle(r,o);r.close("div");this._renderNumber(r,o);r.openStart("div");r.class("sapMOHDivider");r.openEnd();r.close("div");r.close("div");if(o._hasBottomContent()){r.openStart("div");r.class("sapMOHBottomRow");r.openEnd();this._renderAttributesAndStatuses(r,o);r.openStart("div");r.class("sapMOHDivider");r.openEnd();r.close("div");r.close("div");}};O._renderCondensedOH=function(r,o){r.openStart("div",o.getId()+"-titlediv");r.class("sapMOHTitleDiv");this._renderFullTitle(r,o);r.openEnd();this._renderTitle(r,o);r.close("div");this._renderNumber(r,o);var f=o.getAttributes()[0];if(f&&!f._isEmpty()){this._renderAttribute(r,o,f);}};O.render=function(r,o){if(o.getResponsive()){this._renderResponsive(r,o);return;}this._computeChildControlsToBeRendered(o);var f=o.getCondensed();r.openStart("div",o);r.openEnd();r.openStart("div");r.class("sapMOH");if(o._getBackground()!==B.Transparent){r.class("sapContrastPlus");}if(f){r.class("sapMOHC");}r.class("sapMOHBg"+o._getBackground());var t=o.getTooltip_AsString();if(t){r.attr("title",t);}var A={role:"region"};if(o.getTitle()){A.labelledby={value:o.getId()+"-titleText-inner",append:true};}r.accessibilityState(o,A);r.openEnd();if(f){this._renderCondensedOH(r,o);}else{this._renderFullOH(r,o);}r.openStart("div");r.class("sapMOHLastDivider");r.openEnd();r.close("div");r.close("div");r.close("div");this._cleanupNotRenderedChildControls(r,o);};O._renderChildControl=function(r,o,f){r.renderControl(f);if(!o.getResponsive()&&o.__controlsToBeRendered){o.__controlsToBeRendered[f.getId()]=undefined;}};O._renderResponsive=function(r,o){var s=this._hasResponsiveStates(o),t=this._hasResponsiveTabs(o),h=o.getHeaderContainer();r.openStart("div",o);r.class("sapMOHROuter");var f=o.getTooltip_AsString();if(f){r.attr("title",f);}r.accessibilityState({role:"region",labelledby:{value:o.getId()+"-txt",append:true}});r.openEnd();r.openStart("div");r.class("sapMOHR");if(o._getBackground()!==B.Transparent){r.class("sapContrastPlus");}if(t){r.class("sapMOHRNoBorder");}r.class("sapMOHRBg"+o._getBackground());r.openEnd();r.openStart("div");if(D.system.desktop&&o._isMediaSize("Desktop")&&o.getFullScreenOptimized()&&o._iCountVisAttrStat>=1&&o._iCountVisAttrStat<=3){r.class("sapMOHRStatesOneOrThree");}r.openEnd();this._renderResponsiveTitleBlock(r,o);if(s){this._renderResponsiveStates(r,o);}r.close("div");if(t){this._renderResponsiveTabs(r,o);}r.close("div");if(h&&h instanceof sap.m.IconTabBar){this._renderChildControl(r,o,h);}r.close("div");if(!o.getTitle()){if(!o.getBinding("title")){L.warning("The title shouldn't be empty!");}}};O._renderResponsiveTitleBlock=function(r,o){r.openStart("div",o.getId()+"-titlenumdiv");r.class("sapMOHRTitleNumberDiv");r.openEnd();r.openStart("div",o.getId()+"-titlediv");r.class("sapMOHRTitleDiv");if(o._hasIcon()){if(D.system.phone||o._isMediaSize("Phone")){if(D.orientation.landscape||(o._isMediaSize("Phone")&&!D.system.phone)){r.class("sapMOHRTitleIcon");}}else{r.class("sapMOHRTitleIcon");}}if(!o.getNumber()){r.class("sapMOHRTitleDivFull");}r.openEnd();this._renderResponsiveTitle(r,o);if(o._hasIcon()){r.openStart("div",o.getId()+"-titleIcon");r.class("sapMOHRIcon");r.class('sapMOHRIcon'+o.getImageShape());if((D.system.phone&&D.orientation.portrait)){r.class("sapMOHRHideIcon");}if(o.getIconActive()){r.class("sapMPointer");}r.openEnd();this._renderChildControl(r,o,o._getImageControl());r.close("div");}r.close("div");this._renderResponsiveNumber(r,o);r.close("div");};O._renderResponsiveStates=function(r,o){r.openStart("div",o.getId()+"-states");r.class("sapMOHRStates");r.openEnd();this._renderResponsiveRow(r,o);r.close("div");};O._renderResponsiveRow=function(r,o){var v=[];v=this._getVisibleAttribsAndStatuses(o);var V=v[0].concat(v[1]),i=v[0].length,f=V.length,R=1,s='';if(f===0){return;}if(D.system.desktop){if(!o.getFullScreenOptimized()){if(f>=1&&f<=4){R=2;s='sapMOHRTwoCols';}if(f>=5){R=3;s='sapMOHRThreeCols';}}else{if(f>=1&&f<=3){R=1;s='sapMOHROneCols';}if(f>=4){R=4;s='sapMOHRFourCols';}}}if((D.system.tablet&&!D.system.desktop)||(D.system.desktop&&o._isMediaSize("Tablet"))){if(!o.getFullScreenOptimized()||(D.orientation.portrait&&o.getFullScreenOptimized())){R=2;s='sapMOHRTwoCols';}else{if(o.getFullScreenOptimized()&&(D.orientation.landscape||(D.system.desktop&&o._isMediaSize("Tablet")))){if(f>=1&&f<=2){R=2;s='sapMOHRTwoCols';}if(f>=3){R=3;s='sapMOHRThreeCols';}}}}if(D.system.phone||(D.system.desktop&&o._isMediaSize("Phone"))){R=1;s='sapMOHROneCols';}this._renderResponsiveStatesColumn(r,o,R,V,i,s);};O._renderResponsiveStatesColumn=function(r,o,R,v,f,s){var g=Math.floor(v.length/R);var h=v.length%R;var j=0;var k=1;for(var i=0;i<v.length;i++){if(j==0){r.openStart("div");r.class("sapMOHRStatesCont"+k);r.class(s);r.openEnd();}if(i<f){this._renderResponsiveAttribute(r,o,v[i]);}else{this._renderResponsiveStatus(r,o,v[i]);}j++;if((j==g&&k>h)||(j==(g+1)&&k<=h)||i==v.length-1){r.close("div");j=0;k++;}}};O._renderResponsiveAttribute=function(r,o,A){r.openStart("div");r.class("sapMOHRAttr");r.openEnd();this._renderChildControl(r,o,A);r.close("div");};O._renderResponsiveStatus=function(r,o,s){r.openStart("div");r.class("sapMOHRStatus");r.openEnd();this._renderChildControl(r,o,s[0]);r.close("div");};O._renderResponsiveMarkers=function(r,o){var m=[],t=o.getTitleTextDirection(),p=sap.ui.getCore().getConfiguration().getRTL();m=o._getVisibleMarkers();r.openStart("span",o.getId()+"-markers");r.class("sapMObjStatusMarker");if((t===b.LTR&&p)||(t===b.RTL&&!p)){r.class("sapMObjStatusMarkerOpposite");}r.openEnd();for(var i=0;i<m.length;i++){this._renderChildControl(r,o,m[i]);}r.close("span");};O._renderResponsiveNumber=function(r,o){var f=o.getAggregation("_objectNumber");if(f&&f.getNumber()){f.setTextDirection(o.getNumberTextDirection());this._renderChildControl(r,o,f);}};O._hasResponsiveStates=function(o){var A=o.getAttributes(),v=[];if(!(o._hasAttributes()||o._hasStatus())){o._iCountVisAttrStat=0;return false;}for(var j=0;j<A.length;j++){if(A[j].getVisible()){v.push(A[j]);}}var V=this._getVisibleStatuses(o);o._iCountVisAttrStat=v.length+V.length;return!!(v.length+V.length);};O._hasResponsiveTabs=function(o){var h=o.getHeaderContainer(),i;if(h){if(h instanceof sap.m.IconTabBar){i=h._getIconTabHeader();if(i.getVisible()){o._iCountVisTabs=i.getItems().length;return!!i.getItems().length;}}else if(h.getMetadata().getName()==="sap.m.HeaderContainer"){return!!h.getContent().length;}else if(h.getMetadata().getName()==="sap.suite.ui.commons.HeaderContainer"){return!!h.getItems().length;}}return false;};O._renderResponsiveTabs=function(r,o){var h=o.getHeaderContainer(),i;r.openStart("div");r.class("sapMOHRTabs");if(h instanceof sap.m.IconTabBar){r.class("sapMOHRTabsITB");}r.openEnd();if(h){if(h instanceof sap.m.IconTabBar){i=h._getIconTabHeader();this._renderChildControl(r,o,i);h._bHideHeader=true;}else if(h.getMetadata().getName()==="sap.m.HeaderContainer"||h.getMetadata().getName()==="sap.suite.ui.commons.HeaderContainer"){this._renderChildControl(r,o,h);}else{L.warning("The control "+h+" is not supported for aggregation \"headerContainer\"");}}r.close("div");};O._renderResponsiveTitle=function(r,o){var n;o._oTitleArrowIcon.setVisible(o.getShowTitleSelector());r.openStart("div",o.getId()+"-title");r.class("sapMOHRTitle");if(o.getTitle().length&&o.getTitleActive()){r.class("sapMOHRTitleActive");}if(o.getShowTitleSelector()){r.class("sapMOHRTitleFollowArrow");}r.openEnd();if((D.system.phone&&D.orientation.portrait)){n=50;}else{n=80;}r.openStart("div",o.getId()+"-title-arrow");r.style("display","inline-block");r.openEnd();this._renderResponsiveTitleAndArrow(r,o,n);r.close("div");if(o.getIntro()){this._renderIntro(r,o,"sapMOHRIntro","sapMOHRIntroActive");}r.close("div");};O._rerenderTitle=function(r,o,n){var i=o.getId();this._renderResponsiveTitleAndArrow(r,o,n);r.flush(q(document.getElementById(i+"-title-arrow")));};O._renderResponsiveTitleAndArrow=function(r,o,n){var s,E='',t=o.getTitleTextDirection();var m=!!o._getVisibleMarkers().length;var f=(o.getTitleLevel()===e.Auto)?e.H1:o.getTitleLevel();f=f.toLowerCase();r.openStart(f);r.openEnd();r.openStart("span");r.class("sapMOHRTitleTextContainer");if(t!=b.Inherit){r.attr("dir",t.toLowerCase());}r.openEnd();if(o.getTitle().length&&o.getTitleActive()){r.openStart("a",o.getId()+"-txt");if(o.getTitleHref()){r.attr("href",o.getTitleHref());if(o.getTitleTarget()){r.attr("target",o.getTitleTarget());r.attr("rel",d('',o.getTitleTarget()));}}r.attr("tabindex","0");r.accessibilityState({role:"link"});}else{r.openStart("span",o.getId()+"-txt");}r.class("sapMOHRTitleText");r.openEnd();r.openStart("span",o.getId()+"-titletxtwrap");r.class("sapMOHRTitleTextWrappable");r.openEnd();if(o.getTitle().length>n){s=o.getTitle().substr(0,n).trim();E='...';}else{s=o.getTitle();}if(m){var g=s.substr(s.lastIndexOf(" ")+1);var h=s.substr(0,s.lastIndexOf(" ")+1);if(g.length===1){g=s;h='';}r.text(h);r.close("span");r.text(g);r.text(E);if(o.getTitleActive()){r.close("a");}else{r.close("span");}this._renderResponsiveMarkers(r,o);r.close("span");}else{if(!E){r.text(s);}else{r.text(s+E);}if(o.getTitleActive()){r.close("span");r.close("a");r.close("span");}else{r.close("span");r.close("span");r.close("span");}}if(o.getShowTitleSelector()){r.openStart("span");r.class("sapMOHRTitleArrow");r.openEnd();this._renderChildControl(r,o,o._oTitleArrowIcon);r.close("span");}r.close(f);};O._rerenderResponsiveStates=function(r,o){var i=o.getId(),v=this._getVisibleAttribsAndStatuses(o),V=v[0].concat(v[1]),f=v[0].length,g=V.length,R=1,s='';if(g===0){return;}if(D.orientation.portrait){R=2;s='sapMOHRTwoCols';}else{if(g>=1&&g<=2){R=2;s='sapMOHRTwoCols';}if(g>=3){R=3;s='sapMOHRThreeCols';}}this._renderResponsiveStatesColumn(r,o,R,V,f,s);r.flush(q(document.getElementById(i+"-states"))[0]);};return O;},true);
sap.ui.predefine('sap/m/ObjectIdentifier',['./library','./Link','./Text','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/InvisibleText','sap/ui/core/library','sap/ui/Device','sap/ui/base/ManagedObject','./ObjectIdentifierRenderer',"sap/ui/events/KeyCodes"],function(l,L,T,C,I,a,c,D,M,O,K){"use strict";var b=c.TextDirection;var E=l.EmptyIndicatorMode;var d=C.extend("sap.m.ObjectIdentifier",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectIdentifier.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},badgeNotes:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},badgePeople:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},badgeAttachments:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},visible:{type:"boolean",group:"Appearance",defaultValue:true},titleActive:{type:"boolean",group:"Misc",defaultValue:false},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:b.Inherit},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:E.Off}},aggregations:{_titleControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_textControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{titlePress:{parameters:{domRef:{type:"object"}}}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},dnd:{draggable:true,droppable:false}}});d.prototype.init=function(){var o=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(sap.ui.getCore().getConfiguration().getAccessibility()){d.OI_ARIA_ROLE=o.getText("OI_ARIA_ROLE");}};d.prototype.exit=function(){if(this._attachmentsIcon){this._attachmentsIcon.destroy();this._attachmentsIcon=null;}if(this._peopleIcon){this._peopleIcon.destroy();this._peopleIcon=null;}if(this._notesIcon){this._notesIcon.destroy();this._notesIcon=null;}};d.prototype._getAttachmentsIcon=function(){if(!this._attachmentsIcon){this._attachmentsIcon=this._getIcon(I.getIconURI("attachment"),this.getId()+"-attachments");}return this._attachmentsIcon;};d.prototype._getPeopleIcon=function(){if(!this._peopleIcon){this._peopleIcon=this._getIcon(I.getIconURI("group"),this.getId()+"-people");}return this._peopleIcon;};d.prototype._getNotesIcon=function(){if(!this._notesIcon){this._notesIcon=this._getIcon(I.getIconURI("notes"),this.getId()+"-notes");}return this._notesIcon;};d.prototype._getIcon=function(u,i){var s=D.system.phone?"1em":"1em";var o;o=this._icon||I.createControlByURI({src:u,id:i+"-icon",size:s,useIconTooltip:false},sap.m.Image);o.setSrc(u);return o;};d.prototype._getTitleControl=function(){var t=this.getAggregation("_titleControl"),i=this.getId(),s=M.escapeSettingsValue(this.getProperty("title"));if(!t){if(this.getProperty("titleActive")){t=new L({id:i+"-link",text:s,ariaLabelledBy:a.getStaticId("sap.m","OI_ARIA_ROLE")});t.addAssociation("ariaLabelledBy",i+"-text",true);}else{t=new T({id:i+"-txt",text:s});}this.setAggregation("_titleControl",t,true);}return t;};d.prototype._getTextControl=function(){var t=this.getAggregation("_textControl");if(!t){t=new T({text:M.escapeSettingsValue(this.getProperty("text"))});this.setAggregation("_textControl",t,true);}t.setTextDirection(this.getTextDirection());return t;};d.prototype.setTitle=function(t){if(t){this._getTitleControl().setProperty("text",t);}return this.setProperty("title",t);};d.prototype.setText=function(t){if(t){this._getTextControl().setProperty("text",t);}return this.setProperty("text",t);};d.prototype.setTitleActive=function(v){var p=this.getTitleActive();this.setProperty("titleActive",v);if(p!=v){this.destroyAggregation("_titleControl");this._getTitleControl();}return this;};d.prototype._handlePress=function(e){var o=e.target;if(this.getTitleActive()&&this.$("title")[0].firstChild==o){this.fireTitlePress({domRef:o});e.setMarked();}};d.prototype.onsapenter=function(e){d.prototype._handlePress.apply(this,arguments);};d.prototype.onkeyup=function(e){if(e&&e.which===K.SPACE){d.prototype._handlePress.apply(this,arguments);}};d.prototype.ontap=function(e){d.prototype._handlePress.apply(this,arguments);};d.prototype.addAssociation=function(A,i,s){var t=this.getAggregation("_titleControl");if(A==="ariaLabelledBy"){if(this.getTitleActive()&&t instanceof sap.m.Link){t.addAssociation("ariaLabelledBy",i,true);}}return C.prototype.addAssociation.apply(this,arguments);};d.prototype.removeAssociation=function(A,o,s){var t=this.getAggregation("_titleControl");if(A==="ariaLabelledBy"){if(this.getTitleActive()&&t instanceof sap.m.Link){t.removeAssociation("ariaLabelledBy",o,true);}}return C.prototype.removeAssociation.apply(this,arguments);};d.prototype.getAccessibilityInfo=function(){var t=this.getAggregation("_titleControl")?this.getAggregation("_titleControl").getAccessibilityInfo():{type:"",description:""},o=(d.OI_ARIA_ROLE+" "+(t.type||"")).trim();if(this.getTitle()||this.getText()){t.type=o;}t.description=t.description+" "+this.getText();return t;};d.prototype._hasTopRow=function(){return this.getTitle()||this.getBadgeNotes()||this.getBadgePeople()||this.getBadgeAttachments();};return d;});
sap.ui.predefine('sap/m/ObjectIdentifierRenderer',['./library','sap/ui/core/Core'],function(l,C){"use strict";var O={apiVersion:2};var E=l.EmptyIndicatorMode;var r=C.getLibraryResourceBundle("sap.m");O.render=function(R,o){var t;if(!o.getVisible()){return;}R.openStart("div",o);R.class("sapMObjectIdentifier");t=o.getTooltip_AsString();if(t){R.attr("title",t);}R.openEnd();R.openStart("div");R.class("sapMObjectIdentifierTopRow");if(!o._hasTopRow()){R.style("display","none");}R.openEnd();R.openStart("div",o.getId()+"-title");R.class("sapMObjectIdentifierTitle");R.openEnd();if(o.getTitle()){R.renderControl(o._getTitleControl());}R.close("div");R.openStart("div");R.class("sapMObjectIdentifierIcons");R.openEnd();if(o.getBadgeAttachments()){R.openStart("span");R.class("sapMObjectIdentifierIconSpan");R.openEnd();R.renderControl(o._getAttachmentsIcon());R.close("span");}if(o.getBadgeNotes()){R.openStart("span");R.class("sapMObjectIdentifierIconSpan");R.openEnd();R.renderControl(o._getNotesIcon());R.close("span");}if(o.getBadgePeople()){R.openStart("span");R.class("sapMObjectIdentifierIconSpan");R.openEnd();R.renderControl(o._getPeopleIcon());R.close("span");}R.close("div");R.close("div");if(o.getEmptyIndicatorMode()!==E.Off&&!o.getText()){this.renderEmptyIndicator(R,o);}else{R.openStart("div",o.getId()+"-text");R.class("sapMObjectIdentifierText");if(o.getProperty("text")&&o.getProperty("title")){R.class("sapMObjectIdentifierTextBellow");}R.openEnd();if(o.getText()){R.renderControl(o._getTextControl());}R.close("div");}R.close("div");};O.renderEmptyIndicator=function(R,o){R.openStart("span");R.class("sapMEmptyIndicator");if(o.getEmptyIndicatorMode()===E.Auto){R.class("sapMEmptyIndicatorAuto");}R.openEnd();R.openStart("span");R.attr("aria-hidden",true);R.openEnd();R.text(r.getText("EMPTY_INDICATOR"));R.close("span");R.openStart("span");R.class("sapUiPseudoInvisibleText");R.openEnd();R.text(r.getText("EMPTY_INDICATOR_TEXT"));R.close("span");R.close("span");};return O;},true);
sap.ui.predefine('sap/m/ObjectListItem',['sap/ui/base/ManagedObjectObserver','./ListItemBase','./library','sap/ui/core/IconPool','sap/m/ObjectNumber','sap/ui/core/library','./ObjectMarker','./Text','./ObjectListItemRenderer'],function(M,L,l,I,O,c,a,T,b){"use strict";var d=l.ObjectMarkerType;var e=l.ImageHelper;var f=c.TextAlign;var g=c.TextDirection;var V=c.ValueState;var h=L.extend("sap.m.ObjectListItem",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null},intro:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},markFavorite:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},markFlagged:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},showMarkers:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},numberState:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:V.None},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:g.Inherit},introTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:g.Inherit},numberTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:g.Inherit},markLocked:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true}},defaultAggregation:"attributes",aggregations:{attributes:{type:"sap.m.ObjectAttribute",multiple:true,singularName:"attribute"},firstStatus:{type:"sap.m.ObjectStatus",multiple:false},secondStatus:{type:"sap.m.ObjectStatus",multiple:false},markers:{type:"sap.m.ObjectMarker",multiple:true,singularName:"marker"},_objectNumber:{type:"sap.m.ObjectNumber",multiple:false,visibility:"hidden"}},designtime:"sap/m/designtime/ObjectListItem.designtime",dnd:{draggable:true,droppable:true}}});h.prototype.init=function(E){this._generateObjectNumber();this._observerObjectItemChanges=this._observerObjectItemChanges.bind(this);this._oItemsObservers={};};h.prototype.exit=function(E){if(this._oImageControl){this._oImageControl.destroy();}if(this._oTitleText){this._oTitleText.destroy();this._oTitleText=undefined;}L.prototype.exit.apply(this);};h.prototype.onAfterRendering=function(){var o=this.getAggregation("_objectNumber"),p=sap.ui.getCore().getConfiguration().getRTL(),t=p?f.Left:f.Right;if(o&&o.getNumber()){o.setTextAlign(t);}};h.prototype._generateObjectNumber=function(){var n=this.getNumber(),N=this.getNumberUnit(),s=this.getNumberState(),t=this.getNumberTextDirection();this.setAggregation("_objectNumber",new O(this.getId()+"-ObjectNumber",{number:n,unit:N,state:s,textDirection:t}),true);};h.prototype._hasAttributes=function(){var j=this.getAttributes();if(j.length>0){for(var i=0;i<j.length;i++){if(!j[i]._isEmpty()){return true;}}}return false;};h.prototype._hasStatus=function(){return((this.getFirstStatus()&&!this.getFirstStatus()._isEmpty())||(this.getSecondStatus()&&!this.getSecondStatus()._isEmpty()));};h.prototype._hasBottomContent=function(){return(this._hasAttributes()||this._hasStatus()||this.getShowMarkers()||this.getMarkLocked()||this._getVisibleMarkers().length>0);};h.prototype._getVisibleAttributes=function(){var A=this.getAttributes();var v=[];for(var i=0;i<A.length;i++){if(A[i].getVisible()){v.push(A[i]);}}return v;};h.prototype.addAttribute=function(o){this._startObservingItem(o);return L.prototype.addAggregation.call(this,"attributes",o);};h.prototype.insertAttribute=function(o,i){this._startObservingItem(o);return L.prototype.insertAggregation.call(this,"attributes",o,i);};h.prototype.removeAttribute=function(o){var i=L.prototype.removeAggregation.call(this,"attributes",o);this._stopObservingItem(i);return i;};h.prototype.removeAllAttributes=function(){var j=L.prototype.removeAllAggregation.call(this,"attributes");for(var i=0;i<j.length;i++){this._stopObservingItem(j[i]);}return j;};h.prototype.destroyAttributes=function(){this.getAttributes().forEach(function(A){this._stopObservingItem(A);},this);return L.prototype.destroyAggregation.call(this,"attributes");};h.prototype._getVisibleMarkers=function(){var A=this.getMarkers();var v=[];for(var i=0;i<A.length;i++){if(A[i].getVisible()){v.push(A[i]);}}return v;};h.prototype._getImageControl=function(){var i=this.getId()+'-img';var s="2.5rem";var p;if(I.isIconURI(this.getIcon())){p={src:this.getIcon(),height:s,width:s,size:s,useIconTooltip:false,densityAware:this.getIconDensityAware()};}else{p={src:this.getIcon(),useIconTooltip:false,densityAware:this.getIconDensityAware()};}var C=['sapMObjLIcon'];this._oImageControl=e.getImageControl(i,this._oImageControl,this,p,C);return this._oImageControl;};h.prototype._activeHandlingInheritor=function(){var A=this.getActiveIcon();if(this._oImageControl&&A){this._oImageControl.setSrc(A);}};h.prototype._inactiveHandlingInheritor=function(){var s=this.getIcon();if(this._oImageControl){this._oImageControl.setSrc(s);}};h.prototype.setNumber=function(n){this.setProperty('number',n,true);this.getAggregation("_objectNumber").setNumber(n);return this;};h.prototype.setNumberUnit=function(n){this.setProperty('numberUnit',n,true);this.getAggregation('_objectNumber').setUnit(n);return this;};h.prototype.setNumberTextDirection=function(t){this.setProperty('numberTextDirection',t,true);this.getAggregation("_objectNumber").setTextDirection(t);return this;};h.prototype.setNumberState=function(v){this.setProperty('numberState',v,true);this.getAggregation("_objectNumber").setState(v);return this;};h.prototype.setMarkFavorite=function(m){return this._setOldMarkers(d.Favorite,m);};h.prototype.setMarkFlagged=function(m){return this._setOldMarkers(d.Flagged,m);};h.prototype.setMarkLocked=function(m){return this._setOldMarkers(d.Locked,m);};h.prototype.setShowMarkers=function(m){var s;var A=this.getMarkers();this.setProperty("showMarkers",m,false);for(var i=0;i<A.length;i++){s=A[i].getType();if((s===d.Flagged&&this.getMarkFlagged())||(s===d.Favorite&&this.getMarkFavorite())||(s===d.Locked&&this.getMarkLocked())){A[i].setVisible(m);}}return this;};h.prototype.addMarker=function(o){this._startObservingItem(o);return L.prototype.addAggregation.call(this,"markers",o);};h.prototype.insertMarker=function(o,i){this._startObservingItem(o);return L.prototype.insertAggregation.call(this,"markers",o,i);};h.prototype.removeMarker=function(o){var i=L.prototype.removeAggregation.call(this,"markers",o);this._stopObservingItem(i);return i;};h.prototype.removeAllMarkers=function(){var j=L.prototype.removeAllAggregation.call(this,"markers");for(var i=0;i<j.length;i++){this._stopObservingItem(j[i]);}return j;};h.prototype.destroyMarkers=function(){this.getMarkers().forEach(function(m){this._stopObservingItem(m);},this);return L.prototype.destroyAggregation.call(this,"markers");};h.prototype._observerObjectItemChanges=function(C){if(C.current!==C.old){this.invalidate();}};h.prototype._startObservingItem=function(i){var o=new M(this._observerObjectItemChanges);this._oItemsObservers[i.getId()]=o;o.observe(i,{properties:true});return this;};h.prototype._stopObservingItem=function(i){var s=i.getId();this._oItemsObservers[s].disconnect();delete this._oItemsObservers[s];return this;};h.prototype._setOldMarkers=function(m,j){var A=this.getMarkers();var H=false;var o={Flagged:"-flag",Favorite:"-favorite",Locked:"-lock"};this.setProperty("mark"+m,j,false);if(!this.getShowMarkers()){j=false;}for(var i=0;i<A.length;i++){if(A[i].getType()===m){H=true;A[i].setVisible(j);break;}}if(!H){this.insertAggregation("markers",new a({id:this.getId()+o[m],type:m,visible:j}));}return this;};h.prototype._getTitleText=function(){if(!this._oTitleText){this._oTitleText=new T(this.getId()+"-titleText",{maxLines:2});this._oTitleText.setParent(this,null,true);}return this._oTitleText;};return h;});
sap.ui.predefine('sap/m/ObjectListItemRenderer',['./ListItemBaseRenderer','sap/ui/core/Renderer','sap/ui/core/library','sap/ui/Device'],function(L,R,c,D){"use strict";var T=c.TextDirection;var O=R.extend(L);O.apiVersion=2;O.renderAttributeStatus=function(r,l,a,s){if(!a&&!s||(a&&a._isEmpty()&&s&&s._isEmpty())){return;}r.openStart("div");r.class("sapMObjLAttrRow");r.openEnd();if(a&&!a._isEmpty()){r.openStart("div");r.class("sapMObjLAttrDiv");if(s&&(!s._isEmpty())){if(s instanceof Array){r.class("sapMObjAttrWithMarker");}}if(!s||s._isEmpty()){r.style("width","100%");}r.openEnd();r.renderControl(a);r.close("div");}if(s&&!s._isEmpty()){r.openStart("div");r.class("sapMObjLStatusDiv");if(s instanceof Array&&s.length>0){r.class("sapMObjStatusMarker");}if(!a||a._isEmpty()){r.style("width","100%");}r.openEnd();if(s instanceof Array){while(s.length>0){r.renderControl(s.shift());}}else{r.renderControl(s);}r.close("div");}r.close("div");};O.renderLIAttributes=function(r,l){r.class("sapMObjLItem");r.class("sapMObjLListModeDiv");};O.renderLIContent=function(r,l){var o=l.getAggregation("_objectNumber"),t=l.getTitleTextDirection(),i=l.getIntroTextDirection();if(l.getIntro()){r.openStart("div",l.getId()+"-intro");r.class("sapMObjLIntro");r.openEnd();r.openStart("span");if(i!==T.Inherit){r.attr("dir",i.toLowerCase());}r.openEnd();r.text(l.getIntro());r.close("span");r.close("div");}r.openStart("div");r.class("sapMObjLTopRow");r.openEnd();if(l.getIcon()){r.openStart("div");r.class("sapMObjLIconDiv");r.openEnd();r.renderControl(l._getImageControl());r.close("div");}r.openStart("div");r.class("sapMObjLNumberDiv");r.openEnd();if(o&&o.getNumber()){o.setTextDirection(l.getNumberTextDirection());r.renderControl(o);}r.close("div");r.openStart("div");r.style("display","-webkit-box");r.style("overflow","hidden");r.openEnd();var a=l._getTitleText();if(a){a.setTextDirection(t);a.setText(l.getTitle());a.addStyleClass("sapMObjLTitle");r.renderControl(a);}r.close("div");r.close("div");r.openStart("div");r.style("clear","both");r.openEnd();r.close("div");if(l._hasBottomContent()){r.openStart("div");r.class("sapMObjLBottomRow");r.openEnd();var A=l._getVisibleAttributes();var s=[];var m=l._getVisibleMarkers();m._isEmpty=function(){return!(m.length);};if(!m._isEmpty()){s.push(m);}s.push(l.getFirstStatus());s.push(l.getSecondStatus());while(A.length>0){this.renderAttributeStatus(r,l,A.shift(),s.shift());}while(s.length>0){this.renderAttributeStatus(r,l,null,s.shift());}r.close("div");}};O.getAriaLabelledBy=function(l){var a=[],f=l.getFirstStatus(),s=l.getSecondStatus();if(l.getIntro()){a.push(l.getId()+"-intro");}if(l.getTitle()){a.push(l.getId()+"-titleText");}if(l.getNumber()){a.push(l.getId()+"-ObjectNumber");}if(l.getAttributes()){l.getAttributes().forEach(function(b){if(!b._isEmpty()){a.push(b.getId());}});}if(f&&!f._isEmpty()){a.push(f.getId());}if(s&&!s._isEmpty()){a.push(s.getId());}if(l.getMarkers()){l.getMarkers().forEach(function(m){a.push(m.getId()+"-text");});}return a.join(" ");};return O;},true);
sap.ui.predefine('sap/m/ObjectMarker',["sap/ui/core/Control","sap/ui/core/Renderer","sap/ui/Device","sap/m/library","sap/ui/core/library","sap/ui/core/Icon","sap/m/TextRenderer","sap/m/Text","sap/m/LinkRenderer","sap/m/Link","./ObjectMarkerRenderer"],function(C,R,D,l,c,I,T,a,L,b,O){"use strict";var d=c.TextAlign;var e=l.ObjectMarkerVisibility;var f=C.extend("sap.m.ObjectMarker",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectMarker.designtime",properties:{type:{type:"sap.m.ObjectMarkerType",group:"Misc"},visibility:{type:"sap.m.ObjectMarkerVisibility",group:"Misc"},additionalInfo:{type:"string",group:"Misc",defaultValue:""}},aggregations:{_innerControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{type:{type:"sap.m.ObjectMarkerType"}}},dnd:{draggable:true,droppable:false}}});f.M_PREDEFINED_TYPES={Flagged:{icon:{src:"sap-icon://flag",visibility:{small:true,large:true}},text:{value:"OM_FLAG",visibility:{small:false,large:false}}},Favorite:{icon:{src:"sap-icon://favorite",visibility:{small:true,large:true}},text:{value:"OM_FAVORITE",visibility:{small:false,large:false}}},Draft:{icon:{src:"sap-icon://request",visibility:{small:false,large:false}},text:{value:"OM_DRAFT",visibility:{small:true,large:true}}},Locked:{icon:{src:"sap-icon://private",visibility:{small:true,large:true}},text:{value:"OM_LOCKED",visibility:{small:false,large:true}}},Unsaved:{icon:{src:"sap-icon://user-edit",visibility:{small:true,large:true}},text:{value:"OM_UNSAVED",visibility:{small:false,large:true}}},LockedBy:{icon:{src:"sap-icon://private",visibility:{small:true,large:true}},text:{value:"OM_LOCKED_BY",visibility:{small:false,large:true}}},UnsavedBy:{icon:{src:"sap-icon://user-edit",visibility:{small:true,large:true}},text:{value:"OM_UNSAVED_BY",visibility:{small:false,large:true}}}};f.prototype.init=function(){D.media.initRangeSet("DeviceSet",[600],"px",["small","large"]);};f.prototype.onAfterRendering=function(){this._attachMediaContainerWidthChange(this._handleMediaChange,this,"DeviceSet");};f.prototype.onBeforeRendering=function(){this._cleanup();this._adjustControl(true);};f.prototype.exit=function(){this._cleanup();};f.prototype.attachPress=function(){var o=this._getInnerControl();Array.prototype.unshift.apply(arguments,["press"]);C.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")&&o&&o instanceof h){o.destroy();this.setAggregation("_innerControl",this._createCustomLink(),true);this._adjustControl();}return this;};f.prototype.detachPress=function(){var o=this._getInnerControl();Array.prototype.unshift.apply(arguments,["press"]);C.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")&&o&&o instanceof j){o.destroy();this.setAggregation("_innerControl",this._createCustomText(),true);this._adjustControl();}return this;};f.prototype._cleanup=function(){this._detachMediaContainerWidthChange(this._handleMediaChange,this,"DeviceSet");};f.prototype._handleMediaChange=function(){this._adjustControl();};f.prototype._adjustControl=function(s){var t=f.M_PREDEFINED_TYPES[this.getType()],o=this._getInnerControl(),k=o&&o._getIconAggregation(),A=this.getAdditionalInfo(),m=this._isIconVisible(),n=this._isTextVisible(),p=m&&!n,q=this.getType(),r;if(!o){return false;}if(t){r=this._getMarkerText(t,q,A);}if(m){o.setIcon(t.icon.src,s);k.setDecorative(!p);k.setAlt(r);k.setUseIconTooltip(false);this.addStyleClass("sapMObjectMarkerIcon");}else{o.setIcon(null,s);this.removeStyleClass("sapMObjectMarkerIcon");}if(n){o.setAggregation("tooltip",null,s);o.setText(r,s);this.addStyleClass("sapMObjectMarkerText");}else{if(k){o.setAggregation("tooltip",r,s);}o.setText(null,s);this.removeStyleClass("sapMObjectMarkerText");}o.removeAllAssociation("ariaLabelledBy",s);o.removeAllAssociation("ariaDescribedBy",s);this.getAriaLabelledBy().forEach(function(u){o.addAssociation("ariaLabelledBy",u,s);});this.getAriaDescribedBy().forEach(function(u){o.addAssociation("ariaDescribedBy",u,s);});return true;};f.prototype._getMarkerText=function(t,s,A){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");switch(s){case"LockedBy":return(A==="")?r.getText('OM_LOCKED_BY_ANOTHER_USER'):r.getText('OM_LOCKED_BY',[A]);case"UnsavedBy":return(A==="")?r.getText('OM_UNSAVED_BY_ANOTHER_USER'):r.getText('OM_UNSAVED_BY',[A]);default:return(A==="")?r.getText(t.text.value):r.getText(t.text.value)+" "+A;}};f.prototype._isIconVisible=function(){var t=f.M_PREDEFINED_TYPES[this.getType()],v=this.getVisibility(),s=this._getDeviceType(),k=t&&t.icon.visibility[s]||false;return v===e.IconOnly||v===e.IconAndText||(v!==e.TextOnly&&k);};f.prototype._isTextVisible=function(){var t=f.M_PREDEFINED_TYPES[this.getType()],v=this.getVisibility(),s=this._getDeviceType(),k=t&&t.text.visibility[s]||false;return v===e.TextOnly||v===e.IconAndText||(v!==e.IconOnly&&k);};f.prototype._getDeviceType=function(){return this._getCurrentMediaContainerRange("DeviceSet").name.toLowerCase();};f.prototype._getInnerControl=function(){var o=this.getAggregation("_innerControl");if(!o&&this.getType()){o=this._createInnerControl();this.setAggregation("_innerControl",o,true);this._adjustControl(true);}return o;};f.prototype._createInnerControl=function(){if(this.hasListeners("press")){return this._createCustomLink();}else{return this._createCustomText();}};f.prototype._createCustomLink=function(){var o=new j(this.getId()+"-link",{wrapping:true});o.attachPress(function(E){this.firePress({type:this.getType()});},this);return o;};f.prototype._createCustomText=function(){return new h(this.getId()+"-text",{textAlign:d.Initial});};["getAccessibilityInfo"].map(function(F){var k=/^add/.test(F);f.prototype[F]=function(){var o=this._getInnerControl(),r;if(o&&o[F]){r=o[F].apply(o,arguments);}return k?this:r;};});var g=R.extend(T);g.apiVersion=2;g.renderText=function(r,o){r.renderControl(o._getIconAggregation());T.renderText(r,o);};var h=a.extend("sap.m.internal.ObjectMarkerCustomText",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null}},aggregations:{_iconControl:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:g});h.prototype.setIcon=function(s,S){var o=this._getIconAggregation();this.setProperty("icon",s,S);o.setSrc(s);return this;};h.prototype._getIconAggregation=function(){var o=this.getAggregation("_iconControl");if(!o){o=new I();this.setAggregation("_iconControl",o,true);}return o;};var i=R.extend(L);i.apiVersion=2;i.renderText=function(r,o){r.renderControl(o._getIconAggregation());L.renderText(r,o);};var j=b.extend("sap.m.internal.ObjectMarkerCustomLink",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null}},aggregations:{_iconControl:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:i});j.prototype.setIcon=function(s,S){var o=this._getIconAggregation();this.setProperty("icon",s,S);o.setSrc(s);return this;};j.prototype._getTabindex=function(){return"0";};j.prototype._getIconAggregation=function(){var o=this.getAggregation("_iconControl");if(!o){o=new I();this.setAggregation("_iconControl",o,true);}return o;};return f;});
sap.ui.predefine('sap/m/ObjectMarkerRenderer',[],function(){"use strict";var O={apiVersion:2};O.render=function(r,c){r.openStart("span",c);r.class("sapMObjectMarker");r.openEnd();r.renderControl(c._getInnerControl());r.close("span");};return O;},true);
sap.ui.predefine('sap/m/ObjectNumber',['./library','sap/ui/core/Control','sap/ui/core/Renderer','sap/ui/core/library',"sap/ui/core/LabelEnablement","sap/ui/events/KeyCodes",'./ObjectNumberRenderer'],function(l,C,R,c,L,K,O){"use strict";var T=c.TextAlign;var a=c.TextDirection;var V=c.ValueState;var E=l.EmptyIndicatorMode;var b=C.extend("sap.m.ObjectNumber",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",designtime:"sap/m/designtime/ObjectNumber.designtime",properties:{number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null,deprecated:true},emphasized:{type:"boolean",group:"Appearance",defaultValue:true},state:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:V.None},unit:{type:"string",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:a.Inherit},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Begin},active:{type:"boolean",group:"Misc",defaultValue:false},inverted:{type:"boolean",group:"Misc",defaultValue:false},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:E.Off}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{press:{}},dnd:{draggable:true,droppable:false}}});b.prototype._getStateText=function(){var s=this.getState(),r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return r.getText("OBJECTNUMBER_ARIA_VALUE_STATE_"+s.toUpperCase(),[],true);};b.prototype.getAccessibilityInfo=function(){var s="";if(this.getState()!==V.None){s=this._getStateText();}return{description:(this.getNumber()+" "+this.getUnit()+" "+s).trim()};};b.prototype.ontap=function(e){if(this._isClickable(e)){this.firePress();}};b.prototype.ontouchstart=function(e){if(this._isClickable(e)){e.setMarked();}};b.prototype._activeState=function(){this.addStyleClass("sapMObjectNumberPressed");};b.prototype._inactiveState=function(){this.removeStyleClass("sapMObjectNumberPressed");};b.prototype.onkeydown=function(e){if(e.which===K.SPACE||e.which===K.ENTER){e.setMarked();this._activeState();if(e.which===K.ENTER){this.firePress();}else{e.preventDefault();this._bPressedSpace=true;}}else if(this._bPressedSpace){if(e.which===K.SHIFT||e.which===K.ESCAPE){this._bPressedEscapeOrShift=true;this._inactiveState();}else{e.preventDefault();}}};b.prototype.onkeyup=function(e){if(e.which===K.ENTER){e.setMarked();this._inactiveState();}else if(e.which===K.SPACE){if(!this._bPressedEscapeOrShift){e.setMarked();this.firePress();this._inactiveState();}else{this._bPressedEscapeOrShift=false;}this._bPressedSpace=false;}else if(e.which===K.ESCAPE){this._bPressedSpace=false;}};b.prototype._isActive=function(){return this.getActive()&&(this.getNumber().trim()||this.getUnit().trim());};b.prototype._isClickable=function(e){var s=e.target.id;return this._isActive()&&(s===this.getId()+"-link"||s===this.getId()+"-number"||s===this.getId()+"-unit");};b.prototype._hasExternalLabelling=function(){return this.getAriaLabelledBy().length>0||L.getReferencingLabels(this).length>0;};b.prototype._generateSelfLabellingIds=function(){var i=this.getId(),r="";if(this.getNumber()){r+=i+"-number ";}if(this.getUnit()){r+=i+"-unit ";}if(this.getEmphasized()){r+=i+"-emphasized ";}if(this.getState()!==V.None){r+=i+"-state";}return r.trim();};return b;});
sap.ui.predefine('sap/m/ObjectNumberRenderer',['sap/ui/core/Renderer','sap/ui/core/library','./library','sap/ui/core/Core'],function(R,c,l,C){"use strict";var V=c.ValueState;var T=c.TextDirection;var _='sapMObjectNumberStatus';var E=l.EmptyIndicatorMode;var r=C.getLibraryResourceBundle("sap.m");var O={apiVersion:2};O.render=function(o,a){var t=a.getTooltip_AsString(),s=a.getTextDirection(),b=a.getTextAlign(),A={role:"group",roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("OBJECTNUMBER_NAME")};o.openStart("div",a);o.class("sapMObjectNumber");if(a._isActive()){o.class("sapMObjectNumberActive");o.attr("tabindex","0");A.role="button";}o.class(_+a.getState());if(a.getEmphasized()){o.class("sapMObjectNumberEmph");}if(a.getInverted()){o.class("sapMObjectNumberInverted");}if(t){o.attr("title",t);}if(s!==T.Inherit){o.attr("dir",s.toLowerCase());}b=R.getTextAlign(b,s);if(b){o.style("text-align",b);}if(a._hasExternalLabelling()){A["labelledby"]={value:a._generateSelfLabellingIds(),append:true};}o.accessibilityState(a,A);o.openEnd();o.openStart("span",a.getId()+"-inner");o.class("sapMObjectNumberInner");o.openEnd();if(a.getEmptyIndicatorMode()!==E.Off&&!a.getNumber()){this.renderEmptyIndicator(o,a);}else{this.renderText(o,a);this.renderUnit(o,a);}o.close("span");this.renderEmphasizedInfoElement(o,a);this.renderHiddenARIAElement(o,a);o.close("div");};O.renderText=function(o,a){var u=a.getUnit()||a.getNumberUnit();o.openStart("span",a.getId()+"-number");o.class("sapMObjectNumberText");o.openEnd();o.text(a.getNumber());if(u!==""){o.text(" ");}o.close("span");};O.renderUnit=function(o,a){var u=a.getUnit()||a.getNumberUnit();if(u!==""){o.openStart("span",a.getId()+"-unit");o.class("sapMObjectNumberUnit");o.openEnd();o.text(u);o.close("span");}};O.renderEmphasizedInfoElement=function(o,a){if(!a.getEmphasized()){return;}o.openStart("span",a.getId()+"-emphasized");o.class("sapUiPseudoInvisibleText");o.openEnd();o.text(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("OBJECTNUMBER_EMPHASIZED"));o.close("span");};O.renderHiddenARIAElement=function(o,a){if(a.getState()==V.None){return;}o.openStart("span",a.getId()+"-state");o.class("sapUiPseudoInvisibleText");o.openEnd();o.text(a._getStateText());o.close("span");};O.renderEmptyIndicator=function(o,a){o.openStart("span");o.class("sapMEmptyIndicator");if(a.getEmptyIndicatorMode()===E.Auto){o.class("sapMEmptyIndicatorAuto");}o.openEnd();o.openStart("span");o.attr("aria-hidden",true);o.openEnd();o.text(r.getText("EMPTY_INDICATOR"));o.close("span");o.openStart("span");o.class("sapUiPseudoInvisibleText");o.openEnd();o.text(r.getText("EMPTY_INDICATOR_TEXT"));o.close("span");o.close("span");};return O;},true);
sap.ui.predefine('sap/m/ObjectStatus',['./library','sap/ui/core/Control','sap/ui/core/ValueStateSupport','sap/ui/core/IndicationColorSupport','sap/ui/core/library','sap/ui/base/DataType','sap/ui/core/InvisibleText','./ObjectStatusRenderer'],function(l,C,V,I,c,D,a,O){"use strict";var b=l.ImageHelper;var T=c.TextDirection;var d=c.ValueState;var E=l.EmptyIndicatorMode;var e=C.extend("sap.m.ObjectStatus",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",designtime:"sap/m/designtime/ObjectStatus.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},active:{type:"boolean",group:"Misc",defaultValue:false},state:{type:"string",group:"Misc",defaultValue:d.None},inverted:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:E.Off}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{press:{}},dnd:{draggable:true,droppable:false}}});e.prototype._getStateText=function(s){var S;if(s!==d.None){S=V.getAdditionalText(s)?V.getAdditionalText(s):I.getAdditionalText(s);}return S;};e.prototype.exit=function(){if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null;}};e.prototype._getImageControl=function(){var i=this.getId()+'-icon',f=!this.getText()&&!this.getTitle(),p={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};if(f){p.decorative=false;p.alt=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("OBJECT_STATUS_ICON");}this._oImageControl=b.getImageControl(i,this._oImageControl,this,p);return this._oImageControl;};e.prototype.setState=function(v){if(v==null){v=d.None;}else if(!D.getType("sap.ui.core.ValueState").isValid(v)&&!D.getType("sap.ui.core.IndicationColor").isValid(v)){throw new Error('"'+v+'" is not a value of the enums sap.ui.core.ValueState or sap.ui.core.IndicationColor for property "state" of '+this);}return this.setProperty("state",v);};e.prototype.ontap=function(o){if(this._isClickable(o)){this.firePress();}};e.prototype.onsapenter=function(o){if(this._isActive()){this.firePress();o.setMarked();}};e.prototype.onsapspace=function(o){this.onsapenter(o);};e.prototype._isActive=function(){return this.getActive()&&(this.getText().trim()||this.getIcon().trim());};e.prototype._isEmpty=function(){return!(this.getText().trim()||this.getIcon().trim()||this.getTitle().trim());};e.prototype.ontouchstart=function(o){if(this._isClickable(o)){o.setMarked();}};e.prototype.getAccessibilityInfo=function(){var s=V.getAdditionalText(this.getState()),f;if(this.getState()!=d.None){s=(s!==null)?s:I.getAdditionalText(this.getState());}f=((this.getTitle()||"")+" "+(this.getText()||"")+" "+(s!==null?s:"")+" "+(this.getTooltip()||"")).trim();return{description:f+(f?" "+sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("OBJECT_STATUS"):"")};};e.prototype._isClickable=function(o){var s=o.target.id;return this._isActive()&&(s===this.getId()+"-link"||s===this.getId()+"-text"||s===this.getId()+"-statusIcon"||s===this.getId()+"-icon");};return e;});
sap.ui.predefine('sap/m/ObjectStatusRenderer',['sap/ui/core/ValueStateSupport','sap/ui/core/IndicationColorSupport','sap/ui/core/InvisibleText','sap/ui/core/library','./library','sap/ui/core/Core'],function(V,I,a,c,l,C){"use strict";var T=c.TextDirection;var E=l.EmptyIndicatorMode;var r=C.getLibraryResourceBundle("sap.m");var O={apiVersion:2};O.render=function(R,o){R.openStart("div",o);if(o._isEmpty()&&o.getEmptyIndicatorMode()===E.Off){R.style("display","none");R.openEnd();}else{var s=o.getState(),S=o._getStateText(s),i=o.getInverted(),t=o.getTextDirection(),b=sap.ui.getCore(),p=b.getConfiguration().getRTL(),A={roledescription:b.getLibraryResourceBundle("sap.m").getText("OBJECT_STATUS")},d=o.getTooltip_AsString();if(t===T.Inherit){t=p?T.RTL:T.LTR;}if(d){R.attr("title",d);}R.class("sapMObjStatus");R.class("sapMObjStatus"+s);if(i){R.class("sapMObjStatusInverted");}if(o._isActive()){R.class("sapMObjStatusActive");R.attr("tabindex","0");A.role="button";}else{A.role="group";}var e=d&&o.getAriaDescribedBy().length,f;if(e){f=o.getId()+"-tooltip";A["describedby"]={value:f,append:true};}R.accessibilityState(o,A);R.openEnd();if(e){R.openStart("span",f);R.class("sapUiInvisibleText");R.openEnd();R.text(d);R.close("span");}if(o.getTitle()){R.openStart("span",o.getId()+"-title");R.class("sapMObjStatusTitle");if(t){R.attr("dir",t.toLowerCase());}R.attr("data-colon",C.getLibraryResourceBundle("sap.m").getText("LABEL_COLON"));R.openEnd();R.text(o.getTitle());R.close("span");}if(o._isActive()){R.openStart("span",o.getId()+"-link");R.class("sapMObjStatusLink");R.openEnd();}if(o.getIcon()){R.openStart("span",o.getId()+"-statusIcon");R.class("sapMObjStatusIcon");if(!o.getText()){R.class("sapMObjStatusIconOnly");}R.openEnd();R.renderControl(o._getImageControl());R.close("span");}if(o.getText()){R.openStart("span",o.getId()+"-text");R.class("sapMObjStatusText");if(t){R.attr("dir",t.toLowerCase());}R.openEnd();R.text(o.getText());R.close("span");}else if(o.getEmptyIndicatorMode()!==E.Off&&!o.getText()){this.renderEmptyIndicator(R,o);}if(o._isActive()){R.close("span");}if(S){R.openStart("span",o.getId()+"-state");R.class("sapUiPseudoInvisibleText");R.openEnd();R.text(S);R.close("span");}}R.close("div");};O.renderEmptyIndicator=function(R,o){R.openStart("span");R.class("sapMEmptyIndicator");if(o.getEmptyIndicatorMode()===E.Auto){R.class("sapMEmptyIndicatorAuto");}R.openEnd();R.openStart("span");R.attr("aria-hidden",true);R.openEnd();R.text(r.getText("EMPTY_INDICATOR"));R.close("span");R.openStart("span");R.class("sapUiPseudoInvisibleText");R.openEnd();R.text(r.getText("EMPTY_INDICATOR_TEXT"));R.close("span");R.close("span");};return O;},true);
sap.ui.predefine('sap/m/P13nConditionPanelRenderer',['sap/ui/core/Renderer'],function(R){"use strict";return R.extend("sap.m.P13nConditionPanelRenderer",{renderer:{apiVersion:2,render:function(r,c){r.openStart("section",c);r.class("sapMConditionPanel");r.openEnd();r.openStart("div");r.class("sapMConditionPanelContent");r.class("sapMConditionPanelBG");r.openEnd();c.getAggregation("content").forEach(function(C){r.renderControl(C);});r.close("div");r.close("section");}}});},true);
sap.ui.predefine('sap/m/P13nFilterPanelRenderer',['sap/ui/core/Renderer'],function(R){"use strict";return R.extend("sap.m.P13nFilterPanelRenderer",{renderer:{apiVersion:2,render:function(r,c){r.openStart("section",c);r.class("sapMFilterPanel");r.openEnd();r.openStart("div");r.class("sapMFilterPanelContent");r.class("sapMFilterPanelBG");r.openEnd();c.getAggregation("content").forEach(function(C){r.renderControl(C);});r.close("div");r.close("section");}}});},true);
sap.ui.predefine('sap/m/PDFViewer',["./library","sap/ui/core/Control","sap/ui/Device","sap/m/PDFViewerRenderManager","sap/m/MessageBox","sap/m/PDFViewerRenderer","sap/base/Log","sap/base/assert","sap/ui/thirdparty/jquery"],function(l,C,D,P,M,a,L,b,q){"use strict";var c=l.PDFViewerDisplayType;var d=C.extend("sap.m.PDFViewer",{metadata:{library:"sap.m",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},source:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},errorMessage:{type:"string",group:"Misc",defaultValue:null,deprecated:true},errorPlaceholderMessage:{type:"string",group:"Misc",defaultValue:null},popupHeaderTitle:{type:"string",group:"Misc",defaultValue:null,deprecated:true},title:{type:"string",group:"Misc",defaultValue:null},showDownloadButton:{type:"boolean",group:"Misc",defaultValue:true},displayType:{type:"sap.m.PDFViewerDisplayType",group:"Misc",defaultValue:c.Auto}},aggregations:{errorPlaceholder:{type:"sap.ui.core.Control",multiple:false},popupButtons:{type:"sap.m.Button",multiple:true,singularName:"popupButton"}},events:{loaded:{},error:{parameters:{target:{type:"any",defaultValue:null}}},sourceValidationFailed:{}}}});d.prototype.init=function(){this._objectsRegister={};this._bIsPopupOpen=false;this._initPopupControl();this._initPopupDownloadButtonControl();this._initPlaceholderMessagePageControl();this._initToolbarDownloadButtonControl();this._initOverflowToolbarControl();this._initControlState();};d.prototype._initControlState=function(){this._bRenderPdfContent=true;};d.prototype.setWidth=function(w){this.setProperty("width",w,true);var o=this.$();if(o===null){return this;}o.css("width",this._getRenderWidth());return this;};d.prototype.setHeight=function(h){this.setProperty("height",h,true);var o=this.$();if(o===null){return this;}o.css("height",this._getRenderHeight());return this;};d.prototype.onBeforeRendering=function(){try{var i=this._getIframeDOMElement();i.off();}catch(e){L.info(e);}};d.prototype.onAfterRendering=function(){var i=function(){var I=this._getIframeDOMElement();I.on("load",this._onLoadListener.bind(this));I.on("error",this._onErrorListener.bind(this));}.bind(this);try{this.setBusy(true);i();}catch(e){L.error(e);this.setBusy(false);}};d.prototype._fireErrorEvent=function(e){this._renderErrorState();this.fireError({target:e||null});};d.prototype._renderErrorState=function(){var o=this._objectsRegister.getToolbarDownloadButtonControl();o.setEnabled(false);var o=this._objectsRegister.getPopupDownloadButtonControl();o.setEnabled(false);this.setBusy(false);this._bRenderPdfContent=false;C.prototype.invalidate.call(this);};d.prototype._fireLoadedEvent=function(){this._bRenderPdfContent=true;this.setBusy(false);try{this._getIframeDOMElement().removeClass("sapMPDFViewerLoading");}catch(e){L.fatal("Iframe not founded in loaded event");L.fatal(e);}this.fireEvent("loaded");};d.prototype._onLoadListener=function(e){try{var t=q(e.target),f=true;var s="application/pdf";try{var E=t[0].contentWindow.document.embeds;f=!!E&&E.length===1;if(f){s=E[0].attributes.getNamedItem("type").value;}}catch(g){if(!D.browser.firefox&&this.fireEvent("sourceValidationFailed",{},true)){this._showMessageBox();return;}}if(f&&a._isSupportedMimeType(s)&&a._isPdfPluginEnabled()){this._fireLoadedEvent();}else{this._fireErrorEvent(e.target);}}catch(g){L.fatal(false,"Fatal error during the handling of load event happened.");L.fatal(false,g.message);}};d.prototype._onErrorListener=function(){this._fireErrorEvent();};d.prototype.downloadPDF=function(){var w=window.open(this.getSource());w.opener=null;w.focus();};d.prototype._onSourceValidationErrorMessageBoxCloseListener=function(o){if(o===M.Action.CANCEL){this._renderErrorState();}else{this._fireLoadedEvent();}};d.prototype._onAfterPopupClose=function(e){var p=this._objectsRegister.getPopup();p.removeAllContent();this._bIsPopupOpen=false;};d.prototype._shouldRenderPdfContent=function(){return a._isPdfPluginEnabled()&&this._bRenderPdfContent&&this._isSourceValidToDisplay();};d.prototype._isSourceValidToDisplay=function(){var s=this.getSource();return s!==null&&s!==""&&typeof s!=="undefined";};d.prototype.invalidate=function(o){this._initControlState();C.prototype.invalidate.call(this,o);};d.prototype.open=function(){if(!this._isSourceValidToDisplay()){b(false,"The PDF file cannot be opened with the given source. Given source: "+this.getSource());return;}else if(!a._isPdfPluginEnabled()){L.warning("The PDF plug-in is not available on this device.");}if(this._isEmbeddedModeAllowed()){this._openOnDesktop();}else{this._openOnMobile();}};d.prototype._openOnDesktop=function(){var p=this._objectsRegister.getPopup();if(this._bIsPopupOpen){return;}this._initControlState();this._preparePopup(p);p.addContent(this);this._bIsPopupOpen=true;p.open();};d.prototype._openOnMobile=function(){var w=window.open(this.getSource());w.opener=null;w.focus();};d.prototype._getIframeDOMElement=function(){var i=this.$("iframe");if(i.length===0){throw Error("Underlying iframe was not found in DOM.");}if(i.length>1){L.fatal("Initialization of iframe fails. Reason: the control somehow renders multiple iframes");}return i;};d.prototype._isEmbeddedModeAllowed=function(){return this._isDisplayTypeAuto()?D.system.desktop:this._isDisplayTypeEmbedded();};d.prototype._isDisplayTypeAuto=function(){return this.getDisplayType()===c.Auto;};d.prototype._isDisplayTypeEmbedded=function(){return this.getDisplayType()===c.Embedded;};d.prototype._isDisplayTypeLink=function(){return this.getDisplayType()===c.Link;};d.prototype._isDisplayDownloadButton=function(){return this.getShowDownloadButton()||this._isDisplayTypeLink()||(this._isDisplayTypeAuto()&&!this._isEmbeddedModeAllowed());};d.prototype._getLibraryResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m");};d.prototype._getMessagePageErrorMessage=function(){return this.getErrorPlaceholderMessage()?this.getErrorPlaceholderMessage():this._getLibraryResourceBundle().getText("PDF_VIEWER_PLACEHOLDER_ERROR_TEXT");};d.prototype._getRenderWidth=function(){return this._bIsPopupOpen?'100%':this.getWidth();};d.prototype._getRenderHeight=function(){if(this._bIsPopupOpen){return'100%';}if(!this._isEmbeddedModeAllowed()){return'auto';}return this.getHeight();};d.prototype._showMessageBox=function(){M.show(this._getLibraryResourceBundle().getText("PDF_VIEWER_SOURCE_VALIDATION_MESSAGE_TEXT"),{icon:M.Icon.WARNING,title:this._getLibraryResourceBundle().getText("PDF_VIEWER_SOURCE_VALIDATION_MESSAGE_HEADER"),actions:[M.Action.OK,M.Action.CANCEL],defaultAction:M.Action.CANCEL,id:this.getId()+"-validationErrorSourceMessageBox",styleClass:"sapUiSizeCompact",contentWidth:'100px',onClose:this._onSourceValidationErrorMessageBoxCloseListener.bind(this)});};d.prototype.exit=function(){q.each(this._objectsRegister,function(I,g){var o=g(true);if(o){o.destroy();}});try{var i=this._getIframeDOMElement();i.off();}catch(e){L.info(e);}};P.extendPdfViewer(d);return d;});
sap.ui.predefine('sap/m/PDFViewerRenderManager',["sap/m/library","sap/m/Dialog","sap/m/Button","sap/m/MessagePage","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbarLayoutData"],function(l,D,B,M,O,a,T,b,c){"use strict";var d=l.OverflowToolbarPriority;var e=l.ButtonType;var p={extendPdfViewer:function(P){P.prototype._initPopupControl=function(){var t=this;var o={contentHeight:"100%",contentWidth:"100%",horizontalScrolling:false,verticalScrolling:false,showHeader:true,buttons:[],afterClose:t._onAfterPopupClose.bind(t)},s=t.getId()+"-popup",f=s+"-popupCloseButton",C="getPopupCloseButton",g="getPopup";this._objectsRegister[C]=function(){var h=new B(f,{text:'',press:function(){t._objectsRegister.getPopup().close();}});t._objectsRegister[C]=function(){return h;};return h;};this._objectsRegister[g]=function(i){if(i===true){return null;}var h=new D(s,o);h.addStyleClass("sapUiContentPadding");t._objectsRegister[g]=function(){return h;};return h;};};P.prototype._preparePopup=function(o){var f=this.getPopupButtons().slice(),C=this._objectsRegister.getPopupCloseButton(),g=this._objectsRegister.getPopupDownloadButtonControl();C.setText(this._getLibraryResourceBundle().getText("PDF_VIEWER_POPUP_CLOSE_BUTTON"));if(this.getShowDownloadButton()){f.push(g);}f.push(C);o.removeAllButtons();f.forEach(function(h){o.addButton(h);});o.setShowHeader(true);if(this.getPopupHeaderTitle()){o.setTitle(this.getPopupHeaderTitle());}if(this.getTitle()){o.setTitle(this.getTitle());}};P.prototype._initPlaceholderMessagePageControl=function(){var t=this,s="getPlaceholderMessagePageControl";this._objectsRegister[s]=function(){var m=new M({showHeader:false,text:t._getMessagePageErrorMessage(),description:""});t._objectsRegister[s]=function(){m.setText(t._getMessagePageErrorMessage());return m;};return m;};};P.prototype._initOverflowToolbarControl=function(){var t=this,o=this.getId()+"-overflowToolbar",s=o+"-title",f="getOverflowToolbarControl";this._objectsRegister[f]=function(i){if(i===true){return null;}var g=new O(o,{}),h=new T(s,{text:t.getTitle()}),j=t._objectsRegister.getToolbarDownloadButtonControl();function k(){if(t._isDisplayDownloadButton()){g.addContent(j);}else{g.removeContent(j);}j.setEnabled(t._bRenderPdfContent);h.setText(t.getTitle());}g.addStyleClass("sapUiTinyMarginBottom");g.addContent(h);g.addContent(new b());k();j.setLayoutData(new c({priority:d.NeverOverflow}));t._objectsRegister[f]=function(i){if(!i){k();}return g;};return g;};};P.prototype._initToolbarDownloadButtonControl=function(){var t=this,s=this.getId()+"-toolbarDownloadButton",f="getToolbarDownloadButtonControl";this._objectsRegister[f]=function(i){if(i){return null;}var o=new a(s,{type:e.Transparent,icon:"sap-icon://download"});o.attachPress(t.downloadPDF.bind(t));o.setEnabled(t._bRenderPdfContent);t._objectsRegister[f]=function(){o.setEnabled(t._bRenderPdfContent);return o;};return o;};};P.prototype._initPopupDownloadButtonControl=function(){var t=this,s=this.getId()+"-popupDownloadButton",f="getPopupDownloadButtonControl";this._objectsRegister[f]=function(){var o=new B(s,{text:t._getLibraryResourceBundle().getText("PDF_VIEWER_DOWNLOAD_TEXT"),type:e.Emphasized});o.attachPress(t.downloadPDF.bind(t));o.setEnabled(t._bRenderPdfContent);t._objectsRegister[f]=function(){o.setEnabled(t._bRenderPdfContent);return o;};return o;};};}};return p;},true);
sap.ui.predefine('sap/m/PDFViewerRenderer',['sap/ui/Device',"sap/base/Log","sap/base/security/URLListValidator"],function(D,L,U){"use strict";function s(c){return(!!c.getTitle()||c._isDisplayDownloadButton())&&!c._bIsPopupOpen;}var a=Object.freeze(["application/pdf","application/x-google-chrome-pdf"]);var P={apiVersion:2};P._isSupportedMimeType=function(m){var f=a.indexOf(m);return f>-1;};P._isPdfPluginEnabled=function(){var i=true;if(D.browser.firefox){return i;}var m=navigator.mimeTypes;i=a.some(function(A){var M=m.namedItem(A);return M!==null;});return i;};P.render=function(r,c){r.openStart("div",c);r.style("width",c._getRenderWidth());r.style("height",c._getRenderHeight());this._writeAccessibilityTags(r,c);r.openEnd();if(s(c)){r.renderControl(c._objectsRegister.getOverflowToolbarControl());}if(c._isEmbeddedModeAllowed()){this.renderPdfContent(r,c);}r.close("div");};P._writeAccessibilityTags=function(r,c){r.attr("role","document");r.attr("aria-label",c._getLibraryResourceBundle().getText("PDF_VIEWER_ACCESSIBILITY_LABEL"));};P.renderPdfContent=function(r,c){if(c._shouldRenderPdfContent()){r.openStart("iframe",c.getId()+"-iframe");var p=c.getSource();var C=c.getSource().indexOf("#");if(C>-1){p=p.substr(0,C);}if(!(D.browser.safari&&p.startsWith("blob:"))){p+="#view=FitH";}if(!U.validate(p)){p=encodeURI(p);}if(U.validate(p)){r.attr("src",p);}else{c._fireErrorEvent();}r.class("sapMPDFViewerContent");r.class("sapMPDFViewerLoading");if(s(c)){r.class("sapMPDFViewerReducedContent");}r.openEnd();r.close("iframe");}else{this.renderErrorContent(r,c);if(!P._isPdfPluginEnabled()){L.warning("The PDF plug-in is not available on this device.");c.fireEvent("error",{},true);}}};P.renderErrorContent=function(r,c){var e=c.getErrorPlaceholder()?c.getErrorPlaceholder():c._objectsRegister.getPlaceholderMessagePageControl();r.openStart("div");r.class("sapMPDFViewerError");if(!c._bIsPopupOpen){r.class("sapMPDFViewerEmbeddedContent");}r.openEnd();r.renderControl(e);r.close("div");};return P;},true);
sap.ui.predefine('sap/m/PagingButton',['./Button','sap/ui/core/Control','sap/ui/core/IconPool','./PagingButtonRenderer',"sap/base/Log"],function(B,C,I,P,L){"use strict";var a=C.extend("sap.m.PagingButton",{metadata:{library:"sap.m",properties:{count:{type:"int",group:"Data",defaultValue:1},position:{type:"int",group:"Data",defaultValue:1},nextButtonTooltip:{type:"string",group:"Appearance",defaultValue:""},previousButtonTooltip:{type:"string",group:"Appearance",defaultValue:""}},aggregations:{previousButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},nextButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{positionChange:{parameters:{newPosition:{type:"int"},oldPosition:{type:"int"}}}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");a.prototype.init=function(){this._attachPressEvents();};a.prototype.onBeforeRendering=function(){this._enforceValidPosition(this.getPosition());this._updateButtonState();};a.prototype._getNextButton=function(){if(!this.getAggregation("nextButton")){this.setAggregation("nextButton",new B({tooltip:this.getNextButtonTooltip()||r.getText("PAGINGBUTTON_NEXT"),icon:I.getIconURI("slim-arrow-down"),enabled:false,id:this.getId()+"-nextButton"}));}return this.getAggregation("nextButton");};a.prototype._getPreviousButton=function(){if(!this.getAggregation("previousButton")){this.setAggregation("previousButton",new B({tooltip:this.getPreviousButtonTooltip()||r.getText("PAGINGBUTTON_PREVIOUS"),icon:I.getIconURI("slim-arrow-up"),enabled:false,id:this.getId()+"-previousButton"}));}return this.getAggregation("previousButton");};a.prototype._attachPressEvents=function(){this._getPreviousButton().attachPress(this._handlePositionChange.bind(this,false));this._getNextButton().attachPress(this._handlePositionChange.bind(this,true));};a.prototype._handlePositionChange=function(i){var o=this.getPosition(),n=i?o+1:o-1;this.setPosition(n);this.firePositionChange({newPosition:n,oldPosition:o});this._updateButtonState();return this;};a.prototype._updateButtonState=function(){var t=this.getCount(),c=this.getPosition();this._getPreviousButton().setEnabled(c>1);this._getNextButton().setEnabled(c<t);return this;};a.prototype.setPosition=function(p){return this._validateProperty("position",p);};a.prototype.setCount=function(c){return this._validateProperty("count",c);};a.prototype.setPreviousButtonTooltip=function(t){this._getPreviousButton().setTooltip(t);return this.setProperty("previousButtonTooltip",t,true);};a.prototype.setNextButtonTooltip=function(t){this._getNextButton().setTooltip(t);return this.setProperty("nextButtonTooltip",t,true);};a.prototype._validateProperty=function(p,v){if(v<1){L.warning("Property '"+p+"' must be greater or equal to 1",this);return this;}return this.setProperty(p,v);};a.prototype._enforceValidPosition=function(p){var c=this.getCount();if(p>c){L.warning("Property position must be less or equal to the total count");this.setPosition(c);}return this;};return a;});
sap.ui.predefine('sap/m/PagingButtonRenderer',[],function(){"use strict";var P={apiVersion:2};P.render=function(r,c){var n=c._getNextButton(),p=c._getPreviousButton();r.openStart("div",c);r.class("sapMPagingButton");r.openEnd();r.renderControl(p);r.renderControl(n);r.close("div");};return P;},true);
sap.ui.predefine('sap/m/Panel',['./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/Device','./PanelRenderer','sap/m/Button'],function(l,C,I,D,P,B){"use strict";var a=l.PanelAccessibleRole;var b=l.BackgroundDesign;var c=l.ButtonType;var d=C.extend("sap.m.Panel",{metadata:{library:"sap.m",properties:{headerText:{type:"string",group:"Data",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"auto"},expandable:{type:"boolean",group:"Appearance",defaultValue:false},expanded:{type:"boolean",group:"Appearance",defaultValue:false},expandAnimation:{type:"boolean",group:"Behavior",defaultValue:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:b.Translucent},accessibleRole:{type:"sap.m.PanelAccessibleRole",group:"Accessibility",defaultValue:a.Form}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},headerToolbar:{type:"sap.m.Toolbar",multiple:false},infoToolbar:{type:"sap.m.Toolbar",multiple:false}},events:{expand:{parameters:{expand:{type:"boolean"},triggeredByInteraction:{type:"boolean"}}}},dnd:{draggable:true,droppable:true},designtime:"sap/m/designtime/Panel.designtime"}});d.prototype.init=function(){this._bInteractiveExpand=false;this.data("sap-ui-fastnavgroup","true",true);};d.prototype.onThemeChanged=function(){this._setContentHeight();};d.prototype.setExpanded=function(e){var t=this;if(e===this.getExpanded()){return this;}this.setProperty("expanded",e,true);if(!this.getExpandable()){return this;}this._toggleExpandCollapse(function(){t.invalidate();});this._toggleButtonIcon(e);this.fireExpand({expand:e,triggeredByInteraction:this._bInteractiveExpand});this._bInteractiveExpand=false;return this;};d.prototype.onBeforeRendering=function(){if(this.getExpandable()&&!this._oExpandButton){this._oExpandButton=this._createExpandButton();}if(sap.ui.getCore().getConfiguration().getAccessibility()){this.$().attr("role",this.getAccessibleRole().toLowerCase());}};d.prototype.onAfterRendering=function(){var $=this.$(),p=this.getDomRef("content"),h,o=this.getDomRef();if(o){o.style.width=this.getWidth();h=this.getHeight();o.style.height=h;if(parseFloat(h)!=0){o.querySelector(".sapMPanelContent").style.height=h;}}this._setContentHeight();if(this.getExpandable()){this.getHeaderToolbar()&&p&&this._oExpandButton.$().attr("aria-controls",p.id);if(!this.getExpanded()){$.children(".sapMPanelExpandablePart").css("display","none");}}};d.prototype.ontap=function(e){var o=this.getDomRef(),w=o&&o.querySelector(".sapMPanelWrappingDiv");if(!this.getExpandable()||this.getHeaderToolbar()||!w){return;}if(w.contains(e.target)){this._bInteractiveExpand=true;this.setExpanded(!this.getExpanded());}};d.prototype.onsapspace=function(e){this.ontap(e);};d.prototype.onsapenter=function(e){this.ontap(e);};d.prototype.exit=function(){if(this._oExpandButton){this._oExpandButton.destroy();this._oExpandButton=null;}};d.prototype._createExpandButton=function(){var t=this,i=this.getExpanded()?I.getIconURI("slim-arrow-down"):I.getIconURI("slim-arrow-right"),T=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PANEL_ICON"),o;if(!this.getHeaderToolbar()){return I.createControlByURI({src:i,tooltip:T});}o=new B(this.getId()+"-expandButton",{icon:i,tooltip:T,type:c.Transparent,press:function(){t._bInteractiveExpand=true;t.setExpanded(!t.getExpanded());}}).addEventDelegate({onAfterRendering:function(){o.$().attr("aria-expanded",this.getExpanded());}.bind(this)},this);this.addDependent(o);return o;};d.prototype._toggleButtonIcon=function(i){var s=i?I.getIconURI("slim-arrow-down"):I.getIconURI("slim-arrow-right");if(!this._oExpandButton){return;}if(this.getHeaderToolbar()){this._oExpandButton.setIcon(s);}else{this._oExpandButton.setSrc(s);}};d.prototype._setContentHeight=function(){var A,t=this.getDomRef(),p=t&&t.querySelector(".sapMPanelContent");if(this.getHeight()==="auto"||!p){return;}A='calc('+"100%"+' - '+p.offsetTop+'px)';p.style.height=A;};d.prototype._toggleExpandCollapse=function(A){var o={complete:A};if(!this.getExpandAnimation()){o.duration=0;}this.$().children(".sapMPanelExpandablePart").slideToggle(o);};d.prototype._getLabellingElementId=function(){var h=this.getHeaderToolbar(),H=this.getHeaderText(),i=null;if(h){i=h.getTitleId();}else if(H){i=this.getId()+"-header";}return i;};return d;});
sap.ui.predefine('sap/m/PanelRenderer',["sap/m/library","sap/ui/Device"],function(l,D){"use strict";var T=l.ToolbarDesign;var P={apiVersion:2};P.render=function(r,c){this.startPanel(r,c);this.renderHeader(r,c);this.renderContent(r,c);this.endPanel(r);};P.startPanel=function(r,c){var i=c.getExpandable(),a={role:c.getAccessibleRole().toLowerCase()};r.openStart("div",c);r.class("sapMPanel");if(i){r.class("sapMPanelExpandable");}r.style("width",c.getWidth());r.style("height",c.getHeight());if(c.getHeaderToolbar()||!i){a.labelledby=c._getLabellingElementId();}r.accessibilityState(c,a);r.openEnd();};P.renderHeader=function(r,c){var i=c.getExpandable(),I=c.getExpanded(),h=c.getHeaderToolbar(),H,s=h?"header":"div";if(i){r.openStart(s);if(h){H="sapMPanelWrappingDivTb";}else{H="sapMPanelWrappingDiv";this.writeHeaderAccessibility(r,c);}r.class(H);if(I){r.class(H+"Expanded");}r.openEnd();if(i){r.renderControl(c._oExpandButton);}}var a=c.getHeaderText();if(h){h.setDesign(T.Transparent,true);h.addStyleClass("sapMPanelHeaderTB");r.renderControl(h);}else if(a||i){r.openStart("h2",c.getId()+"-header");r.class("sapMPanelHdr");r.openEnd();r.text(a);r.close("h2");}if(i){r.close(s);}var o=c.getInfoToolbar();if(o){o.setDesign(T.Info,true);o.addStyleClass("sapMPanelInfoTB");if(i){r.openStart("div");r.class("sapMPanelExpandablePart");r.openEnd();r.renderControl(o);r.close("div");}else{r.renderControl(o);}}};P.writeHeaderAccessibility=function(r,c){r.attr('tabindex',0);r.attr('role','button');r.attr('aria-expanded',c.getExpanded());r.attr('aria-controls',c.getId()+"-content");};P.renderContent=function(r,c){this.startContent(r,c);this.renderChildren(r,c.getContent());this.endContent(r);};P.startContent=function(r,c){r.openStart("div",c.getId()+"-content");r.class("sapMPanelContent");r.class("sapMPanelBG"+c.getBackgroundDesign());if(c.getExpandable()){r.class("sapMPanelExpandablePart");}if(D.browser.firefox){r.attr('tabindex','-1');}r.openEnd();};P.renderChildren=function(r,c){c.forEach(r.renderControl,r);};P.endContent=function(r){r.close("div");};P.endPanel=function(r){r.close("div");};return P;},true);
sap.ui.require.preload({
/*!
 * D3 v3.4.12 - http://d3js.org/
 *
 * Copyright (c) 2010-2014, Michael Bostock
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
	"sap/ui/thirdparty/d3.js":function(){!function(){var D={version:"3.4.12"};if(!Date.now)Date.now=function(){return+new Date();};var E=[].slice,J=function(l){return E.call(l);};var K=document,M=K.documentElement,O=window;try{J(M.childNodes)[0].nodeType;}catch(e){J=function(l){var i=l.length,a=new Array(i);while(i--)a[i]=l[i];return a;};}try{K.createElement("div").style.setProperty("opacity",0,"");}catch(P){var Q=O.Element.prototype,R=Q.setAttribute,T=Q.setAttributeNS,U=O.CSSStyleDeclaration.prototype,V=U.setProperty;Q.setAttribute=function(n,v){R.call(this,n,v+"");};Q.setAttributeNS=function(s,l,v){T.call(this,s,l,v+"");};U.setProperty=function(n,v,p){V.call(this,n,v+"",p);};}D.ascending=W;function W(a,b){return a<b?-1:a>b?1:a>=b?0:NaN;}D.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN;};D.min=function(c,f){var i=-1,n=c.length,a,b;if(arguments.length===1){while(++i<n&&!((a=c[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=c[i])!=null&&a>b)a=b;}else{while(++i<n&&!((a=f.call(c,c[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(c,c[i],i))!=null&&a>b)a=b;}return a;};D.max=function(c,f){var i=-1,n=c.length,a,b;if(arguments.length===1){while(++i<n&&!((a=c[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=c[i])!=null&&b>a)a=b;}else{while(++i<n&&!((a=f.call(c,c[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(c,c[i],i))!=null&&b>a)a=b;}return a;};D.extent=function(d,f){var i=-1,n=d.length,a,b,c;if(arguments.length===1){while(++i<n&&!((a=c=d[i])!=null&&a<=a))a=c=undefined;while(++i<n)if((b=d[i])!=null){if(a>b)a=b;if(c<b)c=b;}}else{while(++i<n&&!((a=c=f.call(d,d[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(d,d[i],i))!=null){if(a>b)a=b;if(c<b)c=b;}}return[a,c];};D.sum=function(b,f){var s=0,n=b.length,a,i=-1;if(arguments.length===1){while(++i<n)if(!isNaN(a=+b[i]))s+=a;}else{while(++i<n)if(!isNaN(a=+f.call(b,b[i],i)))s+=a;}return s;};function Z(x){return x!=null&&!isNaN(x);}D.mean=function(b,f){var s=0,n=b.length,a,i=-1,j=n;if(arguments.length===1){while(++i<n)if(Z(a=b[i]))s+=a;else--j;}else{while(++i<n)if(Z(a=f.call(b,b[i],i)))s+=a;else--j;}return j?s/j:undefined;};D.quantile=function(a,p){var H=(a.length-1)*p+1,h=Math.floor(H),v=+a[h-1],e=H-h;return e?v+e*(a[h]-v):v;};D.median=function(a,f){if(arguments.length>1)a=a.map(f);a=a.filter(Z);return a.length?D.quantile(a.sort(W),.5):undefined;};function $(c){return{left:function(a,x,l,h){if(arguments.length<3)l=0;if(arguments.length<4)h=a.length;while(l<h){var m=l+h>>>1;if(c(a[m],x)<0)l=m+1;else h=m;}return l;},right:function(a,x,l,h){if(arguments.length<3)l=0;if(arguments.length<4)h=a.length;while(l<h){var m=l+h>>>1;if(c(a[m],x)>0)h=m;else l=m+1;}return l;}};}var f1=$(W);D.bisectLeft=f1.left;D.bisect=D.bisectRight=f1.right;D.bisector=function(f){return $(f.length===1?function(d,x){return W(f(d),x);}:f);};D.shuffle=function(a){var m=a.length,t,i;while(m){i=Math.random()*m--|0;t=a[m],a[m]=a[i],a[i]=t;}return a;};D.permute=function(a,b){var i=b.length,p=new Array(i);while(i--)p[i]=a[b[i]];return p;};D.pairs=function(a){var i=0,n=a.length-1,p,b=a[0],c=new Array(n<0?0:n);while(i<n)c[i]=[p=b,b=a[++i]];return c;};D.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=D.min(arguments,g1),z=new Array(m);++i<m;){for(var j=-1,n,a=z[i]=new Array(n);++j<n;){a[j]=arguments[j][i];}}return z;};function g1(d){return d.length;}D.transpose=function(m){return D.zip.apply(D,m);};D.keys=function(m){var k=[];for(var a in m)k.push(a);return k;};D.values=function(m){var v=[];for(var k in m)v.push(m[k]);return v;};D.entries=function(m){var a=[];for(var k in m)a.push({key:k,value:m[k]});return a;};D.merge=function(a){var n=a.length,m,i=-1,j=0,b,c;while(++i<n)j+=a[i].length;b=new Array(j);while(--n>=0){c=a[n];m=c.length;while(--m>=0){b[--j]=c[m];}}return b;};var h1=Math.abs;D.range=function(s,a,b){if(arguments.length<3){b=1;if(arguments.length<2){a=s;s=0;}}if((a-s)/b===Infinity)throw new Error("infinite range");var r=[],k=j1(h1(b)),i=-1,j;s*=k,a*=k,b*=k;if(b<0)while((j=s+b*++i)>a)r.push(j/k);else while((j=s+b*++i)<a)r.push(j/k);return r;};function j1(x){var k=1;while(x*k%1)k*=10;return k;}function k1(c,p){try{for(var k in p){Object.defineProperty(c.prototype,k,{value:p[k],enumerable:false});}}catch(e){c.prototype=p;}}D.map=function(o){var m=new o1();if(o instanceof o1)o.forEach(function(k,v){m.set(k,v);});else for(var k in o)m.set(k,o[k]);return m;};function o1(){}k1(o1,{has:z1,get:function(k){return this[u1+k];},set:function(k,v){return this[u1+k]=v;},remove:A1,keys:B1,values:function(){var v=[];this.forEach(function(k,a){v.push(a);});return v;},entries:function(){var a=[];this.forEach(function(k,v){a.push({key:k,value:v});});return a;},size:C1,empty:D1,forEach:function(f){for(var k in this)if(k.charCodeAt(0)===v1)f.call(this,k.slice(1),this[k]);}});var u1="\x00",v1=u1.charCodeAt(0);function z1(k){return u1+k in this;}function A1(k){k=u1+k;return k in this&&delete this[k];}function B1(){var k=[];this.forEach(function(a){k.push(a);});return k;}function C1(){var s=0;for(var k in this)if(k.charCodeAt(0)===v1)++s;return s;}function D1(){for(var k in this)if(k.charCodeAt(0)===v1)return false;return true;}D.nest=function(){var c={},k=[],s=[],g,r;function m(a,b,d){if(d>=k.length)return r?r.call(c,b):g?b.sort(g):b;var i=-1,n=b.length,f=k[d++],j,o,l,v=new o1(),p;while(++i<n){if(p=v.get(j=f(o=b[i]))){p.push(o);}else{v.set(j,[o]);}}if(a){o=a();l=function(j,p){o.set(j,m(a,p,d));};}else{o={};l=function(j,p){o[j]=m(a,p,d);};}v.forEach(l);return o;}function h(m,d){if(d>=k.length)return m;var f=[],i=s[d++];m.forEach(function(a,b){f.push({key:a,values:h(b,d)});});return i?f.sort(function(a,b){return i(a.key,b.key);}):f;}c.map=function(a,b){return m(b,a,0);};c.entries=function(a){return h(m(D.map,a,0),0);};c.key=function(d){k.push(d);return c;};c.sortKeys=function(o){s[k.length-1]=o;return c;};c.sortValues=function(o){g=o;return c;};c.rollup=function(f){r=f;return c;};return c;};D.set=function(a){var s=new E1();if(a)for(var i=0,n=a.length;i<n;++i)s.add(a[i]);return s;};function E1(){}k1(E1,{has:z1,add:function(v){this[u1+v]=true;return v;},remove:function(v){v=u1+v;return v in this&&delete this[v];},values:B1,size:C1,empty:D1,forEach:function(f){for(var v in this)if(v.charCodeAt(0)===v1)f.call(this,v.slice(1));}});D.behavior={};D.rebind=function(t,s){var i=1,n=arguments.length,m;while(++i<n)t[m=arguments[i]]=F1(t,s,s[m]);return t;};function F1(t,s,m){return function(){var v=m.apply(s,arguments);return v===s?t:v;};}function G1(o,a){if(a in o)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var i=0,n=H1.length;i<n;++i){var p=H1[i]+a;if(p in o)return p;}}var H1=["webkit","ms","moz","Moz","o","O"];function I1(){}D.dispatch=function(){var d=new J1(),i=-1,n=arguments.length;while(++i<n)d[arguments[i]]=K1(d);return d;};function J1(){}J1.prototype.on=function(t,l){var i=t.indexOf("."),n="";if(i>=0){n=t.slice(i+1);t=t.slice(0,i);}if(t)return arguments.length<2?this[t].on(n):this[t].on(n,l);if(arguments.length===2){if(l==null)for(t in this){if(this.hasOwnProperty(t))this[t].on(n,null);}return this;}};function K1(d){var a=[],b=new o1();function c(){var z=a,i=-1,n=z.length,l;while(++i<n)if(l=z[i].on)l.apply(this,arguments);return d;}c.on=function(n,f){var l=b.get(n),i;if(arguments.length<2)return l&&l.on;if(l){l.on=null;a=a.slice(0,i=a.indexOf(l)).concat(a.slice(i+1));b.remove(n);}if(f)a.push(b.set(n,{on:f}));return d;};return c;}D.event=null;function L1(){D.event.preventDefault();}function M1(){var e=D.event,s;while(s=e.sourceEvent)e=s;return e;}function N1(t){var d=new J1(),i=0,n=arguments.length;while(++i<n)d[arguments[i]]=K1(d);d.of=function(a,b){return function(c){try{var f=c.sourceEvent=D.event;c.target=t;D.event=c;d[c.type].apply(a,b);}finally{D.event=f;}};};return d;}D.requote=function(s){return s.replace(O1,"\\$&");};var O1=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var P1={}.__proto__?function(o,p){o.__proto__=p;}:function(o,p){for(var a in p)o[a]=p[a];};function Q1(g){P1(g,V1);return g;}var R1=function(s,n){return n.querySelector(s);},S1=function(s,n){return n.querySelectorAll(s);},T1=M.matches||M[G1(M,"matchesSelector")],U1=function(n,s){return T1.call(n,s);};if(typeof Sizzle==="function"){R1=function(s,n){return Sizzle(s,n)[0]||null;};S1=Sizzle;U1=Sizzle.matchesSelector;}D.selection=function(){return z2;};var V1=D.selection.prototype=[];V1.select=function(s){var a=[],b,c,g,d;s=W1(s);for(var j=-1,m=this.length;++j<m;){a.push(b=[]);b.parentNode=(g=this[j]).parentNode;for(var i=-1,n=g.length;++i<n;){if(d=g[i]){b.push(c=s.call(d,d.__data__,i,j));if(c&&"__data__"in d)c.__data__=d.__data__;}else{b.push(null);}}}return Q1(a);};function W1(s){return typeof s==="function"?s:function(){return R1(s,this);};}V1.selectAll=function(s){var a=[],b,c;s=Z1(s);for(var j=-1,m=this.length;++j<m;){for(var g=this[j],i=-1,n=g.length;++i<n;){if(c=g[i]){a.push(b=J(s.call(c,c.__data__,i,j)));b.parentNode=c;}}}return Q1(a);};function Z1(s){return typeof s==="function"?s:function(){return S1(s,this);};}var $1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};D.ns={prefix:$1,qualify:function(n){var i=n.indexOf(":"),p=n;if(i>=0){p=n.slice(0,i);n=n.slice(i+1);}return $1.hasOwnProperty(p)?{space:$1[p],local:n}:n;}};V1.attr=function(n,v){if(arguments.length<2){if(typeof n==="string"){var a=this.node();n=D.ns.qualify(n);return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n);}for(v in n)this.each(_1(v,n[v]));return this;}return this.each(_1(n,v));};function _1(n,v){n=D.ns.qualify(n);function a(){this.removeAttribute(n);}function b(){this.removeAttributeNS(n.space,n.local);}function c(){this.setAttribute(n,v);}function d(){this.setAttributeNS(n.space,n.local,v);}function f(){var x=v.apply(this,arguments);if(x==null)this.removeAttribute(n);else this.setAttribute(n,x);}function g(){var x=v.apply(this,arguments);if(x==null)this.removeAttributeNS(n.space,n.local);else this.setAttributeNS(n.space,n.local,x);}return v==null?n.local?b:a:typeof v==="function"?n.local?g:f:n.local?d:c;}function a2(s){return s.trim().replace(/\s+/g," ");}V1.classed=function(a,v){if(arguments.length<2){if(typeof a==="string"){var b=this.node(),n=(a=e2(a)).length,i=-1;if(v=b.classList){while(++i<n)if(!v.contains(a[i]))return false;}else{v=b.getAttribute("class");while(++i<n)if(!b2(a[i]).test(v))return false;}return true;}for(v in a)this.each(f2(v,a[v]));return this;}return this.each(f2(a,v));};function b2(n){return new RegExp("(?:^|\\s+)"+D.requote(n)+"(?:\\s+|$)","g");}function e2(n){return(n+"").trim().split(/^|\s+/);}function f2(a,v){a=e2(a).map(g2);var n=a.length;function c(){var i=-1;while(++i<n)a[i](this,v);}function b(){var i=-1,x=v.apply(this,arguments);while(++i<n)a[i](this,x);}return typeof v==="function"?b:c;}function g2(n){var r=b2(n);return function(a,v){if(c=a.classList)return v?c.add(n):c.remove(n);var c=a.getAttribute("class")||"";if(v){r.lastIndex=0;if(!r.test(c))a.setAttribute("class",a2(c+" "+n));}else{a.setAttribute("class",a2(c.replace(r," ")));}};}V1.style=function(a,v,p){var n=arguments.length;if(n<3){if(typeof a!=="string"){if(n<2)v="";for(p in a)this.each(h2(p,a[p],v));return this;}if(n<2)return O.getComputedStyle(this.node(),null).getPropertyValue(a);p="";}return this.each(h2(a,v,p));};function h2(n,v,p){function s(){this.style.removeProperty(n);}function a(){this.style.setProperty(n,v,p);}function b(){var x=v.apply(this,arguments);if(x==null)this.style.removeProperty(n);else this.style.setProperty(n,x,p);}return v==null?s:typeof v==="function"?b:a;}V1.property=function(n,v){if(arguments.length<2){if(typeof n==="string")return this.node()[n];for(v in n)this.each(i2(v,n[v]));return this;}return this.each(i2(n,v));};function i2(n,v){function p(){delete this[n];}function a(){this[n]=v;}function b(){var x=v.apply(this,arguments);if(x==null)delete this[n];else this[n]=x;}return v==null?p:typeof v==="function"?b:a;}V1.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var v=a.apply(this,arguments);this.textContent=v==null?"":v;}:a==null?function(){this.textContent="";}:function(){this.textContent=a;}):this.node().textContent;};V1.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var v=a.apply(this,arguments);this.innerHTML=v==null?"":v;}:a==null?function(){this.innerHTML="";}:function(){this.innerHTML=a;}):this.node().innerHTML;};V1.append=function(n){n=j2(n);return this.select(function(){return this.appendChild(n.apply(this,arguments));});};function j2(n){return typeof n==="function"?n:(n=D.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local);}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n);};}V1.insert=function(n,b){n=j2(n);b=W1(b);return this.select(function(){return this.insertBefore(n.apply(this,arguments),b.apply(this,arguments)||null);});};V1.remove=function(){return this.each(function(){var p=this.parentNode;if(p)p.removeChild(this);});};V1.data=function(v,k){var i=-1,n=this.length,g,a;if(!arguments.length){v=new Array(n=(g=this[0]).length);while(++i<n){if(a=g[i]){v[i]=a.__data__;}}return v;}function b(g,f){var i,n=g.length,m=f.length,h=Math.min(n,m),j=new Array(m),l=new Array(m),o=new Array(n),a,p;if(k){var q=new o1(),r=new o1(),s=[],t;for(i=-1;++i<n;){t=k.call(a=g[i],a.__data__,i);if(q.has(t)){o[i]=a;}else{q.set(t,a);}s.push(t);}for(i=-1;++i<m;){t=k.call(f,p=f[i],i);if(a=q.get(t)){j[i]=a;a.__data__=p;}else if(!r.has(t)){l[i]=k2(p);}r.set(t,p);q.remove(t);}for(i=-1;++i<n;){if(q.has(s[i])){o[i]=g[i];}}}else{for(i=-1;++i<h;){a=g[i];p=f[i];if(a){a.__data__=p;j[i]=a;}else{l[i]=k2(p);}}for(;i<m;++i){l[i]=k2(f[i]);}for(;i<n;++i){o[i]=g[i];}}l.update=j;l.parentNode=j.parentNode=o.parentNode=g.parentNode;c.push(l);u.push(j);d.push(o);}var c=r2([]),u=Q1([]),d=Q1([]);if(typeof v==="function"){while(++i<n){b(g=this[i],v.call(g,g.parentNode.__data__,i));}}else{while(++i<n){b(g=this[i],v);}}u.enter=function(){return c;};u.exit=function(){return d;};return u;};function k2(d){return{__data__:d};}V1.datum=function(v){return arguments.length?this.property("__data__",v):this.property("__data__");};V1.filter=function(f){var s=[],a,g,b;if(typeof f!=="function")f=l2(f);for(var j=0,m=this.length;j<m;j++){s.push(a=[]);a.parentNode=(g=this[j]).parentNode;for(var i=0,n=g.length;i<n;i++){if((b=g[i])&&f.call(b,b.__data__,i,j)){a.push(b);}}}return Q1(s);};function l2(s){return function(){return U1(this,s);};}V1.order=function(){for(var j=-1,m=this.length;++j<m;){for(var g=this[j],i=g.length-1,n=g[i],a;--i>=0;){if(a=g[i]){if(n&&n!==a.nextSibling)n.parentNode.insertBefore(a,n);n=a;}}}return this;};V1.sort=function(c){c=o2.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(c);return this.order();};function o2(c){if(!arguments.length)c=W;return function(a,b){return a&&b?c(a.__data__,b.__data__):!a-!b;};}V1.each=function(c){return q2(this,function(n,i,j){c.call(n,n.__data__,i,j);});};function q2(g,c){for(var j=0,m=g.length;j<m;j++){for(var a=g[j],i=0,n=a.length,b;i<n;i++){if(b=a[i])c(b,i,j);}}return g;}V1.call=function(c){var a=J(arguments);c.apply(a[0]=this,a);return this;};V1.empty=function(){return!this.node();};V1.node=function(){for(var j=0,m=this.length;j<m;j++){for(var g=this[j],i=0,n=g.length;i<n;i++){var a=g[i];if(a)return a;}}return null;};V1.size=function(){var n=0;q2(this,function(){++n;});return n;};function r2(s){P1(s,u2);return s;}var u2=[];D.selection.enter=r2;D.selection.enter.prototype=u2;u2.append=V1.append;u2.empty=V1.empty;u2.node=V1.node;u2.call=V1.call;u2.size=V1.size;u2.select=function(s){var a=[],b,c,u,g,d;for(var j=-1,m=this.length;++j<m;){u=(g=this[j]).update;a.push(b=[]);b.parentNode=g.parentNode;for(var i=-1,n=g.length;++i<n;){if(d=g[i]){b.push(u[i]=c=s.call(g.parentNode,d.__data__,i,j));c.__data__=d.__data__;}else{b.push(null);}}}return Q1(a);};u2.insert=function(n,b){if(arguments.length<2)b=v2(this);return V1.insert.call(this,n,b);};function v2(a){var b,c;return function(d,i,j){var g=a[j].update,n=g.length,f;if(j!=c)c=j,b=0;if(i>=b)b=i+1;while(!(f=g[b])&&++b<n);return f;};}V1.transition=function(){var a=Sa||++Ra,s=[],b,c,t=Ta||{time:Date.now(),ease:T7,delay:0,duration:250};for(var j=-1,m=this.length;++j<m;){s.push(b=[]);for(var g=this[j],i=-1,n=g.length;++i<n;){if(c=g[i])Wa(c,i,a,t);b.push(c);}}return Pa(s,a);};V1.interrupt=function(){return this.each(w2);};function w2(){var l=this.__transition__;if(l)++l.active;}D.select=function(n){var g=[typeof n==="string"?R1(n,K):n];g.parentNode=M;return Q1([g]);};D.selectAll=function(n){var g=J(typeof n==="string"?S1(n,K):n);g.parentNode=M;return Q1([g]);};var z2=D.select(M);V1.on=function(t,l,c){var n=arguments.length;if(n<3){if(typeof t!=="string"){if(n<2)l=false;for(c in t)this.each(A2(c,t[c],l));return this;}if(n<2)return(n=this.node()["__on"+t])&&n._;c=false;}return this.each(A2(t,l,c));};function A2(t,a,c){var n="__on"+t,i=t.indexOf("."),w=C2;if(i>0)t=t.slice(0,i);var f=B2.get(t);if(f)t=f,w=D2;function o(){var l=this[n];if(l){this.removeEventListener(t,l,l.$);delete this[n];}}function b(){var l=w(a,J(arguments));o.call(this);this.addEventListener(t,this[n]=l,l.$=c);l._=a;}function r(){var d=new RegExp("^__on([^.]+)"+D.requote(t)+"$"),m;for(var n in this){if(m=n.match(d)){var l=this[n];this.removeEventListener(m[1],l,l.$);delete this[n];}}}return i?a?b:o:a?I1:r;}var B2=D.map({mouseenter:"mouseover",mouseleave:"mouseout"});B2.forEach(function(k){if("on"+k in K)B2.remove(k);});function C2(l,a){return function(e){var o=D.event;D.event=e;a[0]=this.__data__;try{l.apply(this,a);}finally{D.event=o;}};}function D2(a,b){var l=C2(a,b);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){l.call(t,e);}};}var E2="onselectstart"in K?null:G1(M.style,"userSelect"),F2=0;function G2(){var n=".dragsuppress-"+ ++F2,c="click"+n,w=D.select(O).on("touchmove"+n,L1).on("dragstart"+n,L1).on("selectstart"+n,L1);if(E2){var s=M.style,a=s[E2];s[E2]="none";}return function(b){w.on(n,null);if(E2)s[E2]=a;if(b){function o(){w.on(c,null);};w.on(c,function(){L1();o();},true);setTimeout(o,0);}};}D.mouse=function(c){return I2(c,M1());};var H2=/WebKit/.test(O.navigator.userAgent)?-1:0;function I2(c,e){if(e.changedTouches)e=e.changedTouches[0];var s=c.ownerSVGElement||c;if(s.createSVGPoint){var p=s.createSVGPoint();if(H2<0&&(O.scrollX||O.scrollY)){s=D.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=s[0][0].getScreenCTM();H2=!(a.f||a.e);s.remove();}if(H2)p.x=e.pageX,p.y=e.pageY;else p.x=e.clientX,p.y=e.clientY;p=p.matrixTransform(c.getScreenCTM().inverse());return[p.x,p.y];}var r=c.getBoundingClientRect();return[e.clientX-r.left-c.clientLeft,e.clientY-r.top-c.clientTop];}D.touch=function(c,t,a){if(arguments.length<3)a=t,t=M1().changedTouches;if(t)for(var i=0,n=t.length,b;i<n;++i){if((b=t[i]).identifier===a){return I2(c,b);}}};D.behavior.drag=function(){var a=N1(d,"drag","dragstart","dragend"),o=null,m=b(I1,D.mouse,L2,"mousemove","mouseup"),t=b(J2,D.touch,K2,"touchmove","touchend");function d(){this.on("mousedown.drag",m).on("touchstart.drag",t);}function b(i,p,s,c,f){return function(){var g=this,h=D.event.target,j=g.parentNode,k=a.of(g,arguments),l=0,n=i(),q=".drag"+(n==null?"":"-"+n),r,u=D.select(s()).on(c+q,x).on(f+q,y),v=G2(),w=p(j,n);if(o){r=o.apply(g,arguments);r=[r.x-w[0],r.y-w[1]];}else{r=[0,0];}k({type:"dragstart"});function x(){var z=p(j,n),A,B;if(!z)return;A=z[0]-w[0];B=z[1]-w[1];l|=A|B;w=z;k({type:"drag",x:z[0]+r[0],y:z[1]+r[1],dx:A,dy:B});}function y(){if(!p(j,n))return;u.on(c+q,null).on(f+q,null);v(l&&D.event.target===h);k({type:"dragend"});}};}d.origin=function(x){if(!arguments.length)return o;o=x;return d;};return D.rebind(d,a,"on");};function J2(){return D.event.changedTouches[0].identifier;}function K2(){return D.event.target;}function L2(){return O;}D.touches=function(c,t){if(arguments.length<2)t=M1().touches;return t?J(t).map(function(a){var p=I2(c,a);p.identifier=a.identifier;return p;}):[];};var π=Math.PI,τ=2*π,M2=π/2,ε=1e-6,ε2=ε*ε,O2=π/180,P2=180/π;function Q2(x){return x>0?1:x<0?-1:0;}function R2(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0]);}function S2(x){return x>1?0:x<-1?π:Math.acos(x);}function T2(x){return x>1?M2:x<-1?-M2:Math.asin(x);}function U2(x){return((x=Math.exp(x))-1/x)/2;}function V2(x){return((x=Math.exp(x))+1/x)/2;}function W2(x){return((x=Math.exp(2*x))-1)/(x+1);}function X2(x){return(x=Math.sin(x/2))*x;}var ρ=Math.SQRT2,ρ2=2,ρ4=4;D.interpolateZoom=function(p,a){var b=p[0],c=p[1],w=p[2],d=a[0],f=a[1],g=a[2];var h=d-b,i=f-c,j=h*h+i*i,k=Math.sqrt(j),l=(g*g-w*w+ρ4*j)/(2*w*ρ2*k),m=(g*g-w*w-ρ4*j)/(2*g*ρ2*k),r=Math.log(Math.sqrt(l*l+1)-l),n=Math.log(Math.sqrt(m*m+1)-m),o=n-r,S=(o||Math.log(g/w))/ρ;function q(t){var s=t*S;if(o){var v=V2(r),u=w/(ρ2*k)*(v*W2(ρ*s+r)-U2(r));return[b+u*h,c+u*i,w*v/V2(ρ*s+r)];}return[b+t*h,c+t*i,w*Math.exp(ρ*s)];}q.duration=S*1e3;return q;};D.behavior.zoom=function(){var v={x:0,y:0,k:1},a,c,b,d=[960,500],f=$2,m="mousedown.zoom",h="mousemove.zoom",j="mouseup.zoom",o,r="touchstart.zoom",u,w=N1(G,"zoomstart","zoom","zoomend"),A,B,C,F;function G(g){g.on(m,b1).on(a3+".zoom",d1).on("dblclick.zoom",e1).on(r,c1);}G.event=function(g){g.each(function(){var n=w.of(this,arguments),p=v;if(Sa){D.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1};X(n);}).tween("zoom:zoom",function(){var q=d[0],s=d[1],x=q/2,y=s/2,i=D.interpolateZoom([(x-v.x)/v.k,(y-v.y)/v.k,q/v.k],[(x-p.x)/p.k,(y-p.y)/p.k,q/p.k]);return function(t){var l=i(t),k=q/l[2];this.__chart__=v={x:x-l[0]*k,y:y-l[1]*k,k:k};Y(n);};}).each("end.zoom",function(){a1(n);});}else{this.__chart__=v;X(n);Y(n);a1(n);}});};G.translate=function(_){if(!arguments.length)return[v.x,v.y];v={x:+_[0],y:+_[1],k:v.k};S();return G;};G.scale=function(_){if(!arguments.length)return v.k;v={x:v.x,y:v.y,k:+_};S();return G;};G.scaleExtent=function(_){if(!arguments.length)return f;f=_==null?$2:[+_[0],+_[1]];return G;};G.center=function(_){if(!arguments.length)return b;b=_&&[+_[0],+_[1]];return G;};G.size=function(_){if(!arguments.length)return d;d=_&&[+_[0],+_[1]];return G;};G.x=function(z){if(!arguments.length)return B;B=z;A=z.copy();v={x:0,y:0,k:1};return G;};G.y=function(z){if(!arguments.length)return F;F=z;C=z.copy();v={x:0,y:0,k:1};return G;};function H(p){return[(p[0]-v.x)/v.k,(p[1]-v.y)/v.k];}function I(l){return[l[0]*v.k+v.x,l[1]*v.k+v.y];}function L(s){v.k=Math.max(f[0],Math.min(f[1],s));}function N(p,l){l=I(l);v.x+=p[0]-l[0];v.y+=p[1]-l[1];}function S(){if(B)B.domain(A.range().map(function(x){return(x-v.x)/v.k;}).map(A.invert));if(F)F.domain(C.range().map(function(y){return(y-v.y)/v.k;}).map(C.invert));}function X(g){g({type:"zoomstart"});}function Y(g){S();g({type:"zoom",scale:v.k,translate:[v.x,v.y]});}function a1(g){g({type:"zoomend"});}function b1(){var t=this,g=D.event.target,i=w.of(t,arguments),k=0,s=D.select(O).on(h,p).on(j,q),l=H(D.mouse(t)),n=G2();w2.call(t);X(i);function p(){k=1;N(D.mouse(t),l);Y(i);}function q(){s.on(h,null).on(j,null);n(k&&D.event.target===g);a1(i);}}function c1(){var g=this,k=w.of(g,arguments),s={},x=0,y,z=".zoom-"+D.event.changedTouches[0].identifier,_="touchmove"+z,i1="touchend"+z,m1=[],n1=D.select(g),q1=G2();w2.call(g);s1();X(k);n1.on(m,null).on(r,s1);function r1(){var i=D.touches(g);y=v.k;i.forEach(function(t){if(t.identifier in s)s[t.identifier]=H(t);});return i;}function s1(){var t=D.event.target;D.select(t).on(_,t1).on(i1,w1);m1.push(t);var l1=D.event.changedTouches;for(var i=0,n=l1.length;i<n;++i){s[l1[i].identifier]=null;}var p1=r1(),X1=Date.now();if(p1.length===1){if(X1-u<500){var p=p1[0],l=s[p.identifier];L(v.k*2);N(p,l);L1();Y(k);}u=X1;}else if(p1.length>1){var p=p1[0],q=p1[1],dx=p[0]-q[0],dy=p[1]-q[1];x=dx*dx+dy*dy;}}function t1(){var t=D.touches(g),p,l,q,l1;for(var i=0,n=t.length;i<n;++i,l1=null){q=t[i];if(l1=s[q.identifier]){if(l)break;p=q,l=l1;}}if(l1){var p1=(p1=q[0]-p[0])*p1+(p1=q[1]-p[1])*p1,X1=x&&Math.sqrt(p1/x);p=[(p[0]+q[0])/2,(p[1]+q[1])/2];l=[(l[0]+l1[0])/2,(l[1]+l1[1])/2];L(X1*y);}u=null;N(p,l);Y(k);}function w1(){if(D.event.touches.length){var l=D.event.changedTouches;for(var i=0,n=l.length;i<n;++i){delete s[l[i].identifier];}for(var p in s){return void r1();}}D.selectAll(m1).on(z,null);n1.on(m,b1).on(r,c1);q1();a1(k);}}function d1(){var g=w.of(this,arguments);if(o)clearTimeout(o);else a=H(c=b||D.mouse(this)),w2.call(this),X(g);o=setTimeout(function(){o=null;a1(g);},50);L1();L(Math.pow(2,_2()*.002)*v.k);N(c,a);Y(g);}function e1(){var g=w.of(this,arguments),p=D.mouse(this),l=H(p),k=Math.log(v.k)/Math.LN2;X(g);L(Math.pow(2,D.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));N(p,l);Y(g);a1(g);}return D.rebind(G,w,"on");};var $2=[0,Infinity];var _2,a3="onwheel"in K?(_2=function(){return-D.event.deltaY*(D.event.deltaMode?120:1);},"wheel"):"onmousewheel"in K?(_2=function(){return D.event.wheelDelta;},"mousewheel"):(_2=function(){return-D.event.detail;},"MozMousePixelScroll");D.color=b3;function b3(){}b3.prototype.toString=function(){return this.rgb()+"";};D.hsl=c3;function c3(h,s,l){return this instanceof c3?void(this.h=+h,this.s=+s,this.l=+l):arguments.length<2?h instanceof c3?new c3(h.h,h.s,h.l):D3(""+h,E3,c3):new c3(h,s,l);}var d3=c3.prototype=new b3();d3.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);return new c3(this.h,this.s,this.l/k);};d3.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new c3(this.h,this.s,k*this.l);};d3.rgb=function(){return e3(this.h,this.s,this.l);};function e3(h,s,l){var m,a;h=isNaN(h)?0:(h%=360)<0?h+360:h;s=isNaN(s)?0:s<0?0:s>1?1:s;l=l<0?0:l>1?1:l;a=l<=.5?l*(1+s):l+s-l*s;m=2*l-a;function v(h){if(h>360)h-=360;else if(h<0)h+=360;if(h<60)return m+(a-m)*h/60;if(h<180)return a;if(h<240)return m+(a-m)*(240-h)/60;return m;}function b(h){return Math.round(v(h)*255);}return new w3(b(h+120),b(h),b(h-120));}D.hcl=f3;function f3(h,c,l){return this instanceof f3?void(this.h=+h,this.c=+c,this.l=+l):arguments.length<2?h instanceof f3?new f3(h.h,h.c,h.l):h instanceof i3?q3(h.l,h.a,h.b):q3((h=F3((h=D.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new f3(h,c,l);}var g3=f3.prototype=new b3();g3.brighter=function(k){return new f3(this.h,this.c,Math.min(100,this.l+j3*(arguments.length?k:1)));};g3.darker=function(k){return new f3(this.h,this.c,Math.max(0,this.l-j3*(arguments.length?k:1)));};g3.rgb=function(){return h3(this.h,this.c,this.l).rgb();};function h3(h,c,l){if(isNaN(h))h=0;if(isNaN(c))c=0;return new i3(l,Math.cos(h*=O2)*c,Math.sin(h)*c);}D.lab=i3;function i3(l,a,b){return this instanceof i3?void(this.l=+l,this.a=+a,this.b=+b):arguments.length<2?l instanceof i3?new i3(l.l,l.a,l.b):l instanceof f3?h3(l.l,l.c,l.h):F3((l=w3(l)).r,l.g,l.b):new i3(l,a,b);}var j3=18;var k3=.95047,l3=1,m3=1.08883;var n3=i3.prototype=new b3();n3.brighter=function(k){return new i3(Math.min(100,this.l+j3*(arguments.length?k:1)),this.a,this.b);};n3.darker=function(k){return new i3(Math.max(0,this.l-j3*(arguments.length?k:1)),this.a,this.b);};n3.rgb=function(){return o3(this.l,this.a,this.b);};function o3(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;x=r3(x)*k3;y=r3(y)*l3;z=r3(z)*m3;return new w3(v3(3.2404542*x-1.5371385*y-.4985314*z),v3(-.969266*x+1.8760108*y+.041556*z),v3(.0556434*x-.2040259*y+1.0572252*z));}function q3(l,a,b){return l>0?new f3(Math.atan2(b,a)*P2,Math.sqrt(a*a+b*b),l):new f3(NaN,NaN,l);}function r3(x){return x>.206893034?x*x*x:(x-4/29)/7.787037;}function u3(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29;}function v3(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055));}D.rgb=w3;function w3(r,g,b){return this instanceof w3?void(this.r=~~r,this.g=~~g,this.b=~~b):arguments.length<2?r instanceof w3?new w3(r.r,r.g,r.b):D3(""+r,w3,e3):new w3(r,g,b);}function z3(v){return new w3(v>>16,v>>8&255,v&255);}function A3(v){return z3(v)+"";}var B3=w3.prototype=new b3();B3.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;if(!r&&!g&&!b)return new w3(i,i,i);if(r&&r<i)r=i;if(g&&g<i)g=i;if(b&&b<i)b=i;return new w3(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k));};B3.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new w3(k*this.r,k*this.g,k*this.b);};B3.hsl=function(){return E3(this.r,this.g,this.b);};B3.toString=function(){return"#"+C3(this.r)+C3(this.g)+C3(this.b);};function C3(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16);}function D3(f,a,h){var r=0,g=0,b=0,m,c,d;m=/([a-z]+)\((.*)\)/i.exec(f);if(m){c=m[2].split(",");switch(m[1]){case"hsl":{return h(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);}case"rgb":{return a(H3(c[0]),H3(c[1]),H3(c[2]));}}}if(d=I3.get(f))return a(d.r,d.g,d.b);if(f!=null&&f.charAt(0)==="#"&&!isNaN(d=parseInt(f.slice(1),16))){if(f.length===4){r=(d&3840)>>4;r=r>>4|r;g=d&240;g=g>>4|g;b=d&15;b=b<<4|b;}else if(f.length===7){r=(d&16711680)>>16;g=(d&65280)>>8;b=d&255;}}return a(r,g,b);}function E3(r,g,b){var m=Math.min(r/=255,g/=255,b/=255),a=Math.max(r,g,b),d=a-m,h,s,l=(a+m)/2;if(d){s=l<.5?d/(a+m):d/(2-a-m);if(r==a)h=(g-b)/d+(g<b?6:0);else if(g==a)h=(b-r)/d+2;else h=(r-g)/d+4;h*=60;}else{h=NaN;s=l>0&&l<1?0:h;}return new c3(h,s,l);}function F3(r,g,b){r=G3(r);g=G3(g);b=G3(b);var x=u3((.4124564*r+.3575761*g+.1804375*b)/k3),y=u3((.2126729*r+.7151522*g+.072175*b)/l3),z=u3((.0193339*r+.119192*g+.9503041*b)/m3);return i3(116*y-16,500*(x-y),200*(y-z));}function G3(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);}function H3(c){var f=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(f*2.55):f;}var I3=D.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});I3.forEach(function(k,v){I3.set(k,z3(v));});function J3(v){return typeof v==="function"?v:function(){return v;};}D.functor=J3;function K3(d){return d;}D.xhr=L3(K3);function L3(r){return function(u,m,c){if(arguments.length===2&&typeof m==="function")c=m,m=null;return M3(u,m,r,c);};}function M3(u,m,r,c){var x={},d=D.dispatch("beforesend","progress","load","error"),h={},a=new XMLHttpRequest(),b=null;if(O.XDomainRequest&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(u))a=new XDomainRequest();"onload"in a?a.onload=a.onerror=f:a.onreadystatechange=function(){a.readyState>3&&f();};function f(){var s=a.status,g;if(!s&&O3(a)||s>=200&&s<300||s===304){try{g=r.call(x,a);}catch(e){d.error.call(x,e);return;}d.load.call(x,g);}else{d.error.call(x,a);}}a.onprogress=function(g){var o=D.event;D.event=g;try{d.progress.call(x,a);}finally{D.event=o;}};x.header=function(n,v){n=(n+"").toLowerCase();if(arguments.length<2)return h[n];if(v==null)delete h[n];else h[n]=v+"";return x;};x.mimeType=function(v){if(!arguments.length)return m;m=v==null?null:v+"";return x;};x.responseType=function(v){if(!arguments.length)return b;b=v;return x;};x.response=function(v){r=v;return x;};["get","post"].forEach(function(g){x[g]=function(){return x.send.apply(x,[g].concat(J(arguments)));};});x.send=function(g,i,c){if(arguments.length===2&&typeof i==="function")c=i,i=null;a.open(g,u,true);if(m!=null&&!("accept"in h))h["accept"]=m+",*/*";if(a.setRequestHeader)for(var n in h)a.setRequestHeader(n,h[n]);if(m!=null&&a.overrideMimeType)a.overrideMimeType(m);if(b!=null)a.responseType=b;if(c!=null)x.on("error",c).on("load",function(a){c(null,a);});d.beforesend.call(x,a);a.send(i==null?null:i);return x;};x.abort=function(){a.abort();return x;};D.rebind(x,d,"on");return c==null?x:x.get(N3(c));}function N3(c){return c.length===1?function(P,r){c(P==null?r:null);}:c;}function O3(r){var t=r.responseType;return t&&t!=="text"?r.response:r.responseText;}D.dsv=function(d,m){var r=new RegExp('["'+d+"\n]"),b=d.charCodeAt(0);function g(u,a,c){if(arguments.length<3)c=a,a=null;var x=M3(u,m,a==null?h:l(a),c);x.row=function(_){return arguments.length?x.response((a=_)==null?h:l(_)):a;};return x;}function h(a){return g.parse(a.responseText);}function l(f){return function(a){return g.parse(a.responseText,f);};}g.parse=function(t,f){var o;return g.parseRows(t,function(c,i){if(o)return o(c,i-1);var a=new Function("d","return {"+c.map(function(n,i){return JSON.stringify(n)+": d["+i+"]";}).join(",")+"}");o=f?function(c,i){return f(a(c),i);}:a;});};g.parseRows=function(o,f){var s={},u={},v=[],N=o.length,I=0,n=0,t,w;function x(){if(I>=N)return u;if(w)return w=false,s;var j=I;if(o.charCodeAt(j)===34){var i=j;while(i++<N){if(o.charCodeAt(i)===34){if(o.charCodeAt(i+1)!==34)break;++i;}}I=i+2;var c=o.charCodeAt(i+1);if(c===13){w=true;if(o.charCodeAt(i+2)===10)++I;}else if(c===10){w=true;}return o.slice(j+1,i).replace(/""/g,'"');}while(I<N){var c=o.charCodeAt(I++),k=1;if(c===10)w=true;else if(c===13){w=true;if(o.charCodeAt(I)===10)++I,++k;}else if(c!==b)continue;return o.slice(j,I-k);}return o.slice(j);}while((t=x())!==u){var a=[];while(t!==s&&t!==u){a.push(t);t=x();}if(f&&!(a=f(a,n++)))continue;v.push(a);}return v;};g.format=function(a){if(Array.isArray(a[0]))return g.formatRows(a);var f=new E1(),c=[];a.forEach(function(i){for(var j in i){if(!f.has(j)){c.push(f.add(j));}}});return[c.map(q).join(d)].concat(a.map(function(i){return c.map(function(j){return q(i[j]);}).join(d);})).join("\n");};g.formatRows=function(a){return a.map(p).join("\n");};function p(a){return a.map(q).join(d);}function q(t){return r.test(t)?'"'+t.replace(/\"/g,'""')+'"':t;}return g;};D.csv=D.dsv(",","text/csv");D.tsv=D.dsv("	","text/tab-separated-values");var P3,Q3,R3,S3,T3,U3=O[G1(O,"requestAnimationFrame")]||function(c){setTimeout(c,17);};D.timer=function(c,d,t){var n=arguments.length;if(n<2)d=0;if(n<3)t=Date.now();var a=t+d,b={c:c,t:a,f:false,n:null};if(Q3)Q3.n=b;else P3=b;Q3=b;if(!R3){S3=clearTimeout(S3);R3=1;U3(V3);}};function V3(){var n=W3(),d=X3()-n;if(d>24){if(isFinite(d)){clearTimeout(S3);S3=setTimeout(V3,d);}R3=0;}else{R3=1;U3(V3);}}D.timer.flush=function(){W3();X3();};function W3(){var n=Date.now();T3=P3;while(T3){if(n>=T3.t)T3.f=T3.c(n-T3.t);T3=T3.n;}return n;}function X3(){var t,a=P3,b=Infinity;while(a){if(a.f){a=t?t.n=a.n:P3=a.n;}else{if(a.t<b)b=a.t;a=(t=a).n;}}Q3=t;return b;}function Y3(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1);}D.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x);};var Z3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map($3);D.formatPrefix=function(v,p){var i=0;if(v){if(v<0)v*=-1;if(p)v=D.round(v,Y3(v,p));i=1+Math.floor(1e-12+Math.log(v)/Math.LN10);i=Math.max(-24,Math.min(24,Math.floor((i-1)/3)*3));}return Z3[8+i/3];};function $3(d,i){var k=Math.pow(10,h1(8-i)*3);return{scale:i>8?function(d){return d/k;}:function(d){return d*k;},symbol:d};}function _3(l){var a=l.decimal,b=l.thousands,c=l.grouping,d=l.currency,f=c?function(v){var i=v.length,t=[],j=0,g=c[0];while(g>0&&i>0){t.push(v.substring(i-=g,i+g));g=c[j=(j+1)%c.length];}return t.reverse().join(b);}:K3;return function(s){var m=a4.exec(s),g=m[1]||" ",h=m[2]||">",j=m[3]||"",k=m[4]||"",z=m[5],w=+m[6],n=m[7],p=m[8],t=m[9],o=1,q="",r="",u=false;if(p)p=+p.substring(1);if(z||g==="0"&&h==="="){z=g="0";h="=";if(n)w-=Math.floor((w-1)/4);}switch(t){case"n":n=true;t="g";break;case"%":o=100;r="%";t="f";break;case"p":o=100;r="%";t="r";break;case"b":case"o":case"x":case"X":if(k==="#")q="0"+t.toLowerCase();case"c":case"d":u=true;p=0;break;case"s":o=-1;t="r";break;}if(k==="$")q=d[0],r=d[1];if(t=="r"&&!p)t="g";if(p!=null){if(t=="g")p=Math.max(1,Math.min(21,p));else if(t=="e"||t=="f")p=Math.max(0,Math.min(20,p));}t=b4.get(t)||c4;var v=z&&n;return function(x){var y=r;if(u&&x%1)return"";var A=x<0||x===0&&1/x<0?(x=-x,"-"):j;if(o<0){var B=D.formatPrefix(x,p);x=B.scale(x);y=B.symbol+r;}else{x*=o;}x=t(x,p);var i=x.lastIndexOf("."),C=i<0?x:x.substring(0,i),F=i<0?"":a+x.substring(i+1);if(!z&&n)C=f(C);var G=q.length+C.length+F.length+(v?0:A.length),H=G<w?new Array(G=w-G+1).join(g):"";if(v)C=f(H+C);A+=q;x=C+F;return(h==="<"?A+x+H:h===">"?H+A+x:h==="^"?H.substring(0,G>>=1)+A+x+H.substring(G):A+(v?x:H+x))+y;};};}var a4=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var b4=D.map({b:function(x){return x.toString(2);},c:function(x){return String.fromCharCode(x);},o:function(x){return x.toString(8);},x:function(x){return x.toString(16);},X:function(x){return x.toString(16).toUpperCase();},g:function(x,p){return x.toPrecision(p);},e:function(x,p){return x.toExponential(p);},f:function(x,p){return x.toFixed(p);},r:function(x,p){return(x=D.round(x,Y3(x,p))).toFixed(Math.max(0,Math.min(20,Y3(x*(1+1e-15),p))));}});function c4(x){return x+"";}var d4=D.time={},e4=Date;function f4(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0]);}f4.prototype={getDate:function(){return this._.getUTCDate();},getDay:function(){return this._.getUTCDay();},getFullYear:function(){return this._.getUTCFullYear();},getHours:function(){return this._.getUTCHours();},getMilliseconds:function(){return this._.getUTCMilliseconds();},getMinutes:function(){return this._.getUTCMinutes();},getMonth:function(){return this._.getUTCMonth();},getSeconds:function(){return this._.getUTCSeconds();},getTime:function(){return this._.getTime();},getTimezoneOffset:function(){return 0;},valueOf:function(){return this._.valueOf();},setDate:function(){g4.setUTCDate.apply(this._,arguments);},setDay:function(){g4.setUTCDay.apply(this._,arguments);},setFullYear:function(){g4.setUTCFullYear.apply(this._,arguments);},setHours:function(){g4.setUTCHours.apply(this._,arguments);},setMilliseconds:function(){g4.setUTCMilliseconds.apply(this._,arguments);},setMinutes:function(){g4.setUTCMinutes.apply(this._,arguments);},setMonth:function(){g4.setUTCMonth.apply(this._,arguments);},setSeconds:function(){g4.setUTCSeconds.apply(this._,arguments);},setTime:function(){g4.setTime.apply(this._,arguments);}};var g4=Date.prototype;function h4(l,s,n){function r(d){var f=l(d),g=o(f,1);return d-f<g-d?f:g;}function c(d){s(d=l(new e4(d-1)),1);return d;}function o(d,k){s(d=new e4(+d),k);return d;}function a(t,d,f){var g=c(t),h=[];if(f>1){while(g<d){if(!(n(g)%f))h.push(new Date(+g));s(g,1);}}else{while(g<d)h.push(new Date(+g)),s(g,1);}return h;}function b(t,d,f){try{e4=f4;var u=new f4();u._=t;return a(u,d,f);}finally{e4=Date;}}l.floor=l;l.round=r;l.ceil=c;l.offset=o;l.range=a;var u=l.utc=i4(l);u.floor=u;u.round=i4(r);u.ceil=i4(c);u.offset=i4(o);u.range=b;return l;}function i4(m){return function(d,k){try{e4=f4;var u=new f4();u._=d;return m(u,k)._;}finally{e4=Date;}};}d4.year=h4(function(d){d=d4.day(d);d.setMonth(0,1);return d;},function(d,o){d.setFullYear(d.getFullYear()+o);},function(d){return d.getFullYear();});d4.years=d4.year.range;d4.years.utc=d4.year.utc.range;d4.day=h4(function(d){var a=new e4(2e3,0);a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate());return a;},function(d,o){d.setDate(d.getDate()+o);},function(d){return d.getDate()-1;});d4.days=d4.day.range;d4.days.utc=d4.day.utc.range;d4.dayOfYear=function(d){var y=d4.year(d);return Math.floor((d-y-(d.getTimezoneOffset()-y.getTimezoneOffset())*6e4)/864e5);};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(d,i){i=7-i;var a=d4[d]=h4(function(b){(b=d4.day(b)).setDate(b.getDate()-(b.getDay()+i)%7);return b;},function(b,o){b.setDate(b.getDate()+Math.floor(o)*7);},function(b){var d=d4.year(b).getDay();return Math.floor((d4.dayOfYear(b)+(d+i)%7)/7)-(d!==i);});d4[d+"s"]=a.range;d4[d+"s"].utc=a.utc.range;d4[d+"OfYear"]=function(b){var d=d4.year(b).getDay();return Math.floor((d4.dayOfYear(b)+(d+i)%7)/7);};});d4.week=d4.sunday;d4.weeks=d4.sunday.range;d4.weeks.utc=d4.sunday.utc.range;d4.weekOfYear=d4.sundayOfYear;function j4(l){var a=l.dateTime,b=l.date,g=l.time,h=l.periods,k=l.days,o=l.shortDays,q=l.months,r=l.shortMonths;function gb(t){var n=t.length;function m(d){var a1=[],i=-1,j=0,c,p,f;while(++i<n){if(t.charCodeAt(i)===37){a1.push(t.slice(j,i));if((p=k4[c=t.charAt(++i)])!=null)c=t.charAt(++i);if(f=F[c])c=f(d,p==null?c==="e"?" ":"0":p);a1.push(c);j=i+1;}}a1.push(t.slice(j,i));return a1.join("");}m.parse=function(c){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=s(d,t,c,0);if(i!=c.length)return null;if("p"in d)d.H=d.H%12+d.p*12;var f=d.Z!=null&&e4!==f4,j=new(f?f4:e4)();if("j"in d)j.setFullYear(d.y,0,d.j);else if("w"in d&&("W"in d||"U"in d)){j.setFullYear(d.y,0,1);j.setFullYear(d.y,0,"W"in d?(d.w+6)%7+d.W*7-(j.getDay()+5)%7:d.w+d.U*7-(j.getDay()+6)%7);}else j.setFullYear(d.y,d.m,d.d);j.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return f?j._:j;};m.toString=function(){return t;};return m;}function s(d,f,a1,j){var c,p,t,i=0,n=f.length,m=a1.length;while(i<n){if(j>=m)return-1;c=f.charCodeAt(i++);if(c===37){t=f.charAt(i++);p=G[t in k4?f.charAt(i++):t];if(!p||(j=p(d,a1,j))<0)return-1;}else if(c!=a1.charCodeAt(j++)){return-1;}}return j;}gb.utc=function(t){var c=gb(t);function f(d){try{e4=f4;var i=new e4();i._=d;return c(i);}finally{e4=Date;}}f.parse=function(d){try{e4=f4;var i=c.parse(d);return i&&i._;}finally{e4=Date;}};f.toString=c.toString;return f;};gb.multi=gb.utc.multi=G4;var u=D.map(),v=o4(k),w=p4(k),x=o4(o),y=p4(o),z=o4(q),A=p4(q),B=o4(r),C=p4(r);h.forEach(function(p,i){u.set(p.toLowerCase(),i);});var F={a:function(d){return o[d.getDay()];},A:function(d){return k[d.getDay()];},b:function(d){return r[d.getMonth()];},B:function(d){return q[d.getMonth()];},c:gb(a),d:function(d,p){return n4(d.getDate(),p,2);},e:function(d,p){return n4(d.getDate(),p,2);},H:function(d,p){return n4(d.getHours(),p,2);},I:function(d,p){return n4(d.getHours()%12||12,p,2);},j:function(d,p){return n4(1+d4.dayOfYear(d),p,3);},L:function(d,p){return n4(d.getMilliseconds(),p,3);},m:function(d,p){return n4(d.getMonth()+1,p,2);},M:function(d,p){return n4(d.getMinutes(),p,2);},p:function(d){return h[+(d.getHours()>=12)];},S:function(d,p){return n4(d.getSeconds(),p,2);},U:function(d,p){return n4(d4.sundayOfYear(d),p,2);},w:function(d){return d.getDay();},W:function(d,p){return n4(d4.mondayOfYear(d),p,2);},x:gb(b),X:gb(g),y:function(d,p){return n4(d.getFullYear()%100,p,2);},Y:function(d,p){return n4(d.getFullYear()%1e4,p,4);},Z:E4,"%":function(){return"%";}};var G={a:H,A:I,b:L,B:N,c:S,d:y4,e:y4,H:A4,I:A4,j:z4,L:D4,m:x4,M:B4,p:_,S:C4,U:r4,w:q4,W:s4,x:X,X:Y,y:u4,Y:t4,Z:v4,"%":F4};function H(d,c,i){x.lastIndex=0;var n=x.exec(c.slice(i));return n?(d.w=y.get(n[0].toLowerCase()),i+n[0].length):-1;}function I(d,c,i){v.lastIndex=0;var n=v.exec(c.slice(i));return n?(d.w=w.get(n[0].toLowerCase()),i+n[0].length):-1;}function L(d,c,i){B.lastIndex=0;var n=B.exec(c.slice(i));return n?(d.m=C.get(n[0].toLowerCase()),i+n[0].length):-1;}function N(d,c,i){z.lastIndex=0;var n=z.exec(c.slice(i));return n?(d.m=A.get(n[0].toLowerCase()),i+n[0].length):-1;}function S(d,c,i){return s(d,F.c.toString(),c,i);}function X(d,c,i){return s(d,F.x.toString(),c,i);}function Y(d,c,i){return s(d,F.X.toString(),c,i);}function _(d,c,i){var n=u.get(c.slice(i,i+=2).toLowerCase());return n==null?-1:(d.p=n,i);}return gb;}var k4={"-":"",_:" ","0":"0"},l4=/^\s*\d+/,m4=/^%/;function n4(v,f,w){var s=v<0?"-":"",a=(s?-v:v)+"",l=a.length;return s+(l<w?new Array(w-l+1).join(f)+a:a);}function o4(n){return new RegExp("^(?:"+n.map(D.requote).join("|")+")","i");}function p4(a){var m=new o1(),i=-1,n=a.length;while(++i<n)m.set(a[i].toLowerCase(),i);return m;}function q4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1;}function r4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i));return n?(d.U=+n[0],i+n[0].length):-1;}function s4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i));return n?(d.W=+n[0],i+n[0].length):-1;}function t4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1;}function u4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.y=w4(+n[0]),i+n[0].length):-1;}function v4(d,s,i){return/^[+-]\d{4}$/.test(s=s.slice(i,i+5))?(d.Z=-s,i+5):-1;}function w4(d){return d+(d>68?1900:2e3);}function x4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1;}function y4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1;}function z4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+3));return n?(d.j=+n[0],i+n[0].length):-1;}function A4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1;}function B4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1;}function C4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1;}function D4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1;}function E4(d){var z=d.getTimezoneOffset(),a=z>0?"-":"+",b=h1(z)/60|0,c=h1(z)%60;return a+n4(b,"0",2)+n4(c,"0",2);}function F4(d,s,i){m4.lastIndex=0;var n=m4.exec(s.slice(i,i+1));return n?i+n[0].length:-1;}function G4(a){var n=a.length,i=-1;while(++i<n)a[i][0]=this(a[i][0]);return function(d){var i=0,f=a[i];while(!f[1](d))f=a[++i];return f[0](d);};}D.locale=function(l){return{numberFormat:_3(l),timeFormat:j4(l)};};var H4=D.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});D.format=H4.numberFormat;D.geo={};function I4(){}I4.prototype={s:0,t:0,add:function(y){K4(y,this.t,J4);K4(J4.s,this.s,this);if(this.s)this.t+=J4.t;else this.s=J4.t;},reset:function(){this.s=this.t=0;},valueOf:function(){return this.s;}};var J4=new I4();function K4(a,b,o){var x=o.s=a+b,c=x-a,d=x-c;o.t=a-d+(b-c);}D.geo.stream=function(o,l){if(o&&M4.hasOwnProperty(o.type)){M4[o.type](o,l);}else{L4(o,l);}};function L4(g,l){if(g&&N4.hasOwnProperty(g.type)){N4[g.type](g,l);}}var M4={Feature:function(f,l){L4(f.geometry,l);},FeatureCollection:function(o,l){var f=o.features,i=-1,n=f.length;while(++i<n)L4(f[i].geometry,l);}};var N4={Sphere:function(o,l){l.sphere();},Point:function(o,l){o=o.coordinates;l.point(o[0],o[1],o[2]);},MultiPoint:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)o=c[i],l.point(o[0],o[1],o[2]);},LineString:function(o,l){O4(o.coordinates,l,0);},MultiLineString:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)O4(c[i],l,0);},Polygon:function(o,l){P4(o.coordinates,l);},MultiPolygon:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)P4(c[i],l);},GeometryCollection:function(o,l){var g=o.geometries,i=-1,n=g.length;while(++i<n)L4(g[i],l);}};function O4(c,l,a){var i=-1,n=c.length-a,b;l.lineStart();while(++i<n)b=c[i],l.point(b[0],b[1],b[2]);l.lineEnd();}function P4(c,l){var i=-1,n=c.length;l.polygonStart();while(++i<n)O4(c[i],l,1);l.polygonEnd();}D.geo.area=function(o){Q4=0;D.geo.stream(o,S4);return Q4;};var Q4,R4=new I4();var S4={sphere:function(){Q4+=4*π;},point:I1,lineStart:I1,lineEnd:I1,polygonStart:function(){R4.reset();S4.lineStart=T4;},polygonEnd:function(){var a=2*R4;Q4+=a<0?4*π+a:a;S4.lineStart=S4.lineEnd=S4.point=I1;}};function T4(){var a,b,c,d,s;S4.point=function(λ,φ){S4.point=n;c=(a=λ)*O2,d=Math.cos(φ=(b=φ)*O2/2+π/4),s=Math.sin(φ);};function n(λ,φ){λ*=O2;φ=φ*O2/2+π/4;var f=λ-c,g=f>=0?1:-1,h=g*f,i=Math.cos(φ),j=Math.sin(φ),k=s*j,u=d*i+k*Math.cos(h),v=k*g*Math.sin(h);R4.add(Math.atan2(v,u));c=λ,d=i,s=j;}S4.lineEnd=function(){n(a,b);};}function U4(s){var λ=s[0],φ=s[1],c=Math.cos(φ);return[c*Math.cos(λ),c*Math.sin(λ),Math.sin(φ)];}function V4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2];}function W4(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]];}function X4(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2];}function Y4(v,k){return[v[0]*k,v[1]*k,v[2]*k];}function Z4(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l;d[1]/=l;d[2]/=l;}function $4(c){return[Math.atan2(c[1],c[0]),T2(c[2])];}function _4(a,b){return h1(a[0]-b[0])<ε&&h1(a[1]-b[1])<ε;}D.geo.bounds=function(){var c,d,f,g,h,j,k,l,m,r,o;var q={point:t,lineStart:v,lineEnd:w,polygonStart:function(){q.point=y;q.lineStart=z;q.lineEnd=A;m=0;S4.polygonStart();},polygonEnd:function(){S4.polygonEnd();q.point=t;q.lineStart=v;q.lineEnd=w;if(R4<0)c=-(f=180),d=-(g=90);else if(m>ε)g=90;else if(m<-ε)d=-90;o[0]=c,o[1]=f;}};function t(λ,φ){r.push(o=[c=λ,f=λ]);if(φ<d)d=φ;if(φ>g)g=φ;}function u(λ,φ){var p=U4([λ*O2,φ*O2]);if(l){var n=W4(l,p),a=[n[1],-n[0],0],i=W4(a,n);Z4(i);i=$4(i);var b=λ-h,s=b>0?1:-1,x=i[0]*P2*s,G=h1(b)>180;if(G^(s*h<x&&x<s*λ)){var H=i[1]*P2;if(H>g)g=H;}else if(x=(x+360)%360-180,G^(s*h<x&&x<s*λ)){var H=-i[1]*P2;if(H<d)d=H;}else{if(φ<d)d=φ;if(φ>g)g=φ;}if(G){if(λ<h){if(B(c,λ)>B(c,f))f=λ;}else{if(B(λ,f)>B(c,f))c=λ;}}else{if(f>=c){if(λ<c)c=λ;if(λ>f)f=λ;}else{if(λ>h){if(B(c,λ)>B(c,f))f=λ;}else{if(B(λ,f)>B(c,f))c=λ;}}}}else{t(λ,φ);}l=p,h=λ;}function v(){q.point=u;}function w(){o[0]=c,o[1]=f;q.point=t;l=null;}function y(λ,φ){if(l){var a=λ-h;m+=h1(a)>180?a+(a>0?360:-360):a;}else j=λ,k=φ;S4.point(λ,φ);u(λ,φ);}function z(){S4.lineStart();}function A(){y(j,k);S4.lineEnd();if(h1(m)>ε)c=-(f=180);o[0]=c,o[1]=f;l=null;}function B(c,f){return(f-=c)<0?f+360:f;}function C(a,b){return a[0]-b[0];}function F(x,o){return o[0]<=o[1]?o[0]<=x&&x<=o[1]:x<o[0]||o[1]<x;}return function(p){g=f=-(c=d=Infinity);r=[];D.geo.stream(p,q);var n=r.length;if(n){r.sort(C);for(var i=1,a=r[0],b,s=[a];i<n;++i){b=r[i];if(F(b[0],a)||F(b[1],a)){if(B(a[0],b[1])>B(a[0],a[1]))a[1]=b[1];if(B(b[0],a[1])>B(a[0],a[1]))a[0]=b[0];}else{s.push(a=b);}}var x=-Infinity,G;for(var n=s.length-1,i=0,a=s[n],b;i<=n;a=b,++i){b=s[i];if((G=B(a[1],b[0]))>x)x=G,c=b[0],f=a[1];}}r=o=null;return c===Infinity||d===Infinity?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,g]];};}();D.geo.centroid=function(o){a5=b5=c5=d5=e5=f5=g5=h5=i5=j5=k5=0;D.geo.stream(o,l5);var x=i5,y=j5,z=k5,m=x*x+y*y+z*z;if(m<ε2){x=f5,y=g5,z=h5;if(b5<ε)x=c5,y=d5,z=e5;m=x*x+y*y+z*z;if(m<ε2)return[NaN,NaN];}return[Math.atan2(y,x)*P2,T2(z/Math.sqrt(m))*P2];};var a5,b5,c5,d5,e5,f5,g5,h5,i5,j5,k5;var l5={sphere:I1,point:m5,lineStart:o5,lineEnd:p5,polygonStart:function(){l5.lineStart=q5;},polygonEnd:function(){l5.lineStart=o5;}};function m5(λ,φ){λ*=O2;var c=Math.cos(φ*=O2);n5(c*Math.cos(λ),c*Math.sin(λ),Math.sin(φ));}function n5(x,y,z){++a5;c5+=(x-c5)/a5;d5+=(y-d5)/a5;e5+=(z-e5)/a5;}function o5(){var a,b,c;l5.point=function(λ,φ){λ*=O2;var d=Math.cos(φ*=O2);a=d*Math.cos(λ);b=d*Math.sin(λ);c=Math.sin(φ);l5.point=n;n5(a,b,c);};function n(λ,φ){λ*=O2;var d=Math.cos(φ*=O2),x=d*Math.cos(λ),y=d*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=b*z-c*y)*w+(w=c*x-a*z)*w+(w=a*y-b*x)*w),a*x+b*y+c*z);b5+=w;f5+=w*(a+(a=x));g5+=w*(b+(b=y));h5+=w*(c+(c=z));n5(a,b,c);}}function p5(){l5.point=m5;}function q5(){var a,b,c,d,f;l5.point=function(λ,φ){a=λ,b=φ;l5.point=n;λ*=O2;var g=Math.cos(φ*=O2);c=g*Math.cos(λ);d=g*Math.sin(λ);f=Math.sin(φ);n5(c,d,f);};l5.lineEnd=function(){n(a,b);l5.lineEnd=p5;l5.point=m5;};function n(λ,φ){λ*=O2;var g=Math.cos(φ*=O2),x=g*Math.cos(λ),y=g*Math.sin(λ),z=Math.sin(φ),h=d*z-f*y,i=f*x-c*z,j=c*y-d*x,m=Math.sqrt(h*h+i*i+j*j),u=c*x+d*y+f*z,v=m&&-S2(u)/m,w=Math.atan2(m,u);i5+=v*h;j5+=v*i;k5+=v*j;b5+=w;f5+=w*(c+(c=x));g5+=w*(d+(d=y));h5+=w*(f+(f=z));n5(c,d,f);}}function r5(){return true;}function s5(s,c,d,f,l){var g=[],h=[];s.forEach(function(r){if((n=r.length-1)<=0)return;var n,t=r[0],u=r[n];if(_4(t,u)){l.lineStart();for(var i=0;i<n;++i)l.point((t=r[i])[0],t[1]);l.lineEnd();return;}var a=new u5(t,r,null,true),b=new u5(t,null,a,false);a.o=b;g.push(a);h.push(b);a=new u5(u,r,null,false);b=new u5(u,null,a,true);a.o=b;g.push(a);h.push(b);});h.sort(c);t5(g);t5(h);if(!g.length)return;for(var i=0,j=d,n=h.length;i<n;++i){h[i].e=j=!j;}var k=g[0],p,m;while(1){var o=k,q=true;while(o.v)if((o=o.n)===k)return;p=o.z;l.lineStart();do{o.v=o.o.v=true;if(o.e){if(q){for(var i=0,n=p.length;i<n;++i)l.point((m=p[i])[0],m[1]);}else{f(o.x,o.n.x,1,l);}o=o.n;}else{if(q){p=o.p.z;for(var i=p.length-1;i>=0;--i)l.point((m=p[i])[0],m[1]);}else{f(o.x,o.p.x,-1,l);}o=o.p;}o=o.o;p=o.z;q=!q;}while(!o.v);l.lineEnd();}}function t5(c){if(!(n=c.length))return;var n,i=0,a=c[0],b;while(++i<n){a.n=b=c[i];b.p=a;a=b;}a.n=b=c[0];b.p=a;}function u5(p,a,o,b){this.x=p;this.z=a;this.o=o;this.e=b;this.v=false;this.n=this.p=null;}function v5(p,c,a,b){return function(r,l){var d=c(l),f=r.invert(b[0],b[1]);var g={point:h,lineStart:k,lineEnd:m,polygonStart:function(){g.point=w;g.lineStart=x;g.lineEnd=y;s=[];u=[];},polygonEnd:function(){g.point=h;g.lineStart=k;g.lineEnd=m;s=D.merge(s);var i=D5(f,u);if(s.length){if(!t)l.polygonStart(),t=true;s5(s,y5,i,a,l);}else if(i){if(!t)l.polygonStart(),t=true;l.lineStart();a(null,null,1,l);l.lineEnd();}if(t)l.polygonEnd(),t=false;s=u=null;},sphere:function(){l.polygonStart();l.lineStart();a(null,null,1,l);l.lineEnd();l.polygonEnd();}};function h(λ,φ){var h=r(λ,φ);if(p(λ=h[0],φ=h[1]))l.point(λ,φ);}function j(λ,φ){var h=r(λ,φ);d.point(h[0],h[1]);}function k(){g.point=j;d.lineStart();}function m(){g.point=h;d.lineEnd();}var s;var o=x5(),q=c(o),t=false,u,v;function w(λ,φ){v.push([λ,φ]);var h=r(λ,φ);q.point(h[0],h[1]);}function x(){q.lineStart();v=[];}function y(){w(v[0][0],v[0][1]);q.lineEnd();var z=q.clean(),A=o.buffer(),B,n=A.length;v.pop();u.push(v);v=null;if(!n)return;if(z&1){B=A[0];var n=B.length-1,i=-1,h;if(n>0){if(!t)l.polygonStart(),t=true;l.lineStart();while(++i<n)l.point((h=B[i])[0],h[1]);l.lineEnd();}return;}if(n>1&&z&2)A.push(A.pop().concat(A.shift()));s.push(A.filter(w5));}return g;};}function w5(s){return s.length>1;}function x5(){var l=[],a;return{lineStart:function(){l.push(a=[]);},point:function(λ,φ){a.push([λ,φ]);},lineEnd:I1,buffer:function(){var b=l;l=[];a=null;return b;},rejoin:function(){if(l.length>1)l.push(l.pop().concat(l.shift()));}};}function y5(a,b){return((a=a.x)[0]<0?a[1]-M2-ε:M2-a[1])-((b=b.x)[0]<0?b[1]-M2-ε:M2-b[1]);}var z5=v5(r5,A5,C5,[-π,-π/2]);function A5(l){var λ=NaN,φ=NaN,s=NaN,c;return{lineStart:function(){l.lineStart();c=1;},point:function(a,b){var d=a>0?π:-π,f=h1(a-λ);if(h1(f-π)<ε){l.point(λ,φ=(φ+b)/2>0?M2:-M2);l.point(s,φ);l.lineEnd();l.lineStart();l.point(d,φ);l.point(a,φ);c=0;}else if(s!==d&&f>=π){if(h1(λ-s)<ε)λ-=s*ε;if(h1(a-d)<ε)a-=d*ε;φ=B5(λ,φ,a,b);l.point(s,φ);l.lineEnd();l.lineStart();l.point(d,φ);c=0;}l.point(λ=a,φ=b);s=d;},lineEnd:function(){l.lineEnd();λ=φ=NaN;},clean:function(){return 2-c;}};}function B5(λ,φ,a,b){var c,d,s=Math.sin(λ-a);return h1(s)>ε?Math.atan((Math.sin(φ)*(d=Math.cos(b))*Math.sin(a)-Math.sin(b)*(c=Math.cos(φ))*Math.sin(λ))/(c*d*s)):(φ+b)/2;}function C5(f,t,d,l){var φ;if(f==null){φ=d*M2;l.point(-π,φ);l.point(0,φ);l.point(π,φ);l.point(π,0);l.point(π,-φ);l.point(0,-φ);l.point(-π,-φ);l.point(-π,0);l.point(-π,φ);}else if(h1(f[0]-t[0])>ε){var s=f[0]<t[0]?π:-π;φ=d*s/2;l.point(-s,φ);l.point(0,φ);l.point(s,φ);}else{l.point(t[0],t[1]);}}function D5(p,a){var b=p[0],c=p[1],d=[Math.sin(b),-Math.cos(b),0],f=0,w=0;R4.reset();for(var i=0,n=a.length;i<n;++i){var r=a[i],m=r.length;if(!m)continue;var g=r[0],h=g[0],l=g[1]/2+π/4,s=Math.sin(l),o=Math.cos(l),j=1;while(true){if(j===m)j=0;p=r[j];var λ=p[0],φ=p[1]/2+π/4,q=Math.sin(φ),t=Math.cos(φ),u=λ-h,v=u>=0?1:-1,x=v*u,y=x>π,k=s*q;R4.add(Math.atan2(k*v*Math.sin(x),o*t+k*Math.cos(x)));f+=y?u+v*τ:u;if(y^h>=b^λ>=b){var z=W4(U4(g),U4(p));Z4(z);var A=W4(d,z);Z4(A);var B=(y^u>=0?-1:1)*T2(A[2]);if(c>B||c===B&&(z[0]||z[1])){w+=y^u>=0?1:-1;}}if(!j++)break;h=λ,s=q,o=t,g=p;}}return(f<-ε||f<ε&&R4<0)^w&1;}function E5(d){var f=Math.cos(d),s=f>0,n=h1(f)>ε,i=o6(d,6*O2);return v5(g,h,i,s?[0,-d]:[-π,d-π]);function g(λ,φ){return Math.cos(λ)*Math.cos(φ)>f;}function h(l){var p,a,b,m,o;return{lineStart:function(){m=b=false;o=1;},point:function(λ,φ){var q=[λ,φ],r,v=g(λ,φ),c=s?v?0:k(λ,φ):v?k(λ+(λ<0?π:-π),φ):0;if(!p&&(m=b=v))l.lineStart();if(v!==b){r=j(p,q);if(_4(p,r)||_4(q,r)){q[0]+=ε;q[1]+=ε;v=g(q[0],q[1]);}}if(v!==b){o=0;if(v){l.lineStart();r=j(q,p);l.point(r[0],r[1]);}else{r=j(p,q);l.point(r[0],r[1]);l.lineEnd();}p=r;}else if(n&&p&&s^v){var t;if(!(c&a)&&(t=j(q,p,true))){o=0;if(s){l.lineStart();l.point(t[0][0],t[0][1]);l.point(t[1][0],t[1][1]);l.lineEnd();}else{l.point(t[1][0],t[1][1]);l.lineEnd();l.lineStart();l.point(t[0][0],t[0][1]);}}}if(v&&(!p||!_4(p,q))){l.point(q[0],q[1]);}p=q,b=v,a=c;},lineEnd:function(){if(b)l.lineEnd();p=null;},clean:function(){return o|(m&&b)<<1;}};}function j(a,b,c){var p=U4(a),l=U4(b);var m=[1,0,0],o=W4(p,l),r=V4(o,o),v=o[0],x=r-v*v;if(!x)return!c&&a;var y=f*r/x,C=-f*v/x,F=W4(m,o),A=Y4(m,y),B=Y4(o,C);X4(A,B);var u=F,w=V4(A,u),G=V4(u,u),H=w*w-G*(V4(A,A)-1);if(H<0)return;var t=Math.sqrt(H),q=Y4(u,(-w-t)/G);X4(q,A);q=$4(q);if(!c)return q;var λ=a[0],I=b[0],φ=a[1],L=b[1],z;if(I<λ)z=λ,λ=I,I=z;var δ=I-λ,N=h1(δ-π)<ε,S=N||δ<ε;if(!N&&L<φ)z=φ,φ=L,L=z;if(S?N?φ+L>0^q[1]<(h1(q[0]-λ)<ε?φ:L):φ<=q[1]&&q[1]<=L:δ>π^(λ<=q[0]&&q[0]<=I)){var X=Y4(u,(-w+t)/G);X4(X,A);return[q,$4(X)];}}function k(λ,φ){var r=s?d:π-d,k=0;if(λ<-r)k|=1;else if(λ>r)k|=2;if(φ<-r)k|=4;else if(φ>r)k|=8;return k;}}function F5(x,y,c,d){return function(l){var a=l.a,b=l.b,f=a.x,g=a.y,h=b.x,i=b.y,t=0,j=1,k=h-f,m=i-g,r;r=x-f;if(!k&&r>0)return;r/=k;if(k<0){if(r<t)return;if(r<j)j=r;}else if(k>0){if(r>j)return;if(r>t)t=r;}r=c-f;if(!k&&r<0)return;r/=k;if(k<0){if(r>j)return;if(r>t)t=r;}else if(k>0){if(r<t)return;if(r<j)j=r;}r=y-g;if(!m&&r>0)return;r/=m;if(m<0){if(r<t)return;if(r<j)j=r;}else if(m>0){if(r>j)return;if(r>t)t=r;}r=d-g;if(!m&&r<0)return;r/=m;if(m<0){if(r>j)return;if(r>t)t=r;}else if(m>0){if(r<t)return;if(r<j)j=r;}if(t>0)l.a={x:f+t*k,y:g+t*m};if(j<1)l.b={x:f+j*k,y:g+j*m};return l;};}var G5=1e9;D.geo.clipExtent=function(){var x,y,a,b,s,c,d={stream:function(o){if(s)s.valid=false;s=c(o);s.valid=true;return s;},extent:function(_){if(!arguments.length)return[[x,y],[a,b]];c=H5(x=+_[0][0],y=+_[0][1],a=+_[1][0],b=+_[1][1]);if(s)s.valid=false,s=null;return d;}};return d.extent([[0,0],[960,500]]);};function H5(c,d,f,g){return function(q){var r=q,s=x5(),t=F5(c,d,f,g),u,w,z;var A={point:G,lineStart:b1,lineEnd:c1,polygonStart:function(){q=s;u=[];w=[];_=true;},polygonEnd:function(){q=r;u=D.merge(u);var a=B([c,g]),i=_&&a,v=u.length;if(i||v){q.polygonStart();if(i){q.lineStart();C(null,null,1,q);q.lineEnd();}if(v){s5(u,k,a,C,q);}q.polygonEnd();}u=w=z=null;}};function B(p){var l=0,n=w.length,y=p[1];for(var i=0;i<n;++i){for(var j=1,v=w[i],m=v.length,a=v[0],b;j<m;++j){b=v[j];if(a[1]<=y){if(b[1]>y&&R2(a,b,p)>0)++l;}else{if(b[1]<=y&&R2(a,b,p)<0)--l;}a=b;}}return l!==0;}function C(b,i,j,q){var a=0,l=0;if(b==null||(a=h(b,j))!==(l=h(i,j))||o(b,i)<0^j>0){do{q.point(a===0||a===3?c:f,a>1?g:d);}while((a=(a+j+4)%4)!==l);}else{q.point(i[0],i[1]);}}function F(x,y){return c<=x&&x<=f&&d<=y&&y<=g;}function G(x,y){if(F(x,y))q.point(x,y);}var H,I,L,N,S,X,Y,_;function b1(){A.point=d1;if(w)w.push(z=[]);Y=true;X=false;N=S=NaN;}function c1(){if(u){d1(H,I);if(L&&X)s.rejoin();u.push(s.buffer());}A.point=G;if(X)q.lineEnd();}function d1(x,y){x=Math.max(-G5,Math.min(G5,x));y=Math.max(-G5,Math.min(G5,y));var v=F(x,y);if(w)z.push([x,y]);if(Y){H=x,I=y,L=v;Y=false;if(v){q.lineStart();q.point(x,y);}}else{if(v&&X)q.point(x,y);else{var l={a:{x:N,y:S},b:{x:x,y:y}};if(t(l)){if(!X){q.lineStart();q.point(l.a.x,l.a.y);}q.point(l.b.x,l.b.y);if(!v)q.lineEnd();_=false;}else if(v){q.lineStart();q.point(x,y);_=false;}}}N=x,S=y,X=v;}return A;};function h(p,a){return h1(p[0]-c)<ε?a>0?0:3:h1(p[0]-f)<ε?a>0?2:1:h1(p[1]-d)<ε?a>0?1:0:a>0?3:2;}function k(a,b){return o(a.x,b.x);}function o(a,b){var i=h(a,1),j=h(b,1);return i!==j?i-j:i===0?b[1]-a[1]:i===1?a[0]-b[0]:i===2?a[1]-b[1]:b[0]-a[0];}}function I5(a,b){function c(x,y){return x=a(x,y),b(x[0],x[1]);}if(a.invert&&b.invert)c.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1]);};return c;}function J5(a){var φ=0,b=π/3,m=g6(a),p=m(φ,b);p.parallels=function(_){if(!arguments.length)return[φ/π*180,b/π*180];return m(φ=_[0]*π/180,b=_[1]*π/180);};return p;}function K5(a,b){var s=Math.sin(a),n=(s+Math.sin(b))/2,C=1+s*(2*n-s),c=Math.sqrt(C)/n;function f(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),c-ρ*Math.cos(λ)];}f.invert=function(x,y){var d=c-y;return[Math.atan2(x,d)/n,T2((C-(x*x+d*d)*n*n)/(2*n))];};return f;}(D.geo.conicEqualArea=function(){return J5(K5);}).raw=K5;D.geo.albers=function(){return D.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070);};D.geo.albersUsa=function(){var l=D.geo.albers();var a=D.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var h=D.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var p,b={point:function(x,y){p=[x,y];}},c,d,f;function g(i){var x=i[0],y=i[1];p=null;(c(x,y),p)||(d(x,y),p)||f(x,y);return p;}g.invert=function(i){var k=l.scale(),t=l.translate(),x=(i[0]-t[0])/k,y=(i[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?a:y>=.166&&y<.234&&x>=-.214&&x<-.115?h:l).invert(i);};g.stream=function(s){var i=l.stream(s),j=a.stream(s),k=h.stream(s);return{point:function(x,y){i.point(x,y);j.point(x,y);k.point(x,y);},sphere:function(){i.sphere();j.sphere();k.sphere();},lineStart:function(){i.lineStart();j.lineStart();k.lineStart();},lineEnd:function(){i.lineEnd();j.lineEnd();k.lineEnd();},polygonStart:function(){i.polygonStart();j.polygonStart();k.polygonStart();},polygonEnd:function(){i.polygonEnd();j.polygonEnd();k.polygonEnd();}};};g.precision=function(_){if(!arguments.length)return l.precision();l.precision(_);a.precision(_);h.precision(_);return g;};g.scale=function(_){if(!arguments.length)return l.scale();l.scale(_);a.scale(_*.35);h.scale(_);return g.translate(l.translate());};g.translate=function(_){if(!arguments.length)return l.translate();var k=l.scale(),x=+_[0],y=+_[1];c=l.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(b).point;d=a.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(b).point;f=h.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(b).point;return g;};return g.scale(1070);};var L5,M5,N5={point:I1,lineStart:I1,lineEnd:I1,polygonStart:function(){M5=0;N5.lineStart=O5;},polygonEnd:function(){N5.lineStart=N5.lineEnd=N5.point=I1;L5+=h1(M5/2);}};function O5(){var a,b,c,d;N5.point=function(x,y){N5.point=n;a=c=x,b=d=y;};function n(x,y){M5+=d*x-c*y;c=x,d=y;}N5.lineEnd=function(){n(a,b);};}var P5,Q5,R5,S5;var T5={point:U5,lineStart:I1,lineEnd:I1,polygonStart:I1,polygonEnd:I1};function U5(x,y){if(x<P5)P5=x;if(x>R5)R5=x;if(y<Q5)Q5=y;if(y>S5)S5=y;}function V5(){var p=W5(4.5),b=[];var s={point:a,lineStart:function(){s.point=c;},lineEnd:l,polygonStart:function(){s.lineEnd=f;},polygonEnd:function(){s.lineEnd=l;s.point=a;},pointRadius:function(_){p=W5(_);return s;},result:function(){if(b.length){var r=b.join("");b=[];return r;}}};function a(x,y){b.push("M",x,",",y,p);}function c(x,y){b.push("M",x,",",y);s.point=d;}function d(x,y){b.push("L",x,",",y);}function l(){s.point=a;}function f(){b.push("Z");}return s;}function W5(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z";}var X5={point:Y5,lineStart:Z5,lineEnd:$5,polygonStart:function(){X5.lineStart=_5;},polygonEnd:function(){X5.point=Y5;X5.lineStart=Z5;X5.lineEnd=$5;}};function Y5(x,y){c5+=x;d5+=y;++e5;}function Z5(){var a,b;X5.point=function(x,y){X5.point=n;Y5(a=x,b=y);};function n(x,y){var d=x-a,c=y-b,z=Math.sqrt(d*d+c*c);f5+=z*(a+x)/2;g5+=z*(b+y)/2;h5+=z;Y5(a=x,b=y);}}function $5(){X5.point=Y5;}function _5(){var a,b,c,d;X5.point=function(x,y){X5.point=n;Y5(a=c=x,b=d=y);};function n(x,y){var f=x-c,g=y-d,z=Math.sqrt(f*f+g*g);f5+=z*(c+x)/2;g5+=z*(d+y)/2;h5+=z;z=d*x-c*y;i5+=z*(c+x);j5+=z*(d+y);k5+=z*3;Y5(c=x,d=y);}X5.lineEnd=function(){n(a,b);};}function a6(c){var p=4.5;var s={point:a,lineStart:function(){s.point=b;},lineEnd:l,polygonStart:function(){s.lineEnd=f;},polygonEnd:function(){s.lineEnd=l;s.point=a;},pointRadius:function(_){p=_;return s;},result:I1};function a(x,y){c.moveTo(x,y);c.arc(x,y,p,0,τ);}function b(x,y){c.moveTo(x,y);s.point=d;}function d(x,y){c.lineTo(x,y);}function l(){s.point=a;}function f(){c.closePath();}return s;}function b6(d){var δ=.5,f=Math.cos(30*O2),g=16;function r(s){return(g?i:h)(s);}function h(s){return e6(s,function(x,y){x=d(x,y);s.point(x[0],x[1]);});}function i(s){var a,b,k,l,m,n,o,q,t,u,v,w,z;var r={point:A,lineStart:B,lineEnd:F,polygonStart:function(){s.polygonStart();r.lineStart=G;},polygonEnd:function(){s.polygonEnd();r.lineStart=B;}};function A(x,y){x=d(x,y);s.point(x[0],x[1]);}function B(){t=NaN;r.point=C;s.lineStart();}function C(λ,φ){var c=U4([λ,φ]),p=d(λ,φ);j(t,u,q,v,w,z,t=p[0],u=p[1],q=λ,v=c[0],w=c[1],z=c[2],g,s);s.point(t,u);}function F(){r.point=A;s.lineEnd();}function G(){B();r.point=H;r.lineEnd=I;}function H(λ,φ){C(a=λ,b=φ),k=t,l=u,m=v,n=w,o=z;r.point=C;}function I(){j(t,u,q,v,w,z,k,l,a,m,n,o,g,s);r.lineEnd=F;F();}return r;}function j(x,y,λ,k,l,n,o,q,s,t,u,v,w,z){var A=o-x,B=q-y,C=A*A+B*B;if(C>4*δ&&w--){var a=k+t,b=l+u,c=n+v,m=Math.sqrt(a*a+b*b+c*c),φ=Math.asin(c/=m),F=h1(h1(c)-1)<ε||h1(λ-s)<ε?(λ+s)/2:Math.atan2(b,a),p=d(F,φ),G=p[0],H=p[1],I=G-x,L=H-y,N=B*I-A*L;if(N*N/C>δ||h1((A*I+B*L)/C-.5)>.3||k*t+l*u+n*v<f){j(x,y,λ,k,l,n,G,H,F,a/=m,b/=m,c,w,z);z.point(G,H);j(G,H,F,a,b,c,o,q,s,t,u,v,w,z);}}}r.precision=function(_){if(!arguments.length)return Math.sqrt(δ);g=(δ=_*_)>0&&16;return r;};return r;}D.geo.path=function(){var p=4.5,a,c,b,d,f;function g(o){if(o){if(typeof p==="function")d.pointRadius(+p.apply(this,arguments));if(!f||!f.valid)f=b(d);D.geo.stream(o,f);}return d.result();}g.area=function(o){L5=0;D.geo.stream(o,b(N5));return L5;};g.centroid=function(o){c5=d5=e5=f5=g5=h5=i5=j5=k5=0;D.geo.stream(o,b(X5));return k5?[i5/k5,j5/k5]:h5?[f5/h5,g5/h5]:e5?[c5/e5,d5/e5]:[NaN,NaN];};g.bounds=function(o){R5=S5=-(P5=Q5=Infinity);D.geo.stream(o,b(T5));return[[P5,Q5],[R5,S5]];};g.projection=function(_){if(!arguments.length)return a;b=(a=_)?_.stream||c6(_):K3;return r();};g.context=function(_){if(!arguments.length)return c;d=(c=_)==null?new V5():new a6(_);if(typeof p!=="function")d.pointRadius(p);return r();};g.pointRadius=function(_){if(!arguments.length)return p;p=typeof _==="function"?_:(d.pointRadius(+_),+_);return g;};function r(){f=null;return g;}return g.projection(D.geo.albersUsa()).context(null);};function c6(p){var r=b6(function(x,y){return p([x*P2,y*P2]);});return function(s){return h6(r(s));};}D.geo.transform=function(m){return{stream:function(s){var t=new d6(s);for(var k in m)t[k]=m[k];return t;}};};function d6(s){this.stream=s;}d6.prototype={point:function(x,y){this.stream.point(x,y);},sphere:function(){this.stream.sphere();},lineStart:function(){this.stream.lineStart();},lineEnd:function(){this.stream.lineEnd();},polygonStart:function(){this.stream.polygonStart();},polygonEnd:function(){this.stream.polygonEnd();}};function e6(s,p){return{point:p,sphere:function(){s.sphere();},lineStart:function(){s.lineStart();},lineEnd:function(){s.lineEnd();},polygonStart:function(){s.polygonStart();},polygonEnd:function(){s.polygonEnd();}};}D.geo.projection=f6;D.geo.projectionMutator=g6;function f6(p){return g6(function(){return p;})();}function g6(p){var a,r,b,c=b6(function(x,y){x=a(x,y);return[x[0]*k+g,h-x[1]*k];}),k=150,x=480,y=250,λ=0,φ=0,δ=0,d=0,f=0,g,h,i=z5,j=K3,l=null,m=null,s;function n(u){u=b(u[0]*O2,u[1]*O2);return[u[0]*k+g,h-u[1]*k];}function o(u){u=b.invert((u[0]-g)/k,(h-u[1])/k);return u&&[u[0]*P2,u[1]*P2];}n.stream=function(u){if(s)s.valid=false;s=h6(i(r,c(j(u))));s.valid=true;return s;};n.clipAngle=function(_){if(!arguments.length)return l;i=_==null?(l=_,z5):E5((l=+_)*O2);return t();};n.clipExtent=function(_){if(!arguments.length)return m;m=_;j=_?H5(_[0][0],_[0][1],_[1][0],_[1][1]):K3;return t();};n.scale=function(_){if(!arguments.length)return k;k=+_;return q();};n.translate=function(_){if(!arguments.length)return[x,y];x=+_[0];y=+_[1];return q();};n.center=function(_){if(!arguments.length)return[λ*P2,φ*P2];λ=_[0]%360*O2;φ=_[1]%360*O2;return q();};n.rotate=function(_){if(!arguments.length)return[δ*P2,d*P2,f*P2];δ=_[0]%360*O2;d=_[1]%360*O2;f=_.length>2?_[2]%360*O2:0;return q();};D.rebind(n,c,"precision");function q(){b=I5(r=k6(δ,d,f),a);var u=a(λ,φ);g=x-u[0]*k;h=y+u[1]*k;return t();}function t(){if(s)s.valid=false,s=null;return n;}return function(){a=p.apply(this,arguments);n.invert=a.invert&&o;return q();};}function h6(s){return e6(s,function(x,y){s.point(x*O2,y*O2);});}function i6(λ,φ){return[λ,φ];}(D.geo.equirectangular=function(){return f6(i6);}).raw=i6.invert=i6;D.geo.rotation=function(r){r=k6(r[0]%360*O2,r[1]*O2,r.length>2?r[2]*O2:0);function f(c){c=r(c[0]*O2,c[1]*O2);return c[0]*=P2,c[1]*=P2,c;}f.invert=function(c){c=r.invert(c[0]*O2,c[1]*O2);return c[0]*=P2,c[1]*=P2,c;};return f;};function j6(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ];}j6.invert=i6;function k6(δ,a,b){return δ?a||b?I5(m6(δ),n6(a,b)):m6(δ):a||b?n6(a,b):j6;}function l6(δ){return function(λ,φ){return λ+=δ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ];};}function m6(δ){var r=l6(δ);r.invert=l6(-δ);return r;}function n6(δ,a){var c=Math.cos(δ),s=Math.sin(δ),b=Math.cos(a),d=Math.sin(a);function r(λ,φ){var f=Math.cos(φ),x=Math.cos(λ)*f,y=Math.sin(λ)*f,z=Math.sin(φ),k=z*c+x*s;return[Math.atan2(y*b-k*d,x*c-z*s),T2(k*b+y*d)];}r.invert=function(λ,φ){var f=Math.cos(φ),x=Math.cos(λ)*f,y=Math.sin(λ)*f,z=Math.sin(φ),k=z*b-y*d;return[Math.atan2(y*b+z*d,x*c+k*s),T2(k*c-x*s)];};return r;}D.geo.circle=function(){var o=[0,0],a,p=6,i;function c(){var b=typeof o==="function"?o.apply(this,arguments):o,r=k6(-b[0]*O2,-b[1]*O2,0).invert,d=[];i(null,null,1,{point:function(x,y){d.push(x=r(x,y));x[0]*=P2,x[1]*=P2;}});return{type:"Polygon",coordinates:[d]};}c.origin=function(x){if(!arguments.length)return o;o=x;return c;};c.angle=function(x){if(!arguments.length)return a;i=o6((a=+x)*O2,p*O2);return c;};c.precision=function(_){if(!arguments.length)return p;i=o6(a*O2,(p=+_)*O2);return c;};return c.angle(90);};function o6(r,p){var c=Math.cos(r),s=Math.sin(r);return function(f,a,d,l){var b=d*p;if(f!=null){f=p6(c,f);a=p6(c,a);if(d>0?f<a:f>a)f+=d*τ;}else{f=r+d*τ;a=r-.5*b;}for(var g,t=f;d>0?t>a:t<a;t-=b){l.point((g=$4([c,-s*Math.cos(t),-s*Math.sin(t)]))[0],g[1]);}};}function p6(c,p){var a=U4(p);a[0]-=c;Z4(a);var b=S2(-a[1]);return((-a[2]<0?-b:b)+2*Math.PI-ε)%(2*Math.PI);}D.geo.distance=function(a,b){var Δ=(b[0]-a[0])*O2,φ=a[1]*O2,c=b[1]*O2,s=Math.sin(Δ),d=Math.cos(Δ),f=Math.sin(φ),g=Math.cos(φ),h=Math.sin(c),i=Math.cos(c),t;return Math.atan2(Math.sqrt((t=i*s)*t+(t=g*h-f*i*d)*t),f*h+g*i*d);};D.geo.graticule=function(){var a,b,c,d,f,g,h,i,j=10,k=j,l=90,m=360,x,y,X,Y,p=2.5;function n(){return{type:"MultiLineString",coordinates:o()};}function o(){return D.range(Math.ceil(d/l)*l,c,l).map(X).concat(D.range(Math.ceil(i/m)*m,h,m).map(Y)).concat(D.range(Math.ceil(b/j)*j,a,j).filter(function(x){return h1(x%l)>ε;}).map(x)).concat(D.range(Math.ceil(g/k)*k,f,k).filter(function(y){return h1(y%m)>ε;}).map(y));}n.lines=function(){return o().map(function(q){return{type:"LineString",coordinates:q};});};n.outline=function(){return{type:"Polygon",coordinates:[X(d).concat(Y(h).slice(1),X(c).reverse().slice(1),Y(i).reverse().slice(1))]};};n.extent=function(_){if(!arguments.length)return n.minorExtent();return n.majorExtent(_).minorExtent(_);};n.majorExtent=function(_){if(!arguments.length)return[[d,i],[c,h]];d=+_[0][0],c=+_[1][0];i=+_[0][1],h=+_[1][1];if(d>c)_=d,d=c,c=_;if(i>h)_=i,i=h,h=_;return n.precision(p);};n.minorExtent=function(_){if(!arguments.length)return[[b,g],[a,f]];b=+_[0][0],a=+_[1][0];g=+_[0][1],f=+_[1][1];if(b>a)_=b,b=a,a=_;if(g>f)_=g,g=f,f=_;return n.precision(p);};n.step=function(_){if(!arguments.length)return n.minorStep();return n.majorStep(_).minorStep(_);};n.majorStep=function(_){if(!arguments.length)return[l,m];l=+_[0],m=+_[1];return n;};n.minorStep=function(_){if(!arguments.length)return[j,k];j=+_[0],k=+_[1];return n;};n.precision=function(_){if(!arguments.length)return p;p=+_;x=q6(g,f,90);y=r6(b,a,p);X=q6(i,h,90);Y=r6(d,c,p);return n;};return n.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]]);};function q6(a,b,d){var y=D.range(a,b-ε,d).concat(b);return function(x){return y.map(function(y){return[x,y];});};}function r6(a,b,d){var x=D.range(a,b-ε,d).concat(b);return function(y){return x.map(function(x){return[x,y];});};}function s6(d){return d.source;}function t6(d){return d.target;}D.geo.greatArc=function(){var s=s6,a,t=t6,b;function g(){return{type:"LineString",coordinates:[a||s.apply(this,arguments),b||t.apply(this,arguments)]};}g.distance=function(){return D.geo.distance(a||s.apply(this,arguments),b||t.apply(this,arguments));};g.source=function(_){if(!arguments.length)return s;s=_,a=typeof _==="function"?null:_;return g;};g.target=function(_){if(!arguments.length)return t;t=_,b=typeof _==="function"?null:_;return g;};g.precision=function(){return arguments.length?g:0;};return g;};D.geo.interpolate=function(s,t){return u6(s[0]*O2,s[1]*O2,t[0]*O2,t[1]*O2);};function u6(a,b,c,f){var g=Math.cos(b),s=Math.sin(b),h=Math.cos(f),i=Math.sin(f),j=g*Math.cos(a),l=g*Math.sin(a),m=h*Math.cos(c),n=h*Math.sin(c),d=2*Math.asin(Math.sqrt(X2(f-b)+g*h*X2(c-a))),k=1/Math.sin(d);var o=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*j+B*m,y=A*l+B*n,z=A*s+B*i;return[Math.atan2(y,x)*P2,Math.atan2(z,Math.sqrt(x*x+y*y))*P2];}:function(){return[a*P2,b*P2];};o.distance=d;return o;}D.geo.length=function(o){v6=0;D.geo.stream(o,w6);return v6;};var v6;var w6={sphere:I1,point:I1,lineStart:x6,lineEnd:I1,polygonStart:I1,polygonEnd:I1};function x6(){var a,s,c;w6.point=function(λ,φ){a=λ*O2,s=Math.sin(φ*=O2),c=Math.cos(φ);w6.point=n;};w6.lineEnd=function(){w6.point=w6.lineEnd=I1;};function n(λ,φ){var b=Math.sin(φ*=O2),d=Math.cos(φ),t=h1((λ*=O2)-a),f=Math.cos(t);v6+=Math.atan2(Math.sqrt((t=d*Math.sin(t))*t+(t=c*b-s*d*f)*t),s*b+c*d*f);a=λ,s=b,c=d;}}function y6(s,a){function b(λ,φ){var c=Math.cos(λ),d=Math.cos(φ),k=s(c*d);return[k*d*Math.sin(λ),k*Math.sin(φ)];}b.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=a(ρ),d=Math.sin(c),f=Math.cos(c);return[Math.atan2(x*d,ρ*f),Math.asin(ρ&&y*d/ρ)];};return b;}var z6=y6(function(c){return Math.sqrt(2/(1+c));},function(ρ){return 2*Math.asin(ρ/2);});(D.geo.azimuthalEqualArea=function(){return f6(z6);}).raw=z6;var A6=y6(function(a){var c=Math.acos(a);return c&&c/Math.sin(c);},K3);(D.geo.azimuthalEquidistant=function(){return f6(A6);}).raw=A6;function B6(a,b){var c=Math.cos(a),t=function(φ){return Math.tan(π/4+φ/2);},n=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(t(b)/t(a)),F=c*Math.pow(t(a),n)/n;if(!n)return E6;function f(λ,φ){if(F>0){if(φ<-M2+ε)φ=-M2+ε;}else{if(φ>M2-ε)φ=M2-ε;}var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)];}f.invert=function(x,y){var d=F-y,ρ=Q2(n)*Math.sqrt(x*x+d*d);return[Math.atan2(x,d)/n,2*Math.atan(Math.pow(F/ρ,1/n))-M2];};return f;}(D.geo.conicConformal=function(){return J5(B6);}).raw=B6;function C6(a,b){var c=Math.cos(a),n=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),G=c/n+a;if(h1(n)<ε)return i6;function f(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)];}f.invert=function(x,y){var d=G-y;return[Math.atan2(x,d)/n,G-Q2(n)*Math.sqrt(x*x+d*d)];};return f;}(D.geo.conicEquidistant=function(){return J5(C6);}).raw=C6;var D6=y6(function(c){return 1/c;},Math.atan);(D.geo.gnomonic=function(){return f6(D6);}).raw=D6;function E6(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))];}E6.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-M2];};function F6(p){var m=f6(p),s=m.scale,a=m.translate,c=m.clipExtent,b;m.scale=function(){var v=s.apply(m,arguments);return v===m?b?m.clipExtent(null):m:v;};m.translate=function(){var v=a.apply(m,arguments);return v===m?b?m.clipExtent(null):m:v;};m.clipExtent=function(_){var v=c.apply(m,arguments);if(v===m){if(b=_==null){var k=π*s(),t=a();c([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]);}}else if(b){v=null;}return v;};return m.clipExtent(null);}(D.geo.mercator=function(){return F6(E6);}).raw=E6;var G6=y6(function(){return 1;},Math.asin);(D.geo.orthographic=function(){return f6(G6);}).raw=G6;var H6=y6(function(c){return 1/(1+c);},function(ρ){return 2*Math.atan(ρ);});(D.geo.stereographic=function(){return f6(H6);}).raw=H6;function I6(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ];}I6.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-M2];};(D.geo.transverseMercator=function(){var p=F6(I6),c=p.center,r=p.rotate;p.center=function(_){return _?c([-_[1],_[0]]):(_=c(),[_[1],-_[0]]);};p.rotate=function(_){return _?r([_[0],_[1],_.length>2?_[2]+90:90]):(_=r(),[_[0],_[1],_[2]-90]);};return r([0,0,90]);}).raw=I6;D.geom={};function J6(d){return d[0];}function K6(d){return d[1];}D.geom.hull=function(v){var x=J6,y=K6;if(arguments.length)return h(v);function h(d){if(d.length<3)return[];var f=J3(x),a=J3(y),i,n=d.length,p=[],b=[];for(i=0;i<n;i++){p.push([+f.call(this,d[i],i),+a.call(this,d[i],i),i]);}p.sort(M6);for(i=0;i<n;i++)b.push([p[i][0],-p[i][1]]);var u=L6(p),l=L6(b);var s=l[0]===u[0],c=l[l.length-1]===u[u.length-1],g=[];for(i=u.length-1;i>=0;--i)g.push(d[p[u[i]][2]]);for(i=+s;i<l.length-c;++i)g.push(d[p[l[i]][2]]);return g;}h.x=function(_){return arguments.length?(x=_,h):x;};h.y=function(_){return arguments.length?(y=_,h):y;};return h;};function L6(p){var n=p.length,h=[0,1],a=2;for(var i=2;i<n;i++){while(a>1&&R2(p[h[a-2]],p[h[a-1]],p[i])<=0)--a;h[a++]=i;}return h.slice(0,a);}function M6(a,b){return a[0]-b[0]||a[1]-b[1];}D.geom.polygon=function(c){P1(c,N6);return c;};var N6=D.geom.polygon.prototype=[];N6.area=function(){var i=-1,n=this.length,a,b=this[n-1],c=0;while(++i<n){a=b;b=this[i];c+=a[1]*b[0]-a[0]*b[1];}return c*.5;};N6.centroid=function(k){var i=-1,n=this.length,x=0,y=0,a,b=this[n-1],c;if(!arguments.length)k=-1/(6*this.area());while(++i<n){a=b;b=this[i];c=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*c;y+=(a[1]+b[1])*c;}return[x*k,y*k];};N6.clip=function(s){var f,g=Q6(s),i=-1,n=this.length-Q6(this),j,m,a=this[n-1],b,c,d;while(++i<n){f=s.slice();s.length=0;b=this[i];c=f[(m=f.length-g)-1];j=-1;while(++j<m){d=f[j];if(O6(d,a,b)){if(!O6(c,a,b)){s.push(P6(c,d,a,b));}s.push(d);}else if(O6(c,a,b)){s.push(P6(c,d,a,b));}c=d;}if(g)s.push(s[0]);a=b;}return s;};function O6(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0]);}function P6(c,d,a,b){var x=c[0],f=a[0],g=d[0]-x,h=b[0]-f,y=c[1],i=a[1],j=d[1]-y,k=b[1]-i,u=(h*(y-i)-k*(x-f))/(k*g-h*j);return[x+u*g,y+u*j];}function Q6(c){var a=c[0],b=c[c.length-1];return!(a[0]-b[0]||a[1]-b[1]);}var R6,S6,T6,U6=[],V6,W6,X6=[];function Y6(){r7(this);this.edge=this.site=this.circle=null;}function Z6(s){var b=U6.pop()||new Y6();b.site=s;return b;}function $6(b){i7(b);T6.remove(b);U6.push(b);r7(b);}function _6(b){var c=b.circle,x=c.x,y=c.cy,v={x:x,y:y},p=b.P,n=b.N,d=[b];$6(b);var l=p;while(l.circle&&h1(x-l.circle.x)<ε&&h1(y-l.circle.cy)<ε){p=l.P;d.unshift(l);$6(l);l=p;}d.unshift(l);i7(l);var r=n;while(r.circle&&h1(x-r.circle.x)<ε&&h1(y-r.circle.cy)<ε){n=r.N;d.push(r);$6(r);r=n;}d.push(r);i7(r);var a=d.length,A;for(A=1;A<a;++A){r=d[A];l=d[A-1];o7(r.edge,l.site,r.site,v);}l=d[0];r=d[a-1];r.edge=m7(l.site,r.site,null,v);h7(l);h7(r);}function a7(s){var x=s.x,a=s.y,l,r,b,c,n=T6._;while(n){b=b7(n,a)-x;if(b>ε)n=n.L;else{c=x-c7(n,a);if(c>ε){if(!n.R){l=n;break;}n=n.R;}else{if(b>-ε){l=n.P;r=n;}else if(c>-ε){l=n;r=n.N;}else{l=r=n;}break;}}}var f=Z6(s);T6.insert(l,f);if(!l&&!r)return;if(l===r){i7(l);r=Z6(l.site);T6.insert(f,r);f.edge=r.edge=m7(l.site,f.site);h7(l);h7(r);return;}if(!r){f.edge=m7(l.site,f.site);return;}i7(l);i7(r);var g=l.site,h=g.x,i=g.y,j=s.x-h,k=s.y-i,m=r.site,o=m.x-h,p=m.y-i,d=2*(j*p-k*o),q=j*j+k*k,t=o*o+p*p,v={x:(p*q-k*t)/d+h,y:(j*t-o*q)/d+i};o7(r.edge,g,m,v);f.edge=m7(g,s,null,v);r.edge=m7(s,m,null,v);h7(l);h7(r);}function b7(a,d){var s=a.site,r=s.x,c=s.y,p=c-d;if(!p)return r;var l=a.P;if(!l)return-Infinity;s=l.site;var f=s.x,g=s.y,h=g-d;if(!h)return f;var i=f-r,j=1/p-1/h,b=i/h;if(j)return(-b+Math.sqrt(b*b-2*j*(i*i/(-2*h)-g+h/2+c-p/2)))/j+r;return(r+f)/2;}function c7(a,d){var r=a.N;if(r)return b7(r,d);var s=a.site;return s.y===d?s.x:Infinity;}function d7(s){this.site=s;this.edges=[];}d7.prototype.prepare=function(){var h=this.edges,H=h.length,a;while(H--){a=h[H].edge;if(!a.b||!a.a)h.splice(H,1);}h.sort(f7);return h.length;};function e7(a){var x=a[0][0],b=a[1][0],y=a[0][1],c=a[1][1],d,f,g,h,i=S6,C=i.length,j,H,k,n,s,l;while(C--){j=i[C];if(!j||!j.prepare())continue;k=j.edges;n=k.length;H=0;while(H<n){l=k[H].end(),g=l.x,h=l.y;s=k[++H%n].start(),d=s.x,f=s.y;if(h1(g-d)>ε||h1(h-f)>ε){k.splice(H,0,new p7(n7(j.site,l,h1(g-x)<ε&&c-h>ε?{x:x,y:h1(d-x)<ε?f:c}:h1(h-c)<ε&&b-g>ε?{x:h1(f-c)<ε?d:b,y:c}:h1(g-b)<ε&&h-y>ε?{x:b,y:h1(d-b)<ε?f:y}:h1(h-y)<ε&&g-x>ε?{x:h1(f-y)<ε?d:x,y:y}:null),j.site,null));++n;}}}}function f7(a,b){return b.angle-a.angle;}function g7(){r7(this);this.x=this.y=this.arc=this.site=this.cy=null;}function h7(a){var l=a.P,r=a.N;if(!l||!r)return;var b=l.site,c=a.site,f=r.site;if(b===f)return;var g=c.x,h=c.y,i=b.x-g,j=b.y-h,k=f.x-g,m=f.y-h;var d=2*(i*m-j*k);if(d>=-ε2)return;var n=i*i+j*j,o=k*k+m*m,x=(m*n-j*o)/d,y=(i*o-k*n)/d,m=y+h;var p=X6.pop()||new g7();p.arc=a;p.site=c;p.x=x+g;p.y=m+Math.sqrt(x*x+y*y);p.cy=m;a.circle=p;var q=null,s=W6._;while(s){if(p.y<s.y||p.y===s.y&&p.x<=s.x){if(s.L)s=s.L;else{q=s.P;break;}}else{if(s.R)s=s.R;else{q=s;break;}}}W6.insert(q,p);if(!q)V6=p;}function i7(a){var c=a.circle;if(c){if(!c.P)V6=c.N;W6.remove(c);X6.push(c);r7(c);a.circle=null;}}function j7(a){var b=R6,c=F5(a[0][0],a[0][1],a[1][0],a[1][1]),i=b.length,e;while(i--){e=b[i];if(!k7(e,a)||!c(e)||h1(e.a.x-e.b.x)<ε&&h1(e.a.y-e.b.y)<ε){e.a=e.b=null;b.splice(i,1);}}}function k7(a,b){var v=a.b;if(v)return true;var c=a.a,x=b[0][0],d=b[1][0],y=b[0][1],f=b[1][1],l=a.l,r=a.r,g=l.x,h=l.y,i=r.x,j=r.y,k=(g+i)/2,m=(h+j)/2,n,o;if(j===h){if(k<x||k>=d)return;if(g>i){if(!c)c={x:k,y:y};else if(c.y>=f)return;v={x:k,y:f};}else{if(!c)c={x:k,y:f};else if(c.y<y)return;v={x:k,y:y};}}else{n=(g-i)/(j-h);o=m-n*k;if(n<-1||n>1){if(g>i){if(!c)c={x:(y-o)/n,y:y};else if(c.y>=f)return;v={x:(f-o)/n,y:f};}else{if(!c)c={x:(f-o)/n,y:f};else if(c.y<y)return;v={x:(y-o)/n,y:y};}}else{if(h<j){if(!c)c={x:x,y:n*x+o};else if(c.x>=d)return;v={x:d,y:n*d+o};}else{if(!c)c={x:d,y:n*d+o};else if(c.x<x)return;v={x:x,y:n*x+o};}}}a.a=c;a.b=v;return true;}function l7(l,r){this.l=l;this.r=r;this.a=this.b=null;}function m7(l,r,v,a){var b=new l7(l,r);R6.push(b);if(v)o7(b,l,r,v);if(a)o7(b,r,l,a);S6[l.i].edges.push(new p7(b,l,r));S6[r.i].edges.push(new p7(b,r,l));return b;}function n7(l,v,a){var b=new l7(l,null);b.a=v;b.b=a;R6.push(b);return b;}function o7(a,l,r,v){if(!a.a&&!a.b){a.a=v;a.l=l;a.r=r;}else if(a.l===r){a.b=v;}else{a.a=v;}}function p7(a,l,r){var v=a.a,b=a.b;this.edge=a;this.site=l;this.angle=r?Math.atan2(r.y-l.y,r.x-l.x):a.l===l?Math.atan2(b.x-v.x,v.y-b.y):Math.atan2(v.x-b.x,b.y-v.y);}p7.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b;},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a;}};function q7(){this._=null;}function r7(n){n.U=n.C=n.L=n.R=n.P=n.N=null;}q7.prototype={insert:function(a,n){var p,g,u;if(a){n.P=a;n.N=a.N;if(a.N)a.N.P=n;a.N=n;if(a.R){a=a.R;while(a.L)a=a.L;a.L=n;}else{a.R=n;}p=a;}else if(this._){a=u7(this._);n.P=null;n.N=a;a.P=a.L=n;p=a;}else{n.P=n.N=null;this._=n;p=null;}n.L=n.R=null;n.U=p;n.C=true;a=n;while(p&&p.C){g=p.U;if(p===g.L){u=g.R;if(u&&u.C){p.C=u.C=false;g.C=true;a=g;}else{if(a===p.R){s7(this,p);a=p;p=a.U;}p.C=false;g.C=true;t7(this,g);}}else{u=g.L;if(u&&u.C){p.C=u.C=false;g.C=true;a=g;}else{if(a===p.L){t7(this,p);a=p;p=a.U;}p.C=false;g.C=true;s7(this,g);}}p=a.U;}this._.C=false;},remove:function(n){if(n.N)n.N.P=n.P;if(n.P)n.P.N=n.N;n.N=n.P=null;var p=n.U,s,l=n.L,r=n.R,a,b;if(!l)a=r;else if(!r)a=l;else a=u7(r);if(p){if(p.L===n)p.L=a;else p.R=a;}else{this._=a;}if(l&&r){b=a.C;a.C=n.C;a.L=l;l.U=a;if(a!==r){p=a.U;a.U=n.U;n=a.R;p.L=n;a.R=r;r.U=a;}else{a.U=p;p=a;n=a.R;}}else{b=n.C;n=a;}if(n)n.U=p;if(b)return;if(n&&n.C){n.C=false;return;}do{if(n===this._)break;if(n===p.L){s=p.R;if(s.C){s.C=false;p.C=true;s7(this,p);s=p.R;}if(s.L&&s.L.C||s.R&&s.R.C){if(!s.R||!s.R.C){s.L.C=false;s.C=true;t7(this,s);s=p.R;}s.C=p.C;p.C=s.R.C=false;s7(this,p);n=this._;break;}}else{s=p.L;if(s.C){s.C=false;p.C=true;t7(this,p);s=p.L;}if(s.L&&s.L.C||s.R&&s.R.C){if(!s.L||!s.L.C){s.R.C=false;s.C=true;s7(this,s);s=p.L;}s.C=p.C;p.C=s.L.C=false;t7(this,p);n=this._;break;}}s.C=true;n=p;p=p.U;}while(!n.C);if(n)n.C=false;}};function s7(t,n){var p=n,q=n.R,a=p.U;if(a){if(a.L===p)a.L=q;else a.R=q;}else{t._=q;}q.U=a;p.U=q;p.R=q.L;if(p.R)p.R.U=p;q.L=p;}function t7(t,n){var p=n,q=n.L,a=p.U;if(a){if(a.L===p)a.L=q;else a.R=q;}else{t._=q;}q.U=a;p.U=q;p.L=q.R;if(p.L)p.L.U=p;q.R=p;}function u7(n){while(n.L)n=n.L;return n;}function v7(s,b){var a=s.sort(w7).pop(),x,y,c;R6=[];S6=new Array(s.length);T6=new q7();W6=new q7();while(true){c=V6;if(a&&(!c||a.y<c.y||a.y===c.y&&a.x<c.x)){if(a.x!==x||a.y!==y){S6[a.i]=new d7(a);a7(a);x=a.x,y=a.y;}a=s.pop();}else if(c){_6(c.arc);}else{break;}}if(b)j7(b),e7(b);var d={cells:S6,edges:R6};T6=W6=R6=S6=null;return d;}function w7(a,b){return b.y-a.y||b.x-a.x;}D.geom.voronoi=function(p){var x=J6,y=K6,f=x,a=y,c=x7;if(p)return v(p);function v(d){var g=new Array(d.length),h=c[0][0],j=c[0][1],k=c[1][0],l=c[1][1];v7(b(d),c).cells.forEach(function(m,i){var n=m.edges,o=m.site,q=g[i]=n.length?n.map(function(e){var s=e.start();return[s.x,s.y];}):o.x>=h&&o.x<=k&&o.y>=j&&o.y<=l?[[h,l],[k,l],[k,j],[h,j]]:[];q.point=d[i];});return g;}function b(g){return g.map(function(d,i){return{x:Math.round(f(d,i)/ε)*ε,y:Math.round(a(d,i)/ε)*ε,i:i};});}v.links=function(d){return v7(b(d)).edges.filter(function(g){return g.l&&g.r;}).map(function(g){return{source:d[g.l.i],target:d[g.r.i]};});};v.triangles=function(d){var t=[];v7(b(d)).cells.forEach(function(g,i){var s=g.site,h=g.edges.sort(f7),j=-1,m=h.length,k,l,n=h[m-1].edge,o=n.l===s?n.r:n.l;while(++j<m){k=n;l=o;n=h[j].edge;o=n.l===s?n.r:n.l;if(i<l.i&&i<o.i&&y7(s,l,o)<0){t.push([d[i],d[l.i],d[o.i]]);}}});return t;};v.x=function(_){return arguments.length?(f=J3(x=_),v):x;};v.y=function(_){return arguments.length?(a=J3(y=_),v):y;};v.clipExtent=function(_){if(!arguments.length)return c===x7?null:c;c=_==null?x7:_;return v;};v.size=function(_){if(!arguments.length)return c===x7?null:c&&c[1];return v.clipExtent(_&&[[0,0],_]);};return v;};var x7=[[-1e6,-1e6],[1e6,1e6]];function y7(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y);}D.geom.delaunay=function(v){return D.geom.voronoi().triangles(v);};D.geom.quadtree=function(p,a,b,c,g){var x=J6,y=K6,h;if(h=arguments.length){x=z7;y=A7;if(h===3){g=b;c=a;b=a=0;}return q(p);}function q(j){var d,k=J3(x),l=J3(y),m,o,i,n,r,s,t,u;if(a!=null){r=a,s=b,t=c,u=g;}else{t=u=-(r=s=Infinity);m=[],o=[];n=j.length;if(h)for(i=0;i<n;++i){d=j[i];if(d.x<r)r=d.x;if(d.y<s)s=d.y;if(d.x>t)t=d.x;if(d.y>u)u=d.y;m.push(d.x);o.push(d.y);}else for(i=0;i<n;++i){var v=+k(d=j[i],i),w=+l(d,i);if(v<r)r=v;if(w<s)s=w;if(v>t)t=v;if(w>u)u=w;m.push(v);o.push(w);}}var z=t-r,A=u-s;if(z>A)u=s+z;else t=r+A;function B(n,d,x,y,a,b,c,g){if(isNaN(x)||isNaN(y))return;if(n.leaf){var f=n.x,G=n.y;if(f!=null){if(h1(f-x)+h1(G-y)<.01){C(n,d,x,y,a,b,c,g);}else{var H=n.point;n.x=n.y=n.point=null;C(n,H,f,G,a,b,c,g);C(n,d,x,y,a,b,c,g);}}else{n.x=x,n.y=y,n.point=d;}}else{C(n,d,x,y,a,b,c,g);}}function C(n,d,x,y,a,b,c,g){var f=(a+c)*.5,G=(b+g)*.5,H=x>=f,I=y>=G,i=(I<<1)+H;n.leaf=false;n=n.nodes[i]||(n.nodes[i]=B7());if(H)a=f;else c=f;if(I)b=G;else g=G;B(n,d,x,y,a,b,c,g);}var F=B7();F.add=function(d){B(F,d,+k(d,++i),+l(d,i),r,s,t,u);};F.visit=function(f){C7(f,F,r,s,t,u);};i=-1;if(a==null){while(++i<n){B(F,j[i],m[i],o[i],r,s,t,u);}--i;}else j.forEach(F.add);m=o=j=d=null;return F;}q.x=function(_){return arguments.length?(x=_,q):x;};q.y=function(_){return arguments.length?(y=_,q):y;};q.extent=function(_){if(!arguments.length)return a==null?null:[[a,b],[c,g]];if(_==null)a=b=c=g=null;else a=+_[0][0],b=+_[0][1],c=+_[1][0],g=+_[1][1];return q;};q.size=function(_){if(!arguments.length)return a==null?null:[c-a,g-b];if(_==null)a=b=c=g=null;else a=b=0,c=+_[0],g=+_[1];return q;};return q;};function z7(d){return d.x;}function A7(d){return d.y;}function B7(){return{leaf:true,nodes:[],point:null,x:null,y:null};}function C7(f,n,x,y,a,b){if(!f(n,x,y,a,b)){var s=(x+a)*.5,c=(y+b)*.5,d=n.nodes;if(d[0])C7(f,d[0],x,y,s,c);if(d[1])C7(f,d[1],s,y,a,c);if(d[2])C7(f,d[2],x,c,s,b);if(d[3])C7(f,d[3],s,c,a,b);}}D.interpolateRgb=D7;function D7(a,b){a=D.rgb(a);b=D.rgb(b);var c=a.r,d=a.g,f=a.b,g=b.r-c,h=b.g-d,i=b.b-f;return function(t){return"#"+C3(Math.round(c+g*t))+C3(Math.round(d+h*t))+C3(Math.round(f+i*t));};}D.interpolateObject=E7;function E7(a,b){var i={},c={},k;for(k in a){if(k in b){i[k]=J7(a[k],b[k]);}else{c[k]=a[k];}}for(k in b){if(!(k in a)){c[k]=b[k];}}return function(t){for(k in i)c[k]=i[k](t);return c;};}D.interpolateNumber=F7;function F7(a,b){b-=a=+a;return function(t){return a+b*t;};}D.interpolateString=G7;function G7(a,b){var c=H7.lastIndex=I7.lastIndex=0,d,f,g,i=-1,s=[],q=[];a=a+"",b=b+"";while((d=H7.exec(a))&&(f=I7.exec(b))){if((g=f.index)>c){g=b.slice(c,g);if(s[i])s[i]+=g;else s[++i]=g;}if((d=d[0])===(f=f[0])){if(s[i])s[i]+=f;else s[++i]=f;}else{s[++i]=null;q.push({i:i,x:F7(d,f)});}c=I7.lastIndex;}if(c<b.length){g=b.slice(c);if(s[i])s[i]+=g;else s[++i]=g;}return s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+"";}):function(){return b;}:(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("");});}var H7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I7=new RegExp(H7.source,"g");D.interpolate=J7;function J7(a,b){var i=D.interpolators.length,f;while(--i>=0&&!(f=D.interpolators[i](a,b)));return f;}D.interpolators=[function(a,b){var t=typeof b;return(t==="string"?I3.has(b)||/^(#|rgb\(|hsl\()/.test(b)?D7:G7:b instanceof b3?D7:Array.isArray(b)?K7:t==="object"&&isNaN(b)?E7:F7)(a,b);}];D.interpolateArray=K7;function K7(a,b){var x=[],c=[],n=a.length,d=b.length,f=Math.min(a.length,b.length),i;for(i=0;i<f;++i)x.push(J7(a[i],b[i]));for(;i<n;++i)c[i]=a[i];for(;i<d;++i)c[i]=b[i];return function(t){for(i=0;i<f;++i)c[i]=x[i](t);return c;};}var L7=function(){return K3;};var M7=D.map({linear:L7,poly:U7,quad:function(){return R7;},cubic:function(){return S7;},sin:function(){return V7;},exp:function(){return W7;},circle:function(){return X7;},elastic:Y7,back:Z7,bounce:function(){return $7;}});var N7=D.map({"in":K3,out:P7,"in-out":Q7,"out-in":function(f){return Q7(P7(f));}});D.ease=function(n){var i=n.indexOf("-"),t=i>=0?n.slice(0,i):n,m=i>=0?n.slice(i+1):"in";t=M7.get(t)||L7;m=N7.get(m)||K3;return O7(m(t.apply(null,E.call(arguments,1))));};function O7(f){return function(t){return t<=0?0:t>=1?1:f(t);};}function P7(f){return function(t){return 1-f(1-t);};}function Q7(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t));};}function R7(t){return t*t;}function S7(t){return t*t*t;}function T7(t){if(t<=0)return 0;if(t>=1)return 1;var a=t*t,b=a*t;return 4*(t<.5?b:3*(t-a)+b-.75);}function U7(e){return function(t){return Math.pow(t,e);};}function V7(t){return 1-Math.cos(t*M2);}function W7(t){return Math.pow(2,10*(t-1));}function X7(t){return 1-Math.sqrt(1-t*t);}function Y7(a,p){var s;if(arguments.length<2)p=.45;if(arguments.length)s=p/τ*Math.asin(1/a);else a=1,s=p/4;return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p);};}function Z7(s){if(!s)s=1.70158;return function(t){return t*t*((s+1)*t-s);};}function $7(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375;}D.interpolateHcl=_7;function _7(a,b){a=D.hcl(a);b=D.hcl(b);var c=a.h,d=a.c,f=a.l,g=b.h-c,h=b.c-d,i=b.l-f;if(isNaN(h))h=0,d=isNaN(d)?b.c:d;if(isNaN(g))g=0,c=isNaN(c)?b.h:c;else if(g>180)g-=360;else if(g<-180)g+=360;return function(t){return h3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateHsl=a8;function a8(a,b){a=D.hsl(a);b=D.hsl(b);var c=a.h,d=a.s,f=a.l,g=b.h-c,h=b.s-d,i=b.l-f;if(isNaN(h))h=0,d=isNaN(d)?b.s:d;if(isNaN(g))g=0,c=isNaN(c)?b.h:c;else if(g>180)g-=360;else if(g<-180)g+=360;return function(t){return e3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateLab=b8;function b8(a,b){a=D.lab(a);b=D.lab(b);var c=a.l,d=a.a,f=a.b,g=b.l-c,h=b.a-d,i=b.b-f;return function(t){return o3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateRound=c8;function c8(a,b){b-=a;return function(t){return Math.round(a+b*t);};}D.transform=function(s){var g=K.createElementNS(D.ns.prefix.svg,"g");return(D.transform=function(s){if(s!=null){g.setAttribute("transform",s);var t=g.transform.baseVal.consolidate();}return new d8(t?t.matrix:h8);})(s);};function d8(m){var r=[m.a,m.b],a=[m.c,m.d],k=f8(r),b=e8(r,a),c=f8(g8(a,r,-b))||0;if(r[0]*a[1]<a[0]*r[1]){r[0]*=-1;r[1]*=-1;k*=-1;b*=-1;}this.rotate=(k?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*P2;this.translate=[m.e,m.f];this.scale=[k,c];this.skew=c?Math.atan2(b,c)*P2:0;}d8.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")";};function e8(a,b){return a[0]*b[0]+a[1]*b[1];}function f8(a){var k=Math.sqrt(e8(a,a));if(k){a[0]/=k;a[1]/=k;}return k;}function g8(a,b,k){a[0]+=k*b[0];a[1]+=k*b[1];return a;}var h8={a:1,b:0,c:0,d:1,e:0,f:0};D.interpolateTransform=i8;function i8(a,b){var s=[],q=[],n,A=D.transform(a),B=D.transform(b),c=A.translate,d=B.translate,r=A.rotate,f=B.rotate,w=A.skew,g=B.skew,k=A.scale,h=B.scale;if(c[0]!=d[0]||c[1]!=d[1]){s.push("translate(",null,",",null,")");q.push({i:1,x:F7(c[0],d[0])},{i:3,x:F7(c[1],d[1])});}else if(d[0]||d[1]){s.push("translate("+d+")");}else{s.push("");}if(r!=f){if(r-f>180)f+=360;else if(f-r>180)r+=360;q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:F7(r,f)});}else if(f){s.push(s.pop()+"rotate("+f+")");}if(w!=g){q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:F7(w,g)});}else if(g){s.push(s.pop()+"skewX("+g+")");}if(k[0]!=h[0]||k[1]!=h[1]){n=s.push(s.pop()+"scale(",null,",",null,")");q.push({i:n-4,x:F7(k[0],h[0])},{i:n-2,x:F7(k[1],h[1])});}else if(h[0]!=1||h[1]!=1){s.push(s.pop()+"scale("+h+")");}n=q.length;return function(t){var i=-1,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("");};}function j8(a,b){b=b-(a=+a)?1/(b-a):0;return function(x){return(x-a)*b;};}function k8(a,b){b=b-(a=+a)?1/(b-a):0;return function(x){return Math.max(0,Math.min(1,(x-a)*b));};}D.layout={};D.layout.bundle=function(){return function(l){var p=[],i=-1,n=l.length;while(++i<n)p.push(l8(l[i]));return p;};};function l8(l){var s=l.source,a=l.target,b=n8(s,a),p=[s];while(s!==b){s=s.parent;p.push(s);}var k=p.length;while(a!==b){p.splice(k,0,a);a=a.parent;}return p;}function m8(n){var a=[],p=n.parent;while(p!=null){a.push(n);n=p;p=p.parent;}a.push(n);return a;}function n8(a,b){if(a===b)return a;var n=m8(a),N=m8(b),c=n.pop(),d=N.pop(),s=null;while(c===d){s=c;c=n.pop();d=N.pop();}return s;}D.layout.chord=function(){var c={},f,g,m,n,p=0,s,h,l;function r(){var q={},t=[],u=D.range(n),w=[],k,x,y,i,j;f=[];g=[];k=0,i=-1;while(++i<n){x=0,j=-1;while(++j<n){x+=m[i][j];}t.push(x);w.push(D.range(n));k+=x;}if(s){u.sort(function(a,b){return s(t[a],t[b]);});}if(h){w.forEach(function(d,i){d.sort(function(a,b){return h(m[i][a],m[i][b]);});});}k=(τ-p*n)/k;x=0,i=-1;while(++i<n){y=x,j=-1;while(++j<n){var z=u[i],A=w[z][j],v=m[z][A],B=x,C=x+=v*k;q[z+"-"+A]={index:z,subindex:A,startAngle:B,endAngle:C,value:v};}g[z]={index:z,startAngle:y,endAngle:x,value:(x-y)/k};x+=p;}i=-1;while(++i<n){j=i-1;while(++j<n){var F=q[i+"-"+j],G=q[j+"-"+i];if(F.value||G.value){f.push(F.value<G.value?{source:G,target:F}:{source:F,target:G});}}}if(l)o();}function o(){f.sort(function(a,b){return l((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2);});}c.matrix=function(x){if(!arguments.length)return m;n=(m=x)&&m.length;f=g=null;return c;};c.padding=function(x){if(!arguments.length)return p;p=x;f=g=null;return c;};c.sortGroups=function(x){if(!arguments.length)return s;s=x;f=g=null;return c;};c.sortSubgroups=function(x){if(!arguments.length)return h;h=x;f=null;return c;};c.sortChords=function(x){if(!arguments.length)return l;l=x;if(f)o();return c;};c.chords=function(){if(!f)r();return f;};c.groups=function(){if(!g)r();return g;};return c;};D.layout.force=function(){var f={},a=D.dispatch("start","tick","end"),b=[1,1],c,g,p=.9,r=t8,u=u8,v=-30,z=v8,A=.1,B=.64,C=[],F=[],G,H,I;function L(n){return function(q,x,_,d){if(q.point!==n){var h=q.cx-n.x,i=q.cy-n.y,j=d-x,l=h*h+i*i;if(j*j/B<l){if(l<z){var k=q.charge/l;n.px-=h*k;n.py-=i*k;}return true;}if(q.point&&l&&l<z){var k=q.pointCharge/l;n.px-=h*k;n.py-=i*k;}}return!q.charge;};}f.tick=function(){if((g*=.99)<.005){a.end({type:"end",alpha:g=0});return true;}var n=C.length,m=F.length,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=F[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;if(l=x*x+y*y){l=g*H[i]*((l=Math.sqrt(l))-G[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight/(t.weight+s.weight));t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k;}}if(k=g*A){x=b[0]/2;y=b[1]/2;i=-1;if(k)while(++i<n){o=C[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k;}}if(v){s8(q=D.geom.quadtree(C),g,I);i=-1;while(++i<n){if(!(o=C[i]).fixed){q.visit(L(o));}}}i=-1;while(++i<n){o=C[i];if(o.fixed){o.x=o.px;o.y=o.py;}else{o.x-=(o.px-(o.px=o.x))*p;o.y-=(o.py-(o.py=o.y))*p;}}a.tick({type:"tick",alpha:g});};f.nodes=function(x){if(!arguments.length)return C;C=x;return f;};f.links=function(x){if(!arguments.length)return F;F=x;return f;};f.size=function(x){if(!arguments.length)return b;b=x;return f;};f.linkDistance=function(x){if(!arguments.length)return r;r=typeof x==="function"?x:+x;return f;};f.distance=f.linkDistance;f.linkStrength=function(x){if(!arguments.length)return u;u=typeof x==="function"?x:+x;return f;};f.friction=function(x){if(!arguments.length)return p;p=+x;return f;};f.charge=function(x){if(!arguments.length)return v;v=typeof x==="function"?x:+x;return f;};f.chargeDistance=function(x){if(!arguments.length)return Math.sqrt(z);z=x*x;return f;};f.gravity=function(x){if(!arguments.length)return A;A=+x;return f;};f.theta=function(x){if(!arguments.length)return Math.sqrt(B);B=x*x;return f;};f.alpha=function(x){if(!arguments.length)return g;x=+x;if(g){if(x>0)g=x;else g=0;}else if(x>0){a.start({type:"start",alpha:g=x});D.timer(f.tick);}return f;};f.start=function(){var i,n=C.length,m=F.length,w=b[0],h=b[1],d,o;for(i=0;i<n;++i){(o=C[i]).index=i;o.weight=0;}for(i=0;i<m;++i){o=F[i];if(typeof o.source=="number")o.source=C[o.source];if(typeof o.target=="number")o.target=C[o.target];++o.source.weight;++o.target.weight;}for(i=0;i<n;++i){o=C[i];if(isNaN(o.x))o.x=k("x",w);if(isNaN(o.y))o.y=k("y",h);if(isNaN(o.px))o.px=o.x;if(isNaN(o.py))o.py=o.y;}G=[];if(typeof r==="function")for(i=0;i<m;++i)G[i]=+r.call(this,F[i],i);else for(i=0;i<m;++i)G[i]=r;H=[];if(typeof u==="function")for(i=0;i<m;++i)H[i]=+u.call(this,F[i],i);else for(i=0;i<m;++i)H[i]=u;I=[];if(typeof v==="function")for(i=0;i<n;++i)I[i]=+v.call(this,C[i],i);else for(i=0;i<n;++i)I[i]=v;function k(l,b){if(!d){d=new Array(n);for(j=0;j<n;++j){d[j]=[];}for(j=0;j<m;++j){var o=F[j];d[o.source.index].push(o.target);d[o.target.index].push(o.source);}}var q=d[i],j=-1,m=q.length,x;while(++j<m)if(!isNaN(x=q[j][l]))return x;return Math.random()*b;}return f.resume();};f.resume=function(){return f.alpha(.1);};f.stop=function(){return f.alpha(0);};f.drag=function(){if(!c)c=D.behavior.drag().origin(K3).on("dragstart.force",o8).on("drag.force",N).on("dragend.force",p8);if(!arguments.length)return c;this.on("mouseover.force",q8).on("mouseout.force",r8).call(c);};function N(d){d.px=D.event.x,d.py=D.event.y;f.resume();}return D.rebind(f,a,"on");};function o8(d){d.fixed|=2;}function p8(d){d.fixed&=~6;}function q8(d){d.fixed|=4;d.px=d.x,d.py=d.y;}function r8(d){d.fixed&=~4;}function s8(q,a,b){var d=0,f=0;q.charge=0;if(!q.leaf){var g=q.nodes,n=g.length,i=-1,c;while(++i<n){c=g[i];if(c==null)continue;s8(c,a,b);q.charge+=c.charge;d+=c.charge*c.cx;f+=c.charge*c.cy;}}if(q.point){if(!q.leaf){q.point.x+=Math.random()-.5;q.point.y+=Math.random()-.5;}var k=a*b[q.point.index];q.charge+=q.pointCharge=k;d+=k*q.point.x;f+=k*q.point.y;}q.cx=d/q.charge;q.cy=f/q.charge;}var t8=20,u8=1,v8=Infinity;D.layout.hierarchy=function(){var s=B8,c=z8,v=A8;function h(r){var a=[r],b=[],d;r.depth=0;while((d=a.pop())!=null){b.push(d);if((f=c.call(h,d,d.depth))&&(n=f.length)){var n,f,g;while(--n>=0){a.push(g=f[n]);g.parent=d;g.depth=d.depth+1;}if(v)d.value=0;d.children=f;}else{if(v)d.value=+v.call(h,d,d.depth)||0;delete d.children;}}y8(r,function(d){var f,p;if(s&&(f=d.children))f.sort(s);if(v&&(p=d.parent))p.value+=d.value;});return b;}h.sort=function(x){if(!arguments.length)return s;s=x;return h;};h.children=function(x){if(!arguments.length)return c;c=x;return h;};h.value=function(x){if(!arguments.length)return v;v=x;return h;};h.revalue=function(r){if(v){x8(r,function(n){if(n.children)n.value=0;});y8(r,function(n){var p;if(!n.children)n.value=+v.call(h,n,n.depth)||0;if(p=n.parent)p.value+=n.value;});}return r;};return h;};function w8(o,h){D.rebind(o,h,"sort","children","value");o.nodes=o;o.links=C8;return o;}function x8(a,c){var b=[a];while((a=b.pop())!=null){c(a);if((d=a.children)&&(n=d.length)){var n,d;while(--n>=0)b.push(d[n]);}}}function y8(a,c){var b=[a],d=[];while((a=b.pop())!=null){d.push(a);if((f=a.children)&&(n=f.length)){var i=-1,n,f;while(++i<n)b.push(f[i]);}}while((a=d.pop())!=null){c(a);}}function z8(d){return d.children;}function A8(d){return d.value;}function B8(a,b){return b.value-a.value;}function C8(n){return D.merge(n.map(function(p){return(p.children||[]).map(function(c){return{source:p,target:c};});}));}D.layout.partition=function(){var h=D.layout.hierarchy(),s=[1,1];function p(f,x,g,j){var k=f.children;f.x=x;f.y=f.depth*j;f.dx=g;f.dy=j;if(k&&(n=k.length)){var i=-1,n,c,d;g=f.value?g/f.value:0;while(++i<n){p(c=k[i],x,d=c.value*g,j);x+=d;}}}function a(c){var f=c.children,d=0;if(f&&(n=f.length)){var i=-1,n;while(++i<n)d=Math.max(d,a(f[i]));}return 1+d;}function b(d,i){var n=h.call(this,d,i);p(n[0],0,s[0],s[1]/a(n[0]));return n;}b.size=function(x){if(!arguments.length)return s;s=x;return b;};return w8(b,h);};D.layout.pie=function(){var v=Number,s=D8,b=0,c=τ;function p(f){var g=f.map(function(d,i){return+v.call(p,d,i);});var a=+(typeof b==="function"?b.apply(this,arguments):b);var k=((typeof c==="function"?c.apply(this,arguments):c)-a)/D.sum(g);var h=D.range(f.length);if(s!=null)h.sort(s===D8?function(i,j){return g[j]-g[i];}:function(i,j){return s(f[i],f[j]);});var l=[];h.forEach(function(i){var d;l[i]={data:f[i],value:d=g[i],startAngle:a,endAngle:a+=d*k};});return l;}p.value=function(x){if(!arguments.length)return v;v=x;return p;};p.sort=function(x){if(!arguments.length)return s;s=x;return p;};p.startAngle=function(x){if(!arguments.length)return b;b=x;return p;};p.endAngle=function(x){if(!arguments.length)return c;c=x;return p;};return p;};var D8={};D.layout.stack=function(){var a=K3,b=J8,c=K8,f=G8,x=E8,y=F8;function s(g,h){var k=g.map(function(d,i){return a.call(s,d,i);});var p=k.map(function(d){return d.map(function(v,i){return[x.call(s,v,i),y.call(s,v,i)];});});var l=b.call(s,p,h);k=D.permute(k,l);p=D.permute(p,l);var q=c.call(s,p,h);var n=k.length,m=k[0].length,i,j,o;for(j=0;j<m;++j){f.call(s,k[0][j],o=q[j],p[0][j][1]);for(i=1;i<n;++i){f.call(s,k[i][j],o+=p[i-1][j][1],p[i][j][1]);}}return g;}s.values=function(x){if(!arguments.length)return a;a=x;return s;};s.order=function(x){if(!arguments.length)return b;b=typeof x==="function"?x:H8.get(x)||J8;return s;};s.offset=function(x){if(!arguments.length)return c;c=typeof x==="function"?x:I8.get(x)||K8;return s;};s.x=function(z){if(!arguments.length)return x;x=z;return s;};s.y=function(z){if(!arguments.length)return y;y=z;return s;};s.out=function(z){if(!arguments.length)return f;f=z;return s;};return s;};function E8(d){return d.x;}function F8(d){return d.y;}function G8(d,a,y){d.y0=a;d.y=y;}var H8=D.map({"inside-out":function(d){var n=d.length,i,j,m=d.map(L8),s=d.map(M8),c=D.range(n).sort(function(a,b){return m[a]-m[b];}),t=0,f=0,g=[],h=[];for(i=0;i<n;++i){j=c[i];if(t<f){t+=s[j];g.push(j);}else{f+=s[j];h.push(j);}}return h.reverse().concat(g);},reverse:function(d){return D.range(d.length).reverse();},"default":J8});var I8=D.map({silhouette:function(d){var n=d.length,m=d[0].length,s=[],a=0,i,j,o,y=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=d[i][j][1];if(o>a)a=o;s.push(o);}for(j=0;j<m;++j){y[j]=(a-s[j])/2;}return y;},wiggle:function(d){var n=d.length,x=d[0],m=x.length,i,j,k,s,a,b,c,o,f,y=[];y[0]=o=f=0;for(j=1;j<m;++j){for(i=0,s=0;i<n;++i)s+=d[i][j][1];for(i=0,a=0,c=x[j][0]-x[j-1][0];i<n;++i){for(k=0,b=(d[i][j][1]-d[i][j-1][1])/(2*c);k<i;++k){b+=(d[k][j][1]-d[k][j-1][1])/c;}a+=b*d[i][j][1];}y[j]=o-=s?a/s*c:0;if(o<f)f=o;}for(j=0;j<m;++j)y[j]-=f;return y;},expand:function(d){var n=d.length,m=d[0].length,k=1/n,i,j,o,y=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=d[i][j][1];if(o)for(i=0;i<n;i++)d[i][j][1]/=o;else for(i=0;i<n;i++)d[i][j][1]=k;}for(j=0;j<m;++j)y[j]=0;return y;},zero:K8});function J8(d){return D.range(d.length);}function K8(d){var j=-1,m=d[0].length,y=[];while(++j<m)y[j]=0;return y;}function L8(a){var i=1,j=0,v=a[0][1],k,n=a.length;for(;i<n;++i){if((k=a[i][1])>v){j=i;v=k;}}return j;}function M8(d){return d.reduce(N8,0);}function N8(p,d){return p+d[1];}D.layout.histogram=function(){var f=true,v=Number,r=Q8,b=O8;function h(d,i){var a=[],c=d.map(v,this),g=r.call(this,c,i),t=b.call(this,g,c,i),j,i=-1,n=c.length,m=t.length-1,k=f?1:1/n,x;while(++i<m){j=a[i]=[];j.dx=t[i+1]-(j.x=t[i]);j.y=0;}if(m>0){i=-1;while(++i<n){x=c[i];if(x>=g[0]&&x<=g[1]){j=a[D.bisect(t,x,1,m)-1];j.y+=k;j.push(d[i]);}}}return a;}h.value=function(x){if(!arguments.length)return v;v=x;return h;};h.range=function(x){if(!arguments.length)return r;r=J3(x);return h;};h.bins=function(x){if(!arguments.length)return b;b=typeof x==="number"?function(a){return P8(a,x);}:J3(x);return h;};h.frequency=function(x){if(!arguments.length)return f;f=!!x;return h;};return h;};function O8(r,v){return P8(r,Math.ceil(Math.log(v.length)/Math.LN2+1));}function P8(r,n){var x=-1,b=+r[0],m=(r[1]-b)/n,f=[];while(++x<=n)f[x]=m*x+b;return f;}function Q8(v){return[D.min(v),D.max(v)];}D.layout.pack=function(){var a=D.layout.hierarchy().sort(R8),p=0,s=[1,1],b;function c(d,i){var n=a.call(this,d,i),f=n[0],w=s[0],h=s[1],r=b==null?Math.sqrt:typeof b==="function"?b:function(){return b;};f.x=f.y=0;y8(f,function(d){d.r=+r(d.value);});y8(f,V8);if(p){var g=p*(b?1:Math.max(2*f.r/w,2*f.r/h))/2;y8(f,function(d){d.r+=g;});y8(f,V8);y8(f,function(d){d.r-=g;});}Y8(f,w/2,h/2,b?1:1/Math.max(2*f.r/w,2*f.r/h));return n;}c.size=function(_){if(!arguments.length)return s;s=_;return c;};c.radius=function(_){if(!arguments.length)return b;b=_==null||typeof _==="function"?_:+_;return c;};c.padding=function(_){if(!arguments.length)return p;p=+_;return c;};return w8(c,a);};function R8(a,b){return a.value-b.value;}function S8(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b;}function T8(a,b){a._pack_next=b;b._pack_prev=a;}function U8(a,b){var d=b.x-a.x,c=b.y-a.y,f=a.r+b.r;return.999*f*f>d*d+c*c;}function V8(d){if(!(f=d.children)||!(n=f.length))return;var f,x=Infinity,g=-Infinity,y=Infinity,h=-Infinity,a,b,c,i,j,k,n;function l(d){x=Math.min(d.x-d.r,x);g=Math.max(d.x+d.r,g);y=Math.min(d.y-d.r,y);h=Math.max(d.y+d.r,h);}f.forEach(W8);a=f[0];a.x=-a.r;a.y=0;l(a);if(n>1){b=f[1];b.x=b.r;b.y=0;l(b);if(n>2){c=f[2];Z8(a,b,c);l(c);S8(a,c);a._pack_prev=c;S8(c,b);b=a._pack_next;for(i=3;i<n;i++){Z8(a,b,c=f[i]);var m=0,s=1,o=1;for(j=b._pack_next;j!==b;j=j._pack_next,s++){if(U8(j,c)){m=1;break;}}if(m==1){for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,o++){if(U8(k,c)){break;}}}if(m){if(s<o||s==o&&b.r<a.r)T8(a,b=j);else T8(a=k,b);i--;}else{S8(a,c);b=c;l(c);}}}}var p=(x+g)/2,q=(y+h)/2,r=0;for(i=0;i<n;i++){c=f[i];c.x-=p;c.y-=q;r=Math.max(r,c.r+Math.sqrt(c.x*c.x+c.y*c.y));}d.r=r;f.forEach(X8);}function W8(n){n._pack_next=n._pack_prev=n;}function X8(n){delete n._pack_next;delete n._pack_prev;}function Y8(a,x,y,k){var c=a.children;a.x=x+=k*a.x;a.y=y+=k*a.y;a.r*=k;if(c){var i=-1,n=c.length;while(++i<n)Y8(c[i],x,y,k);}}function Z8(a,b,c){var d=a.r+c.r,f=b.x-a.x,g=b.y-a.y;if(d&&(f||g)){var h=b.r+c.r,i=f*f+g*g;h*=h;d*=d;var x=.5+(d-h)/(2*i),y=Math.sqrt(Math.max(0,2*h*(d+i)-(d-=i)*d-h*h))/(2*i);c.x=a.x+x*f+y*g;c.y=a.y+x*g-y*f;}else{c.x=a.x+d;c.y=a.y;}}D.layout.tree=function(){var h=D.layout.hierarchy().sort(null).value(null),s=$8,a=[1,1],b=null;function t(d,i){var n=h.call(this,d,i),r=n[0],l=c(r);y8(l,f),l.parent.m=-l.z;x8(l,g);if(b)x8(r,k);else{var m=r,o=r,p=r;x8(r,function(w){if(w.x<m.x)m=w;if(w.x>o.x)o=w;if(w.depth>p.depth)p=w;});var q=s(m,o)/2-m.x,u=a[0]/(o.x+s(o,m)/2+q),v=a[1]/(p.depth||1);x8(r,function(w){w.x=(w.x+q)*u;w.y=w.depth*v;});}return n;}function c(r){var d={A:null,children:[r]},q=[d],l;while((l=q.pop())!=null){for(var m=l.children,o,i=0,n=m.length;i<n;++i){q.push((m[i]=o={_:m[i],parent:l,children:(o=m[i].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=o);}}return d.children[0];}function f(v){var d=v.children,i=v.parent.children,w=v.i?i[v.i-1]:null;if(d.length){c9(v);var m=(d[0].z+d[d.length-1].z)/2;if(w){v.z=w.z+s(v._,w._);v.m=v.z-m;}else{v.z=m;}}else if(w){v.z=w.z+s(v._,w._);}v.parent.A=j(v,w,v.parent.A||i[0]);}function g(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m;}function j(v,w,d){if(w){var i=v,l=v,m=w,n=i.parent.children[0],o=i.m,p=l.m,q=m.m,r=n.m,u;while(m=a9(m),i=_8(i),m&&i){n=_8(n);l=a9(l);l.a=v;u=m.z+q-i.z-o+s(m._,i._);if(u>0){b9(d9(m,v,d),v,u);o+=u;p+=u;}q+=m.m;o+=i.m;r+=n.m;p+=l.m;}if(m&&!a9(l)){l.t=m;l.m+=q-p;}if(i&&!_8(n)){n.t=i;n.m+=o-r;d=v;}}return d;}function k(n){n.x*=a[0];n.y=n.depth*a[1];}t.separation=function(x){if(!arguments.length)return s;s=x;return t;};t.size=function(x){if(!arguments.length)return b?null:a;b=(a=x)==null?k:null;return t;};t.nodeSize=function(x){if(!arguments.length)return b?a:null;b=(a=x)==null?null:k;return t;};return w8(t,h);};function $8(a,b){return a.parent==b.parent?1:2;}function _8(v){var c=v.children;return c.length?c[0]:v.t;}function a9(v){var c=v.children,n;return(n=c.length)?c[n-1]:v.t;}function b9(w,a,s){var c=s/(a.i-w.i);a.c-=c;a.s+=s;w.c+=c;a.z+=s;a.m+=s;}function c9(v){var s=0,c=0,a=v.children,i=a.length,w;while(--i>=0){w=a[i];w.z+=s;w.m+=s;s+=w.s+(c+=w.c);}}function d9(a,v,b){return a.a.parent===v.parent?a.a:b;}D.layout.cluster=function(){var h=D.layout.hierarchy().sort(null).value(null),s=$8,a=[1,1],n=false;function c(d,i){var b=h.call(this,d,i),r=b[0],p,x=0;y8(r,function(k){var m=k.children;if(m&&m.length){k.x=f9(m);k.y=e9(m);}else{k.x=p?x+=s(k,p):0;k.y=0;p=k;}});var l=g9(r),f=h9(r),g=l.x-s(l,f)/2,j=f.x+s(f,l)/2;y8(r,n?function(k){k.x=(k.x-r.x)*a[0];k.y=(r.y-k.y)*a[1];}:function(k){k.x=(k.x-g)/(j-g)*a[0];k.y=(1-(r.y?k.y/r.y:1))*a[1];});return b;}c.separation=function(x){if(!arguments.length)return s;s=x;return c;};c.size=function(x){if(!arguments.length)return n?null:a;n=(a=x)==null;return c;};c.nodeSize=function(x){if(!arguments.length)return n?a:null;n=(a=x)!=null;return c;};return w8(c,h);};function e9(c){return 1+D.max(c,function(a){return a.y;});}function f9(c){return c.reduce(function(x,a){return x+a.x;},0)/c.length;}function g9(n){var c=n.children;return c&&c.length?g9(c[0]):n;}function h9(a){var c=a.children,n;return c&&(n=c.length)?h9(c[n-1]):a;}D.layout.treemap=function(){var h=D.layout.hierarchy(),a=Math.round,b=[1,1],c=null,f=i9,g=false,j,m="squarify",l=.5*(1+Math.sqrt(5));function q(d,k){var i=-1,n=d.length,o,p;while(++i<n){p=(o=d[i]).value*(k<0?0:k);o.area=isNaN(p)||p<=0?0:p;}}function t(d){var i=d.children;if(i&&i.length){var r=f(d),k=[],o=i.slice(),p,s=Infinity,v,u=m==="slice"?r.dx:m==="dice"?r.dy:m==="slice-dice"?d.depth&1?r.dy:r.dx:Math.min(r.dx,r.dy),n;q(o,r.dx*r.dy/d.value);k.area=0;while((n=o.length)>0){k.push(p=o[n-1]);k.area+=p.area;if(m!=="squarify"||(v=z(k,u))<=s){o.pop();s=v;}else{k.area-=k.pop().area;A(k,u,r,false);u=Math.min(r.dx,r.dy);k.length=k.area=0;s=Infinity;}}if(k.length){A(k,u,r,true);k.length=k.area=0;}i.forEach(t);}}function w(n){var d=n.children;if(d&&d.length){var r=f(n),i=d.slice(),k,o=[];q(i,r.dx*r.dy/n.value);o.area=0;while(k=i.pop()){o.push(k);o.area+=k.area;if(k.z!=null){A(o,k.z?r.dx:r.dy,r,!i.length);o.length=o.area=0;}}d.forEach(w);}}function z(d,u){var s=d.area,r,k=0,o=Infinity,i=-1,n=d.length;while(++i<n){if(!(r=d[i].area))continue;if(r<o)o=r;if(r>k)k=r;}s*=s;u*=u;return s?Math.max(u*k*l/s,s/(u*o*l)):Infinity;}function A(r,u,d,k){var i=-1,n=r.length,x=d.x,y=d.y,v=u?a(r.area/u):0,o;if(u==d.dx){if(k||v>d.dy)v=d.dy;while(++i<n){o=r[i];o.x=x;o.y=y;o.dy=v;x+=o.dx=Math.min(d.x+d.dx-x,v?a(o.area/v):0);}o.z=true;o.dx+=d.x+d.dx-x;d.y+=v;d.dy-=v;}else{if(k||v>d.dx)v=d.dx;while(++i<n){o=r[i];o.x=x;o.y=y;o.dx=v;y+=o.dy=Math.min(d.y+d.dy-y,v?a(o.area/v):0);}o.z=false;o.dy+=d.y+d.dy-y;d.x+=v;d.dx-=v;}}function B(d){var n=j||h(d),r=n[0];r.x=0;r.y=0;r.dx=b[0];r.dy=b[1];if(j)h.revalue(r);q([r],r.dx*r.dy/r.value);(j?w:t)(r);if(g)j=n;return n;}B.size=function(x){if(!arguments.length)return b;b=x;return B;};B.padding=function(x){if(!arguments.length)return c;function d(n){var p=x.call(B,n,n.depth);return p==null?i9(n):j9(n,typeof p==="number"?[p,p,p,p]:p);}function i(n){return j9(n,x);}var k;f=(c=x)==null?i9:(k=typeof x)==="function"?d:k==="number"?(x=[x,x,x,x],i):i;return B;};B.round=function(x){if(!arguments.length)return a!=Number;a=x?Math.round:Number;return B;};B.sticky=function(x){if(!arguments.length)return g;g=x;j=null;return B;};B.ratio=function(x){if(!arguments.length)return l;l=x;return B;};B.mode=function(x){if(!arguments.length)return m;m=x+"";return B;};return w8(B,h);};function i9(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy};}function j9(n,p){var x=n.x+p[3],y=n.y+p[0],d=n.dx-p[1]-p[3],a=n.dy-p[0]-p[2];if(d<0){x+=d/2;d=0;}if(a<0){y+=a/2;a=0;}return{x:x,y:y,dx:d,dy:a};}D.random={normal:function(µ,σ){var n=arguments.length;if(n<2)σ=1;if(n<1)µ=0;return function(){var x,y,r;do{x=Math.random()*2-1;y=Math.random()*2-1;r=x*x+y*y;}while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r);};},logNormal:function(){var r=D.random.normal.apply(D,arguments);return function(){return Math.exp(r());};},bates:function(m){var r=D.random.irwinHall(m);return function(){return r()/m;};},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s;};}};D.scale={};function k9(d){var s=d[0],a=d[d.length-1];return s<a?[s,a]:[a,s];}function l9(s){return s.rangeExtent?s.rangeExtent():k9(s.range());}function m9(d,r,a,b){var u=a(d[0],d[1]),i=b(r[0],r[1]);return function(x){return i(u(x));};}function n9(d,n){var i=0,a=d.length-1,x=d[i],b=d[a],c;if(b<x){c=i,i=a,a=c;c=x,x=b,b=c;}d[i]=n.floor(x);d[a]=n.ceil(b);return d;}function o9(s){return s?{floor:function(x){return Math.floor(x/s)*s;},ceil:function(x){return Math.ceil(x/s)*s;}}:p9;}var p9={floor:K3,ceil:K3};function q9(d,r,a,b){var u=[],i=[],j=0,k=Math.min(d.length,r.length)-1;if(d[k]<d[0]){d=d.slice().reverse();r=r.slice().reverse();}while(++j<=k){u.push(a(d[j-1],d[j]));i.push(b(r[j-1],r[j]));}return function(x){var j=D.bisect(d,x,1,k)-1;return i[j](u[j](x));};}D.scale.linear=function(){return r9([0,1],[0,1],J7,false);};function r9(d,r,i,c){var o,a;function b(){var l=Math.min(d.length,r.length)>2?q9:m9,u=c?k8:j8;o=l(d,r,u,i);a=l(r,d,u,J7);return s;}function s(x){return o(x);}s.invert=function(y){return a(y);};s.domain=function(x){if(!arguments.length)return d;d=x.map(Number);return b();};s.range=function(x){if(!arguments.length)return r;r=x;return b();};s.rangeRound=function(x){return s.range(x).interpolate(c8);};s.clamp=function(x){if(!arguments.length)return c;c=x;return b();};s.interpolate=function(x){if(!arguments.length)return i;i=x;return b();};s.ticks=function(m){return v9(d,m);};s.tickFormat=function(m,f){return w9(d,m,f);};s.nice=function(m){t9(d,m);return b();};s.copy=function(){return r9(d,r,i,c);};return b();}function s9(s,l){return D.rebind(s,l,"range","rangeRound","interpolate","clamp");}function t9(d,m){return n9(d,o9(u9(d,m)[2]));}function u9(d,m){if(m==null)m=10;var a=k9(d),s=a[1]-a[0],b=Math.pow(10,Math.floor(Math.log(s/m)/Math.LN10)),c=m/s*b;if(c<=.15)b*=10;else if(c<=.35)b*=5;else if(c<=.75)b*=2;a[0]=Math.ceil(a[0]/b)*b;a[1]=Math.floor(a[1]/b)*b+b*.5;a[2]=b;return a;}function v9(d,m){return D.range.apply(D,u9(d,m));}function w9(a,m,f){var r=u9(a,m);if(f){var b=a4.exec(f);b.shift();if(b[8]==="s"){var p=D.formatPrefix(Math.max(h1(r[0]),h1(r[1])));if(!b[7])b[7]="."+y9(p.scale(r[2]));b[8]="f";f=D.format(b.join(""));return function(d){return f(p.scale(d))+p.symbol;};}if(!b[7])b[7]="."+z9(b[8],r);f=b.join("");}else{f=",."+y9(r[2])+"f";}return D.format(f);}var x9={s:1,g:1,p:1,r:1,e:1};function y9(v){return-Math.floor(Math.log(v)/Math.LN10+.01);}function z9(t,r){var p=y9(r[2]);return t in x9?Math.abs(p-y9(Math.max(h1(r[0]),h1(r[1]))))+ +(t!=="e"):p-(t==="%")*2;}D.scale.log=function(){return A9(D.scale.linear().domain([0,1]),10,true,[1,10]);};function A9(l,b,p,a){function c(x){return(p?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(b);}function g(x){return p?Math.pow(b,x):-Math.pow(b,-x);}function s(x){return l(c(x));}s.invert=function(x){return g(l.invert(x));};s.domain=function(x){if(!arguments.length)return a;p=x[0]>=0;l.domain((a=x.map(Number)).map(c));return s;};s.base=function(_){if(!arguments.length)return b;b=+_;l.domain(a.map(c));return s;};s.nice=function(){var n=n9(a.map(c),p?Math:C9);l.domain(n);a=n.map(g);return s;};s.ticks=function(){var d=k9(a),t=[],u=d[0],v=d[1],i=Math.floor(c(u)),j=Math.ceil(c(v)),n=b%1?2:b;if(isFinite(j-i)){if(p){for(;i<j;i++)for(var k=1;k<n;k++)t.push(g(i)*k);t.push(g(i));}else{t.push(g(i));for(;i++<j;)for(var k=n-1;k>0;k--)t.push(g(i)*k);}for(i=0;t[i]<u;i++){}for(j=t.length;t[j-1]>v;j--){}t=t.slice(i,j);}return t;};s.tickFormat=function(n,h){if(!arguments.length)return B9;if(arguments.length<2)h=B9;else if(typeof h!=="function")h=D.format(h);var k=Math.max(.1,n/s.ticks().length),f=p?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor),e;return function(d){return d/g(f(c(d)+e))<=k?h(d):"";};};s.copy=function(){return A9(l.copy(),b,p,a);};return s9(s,l);}var B9=D.format(".0e"),C9={floor:function(x){return-Math.ceil(-x);},ceil:function(x){return-Math.floor(-x);}};D.scale.pow=function(){return D9(D.scale.linear(),1,[0,1]);};function D9(l,a,d){var p=E9(a),b=E9(1/a);function s(x){return l(p(x));}s.invert=function(x){return b(l.invert(x));};s.domain=function(x){if(!arguments.length)return d;l.domain((d=x.map(Number)).map(p));return s;};s.ticks=function(m){return v9(d,m);};s.tickFormat=function(m,f){return w9(d,m,f);};s.nice=function(m){return s.domain(t9(d,m));};s.exponent=function(x){if(!arguments.length)return a;p=E9(a=x);b=E9(1/a);l.domain(d.map(p));return s;};s.copy=function(){return D9(l.copy(),a,d);};return s9(s,l);}function E9(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e);};}D.scale.sqrt=function(){return D.scale.pow().exponent(.5);};D.scale.ordinal=function(){return F9([],{t:"range",a:[[]]});};function F9(d,r){var a,b,c;function s(x){return b[((a.get(x)||(r.t==="range"?a.set(x,d.push(x)):NaN))-1)%b.length];}function f(g,h){return D.range(d.length).map(function(i){return g+h*i;});}s.domain=function(x){if(!arguments.length)return d;d=[];a=new o1();var i=-1,n=x.length,g;while(++i<n)if(!a.has(g=x[i]))a.set(g,d.push(g));return s[r.t].apply(s,r.a);};s.range=function(x){if(!arguments.length)return b;b=x;c=0;r={t:"range",a:arguments};return s;};s.rangePoints=function(x,p){if(arguments.length<2)p=0;var g=x[0],h=x[1],i=(h-g)/(Math.max(1,d.length-1)+p);b=f(d.length<2?(g+h)/2:g+i*p/2,i);c=0;r={t:"rangePoints",a:arguments};return s;};s.rangeBands=function(x,p,o){if(arguments.length<2)p=0;if(arguments.length<3)o=p;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=(i-h)/(d.length-p+2*o);b=f(h+j*o,j);if(g)b.reverse();c=j*(1-p);r={t:"rangeBands",a:arguments};return s;};s.rangeRoundBands=function(x,p,o){if(arguments.length<2)p=0;if(arguments.length<3)o=p;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=Math.floor((i-h)/(d.length-p+2*o)),P=i-h-(d.length-p)*j;b=f(h+Math.round(P/2),j);if(g)b.reverse();c=Math.round(j*(1-p));r={t:"rangeRoundBands",a:arguments};return s;};s.rangeBand=function(){return c;};s.rangeExtent=function(){return k9(r.a[0]);};s.copy=function(){return F9(d,r);};return s.domain(d);}D.scale.category10=function(){return D.scale.ordinal().range(G9);};D.scale.category20=function(){return D.scale.ordinal().range(H9);};D.scale.category20b=function(){return D.scale.ordinal().range(I9);};D.scale.category20c=function(){return D.scale.ordinal().range(J9);};var G9=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(A3);var H9=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(A3);var I9=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(A3);var J9=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(A3);D.scale.quantile=function(){return K9([],[]);};function K9(d,r){var t;function a(){var k=0,q=r.length;t=[];while(++k<q)t[k-1]=D.quantile(d,k/q);return s;}function s(x){if(!isNaN(x=+x))return r[D.bisect(t,x)];}s.domain=function(x){if(!arguments.length)return d;d=x.filter(Z).sort(W);return a();};s.range=function(x){if(!arguments.length)return r;r=x;return a();};s.quantiles=function(){return t;};s.invertExtent=function(y){y=r.indexOf(y);return y<0?[NaN,NaN]:[y>0?t[y-1]:d[0],y<t.length?t[y]:d[d.length-1]];};s.copy=function(){return K9(d,r);};return a();}D.scale.quantize=function(){return L9(0,1,[0,1]);};function L9(a,b,r){var k,i;function s(x){return r[Math.max(0,Math.min(i,Math.floor(k*(x-a))))];}function c(){k=r.length/(b-a);i=r.length-1;return s;}s.domain=function(x){if(!arguments.length)return[a,b];a=+x[0];b=+x[x.length-1];return c();};s.range=function(x){if(!arguments.length)return r;r=x;return c();};s.invertExtent=function(y){y=r.indexOf(y);y=y<0?NaN:y/k+a;return[y,y+1/k];};s.copy=function(){return L9(a,b,r);};return c();}D.scale.threshold=function(){return M9([.5],[0,1]);};function M9(d,r){function s(x){if(x<=x)return r[D.bisect(d,x)];}s.domain=function(_){if(!arguments.length)return d;d=_;return s;};s.range=function(_){if(!arguments.length)return r;r=_;return s;};s.invertExtent=function(y){y=r.indexOf(y);return[d[y-1],d[y]];};s.copy=function(){return M9(d,r);};return s;}D.scale.identity=function(){return N9([0,1]);};function N9(d){function i(x){return+x;}i.invert=i;i.domain=i.range=function(x){if(!arguments.length)return d;d=x.map(i);return i;};i.ticks=function(m){return v9(d,m);};i.tickFormat=function(m,f){return w9(d,m,f);};i.copy=function(){return N9(d);};return i;}D.svg={};D.svg.arc=function(){var i=Q9,o=R9,s=S9,b=T9;function c(){var r=i.apply(this,arguments),a=o.apply(this,arguments),d=s.apply(this,arguments)+O9,f=b.apply(this,arguments)+O9,g=(f<d&&(g=d,d=f,f=g),f-d),h=g<π?"0":"1",j=Math.cos(d),k=Math.sin(d),l=Math.cos(f),m=Math.sin(f);return g>=P9?r?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+r+"A"+r+","+r+" 0 1,0 0,"+-r+"A"+r+","+r+" 0 1,0 0,"+r+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":r?"M"+a*j+","+a*k+"A"+a+","+a+" 0 "+h+",1 "+a*l+","+a*m+"L"+r*l+","+r*m+"A"+r+","+r+" 0 "+h+",0 "+r*j+","+r*k+"Z":"M"+a*j+","+a*k+"A"+a+","+a+" 0 "+h+",1 "+a*l+","+a*m+"L0,0"+"Z";}c.innerRadius=function(v){if(!arguments.length)return i;i=J3(v);return c;};c.outerRadius=function(v){if(!arguments.length)return o;o=J3(v);return c;};c.startAngle=function(v){if(!arguments.length)return s;s=J3(v);return c;};c.endAngle=function(v){if(!arguments.length)return b;b=J3(v);return c;};c.centroid=function(){var r=(i.apply(this,arguments)+o.apply(this,arguments))/2,a=(s.apply(this,arguments)+b.apply(this,arguments))/2+O9;return[Math.cos(a)*r,Math.sin(a)*r];};return c;};var O9=-M2,P9=τ-ε;function Q9(d){return d.innerRadius;}function R9(d){return d.outerRadius;}function S9(d){return d.startAngle;}function T9(d){return d.endAngle;}function U9(p){var x=J6,y=K6,a=r5,b=W9,c=b.key,t=.7;function l(f){var s=[],g=[],i=-1,n=f.length,d,h=J3(x),j=J3(y);function k(){s.push("M",b(p(g),t));}while(++i<n){if(a.call(this,d=f[i],i)){g.push([+h.call(this,d,i),+j.call(this,d,i)]);}else if(g.length){k();g=[];}}if(g.length)k();return s.length?s.join(""):null;}l.x=function(_){if(!arguments.length)return x;x=_;return l;};l.y=function(_){if(!arguments.length)return y;y=_;return l;};l.defined=function(_){if(!arguments.length)return a;a=_;return l;};l.interpolate=function(_){if(!arguments.length)return c;if(typeof _==="function")c=b=_;else c=(b=V9.get(_)||W9).key;return l;};l.tension=function(_){if(!arguments.length)return t;t=_;return l;};return l;}D.svg.line=function(){return U9(K3);};var V9=D.map({linear:W9,"linear-closed":X9,step:Y9,"step-before":Z9,"step-after":$9,basis:ja,"basis-open":la,"basis-closed":ma,bundle:oa,cardinal:fa,"cardinal-open":_9,"cardinal-closed":ea,monotone:Da});V9.forEach(function(k,v){v.key=k;v.closed=/-closed$/.test(k);});function W9(p){return p.join("L");}function X9(p){return W9(p)+"Z";}function Y9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("H",(p[0]+(p=a[i])[0])/2,"V",p[1]);if(n>1)b.push("H",p[0]);return b.join("");}function Z9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("V",(p=a[i])[1],"H",p[0]);return b.join("");}function $9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("H",(p=a[i])[0],"V",p[1]);return b.join("");}function _9(p,t){return p.length<4?W9(p):p[1]+ga(p.slice(1,p.length-1),ia(p,t));}function ea(p,t){return p.length<3?W9(p):p[0]+ga((p.push(p[0]),p),ia([p[p.length-2]].concat(p,[p[1]]),t));}function fa(p,t){return p.length<3?W9(p):p[0]+ga(p,ia(p,t));}function ga(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2){return W9(a);}var q=a.length!=b.length,c="",d=a[0],p=a[1],f=b[0],t=f,g=1;if(q){c+="Q"+(p[0]-f[0]*2/3)+","+(p[1]-f[1]*2/3)+","+p[0]+","+p[1];d=a[1];g=2;}if(b.length>1){t=b[1];p=a[g];g++;c+="C"+(d[0]+f[0])+","+(d[1]+f[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<b.length;i++,g++){p=a[g];t=b[i];c+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];}}if(q){var l=a[g];c+="Q"+(p[0]+t[0]*2/3)+","+(p[1]+t[1]*2/3)+","+l[0]+","+l[1];}return c;}function ia(p,t){var b=[],a=(1-t)/2,c,d=p[0],f=p[1],i=1,n=p.length;while(++i<n){c=d;d=f;f=p[i];b.push([a*(f[0]-c[0]),a*(f[1]-c[1])]);}return b;}function ja(p){if(p.length<3)return W9(p);var i=1,n=p.length,a=p[0],x=a[0],y=a[1],b=[x,x,x,(a=p[1])[0]],c=[y,y,y,a[1]],d=[x,",",y,"L",qa(ya,b),",",qa(ya,c)];p.push(p[n-1]);while(++i<=n){a=p[i];b.shift();b.push(a[0]);c.shift();c.push(a[1]);za(d,b,c);}p.pop();d.push("L",a);return d.join("");}function la(p){if(p.length<4)return W9(p);var a=[],i=-1,n=p.length,b,c=[0],d=[0];while(++i<3){b=p[i];c.push(b[0]);d.push(b[1]);}a.push(qa(ya,c)+","+qa(ya,d));--i;while(++i<n){b=p[i];c.shift();c.push(b[0]);d.shift();d.push(b[1]);za(a,c,d);}return a.join("");}function ma(p){var a,i=-1,n=p.length,m=n+4,b,c=[],d=[];while(++i<4){b=p[i%n];c.push(b[0]);d.push(b[1]);}a=[qa(ya,c),",",qa(ya,d)];--i;while(++i<m){b=p[i%n];c.shift();c.push(b[0]);d.shift();d.push(b[1]);za(a,c,d);}return a.join("");}function oa(a,b){var n=a.length-1;if(n){var x=a[0][0],y=a[0][1],d=a[n][0]-x,c=a[n][1]-y,i=-1,p,t;while(++i<=n){p=a[i];t=i/n;p[0]=b*p[0]+(1-b)*(x+t*d);p[1]=b*p[1]+(1-b)*(y+t*c);}}return ja(a);}function qa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];}var sa=[0,2/3,1/3,0],xa=[0,1/3,2/3,0],ya=[0,1/6,2/3,1/6];function za(p,x,y){p.push("C",qa(sa,x),",",qa(sa,y),",",qa(xa,x),",",qa(xa,y),",",qa(ya,x),",",qa(ya,y));}function Aa(p,a){return(a[1]-p[1])/(a[0]-p[0]);}function Ba(p){var i=0,j=p.length-1,m=[],a=p[0],b=p[1],d=m[0]=Aa(a,b);while(++i<j){m[i]=(d+(d=Aa(a=b,b=p[i+1])))/2;}m[i]=d;return m;}function Ca(p){var t=[],d,a,b,s,m=Ba(p),i=-1,j=p.length-1;while(++i<j){d=Aa(p[i],p[i+1]);if(h1(d)<ε){m[i]=m[i+1]=0;}else{a=m[i]/d;b=m[i+1]/d;s=a*a+b*b;if(s>9){s=d*3/Math.sqrt(s);m[i]=s*a;m[i+1]=s*b;}}}i=-1;while(++i<=j){s=(p[Math.min(j,i+1)][0]-p[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i]));t.push([s||0,m[i]*s||0]);}return t;}function Da(p){return p.length<3?W9(p):p[0]+ga(p,Ca(p));}D.svg.line.radial=function(){var l=U9(Ea);l.radius=l.x,delete l.x;l.angle=l.y,delete l.y;return l;};function Ea(p){var b,i=-1,n=p.length,r,a;while(++i<n){b=p[i];r=b[0];a=b[1]+O9;b[0]=r*Math.cos(a);b[1]=r*Math.sin(a);}return p;}function Fa(p){var a=J6,b=J6,c=0,f=K6,g=r5,h=W9,j=h.key,k=h,L="L",t=.7;function l(m){var s=[],o=[],q=[],i=-1,n=m.length,d,r=J3(a),u=J3(c),v=a===b?function(){return x;}:J3(b),w=c===f?function(){return y;}:J3(f),x,y;function z(){s.push("M",h(p(q),t),L,k(p(o.reverse()),t),"Z");}while(++i<n){if(g.call(this,d=m[i],i)){o.push([x=+r.call(this,d,i),y=+u.call(this,d,i)]);q.push([+v.call(this,d,i),+w.call(this,d,i)]);}else if(o.length){z();o=[];q=[];}}if(o.length)z();return s.length?s.join(""):null;}l.x=function(_){if(!arguments.length)return b;a=b=_;return l;};l.x0=function(_){if(!arguments.length)return a;a=_;return l;};l.x1=function(_){if(!arguments.length)return b;b=_;return l;};l.y=function(_){if(!arguments.length)return f;c=f=_;return l;};l.y0=function(_){if(!arguments.length)return c;c=_;return l;};l.y1=function(_){if(!arguments.length)return f;f=_;return l;};l.defined=function(_){if(!arguments.length)return g;g=_;return l;};l.interpolate=function(_){if(!arguments.length)return j;if(typeof _==="function")j=h=_;else j=(h=V9.get(_)||W9).key;k=h.reverse||h;L=h.closed?"M":"L";return l;};l.tension=function(_){if(!arguments.length)return t;t=_;return l;};return l;}Z9.reverse=$9;$9.reverse=Z9;D.svg.area=function(){return Fa(K3);};D.svg.area.radial=function(){var a=Fa(Ea);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a;};D.svg.chord=function(){var c=s6,g=t6,h=Ga,j=S9,k=T9;function l(d,i){var s=m(this,c,d,i),t=m(this,g,d,i);return"M"+s.p0+o(s.r,s.p1,s.a1-s.a0)+(n(s,t)?q(s.r,s.p1,s.r,s.p0):q(s.r,s.p1,t.r,t.p0)+o(t.r,t.p1,t.a1-t.a0)+q(t.r,t.p1,s.r,s.p0))+"Z";}function m(s,f,d,i){var m=f.call(s,d,i),r=h.call(s,m,i),a=j.call(s,m,i)+O9,b=k.call(s,m,i)+O9;return{r:r,a0:a,a1:b,p0:[r*Math.cos(a),r*Math.sin(a)],p1:[r*Math.cos(b),r*Math.sin(b)]};}function n(a,b){return a.a0==b.a0&&a.a1==b.a1;}function o(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p;}function q(r,p,a,b){return"Q 0,0 "+b;}l.radius=function(v){if(!arguments.length)return h;h=J3(v);return l;};l.source=function(v){if(!arguments.length)return c;c=J3(v);return l;};l.target=function(v){if(!arguments.length)return g;g=J3(v);return l;};l.startAngle=function(v){if(!arguments.length)return j;j=J3(v);return l;};l.endAngle=function(v){if(!arguments.length)return k;k=J3(v);return l;};return l;};function Ga(d){return d.radius;}D.svg.diagonal=function(){var s=s6,t=t6,a=Ha;function b(d,i){var c=s.call(this,d,i),f=t.call(this,d,i),m=(c.y+f.y)/2,p=[c,{x:c.x,y:m},{x:f.x,y:m},f];p=p.map(a);return"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3];}b.source=function(x){if(!arguments.length)return s;s=J3(x);return b;};b.target=function(x){if(!arguments.length)return t;t=J3(x);return b;};b.projection=function(x){if(!arguments.length)return a;a=x;return b;};return b;};function Ha(d){return[d.x,d.y];}D.svg.diagonal.radial=function(){var d=D.svg.diagonal(),p=Ha,a=d.projection;d.projection=function(x){return arguments.length?a(Ia(p=x)):p;};return d;};function Ia(p){return function(){var d=p.apply(this,arguments),r=d[0],a=d[1]+O9;return[r*Math.cos(a),r*Math.sin(a)];};}D.svg.symbol=function(){var t=Ka,s=Ja;function a(d,i){return(Ma.get(t.call(this,d,i))||La)(s.call(this,d,i));}a.type=function(x){if(!arguments.length)return t;t=J3(x);return a;};a.size=function(x){if(!arguments.length)return s;s=J3(x);return a;};return a;};function Ja(){return 64;}function Ka(){return"circle";}function La(s){var r=Math.sqrt(s/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z";}var Ma=D.map({circle:La,cross:function(s){var r=Math.sqrt(s/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z";},diamond:function(s){var r=Math.sqrt(s/(2*Oa)),a=r*Oa;return"M0,"+-r+"L"+a+",0"+" 0,"+r+" "+-a+",0"+"Z";},square:function(s){var r=Math.sqrt(s)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z";},"triangle-down":function(s){var r=Math.sqrt(s/Na),a=r*Na/2;return"M0,"+a+"L"+r+","+-a+" "+-r+","+-a+"Z";},"triangle-up":function(s){var r=Math.sqrt(s/Na),a=r*Na/2;return"M0,"+-a+"L"+r+","+a+" "+-r+","+a+"Z";}});D.svg.symbolTypes=Ma.keys();var Na=Math.sqrt(3),Oa=Math.tan(30*O2);function Pa(g,i){P1(g,Qa);g.id=i;return g;}var Qa=[],Ra=0,Sa,Ta;Qa.call=V1.call;Qa.empty=V1.empty;Qa.node=V1.node;Qa.size=V1.size;D.transition=function(s){return arguments.length?Sa?s.transition():s:z2.transition();};D.transition.prototype=Qa;Qa.select=function(s){var a=this.id,b=[],c,d,f;s=W1(s);for(var j=-1,m=this.length;++j<m;){b.push(c=[]);for(var g=this[j],i=-1,n=g.length;++i<n;){if((f=g[i])&&(d=s.call(f,f.__data__,i,j))){if("__data__"in f)d.__data__=f.__data__;Wa(d,i,a,f.__transition__[a]);c.push(d);}else{c.push(null);}}}return Pa(b,a);};Qa.selectAll=function(s){var a=this.id,b=[],c,d,f,g,t;s=Z1(s);for(var j=-1,m=this.length;++j<m;){for(var h=this[j],i=-1,n=h.length;++i<n;){if(f=h[i]){t=f.__transition__[a];d=s.call(f,f.__data__,i,j);b.push(c=[]);for(var k=-1,o=d.length;++k<o;){if(g=d[k])Wa(g,k,a,t);c.push(g);}}}}return Pa(b,a);};Qa.filter=function(f){var s=[],a,g,b;if(typeof f!=="function")f=l2(f);for(var j=0,m=this.length;j<m;j++){s.push(a=[]);for(var g=this[j],i=0,n=g.length;i<n;i++){if((b=g[i])&&f.call(b,b.__data__,i,j)){a.push(b);}}}return Pa(s,this.id);};Qa.tween=function(n,t){var i=this.id;if(arguments.length<2)return this.node().__transition__[i].tween.get(n);return q2(this,t==null?function(a){a.__transition__[i].tween.remove(n);}:function(a){a.__transition__[i].tween.set(n,t);});};function Ua(g,n,v,t){var a=g.id;return q2(g,typeof v==="function"?function(b,i,j){b.__transition__[a].tween.set(n,t(v.call(b,b.__data__,i,j)));}:(v=t(v),function(b){b.__transition__[a].tween.set(n,v);}));}Qa.attr=function(n,v){if(arguments.length<2){for(v in n)this.attr(v,n[v]);return this;}var c=n=="transform"?i8:J7,d=D.ns.qualify(n);function f(){this.removeAttribute(d);}function g(){this.removeAttributeNS(d.space,d.local);}function h(b){return b==null?f:(b+="",function(){var a=this.getAttribute(d),i;return a!==b&&(i=c(a,b),function(t){this.setAttribute(d,i(t));});});}function j(b){return b==null?g:(b+="",function(){var a=this.getAttributeNS(d.space,d.local),i;return a!==b&&(i=c(a,b),function(t){this.setAttributeNS(d.space,d.local,i(t));});});}return Ua(this,"attr."+n,v,d.local?j:h);};Qa.attrTween=function(n,a){var b=D.ns.qualify(n);function c(d,i){var f=a.call(this,d,i,this.getAttribute(b));return f&&function(t){this.setAttribute(b,f(t));};}function g(d,i){var f=a.call(this,d,i,this.getAttributeNS(b.space,b.local));return f&&function(t){this.setAttributeNS(b.space,b.local,f(t));};}return this.tween("attr."+n,b.local?g:c);};Qa.style=function(c,v,p){var n=arguments.length;if(n<3){if(typeof c!=="string"){if(n<2)v="";for(p in c)this.style(p,c[p],v);return this;}p="";}function s(){this.style.removeProperty(c);}function d(b){return b==null?s:(b+="",function(){var a=O.getComputedStyle(this,null).getPropertyValue(c),i;return a!==b&&(i=J7(a,b),function(t){this.style.setProperty(c,i(t),p);});});}return Ua(this,"style."+c,v,d);};Qa.styleTween=function(n,a,p){if(arguments.length<3)p="";function s(d,i){var f=a.call(this,d,i,O.getComputedStyle(this,null).getPropertyValue(n));return f&&function(t){this.style.setProperty(n,f(t),p);};}return this.tween("style."+n,s);};Qa.text=function(v){return Ua(this,"text",v,Va);};function Va(b){if(b==null)b="";return function(){this.textContent=b;};}Qa.remove=function(){return this.each("end.transition",function(){var p;if(this.__transition__.count<2&&(p=this.parentNode))p.removeChild(this);});};Qa.ease=function(v){var i=this.id;if(arguments.length<1)return this.node().__transition__[i].ease;if(typeof v!=="function")v=D.ease.apply(D,arguments);return q2(this,function(n){n.__transition__[i].ease=v;});};Qa.delay=function(v){var a=this.id;if(arguments.length<1)return this.node().__transition__[a].delay;return q2(this,typeof v==="function"?function(n,i,j){n.__transition__[a].delay=+v.call(n,n.__data__,i,j);}:(v=+v,function(n){n.__transition__[a].delay=v;}));};Qa.duration=function(v){var a=this.id;if(arguments.length<1)return this.node().__transition__[a].duration;return q2(this,typeof v==="function"?function(n,i,j){n.__transition__[a].duration=Math.max(1,v.call(n,n.__data__,i,j));}:(v=Math.max(1,v),function(n){n.__transition__[a].duration=v;}));};Qa.each=function(t,l){var a=this.id;if(arguments.length<2){var b=Ta,c=Sa;Sa=a;q2(this,function(n,i,j){Ta=n.__transition__[a];t.call(n,n.__data__,i,j);});Ta=b;Sa=c;}else{q2(this,function(n){var d=n.__transition__[a];(d.event||(d.event=D.dispatch("start","end"))).on(t,l);});}return this;};Qa.transition=function(){var a=this.id,b=++Ra,s=[],c,g,d,t;for(var j=0,m=this.length;j<m;j++){s.push(c=[]);for(var g=this[j],i=0,n=g.length;i<n;i++){if(d=g[i]){t=Object.create(d.__transition__[a]);t.delay+=t.duration;Wa(d,i,b,t);}c.push(d);}}return Pa(s,b);};function Wa(a,i,b,c){var l=a.__transition__||(a.__transition__={active:0,count:0}),f=l[b];if(!f){var g=c.time;f=l[b]={tween:new o1(),time:g,ease:c.ease,delay:c.delay,duration:c.duration};++l.count;D.timer(function(h){var d=a.__data__,j=f.ease,k=f.delay,m=f.duration,o=T3,p=[];o.t=k+g;if(k<=h)return s(h-k);o.c=s;function s(h){if(l.active>b)return r();l.active=b;f.event&&f.event.start.call(a,d,i);f.tween.forEach(function(n,v){if(v=v.call(a,d,i)){p.push(v);}});D.timer(function(){o.c=q(h||1)?r5:q;return 1;},0,g);}function q(h){if(l.active!==b)return r();var t=h/m,e=j(t),n=p.length;while(n>0){p[--n].call(a,e);}if(t>=1){f.event&&f.event.end.call(a,d,i);return r();}}function r(){if(--l.count)delete l[b];else delete a.__transition__;return 1;}},0,g);}}D.svg.axis=function(){var s=D.scale.linear(),o=Xa,i=6,a=6,t=3,b=[10],c=null,f;function h(g){g.each(function(){var g=D.select(this);var j=this.__chart__||s,k=this.__chart__=s.copy();var l=c==null?k.ticks?k.ticks.apply(k,b):k.domain():c,m=f==null?k.tickFormat?k.tickFormat.apply(k,b):K3:f,n=g.selectAll(".tick").data(l,k),p=n.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),q=D.transition(n.exit()).style("opacity",ε).remove(),r=D.transition(n.order()).style("opacity",1),u;var v=l9(k),w=g.selectAll(".domain").data([0]),y=(w.enter().append("path").attr("class","domain"),D.transition(w));p.append("line");p.append("text");var z=p.select("line"),A=r.select("line"),B=n.select("text").text(m),C=p.select("text"),F=r.select("text");switch(o){case"bottom":{u=Za;z.attr("y2",i);C.attr("y",Math.max(i,0)+t);A.attr("x2",0).attr("y2",i);F.attr("x",0).attr("y",Math.max(i,0)+t);B.attr("dy",".71em").style("text-anchor","middle");y.attr("d","M"+v[0]+","+a+"V0H"+v[1]+"V"+a);break;}case"top":{u=Za;z.attr("y2",-i);C.attr("y",-(Math.max(i,0)+t));A.attr("x2",0).attr("y2",-i);F.attr("x",0).attr("y",-(Math.max(i,0)+t));B.attr("dy","0em").style("text-anchor","middle");y.attr("d","M"+v[0]+","+-a+"V0H"+v[1]+"V"+-a);break;}case"left":{u=$a;z.attr("x2",-i);C.attr("x",-(Math.max(i,0)+t));A.attr("x2",-i).attr("y2",0);F.attr("x",-(Math.max(i,0)+t)).attr("y",0);B.attr("dy",".32em").style("text-anchor","end");y.attr("d","M"+-a+","+v[0]+"H0V"+v[1]+"H"+-a);break;}case"right":{u=$a;z.attr("x2",i);C.attr("x",Math.max(i,0)+t);A.attr("x2",i).attr("y2",0);F.attr("x",Math.max(i,0)+t).attr("y",0);B.attr("dy",".32em").style("text-anchor","start");y.attr("d","M"+a+","+v[0]+"H0V"+v[1]+"H"+a);break;}}if(k.rangeBand){var x=k,G=x.rangeBand()/2;j=k=function(d){return x(d)+G;};}else if(j.rangeBand){j=k;}else{q.call(u,k);}p.call(u,j);r.call(u,k);});}h.scale=function(x){if(!arguments.length)return s;s=x;return h;};h.orient=function(x){if(!arguments.length)return o;o=x in Ya?x+"":Xa;return h;};h.ticks=function(){if(!arguments.length)return b;b=arguments;return h;};h.tickValues=function(x){if(!arguments.length)return c;c=x;return h;};h.tickFormat=function(x){if(!arguments.length)return f;f=x;return h;};h.tickSize=function(x){var n=arguments.length;if(!n)return i;i=+x;a=+arguments[n-1];return h;};h.innerTickSize=function(x){if(!arguments.length)return i;i=+x;return h;};h.outerTickSize=function(x){if(!arguments.length)return a;a=+x;return h;};h.tickPadding=function(x){if(!arguments.length)return t;t=+x;return h;};h.tickSubdivide=function(){return arguments.length&&h;};return h;};var Xa="bottom",Ya={top:1,right:1,bottom:1,left:1};function Za(s,x){s.attr("transform",function(d){return"translate("+x(d)+",0)";});}function $a(s,y){s.attr("transform",function(d){return"translate(0,"+y(d)+")";});}D.svg.brush=function(){var a=N1(l,"brushstart","brush","brushend"),x=null,y=null,b=[0,0],c=[0,0],f,h,j=true,k=true,r=eb[0];function l(g){g.each(function(){var g=D.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",p).on("touchstart.brush",p);var i=g.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var q=g.selectAll(".resize").data(r,K3);q.exit().remove();q.enter().append("g").attr("class",function(d){return"resize "+d;}).style("cursor",function(d){return _a[d];}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null;}).attr("y",function(d){return/^[ns]/.test(d)?-3:null;}).attr("width",6).attr("height",6).style("visibility","hidden");q.style("display",l.empty()?"none":null);var s=D.transition(g),t=D.transition(i),u;if(x){u=l9(x);t.attr("x",u[0]).attr("width",u[1]-u[0]);n(s);}if(y){u=l9(y);t.attr("y",u[0]).attr("height",u[1]-u[0]);o(s);}m(s);});}l.event=function(g){g.each(function(){var d=a.of(this,arguments),i={x:b,y:c,i:f,j:h},q=this.__chart__||i;this.__chart__=i;if(Sa){D.select(this).transition().each("start.brush",function(){f=q.i;h=q.j;b=q.x;c=q.y;d({type:"brushstart"});}).tween("brush:brush",function(){var s=K7(b,i.x),u=K7(c,i.y);f=h=null;return function(t){b=i.x=s(t);c=i.y=u(t);d({type:"brush",mode:"resize"});};}).each("end.brush",function(){f=i.i;h=i.j;d({type:"brush",mode:"resize"});d({type:"brushend"});});}else{d({type:"brushstart"});d({type:"brush",mode:"resize"});d({type:"brushend"});}});};function m(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+b[+/e$/.test(d)]+","+c[+/^s/.test(d)]+")";});}function n(g){g.select(".extent").attr("x",b[0]);g.selectAll(".extent,.n>rect,.s>rect").attr("width",b[1]-b[0]);}function o(g){g.select(".extent").attr("y",c[0]);g.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0]);}function p(){var t=this,d=D.select(D.event.target),q=a.of(t,arguments),g=D.select(t),s=d.datum(),u=!/^(n|s)$/.test(s)&&x,v=!/^(e|w)$/.test(s)&&y,z=d.classed("extent"),A=G2(),B,C=D.mouse(t),F;var w=D.select(O).on("keydown.brush",I).on("keyup.brush",L);if(D.event.changedTouches){w.on("touchmove.brush",N).on("touchend.brush",X);}else{w.on("mousemove.brush",N).on("mouseup.brush",X);}g.interrupt().selectAll("*").interrupt();if(z){C[0]=b[0]-C[0];C[1]=c[0]-C[1];}else if(s){var G=+/w$/.test(s),H=+/^n/.test(s);F=[b[1-G]-C[0],c[1-H]-C[1]];C[0]=b[G];C[1]=c[H];}else if(D.event.altKey)B=C.slice();g.style("pointer-events","none").selectAll(".resize").style("display",null);D.select("body").style("cursor",d.style("cursor"));q({type:"brushstart"});N();function I(){if(D.event.keyCode==32){if(!z){B=null;C[0]-=b[1];C[1]-=c[1];z=2;}L1();}}function L(){if(D.event.keyCode==32&&z==2){C[0]+=b[1];C[1]+=c[1];z=0;L1();}}function N(){var i=D.mouse(t),Y=false;if(F){i[0]+=F[0];i[1]+=F[1];}if(!z){if(D.event.altKey){if(!B)B=[(b[0]+b[1])/2,(c[0]+c[1])/2];C[0]=b[+(i[0]<B[0])];C[1]=c[+(i[1]<B[1])];}else B=null;}if(u&&S(i,x,0)){n(g);Y=true;}if(v&&S(i,y,1)){o(g);Y=true;}if(Y){m(g);q({type:"brush",mode:z?"move":"resize"});}}function S(Y,_,i){var a1=l9(_),r0=a1[0],r1=a1[1],d1=C[i],e1=i?c:b,i1=e1[1]-e1[0],l1,m1;if(z){r0-=d1;r1-=i1+d1;}l1=(i?k:j)?Math.max(r0,Math.min(r1,Y[i])):Y[i];if(z){m1=(l1+=d1)+i1;}else{if(B)d1=Math.max(r0,Math.min(r1,2*B[i]-l1));if(d1<l1){m1=l1;l1=d1;}else{m1=d1;}}if(e1[0]!=l1||e1[1]!=m1){if(i)h=null;else f=null;e1[0]=l1;e1[1]=m1;return true;}}function X(){N();g.style("pointer-events","all").selectAll(".resize").style("display",l.empty()?"none":null);D.select("body").style("cursor",null);w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);A();q({type:"brushend"});}}l.x=function(z){if(!arguments.length)return x;x=z;r=eb[!x<<1|!y];return l;};l.y=function(z){if(!arguments.length)return y;y=z;r=eb[!x<<1|!y];return l;};l.clamp=function(z){if(!arguments.length)return x&&y?[j,k]:x?j:y?k:null;if(x&&y)j=!!z[0],k=!!z[1];else if(x)j=!!z;else if(y)k=!!z;return l;};l.extent=function(z){var d,g,i,q,t;if(!arguments.length){if(x){if(f){d=f[0],g=f[1];}else{d=b[0],g=b[1];if(x.invert)d=x.invert(d),g=x.invert(g);if(g<d)t=d,d=g,g=t;}}if(y){if(h){i=h[0],q=h[1];}else{i=c[0],q=c[1];if(y.invert)i=y.invert(i),q=y.invert(q);if(q<i)t=i,i=q,q=t;}}return x&&y?[[d,i],[g,q]]:x?[d,g]:y&&[i,q];}if(x){d=z[0],g=z[1];if(y)d=d[0],g=g[0];f=[d,g];if(x.invert)d=x(d),g=x(g);if(g<d)t=d,d=g,g=t;if(d!=b[0]||g!=b[1])b=[d,g];}if(y){i=z[0],q=z[1];if(x)i=i[1],q=q[1];h=[i,q];if(y.invert)i=y(i),q=y(q);if(q<i)t=i,i=q,q=t;if(i!=c[0]||q!=c[1])c=[i,q];}return l;};l.clear=function(){if(!l.empty()){b=[0,0],c=[0,0];f=h=null;}return l;};l.empty=function(){return!!x&&b[0]==b[1]||!!y&&c[0]==c[1];};return D.rebind(l,a,"on");};var _a={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var eb=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var gb=d4.format=H4.timeFormat;var ib=gb.utc;var jb=ib("%Y-%m-%dT%H:%M:%S.%LZ");gb.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?lb:jb;function lb(d){return d.toISOString();}lb.parse=function(s){var d=new Date(s);return isNaN(d)?null:d;};lb.toString=jb.toString;d4.second=h4(function(d){return new e4(Math.floor(d/1e3)*1e3);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*1e3);},function(d){return d.getSeconds();});d4.seconds=d4.second.range;d4.seconds.utc=d4.second.utc.range;d4.minute=h4(function(d){return new e4(Math.floor(d/6e4)*6e4);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*6e4);},function(d){return d.getMinutes();});d4.minutes=d4.minute.range;d4.minutes.utc=d4.minute.utc.range;d4.hour=h4(function(d){var t=d.getTimezoneOffset()/60;return new e4((Math.floor(d/36e5-t)+t)*36e5);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*36e5);},function(d){return d.getHours();});d4.hours=d4.hour.range;d4.hours.utc=d4.hour.utc.range;d4.month=h4(function(d){d=d4.day(d);d.setDate(1);return d;},function(d,o){d.setMonth(d.getMonth()+o);},function(d){return d.getMonth();});d4.months=d4.month.range;d4.months.utc=d4.month.utc.range;function mb(l,m,f){function s(x){return l(x);}s.invert=function(x){return ob(l.invert(x));};s.domain=function(x){if(!arguments.length)return l.domain().map(ob);l.domain(x);return s;};function t(a,c){var b=a[1]-a[0],g=b/c,i=D.bisect(qb,g);return i==qb.length?[m.year,u9(a.map(function(d){return d/31536e6;}),c)[2]]:!i?[xb,u9(a,c)[2]]:m[g/qb[i-1]<qb[i]/g?i-1:i];}s.nice=function(i,a){var d=s.domain(),b=k9(d),c=i==null?t(b,10):typeof i==="number"&&t(b,i);if(c)i=c[0],a=c[1];function g(h){return!isNaN(h)&&!i.range(h,ob(+h+1),a).length;}return s.domain(n9(d,a>1?{floor:function(h){while(g(h=i.floor(h)))h=ob(h-1);return h;},ceil:function(h){while(g(h=i.ceil(h)))h=ob(+h+1);return h;}}:i));};s.ticks=function(i,a){var b=k9(s.domain()),c=i==null?t(b,10):typeof i==="number"?t(b,i):!i.range&&[{range:i},a];if(c)i=c[0],a=c[1];return i.range(b[0],ob(+b[1]+1),a<1?1:a);};s.tickFormat=function(){return f;};s.copy=function(){return mb(l.copy(),m,f);};return s9(s,l);}function ob(t){return new Date(t);}var qb=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var sb=[[d4.second,1],[d4.second,5],[d4.second,15],[d4.second,30],[d4.minute,1],[d4.minute,5],[d4.minute,15],[d4.minute,30],[d4.hour,1],[d4.hour,3],[d4.hour,6],[d4.hour,12],[d4.day,1],[d4.day,2],[d4.week,1],[d4.month,1],[d4.month,3],[d4.year,1]];var ub=gb.multi([[".%L",function(d){return d.getMilliseconds();}],[":%S",function(d){return d.getSeconds();}],["%I:%M",function(d){return d.getMinutes();}],["%I %p",function(d){return d.getHours();}],["%a %d",function(d){return d.getDay()&&d.getDate()!=1;}],["%b %d",function(d){return d.getDate()!=1;}],["%B",function(d){return d.getMonth();}],["%Y",r5]]);var xb={range:function(s,a,b){return D.range(Math.ceil(s/b)*b,+a,b).map(ob);},floor:K3,ceil:K3};sb.year=d4.year;d4.scale=function(){return mb(D.scale.linear(),sb,ub);};var yb=sb.map(function(m){return[m[0].utc,m[1]];});var zb=ib.multi([[".%L",function(d){return d.getUTCMilliseconds();}],[":%S",function(d){return d.getUTCSeconds();}],["%I:%M",function(d){return d.getUTCMinutes();}],["%I %p",function(d){return d.getUTCHours();}],["%a %d",function(d){return d.getUTCDay()&&d.getUTCDate()!=1;}],["%b %d",function(d){return d.getUTCDate()!=1;}],["%B",function(d){return d.getUTCMonth();}],["%Y",r5]]);yb.year=d4.year.utc;d4.scale.utc=function(){return mb(D.scale.linear(),yb,zb);};D.text=L3(function(r){return r.responseText;});D.json=function(u,c){return M3(u,"application/json",Ab,c);};function Ab(r){return JSON.parse(r.responseText);}D.html=function(u,c){return M3(u,"text/html",Bb,c);};function Bb(r){var a=K.createRange();a.selectNode(K.body);return a.createContextualFragment(r.responseText);}D.xml=L3(function(r){return r.responseXML;});if(typeof define==="function"&&define.amd)define(D);else if(typeof module==="object"&&module.exports)module.exports=D;this.d3=D;}();
},
/*!
 * Mobiscroll v2.9.0
 * http://mobiscroll.com
 *
 * Copyright 2010-2013, Acid Media
 * Licensed under the MIT license.
 *
 */
	"sap/ui/thirdparty/mobiscroll/js/mobiscroll-core.js":function(){(function($){function t(p){var i;for(i in p){if(m[p[i]]!==undefined){return true;}}return false;}function a(){var c=['Webkit','Moz','O','ms'],p;for(p in c){if(t([c[p]+'Transform'])){return'-'+c[p].toLowerCase()+'-';}}return'';}function g(e,c){var o=e.originalEvent,i=e.changedTouches;return i||(o&&o.changedTouches)?(o?o.changedTouches[0]['page'+c]:i[0]['page'+c]):e['page'+c];}function b(c,o,e){var i=c;if(typeof o==='object'){return c.each(function(){if(!this.id){this.id='mobiscroll'+(++f);}if(j[this.id]){j[this.id].destroy();}new $.mobiscroll.classes[o.component||'Scroller'](this,o);});}if(typeof o==='string'){c.each(function(){var r,p=j[this.id];if(p&&p[o]){r=p[o].apply(this,Array.prototype.slice.call(e,1));if(r!==undefined){i=r;return false;}}});}return i;}function d(e){if(e.type=='touchstart'){h[e.target]=true;}else if(h[e.target]){delete h[e.target];return false;}return true;}var f=+new Date,h={},j={},k=$.extend,m=document.createElement('modernizr').style,l=t(['perspectiveProperty','WebkitPerspective','MozPerspective','OPerspective','msPerspective']),n=a(),q=n.replace(/^\-/,'').replace(/\-$/,'').replace('moz','Moz');$.fn.mobiscroll=function(c){k(this,$.mobiscroll.components);return b(this,c,arguments);};$.mobiscroll=$.mobiscroll||{util:{prefix:n,jsPrefix:q,has3d:l,getCoord:g,testTouch:d},presets:{},themes:{},i18n:{},instances:j,classes:{},components:{},defaults:{},setDefaults:function(o){k(defaults,o);},presetShort:function(e,c){this.components[e]=function(s){return b(this,k(s,{component:c,preset:e}),arguments);};}};$.scroller=$.scroller||$.mobiscroll;$.fn.scroller=$.fn.scroller||$.fn.mobiscroll;})(jQuery);
},
/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
	"jquery.sap.logger.js":function(){jQuery.sap.declare("jquery.sap.logger",false);
}
});
//# sourceMappingURL=core-ext-light-1.js.map