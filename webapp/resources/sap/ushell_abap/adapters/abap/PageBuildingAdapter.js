// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Factory","sap/ushell_abap/pbServices/ui2/PageBuildingService","sap/ushell_abap/pbServices/ui2/RemoteCatalogService","sap/ushell_abap/pbServices/ui2/PageSet","sap/ushell/System"],function(O,L,F){"use strict";return function(s,p,P){var f,S="PERS",a="/sap/opu/odata/UI2/PAGE_BUILDER_PERS/",r=P.config.remoteCatalogServices||{},c=O.get("config.services.pageBuilding.baseUrl",P);this.getFactory=function(){return f;};p=p?p.toUpperCase():"";if(p==="CONF"||p==="CUST"){S=p;a="/sap/opu/odata/UI2/PAGE_BUILDER_"+S+"/";}else if(c&&O.get("config.services.pageBuilding.relativeUrl",P)){a=c;}f=F.createFactory(a,undefined,S==="PERS");["/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata/","/sap/hba/r/sb/core/odata/modeler/SMART_BUSINESS.xsodata/","/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata/","/sap/opu/odata/sap/SM_CATALOG_SRV/"].forEach(function(b){if(!Object.prototype.hasOwnProperty.call(r,b)){r[b]="sap.ushell_abap.pbServices.ui2.RemoteCatalogService";}});Object.keys(r).forEach(function(b){var R=r[b];if(R==="sap.ui2.srvc.RemoteCatalogService"){R="sap.ushell_abap.pbServices.ui2.RemoteCatalogService";}var m=(R||"").replace(/\./g,"/");if(!sap.ui.require(m)){L.error("FLP PageBuildingAdapter: remote catalog service "+m+" must be loaded before use.");sap.ui.requireSync(m);}f.addRemoteCatalogService(b,new(O.get(R))());});};},true);
