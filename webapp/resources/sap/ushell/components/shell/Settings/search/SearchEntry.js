// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources"],function(L,X,r){"use strict";var s=null;function g(){if(s){return s;}s=sap.ui.getCore().loadLibrary("sap.esh.search.ui",{async:true}).then(function(){return new Promise(function(b,c){sap.ui.require(["sap/esh/search/ui/userpref/SearchPrefsModel","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],function(S,d){b(new S());});});});return s;}function a(){return g().then(function(m){var v;var e={id:"search",entryHelpID:"search",title:r.i18n.getText("searchSetting"),valueResult:null,contentResult:null,icon:"sap-icon://search",isActive:m.isSearchPrefsActive.bind(m),valueArgument:function(){return m.isPersonalizedSearchActive().then(function(b){return m.isMultiProvider().then(function(i){if(i){return{value:1,displayText:""};}return{value:1,displayText:b?r.i18n.getText("sp.persSearchOn"):r.i18n.getText("sp.persSearchOff")};});});},contentFunc:function(){return m.asyncInit().then(function(){return X.create({id:"searchView",viewName:"sap.ushell.components.shell.Settings.search.Search"});}).then(function(V){V.setModel(m);v=V;return V;});},onSave:function(){if(v){return v.getController().onSave();}L.warning("Save operation for search settings was not executed, because the search view was not initialized");return Promise.resolve();},onCancel:function(){if(v){v.getController().onCancel();return;}L.warning("Cancel operation for search settings was not executed, because the search view was not initialized");},provideEmptyWrapper:false};return e;});}return{getEntry:a};});
