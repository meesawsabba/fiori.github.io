// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["./common.constants","./common.debug.mode","./common.read.metatags","./common.util","./common.read.ushell.config.from.url","sap/base/util/ObjectPath","sap/base/Log","sap/base/util/extend"],function(c,d,m,u,C,O,L,e){"use strict";var S="sap/ushell/bootstrap/common/common.boot.script";function f(U,g){var p;if(!U||!g){return;}p=O.get(g,U);if(p&&p.items){e(p,p.items);delete p.items;delete p.__metadata;}}function a(M,D,g,h){var i=c.ushellConfigNamespace,j=M,U,o;h=h||[];if(!window[i]){window[i]={};}U=window[i];if(D){j=[D].concat(M);}j.forEach(function(k){u.mergeConfig(U,k,true);});h.forEach(function(k){u.mergeConfig(U,k,true);});o=C.getConfig();if(o){u.mergeConfig(U,o,true);}U["sap-ui-debug"]=g;L.info("finally applied sap-ushell-config",JSON.stringify(U),S);}function s(g){var h=O.get("ushell.spaces.configurable",g);if(h){var i=O.get("services.Container.adapter.config.userProfilePersonalization.spacesEnabled",g);if(i===true){O.set("ushell.spaces.enabled",true,g);}else if(i===false){O.set("ushell.spaces.enabled",false,g);}}}function b(o){var U;var D=o&&o.defaultUshellConfig;var M=m.readMetaTags(c.configMetaPrefix);a(M,D,d,null);U=window[c.ushellConfigNamespace];f(U,"services.Container.adapter.config.userProfilePersonalization");s(U);return U;}return b;});
