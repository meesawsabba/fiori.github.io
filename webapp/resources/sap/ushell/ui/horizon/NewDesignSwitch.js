// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Control","sap/ushell/Config","sap/m/Label","sap/m/Switch","sap/ushell/resources","sap/ushell/ui/horizon/utils"],function(C,a,L,S,r,u){"use strict";var c="/core/shellHeader/newDesignSwitchActive";var N=C.extend("sap.ushell.ui.horizon.NewDesignSwitch",{metadata:{library:"sap.ushell",properties:{state:{type:"boolean",defaultValue:false}}}});N.prototype.getLabelControl=function(){if(!this._oLabel){this._oLabel=new L(this.getId()+"-lbl",{text:r.i18n.getText("NewDesignSwitch.Label")});this._oLabel.addStyleClass("sapUshellNDSLabel");this._oLabel.setLabelFor(this.getSwitchControl().getId());this._oLabel.setParent(this);}return this._oLabel;};N.prototype.getSwitchControl=function(){var i=this.getId()+"-switch";if(!this._oSwitch){if(sap.ui.getCore().byId(i)){sap.ui.getCore().byId(i).destroy();}this._oSwitch=new S(i,{state:false,customTextOn:" ",customTextOff:" ",tooltip:r.i18n.getText("NewDesignSwitch.Label"),change:this.onChange.bind(this)});this._oSwitch.addStyleClass("sapUshellNDSSwitch");this._oSwitch.setParent(this);}return this._oSwitch;};N.prototype.setState=function(s){this.getSwitchControl().setState(!!s);this.setProperty("state",!!s,true);};N.prototype.init=function(){this.getSwitchControl();this.getLabelControl();var A=a.last(c);this.setState(!!A);a.on(c).do(this.setState.bind(this));};N.prototype.exit=function(){if(this._oLabel){this._oLabel.destroy();this._oLabel=null;}if(this._oSwitch){this._oSwitch.destroy();this._oSwitch=null;}};N.prototype.onChange=function(e){var s=!!e.getParameter("state");this.setProperty("state",s);a.emit(c,s);u.toggleNewDesign(s);};return N;},true);
