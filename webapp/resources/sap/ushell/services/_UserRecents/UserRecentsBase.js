// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/base/Object","sap/base/Log"],function(B,L){"use strict";var P="sap.ushell.services.UserRecents";var U=B.extend("sap.ushell.services.UserRecentsBase",{constructor:function(p,m,c){this.aRecents=[];this.iMaxItems=m;this._oPersonalizerPromise=sap.ushell.Container.getServiceAsync("Personalization").then(function(a){return a.getPersonalizer({container:P,item:p});});this._compareItems=c;}});U.prototype._load=function(){var d=new jQuery.Deferred();this._oPersonalizerPromise.then(function(p){p.getPersData().done(d.resolve).fail(d.reject);}).catch(function(e){L.error("Personalization service does not work:");L.error(e.name+": "+e.message);d.reject(e);});return d.promise();};U.prototype._save=function(l){var d=new jQuery.Deferred();this._oPersonalizerPromise.then(function(p){p.setPersData(l).done(d.resolve).fail(d.reject);}).catch(function(e){L.error("Personalization service does not work:");L.error(e.name+": "+e.message);d.reject(e);});return d.promise();};U._itemSorter=function(i,I){return I.iTimestamp-i.iTimestamp;};return U;});
