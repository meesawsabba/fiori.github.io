/*!
 * SAPUI5
 * (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/m/library"],function(M){"use strict";var I={apiVersion:2};I.render=function(r,c){if(!c._bThemeApplied){return;}if(c.getShowError()){r.openStart("div",c);r.class("sapSuiteUiMicroChartNoData");r.openEnd();r.renderControl(c._oIllustratedMessageControl);r.close("div");return;}var n=c._iVisiblePointsCount,a=100/n;r.openStart("div",c);r.class("sapSuiteILC");var A={};A.role="listbox";A.roledescription=c._oRb.getText("INTERACTIVELINECHART");A.multiselectable=true;A.disabled=!c._isChartEnabled();A.labelledby=c.getAriaLabelledBy();A.owns=this._getAriaOwns(c,n);r.accessibilityState(c,A);if(!c._isChartEnabled()){var s=c.getTooltip_AsString();if(typeof s==="string"||s instanceof String){r.attr("title",s);}}r.openEnd();r.openStart("div");r.class("sapSuiteILCWrapperChild");r.attr("aria-hidden","true");r.openEnd();r.openStart("div");r.class("sapSuiteILCInner");r.openEnd();if(!c.getSelectionEnabled()){this._renderDisabledOverlay(r,c);}this._renderChartCanvas(r,c,n,a);r.openStart("div");r.class("sapSuiteILCBottomLabelArea");if(c._fNormalizedZero){r.class("sapSuiteILCBottomLabelAreaNoDivider");}r.openEnd();r.close("div");r.openStart("div");r.class("sapSuiteILCInteraction");r.openEnd();for(var b=0;b<n;b++){this._renderPoint(r,c,b,n,a);}r.close("div");r.close("div");var l="",R=false,p=c.getPoints();for(var i=0;i<n;i++){var C=p[i],S=C.getSecondaryLabel();if(S&&l!==S){l=S;if(!R){R=true;r.openStart("div");r.class("sapSuiteILCInnerBottom");r.openEnd();}this._renderSecondaryLabel(r,C,i,a,l);}}if(R){r.close("div");}r.close("div");r.close("div");};I._renderSecondaryLabel=function(r,c,i,p,l){r.openStart("div");r.class("sapSuiteILCSecondaryLabel");r.style("width",p+"%");r.style("left",(i*p)+"%");r.openEnd();r.text(l);r.close("div");};I._renderPoint=function(r,c,i,p,a){var P=c.getPoints()[i];r.openStart("div",c.getId()+"-point-area-"+i);r.class("sapSuiteILCSection");r.class("sapSuiteILCCanvasLayout");if(P.getSelected()){r.class("sapSuiteILCSelected");}r.style("width",a+"%");r.style("left",(i*a)+"%");r.openEnd();var C=P.getColor();if(P._bNullValue){r.openStart("div");}else{r.openStart("div",c.getId()+"-point-"+i);if(P.getSelected()){r.class("sapSuiteILCSelected");}if(C!==M.ValueColor.Neutral){r.class("sapSuiteICSemanticColor"+C);}r.class("sapSuiteILCPoint");r.style("bottom",c._aNormalizedValues[i]+"%");}r.openEnd();r.close("div");r.openStart("div");r.class("sapSuiteILCBackgroundArea");r.openEnd();r.close("div");var A=this._renderPointLabel(r,c,i,p);var s=P._getSemanticColor();if(s){A+=" "+s;}var t=P.getTooltip_Text();if(t&&t.trim()){A=t;}r.openStart("div",c.getId()+"-interaction-area-"+i);r.class("sapSuiteILCInteractionArea");r.class("sapMPointer");if(i===0&&c._isChartEnabled()){r.attr("tabindex","0");}var o={};o.role="option";o.label=A;o.selected=P.getSelected();o.posinset=i+1;o.setsize=p;r.accessibilityState(P,o);r.openEnd();r.close("div");r.close("div");};I._renderChartCanvas=function(r,c,d,p){var i,P=c.getPoints();if(P.length!=0){r.openStart("div");r.class("sapSuiteILCChartCanvas");r.class("sapSuiteILCCanvasLayout");r.openEnd();r.openStart("svg");r.class("sapSuiteILCSvgElement");r.attr("focusable","false");r.openEnd();if(c._fNormalizedZero){r.openStart("line");r.attr("x1","1%");r.attr("y1",100-c._fNormalizedZero+"%");r.attr("x2","99%");r.attr("y2",100-c._fNormalizedZero+"%");r.attr("stroke-width","1");r.class("sapSuiteILCDivider");r.openEnd();r.close("line");}var C=function(i,y,a){r.openStart("line");r.attr("x1",p/2+(i-1)*p+"%");r.attr("y1",100-y+"%");r.attr("x2",p/2+(i*p)+"%");r.attr("y2",100-a+"%");r.attr("stroke-width","2");r.openEnd();r.close("line");};for(i=1;i<d;i++){if(!P[i-1]._bNullValue&&!P[i]._bNullValue){C(i,c._aNormalizedValues[i-1],c._aNormalizedValues[i]);}}if(c._fNormalizedPrecedingPoint!==null){C(0,c._fNormalizedPrecedingPoint,c._aNormalizedValues[0]);}if(c._fNormalizedSucceedingPoint!==null){C(i,c._aNormalizedValues[i-1],c._fNormalizedSucceedingPoint);}r.close("svg");r.close("div");}};I._renderPointLabel=function(r,c,i,p){var P=c.getPoints()[i];var B=P.getLabel()||"",t=P.getDisplayedValue(),s=P.getSecondaryLabel()||"";var h;r.openStart("div");r.class("sapSuiteILCTextElement");r.class("sapSuiteILCBottomText");r.class("sapMPointer");r.openEnd();r.text(B);r.close("div");r.openStart("div");r.class("sapSuiteILCTextElement");r.class("sapSuiteILCToplabel");r.class("sapMPointer");if(!P._bNullValue){if(!t){t=P.getValue().toString();}h=[c._aNormalizedValues[i]];if(i>0&&!c.getPoints()[i-1]._bNullValue){h.push((c._aNormalizedValues[i]+c._aNormalizedValues[i-1])/2);}if(i<p-1&&!c.getPoints()[i+1]._bNullValue){h.push((c._aNormalizedValues[i]+c._aNormalizedValues[i+1])/2);}h.sort(function(a,b){return a-b;});if(P.getValue()===c.nMax&&c.nMax!==c.nMin){r.style("bottom",h[h.length-1]+"%");r.class("sapSuiteILCShiftAbove");}else if(P.getValue()===c.nMin&&c.nMax!==c.nMin){r.style("bottom",h[0]+"%");r.class("sapSuiteILCShiftBelow");}else if(Math.abs(c._aNormalizedValues[i]-h[0])<Math.abs(c._aNormalizedValues[i]-h[h.length-1])){r.style("bottom",h[0]+"%");r.class("sapSuiteILCShiftBelow");}else{r.style("bottom",h[h.length-1]+"%");r.class("sapSuiteILCShiftAbove");}}else{t=c._oRb.getText("INTERACTIVECHART_NA");r.class("sapSuiteILCShiftBelow");r.class("sapSuiteILCNaLabel");}r.openEnd();r.text(t);r.close("div");return B+" "+(s===""?"":s+" ")+t;};I._renderDisabledOverlay=function(r,c){r.openStart("div");r.class("sapSuiteILCDisabledOverlay");r.openEnd();r.close("div");};I._getIdReferenceList=function(c,p,s){var P=[];for(var i=0;i<p;i++){P.push(c.getId()+s+i);}return P.join(" ");};I._getAriaDescribedBy=function(c,p){return this._getIdReferenceList(c,p,"-point-area-");};I._getAriaOwns=function(c,p){return this._getIdReferenceList(c,p,"-interaction-area-");};return I;},true);
