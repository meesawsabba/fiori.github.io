sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(B,e,t){"use strict";function g(T){function a(s){function j(){var E=T.mEntityTree[s];return E.page.navigation&&E.page.navigation.display&&E.page.navigation.display.refreshStrategyOnAppRestore&&E.page.navigation.display.refreshStrategyOnAppRestore.entitySets;}var S=Object.create(null);S[s]="self";return c(j()?T.mEntityTree[s].page.navigation.display.refreshStrategyOnAppRestore.entitySets:S);}function c(r){var R=Object.create(null);for(var C in T.componentRegistry){var o=T.componentRegistry[C];var j={entitySets:[],component:o.oComponent};R[C]=j;var n=o.viewLevel;for(var E in r){var A=o.oComponent.getEntitySet()===E;switch(r[E]){case"self":if(n===0||!A){j.entitySets.push(E);}else{j.withoutAssociationsRefresh=true;}break;case"includingDependents":j.entitySets.push(E);if(n>0&&A){j.isRefreshRequired=true;}break;default:break;}}}return R;}function b(I){var m;if(I.key){m=I.key;}else{var o=h();for(var O in o){var j=o[O];if(j.semanticObject===I.semanticObject&&j.action===I.action){m=O;break;}}}return c(d(m)||f());}function d(o){var E=i();return E&&E.outbounds&&E.outbounds[o]&&E.outbounds[o].refreshStrategyOnAppRestore&&E.outbounds[o].refreshStrategyOnAppRestore.entitySets;}function f(){var E=i();return E&&E.defaultOutboundSettings&&E.defaultOutboundSettings.refreshStrategyOnAppRestore&&E.defaultOutboundSettings.refreshStrategyOnAppRestore.entitySets;}function h(){var A=T.oAppComponent.getInternalManifest()["sap.app"];return A.crossNavigation&&A.crossNavigation.outbounds;}function i(){var A=T.oAppComponent.getConfig();return A.settings&&A.settings.externalNavigationSettings;}c=t.testableStatic(c,"KeepAliveHelper_fnComputeRefreshBehaviour");return{getChevronNavigationRefreshBehaviour:a,getComponentRefreshBehaviour:b};}return B.extend("sap.suite.ui.generic.template.lib.KeepAliveHelper",{constructor:function(T){e(this,g(T));}});});
