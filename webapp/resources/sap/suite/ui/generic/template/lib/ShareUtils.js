sap.ui.define(["sap/base/util/ObjectPath","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(O,e,F){"use strict";var S={};function g(){var u=sap.ushell&&sap.ushell.Container;return u?new Promise(function(r){u.getFLPUrlAsync(true).done(function(f){r(f);});}):Promise.resolve(document.URL);}S.getCurrentUrl=g;S.setStaticShareData=function(f,s){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");s.setProperty("/emailButtonText",r.getText("SEMANTIC_CONTROL_SEND_EMAIL"));s.setProperty("/jamButtonText",r.getText("SEMANTIC_CONTROL_SHARE_IN_JAM"));var G=O.get("sap.ushell.Container.getUser");s.setProperty("/jamVisible",!!G&&G().isJamActive());};S.openJamShareDialog=function(t){g().then(function(c){var s=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:c,share:t}}});s.open();});};S.openSharePopup=function(c,b,f){var s;f.onCancelPressed=function(){s.close();};return new Promise(function(r){c.getDialogFragmentAsync("sap.suite.ui.generic.template.fragments.ShareSheet",f,"share",S.setStaticShareData).then(function(o){s=o;var a=s.getModel("share");var d=f.getModelData();d.then(function(m){var n=e(a.getData(),m);n.serviceUrl=m&&m.serviceUrl;a.setData(n);s.openBy(b);r(s);});});});};S.getCustomUrl=function(){if(!window.hasher){sap.ui.require("sap/ui/thirdparty/hasher");}var h=window.hasher.getHash();return h?("#"+h):window.location.href;};return S;});
