sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/controlHelper"],function(B,e,c){"use strict";function g(C,o,a,s){function G(){var t=s.getTable();return t.getBinding("rows")||t.getBinding("items");}function f(){return s.getTableBindingPath();}function b(){return s.getTable().getColumns();}function d(){var q=[];var I=s.getTable();if(c.isMTable(I)){q=I.getSelectedContexts();}else if(c.isUiTable(I)){var t=I.getPlugins().filter(function(P){return P.isA("sap.ui.table.plugins.SelectionPlugin");})[0];var u=t?t.getSelectedIndices():I.getSelectedIndices();if(u){var v;for(var i=0;i<u.length;i++){v=I.getContextByIndex(u[i]);if(v){q.push(v);}}}}return q;}function h(){return s.getModel();}function j(){var i=[];var t=s.getCustomData().find(function(q){return q.getKey()==="TemplateSortOrder";});var T=t&&t.getValue();if(T){T.split(", ").forEach(function(q){var u=q.split(" ");i.push({Property:u[0],Descending:u.length>1});});}return i;}function k(){var i=s.getTable();return c.isUiTable(i)?i.getRows():i.getItems();}function S(){return o.setEnabledToolbarButtons(s);}function l(){return o.setEnabledFooterButtons(s);}function m(v){s.attachAfterVariantInitialise(function(){s.setCurrentVariantId(v);});s.setCurrentVariantId(v);}function n(){var i=s.getTable();if(c.isUiTable(i)){return i.getBindingInfo("rows");}else if(c.isMTable(i)){return i.getBindingInfo("items");}}function r(i,N){var q=n();if(q&&q.binding){if(i){q.binding.refresh(i);}else{q.binding.refresh();}if(!N&&C.getView().getModel("ui").getProperty("/editable")){a.messagesRefresh();}}else if(s&&s.rebindTable){s.rebindTable();}}function R(){s.rebindTable();}function A(N){var u=s.getUiState();var P=u.getPresentationVariant();if(!P.SortOrder){P.SortOrder=j();}P.SortOrder=P.SortOrder.concat(N);u.setPresentationVariant(P);s.setUiState(u);}function p(i){var I=s.getTable();if(c.isMTable(I)){var q=I.getItems().findIndex(function(t){return t.getBindingContextPath()===i;});if(q>-1){I.scrollToIndex(q);}}}return{getBinding:G,getBindingPath:f,getSelectedContexts:d,getVisibleProperties:b,getItems:k,getBindingInfo:n,getModel:h,setEnabledToolbarButtons:S,setEnabledFooterButtons:l,setCurrentVariantId:m,setCurrentTableVariantId:m,setCurrentChartVariantId:Function.prototype,refresh:r,rebind:R,applyNavigationSortOrder:A,scrollToSelectedItemAsPerChildContext:p};}return B.extend("sap.suite.ui.generic.template.lib.presentationControl.SmartTableHandler",{constructor:function(C,o,a,s){e(this,g(C,o,a,s));}});});
