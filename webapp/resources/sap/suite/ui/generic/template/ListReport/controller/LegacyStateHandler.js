sap.ui.define(["sap/ui/base/Object","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/ui/generic/app/navigation/service/SelectionVariant","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(B,d,e,V,F,S,t){"use strict";var a="sap.suite.ui.generic.template.customData",b="sap.suite.ui.generic.template.extensionData",c="sap.suite.ui.generic.template.genericData";function g(l){if(l.version){return l.version;}if(l.customData&&l.customData[c]&&l.customData[c].variantDirty!==undefined){return"1.86.0";}if(l.customData&&l.customData[b]){return"1.58.0";}if(l.customData&&l.customData[a]&&l.customData[c]){return"1.36.0";}return"1.28.0";}function i(l,v){return V(v).compareTo(g(l))<0;}function f(C){function m(s){if(i(s,"1.34.0")){return s;}var N={};N[a]=s.customData||{};N[c]={};if(s.customData&&s.customData._editStateFilter){N[c].editStateFilter=s.customData._editStateFilter;}delete N[a]._editStateFilter;s.customData=N;return s;}function h(s){if(i(s,"1.85.0")){return s;}s.customData[c].variantDirty=true;return s;}function j(s){if(i(s,"1.89.0")){return s;}d(s,{version:"1.90.0",controlStates:{}});if(s.tableVariantId){s.controlStates[C.getView().getId()+"--listReport"]={sVariantId:s.tableVariantId};delete s.tableVariantId;}return s;}function k(s){if(i(s,"1.93.0")){return s;}d(s,{version:"1.94.0",controlStates:{}});var v=C.getView();for(var G in s.controlStates){var L=v.getLocalId(G);if(L){s.controlStates[L]=s.controlStates[G];delete s.controlStates[G];}}s.controlStates["template::PageVariant"]={variantId:new S(s.selectionVariant).getID(),modified:s.customData[c].variantDirty};delete s.customData[c].variantDirty;return s;}function l(s){if(i(s,"1.94.0")){return s;}d(s,{version:"1.95.0"});if(s.customData[c].Worklist){if(s.customData[c].tableTabData){e(s.customData[c].tableTabData,{controlStates:{}});s.customData[c].tableTabData.controlStates["Table::Toolbar::SearchField-"+s.customData[c].tableTabData.selectedTab]={searchString:s.customData[c].Worklist.searchString};}else{e(s,{controlStates:{}});s.controlStates["Table::Toolbar::SearchField"]={searchString:s.customData[c].Worklist.searchString};}delete s.customData[c].Worklist;}return s;}function n(L){return[m,h,j,k,l].reduce(function(s,M){return M(s);},d({},L));}t.testable(m,"mapFrom1_34");t.testable(h,"mapFrom1_85");t.testable(j,"mapFrom1_89");t.testable(k,"mapFrom1_93");t.testable(l,"mapFrom1_94");return{getStateInCurrentFormat:n};};return B.extend("sap.suite.ui.generic.template.ListReport.controller.LegacyStateHandler",{constructor:function(C){e(this,f(C));}});});
