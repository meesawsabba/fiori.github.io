sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/FeError"],function(B,S,M,e,F){"use strict";var c="ListReport.controller.MultipleViewsHandler";function g(s,C,t){var G;var q;var m;var a;function o(){if(!G){return;}G.updateCounts();}function b(E,I){if(!G){return;}G.onRebindContentControl(E,I);}function r(E,P){if(!G){return null;}return G.resolveParameterizedEntitySet(E,P);}function f(I,E){return G?G.formatMessageStrip(I,E):"";}function d(){if(G){var E=G.getSelectedKey();var T=G.getContentForIappState(E);return{state:T};}return null;}function h(E){if(!G){return C.getOwnerComponent().getEntitySet()===E;}return G.hasEntitySet(E);}function i(I){return G&&G.formatItemTextForMultipleView(I);}function R(s){if(G){G.restoreFromIappState(s);A();}}function D(){return G&&G.determineSortOrder();}function j(E,T,I){if(!G){return false;}G.refreshOperation(E,T,I);return true;}function k(){return!!(q&&q.enableAutoBinding);}function l(){return a;}function n(){if(!G){return;}G.setActiveButtonState();}function p(){if(!G){return null;}return G.restoreActiveButtonState();}function u(E,T){if(!G){return;}G.setControlVariant(E,T);}function H(E){if(!G){return;}if(E.selectedQuickVariantSelectionKey){G.setSelectedKey(E.selectedQuickVariantSelectionKey);}}function v(){if(!m){return null;}return m==="single"?"tableViewData":"tableTabData";}function w(){if(!m){return null;}return G.getSelectedKey();}function x(K){return G.setSelectedKey(K);}function O(E){var I=E.getParameter("itemContexts")&&E.getParameter("itemContexts")[0];t.oCommonEventHandlers.onListNavigate(E,s,I);}function A(){if(m==="multi"){var K=G.getSelectedKey();s.oPresentationControlHandler=t.oServices.oPresentationControlHandlerFactory.getPresentationControlHandler(C.byId(S.getStableId({type:"ListReportTable",subType:"SmartTable",sQuickVariantKey:K})));s.oWorklistData.oSearchField=C.byId(S.getStableId({type:"ListReportAction",subType:"SearchField",sQuickVariantKey:K}));}}function y(P){if(m==="multi"){G.refreshSiblingControls(P);}}function z(){return G&&G.getMode();}(function(){var E=t.oComponentUtils.getSettings();var Q=E.quickVariantSelectionX;var I=E.quickVariantSelection;if(Q&&I){throw new F(c,"Defining both QuickVariantSelection and QuickVariantSelectionX in the manifest is not allowed.");}q=Q||I;if(Q){a=Q.enableAutoBinding;if(a===null||a===undefined){Q.enableAutoBinding=true;}}if(!q){return;}var J;if(Q){m="multi";var K=S.getStableId({type:"QuickVariantSelectionX",subType:"IconTabBar"});J=C.byId(K);}else{m="single";var L=S.getStableId({type:"QuickVariantSelection",subType:"SegmentedButton"});var V=S.getStableId({type:"QuickVariantSelection",subType:"VariantSelect"});J=C.byId(L)||C.byId(V);}var N={manifestSettings:q,pathInTemplatePrivateModel:"/listReport/multipleViews",presentationControlHandler:I&&s.oPresentationControlHandler,getPresentationControlHandler:Q&&function(P){return t.oServices.oPresentationControlHandlerFactory.getPresentationControlHandler(C.byId(S.getStableId({type:"ListReportTable",subType:"SmartTable",sQuickVariantKey:P})));},switchingControl:J,smartFilterBar:s.oSmartFilterbar,getSearchValue:function(){return s.oSmartFilterbar.getBasicSearchValue();},appStateChange:function(){if(G){var P=s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;s.oIappStateHandler.changeIappState(P);}},isDataToBeShown:function(){return s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;},adaptRefreshRequestMode:function(P){return P+(s.oWorklistData.bWorkListEnabled&&P<2?2:0);},pathToActiveObjectEnabled:"/listReport/activeObjectEnabled",refreshModelOnTableRefresh:true,adaptPresentationControl:A};G=new M(C,t,N);A();})();return{onDataRequested:o,refreshOperation:j,onRebindContentControl:b,formatMessageStrip:f,getContentForIappState:d,restoreFromIappState:R,formatItemTextForMultipleView:i,getEnableAutoBinding:k,getOriginalEnableAutoBinding:l,determineSortOrder:D,setActiveButtonState:n,restoreActiveButtonState:p,setControlVariant:u,handleStartUpObject:H,onDetailsActionPress:O,getSelectedKeyPropertyName:v,getSelectedKey:w,setSelectedKey:x,hasEntitySet:h,refreshSiblingControls:y,resolveParameterizedEntitySet:r,getMode:z};}return B.extend("sap.suite.ui.generic.template.ListReport.controller.MultipleViewsHandler",{constructor:function(s,C,t){e(this,g(s,C,t));}});});
