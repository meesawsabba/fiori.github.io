sap.ui.define(["sap/base/util/ObjectPath","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/suite/ui/generic/template/manifestMerger/MergerUtil","sap/ui/fl/util/DescriptorChangeCheck"],function(O,F,M,D){"use strict";var l=new F("manifestMerger.AddNewObjectPage").getLogger();var a={applyChange:function(m,c){l.info("addNewPage use case");var s=["navigationProperty","entitySet"];var C=c.getContent();var b=C.childPage&&C.childPage.id;if(b){D.checkIdNamespaceCompliance(b,c);}M.consistencyCheck(C,"ADD",s);var p=C.parentPage.entitySet;var P=C.parentPage.component;var o=M.iterateAndFind(m["sap.ui.generic.app"],p,P,b);var d={"name":"sap.suite.ui.generic.template.ObjectPage"};if(o){if(o.pages&&Array.isArray(o.pages)){throw Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array");}O.create(["pages",b],o);O.set(["pages",b],C.childPage.definition,o);O.set(["pages",b,"component"],d,o);}else{throw Error("The target content definition is invalid");}return m;}};return a;});
