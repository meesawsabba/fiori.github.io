sap.ui.define(["sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/base/util/includes"],function(F,i){"use strict";var l=new F("manifestMerger.MergerUil").getLogger();var m={iterateAndFind:function a(p,e,P,c,s){var o;if(Array.isArray(p)){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ");}for(var k in p){if(k==="entitySet"&&p.entitySet===e){if(p.component&&p.component.name===P){if(p.pages){var S=Object.keys(p.pages);f(S);}l.info(p);return p;}}else if(typeof p[k]==="object"&&!Array.isArray(p[k])){if(o){break;}if(k==="pages"||s==="pages"){o=a(p[k],e,P,c,k);}}else if(k==="pages"&&Array.isArray(p[k])){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ");}}function f(S){if(S.length){S.filter(function(b){if(b===c){throw new Error("Adding duplicate pageKey "+c+" is not supported.");}});}}return o;},consistencyCheck:function(c,M,s){if(!c["parentPage"]){throw new Error("Mandatory 'parentPage' parameter is not provided.");}if(!c.parentPage.entitySet){throw new Error("Mandatory 'parentPage.entitySet' parameter is not provided.");}if(!c.parentPage.component){throw new Error("Mandatory 'parentPage.component' parameter is not provided.");}if(M==="ADD"){if(!c.childPage.id){throw new Error(" Add mandatory parameter 'childPage.id' ");}if(!c.childPage.definition){throw new Error("Mandatory 'childPageDefinition' are not provided. Add 'childPage.definition' to add the new page. ");}var C=Object.keys(c.childPage.definition);C.forEach(function(k){if(!i(s,k)){throw new Error("Changing "+k+" is not supported. The supported 'propertyPath' is: "+s.join(","));}});var a=s.filter(function(b){return!i(C,b);});if(a.length){throw new Error("Mandatory parameter "+a+" is not defined.");}}else if(M==="MODIFY"){if(!c.entityPropertyChange){throw new Error("Changes for \""+c["pageId"]+"\" are not provided.");}else{var e=c.entityPropertyChange;if(!e.propertyPath){throw new Error("Invalid change format: The mandatory 'propertyPath' is not defined. Please define the mandatory property 'propertyPath'");}if(!e.operation||e.operation!=="UPSERT"){throw new Error("Invalid change format: The mandatory 'operation' is not defined or is not valid type. Please define the mandatory property 'operation' with type 'UPSERT");}if(!e.propertyValue){throw new Error("Invalid change format: The mandatory 'propertyValue' is not defined. Please define the mandatory property 'propertyValue'");}}}}};return m;});
