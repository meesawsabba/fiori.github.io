sap.ui.define(["sap/ui/core/mvc/OverrideExecution","sap/suite/ui/generic/template/lib/TemplateAssembler","sap/suite/ui/generic/template/AnalyticalListPage/controller/ControllerImplementation","sap/ui/model/json/JSONModel","sap/suite/ui/generic/template/AnalyticalListPage/controllerFrameworkExtensions","sap/suite/ui/generic/template/js/preparationHelper","sap/base/util/deepExtend","sap/suite/ui/generic/template/listTemplates/filterSettingsPreparationHelper","sap/suite/ui/generic/template/js/StableIdHelper"],function(O,T,C,J,c,p,d,f,S){"use strict";function g(o,a){var v={};return{oControllerSpecification:{getMethods:C.getMethods.bind(null,v),oControllerDefinition:c,oControllerExtensionDefinition:{metadata:{methods:{onInitSmartFilterBar:{"public":true,"final":false,overrideExecution:O.After},provideExtensionAppStateData:{"public":true,"final":false,overrideExecution:O.After},restoreExtensionAppStateData:{"public":true,"final":false,overrideExecution:O.After},ensureFieldsForSelect:{"public":true,"final":false,overrideExecution:O.After},addFilters:{"public":true,"final":false,overrideExecution:O.After}}},onInitSmartFilterBar:function(e){},provideExtensionAppStateData:function(s){},restoreExtensionAppStateData:function(G){},ensureFieldsForSelect:function(e,s){},addFilters:function(A,s){}}},init:function(){var t=o.getModel("_templPriv");t.setProperty("/listReport",{});t.setProperty("/alp",{visualFilter:{}});var b=new J();o.setModel(b,"_filter");},onActivate:function(){v.onComponentActivate();},refreshBinding:function(){v.refreshBinding();},onSuspend:function(){v.onSuspend();},onRestore:function(){v.onRestore();},getUrlParameterInfo:function(){return v.getUrlParameterInfo();},getTemplateSpecificParameters:function(m,s,D,l){var e=a.getControllerExtensions();var E=m.getODataEntitySet(l);var L=p.getLineItemFromVariant(m,E.entityType,s.qualifier);var b=m.getODataEntityType(E.entityType);var A=d({},s);A.targetEntities={};A.targetEntities[E.entityType]=p.getTargetEntityForQuickView(m,E);A.tableSettings=p.getNormalizedTableSettings(m,s,D,l,e&&e.Actions,L);A.isSelflinkRequired=false;A.isIndicatorRequired=false;A.isSemanticallyConnected=true;A.controlConfigurationSettings=f.getControlConfigurationSettings(A,b);function h(n,t){var E=m.getODataEntitySet(n);var b=m.getODataEntityType(E.entityType);var r,u,w;u=t.annotationPath;w=!!u&&b[u];if(w&&w.PresentationVariant){if(w.PresentationVariant.Visualizations){r=w.PresentationVariant.Visualizations[0].AnnotationPath;}else if(w.PresentationVariant.Path){var P=w.PresentationVariant.Path.split("@")[1];var x=P&&b[P];r=x.Visualizations[0].AnnotationPath;}}else if(w&&w.Visualizations){r=w.Visualizations[0].AnnotationPath;}return!!(r&&r.indexOf("com.sap.vocabularies.UI.v1.Chart")>-1);}function i(E){if(!A.targetEntities[E.entityType]){A.targetEntities[E.entityType]=p.getTargetEntityForQuickView(m,E);}}if(A.quickVariantSelectionX){var j=p.getNormalizedTableSettings(m,A,D,l,e&&e.Actions,L);var V=A.quickVariantSelectionX.variants||{};for(var k in V){var n=V[k].entitySet||l;var E=m.getODataEntitySet(n);if(!E){delete V[k];continue;}V[k].isSmartChart=h(n,V[k]);if(!V[k].isSmartChart){var L=p.getLineItemFromVariant(m,m.getODataEntitySet(n).entityType,V[k].annotationPath&&V[k].annotationPath.split("#")[1]);V[k].tableSettings=V[k].tableSettings||j;V[k].tableSettings=p.getNormalizedTableSettings(m,V[k],D,n,e&&e.Actions,L);if(A.isResponsiveTable===undefined){A.isResponsiveTable=V[k].tableSettings.type==="ResponsiveTable";}else if(A.isResponsiveTable!==(V[k].tableSettings.type==="ResponsiveTable")){}var q=m.getODataEntityType(E.entityType);if(q&&q.property&&V[k].tableSettings&&V[k].tableSettings.createWithParameterDialog){if(n!=l){}A.quickVariantSelectionX.variants[k].tableSettings.createWithParameterDialog.id=S.getStableId({type:'ALPAction',subType:'CreateWithDialog',sQuickVariantKey:V[k].key});}i(E);}}delete A.tableSettings;if(A.isResponsiveTable===undefined){A.isResponsiveTable=true;}}else{A.tableSettings=p.getNormalizedTableSettings(m,s,D,l,e&&e.Actions,L);A.isResponsiveTable=A.tableSettings.type==="ResponsiveTable";if(A.tableSettings.enableMultiEditDialog&&A.isResponsiveTable&&!a.isDraftEnabled()&&!A.isWorklist&&!o.getAppComponent().getFlexibleColumnLayout()){A.multiEdit=true;if(E["Org.OData.Capabilities.V1.UpdateRestrictions"]&&E["Org.OData.Capabilities.V1.UpdateRestrictions"].Updatable&&E["Org.OData.Capabilities.V1.UpdateRestrictions"].Updatable.Bool==="false"){A.multiEdit=false;}else if(A.tableSettings.mode==="None"){A.tableSettings.mode=(A.tableSettings.multiSelect?"MultiSelect":"SingleSelectLeft");}}i(E);}return A;},overwrite:{updateBindingContext:function(){sap.suite.ui.generic.template.lib.TemplateComponent.prototype.updateBindingContext.apply(o,arguments);}},executeBeforeInvokeActionFromExtensionAPI:function(s,b){if(s.oSmartTable){s.oSmartTable.getTable().attachEventOnce("updateFinished",function(){b.setEnabledToolbarButtons(s.oSmartTable);b.setEnabledFooterButtons(s.oSmartTable);});}if(s.oSmartChart){s.oSmartChart.getChartAsync().then(function(e){e.attachEventOnce("updateFinished",function(){b.setEnabledToolbarButtons(s.oSmartChart);b.setEnabledFooterButtons(s.oSmartChart);});});}}};}return T.getTemplateComponent(g,"sap.suite.ui.generic.template.AnalyticalListPage",{metadata:{library:"sap.suite.ui.generic.template",properties:{"templateName":{"type":"string","defaultValue":"sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"},"qualifier":{"type":"string","defaultValue":""},"chartPresentationQualifier":{"type":"string","defaultValue":""},"gridTable":{"type":"boolean","defaultValue":false},"tableType":{"type":"string","defaultValue":""},"multiSelect":{"type":"boolean","defaultValue":false},"tableSettings":{type:"object",properties:{type:{type:"string",defaultValue:undefined},multiSelect:{type:"boolean",defaultValue:false},selectAll:{type:"boolean",defaultValue:true},selectionLimit:{type:"int",defaultValue:200}}},"chartSettings":{type:"object",properties:{showDataLabel:{type:"boolean",defaultValue:false}}},"smartVariantManagement":{"type":"boolean","defaultValue":true},"defaultContentView":{"type":"string","defaultValue":"charttable"},"lazyLoadVisualFilter":{"type":"boolean","defaultValue":true},"defaultFilterMode":{"type":"string","defaultValue":"visual"},"keyPerformanceIndicators":"array","autoHide":{"type":"boolean","defaultValue":true},"showAutoHide":{"type":"boolean","defaultValue":true},"hideVisualFilter":{"type":"boolean","defaultValue":false},"showGoButtonOnFilterBar":{"type":"boolean","defaultValue":false},"uniqueHierarchyNodeIDForTreeTable":{"type":"string","defaultValue":""},"showItemNavigationOnChart":{"type":"boolean","defaultValue":false},"condensedTableLayout":{"type":"boolean","defaultValue":true},"contentTitle":{"type":"string","defaultValue":undefined},"enableTableFilterInPageVariant":{"type":"boolean","defaultValue":false},"dshQueryName":{"type":"string","defaultValue":undefined},"filterDefaultsFromSelectionVariant":{"type":"boolean","defaultValue":false},"allFiltersAsInParameters":{"type":"boolean","defaultValue":true},"designtimePath":{"type":"string","defaultValue":"sap/suite/ui/generic/template/designtime/AnalyticalListPage.designtime"},"dataLoadSettings":{type:"object",properties:{loadDataOnAppLaunch:{type:"string",defaultValue:"ifAnyFilterExist"}}},filterSettings:f.getFilterSettingsMetadata(),"refreshIntervalInMinutes":{"type":"int"},quickVariantSelection:{type:"object",properties:{showCounts:{type:"boolean",defaultValue:false},variants:{type:"object",mapEntryProperties:{key:{type:"string",optional:true},annotationPath:{type:"string"}}}}},quickVariantSelectionX:{type:"object",properties:{showCounts:{type:"boolean",defaultValue:false},variants:{type:"object",mapEntryProperties:{key:{type:"string",optional:true},annotationPath:{type:"string"},entitySet:{type:"string",optional:true},tableSettings:{type:"object",properties:{type:{type:"string",defaultValue:undefined},multiSelect:{type:"boolean",defaultValue:false},selectAll:{type:"boolean",defaultValue:false},selectionLimit:{type:"int",defaultValue:200}}}}}}}},"manifest":"json"}});});
