/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["../../ManifestSettings","../../helpers/ID","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/templating/PropertyHelper","../../helpers/Aggregation","sap/fe/core/templating/UIFormatters","./Criticality","sap/fe/core/templating/EntitySetHelper"],function(M,I,A,C,D,B,a,K,t,T,b,S,c,P,d,U,e,E){"use strict";var _={};var g=E.getNonSortablePropertiesRestrictions;var f=e.getMessageTypeFromCriticalityType;var h=U.getTypeConfig;var j=U.getDisplayMode;var k=d.AggregationHelper;var l=P.getTargetValueOnDataPoint;var m=P.isPathExpression;var p=P.getAssociatedCurrencyProperty;var q=P.getAssociatedUnitProperty;var r=P.isProperty;var s=c.IssueType;var u=c.IssueSeverity;var v=c.IssueCategory;var w=S.replaceSpecialChars;var x=b.isPathUpdatable;var y=b.isPathInsertable;var z=b.isPathSearchable;var F=b.isPathDeletable;var G=b.getTargetObjectPath;var H=T.MessageType;var J=K.KeyHelper;var L=a.UI;var N=a.singletonPathVisitor;var O=a.bindingContextPathVisitor;var Q=a.Draft;var R=B.resolveBindingString;var V=B.or;var W=B.not;var X=B.isConstant;var Y=B.isBinding;var Z=B.ifElse;var $=B.formatResult;var a1=B.equal;var b1=B.constant;var c1=B.compileBinding;var d1=B.bindingExpression;var e1=B.annotationExpression;var f1=B.and;var g1=D.isDataFieldTypes;var h1=D.isDataFieldForActionAbstract;var i1=D.isDataFieldAlwaysHidden;var j1=D.getSemanticObjectPath;var k1=D.getDataFieldDataType;var l1=D.collectRelatedPropertiesRecursively;var m1=D.collectRelatedProperties;var n1=C.Placement;var o1=C.insertCustomElements;var p1=A.removeDuplicateActions;var q1=A.isActionNavigable;var r1=A.getActionsFromManifest;var s1=I.TableID;var t1=M.VisualizationType;var u1=M.VariantManagementType;var v1=M.TemplateType;var w1=M.SelectionMode;var x1=M.HorizontalAlign;var y1=M.CreationMode;var z1=M.AvailabilityType;var A1=M.ActionType;function B1(n,i){return E1(n)||D1(n,i)||K1(n,i)||C1();}function C1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function D1(n,i){var o=n==null?null:typeof Symbol!=="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o==null)return;var P2=[];var _n=true;var _d=false;var _s,_e;try{for(o=o.call(n);!(_n=(_s=o.next()).done);_n=true){P2.push(_s.value);if(i&&P2.length===i)break;}}catch(U2){_d=true;_e=U2;}finally{try{if(!_n&&o["return"]!=null)o["return"]();}finally{if(_d)throw _e;}}return P2;}function E1(i){if(Array.isArray(i))return i;}function F1(o,i){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var P2=Object.getOwnPropertySymbols(o);if(i){P2=P2.filter(function(Q2){return Object.getOwnPropertyDescriptor(o,Q2).enumerable;});}n.push.apply(n,P2);}return n;}function G1(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};if(i%2){F1(Object(o),true).forEach(function(P2){H1(n,P2,o[P2]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(n,Object.getOwnPropertyDescriptors(o));}else{F1(Object(o)).forEach(function(P2){Object.defineProperty(n,P2,Object.getOwnPropertyDescriptor(o,P2));});}}return n;}function H1(o,i,n){if(i in o){Object.defineProperty(o,i,{value:n,enumerable:true,configurable:true,writable:true});}else{o[i]=n;}return o;}function I1(i){return M1(i)||L1(i)||K1(i)||J1();}function J1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function K1(o,i){if(!o)return;if(typeof o==="string")return N1(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N1(o,i);}function L1(i){if(typeof Symbol!=="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i);}function M1(i){if(Array.isArray(i))return N1(i);}function N1(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,P2=new Array(o);i<o;i++){P2[i]=n[i];}return P2;}var O1;(function(O1){O1["Default"]="Default";O1["Annotation"]="Annotation";O1["Slot"]="Slot";})(O1||(O1={}));function P1(i,n,o,P2){var Q2=e2(i,n,o);var R2=Q2.tableActions;var S2=Q2.hiddenTableActions;return o1(R2,r1(o.getManifestControlConfiguration(n).actions,o,R2,P2,true,S2),{isNavigable:"overwrite",enableOnSelect:"overwrite",enableAutoScroll:"overwrite",enabled:"overwrite",defaultValuesExtensionFunction:"overwrite"});}_.getTableActions=P1;function Q1(i,n,o,P2){var Q2=u2(i,n,o);var R2=y2(o.getManifestControlConfiguration(n).columns,Q2,o,o.getAnnotationEntityType(i),P2);return o1(Q2,R2,{width:"overwrite",isNavigable:"overwrite",availability:"overwrite",settings:"overwrite",horizontalAlign:"overwrite",formatOptions:"overwrite"});}_.getTableColumns=Q1;var R1=function(i,n,o){var P2=new k(i,o);function Q2(V2){return n.find(function(W2){var X2=W2;return X2.propertyInfos===undefined&&X2.relativePath===V2;});}if(!P2.isAnalyticsSupported()){return undefined;}var R2=new Set();n.forEach(function(V2){var W2=V2;if(W2.unit){R2.add(W2.unit);}});var S2=P2.getCustomAggregateDefinitions();var T2={};S2.forEach(function(V2){var W2=P2._entityType.entityProperties.find(function($2){return $2.name===V2.qualifier;});if(W2){var X2,Y2;var Z2=(X2=V2.annotations)===null||X2===void 0?void 0:(Y2=X2.Aggregation)===null||Y2===void 0?void 0:Y2.ContextDefiningProperties;T2[W2.name]=Z2?Z2.map(function($2){return $2.value;}):[];}});var U2={};n.forEach(function(V2){var W2=V2;if(W2.propertyInfos===undefined&&W2.relativePath){var X2=T2[W2.relativePath];if(X2&&!R2.has(W2.name)&&!W2.isDataPointFakeTargetProperty){U2[W2.name]={defaultAggregate:{},relativePath:W2.relativePath};var Y2=[];X2.forEach(function(Z2){var V2=Q2(Z2);if(V2){Y2.push(V2.name);}});if(Y2.length){U2[W2.name].defaultAggregate.contextDefiningProperties=Y2;}}}});return U2;};_.getAggregateDefinitionsFromEntityType=R1;function S1(i,n,o,P2){if(i.control.type==="AnalyticalTable"){var Q2=R1(n,i.columns,o);if(Q2){i.enableAnalytics=true;i.aggregates=Q2;i.annotation.groupConditions=H2(P2,i.columns);i.annotation.aggregateConditions=I2(P2,i.columns);}i.control.type="GridTable";}}function T1(i,n){var o=i.getManifestWrapper();if(n&&o.getNavigationConfiguration(n)){var P2=o.getNavigationConfiguration(n);if(Object.keys(P2).length>0){return n;}}var Q2=i.getDataModelObjectPath();var R2=i.getContextPath();var S2=o.getNavigationConfiguration(R2);if(S2&&Object.keys(S2).length>0){return R2;}return Q2.targetEntitySet?Q2.targetEntitySet.name:Q2.startingEntitySet.name;}function U1(i,n){function o(P2){return n.find(function(Q2){var R2=Q2;return R2.propertyInfos===undefined&&R2.relativePath===P2;});}n.forEach(function(P2){var Q2=P2;if(Q2.propertyInfos===undefined&&Q2.relativePath){var R2=i.entityProperties.find(function($2){return $2.name===Q2.relativePath;});if(R2){var S2,T2,U2;var V2=((S2=p(R2))===null||S2===void 0?void 0:S2.name)||((T2=q(R2))===null||T2===void 0?void 0:T2.name);if(V2){var W2=o(V2);Q2.unit=W2===null||W2===void 0?void 0:W2.name;}var X2=j(R2),Y2=(U2=R2.annotations.Common)===null||U2===void 0?void 0:U2.Text;if(m(Y2)&&X2!=="Value"){var Z2=o(Y2.path);if(Z2&&Z2.name!==Q2.name){Q2.textArrangement={textProperty:Z2.name,mode:X2};}}}}});}_.updateLinkedProperties=U1;function V1(i,n,o,P2,Q2,R2){var S2=O2(i,n,o,Q2);var T2=M2(n),U2=T2.navigationPropertyPath;var V2=T1(o,U2);var W2=o.getManifestWrapper().getNavigationConfiguration(V2);var X2=Q1(i,n,o,W2);var Y2=X1(i,o);var Z2={type:t1.Table,annotation:J2(i,n,o,S2,X2,P2,R2),control:S2,actions:p1(P1(i,n,o,W2)),columns:X2,enableDataStateFilter:o.getTemplateType()==="ObjectPage",operationAvailableMap:JSON.stringify(Y2),operationAvailableProperties:Y1(Y2,o)};U1(o.getAnnotationEntityType(i),X2);S1(Z2,o.getAnnotationEntityType(i),o,P2);return Z2;}_.createTableVisualization=V1;function W1(i){var n=O2(undefined,"",i,false);var o=i2({},i.getEntityType(),[],[],i,n.type);var P2=X1(undefined,i);var Q2={type:t1.Table,annotation:J2(undefined,"",i,n,o),control:n,actions:[],columns:o,enableDataStateFilter:i.getTemplateType()==="ObjectPage",operationAvailableMap:JSON.stringify(P2),operationAvailableProperties:Y1(P2,i)};U1(i.getEntityType(),o);S1(Q2,i.getEntityType(),i);return Q2;}_.createDefaultTableVisualization=W1;function X1(i,n){var o={};var P2=function(Q2,R2){if(Q2){o[Q2]=R2;}};if(i){i.forEach(function(Q2){if(Q2.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var R2=Q2.Action;if((R2===null||R2===void 0?void 0:R2.indexOf("/"))<0&&!Q2.Determining){var S2,T2,U2;var V2=Q2.ActionTarget;if((V2===null||V2===void 0?void 0:(S2=V2.annotations)===null||S2===void 0?void 0:(T2=S2.Core)===null||T2===void 0?void 0:T2.OperationAvailable)===null){P2(R2,null);}else if(V2!==null&&V2!==void 0&&(U2=V2.parameters)!==null&&U2!==void 0&&U2.length){var W2,X2,Y2,Z2;var $2=V2.parameters[0].fullyQualifiedName,_2=e1(V2===null||V2===void 0?void 0:(W2=V2.annotations)===null||W2===void 0?void 0:(X2=W2.Core)===null||X2===void 0?void 0:X2.OperationAvailable,[],undefined,function(a3){return O(a3,n,$2);});if(_2!==null&&_2!==void 0&&_2.path){P2(R2,_2.path);}else if((V2===null||V2===void 0?void 0:(Y2=V2.annotations)===null||Y2===void 0?void 0:(Z2=Y2.Core)===null||Z2===void 0?void 0:Z2.OperationAvailable)!==undefined){P2(R2,_2);}}}}});}return o;}function Y1(o,i){var n=new Set();for(var P2 in o){var Q2=o[P2];if(Q2===null){n.add(P2);}else if(typeof Q2==="string"){n.add(Q2);}}if(n.size){var R2,S2,T2,U2,V2;var W2=i.getEntityType();var X2=(R2=W2.annotations)===null||R2===void 0?void 0:(S2=R2.UI)===null||S2===void 0?void 0:(T2=S2.HeaderInfo)===null||T2===void 0?void 0:(U2=T2.Title)===null||U2===void 0?void 0:(V2=U2.Value)===null||V2===void 0?void 0:V2.path;if(X2){n.add(X2);}}return Array.from(n).join(",");}function Z1(i,n,o,P2){var Q2=[];i.forEach(function(R2){var S2,T2;if(R2.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&R2!==null&&R2!==void 0&&(S2=R2.ActionTarget)!==null&&S2!==void 0&&S2.isBound&&n===(R2===null||R2===void 0?void 0:R2.ActionTarget.sourceEntityType)||R2.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&R2.RequiresContext&&(R2===null||R2===void 0?void 0:(T2=R2.Inline)===null||T2===void 0?void 0:T2.valueOf())!==true){var U2,V2,W2;if(typeof((U2=R2.annotations)===null||U2===void 0?void 0:(V2=U2.UI)===null||V2===void 0?void 0:(W2=V2.Hidden)===null||W2===void 0?void 0:W2.valueOf())==="object"){Q2.push(a1($1(R2,o,P2),false));}}});return Q2;}function $1(i,n,o){var P2;var Q2;if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){var R2,S2;Q2=i===null||i===void 0?void 0:(R2=i.annotations)===null||R2===void 0?void 0:(S2=R2.UI)===null||S2===void 0?void 0:S2.Hidden;}else{Q2=i===null||i===void 0?void 0:i.visible;}var T2;if((P2=Q2)!==null&&P2!==void 0&&P2.path){T2=Q2.path;}else{T2=Q2;}if(T2){if(i!==null&&i!==void 0&&i.visible){T2=T2.substring(1,T2.length-1);}if(T2.indexOf("/")>0){var U2;var V2=T2.split("/");var W2=V2[0];if((n===null||n===void 0?void 0:(U2=n.targetObject)===null||U2===void 0?void 0:U2._type)==="NavigationProperty"&&n.targetObject.partner===W2){return d1(V2.slice(1).join("/"));}else{return b1(true);}}else if(o){return d1(T2);}else{return b1(true);}}return b1(true);}function _1(i,n){return i.some(function(o){var P2,Q2,R2,S2,T2,U2,V2;if((o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(o===null||o===void 0?void 0:(P2=o.Inline)===null||P2===void 0?void 0:P2.valueOf())!==true&&(((Q2=o.annotations)===null||Q2===void 0?void 0:(R2=Q2.UI)===null||R2===void 0?void 0:(S2=R2.Hidden)===null||S2===void 0?void 0:S2.valueOf())===false||((T2=o.annotations)===null||T2===void 0?void 0:(U2=T2.UI)===null||U2===void 0?void 0:(V2=U2.Hidden)===null||V2===void 0?void 0:V2.valueOf())===undefined)){if(o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var W2;return(o===null||o===void 0?void 0:(W2=o.ActionTarget)===null||W2===void 0?void 0:W2.isBound)&&n===(o===null||o===void 0?void 0:o.ActionTarget.sourceEntityType);}else if(o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return o.RequiresContext;}}return false;});}function a2(i){return Object.keys(i).some(function(n){var o;var P2=i[n];if(P2.requiresSelection&&((o=P2.visible)===null||o===void 0?void 0:o.toString())==="true"){return true;}return false;});}function b2(i){var n=[];if(i){Object.keys(i).forEach(function(o){var P2=i[o];if(P2.requiresSelection===true&&P2.visible!==undefined){if(typeof P2.visible==="string"){var Q2;n.push(R(P2===null||P2===void 0?void 0:(Q2=P2.visible)===null||Q2===void 0?void 0:Q2.valueOf()));}}});}return n;}function c2(i){var n=F(i.getDataModelObjectPath());var o=x(i.getDataModelObjectPath());return{isDeletable:!(X(n)&&n.value===false),isUpdatable:!(X(o)&&o.value===false)};}_.getCapabilityRestriction=c2;function d2(i,n,o,P2,Q2,R2){var S2;if(!i){return w1.None;}var T2=o.getManifestControlConfiguration(n);var U2=(S2=T2.tableSettings)===null||S2===void 0?void 0:S2.selectionMode;var V2=[],W2=[];var X2=r1(o.getManifestControlConfiguration(n).actions,o,[],undefined,false);var Y2,Z2;if(o.getTemplateType()===v1.ObjectPage){Y2=F(o.getDataModelObjectPath(),undefined);Z2=Y2?c1(Y2,true):Y2;}if(U2&&U2===w1.None&&R2){return c1(Z(R2,b1("Multi"),b1("None")));}if(!U2||U2===w1.Auto){U2=w1.Multi;}if(_1(i,o.getEntityType())||a2(X2)){return U2;}V2=Z1(i,o.getEntityType(),o.getDataModelObjectPath(),P2);W2=b2(X2);if(V2.length===0&&W2.length===0){if(!P2){if(Q2.isDeletable||Z2!=="false"){return c1(Z(a1(d1("/editMode","ui"),"Editable"),b1(U2),b1(w1.None)));}else{return w1.None;}}else if(Q2.isDeletable){return U2;}else{return w1.None;}}else if(!P2){if(Q2.isDeletable||Z2!=="false"){return c1(Z(a1(d1("/editMode","ui"),"Editable"),b1(U2),Z(V.apply(void 0,I1(V2.concat(W2))),b1(U2),b1(w1.None))));}else{return c1(Z(V.apply(void 0,I1(V2.concat(W2))),b1(U2),b1(w1.None)));}}else if(Q2.isDeletable){return w1.Multi;}else{return c1(Z(V.apply(void 0,I1(V2.concat(W2))),b1(U2),b1(w1.None)));}}_.getSelectionMode=d2;function e2(i,n,o){var P2=[];var Q2=[];if(i){i.forEach(function(R2){var S2,T2,U2,V2,W2,X2,Y2,Z2,$2,_2;var a3;if(h1(R2)&&!(((S2=R2.annotations)===null||S2===void 0?void 0:(T2=S2.UI)===null||T2===void 0?void 0:(U2=T2.Hidden)===null||U2===void 0?void 0:U2.valueOf())===true)&&!R2.Inline&&!R2.Determining){var b3=J.generateKeyFromDataField(R2);switch(R2.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":a3={type:A1.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(R2.fullyQualifiedName),key:b3,visible:c1(W(a1(e1((V2=R2.annotations)===null||V2===void 0?void 0:(W2=V2.UI)===null||W2===void 0?void 0:W2.Hidden,[],undefined,o.getRelativeModelPathFunction()),true))),isNavigable:true};break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":a3={type:A1.DataFieldForIntentBasedNavigation,annotationPath:o.getEntitySetBasedAnnotationPath(R2.fullyQualifiedName),key:b3,visible:c1(W(a1(e1((X2=R2.annotations)===null||X2===void 0?void 0:(Y2=X2.UI)===null||Y2===void 0?void 0:Y2.Hidden,[],undefined,o.getRelativeModelPathFunction()),true)))};break;default:break;}}else if(((Z2=R2.annotations)===null||Z2===void 0?void 0:($2=Z2.UI)===null||$2===void 0?void 0:(_2=$2.Hidden)===null||_2===void 0?void 0:_2.valueOf())===true){Q2.push({type:A1.Default,key:J.generateKeyFromDataField(R2)});}if(a3){P2.push(a3);}});}return{tableActions:P2,hiddenTableActions:Q2};}function f2(i,n,o){var P2=H.None;if(i){if(typeof i==="object"){P2=e1(i);}else{P2=f(i);}}return Z(n&&Q.IsNewObject,H.Information,$([P2,d1("filteredMessages","internal")],t.rowHighlighting,o));}function g2(i,n,o,P2){var Q2;var R2=(P2===null||P2===void 0?void 0:P2.create)||(P2===null||P2===void 0?void 0:P2.detail);if(R2!==null&&R2!==void 0&&R2.outbound&&R2.outboundDetail&&P2!==null&&P2!==void 0&&P2.create){return{mode:"External",outbound:R2.outbound,outboundDetail:R2.outboundDetail,navigationSettings:P2};}var S2;if(i){var T2,U2,V2,W2,X2;var Y2=(T2=o.getEntitySet())===null||T2===void 0?void 0:T2.annotations;S2=(Y2===null||Y2===void 0?void 0:(U2=Y2.Common)===null||U2===void 0?void 0:(V2=U2.DraftRoot)===null||V2===void 0?void 0:V2.NewAction)||(Y2===null||Y2===void 0?void 0:(W2=Y2.Session)===null||W2===void 0?void 0:(X2=W2.StickySessionSupported)===null||X2===void 0?void 0:X2.NewAction);if(n.creationMode===y1.CreationRow&&S2){throw Error("Creation mode '".concat(y1.CreationRow,"' can not be used with a custom 'new' action (").concat(S2,")"));}if(R2!==null&&R2!==void 0&&R2.route){var Z2;return{mode:n.creationMode,append:n.createAtEnd,newAction:(Z2=S2)===null||Z2===void 0?void 0:Z2.toString(),navigateToTarget:n.creationMode===y1.NewPage?R2.route:undefined};}}if(n.creationMode===y1.NewPage){n.creationMode=y1.Inline;}return{mode:n.creationMode,append:n.createAtEnd,newAction:(Q2=S2)===null||Q2===void 0?void 0:Q2.toString()};}var h2=function(i,n,o,P2,Q2){var R2,S2;var T2=H.None;var U2=o.getEntityType();if(P2&&i){var V2,W2;S2=((V2=P2.display)===null||V2===void 0?void 0:V2.target)||((W2=P2.detail)===null||W2===void 0?void 0:W2.outbound);if(S2){R2=".handlers.onChevronPressNavigateOutBound( $controller ,'"+S2+"', ${$parameters>bindingContext})";}else if(U2){var X2;var Y2=o.getEntitySet();S2=(X2=P2.detail)===null||X2===void 0?void 0:X2.route;if(S2){var Z2,$2,_2,a3,b3,c3,d3,e3,f3,g3;T2=f2((Z2=i.annotations)===null||Z2===void 0?void 0:($2=Z2.UI)===null||$2===void 0?void 0:$2.Criticality,!!(Y2!==null&&Y2!==void 0&&(_2=Y2.annotations)!==null&&_2!==void 0&&(a3=_2.Common)!==null&&a3!==void 0&&a3.DraftRoot)||!!(Y2!==null&&Y2!==void 0&&(b3=Y2.annotations)!==null&&b3!==void 0&&(c3=b3.Common)!==null&&c3!==void 0&&c3.DraftNode),U2);R2="API.onTableRowPress($event, $controller, ${$parameters>bindingContext}, { callExtension: true, targetPath: '"+Q2+"', editable : "+(Y2!==null&&Y2!==void 0&&(d3=Y2.annotations)!==null&&d3!==void 0&&(e3=d3.Common)!==null&&e3!==void 0&&e3.DraftRoot||Y2!==null&&Y2!==void 0&&(f3=Y2.annotations)!==null&&f3!==void 0&&(g3=f3.Common)!==null&&g3!==void 0&&g3.DraftNode?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+"})";}else{var h3,i3;T2=f2((h3=i.annotations)===null||h3===void 0?void 0:(i3=h3.UI)===null||i3===void 0?void 0:i3.Criticality,false,U2);}}}var j3=$([d1("/deepestPath","internal")],t.navigatedRow,U2);return{press:R2,action:R2?"Navigation":undefined,rowHighlighting:c1(T2),rowNavigated:c1(j3)};};var i2=function(i,n){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var P2=arguments.length>3?arguments[3]:undefined;var Q2=arguments.length>4?arguments[4]:undefined;var R2=arguments.length>5?arguments[5]:undefined;var S2=[];var T2=new k(n,Q2);n.entityProperties.forEach(function(U2){var V2=o.some(function(a3){return a3.name===U2.name;});if(!U2.targetType&&!V2){var W2=m1(U2.name,U2,Q2,true,R2);var X2=Object.keys(W2.properties);var Y2=Object.keys(W2.additionalProperties);var Z2=j2(U2,Q2.getEntitySetBasedAnnotationPath(U2.fullyQualifiedName),U2.name,true,true,P2,T2,Q2);var $2=Q2.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[Q2.getEntityType()])[0];var _2=t2(Z2.name,$2);if(Object.keys(_2).length>0){Z2.formatOptions=G1({},_2);}if(X2.length>0){Z2.propertyInfos=X2;Z2.exportSettings=G1(G1({},Z2.exportSettings),{},{template:W2.exportSettingsTemplate,wrap:W2.exportSettingsWrapping});X2.forEach(function(a3){i[a3]=W2.properties[a3];});}if(Y2.length>0){Z2.additionalPropertyInfos=Y2;Y2.forEach(function(a3){i[a3]=W2.additionalProperties[a3];});}S2.push(Z2);}});return S2;};_.getColumnsFromEntityType=i2;var j2=function(i,n,o,P2,Q2,R2,S2,T2){var U2,V2,W2,X2,Y2,Z2,$2,_2,a3;var b3=P2?o:"Property::"+o;var c3=(P2?"DataField::":"Property::")+w(o);var d3=j1(T2,i);var e3=((U2=i.annotations)===null||U2===void 0?void 0:(V2=U2.UI)===null||V2===void 0?void 0:(W2=V2.Hidden)===null||W2===void 0?void 0:W2.valueOf())===true;var f3=i.name?p2(i.name,true,false):undefined;var g3=f3!=i.name;var h3=b3.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1;var i3=K2(i.type);var j3=i.type==="Edm.Date"?"YYYY-MM-DD":undefined;var k3=k1(i);var l3=!h3?h(i,k3):undefined;var m3=!h3?{className:i.type||k3,oFormatOptions:l3.formatOptions,oConstraints:l3.constraints}:undefined;var n3=h3?{template:l(i)}:{type:i3,inputFormat:j3,scale:i.scale,delimiter:i.type==="Edm.Int64"?true:false,trueValue:i.type==="Edm.Boolean"?"Yes":undefined,falseValue:i.type==="Edm.Boolean"?"No":undefined};return{key:c3,isGroupable:!h3&&!e3?S2.isPropertyGroupable(i):false,type:O1.Annotation,label:l2(i,g3),groupLabel:g3?l2(i):null,group:g3?f3:null,annotationPath:n,semanticObjectPath:d3,availability:!Q2||e3||h3?z1.Hidden:z1.Adaptation,name:b3,relativePath:h3?((X2=i.annotations)===null||X2===void 0?void 0:(Y2=X2.UI)===null||Y2===void 0?void 0:(Z2=Y2.DataFieldDefault)===null||Z2===void 0?void 0:($2=Z2.Target)===null||$2===void 0?void 0:(_2=$2.$target)===null||_2===void 0?void 0:(a3=_2.Value)===null||a3===void 0?void 0:a3.path)||i.Value.path:o,sortable:!e3&&R2.indexOf(o)===-1&&!h3,isKey:i.isKey,isDataPointFakeTargetProperty:h3,exportSettings:n3,caseSensitive:r2(T2),typeConfig:m3,visualSettings:h3?{widthCalculation:null}:undefined};};var k2=function(i){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!i.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":return false;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};var l2=function(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!i){return undefined;}if(r(i)){var o,P2,Q2,R2,S2;var T2=(o=i.annotations)===null||o===void 0?void 0:(P2=o.UI)===null||P2===void 0?void 0:P2.DataFieldDefault;if(T2&&!T2.qualifier&&(Q2=T2.Label)!==null&&Q2!==void 0&&Q2.valueOf()){var U2;return c1(e1((U2=T2.Label)===null||U2===void 0?void 0:U2.valueOf()));}return c1(e1(((R2=i.annotations.Common)===null||R2===void 0?void 0:(S2=R2.Label)===null||S2===void 0?void 0:S2.valueOf())||i.name));}else if(g1(i)){var V2,W2,X2,Y2,Z2,$2,_2,a3;if(!!n&&i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var b3;return c1(e1((b3=i.Label)===null||b3===void 0?void 0:b3.valueOf()));}return c1(e1(((V2=i.Label)===null||V2===void 0?void 0:V2.valueOf())||((W2=i.Value)===null||W2===void 0?void 0:(X2=W2.$target)===null||X2===void 0?void 0:(Y2=X2.annotations)===null||Y2===void 0?void 0:(Z2=Y2.Common)===null||Z2===void 0?void 0:($2=Z2.Label)===null||$2===void 0?void 0:$2.valueOf())||((_2=i.Value)===null||_2===void 0?void 0:(a3=_2.$target)===null||a3===void 0?void 0:a3.name)));}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var c3,d3,e3,f3,g3,h3,i3,j3;return c1(e1(((c3=i.Label)===null||c3===void 0?void 0:c3.valueOf())||((d3=i.Target)===null||d3===void 0?void 0:(e3=d3.$target)===null||e3===void 0?void 0:(f3=e3.Value)===null||f3===void 0?void 0:(g3=f3.$target)===null||g3===void 0?void 0:(h3=g3.annotations)===null||h3===void 0?void 0:(i3=h3.Common)===null||i3===void 0?void 0:(j3=i3.Label)===null||j3===void 0?void 0:j3.valueOf())));}else{var k3;return c1(e1((k3=i.Label)===null||k3===void 0?void 0:k3.valueOf()));}};var m2=function(i,n,o,P2,Q2){var R2=[];var S2={};var T2=new k(Q2,P2);Object.keys(i).forEach(function(U2){var V2=i[U2],W2=P2.getAbsoluteAnnotationPath(U2),X2=n.find(function(Z2){return Z2.name===U2;});if(X2===undefined){R2.push(j2(V2,W2,U2,true,false,o,T2,P2));}else if(X2.annotationPath!==W2||X2.propertyInfos&&X2.propertyInfos.indexOf(U2)!==-1){var Y2="Property::"+U2;if(!n.some(function(Z2){return Z2.name===Y2;})){R2.push(j2(V2,W2,U2,false,false,o,T2,P2));S2[U2]=Y2;}}});n.forEach(function(U2){var V2,W2;U2.propertyInfos=(V2=U2.propertyInfos)===null||V2===void 0?void 0:V2.map(function(X2){var Y2;return(Y2=S2[X2])!==null&&Y2!==void 0?Y2:X2;});U2.additionalPropertyInfos=(W2=U2.additionalPropertyInfos)===null||W2===void 0?void 0:W2.map(function(X2){var Y2;return(Y2=S2[X2])!==null&&Y2!==void 0?Y2:X2;});});return R2;};var n2=function(i){var n,o,P2;if(g1(i)){var Q2;return(Q2=i.Value)===null||Q2===void 0?void 0:Q2.path;}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(n=i.Target)!==null&&n!==void 0&&(o=n.$target)!==null&&o!==void 0&&(P2=o.Value)!==null&&P2!==void 0&&P2.path){var R2,S2;return(R2=i.Target)===null||R2===void 0?void 0:(S2=R2.$target)===null||S2===void 0?void 0:S2.Value.path;}else{return J.generateKeyFromDataField(i);}};var o2=function(i){var n,o;var P2="";switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":P2=i===null||i===void 0?void 0:(n=i.Value)===null||n===void 0?void 0:n.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":P2=i===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:o.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":P2=J.generateKeyFromDataField(i);break;}return P2;};var p2=function(i,n,o){var P2=n?i.lastIndexOf("/"):i.indexOf("/");if(P2===-1){return i;}return o?i.substring(P2+1,i.length):i.substring(0,P2);};var q2=function(i,n,o){var P2=false;if(o.indexOf(n)===-1){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":P2=true;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":P2=false;break;}}return P2;};var r2=function(i){var n,o,P2,Q2,R2;var S2=((n=i.getEntitySet())===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(P2=o.Capabilities)===null||P2===void 0?void 0:P2.FilterFunctions)||((Q2=i.getEntityContainer().annotations)===null||Q2===void 0?void 0:(R2=Q2.Capabilities)===null||R2===void 0?void 0:R2.FilterFunctions);return Array.isArray(S2)?S2.indexOf("tolower")===-1:true;};_.isFilteringCaseSensitive=r2;function s2(){return{textLinesEdit:4};}function t2(n,o){var P2=false;var Q2=[];if(!o){return{};}for(var i=0;i<o.length;i++){Q2.push(o[i].value);if(o[i].value===n){P2=true;}}if(P2){return{hasDraftIndicator:true,semantickeys:Q2};}else{return{};}}var u2=function(i,n,o){var P2;var Q2=o.getAnnotationEntityType(i),R2=[],S2={},T2=g(o.getEntitySet()),U2=o.getManifestControlConfiguration(n),V2=(U2===null||U2===void 0?void 0:(P2=U2.tableSettings)===null||P2===void 0?void 0:P2.type)||"ResponsiveTable";var W2=o.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[o.getEntityType()])[0];if(i){i.forEach(function(Z2){var $2,_2,a3,b3,c3;if(!k2(Z2)){return;}var d3=g1(Z2)&&($2=Z2.Value)!==null&&$2!==void 0&&(_2=$2.$target)!==null&&_2!==void 0&&_2.fullyQualifiedName?j1(o,Z2):undefined;var e3=o2(Z2);var f3=l1(Z2,o,V2);var g3=Object.keys(f3.properties);var h3=Object.keys(f3.additionalProperties);var i3=p2(e3,true,false);var j3=i3!=e3;var k3=l2(Z2,j3);var l3=n2(Z2);var m3=k1(Z2);var n3=m3==="Edm.Date"?"YYYY-MM-DD":undefined;var o3=G1(G1({},s2()),t2(l3,W2));var p3={template:f3.exportSettingsTemplate,wrap:f3.exportSettingsWrapping,type:m3?K2(m3,g3.length>1):undefined,inputFormat:n3,delimiter:m3==="Edm.Int64"?true:false,trueValue:m3==="Edm.Boolean"?"Yes":undefined,falseValue:m3==="Edm.Boolean"?"No":undefined};var q3=m3&&h(Z2,m3);var r3=q3?{className:m3,oFormatOptions:G1(G1({},o3),q3.formatOptions),oConstraints:q3.constraints}:undefined;var s3={};if(f3.visualSettingsToBeExcluded){s3={widthCalculation:{excludeProperties:"Property::"+f3.visualSettingsToBeExcluded}};}else if(!m3||!r3){s3.widthCalculation=null;}R2.push({key:J.generateKeyFromDataField(Z2),type:O1.Annotation,label:k3,groupLabel:j3?l2(Z2):null,group:j3?i3:null,annotationPath:o.getEntitySetBasedAnnotationPath(Z2.fullyQualifiedName),semanticObjectPath:d3,availability:i1(Z2)?z1.Hidden:z1.Default,name:l3,relativePath:e3,sortable:q2(Z2,e3,T2),propertyInfos:g3.length>0?g3:undefined,additionalPropertyInfos:h3.length>0?h3:undefined,exportSettings:p3,width:((a3=Z2.annotations)===null||a3===void 0?void 0:(b3=a3.HTML5)===null||b3===void 0?void 0:(c3=b3.CssDefaults)===null||c3===void 0?void 0:c3.width)||undefined,isNavigable:true,formatOptions:o3,exportContactProperty:f3.exportSettingsContactProperty,caseSensitive:r2(o),typeConfig:r3,visualSettings:s3});g3.forEach(function(l3){S2[l3]=f3.properties[l3];});h3.forEach(function(l3){S2[l3]=f3.additionalProperties[l3];});});}var X2=i2(S2,Q2,R2,T2,o,V2);X2=X2.concat(R2);var Y2=m2(S2,X2,T2,o,Q2);X2=X2.concat(Y2);return X2;};var v2=function(i,n,o,P2){var Q2;if(i){Q2=i.map(function(R2){var S2=n.find(function(S2){return S2.relativePath===R2&&S2.propertyInfos===undefined;});if(S2){return S2.name;}else{var T2=m2(H1({},R2,P2.resolvePath(R2)),n,[],o,P2);n.push(T2[0]);return T2[0].name;}});}return Q2;};var w2=function(i){return i.map(function(n){return"{".concat(i.indexOf(n),"}");}).join("\n");};var x2=function(i,n,o){if(i===undefined){return o?undefined:n;}return i;};var y2=function(i,n,o,P2,Q2){var R2={};var S2=function(T2){var U2;var V2=i[T2];var W2=n.some(function(Y2){return Y2.key===T2;});J.validateKey(T2);var X2=v2(V2.properties,n,o,P2);R2[T2]={key:T2,id:"CustomColumn::"+T2,name:"CustomColumn::"+T2,header:V2.header,width:V2.width||undefined,horizontalAlign:x2(V2===null||V2===void 0?void 0:V2.horizontalAlign,x1.Begin,W2),type:V2.type==="Slot"?O1.Slot:O1.Default,availability:x2(V2===null||V2===void 0?void 0:V2.availability,z1.Default,W2),template:V2.template||"undefined",position:{anchor:(U2=V2.position)===null||U2===void 0?void 0:U2.anchor,placement:V2.position===undefined?n1.After:V2.position.placement},isNavigable:W2?undefined:q1(V2,Q2,true),settings:V2.settings,sortable:false,propertyInfos:X2,formatOptions:G1(G1({},s2()),V2.formatOptions),exportSettings:{template:X2?w2(X2):undefined,fieldLabel:X2?V2.header:undefined,wrap:X2&&X2.length>1?true:false},caseSensitive:r2(o)};};for(var T2 in i){S2(T2);}return R2;};function z2(i,n,o){var P2;var Q2=n.getManifestWrapper();var R2=n.getManifestControlConfiguration(i);var S2=Q2.getVariantManagement();var T2=[];var U2=o.type==="AnalyticalTable";if((R2===null||R2===void 0?void 0:(P2=R2.tableSettings)===null||P2===void 0?void 0:P2.personalization)!==undefined){var V2=R2.tableSettings.personalization;if(V2===true){return U2?"Sort,Column,Filter,Group,Aggregate":"Sort,Column,Filter";}else if(typeof V2==="object"){if(V2.sort){T2.push("Sort");}if(V2.column){T2.push("Column");}if(V2.filter){T2.push("Filter");}if(V2.group&&U2){T2.push("Group");}if(V2.aggregate&&U2){T2.push("Aggregate");}return T2.length>0?T2.join(","):undefined;}}else{T2.push("Sort");T2.push("Column");if(S2===u1.Control){T2.push("Filter");}if(U2){T2.push("Group");T2.push("Aggregate");}return T2.join(",");}return undefined;}_.getP13nMode=z2;function A2(i,n,o,P2){var Q2,R2,S2,T2,U2,V2,W2,X2,Y2,Z2,$2,_2,a3,b3,c3;var d3=i.getEntitySet();var e3=i.getDataModelObjectPath();var f3=e3.navigationProperties.map(function(o3){return o3.name;});var g3=d3?e1((d3===null||d3===void 0?void 0:(Q2=d3.annotations.UI)===null||Q2===void 0?void 0:Q2.DeleteHidden)||false,f3,undefined,function(o3){return N(o3,i,f3);}):b1(false);var h3=c1(g3);var i3,j3;if(i.getTemplateType()===v1.ObjectPage){i3=F(i.getDataModelObjectPath(),n);j3=i3?c1(i3):i3;}var k3=(R2=i.getDataModelObjectPath().startingEntitySet)!==null&&R2!==void 0&&(S2=R2.annotations)!==null&&S2!==void 0&&(T2=S2.Session)!==null&&T2!==void 0&&T2.StickySessionSupported?true:false;var l3=d3&&(U2=d3.annotations)!==null&&U2!==void 0&&(V2=U2.Common)!==null&&V2!==void 0&&V2.DraftRoot?true:false;var m3=d3&&(W2=d3.annotations)!==null&&W2!==void 0&&(X2=W2.Common)!==null&&X2!==void 0&&X2.DraftNode?true:false;var n3=(Y2=i.getDataModelObjectPath().targetObject)!==null&&Y2!==void 0&&Y2.containsTarget&&((Z2=i.getDataModelObjectPath().startingEntitySet)!==null&&Z2!==void 0&&($2=Z2.annotations)!==null&&$2!==void 0&&(_2=$2.Common)!==null&&_2!==void 0&&_2.DraftRoot||(a3=i.getDataModelObjectPath().startingEntitySet)!==null&&a3!==void 0&&(b3=a3.annotations)!==null&&b3!==void 0&&(c3=b3.Common)!==null&&c3!==void 0&&c3.DraftNode)?true:false;if(l3||m3||k3||!i.getEntitySet()&&n3){if(j3==="false"){return b1(false);}else if(j3&&h3!=="true"){if(h3&&h3!=="false"){return f1(a1(d1("/editMode","ui"),"Editable"),W(g3));}else{return a1(d1("/editMode","ui"),"Editable");}}else if(h3==="true"||!o||P2&&i.getManifestWrapper().hasMultipleVisualizations(P2)||i.getTemplateType()===v1.AnalyticalListPage){return b1(false);}else if(i.getTemplateType()!==v1.ListReport){if(h3&&h3==="false"){return f1(a1(d1("/editMode","ui"),"Editable"),W(g3));}else{return a1(d1("/editMode","ui"),"Editable");}}else if(Y(g3)){return W(g3);}else{return b1(true);}}else{return b1(false);}}_.getDeleteVisible=A2;function B2(i,n){if(n){var o=x(i.getDataModelObjectPath(),undefined,true);if(o!==null&&o!==void 0&&o.currentEntityRestriction){return false;}var P2=c1(o);return o?"{= %{internal>numberOfSelectedContexts} >= 2 && "+c1(o,P2)+"}":false;}return false;}_.getEnablementMassEdit=B2;function C2(i,n,o,P2){var Q2,R2;var S2=i.getEntitySet(),T2=S2&&(S2===null||S2===void 0?void 0:(Q2=S2.annotations.UI)===null||Q2===void 0?void 0:(R2=Q2.UpdateHidden)===null||R2===void 0?void 0:R2.valueOf()),U2=(n===null||n===void 0?void 0:n.enableMassEdit)||false,V2=n===null||n===void 0?void 0:n.selectionLimit;var W2=true;if(P2&&P2==="Single"||V2&&V2<2){W2=false;}else if(P2&&(P2==="Auto"||P2==="None")){W2=true;}if((o===null||o===void 0?void 0:o.isUpdatable)!==false&&W2&&U2){if(T2&&typeof T2==="boolean"){return!T2&&i.getTemplateType()===v1.ObjectPage?c1(L.IsEditable):false;}else if(T2&&T2!==null&&T2!==void 0&&T2.path){return i.getTemplateType()===v1.ObjectPage?c1(f1(a1(L.IsEditable,true),a1(e1(T2),false))):false;}return i.getTemplateType()===v1.ObjectPage?c1(L.IsEditable):false;}return false;}_.getVisibilityMassEdit=C2;function D2(i,n,o,P2){var Q2,R2,S2,T2,U2,V2,W2;var X2=i.getEntitySet();var Y2=i.getDataModelObjectPath();var Z2=Y2.navigationProperties.map(function(b3){return b3.name;});var $2=X2?e1((X2===null||X2===void 0?void 0:(Q2=X2.annotations.UI)===null||Q2===void 0?void 0:Q2.CreateHidden)||false,Z2,undefined,function(b3){return N(b3,i,Z2);}):b1(false);var _2=X2===null||X2===void 0?void 0:(R2=X2.annotations.Common)===null||R2===void 0?void 0:(S2=R2.DraftRoot)===null||S2===void 0?void 0:(T2=S2.NewAction)===null||T2===void 0?void 0:T2.toString();var a3=_2?e1(i===null||i===void 0?void 0:(U2=i.getEntityType().actions[_2].annotations)===null||U2===void 0?void 0:(V2=U2.Core)===null||V2===void 0?void 0:(W2=V2.OperationAvailable)===null||W2===void 0?void 0:W2.valueOf(),[],true,function(b3){return N(b3,i,[]);}):undefined;return Z(V(V(a1(a3,false),f1(X(o),a1(o,false),a1(a3,undefined))),X($2)&&a1($2,true),V(P2?i.getManifestWrapper().hasMultipleVisualizations(P2):false,i.getTemplateType()===v1.AnalyticalListPage)),false,Z(n==="External",true,Z(i.getTemplateType()===v1.ListReport,Z(Y($2),W($2),true),f1(W($2),L.IsEditable))));}_.getCreateVisible=D2;function E2(i,n,o,P2,Q2){return Z(P2&&a1(D2(i,n.mode,o,Q2),true),i.getTemplateType()===v1.ObjectPage&&o,false);}_.getPasteEnabled=E2;function F2(i,n,o){var P2=g(i.getEntitySet());var Q2;if(n!==null&&n!==void 0&&n.SortOrder){var R2=[];var S2={sorters:R2};n.SortOrder.forEach(function(T2){var U2;var V2=T2.Property;if(V2&&P2.indexOf((U2=V2.$target)===null||U2===void 0?void 0:U2.name)===-1){var W2=G2([V2],o)[0];if(W2){S2.sorters.push({name:W2,descending:!!T2.Descending});}}});Q2=S2.sorters.length?JSON.stringify(S2):undefined;}return Q2;}function G2(i,n){var o=[];i.forEach(function(P2){var Q2;if(P2!==null&&P2!==void 0&&(Q2=P2.$target)!==null&&Q2!==void 0&&Q2.name){var R2=n.find(function(S2){var T2;var U2=S2;return!U2.propertyInfos&&U2.relativePath===(P2===null||P2===void 0?void 0:(T2=P2.$target)===null||T2===void 0?void 0:T2.name);});if(R2){o.push(R2.name);}}});return o;}function H2(i,n){var o;if(i!==null&&i!==void 0&&i.GroupBy){var P2=i.GroupBy;var Q2=G2(P2,n).map(function(R2){return{name:R2};});o=Q2.length?JSON.stringify({groupLevels:Q2}):undefined;}return o;}function I2(i,n){var o;if(i!==null&&i!==void 0&&i.Total){var P2=i.Total;var Q2={};G2(P2,n).forEach(function(R2){Q2[R2]={};});o=JSON.stringify(Q2);}return o;}function J2(i,n,o,P2,Q2,R2,S2){var T2,U2,V2;var W2=M2(n),X2=W2.navigationPropertyPath;var Y2=(T2=o.getDataModelObjectPath().targetEntityType.annotations)===null||T2===void 0?void 0:(U2=T2.UI)===null||U2===void 0?void 0:(V2=U2.HeaderInfo)===null||V2===void 0?void 0:V2.TypeNamePlural;var Z2=o.getDataModelObjectPath().targetEntitySet;var $2=o.getManifestWrapper();var _2=X2.length===0,a3=z2(n,o,P2),id=X2?s1(n):s1(o.getContextPath(),"LineItem");var c3=c2(o);var d3=A2(o,X2,c3.isDeletable,S2);var e3=d2(i,n,o,_2,c3,d3);var f3=X2?10:30;if(R2!==null&&R2!==void 0&&R2.MaxItems){f3=R2.MaxItems.valueOf();}var g3=T1(o,X2);var h3=$2.getNavigationConfiguration(g3);var i3=g2(i,P2,o,h3);var j3,k3;if(o.getTemplateType()===v1.ObjectPage){var l3;j3=F(o.getDataModelObjectPath(),undefined,true);if((l3=j3)!==null&&l3!==void 0&&l3.currentEntityRestriction){k3=undefined;}else{k3=j3?c1(j3,true):j3;}}var m3=o.getDataModelObjectPath();var n3=y(m3);var o3=$2.getVariantManagement();var p3=C2(o,P2,c3,e3);var q3=z(o.getDataModelObjectPath());return{id:id,entityName:Z2?Z2.name:"",collection:G(o.getDataModelObjectPath()),navigationPath:X2,row:h2(i,n,o,h3,g3),p13nMode:a3,show:{"delete":c1(d3),create:c1(D2(o,i3===null||i3===void 0?void 0:i3.mode,n3)),paste:c1(E2(o,i3,n3,P2.enablePaste,S2)),massEdit:{visible:p3,enabled:B2(o,p3)}},displayMode:L2(o,S2),create:i3,selectionMode:e3,autoBindOnInit:o.getTemplateType()!==v1.ListReport&&o.getTemplateType()!==v1.AnalyticalListPage&&!(S2&&o.getManifestWrapper().hasMultipleVisualizations(S2)),variantManagement:o3==="Control"&&!a3?u1.None:o3,threshold:f3,sortConditions:F2(o,R2,Q2),parentEntityDeleteEnabled:k3,title:Y2,searchable:P2.type!=="AnalyticalTable"&&!(X(q3)&&q3.value===false)};}_.getTableAnnotationConfiguration=J2;function K2(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o="String";if(n){return o;}else{switch(i){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":o="Number";break;case"Edm.DateOfTime":case"Edm.Date":o="Date";break;case"Edm.DateTimeOffset":o="DateTime";break;case"Edm.TimeOfDay":o="Time";break;case"Edm.Boolean":o="Boolean";break;default:o="String";}}return o;}function L2(i,n){var o=i.getTemplateType();if(o===v1.ListReport||o===v1.AnalyticalListPage||n&&i.getManifestWrapper().hasMultipleVisualizations(n)){return true;}return false;}function M2(i){var n=i.split("@"),o=B1(n,2),P2=o[0],Q2=o[1];if(P2.lastIndexOf("/")===P2.length-1){P2=P2.substr(0,P2.length-1);}return{navigationPropertyPath:P2,annotationPath:Q2};}_.splitPath=M2;function N2(i,n){var o=n.getEntityTypeAnnotation(i);var P2=o.annotation;if(P2){var Q2,R2;var S2=[];(Q2=P2.SelectOptions)===null||Q2===void 0?void 0:Q2.forEach(function(T2){var U2=T2.PropertyName;var V2=U2.value;if(S2.indexOf(V2)===-1){S2.push(V2);}});return{text:P2===null||P2===void 0?void 0:(R2=P2.Text)===null||R2===void 0?void 0:R2.toString(),propertyNames:S2};}return undefined;}_.getSelectionVariantConfiguration=N2;function O2(i,n,o){var P2,Q2;var R2=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var S2=o.getManifestControlConfiguration(n);var T2=S2&&S2.tableSettings||{};var U2;var V2=[];var W2=true;var X2=y1.NewPage;var Y2;var Z2=true;var $2=false;var _2;var a3=false;var b3=false;var c3="ResponsiveTable";var d3=false;var e3=200;var f3;var g3=true;var h3=o.getTemplateType()==="ObjectPage";var i3=R2&&o.getManifestWrapper().isCondensedLayoutCompliant();var j3=o.getEntityType();var k3=new k(j3,o);if(i){var l3,m3,n3,o3,p3,q3,r3,s3;var t3=o.getAnnotationEntityType(i);T2===null||T2===void 0?void 0:(l3=T2.quickVariantSelection)===null||l3===void 0?void 0:(m3=l3.paths)===null||m3===void 0?void 0:m3.forEach(function(u3){var v3;U2=t3.resolvePath("@"+u3.annotationPath);if(U2){V2.push({annotationPath:u3.annotationPath});}Y2={quickFilters:{enabled:o.getTemplateType()===v1.ListReport?"{= ${pageInternal>hasPendingFilters} !== true}":true,showCounts:T2===null||T2===void 0?void 0:(v3=T2.quickVariantSelection)===null||v3===void 0?void 0:v3.showCounts,paths:V2}};});X2=((n3=T2.creationMode)===null||n3===void 0?void 0:n3.name)||X2;Z2=((o3=T2.creationMode)===null||o3===void 0?void 0:o3.createAtEnd)!==undefined?(p3=T2.creationMode)===null||p3===void 0?void 0:p3.createAtEnd:true;_2=(q3=T2.creationMode)===null||q3===void 0?void 0:q3.customValidationFunction;$2=!_2?!!((r3=T2.creationMode)!==null&&r3!==void 0&&r3.disableAddRowButtonForEmptyData):false;a3=T2.condensedTableLayout!==undefined?T2.condensedTableLayout:false;b3=!!((s3=T2.quickVariantSelection)!==null&&s3!==void 0&&s3.hideTableTitle);c3=(T2===null||T2===void 0?void 0:T2.type)||"ResponsiveTable";if(o.getTemplateType()!=="ObjectPage"){if((T2===null||T2===void 0?void 0:T2.type)==="AnalyticalTable"&&!k3.isAnalyticsSupported()){c3="GridTable";}if(!(T2!==null&&T2!==void 0&&T2.type)){if(o.getManifestWrapper().isDesktop()&&k3.isAnalyticsSupported()){c3="AnalyticalTable";}else{c3="ResponsiveTable";}}}d3=T2.enableFullScreen||false;if(d3===true&&o.getTemplateType()===v1.ListReport){d3=false;o.getDiagnostics().addIssue(v.Manifest,u.Low,s.FULLSCREENMODE_NOT_ON_LISTREPORT);}e3=T2.selectAll===true||T2.selectionLimit===0?0:T2.selectionLimit||200;if(c3==="ResponsiveTable"){if(o.getTemplateType()===v1.ListReport||o.getTemplateType()===v1.AnalyticalListPage){f3=!!T2.selectAll?"Default":"ClearAll";}if(o.getTemplateType()===v1.ObjectPage){if(o.getManifestWrapper().useIconTabBar()){f3=!!T2.selectAll?"Default":"ClearAll";}else{f3=T2.selectAll===false?"ClearAll":"Default";}}}h3=o.getTemplateType()==="ObjectPage"&&T2.enablePaste!==false;W2=T2.enableExport!==undefined?T2.enableExport:o.getTemplateType()!=="ObjectPage"||h3;}return{filters:Y2,type:c3,enableFullScreen:d3,headerVisible:!(U2&&b3),enableExport:W2,creationMode:X2,createAtEnd:Z2,disableAddRowButtonForEmptyData:$2,customValidationFunction:_2,useCondensedTableLayout:a3&&i3,selectionLimit:e3,multiSelectMode:f3,enablePaste:h3,showRowCount:!(T2!==null&&T2!==void 0&&(P2=T2.quickVariantSelection)!==null&&P2!==void 0&&P2.showCounts)&&!((Q2=o.getManifestWrapper().getViewConfiguration())!==null&&Q2!==void 0&&Q2.showCounts),enableMassEdit:T2===null||T2===void 0?void 0:T2.enableMassEdit,enableAutoColumnWidth:g3};}_.getTableManifestConfiguration=O2;return _;},false);
