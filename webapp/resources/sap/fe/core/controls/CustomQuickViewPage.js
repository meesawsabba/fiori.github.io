/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/m/QuickViewPage","sap/m/Button","sap/fe/core/CommonUtils","sap/fe/macros/DelegateUtil"],function(Q,B,C,D){"use strict";return Q.extend("sap.fe.core.controls.CustomQuickViewPage",{metadata:{defaultAggregation:"groups",aggregations:{customContent:{type:"sap.ui.core.Control",multiple:true,bindable:"bindable"},groups:{type:"sap.m.QuickViewGroup",multiple:true,singularName:"group",bindable:"bindable"}},publicMethods:[]},renderer:{},onAfterRendering:function(){Q.prototype.onAfterRendering.apply(this,arguments);},onBeforeRendering:function(){if(this.getParent()&&this.getParent().isA("sap.fe.core.controls.ConditionalWrapper")&&this.getParent().getProperty("condition")===true){this.setCrossAppNavCallback(function(){var q=D.getCustomData(this,"titleLink");var v=sap.ui.fl.Utils.getViewForControl(this);var a=C.getAppComponent(v);var s=a.getShellServices();var S=s.parseShellHash(q);var n={target:{semanticObject:S.semanticObject,action:S.action},params:S.params};var b=n.target.semanticObject+"-"+n.target.action;if(b&&this.oCrossAppNavigator&&this.oCrossAppNavigator.isNavigationSupported([b])){if(b&&b!==""){if(typeof b==="string"&&b!==""){var t;var l=this.getParent();while(l&&!l.isA("sap.ui.mdc.Link")){l=l.getParent();}var c=l.getModel("$sapuimdcLink").getProperty("/linkItems");if(c){if(c.length>0){for(var i=0;i<c.length;i++){if(c[i].key===b){t=c[i].href;break;}}if(t){S=s.parseShellHash(t);}else{S=s.parseShellHash(b);}}}else{S=s.parseShellHash(b);}C.storeControlRefreshStrategyForHash(v,S);return{target:{semanticObject:S.semanticObject,action:S.action},params:S.params};}}}else{var o=s.parseShellHash(window.location.hash);C.storeControlRefreshStrategyForHash(v,o);return{target:{semanticObject:o.semanticObject,action:o.action,appSpecificRoute:o.appSpecificRoute},params:o.params};}}.bind(this));}Q.prototype.onBeforeRendering.apply(this,arguments);var p=this.getPageContent();var f=p.form;if(f){var _=this.getAggregation("customContent");if(_&&_.length>0){_.forEach(function(a){var b=a.clone();b.setModel(this.getModel());b.setBindingContext(this.getBindingContext());f.addContent(b);}.bind(this));setTimeout(function(){f.rerender();},0);}}}});});
