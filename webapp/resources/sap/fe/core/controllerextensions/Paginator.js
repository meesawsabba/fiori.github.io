/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/json/JSONModel"],function(C,O,J){"use strict";return C.extend("sap.fe.core.controllerextensions.Paginator",{metadata:{methods:{initialize:{"final":true,"public":true},updateCurrentContext:{"final":true,"public":true},onContextUpdate:{"final":false,"public":true,overrideExecution:O.After}}},initialize:function(b,c){if(b&&b.getCurrentContexts){this._oListBinding=b;}if(c){this._oCurrentContext=c;}this._updateCurrentIndexAndButtonEnablement();},_updateCurrentIndexAndButtonEnablement:function(){var t=this;if(this._oCurrentContext&&this._oListBinding){var p=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getCurrentContexts().findIndex(function(o){return o&&o.getPath()===p;});var c=this._oListBinding.getCurrentContexts()[this._iCurrentIndex];if((!this._iCurrentIndex&&this._iCurrentIndex!==0)||!c||this._oCurrentContext.getPath()!==c.getPath()){t._updateCurrentIndex();}t._handleButtonEnablement();}},_handleButtonEnablement:function(){var t=this;var b=t.base.getView().getModel("paginator");if(this._oListBinding&&this._oListBinding.getCurrentContexts().length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getCurrentContexts().length-1){b.setProperty("/navDownEnabled",false);}else{b.setProperty("/navDownEnabled",true);}if(this._iCurrentIndex===0){b.setProperty("/navUpEnabled",false);}else{b.setProperty("/navUpEnabled",true);}}else{b.setProperty("/navUpEnabled",false);b.setProperty("/navDownEnabled",false);}},_updateCurrentIndex:function(){if(this._oCurrentContext&&this._oListBinding){var p=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getCurrentContexts().findIndex(function(c){return c&&c.getPath()===p;});}},updateCurrentContext:function(i){var t=this;if(!this._oListBinding){return;}var c=this._oListBinding.getCurrentContexts();var n=this._iCurrentIndex+i;if(c[n]){this._iCurrentIndex=n;t.onContextUpdate(c[n]);}t._handleButtonEnablement();},onContextUpdate:function(c){},override:{onInit:function(){this._oView=this.base.getView();this._oView.setModel(new J({navUpEnabled:false,navDownEnabled:false}),"paginator");}}});});
