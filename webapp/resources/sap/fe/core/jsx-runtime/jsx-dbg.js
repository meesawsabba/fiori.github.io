/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define([], function () {
  "use strict";

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  var writeChildren = function (val) {
    if (Array.isArray(val)) {
      return val.join("");
    } else {
      return val;
    }
  };

  var addChildAggregation = function (aggregationChildren, aggregationName, child) {
    if (child === undefined) {
      return;
    }

    if (!aggregationChildren[aggregationName]) {
      aggregationChildren[aggregationName] = [];
    }

    if (typeof child === "string" && child.trim().length > 0) {
      aggregationChildren[aggregationName].push(child);
    } else if (Array.isArray(child)) {
      child.forEach(function (subChild) {
        addChildAggregation(aggregationChildren, aggregationName, subChild);
      });
    } else {
      Object.keys(child).forEach(function (childKey) {
        addChildAggregation(aggregationChildren, childKey, child[childKey]);
      });
    }
  };

  var jsx = function (type, mSettings) {
    var metadata = type.getMetadata();
    var namesSplit = metadata.getName().split(".");
    var metadataProperties = metadata.getAllProperties();
    var metadataAggregations = metadata.getAllAggregations();
    var namespace = namesSplit.slice(0, -1);
    var name = namesSplit[namesSplit.length - 1];
    var namespaceAlias = namespace[namespace.length - 1];
    var tagName = "".concat(namespaceAlias, ":").concat(name);
    var propertiesString = [];
    var aggregationString = [];
    var defaultAggregationName = metadata.getDefaultAggregationName();
    Object.keys(metadataProperties).forEach(function (propertyName) {
      if (mSettings.hasOwnProperty(propertyName)) {
        propertiesString.push("".concat(propertyName, "=\"").concat(mSettings[propertyName], "\""));
      }
    });

    var aggregationChildren = _defineProperty({}, defaultAggregationName, []);

    addChildAggregation(aggregationChildren, defaultAggregationName, mSettings.children);
    Object.keys(metadataAggregations).forEach(function (aggregationName) {
      if (aggregationChildren !== null && aggregationChildren !== void 0 && aggregationChildren.hasOwnProperty(aggregationName) && aggregationChildren[aggregationName].length > 0) {
        aggregationString.push("<".concat(namespaceAlias, ":").concat(aggregationName, ">\n\t\t\t\t\t\t").concat(writeChildren(aggregationChildren[aggregationName]), "\n\t\t\t\t\t</").concat(namespaceAlias, ":").concat(aggregationName, ">"));
      }

      if (mSettings.hasOwnProperty(aggregationName)) {
        propertiesString.push("".concat(aggregationName, "='").concat(JSON.stringify(mSettings[aggregationName]), "'"));
      }
    });
    return "<".concat(tagName, " xmlns:").concat(namespaceAlias, "=\"").concat(namespace.join("."), "\" ").concat(propertiesString.join(" "), ">").concat(aggregationString.join(""), "</").concat(tagName, ">");
  };

  return jsx;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzeC50cyJdLCJuYW1lcyI6WyJ3cml0ZUNoaWxkcmVuIiwidmFsIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsImFkZENoaWxkQWdncmVnYXRpb24iLCJhZ2dyZWdhdGlvbkNoaWxkcmVuIiwiYWdncmVnYXRpb25OYW1lIiwiY2hpbGQiLCJ1bmRlZmluZWQiLCJ0cmltIiwibGVuZ3RoIiwicHVzaCIsImZvckVhY2giLCJzdWJDaGlsZCIsIk9iamVjdCIsImtleXMiLCJjaGlsZEtleSIsImpzeCIsInR5cGUiLCJtU2V0dGluZ3MiLCJtZXRhZGF0YSIsImdldE1ldGFkYXRhIiwibmFtZXNTcGxpdCIsImdldE5hbWUiLCJzcGxpdCIsIm1ldGFkYXRhUHJvcGVydGllcyIsImdldEFsbFByb3BlcnRpZXMiLCJtZXRhZGF0YUFnZ3JlZ2F0aW9ucyIsImdldEFsbEFnZ3JlZ2F0aW9ucyIsIm5hbWVzcGFjZSIsInNsaWNlIiwibmFtZSIsIm5hbWVzcGFjZUFsaWFzIiwidGFnTmFtZSIsInByb3BlcnRpZXNTdHJpbmciLCJhZ2dyZWdhdGlvblN0cmluZyIsImRlZmF1bHRBZ2dyZWdhdGlvbk5hbWUiLCJnZXREZWZhdWx0QWdncmVnYXRpb25OYW1lIiwicHJvcGVydHlOYW1lIiwiaGFzT3duUHJvcGVydHkiLCJjaGlsZHJlbiIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7Ozs7OztBQVVBLE1BQU1BLGFBQWEsR0FBRyxVQUFTQyxHQUFULEVBQWlDO0FBQ3RELFFBQUlDLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixHQUFkLENBQUosRUFBd0I7QUFDdkIsYUFBT0EsR0FBRyxDQUFDRyxJQUFKLENBQVMsRUFBVCxDQUFQO0FBQ0EsS0FGRCxNQUVPO0FBQ04sYUFBT0gsR0FBUDtBQUNBO0FBQ0QsR0FORDs7QUFRQSxNQUFNSSxtQkFBbUIsR0FBRyxVQUFTQyxtQkFBVCxFQUFtQ0MsZUFBbkMsRUFBNERDLEtBQTVELEVBQXdFO0FBQ25H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QyxlQUFwQyxLQUF3REQsbUJBQW1CLENBQUNDLGVBQUQsQ0FBbkIsQ0FBcUNJLE1BQXJDLEdBQThDLENBQTFHLEVBQTZHO0FBQzVHeUIsUUFBQUEsaUJBQWlCLENBQUN4QixJQUFsQixZQUNLcUIsY0FETCxjQUN1QjFCLGVBRHZCLDRCQUVLUCxhQUFhLENBQUNNLG1CQUFtQixDQUFDQyxlQUFELENBQXBCLENBRmxCLDJCQUdNMEIsY0FITixjQUd3QjFCLGVBSHhCO0FBS0E7O0FBQ0QsVUFBSWEsU0FBUyxDQUFDb0IsY0FBVixDQUF5QmpDLGVBQXpCLENBQUosRUFBK0M7QUFDOUM0QixRQUFBQSxnQkFBZ0IsQ0FBQ3ZCLElBQWpCLFdBQXlCTCxlQUF6QixlQUE2Q21DLElBQUksQ0FBQ0MsU0FBTCxDQUFnQnZCLFNBQUQsQ0FBbUJiLGVBQW5CLENBQWYsQ0FBN0M7QUFDQTtBQUNELEtBWEQ7QUFZQSxzQkFBVzJCLE9BQVgsb0JBQTRCRCxjQUE1QixnQkFBK0NILFNBQVMsQ0FBQzFCLElBQVYsQ0FBZSxHQUFmLENBQS9DLGdCQUF1RStCLGdCQUFnQixDQUFDL0IsSUFBakIsQ0FBc0IsR0FBdEIsQ0FBdkUsY0FBcUdnQyxpQkFBaUIsQ0FBQ2hDLElBQWxCLENBQ3BHLEVBRG9HLENBQXJHLGVBRU04QixPQUZOO0FBR0EsR0F6Q0Q7O1NBMENlaEIsRyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFuYWdlZE9iamVjdE1ldGFkYXRhIH0gZnJvbSBcInNhcC91aS9iYXNlXCI7XG5cbnR5cGUgQ29udHJvbFByb3BlcnR5TmFtZXM8VD4gPSB7XG5cdFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgc3RyaW5nIHwgYm9vbGVhbiB8IEZ1bmN0aW9uIHwgbnVtYmVyIHwgdW5kZWZpbmVkIHwgc3RyaW5nW10gPyBuZXZlciA6IEs7XG59W2tleW9mIFRdO1xudHlwZSBDb250cm9sUHJvcGVydGllczxUPiA9IFBhcnRpYWw8UmVjb3JkPENvbnRyb2xQcm9wZXJ0eU5hbWVzPFQ+LCBKU1guRWxlbWVudD4+O1xudHlwZSBOb25Db250cm9sUHJvcGVydGllczxUPiA9IFBhcnRpYWw8T21pdDxULCBDb250cm9sUHJvcGVydHlOYW1lczxUPj4+O1xudHlwZSBDb250cm9sV2l0aE1ldGFkYXRhID0ge1xuXHRnZXRNZXRhZGF0YSgpOiBNYW5hZ2VkT2JqZWN0TWV0YWRhdGE7XG59O1xuZXhwb3J0IHR5cGUgV3JhcHBlZENvbnRyb2w8VD4gPSAobVNldHRpbmdzOiBOb25Db250cm9sUHJvcGVydGllczxUPiAmIHsgY2hpbGRyZW4/OiBKU1guRWxlbWVudCB8IENvbnRyb2xQcm9wZXJ0aWVzPFQ+IH0pID0+IEpTWC5FbGVtZW50O1xuXG5jb25zdCB3cml0ZUNoaWxkcmVuID0gZnVuY3Rpb24odmFsOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG5cdFx0cmV0dXJuIHZhbC5qb2luKFwiXCIpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB2YWw7XG5cdH1cbn07XG5cbmNvbnN0IGFkZENoaWxkQWdncmVnYXRpb24gPSBmdW5jdGlvbihhZ2dyZWdhdGlvbkNoaWxkcmVuOiBhbnksIGFnZ3JlZ2F0aW9uTmFtZTogc3RyaW5nLCBjaGlsZDogYW55KSB7XG5cdGlmIChjaGlsZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGlmICghYWdncmVnYXRpb25DaGlsZHJlblthZ2dyZWdhdGlvbk5hbWVdKSB7XG5cdFx0YWdncmVnYXRpb25DaGlsZHJlblthZ2dyZWdhdGlvbk5hbWVdID0gW107XG5cdH1cblx0aWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJzdHJpbmdcIiAmJiBjaGlsZC50cmltKCkubGVuZ3RoID4gMCkge1xuXHRcdGFnZ3JlZ2F0aW9uQ2hpbGRyZW5bYWdncmVnYXRpb25OYW1lXS5wdXNoKGNoaWxkKTtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkKSkge1xuXHRcdGNoaWxkLmZvckVhY2goc3ViQ2hpbGQgPT4ge1xuXHRcdFx0YWRkQ2hpbGRBZ2dyZWdhdGlvbihhZ2dyZWdhdGlvbkNoaWxkcmVuLCBhZ2dyZWdhdGlvbk5hbWUsIHN1YkNoaWxkKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRPYmplY3Qua2V5cyhjaGlsZCkuZm9yRWFjaChjaGlsZEtleSA9PiB7XG5cdFx0XHRhZGRDaGlsZEFnZ3JlZ2F0aW9uKGFnZ3JlZ2F0aW9uQ2hpbGRyZW4sIGNoaWxkS2V5LCBjaGlsZFtjaGlsZEtleV0pO1xuXHRcdH0pO1xuXHR9XG59O1xuXG5jb25zdCBqc3ggPSBmdW5jdGlvbjxUPihcblx0dHlwZTogQ29udHJvbFdpdGhNZXRhZGF0YSxcblx0bVNldHRpbmdzOiBOb25Db250cm9sUHJvcGVydGllczxUPiAmIHsgY2hpbGRyZW4/OiBKU1guRWxlbWVudCB8IENvbnRyb2xQcm9wZXJ0aWVzPFQ+IH1cbik6IHN0cmluZyB7XG5cdGNvbnN0IG1ldGFkYXRhID0gdHlwZS5nZXRNZXRhZGF0YSgpO1xuXHRjb25zdCBuYW1lc1NwbGl0ID0gbWV0YWRhdGEuZ2V0TmFtZSgpLnNwbGl0KFwiLlwiKTtcblxuXHRjb25zdCBtZXRhZGF0YVByb3BlcnRpZXM6IHsgbmFtZTogc3RyaW5nIH1bXSA9IChtZXRhZGF0YS5nZXRBbGxQcm9wZXJ0aWVzKCkgYXMgdW5rbm93bikgYXMgeyBuYW1lOiBzdHJpbmcgfVtdO1xuXHRjb25zdCBtZXRhZGF0YUFnZ3JlZ2F0aW9uczogeyBuYW1lOiBzdHJpbmcgfVtdID0gKG1ldGFkYXRhLmdldEFsbEFnZ3JlZ2F0aW9ucygpIGFzIHVua25vd24pIGFzIHsgbmFtZTogc3RyaW5nIH1bXTtcblxuXHRjb25zdCBuYW1lc3BhY2UgPSBuYW1lc1NwbGl0LnNsaWNlKDAsIC0xKTtcblx0Y29uc3QgbmFtZSA9IG5hbWVzU3BsaXRbbmFtZXNTcGxpdC5sZW5ndGggLSAxXTtcblx0Y29uc3QgbmFtZXNwYWNlQWxpYXMgPSBuYW1lc3BhY2VbbmFtZXNwYWNlLmxlbmd0aCAtIDFdO1xuXHRjb25zdCB0YWdOYW1lID0gYCR7bmFtZXNwYWNlQWxpYXN9OiR7bmFtZX1gO1xuXHRjb25zdCBwcm9wZXJ0aWVzU3RyaW5nOiBzdHJpbmdbXSA9IFtdO1xuXHRjb25zdCBhZ2dyZWdhdGlvblN0cmluZzogc3RyaW5nW10gPSBbXTtcblx0Y29uc3QgZGVmYXVsdEFnZ3JlZ2F0aW9uTmFtZSA9IG1ldGFkYXRhLmdldERlZmF1bHRBZ2dyZWdhdGlvbk5hbWUoKTtcblx0T2JqZWN0LmtleXMobWV0YWRhdGFQcm9wZXJ0aWVzKS5mb3JFYWNoKHByb3BlcnR5TmFtZSA9PiB7XG5cdFx0aWYgKG1TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XG5cdFx0XHRwcm9wZXJ0aWVzU3RyaW5nLnB1c2goYCR7cHJvcGVydHlOYW1lfT1cIiR7KG1TZXR0aW5ncyBhcyBhbnkpW3Byb3BlcnR5TmFtZV19XCJgKTtcblx0XHR9XG5cdH0pO1xuXHRjb25zdCBhZ2dyZWdhdGlvbkNoaWxkcmVuOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG5cdFx0W2RlZmF1bHRBZ2dyZWdhdGlvbk5hbWVdOiBbXVxuXHR9O1xuXHRhZGRDaGlsZEFnZ3JlZ2F0aW9uKGFnZ3JlZ2F0aW9uQ2hpbGRyZW4sIGRlZmF1bHRBZ2dyZWdhdGlvbk5hbWUsIG1TZXR0aW5ncy5jaGlsZHJlbik7XG5cdE9iamVjdC5rZXlzKG1ldGFkYXRhQWdncmVnYXRpb25zKS5mb3JFYWNoKGFnZ3JlZ2F0aW9uTmFtZSA9PiB7XG5cdFx0aWYgKGFnZ3JlZ2F0aW9uQ2hpbGRyZW4/Lmhhc093blByb3BlcnR5KGFnZ3JlZ2F0aW9uTmFtZSkgJiYgYWdncmVnYXRpb25DaGlsZHJlblthZ2dyZWdhdGlvbk5hbWVdLmxlbmd0aCA+IDApIHtcblx0XHRcdGFnZ3JlZ2F0aW9uU3RyaW5nLnB1c2goXG5cdFx0XHRcdGA8JHtuYW1lc3BhY2VBbGlhc306JHthZ2dyZWdhdGlvbk5hbWV9PlxuXHRcdFx0XHRcdFx0JHt3cml0ZUNoaWxkcmVuKGFnZ3JlZ2F0aW9uQ2hpbGRyZW5bYWdncmVnYXRpb25OYW1lXSl9XG5cdFx0XHRcdFx0PC8ke25hbWVzcGFjZUFsaWFzfToke2FnZ3JlZ2F0aW9uTmFtZX0+YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0aWYgKG1TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhZ2dyZWdhdGlvbk5hbWUpKSB7XG5cdFx0XHRwcm9wZXJ0aWVzU3RyaW5nLnB1c2goYCR7YWdncmVnYXRpb25OYW1lfT0nJHtKU09OLnN0cmluZ2lmeSgobVNldHRpbmdzIGFzIGFueSlbYWdncmVnYXRpb25OYW1lXSl9J2ApO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBgPCR7dGFnTmFtZX0geG1sbnM6JHtuYW1lc3BhY2VBbGlhc309XCIke25hbWVzcGFjZS5qb2luKFwiLlwiKX1cIiAke3Byb3BlcnRpZXNTdHJpbmcuam9pbihcIiBcIil9PiR7YWdncmVnYXRpb25TdHJpbmcuam9pbihcblx0XHRcIlwiXG5cdCl9PC8ke3RhZ05hbWV9PmA7XG59O1xuZXhwb3J0IGRlZmF1bHQganN4O1xuIl19