/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/fe/test/Utils","./TemplatePage","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/VMBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/builder/KPIBuilder","sap/fe/test/api/FooterActionsBase","sap/fe/test/api/FooterAssertionsBase","sap/fe/test/api/HeaderActionsLR","sap/fe/test/api/HeaderAssertionsLR","sap/fe/test/api/KPICardAssertions"],function(U,T,O,a,F,b,V,c,K,d,e,H,f,g){"use strict";function h(I){return"fe::table::"+I+"::LineItem";}function i(E){return"fe::Chart::"+E+"::Chart";}function _(o,p){return F.create(o).hasId(p);}function L(p,A){var s=p.appId,C=p.componentId,j=p.contextPath,E=j?j.substring(1).replace("/","::"):p.entitySet,k=s+"::"+C,S="fe::table::"+E+"::LineItem",l="fe::Chart::"+E+"::Chart",m="fe::FilterBar::"+E,n=m+"::FilterFieldValueHelp::",r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),I="fe::TabMultipleMode",P="fe::ListReport",A=Array.isArray(arguments[1])?arguments[1]:Array.prototype.slice.call(arguments,1);return T.apply(T,[k,{actions:{onTable:function(t){var o;if(t){o=!U.isOfType(t,String)?h(t.property):t;}else{o=S;}return this._onTable({id:o});},onChart:function(v){var o;if(v){o=!U.isOfType(v,String)?i(v.property):v;}else{o=l;}return this._onChart({id:o});},onFilterBar:function(){return this._onFilterBar({id:m});},onHeader:function(){return new H(_(this,P),{id:P});},iCollapseExpandPageHeader:function(o){return this._iCollapseExpandPageHeader(o);},iExecuteActionOnDialog:function(t){return a.create(this).hasType("sap.m.Button").hasProperties({text:t}).isDialogElement().doPress().description("Pressing dialog button '"+t+"'").execute();},iClickLinkWithText:function(t){return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).doPress().description("Navigating via link '"+t+"'").execute();},iOpenIconTabWithTitle:function(N){return a.create(this).hasId(I).has(a.Matchers.aggregation("items",a.Matchers.properties({text:N}))).doPress().description("Selecting Icon Tab "+N).execute();},iSaveVariant:function(v,o,q){var t=U.parseArguments([String,Boolean,Boolean],arguments),u=V.create(this).hasId("fe::PageVariantManagement");if(t[0]){u.doSaveAs(v,o,q).description(U.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'","Page Variant",v,!!o,!!q));}else{u.doSave().description(U.formatMessage("Updating current variant for '{0}'","Page Variant"));}return u.execute();},iSelectVariant:function(v){return V.create(this).hasId("fe::PageVariantManagement").doSelectVariant(v).description(U.formatMessage("Selecting variant '{1}' from '{0}'","Page Variant",v)).execute();},iOpenKPICard:function(t){return K.create(this).clickKPITag(t).description("Opening card for KPI '"+t+"'").execute();}},assertions:{onTable:function(t){if(!t){t={id:S};}else{var o=!U.isOfType(t,String)?t.property:t;t={id:h(o)};}return this._onTable(t);},onChart:function(v){var o;if(v){o=!U.isOfType(v,String)?i(v.property):v;}else{o=l;}return this._onChart({id:o});},onFilterBar:function(){return this._onFilterBar({id:m});},onHeader:function(){return new f(_(this,P),{id:P});},onKPICard:function(){return new g(K.create(this));},iSeeTheMessageToast:function(t){return this._iSeeTheMessageToast(t);},iSeeFilterFieldsInFilterBar:function(N,o){if(o){return a.create(this).hasId(m).check(function(q){return(q.getAggregation("layout").isA("sap.fe.core.controls.filterbar.VisualFilterContainer")&&q.getAggregation("layout").getFilterFields().length===N);}).description("Seeing filter bar with "+N+" filter fields").execute();}return a.create(this).hasId(m).hasAggregationLength("filterItems",N).description("Seeing filter bar with "+N+" filter fields").execute();},iSeeTableCellWithActions:function(o,q,B){return a.create(this).hasType("sap.m.ColumnListItem").has(a.Matchers.bindingPath(o)).has(function(t){var u=t.getCells()[q];if(u.isA("sap.fe.macros.MacroAPI")){u=u.getContent();}return u.getMetadata().getElementName()==="sap.m.Button"&&u.getText()===B;}).description("Inline Action is present in the table cell with the Text "+B).execute();},iSeeLinkWithText:function(t){return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).description("Seeing link with text '"+t+"'").execute();},iSeeQuickViewMoreLinksButton:function(){return a.create(this).isDialogElement(true).hasType("sap.m.Button").has(a.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).description("The 'More Links' button found").execute();},iSeeFlpLink:function(D){return a.create(this).hasType("sap.ui.mdc.link.PanelListItem").isDialogElement(true).hasProperties({text:D}).description("FLP link with text '"+D+"' is present").execute();},iSeeHeaderPinnableToggle:function(v){var o=v?"visible":"hidden";return a.create(this).hasType("sap.f.DynamicPageHeader").hasProperties({pinnable:v}).description("The Page Header Pinnable Toggle is "+o).execute();},iSeeContactPopoverWithAvatarImage:function(o){return a.create(this).hasType("sap.ui.mdc.link.Panel").check(function(q){var t=q.some(function(u){return u.src===o;});return t===false;},true).description("Seeing Contact Card with Avatar Image in ListReport").execute();},iSeeLabelWithText:function(t){return a.create(this).hasType("sap.m.Label").hasProperties({text:t}).description("Not Seeing label with text '"+t+"'").execute();},iSeeQuickViewTitleWithText:function(t){return a.create(this).hasType("sap.ui.mdc.link.Panel").check(function(o){var q=o.some(function(u){return u.text===t;});return q===false;},true).description("Seeing QuickView with Title in ListReport").execute();},iSeeSummaryOfAppliedFilters:function(){var o;a.create(this).hasId(m).mustBeVisible(false).do(function(q){o=q.getAssignedFiltersText().filtersText;}).execute();return a.create(this).hasType("sap.f.DynamicPageTitle").has(function(D){return D.getSnappedContent()[0].getText()===o;}).description("The correct text on the collapsed filterbar is displayed").execute();},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(r.getText("C_TRANSACTION_HELPER_OBJECT_PAGE_DELETE_TOAST_SINGULAR"));},iSeePageTitle:function(t){return a.create(this).hasType("sap.f.DynamicPageTitle").hasAggregationProperties("heading",{text:t}).description("Seeing title '"+t+"'").execute();},iSeeVariantTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId("fe::PageVariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMFilterBarTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId(m+"::VariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMTableTitle:function(t,o){var q=o?h(o):S;return a.create(this).hasType("sap.m.Title").hasId(q+"::VM-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeVariantModified:function(o,q){var t;if(q){t=m+"::VariantManagement-modified";}else{t="fe::PageVariantManagement-modified";}o=o===undefined?true:o;if(o){return a.create(this).hasType("sap.m.Label").hasId(t).hasProperties({text:"*"}).description("Seeing variant state as 'modified'").execute();}else{return a.create(this).hasType("sap.m.Label").check(function(u){return!u.some(function(v){return v.getId()===t;});},true).description("Seeing variant state as 'not modified'").execute();}},iSeePageVM:function(o){return F.create(this).hasId("fe::PageVariantManagement").hasState(o).description(U.formatMessage("Seeing page VM with state '{0}'",o)).execute();},iSeeControlVMFilterBar:function(){return a.create(this).hasId(m+"::VariantManagement").description("Seeing control VM - FilterBar").execute();},iSeeDraftIndicator:function(){return a.create(this).hasType("sap.m.Link").hasProperties({text:r.getText("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_DRAFT_OBJECT")}).description("Draft indicator is visible").execute();},iSeeDraftIndicatorLocked:function(u){var t=r.getText("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_LOCKED_OBJECT_WITH_OWNER_INFO",[u]);return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).description("Draft indicator is visible and displays '"+t+"'").execute();},iSeeIconTabWithProperties:function(o){return(a.create(this).hasId(I).has(a.Matchers.aggregationMatcher("items",a.Matchers.properties(o))).description(U.formatMessage("Seeing Icon Tab with properties '{0}'",o)).execute());},iSeeNumOfOperators:function(o,q){return a.create(this).hasId(n+o+"-DCP").doOnChildren(a.create(this).hasAggregationLength("items",q)).description("Seeing a value list of condition operators with "+q+" items.").execute();},iCheckValueForFieldInCreateDialog:function(o,v,q){return b.create(this).isDialogElement().hasId(o).hasValue(v).hasProperties({required:!!q}).description(U.formatMessage("Seeing Create dialog parameter '{0}' with value '{1}'",o,v)).execute();},iSeeKPI:function(t,o){var D="Seeing KPI '"+t+"'";if(o){D+=" with properties "+JSON.stringify(o);}return K.create(this).checkKPITag(t,o).description(D).execute();},iSeeKPICard:function(){return K.create(this).checkKPICard().description("Seeing KPI Card").execute();}}}].concat(A));}return L;});
