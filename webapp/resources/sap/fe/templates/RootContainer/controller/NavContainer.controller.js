/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/model/json/JSONModel","./RootContainerBaseController","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/ViewState","sap/m/Link","sap/m/MessagePage","sap/m/MessageBox"],function(J,B,C,V,L,M,a){"use strict";return B.extend("sap.fe.templates.RootContainer.controller.NavContainer",{viewState:V.override({applyInitialStateOnly:function(){return false;},adaptBindingRefreshControls:function(c){var v=this.getView(),o=v.getController();c.push(o._getCurrentPage(v));},adaptStateControls:function(s){var v=this.getView(),c=v.getController();s.push(c._getCurrentPage(v));},onRestore:function(){var v=this.getView(),n=v.byId("appContent");var i=n.getModel("internal");var p=i.getProperty("/pages");for(var c in p){i.setProperty("/pages/"+c+"/restoreStatus","pending");}},onSuspend:function(){var v=this.getView(),n=v.byId("appContent");var p=n.getPages();p.forEach(function(P){var t=C.getTargetView(P);var c=t&&t.getController();if(c&&c.viewState&&c.viewState.onSuspend){return c.viewState.onSuspend();}});}}),onContainerReady:function(){var v=this.getView(),p=this._getCurrentPage(v);return p.then(function(c){var t=C.getTargetView(c);return C.restoreView(t);});},_getCurrentPage:function(v){return new Promise(function(r){var n=v.byId("appContent");var c=n.getCurrentPage();if(c&&c.getController&&c.getController().isPlaceholder&&c.getController().isPlaceholder()){c.getController().attachEventOnce("targetPageInsertedInContainer",function(e){var T=e.getParameter("targetpage");var t=C.getTargetView(T);r(t!==v&&t);});}else{var t=C.getTargetView(c);r(t!==v&&t);}});},_getNavContainer:function(){return this.getView().getContent()[0];},isFclEnabled:function(){return false;},_scrollTablesToLastNavigatedItems:function(){},displayMessagePage:function(e,p){var n=this._getNavContainer();if(!this.oMessagePage){this.oMessagePage=new M({showHeader:false,icon:"sap-icon://message-error"});n.addPage(this.oMessagePage);}this.oMessagePage.setText(e);if(p.technicalMessage){this.oMessagePage.setCustomDescription(new L({text:p.description||p.technicalMessage,press:function(){a.show(p.technicalMessage,{icon:a.Icon.ERROR,title:p.title,actions:[a.Action.OK],defaultAction:a.Action.OK,details:p.technicalDetails||"",contentWidth:"60%"});}}));}else{this.oMessagePage.setDescription(p.description||"");}n.to(this.oMessagePage.getId());}});},true);
