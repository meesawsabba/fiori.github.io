/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/model/odata/v4/AnnotationHelper","sap/ui/base/ManagedObject","sap/fe/macros/CommonHelper"],function(O,M,C){"use strict";var A={getElementBinding:function(p){var n=O.getNavigationPath(p);if(n){return"{path:'"+n+"'}";}else{return"{path: ''}";}},checkDraftState:function(a){if(a["@com.sap.vocabularies.Common.v1.DraftRoot"]&&a["@com.sap.vocabularies.Common.v1.DraftRoot"]["EditAction"]){return true;}else{return false;}},getSwitchToActiveVisibility:function(a){if(this.checkDraftState(a)){return"{= (${ui>/editMode} === 'Editable') && !${ui>createMode} && %{DraftAdministrativeData/DraftIsCreatedByMe} }";}else{return false;}},getSwitchToDraftVisibility:function(a){if(this.checkDraftState(a)){return"{= !(${ui>/editMode} === 'Editable') && !${ui>createMode} && (${HasDraftEntity} && %{DraftAdministrativeData/DraftIsCreatedByMe}) }";}else{return false;}},_findAction:function(c,a){var o;if(c&&c.length){o=c.find(function(h){return h.type===a;});}return o;},getDeleteCommandExecutionEnabled:function(c){var d=A._findAction(c,"Secondary");return d?d.enabled:"true";},getDeleteCommandExecutionVisible:function(c){var d=A._findAction(c,"Secondary");return d?d.visible:"true";},getEditCommandExecutionVisible:function(c){var e=A._findAction(c,"Primary");return e?e.visible:"true";},getEditCommandExecutionEnabled:function(c){var e=A._findAction(c,"Primary");return e?e.enabled:"true";},getEditAction:function(e){var p=e.getPath(),a=e.getObject(p+"@");var d=a.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftRoot");var s=a.hasOwnProperty("@com.sap.vocabularies.Session.v1.StickySessionSupported");var b;if(d){b=e.getObject(p+"@com.sap.vocabularies.Common.v1.DraftRoot/EditAction");}else if(s){b=e.getObject(p+"@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction");}return!b?b:p+"/"+b;},isReadOnlyFromStaticAnnotations:function(a,f){var c,i,r;if(a["@Org.OData.Core.V1.Computed"]){c=a["@Org.OData.Core.V1.Computed"].Bool?a["@Org.OData.Core.V1.Computed"].Bool=="true":true;}if(a["@Org.OData.Core.V1.Immutable"]){i=a["@Org.OData.Core.V1.Immutable"].Bool?a["@Org.OData.Core.V1.Immutable"].Bool=="true":true;}r=c||i;if(f){r=r||f=="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly";}if(r){return false;}else{return true;}},isReadOnlyFromDynamicAnnotations:function(f){var i;if(f){if(M.bindingParser(f)){i="$"+f+" === '1'";}}if(i){return"{= "+i+"? false : true }";}else{return true;}},getExpressionForMicroChartTitlePress:function(c,m,s){if(c){if((c["targetOutbound"]&&c["targetOutbound"]["outbound"])||(c["targetOutbound"]&&c["targetOutbound"]["outbound"]&&c["targetSections"])){return(".handlers.onDataPointTitlePressed($controller, ${$source>/},'"+JSON.stringify(m)+"','"+c["targetOutbound"]["outbound"]+"','"+s+"' )");}else if(c["targetSections"]){return".handlers.navigateToSubSection($controller, '"+JSON.stringify(c["targetSections"])+"')";}else{return undefined;}}},getMicroChartTitleAsLink:function(c){if(c&&(c["targetOutbound"]||(c["targetOutbound"]&&c["targetSections"]))){return"External";}else if(c&&c["targetSections"]){return"InPage";}else{return"None";}},getGroupIdFromConfig:function(c,a,d){var o=c[a],b=["Heroes","Decoration","Workers","LongRunners"],g=d;if(o&&o.requestGroupId&&b.some(function(e){return e===o.requestGroupId;})){g="$auto."+o.requestGroupId;}return g;},getBindingWithGroupIdFromConfig:function(c,k){var g=A.getGroupIdFromConfig(c,k),b;if(g){b="{ path : '', parameters : { $$groupId : '"+g+"' } }";}return b;},doesFieldGroupContainOnlyOneMultiLineDataField:function(f){return f&&f.length===1&&!!f[0].isValueMultilineText;},getVisibleExpressionForBreadcrumbs:function(v){return v.showBreadCrumbs&&v.fclEnabled!==undefined?"{fclhelper>/breadCrumbIsVisible}":v.showBreadCrumbs;},getShareButtonVisibility:function(v){var s="!${ui>createMode}";if(v.fclEnabled){s="${fclhelper>/showShareIcon} && "+s;}return"{= "+s+" }";},getVisiblityOfHeaderFacet:function(a,f){return(A.isReadOnlyFromStaticAnnotations(a,f)&&A.isReadOnlyFromDynamicAnnotations(f));},getPressExpressionForDelete:function(e){var d="${$view>/getBindingContext}",t="${$view>/#fe::ObjectPage/getHeaderTitle/getExpandedHeading/getItems/1/getText}",D="${$view>/#fe::ObjectPage/getHeaderTitle/getExpandedContent/0/getItems/0/getText}";var p={title:t,entitySetName:C.addSingleQuotes(e),description:D};return C.generateFunction(".editFlow.deleteDocument",d,C.objectToString(p));},getPressExpressionForEdit:function(d,e,h){var E=C.addSingleQuotes(d&&d.Action),D=d&&d.InvocationGrouping&&d.InvocationGrouping["$EnumMember"],i=D==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";var p={contexts:"${$view>/getBindingContext}",entitySetName:C.addSingleQuotes(e),invocationGrouping:C.addSingleQuotes(i),model:"${$source>/}.getModel()",label:C.addSingleQuotes(d&&d.Label),isNavigable:h&&h.isNavigable,defaultValuesExtensionFunction:h&&h.defaultValuesExtensionFunction?"'"+h.defaultValuesExtensionFunction+"'":undefined};return C.generateFunction(".handlers.onCallAction","${$view>/}",E,C.objectToString(p));},getPressExpressionForFooterAnnotationAction:function(d,e,h){var a=C.addSingleQuotes(d&&d.Action),D=d&&d.InvocationGrouping&&d.InvocationGrouping["$EnumMember"],i=D==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";var p={contexts:"${$view>/#fe::ObjectPage/}.getBindingContext()",entitySetName:C.addSingleQuotes(e),invocationGrouping:C.addSingleQuotes(i),model:"${$source>/}.getModel()",label:C.addSingleQuotes(d&&d.Label),isNavigable:h&&h.isNavigable,defaultValuesExtensionFunction:h&&h.defaultValuesExtensionFunction?"'"+h.defaultValuesExtensionFunction+"'":undefined};return C.generateFunction(".handlers.onCallAction","${$view>/}",a,C.objectToString(p));},getStashableHBoxBinding:function(c,h){if(h&&h.Facet&&h.Facet.targetAnnotationType==="DataPoint"){return A.getBindingWithGroupIdFromConfig(c,h.Facet.targetAnnotationValue);}},getPressExpressionForLink:function(c,m){if(c){if(c["targetOutbound"]&&c["targetOutbound"]["outbound"]){return(".handlers.onDataPointTitlePressed($controller, ${$source>}, "+JSON.stringify(m)+","+JSON.stringify(c["targetOutbound"]["outbound"])+")");}else if(c["targetSections"]){return".handlers.navigateToSubSection($controller, '"+JSON.stringify(c["targetSections"])+"')";}else{return undefined;}}}};return A;},true);
