/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/fe/macros/table/delegates/TableDelegate","sap/fe/macros/DelegateUtil","sap/fe/core/formatters/ValueFormatter","sap/fe/macros/ResourceModel"],function(T,D,V,R){"use strict";var G="sap_fe_AnalyticalTableDelegate_groupHeaderFormatterMap";var A=Object.assign({},T,{_setCachedFormatInfos:function(t,f){if(t instanceof window.Element){return;}D.setCustomData(t,G,f);},_getCachedFormatInfos:function(t){if(t instanceof window.Element){return null;}return D.getCustomData(t,G);},fetchPropertyExtensions:function(t){var c=this._getAggregatedPropertyMap(t);return Promise.resolve(c||{});},fetchProperties:function(t){var c=this.getColumnsFor(t);var f={};c.forEach(function(C){if(C.textArrangement){var d=c.find(function(o){return o.name===C.textArrangement.textProperty;});if(d){f[C.name]={mode:C.textArrangement.mode,valueProperty:C.relativePath,descriptionProperty:d.relativePath,label:C.label};}}});this._setCachedFormatInfos(t,f);return T.fetchProperties.apply(this,[t]);},fetchPropertiesForBinding:function(t){var a=this;return D.fetchModel(t).then(function(m){if(!m){return[];}return a._getCachedOrFetchPropertiesForEntity(t,D.getCustomData(t,"entityType"),m.getMetaModel(),undefined,true);});},formatGroupHeader:function(t,c,p){var f=this._getCachedFormatInfos(t),F=f&&f[p],r;if(F){var v;switch(F.mode){case"Description":v=c.getProperty(F.descriptionProperty);break;case"DescriptionValue":v=V.formatWithBrackets(c.getProperty(F.descriptionProperty),c.getProperty(F.valueProperty));break;case"ValueDescription":v=V.formatWithBrackets(c.getProperty(F.valueProperty),c.getProperty(F.descriptionProperty));break;}r=R.getText("M_TABLE_GROUP_HEADER_TITLE",[F.label,v]);}return r;}});return A;},false);
