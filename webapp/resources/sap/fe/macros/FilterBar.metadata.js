/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["./MacroMetadata","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/MetaModelConverter","sap/fe/core/TemplateModel","sap/fe/core/helpers/ModelHelper","sap/fe/core/CommonUtils","sap/base/Log"],function(M,F,a,T,b,C,L){"use strict";return M.extend("sap.fe.macros.FilterBar",{name:"FilterBar",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",publicName:"FilterBar",fragment:"sap.fe.macros.FilterBar",metadata:{stereotype:"xmlmacro",designtime:"sap/fe/macros/FilterBar.designtime",properties:{selectionFields:{type:"sap.ui.model.Context"},metaPath:{type:"sap.ui.model.Context",isPublic:true},contextPath:{type:"sap.ui.model.Context",isPublic:true},id:{type:"string",isPublic:true},_applyIdToContent:{type:"boolean",defaultValue:false},variantBackreference:{type:"string"},hideBasicSearch:{type:"boolean"},enableFallback:{type:"boolean",defaultValue:false},showAdaptFiltersButton:{type:"boolean",defaultValue:true},p13nMode:{type:"sap.ui.mdc.FilterBarP13nMode[]",defaultValue:"Item,Value"},useSemanticDateRange:{type:"boolean",defaultValue:true},liveMode:{type:"boolean",defaultValue:false},_valueList:{type:"sap.ui.model.Context",required:false},filterConditions:{type:"string",required:false},suspendSelection:{type:"boolean",defaultValue:false},showDraftEditState:{type:"boolean",defaultValue:false},toggleControlId:{type:"string"},initialLayout:{type:"string",defaultValue:"compact"}},events:{search:{type:"function",isPublic:true},filterChanged:{type:"function",isPublic:true}}},create:function(p,c,s){var o=p.contextPath;if(!o){L.error("Context Path not available for FilterBar Macro.");return;}var d=o.getPath();var m=p.metaPath;var e=m&&m.getPath();var E=b.getEntitySetPath(d);var f=o.getModel();if(e&&!p.selectionFields){var v=a.getInvolvedDataModelObjects(o);var g=this.getConverterContext(v,undefined,s);var S=F.getSelectionFields(g,[],e.replace(d,""));p.selectionFields=new T(S,f).createBindingContext("/");}if(f.getObject(E+"@com.sap.vocabularies.Common.v1.DraftRoot")||f.getObject(E+"@com.sap.vocabularies.Common.v1.DraftNode")){p.showDraftEditState=true;}if(p._applyIdToContent){p._apiId=p.id+"::FilterBar";p._contentId=p.id;}else{p._apiId=p.id;p._contentId=p.id+"-content";}return p;}});});
