/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/ClassSupport","./MacroAPI"],function(C,M){"use strict";var _,a,b,c,d,f,g,h,j,k,l,m,n,q,r,s,t,u;var A=C.Association;var P=C.Property;var E=C.Event;var v=C.EventHandler;var w=C.APIClass;function x(e,p,i,o){if(!i)return;Object.defineProperty(e,p,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(o):void 0});}function y(i,e){if(!(i instanceof e)){throw new TypeError("Cannot call a class as a function");}}function z(e,p){for(var i=0;i<p.length;i++){var o=p[i];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o);}}function B(e,p,i){if(p)z(e.prototype,p);if(i)z(e,i);return e;}function D(e,i){if(typeof i!=="function"&&i!==null){throw new TypeError("Super expression must either be null or a function");}e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:true,configurable:true}});if(i)F(e,i);}function F(o,p){F=Object.setPrototypeOf||function F(o,p){o.__proto__=p;return o;};return F(o,p);}function G(e){var i=J();return function R(){var S=K(e),o;if(i){var p=K(this).constructor;o=Reflect.construct(S,arguments,p);}else{o=S.apply(this,arguments);}return H(this,o);};}function H(e,i){if(i&&(typeof i==="object"||typeof i==="function")){return i;}return I(e);}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return e;}function J(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function K(o){K=Object.setPrototypeOf?Object.getPrototypeOf:function K(o){return o.__proto__||Object.getPrototypeOf(o);};return K(o);}function L(o,e,i){if(e in o){Object.defineProperty(o,e,{value:i,enumerable:true,configurable:true,writable:true});}else{o[e]=i;}return o;}function N(e,p,i,o,R){var S={};Object.keys(o).forEach(function(T){S[T]=o[T];});S.enumerable=!!S.enumerable;S.configurable=!!S.configurable;if('value'in S||S.initializer){S.writable=true;}S=i.slice().reverse().reduce(function(S,T){return T(e,p,S)||S;},S);if(R&&S.initializer!==void 0){S.value=S.initializer?S.initializer.call(R):void 0;S.initializer=undefined;}if(S.initializer===void 0){Object.defineProperty(e,p,S);S=null;}return S;}function O(e,i){throw new Error('Decorating class property failed. Please ensure that '+'proposal-class-properties is enabled and runs after the decorators transform.');}var Q=(_=w("sap.fe.macros.FieldAPI"),a=P({type:"boolean"}),b=P({type:"boolean"}),c=P({type:"string"}),d=A({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),f=P({type:"boolean"}),g=P({type:"sap.fe.macros.FieldFormatOptions"}),h=P({type:"string"}),_(j=(k=function(e){D(Q,e);var o=G(Q);function Q(){var i;y(this,Q);for(var p=arguments.length,R=new Array(p),S=0;S<p;S++){R[S]=arguments[S];}i=o.call.apply(o,[this].concat(R));x(I(i),"editable",l,I(i));x(I(i),"readOnly",m,I(i));x(I(i),"id",n,I(i));x(I(i),"change",q,I(i));x(I(i),"ariaLabelledBy",r,I(i));x(I(i),"required",s,I(i));x(I(i),"formatOptions",t,I(i));x(I(i),"semanticObject",u,I(i));return i;}B(Q,[{key:"handleChange",value:function p(i){this.fireChange({value:this.getValue(),isValid:i.getParameter("valid")});}},{key:"onBeforeRendering",value:function U(){var p=this.getContent();if(p&&p.addAriaLabelledBy){var R=this.getAriaLabelledBy();for(var i=0;i<R.length;i++){var S=R[i];var T=p.getAriaLabelledBy()||[];if(T.indexOf(S)===-1){p.addAriaLabelledBy(S);}}}}},{key:"enhanceAccessibilityState",value:function S(i,p){var R=this.getParent();if(R&&R.enhanceAccessibilityState){R.enhanceAccessibilityState(this,p);}return p;}},{key:"getAccessibilityInfo",value:function p(){var i=this.content;return i&&i.getAccessibilityInfo?i.getAccessibilityInfo():{};}},{key:"getValue",value:function R(){var i=this.content,p;if(i.isA("sap.fe.core.controls.FieldWrapper")){p=i.getContentEdit()||[i.getContentDisplay()]||[];if(p.length===1){i=p[0];}else{throw"getting value not yet implemented for this field type";}}if(i.isA("sap.m.CheckBox")){return i.getSelected();}else if(i.isA("sap.m.Input")){return i.getValue();}else if(i.isA("sap.ui.mdc.Field")){return i.getValue();}else if(i.isA("sap.m.TextArea")){return i.getValue();}else{throw"getting value not yet implemented for this field type";}}}]);return Q;}(M),(l=N(k.prototype,"editable",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=N(k.prototype,"readOnly",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),n=N(k.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),q=N(k.prototype,"change",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),r=N(k.prototype,"ariaLabelledBy",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),s=N(k.prototype,"required",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),t=N(k.prototype,"formatOptions",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),u=N(k.prototype,"semanticObject",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),N(k.prototype,"handleChange",[v],Object.getOwnPropertyDescriptor(k.prototype,"handleChange"),k.prototype)),k))||j);return Q;},false);
