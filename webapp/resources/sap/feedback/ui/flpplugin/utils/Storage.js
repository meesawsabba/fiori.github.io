/*!
 * SAPUI5

		(c) Copyright 2009-2020 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/base/Object","./Utils","./Constants"],function(O,U,C){"use strict";return O.extend("sap.feedback.ui.flpplugin.utils.Storage",{_oLocalStorage:null,init:function(){if(U.isLocalStorageAvailable()){this._oLocalStorage=U.getLocalStorage();this._initFollowUpOptIn();this._initFollowUpOptOut();return true;}return false;},updateLastTheme:function(t){this.updateValue(C.S_STOR_LAST_THEME,t);},getLastTheme:function(){return this.getStringForKey(C.S_STOR_LAST_THEME);},_initFollowUpOptIn:function(){var f=this.getFollowUpOptIn();if(!U.isPositiveInteger(f)){this.updateValue(C.S_STOR_THEME_FOLLOWUP_OPTIN,"0");}},updateFollowUpOptIn:function(){var f=this.getFollowUpOptIn();if(U.isPositiveInteger(f)){var n=(f+1).toString();this.updateValue(C.S_STOR_THEME_FOLLOWUP_OPTIN,n);}},getFollowUpOptIn:function(){return this.getNumberForKey(C.S_STOR_THEME_FOLLOWUP_OPTIN);},_initFollowUpOptOut:function(){var f=this.getFollowUpOptOut();if(!U.isPositiveInteger(f)){this.updateValue(C.S_STOR_THEME_FOLLOWUP_OPTOUT,"0");}},updateFollowUpOptOut:function(){var f=this.getFollowUpOptOut();if(U.isPositiveInteger(f)){var n=(f+1).toString();this.updateValue(C.S_STOR_THEME_FOLLOWUP_OPTOUT,n);}},getFollowUpOptOut:function(){return this.getNumberForKey(C.S_STOR_THEME_FOLLOWUP_OPTOUT);},deleteKey:function(k){if(this._oLocalStorage&&k){this._oLocalStorage.removeItem(k);}},updateValue:function(k,v){if(this._oLocalStorage&&k&&v){this._oLocalStorage.setItem(k,v);}},_getValueForKey:function(k){if(this._oLocalStorage&&k){return this._oLocalStorage.getItem(k);}return null;},getStringForKey:function(k){return this._getValueForKey(k);},getNumberForKey:function(k){var v=this._getValueForKey(k);if(v&&U.isStringValidNumber(v)){return parseInt(v);}return null;}});});
